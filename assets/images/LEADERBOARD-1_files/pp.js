(function(){(function(){try{var x=window.localStorage;window.locStor=x}catch(j4){var x=window.locStor={};
x.setItem=function(J,o){x[J]=o};x.getItem=function(J){return x[J]};x.removeItem=function(J){delete x[J]}}}());
var b5=0,cG={};cG.auu=function(x,J){var o=p.ND[p.mV("%|xK")];if(o==null)return"XYP";var c=x.toString(16).slice(0,4),E=c+J+"aQYRDCB";
return o(E).slice(5,17)+c.split("").reverse().join("")};cG.P4=function(){var x=p.ND[p.hC("3M"+(p.tr(26)?"]K":"fa"))];
x=x[p.hC("]["+(!p.tr(28)?",":"`"))];return Math.floor(x()/1e3)};cG.tr=function(x){var J=0;for(var $=0;
$<x;$++)J+=Math.random();return J/x<Math.PI/4};cG.hC=function(x){var J="";if(!cG.tr(28))x+="-3";for(var $=0;
$<x.length;$++){var o=x.charCodeAt($);if(o<32||126<o)throw"e";J+=String.fromCharCode(32+(o-32+17+3*$)%95)}return J};
cG.mV=function(x){var J="";if(!cG.tr(28))x+="-1";for(var $=0;$<x.length;$++){var o=x.charCodeAt($);o-=32;
o+=95e4;o-=17+3*$;o=o%95;J+=String.fromCharCode(32+o)}return J};cG.dy=cG.hC("XP");cG.qT=cG.hC("XYP");
cG.nR=cG.hC("c[Y");cG.aoc=cG.hC("][`");cG.tE=cG.hC("SU_");cG.r2=cG.hC("b^L");cG.awe=cG.hC("61=");cG.rV=cG.hC("Q[M_");
cG.yA=cG.hC("WQJJ");cG.Cu=cG.hC("W^NL");cG.Rf=cG.hC("[[JJ");cG.ank=cG.hC("[[PU");cG.ih=cG.hC("^\\NT");
cG.acM=cG.hC("bQUL");cG.$M=cG.hC("bQWJ");cG.py=cG.hC("3M]K");cG.a0j=cG.hC("<M]N");cG.UX=cG.hC("][WK");
cG.dz=cG.hC("P_bTF");cG.kn=cG.hC("RXRIN");cG.$l=cG.hC("b`bRH");cG.rs=cG.hC("fUMZK");cG.a7i=cG.hC("Q[]ZRM");
cG.adx=cG.hC("WQRMKT");cG.adW=cG.hC("WUMJHN");cG.Eg=cG.hC("XR[GPE");cG.arI=cG.hC("aMWJRM");cG.hl=cG.hC("bO[OST");
cG.xn=cG.hC("cM[MHT");cG.ahQ=cG.hC("^Z5OQE");cG.k9=cG.hC("R[WLLRJ");cG.aCM=cG.hC("SU\\VOAV");cG.aej=cG.hC("XZMK[/C");
cG.vm=cG.hC("aQYRDCB");cG.BU=cG.hC("[[LGWILH");cG.M7=cG.hC("S[L[PEKN");cG.c3=cG.hC("aQOKURBL");cG.oQ=cG.hC("aQ\\VRNP?");
cG.afO=cG.hC("XZWKU(1'#");cG.aon=cG.hC("SQLUGE2, ");cG.a2j=cG.hC("]M_OJAQII");cG.x1=cG.hC("bQ]:LMBILH");
cG.ajQ=cG.hC("UU[YW#ECC8");cG.lh=cG.hC("cQaZ&OKN<BE");cG.z2=cG.hC("P\\YKQD B@@5");cG.L4=cG.hC("aQVUYE B@@5");
cG.DO=cG.hC("bQ]'WTOC9IE3");cG.aB7=cG.hC("XZ\\KUT~?=CC3");cG.So=cG.hC("R^NGWE\"F<A6<?");cG.a5M=cG.hC("VQ]+OEJ?EHrGs,");
cG.Hr=cG.hC("G95.WTM,<EF3><");cG.adL=cG.hC("PZLKVTLL&F:5468");cG.o1=cG.hC("PPM+YEKN#=DB06*4");function dG(x){this.f0={};
this.LQ=0;this.yi();if(x!=!0)window.__kb=this}dG.fN=null;dG.prototype.yi=function(){var x=navigator.keyboard;
if(x&&window.top==window.self)x.getLayoutMap().then(function(J){dG.fN=J})};dG.prototype.a3s=function(x){var J={shiftKey:dG.uJ,altKey:dG.Zj,ctrlKey:dG._k};
for(var o in J){var c=x[o],E=J[o],b=this.S(E);if(!c&&b){for(var $=0;$<E.hD.length;$++)this.nG(E.hD[$])}}};
dG.prototype.km=function(x){this.LQ++;this.f0[x]=!0};dG.prototype.nG=function(x){this.LQ--;delete this.f0[x];
if(this.LQ<=0||dG.eW(x,dG.s6))this.reset()};dG.prototype.S=function(x){for(var $=0;$<x.hD.length;$++)if(this.f0[x.hD[$]])return!0;
return!1};dG.prototype.reset=function(){this.f0={};this.LQ=0};dG.prototype.DC=function(x){var J=this,o=J.S(dG.uJ)?10:1,c=0,E=0;
if(J.S(dG.Ef))c=-o;else if(J.S(dG.NC))c=o;else if(J.S(dG.WQ))E=-o;else if(J.S(dG.XL))E=o;var b=new ck(c,E);
if(x!=null){var l=new cW;l.rotate(x);b=l.iI(b);if(Math.abs(b.x)<Math.abs(b.y))b.x=0;else b.y=0;b.x=Math.round(b.x);
b.y=Math.round(b.y)}return b};dG.prototype.m2=function(){var x=this,J=dG.uF;for(var $=0;$<10;$++)if(x.S(J[$]))return $;
return-1};dG.eW=function(x,J){return J.hD.indexOf(x)!=-1};dG.aDz="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
dG.vV=function(x){var J=x.code;if(J=="")return!1;var o=dG.eW;if(x.altKey&&!x.shiftKey&&!x.ctrlKey){var c=dG.uF.concat([dG.l7,dG.oN,dG.Ic,dG.br]),E=!1;
for(var $=0;$<c.length;$++)if(o(J,c[$]))return!1}return dG.aDz.indexOf(J)==-1||x.shiftKey&&(J=="F5"||J=="F6")};
dG.ay0=function(x){var J=dG;if(x.ctrlKey&&(J.eW(x.code,J.l7)||J.eW(x.code,J.oN)))x.preventDefault()};
dG.fP=function(x){x.addEventListener("keydown",dG.ay0,!1)};dG.aY=function(x){if(typeof x=="string")return x;
var J=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(x==null)return"";var o=[];for(var $=0;$<x.length;
$++){var c=x[$].fm?x[$].fm:x[$];if(J&&x[$].Wn)c=x[$].Wn;o.push(c)}if(J||o.length==1)return o.join(" + ");
else{var E=o.pop();return o.join("+")+" + "+E}};dG.mq=function(x){window.__kb.yi();var J=x.code,o=dG.fN;
if(o&&o.get(J)){var c={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},E=o.get(J).toLowerCase(),b=E.charCodeAt(0);
if(97<=b&&b<=122){var l="Key"+E.toUpperCase();J=l}else if(c[E])J=c[E];return J}var c={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},E=x.key.toLowerCase(),b=E.charCodeAt(0);
if(E.length==1){if(97<=b&&b<=122){var l="Key"+E.toUpperCase();J=l}else if(c[E])J=c[E]}if(E=="control"&&J!="")J="ControlLeft";
return J};dG.Ye=0;dG.lm=function(x,J){var o=0;if(Date.now()-dG.Ye>1e3){o=J==0?100:J*10}else{if(x%10!=0)x*=10;
o=(x+J)%100}dG.Ye=Date.now();return o};dG.agt={nm:"No Touch",hD:["NoTouch"]};dG.eP={fm:"Enter",hD:["Enter","NumpadEnter"]};
dG.uJ={fm:"Shift",Wn:"\u21E7",hD:["ShiftLeft","ShiftRight"]};dG.s6={fm:"Meta",hD:["MetaLeft","MetaRight","OSLeft","OSRight"]};
dG._k={fm:"Ctrl",Wn:"\u2318",hD:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
dG.Zj={fm:"Alt",Wn:"\u2325",hD:["AltLeft","AltRight"]};dG.ab2={fm:"CtrlOrAlt",hD:dG._k.hD.concat(dG.Zj.hD)};
dG.Fh={fm:"Escape",hD:["Escape"]};dG.nw={fm:"Space",hD:["Space"]};dG.Id={fm:"Tab",hD:["Tab"]};dG.N2={fm:"Home",hD:["Home"]};
dG.aj4={fm:"End",hD:["End"]};dG.Ef={fm:"Left",hD:["ArrowLeft"]};dG.WQ={fm:"Up",hD:["ArrowUp"]};dG.NC={fm:"Right",hD:["ArrowRight"]};
dG.XL={fm:"Down",hD:["ArrowDown"]};dG.l7={fm:"+",hD:["NumpadAdd","Equal"]};dG.oN={fm:"-",hD:["NumpadSubtract","Minus"]};
dG.nH={fm:";",hD:["Semicolon"]};dG.aCg={fm:"Dead",hD:["Dead"]};dG.au4={fm:"=",hD:["Equal"]};dG.BK={fm:"Backspace",hD:["Backspace"]};
dG.OT={fm:"Delete",hD:["Delete"]};dG.ail={fm:"Backslash",hD:["Backslash","IntlBackslash"]};dG.ajz={fm:"Slash",hD:["NumpadDivide","Slash"]};
dG.aBl={fm:"Backquote",hD:["Backquote"]};dG.Ic={fm:"[",hD:["BracketLeft"]};dG.br={fm:"]",hD:["BracketRight"]};
dG.wn={fm:".",hD:["Period"]};dG.m7={fm:",",hD:["Comma"]};dG.Jd={fm:"'",hD:["Quote"]};dG.H={fm:"A",hD:["KeyA"]};
dG.gz={fm:"B",hD:["KeyB"]};dG.uA={fm:"C",hD:["KeyC"]};dG.er={fm:"D",hD:["KeyD"]};dG.E={fm:"E",hD:["KeyE"]};
dG.E6={fm:"F",hD:["KeyF"]};dG.EB={fm:"G",hD:["KeyG"]};dG.Ip={fm:"H",hD:["KeyH"]};dG.kL={fm:"I",hD:["KeyI"]};
dG.cr={fm:"J",hD:["KeyJ"]};dG.Pv={fm:"K",hD:["KeyK"]};dG.FQ={fm:"L",hD:["KeyL"]};dG.os={fm:"M",hD:["KeyM"]};
dG.V7={fm:"N",hD:["KeyN"]};dG.LY={fm:"O",hD:["KeyO"]};dG.Wa={fm:"P",hD:["KeyP"]};dG.A2={fm:"Q",hD:["KeyQ"]};
dG.iJ={fm:"R",hD:["KeyR"]};dG.Pu={fm:"S",hD:["KeyS"]};dG.Ex={fm:"T",hD:["KeyT"]};dG.KK={fm:"U",hD:["KeyU"]};
dG.iw={fm:"V",hD:["KeyV"]};dG.tO={fm:"W",hD:["KeyW"]};dG.eO={fm:"X",hD:["KeyX"]};dG.Nr={fm:"Y",hD:["KeyY"]};
dG.Mv={fm:"Z",hD:["KeyZ"]};dG.KH={fm:"0",hD:["Numpad0","Digit0"]};dG.Ar={fm:"1",hD:["Numpad1","Digit1"]};
dG.atW={fm:"2",hD:["Numpad2","Digit2"]};dG.anh={fm:"3",hD:["Numpad3","Digit3"]};dG.azg={fm:"4",hD:["Numpad4","Digit4"]};
dG.a7m={fm:"5",hD:["Numpad5","Digit5"]};dG.a6_={fm:"6",hD:["Numpad6","Digit6"]};dG.a4x={fm:"7",hD:["Numpad7","Digit7"]};
dG.anV={fm:"8",hD:["Numpad8","Digit8"]};dG.aeB={fm:"9",hD:["Numpad9","Digit9"]};dG.uF=[dG.KH,dG.Ar,dG.atW,dG.anh,dG.azg,dG.a7m,dG.a6_,dG.a4x,dG.anV,dG.aeB];
dG.a2R={fm:"F1",hD:["F1"]};dG.a7_={fm:"F2",hD:["F2"]};dG.a9t={fm:"F3",hD:["F3"]};dG.anc={fm:"FF",hD:["F4"]};
dG.vG={fm:"F5",hD:["F5"]};dG.amA={fm:"F6",hD:["F6"]};dG.aix={fm:"F7",hD:["F7"]};dG.aqP={fm:"F8",hD:["F8"]};
dG.ayu={fm:"F9",hD:["F9"]};dG.auy={fm:"F10",hD:["F10"]};dG.ame={fm:"F11",hD:["F11"]};dG.aAe={fm:"F12",hD:["F12"]};
function cg(x){this.bZ={};this.YH={};this.aaC=0;this.awP={};this.mm=[];this.anw=0;this.Rf=x;cg.KW=this}cg.alj=function(x,J){var $=0,o=cg.Pp;
while($<o.length){if((J>>>$&1)==1)break;$++}if($!=0&&cg.yb(x,[33,126])>.7)$=0;if(J==0||o[$][1]==""){if((J&15)!=0&&cg.yb(x,[33,126])>.7)$=0;
else if(J==0)$=0;else{$=0}}return o[$][1]};cg.zH=120;cg.Gj=20;cg.cols=16;cg.WX=function(x){var J=x.name.postScriptName;
if(J==null)return null;return J.replace(/ /g,"-")};cg.uj=function(x){var J=x.name,o=J.typoFamilyName,c=J.typoSubfamilyName,E=o&c,b=E?o:J.fontFamily,l=E?c:J.fontSubfamily;
if(l==null)l="Regular";var i=cg.avR,F=b.toLowerCase();for(var $=0;$<i.length;$++){if(i[$]=="roman")continue;
if(F.endsWith(" "+i[$])||F.endsWith("-"+i[$])){var k=b.length-i[$].length,U=b.slice(k);b=b.slice(0,k-1);
if(U!=""){if(l=="Regular"||l==b+" Regular")l=U;else l=U+" "+l}break}}var I="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var $=0;$<I.length;$++)if(b.startsWith(I[$])){var U=b.slice(I[$].length);b=I[$];if(U.startsWith(" ")||U.startsWith("-"))U=U.slice(1);
if(U!=""){if(l=="Regular")l=U;else l=U+" "+l}break}var V={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},u=V[cg.WX(x)];
if(u)l=u;return[b,l]};cg.prototype.aed=function(x){var J=this.o4();for(var o in J)if(J[o][0]==x)this.wv(o)};
cg.prototype.ai2=function(){return Object.keys(this.YH).length!=0};cg.prototype.wv=function(x,J){if(this.bZ[x])return this.bZ[x];
if(this.YH[x])return null;var o=null,c=this.o4();if(c[x]!=null)o=c[x][5];if(o==null){var E=cg.vm[x];
if(E==null){var b="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),l=x.toLowerCase(),i=0;
if(l.indexOf("sans")!=-1)i=0;else if(l.indexOf("serif")!=-1)i=4;var F=l.indexOf("bold")!=-1||l.indexOf("-black")!=-1,k=l.indexOf("italic")!=-1||l.indexOf("oblique")!=-1||l.endsWith("-it");
if(F&&k)i+=3;else if(k)i+=2;else if(F)i+=1;E=b[i]}if(J!=null&&J>128)E=this.jO(J,E);if(this.awP[x]==null){this.awP[x]=1;
var U=Date.now()-this.aaC>2e3?2e3:0;this.aaC=Date.now();alert(x+" \u27A1 "+E,U)}return this.wv(E,J)}this.YH[x]="a";
if(o=="--loc")cg.eQ.load(x);else this.Rf(o)};cg.prototype.jO=function(x,J,o){var c=this.bZ[J];if(c&&Typr.U.codeToGlyph(c,x)!=0)return J;
var E=this.o4(),b=cg.a0T(x),l=b[0];if(E[J]&&(E[J][3]&l)==0){if(o)for(var $=0;$<o.length;$++){var i=o[$].Name,F=E[i];
if(F&&(F[3]&l)!=0)return i}var i=cg.Pp[b[1]][4];if(E[i])return i}return J};cg.a0T=function(x){var J=cg.Pp,o=[0];
for(var $=0;$<J.length;$++){var c=J[$][2];for(var E=0;E<c.length;E+=2)if(c[E]<=x&&x<=c[E+1]){o[0]+=1<<$;
o.push($)}}if(o.length==1)o.push(0);return o};cg.prototype.aBw=function(){var x=this.mm,J=x[0],o=x.length-1;
alert(h9.get([22,6,0])+" "+J+(o==0?"":", ... ("+o+")")+" "+h9.get([23,0])+".",1500);this.mm=[]};cg.prototype.akI=function(x,J){if(J!=!0){this.mm.push(x.name.fullName);
clearTimeout(this.anw);this.anw=setTimeout(this.aBw.bind(this),300)}var o=cg.WX(x),c=this.o4(),E=c[o],b=cg.qw(x);
if(E==null){b.bv=cg.dG(x,b);this.pd(b)}delete this.YH[o];this.bZ[o]=x};cg.afM=function(){var x=cg.Pp,J=[];
for(var $=0;$<x.length;$++)J.push(x[$][0]);return J};cg.dG=function(x,J){var o=document.createElement("canvas"),c=o.getContext("2d"),E=o.width=cg.zH,b=o.height=cg.Gj,l=cg.Gj*1.2/x.head.unitsPerEm;
c.translate(4,cg.Gj*.9);c.scale(l,-l);c.fillStyle="#000000";var i=Typr.U.shape(x,cg.alj(x,J[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(x,i),c);c.fill();var F=c.getImageData(0,0,E,b).data.buffer,k=hR.rb("PNG").Jy([[F,0]],E,b,[1]);
return"data:image/png;base64,"+hR.EA(k)};cg.Pp=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
cg.qw=function(x,J,o){var c=x.name,F=0;if(cg.WX(x)==null){console.log(x);throw"No postScriptName!"}var E=cg.Pp,b=[];
for(var $=0;$<E.length;$++){var l=E[$][2],i=E[$][3];b[$]=cg.yb(x,l)>i?1:0}for(var $=0;$<b.length;$++)F+=b[$]<<$;
var k=cg.uj(x);return[k[0],k[1],cg.WX(x),F,o,J]};cg.yb=function(x,J){var o=0,c=0;for(var E=0;E<J.length;
E+=2){for(var b=J[E];b<=J[E+1];b++){var l=Typr.U.codeToGlyph(x,b);if(l==0)c++;else o++}}return o/(o+c)};
cg.aiP=function(x,J){if(x[2]<J[2])return-1;if(x[2]>J[2])return 1;return 0};cg.asc=function(x,J){if(x[5]=="fs/"+x[2]+".otf")x[5]="";
else if(x[5]=="gf/"+x[2]+".otf")x[5]="a";if(x[2]==(x[0]+"-"+x[1]).replace(/\s/g,"")){x[2]=""}else if(x[2]==x[0].replace(/\s/g,"")){x[2]="a"}if(J){if(x[0]==J[0])x[0]="";
if(x[1]==J[1])x[1]="";if(x[3]==J[3])x[3]="";if(x[4]==J[4])x[4]=""}return x.join(",")};cg.a7e=function(x,J){x=x.split(",");
if(x[0]=="")x[0]=J[0];if(x[1]=="")x[1]=J[1];if(x[3]=="")x[3]=J[3];else x[3]=parseInt(x[3]);if(x[4]=="")x[4]=J[4];
else x[4]=parseInt(x[4]);if(x[2]=="")x[2]=(x[0]+"-"+x[1]).replace(/\s/g,"");else if(x[2]=="a")x[2]=x[0].replace(/\s/g,"");
if(x[5]=="")x[5]="fs/"+x[2]+".otf";else if(x[5]=="a")x[5]="gf/"+x[2]+".otf";return x};cg.vm={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
cg.prototype.o4=function(){if(FNTS.map==null){var x=FNTS.list,J=[];for(var $=0;$<x.length;$++){J[$]=cg.a7e(x[$],J[$-1]);
J[$].cD=$;this.pd(J[$])}}return FNTS.map};cg.prototype.pd=function(x){var J=x[0],o=x[1],c=x[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[x[2]]=x;if(FNTS.mapFS==null)FNTS.mapFS={};var E=FNTS.mapFS[J+"---"+o];FNTS.mapFS[J+"---"+o]=x;
if(FNTS.mapSub==null)FNTS.mapSub={};var b=FNTS.mapSub[J];if(b==null)b=FNTS.mapSub[J]=[];var l=b.indexOf(o);
if(l==-1)b.push(o);else b[l]=o};cg.axx=function(x,J){return cg.bB(x)-cg.bB(J)};cg.bB=function(x){x=x.toLowerCase();
var J=cg.afA(x)+(cg.aiD(x)<<1);if(x.indexOf("cond")==-1)J+=1<<25;return J};cg.afA=function(x){return x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1?1:0};
cg.avR="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
cg.awx=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
cg.aiD=function(x){var J=cg.awx,o=-1,c=-1;for(var $=0;$<J.length;$++){var E=J[$];if(E instanceof Array)for(var b=0;
b<E.length;b++){var l=E[b];if(x.indexOf(l)!=-1&&(o==-1||c<l.length)){o=$;c=l.length}}else if(x.indexOf(E)!=-1&&(o==-1||c<E.length)){o=$;
c=E.length}}if(o==-1)o=8;return o};cg.q0=function(x,J){var o=1e9,c=null,E=cg.bB(J);for(var $=0;$<x.length;
$++){var b=Math.abs(cg.bB(x[$])-E);if(b<o){o=b;c=x[$]}}return c};cg.prototype.NI=function(x,J){this.o4();
return FNTS.mapFS[x+"---"+J]};cg.prototype.Od=function(x){this.o4();return FNTS.mapSub[x]};cg.prototype.Ww=function(){this.o4();
return FNTS.mapSub};cg.eQ={j9:null,Qf:null};cg.eQ.Rc=function(x){cg.eQ.Qf=x;var J=window.locStor.localFonts;
if(J){J=hR.r7(J);J=pako.inflate(new Uint8Array(J));J=cg.eQ.j9=JSON.parse(D.cA(J));cg.eQ.bK()}};cg.eQ.load=function(x){var J=window.queryLocalFonts,o=cg.eQ.j9.toPSN,c;
for(var bz in o)if(o[bz].indexOf(x)!=-1)c=bz;J({postscriptNames:[c]}).then(cg.eQ.NA)};cg.eQ.bK=function(){var x=cg.KW,J=cg.eQ.j9,o=J.imap,c=x.o4();
for(var E in o){if(c[E])continue;var b=o[E].slice(0);b.bv=J.tmap[E];x.pd(b)}};cg.eQ.dA=function(){var x=cg.eQ.j9,J=pako.deflate(D.Ey(JSON.stringify(x))),o=hR.EA(J.buffer);
console.log(o.length);window.locStor.localFonts=o};cg.eQ.U9=function(){var x=cg.eQ.j9;return x!=null&&x.added};
cg.eQ.po=function(x,J,o){var c=cg.eQ.j9;if(c){c.added=!c.added;cg.eQ.dA();cg.eQ.bK();return}var E=window.queryLocalFonts;
if(E==null){alert("This feature is not available in your web browser :(");o();return}E().then(cg.eQ.NA.bind({apP:J,a3P:o}))};
cg.eQ.NA=async function(x){if(x.length==0){alert("You didn't allow us to access your fonts.");this.a3P();
return}if(x.length==1){var J=await x[0].blob();J=await J.arrayBuffer();iG.od({name:"file.otf"},J,cg.eQ.Qf);
return}var o=new ko(L.E.N,!0),b=!1;o.data={d:L.H.oa,mC:"Loading local fonts ..."};cg.eQ.Qf.c(o);var c=Date.now(),E=cg.eQ.j9;
if(E==null)E=cg.eQ.j9={toPSN:{},imap:{},tmap:{},added:!0};var l={};for(var $=0;$<x.length;$++){var i=x[$],F=i.postscriptName;
l[F]=!0;if(E.toPSN[F])continue;var J=await i.blob();J=await J.arrayBuffer();if(hR.M1(J)!="otf")continue;
var k=Typr.parse(J),U=[];for(var V=0;V<k.length;V++){var u=k[V],N=cg.WX(u);U.push(N);if(E.imap[N])continue;
var e=E.imap[N]=cg.qw(u,"--loc",0);E.tmap[N]=cg.dG(u,e)}E.toPSN[F]=U;b=!0}for(var F in E.toPSN)if(l[F]==null){var B=E.toPSN[F];
delete E.toPSN[F];for(var $=0;$<B.length;$++){delete E.imap[B[$]];delete E.tmap[B[$]]}b=!0}if(b){console.log(Date.now()-c);
cg.eQ.dA();cg.eQ.bK();this.apP()}else console.log("no change");var o=new ko(L.E.N,!0);o.data={d:L.H.Ew,mC:"Loading local fonts ..."};
cg.eQ.Qf.c(o);alert("Local fonts loaded!")};var j4={SA:0,H2:null,Pe:null,Y_:null,Aq:null,GO:null,kv:!0,Gr:0,Kb:!1};
j4.event=function(x){var J=new XMLHttpRequest;J.open("GET","/papi/event.php?id="+x+"&rnd="+Math.random());
J.send()};j4.I4=function(){var x=j4.c6();if(x==null)return null;var J=p.tr(24)?" ":"",o=p.ND[p.mV("Uu,"+J)];
o=o[p.mV(J+"$/")];var c=j4.aA(1,999);if(c&&j4.zr(c)*50>o()/20)return[0,c];var E=x.inTeams;if(E)for(var $=0;
$<E.length;$++)if(E[$][1]*50>o()/20)return[1,E[$]];return null};j4.bM=function(){return j4.avI()!=null};
j4.L6=function(){return j4.zr(j4.aA(1e3,999999999))};j4.zr=function(x){return x==null?0:x[0]+x[1]*24*60*60};
j4.aA=function(x,J){var o=j4.c6(),c=o.pmnts,E=0,b=null;if(c==null||c.length==0)return 0;for(var $=0;
$<c.length;$++){var l=c[$],i=j4.zr(l);if(x<=l[2]&&l[2]<=J)if(E<i){E=i;b=l}}return b};j4.c6=function(){return j4.GO};
j4.Rc=function(x){window.addEventListener("message",j4.atc,!1);setInterval(j4.cu,5e3);if(j4.bM()&&navigator.onLine){j4.H2=x;
j4.kK()}else setTimeout(x,1)};j4.cu=function(){if(j4.bM()&&j4.Kb){j4.qb(j4.Nj());j4.Kb=!1}};j4.zn=function(x){j4.H2=x;
var J="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);j4.Y_=window.open(J,"_blank")};
j4.apa=function(){var x=window.locStor;x.removeItem(j4.SA+"_uid");x.removeItem(j4.SA+"_provider");x.removeItem(j4.SA+"_token");
j4.GO=null};j4.atc=function(x){if(x.data instanceof ArrayBuffer||x.data instanceof Object)return;if(x.data.charAt(0)!="{")return;
var J=JSON.parse(x.data);if(J.prms==null)return;var o=J.prms.split(",");if(o[0]=="papi_logged_in"){var c=window.locStor;
c[j4.SA+"_uid"]=o[1];j4.cS(o[2]);c[j4.SA+"_provider"]=o[3];j4.Y_.close();j4.kK()}if(o[0]=="payment_complete"){j4.Aq.close();
j4.kK()}};j4.avI=function(){var x=window.locStor[j4.SA+"_token"];if(x!=null&&Date.now()*.001+10<parseInt(x.split("-")[0]))return x;
return null};j4.cS=function(x){var J=window.locStor[j4.SA+"_token"];if(J!=null&&parseInt(x.split("-")[0])<parseInt(J.split("-")[0]))return;
window.locStor[j4.SA+"_token"]=x;clearTimeout(j4.Gr);j4.Gr=setTimeout(j4.ao9,Math.min(1e9,parseInt(x.split("-")[0])*1e3-Date.now()-20*1e3))};
j4.pA=function(x,J,o,c){if(!navigator.onLine)throw"a";var E=new XMLHttpRequest;E.open("POST","https://www.photopea.com/papi/record_new.php",!0);
E.onload=o;var b=j4.Qi(0)+"&read=3&tuid="+x+"&tid="+J;if(c)b+="&tpl="+encodeURIComponent(c);E.setRequestHeader("Content-type","application/x-www-form-urlencoded");
E.send(b)};j4.ao9=function(){if(!navigator.onLine)throw"a";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=j4.a1V;var J=j4.Qi(0)+"&read=2";x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(J)};j4.kK=function(){if(!navigator.onLine)throw"b";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=j4.apu;var J=j4.Qi(0)+"&read=1";x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(J)};j4.qb=function(x){if(!navigator.onLine)throw"c";var J=new XMLHttpRequest;J.open("POST","https://www.photopea.com/papi/record_new.php",!0);
J.onload=j4.aoU;var o=j4.Qi(0)+"&read=0&score="+(x.tpl?1:0)+"&spublic="+j4.kv+"&record="+encodeURIComponent(JSON.stringify(x));
J.setRequestHeader("Content-type","application/x-www-form-urlencoded");J.send(o)};j4.apu=function(x){var J=JSON.parse(x.target.response);
if(J.error){}else{j4.GO=J.user;var o=j4.Nj(),c=J.record;if(J.record){j4.kv=J.spublic;j4.VX(c)}else if(o)j4.qb(o)}j4.cS(J.token);
if(j4.H2){j4.H2();j4.H2=null}if(j4.Pe){j4.Pe();j4.Pe=null}};j4.a1V=function(x){var J=JSON.parse(x.target.response);
j4.cS(J.token)};j4.aoU=function(x){var J=JSON.parse(x.target.response);j4.cS(J.token);if(j4.Pe)j4.kK()};
j4.Qi=function(x){return"app="+x+"&uid="+window.locStor[j4.SA+"_uid"]+"&token="+window.locStor[j4.SA+"_token"]};
j4.f7=function(){return j4.Nj()};j4.T9=function(x,J){j4.VX(x);j4.Kb=!0;if(J){j4.Pe=J;j4.cu()}};j4.Nj=function(){var x=window.locStor[j4.SA+"_stateLocal"],J;
if(x==null)return null;try{J=JSON.parse(x)}catch(j4){return null}return J};j4.VX=function(x){var J=JSON.stringify(x);
window.locStor[j4.SA+"_stateLocal"]=J};j4.order=function(x,J,o){j4.H2=o;var c="https://www.photopea.com/papi/order.php?ptype="+J+"&param="+x+"&uid="+window.locStor[j4.SA+"_uid"]+"&token="+window.locStor[j4.SA+"_token"];
j4.Aq=window.open(c,"_blank")};j4.a4$=function(x,J){j4.H2=J;var o="https://www.photopea.com/papi/insertKey.php?key="+x+"&uid="+window.locStor[j4.SA+"_uid"]+"&token="+window.locStor[j4.SA+"_token"];
j4.Aq=window.open(o,"_blank")};var h9={};h9.hM=0;h9.CL={};h9.rj=function(x){var J=LNG.tables,o=J[x];
if(o==null)o=J[0];if(typeof o=="string"){o=J[x]=h9.E$(o)}return o};h9.E$=function(x){var J=[],o=0,c=0,E=[],b=x.length;
while(c!=b){var l=x[c];if(l=="["){J.push(E);E=[];c=o=c+1}else if(l=="]"){E.push(o==c?null:x.substring(o,c));
var i=E;E=J.pop();E.push(i);c=o=c+1}else if(l==";"){if(x[c-1]!="]")E.push(o==c?null:x.substring(o,c));
c=o=c+1}else c++}return E};h9.get=function(x){if(typeof x=="string")return x;var J=typeof x[0];if(J=="number"){for(var $=1;
$<x.length;$++)if(typeof x[$]!="number"){console.log(x);throw"e"}return h9.fw(x)}var o=h9.get(x[0]);
for(var $=1;$<x.length;$++){var c=h9.get(x[$]),E=o.indexOf("VAR"+($-1));o=o.slice(0,E)+c+o.slice(E+4)}return o};
h9.fw=function(x){var J=JSON.stringify(x);if(h9.CL[J]!=null)return h9.CL[J];var o=h9.rj(0),c=h9.rj(h9.hM),E=h9.iF(x,c);
if(E==null)E=h9.iF(x,o);return E};h9.iF=function(x,J){for(var $=0;$<x.length;$++){J=J[x[$]];if(J==null)return null;
else if(typeof J=="string")break}if(J instanceof Array)J=J[0];return J.split("::")[0]};h9.agq=function(){var x=function(o,c){var E=o.code,b=c.code;
if(E=="en")return-1;if(b=="en")return 1;var l=navigator.languages,i=l.indexOf(E)!=-1,F=l.indexOf(b)!=-1;
if(i&&F)return E>b?1:-1;if(i)return-1;if(F)return 1;return E>b?1:-1},J=LNG.langs.slice(0);J.sort(x);
return J};h9.mD=function(x,J){h9.hM=x;if(LNG.tables[x])J();else{var o=new XMLHttpRequest;o.open("GET","code/lang/"+x+".js");
o.onreadystatechange=function(){LNG.tables[x]=o.responseText;J()};o.send()}};h9.GX=function(x,J){for(var o=0;
o<2;o++){var c=!1;for(var $=0;$<LNG.langs.length;$++)if(LNG.langs[$].code==x){h9.mD($,J);c=!0}if(c)break;
x=x.split("-")[0]}};h9.$W=function(){return LNG.langs[h9.hM].code};h9.aAf=function(x){for(var $=0;$<x.length;
$+=2)if(x[$+1].indexOf(">")==-1)h9.CL[JSON.stringify(x[$])]=x[$+1]};h9.a3z=function(x){var J=-1,o=LNG.langs;
for(var $=0;$<o.length;$++)if(o[$].code==x)J=$;return J};var j1={Gq:!1,Dm:!1,vO:!1,b4:null};j1.bk=function(){return p.ND[cG.nR]!=p.ND[cG.acM]};
j1.q7=function(){var x=p.ND[cG.M7],J=x[cG.rV],o=0,c=cG.DO,E=p.hC("PP\\KQSB"),b=p.hC("Y_5UDDB>idge"),l=x[cG.So](cG.tE);
l[c](cG.dy,E);l[c](cG.$l,p.hC("fUMZKyqifDIhJ0*+&$-OG?<y~>"));J[cG.z2](l);l=x[cG.a5M](E);if(l==null){o=2}else{if(!J[p.hC("R[WZDIKM")](l)){o=3}else if(Math.round(l[p.hC("VQ](RUK>@B8p71*03m}x'")]()[cG.rs]-500)>5){o=4}J[cG.L4](l)}if(j1.Dm)o=5;
if(j1.vO)o=6;return o};j1.a1P=function(x){var J=p.mV("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),o={method:"HEAD",mode:"no-cors"},c=new Request(J,o);
fetch(c).then(function(E){return E}).then(function(E){var b=p.mV("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),c=new Request(b);
fetch(c).then(function(E){E.text().then(function(l){x(l.length<2200)})}).catch(function(l){j1.Dm=!0;
console.clear();x(!0)})}).catch(function(E){j1.Dm=!0;console.clear();x(!0)})};j1.al8=function(){var x=p.hC("UU[YW#ECC8"),J=p.hC("VQ](RUK>@B8p71*03m}x'"),o=p.hC("WQRMKT"),c=this.a9x[x][J]();
if(c[o]<4){j1.vO=!0;this.abq(!0)}};j1.abj=function(){var x=p.ND._cwY,J=p.ND[cG.x1],o="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",c=String.fromCharCode(32);
x(p.hC(o)+c+c+j1.q7());if(!j4.I4())J(j1.abj,Math.round(Math.PI*1e4))};j1.T$=function(x){var J=p.ND[cG.M7],o=J[cG.So](x[0]);
for(var c in x[1]){if(c=="txt")o[cG.lh]=x[1][c];else o[cG.DO](c,x[1][c])}return o};j1.abw=function(x,J,o,c){p.LX(o);
var E=p.ND[cG.M7],b=p.mV(" u.$%\"86<"),l=p.mV("!#c$,&"),i=p.ND[b][l],F=p.ND[p.mV(" u.$%\"86<")][p.mV("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!j1.bk()&&!j1.q7()&&i&&x*J>300*300&&!F){var k=E[p.hC("VQ]+OEJ?EHDoD{&)l|&z")](cG.yA)[0],U=JSON.parse(p.mV("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var $=0;$<U.length;$++){var I=j1.T$(U[U.length-1-$]);k[cG.aB7](I,k[cG.at2])}var V=p.mV("p}&$2a(:"),u=p.mV("'#!}i0%+"),N=p.mV("ps,}$\"40"),e=p.ND.__cbu=j1.T$(JSON.parse(cG.hC("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
o[cG.z2](e);p.ND.___ggo=function(){p.ND[N](cG.o1,2,function(j,T){if(T&&j[u]==!0){if(!p.ND[V]){p.ND[V]=!0;
var a=j1.ar8.bind({bx:o,head:k,ao:J});a()}}})}}else{var B=j1.auK.bind({a9x:o,aqw:c,ao:J});B();setInterval(B,3e4)}};
j1.aBv="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
j1.auK=function(){var x=p.ND[cG.M7],J=this.a9x,o=this.aqw,c=j1.b4,E=this.ao;p.LX(J);var b=p.ND[cG.mV(" u.$%\"86<")][cG.mV("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,l=c==1?1:j1.akK(E),i=JSON.parse(cG.hC(j1.aBv)),F=x[cG.So]("a");
F.textContent=cG.hC("0PhHOO@E@B8M/-9'\"0}y");F[cG.DO](cG.Cu,cG.hC("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
F[cG.DO](cG.xn,cG.mV("pv${,,"));F[cG.DO](cG.$l,cG.hC("R[UUUyTB@H6h"));if(!b)J[cG.z2](F);for(var $=0;
$<l;$++){var k=Math.random(),U=0,I=0;while(U+i[I][0]<k){U+=i[I][0];I++}if(I==2&&Date.now()>1665160336190)I=0;
if(b)I=1;var V=i[I],u=x[cG.So](cG.qT);u[cG.DO](cG.$l,cG.hC("Ra[YRRvJF=?B0:_")+cG.hC(c==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
u[cG.DO](cG.r2,V[c]);if(V.length>3){var N=V[3]+V[3+c],F=x[cG.So]("a");F[cG.DO](cG.Cu,N);F[cG.DO](cG.xn,cG.mV("pv${,,"));
F[cG.z2](u);J[cG.z2](F)}else{u[cG.o1](cG.kn,o,!1);J[cG.z2](u)}}};j1.akK=function(x){var J=2;if(x>=3*270+30)J=3;
if(x>=4*270+30)J=4;return J};j1.arp=function(x,J){J-=30;var o=[];if(x==1){o.push(1);J-=600+10;if(J-250>0){o.push(0);
J-=250}}if(x==2){if(J-260>0){o.push(2);J-=260}if(J-260>0){o.push(3);J-=260}if(J-260>0){o.push(4);J-=260}if(J-260>0){o.push(5);
J-=260}if(J-260>0){o.push(6);J-=260}if(J-110>0){o.push(7);J-=110}if(J-60>0){o.push(8);J-=60}}return o};
j1.ar8=function(){var x=cG.z2,J=cG.DO,o=cG.o1,c=cG.vm,E=cG.$l,b=cG.r2,l=p.hC("P_bTF"),i=cG.lh,F=cG.Eg,k=p.ND[cG.M7],U=cG.So,I=cG.hl,V=p.ND.__cbu,u=this.bx,N=j1.b4,e=this.head,B=this.ao,j=p.mV("~u*\"'/P)9ADBCrlnR]"),T=[.1,.9],a=Math.random(),P=0;
while(T[P]<a&&P<T.length-1){a-=T[P];P++}var v=j1.arp(N,B);if(P==0){console.log(0);if(!j1.Gq){j1.Gq=!0;
for(var $=0;$<2;$++){var R=k[cG.So](cG.hl),y=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][$];
R[cG.DO](cG.r2,cG.mV(y));R[cG.DO](cG.dz,"");e[cG.z2](R)}var t=JSON.parse(cG.mV("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPE$UNG<D=KVoLWZU]Yk[d @&!u}v%0I&14/73E5>YY\\baLYS,tSX{<$'*t #}&\"4$-V/<6bHPQIkM_[Sg_hj'+%$+%r'7+~]+694<8J:ClRZJLRd{ 5|\"/(ym=v~,|!.*p97E=8F)ODJpt*qeY)coeivrc|%!)%t+:A4EI_cx`THwP__bZlrgJu{#+X!11HLaI4?B=EASCLuP\\RVc_Peu|rot&=AV>ABPeO\\/XNBXWrJXXYc2^coxl|H(|z.%YS[X<Gl==DEIX! | cn4}+$ym$#>u$$%/]*/;D8HsSHFYP%!!$gr8mlt6tt{|!0XSYW;FkU47")),g=t[2]+"\n";
for(var $=0;$<v.length;$++)g+=t[0][v[$]]+"\n";var R=k[cG.So](cG.hl);R[cG.lh]=g+t[3];e[cG.z2](R);for(var $=0;
$<v.length;$++){var H=k[cG.So](cG.tE);H[cG.DO](cG.dy,t[1][v[$]]);if(v[$]!=0)H[cG.DO](cG.$l,t[4][N-1]);
H[cG.$l].marginBottom="10px";var R=k[cG.So](cG.hl),g=cG.mV("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+t[1][$]+"'); });";
R[cG.lh]=g;H[cG.z2](R);u[cG.z2](H)}}}else{console.log(1);var R=k[U](I);R[J](b,p.mV("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
R[J](cG.dz,"");e[x](R);var _=JSON.parse(p.mV("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbA"));
for(var $=0;$<v.length;$++){var H=k[U](p.hC("SU_"));H[J](cG.dy,_[v[$]]);H[J](E,j);u[x](H)}}if(V)u[x](V)};
j1.abr=function(x){clearInterval(j1.BQ);j1.Hz=x;if(j1.a6t==null){j1.a6t=!0;var J=p.ND[cG.M7],o=J[cG.rV],c=J[p.hC("VQ]+OEJ?EHDoD{&)l|&z")](cG.yA)[0],E=[1/12,1/12,10/12],b=Math.random(),l=0;
while(E[l]<b&&l<E.length-1){b-=E[l];l++}j1.aBj=l;console.log("===",l);if(l==0){var i=J[cG.So](cG.tE);
i[cG.DO](cG.dy,"applixir_vanishing_div");i[cG.DO](cG.adW,"");var F=J[cG.So](cG.Eg);F[cG.DO](cG.dy,"applixir_parent");
i[cG.z2](F);o[cG.z2](i);i[cG.DO](cG.$l,"z-index:1000");var k=J[cG.So](cG.hl);k[cG.DO](cG.r2,"//cdn.applixir.com/applixir.sdk3.0m.js");
o[cG.z2](k)}else if(l==1){var k=J[cG.So](cG.hl);k[cG.DO](cG.r2,"//dsh7ky7308k4b.cloudfront.net/publishers/photopeacom_rewarded.min.js");
c[cG.z2](k);var k=J[cG.So](cG.hl);k[cG.lh]="window.pgHB = window.pgHB || {que: []};";c[cG.z2](k)}else if(l==2){var k=J[cG.So](cG.hl);
k[cG.DO](cG.r2,"//www.googletagservices.com/tag/js/gpt.js");c[cG.z2](k);var k=J[cG.So](cG.hl);k[cG.lh]="window.googletag = window.googletag || {cmd: []};";
c[cG.z2](k)}}var U=window.confirm("You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account to remove ads.");
if(!U)return;j1.BQ=setInterval(j1.a9w,50)};j1.a9w=function(){var x=j1.aBj;if(x==0){if(window.invokeApplixirVideoUnit==null)return;
var J={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:j1.aoC,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(J)}else if(x==1){window.pgHB.que.push(function(){window.pgHB.requestWebRewardedAd({slotId:"rewarded-ad",callback:function(c,E){if(c)setTimeout(j1.Hz,100)}})})}else if(x==2){var o=window.googletag;
if(o==null)return;o.cmd.push(function(){var c=o.defineOutOfPageSlot("/147246189,21623892374/photopea.com_rewarded",o.enums.OutOfPageFormat.REWARDED).addService(o.pubads());
o.enableServices();o.pubads().addEventListener("rewardedSlotReady",function(E){E.makeRewardedVisible()});
o.pubads().addEventListener("rewardedSlotGranted",function(){setTimeout(j1.Hz,100)});o.display(c)})}clearInterval(j1.BQ)};
j1.aoC=function(x){if(x=="ad-watched")setTimeout(j1.Hz,100);console.log(x)};var hH={fC:-2,lU:{expires_at:0},HP:[]};
hH.OD=function(x){if(x)hH.HP.splice(0,0,x);if(hH.fC==-2){hH.fC=-1;var J=document.createElement("script");
J.src="//apis.google.com/js/client.js";document.body.appendChild(J);J.onload=function(o){setTimeout(function(){hH.fC=0;
hH.OD()},100)}}if(hH.fC==-1)return;if(hH.fC==1)return;if(hH.lU.expires_at>Date.now()*.001+30){while(hH.HP.length>0)hH.HP.pop()()}else{if(hH.fC==0)hH.fC=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:hH.fC==2?!1:!0},hH.ajA)})}};
hH.ajA=function(x){if(x&&!x.error){hH.lU=x;hH.fC=!1;hH.OD()}else if(hH.fC==1){hH.fC=2;hH.OD()}else alert("Error: "+x.error)};
hH.jc=function(){return"access_token="+hH.lU.access_token+"&token_type="+hH.lU.token_type};hH.o6=function(){return hH.lU.token_type+" "+hH.lU.access_token};
function ck(x,J){if(!x)x=0;if(!J)J=0;this.x=x;this.y=J}ck.prototype.add=function(x){return new ck(this.x+x.x,this.y+x.y)};
ck.prototype.clone=function(){return new ck(this.x,this.y)};ck.prototype.n6=function(x){this.x=x.x;this.y=x.y};
ck.prototype.U5=function(x){return this.x==x.x&&this.y==x.y};ck.prototype.normalize=function(x){var J=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=x/J;this.y*=x/J};ck.prototype.offset=function(x,J){this.x+=x;this.y+=J};ck.prototype.DQ=function(x,J){this.x=x;
this.y=J};ck.prototype._u=function(x){return new ck(this.x-x.x,this.y-x.y)};ck.q6=function(x,J){return ck.aiL(x.x,x.y,J.x,J.y)};
ck.yh=function(x,J,o){return new ck(x.x+o*(J.x-x.x),x.y+o*(J.y-x.y))};ck.ajY=function(x,J){return new ck(x*Math.cos(J),x*Math.sin(J))};
ck.aiL=function(x,J,o,c){return Math.sqrt((o-x)*(o-x)+(c-J)*(c-J))};ck.u8={};ck.WU={};ck.u8.create=function(){var x=new Float32Array(4);
return x};ck.WU.create=function(x){var J=new Float32Array(16);J[0]=J[5]=J[10]=J[15]=1;if(x)ck.WU.set(x,J);
return J};ck.u8.add=function(x,J,o){o[0]=x[0]+J[0];o[1]=x[1]+J[1];o[2]=x[2]+J[2];o[3]=x[3]+J[3]};ck.u8.set=function(x,J){J[0]=x[0];
J[1]=x[1];J[2]=x[2];J[3]=x[3]};ck.WU.set=function(x,J){J[0]=x[0];J[1]=x[1];J[2]=x[2];J[3]=x[3];J[4]=x[4];
J[5]=x[5];J[6]=x[6];J[7]=x[7];J[8]=x[8];J[9]=x[9];J[10]=x[10];J[11]=x[11];J[12]=x[12];J[13]=x[13];J[14]=x[14];
J[15]=x[15]};ck.WU.multiply=function(x,J,o){var c=x[0],E=x[1],b=x[2],l=x[3],i=x[4],F=x[5],k=x[6],U=x[7],I=x[8],V=x[9],u=x[10],N=x[11],e=x[12],B=x[13],j=x[14],T=x[15],a=J[0],P=J[1],v=J[2],R=J[3];
o[0]=a*c+P*i+v*I+R*e;o[1]=a*E+P*F+v*V+R*B;o[2]=a*b+P*k+v*u+R*j;o[3]=a*l+P*U+v*N+R*T;a=J[4];P=J[5];v=J[6];
R=J[7];o[4]=a*c+P*i+v*I+R*e;o[5]=a*E+P*F+v*V+R*B;o[6]=a*b+P*k+v*u+R*j;o[7]=a*l+P*U+v*N+R*T;a=J[8];P=J[9];
v=J[10];R=J[11];o[8]=a*c+P*i+v*I+R*e;o[9]=a*E+P*F+v*V+R*B;o[10]=a*b+P*k+v*u+R*j;o[11]=a*l+P*U+v*N+R*T;
a=J[12];P=J[13];v=J[14];R=J[15];o[12]=a*c+P*i+v*I+R*e;o[13]=a*E+P*F+v*V+R*B;o[14]=a*b+P*k+v*u+R*j;o[15]=a*l+P*U+v*N+R*T;
return o};ck.WU.inverse=function(x,J){var o=x[0],c=x[1],E=x[2],b=x[3],l=x[4],i=x[5],F=x[6],k=x[7],U=x[8],I=x[9],V=x[10],u=x[11],N=x[12],e=x[13],B=x[14],j=x[15],T=o*i-c*l,a=o*F-E*l,P=o*k-b*l,v=c*F-E*i,R=c*k-b*i,y=E*k-b*F,t=U*e-I*N,g=U*B-V*N,H=U*j-u*N,_=I*B-V*e,Y=I*j-u*e,K=V*j-u*B,f=T*K-a*Y+P*_+v*H-R*g+y*t;
if(!f){return null}f=1/f;J[0]=(i*K-F*Y+k*_)*f;J[1]=(E*Y-c*K-b*_)*f;J[2]=(e*y-B*R+j*v)*f;J[3]=(V*R-I*y-u*v)*f;
J[4]=(F*H-l*K-k*g)*f;J[5]=(o*K-E*H+b*g)*f;J[6]=(B*P-N*y-j*a)*f;J[7]=(U*y-V*P+u*a)*f;J[8]=(l*Y-i*H+k*t)*f;
J[9]=(c*H-o*Y-b*t)*f;J[10]=(N*R-e*P+j*T)*f;J[11]=(I*P-U*R-u*T)*f;J[12]=(i*g-l*_-F*t)*f;J[13]=(o*_-c*g+E*t)*f;
J[14]=(e*a-N*v-B*T)*f;J[15]=(U*v-I*a+V*T)*f;return J};ck.WU.avX=function(x,J,o){var c=J[0],E=J[1];o[0]=c*x[0]+E*x[4]+x[12];
o[1]=c*x[1]+E*x[5]+x[13]};ck.WU.al$=function(x,J,o){var c=J[0],E=J[1],b=J[2],l=J[3];o[0]=x[0]*c+x[4]*E+x[8]*b+x[12]*l;
o[1]=x[1]*c+x[5]*E+x[9]*b+x[13]*l;o[2]=x[2]*c+x[6]*E+x[10]*b+x[14]*l;o[3]=x[3]*c+x[7]*E+x[11]*b+x[15]*l};
function ha(x,J,o,c){if(!x)x=0;if(!J)J=0;if(!o)o=0;if(!c)c=0;this.x=x;this.y=J;this.m=o;this.e=c}ha.prototype.P=function(){return this.m*this.e};
ha.prototype.clone=function(){return new ha(this.x,this.y,this.m,this.e)};ha.prototype.contains=function(x,J){return x>=this.x&&x<=this.x+this.m&&(J>=this.y&&J<=this.y+this.e)};
ha.prototype.GT=function(x){return this.contains(x.x,x.y)};ha.prototype.KR=function(x){return this.x<=x.x&&this.y<=x.y&&x.x+x.m<=this.x+this.m&&x.y+x.e<=this.y+this.e};
ha.prototype.n6=function(x){this.x=x.x;this.y=x.y;this.m=x.m;this.e=x.e};ha.prototype.U5=function(x){return this.x==x.x&&this.y==x.y&&this.m==x.m&&this.e==x.e};
ha.prototype.wI=function(x,J){this.x-=x;this.y-=J;this.m+=2*x;this.e+=2*J};ha.prototype.akT=function(x){this.wI(x.x,x.y)};
ha.prototype.Kc=function(x){var J=Math.max(this.x,x.x),o=Math.max(this.y,x.y),c=Math.min(this.x+this.m,x.x+x.m),E=Math.min(this.y+this.e,x.y+x.e);
if(c<J||E<o)return new ha;else return new ha(J,o,c-J,E-o)};ha.prototype.$G=function(x){if(x.y+x.e<this.y||x.x>this.x+this.m||x.y>this.y+this.e||x.x+x.m<this.x)return!1;
return!0};ha.prototype.Kx=function(){return this.m<=0||this.e<=0};ha.prototype.offset=function(x,J){this.x+=x;
this.y+=J};ha.prototype.A6=function(x){this.offset(x.x,x.y)};ha.prototype.a1F=function(){this.x=this.y=this.m=this.e=0};
ha.prototype.DQ=function(x,J,o,c){this.x=x;this.y=J;this.m=o;this.e=c};ha.prototype.k7=function(x){if(this.Kx())return x.clone();
if(x.Kx())return this.clone();var J=this.clone();J.ad5(x);return J};ha.$p=new Float32Array(2);ha.prototype.ad5=function(x){if(x.Kx())return;
if(this.Kx()){this.n6(x);return}this.IX(x.x,x.y);this.IX(x.x+x.m,x.y+x.e)};ha.prototype.IX=function(x,J){var o=Math.min(this.x,x),c=Math.min(this.y,J);
this.m=Math.max(this.x+this.m,x)-o;this.e=Math.max(this.y+this.e,J)-c;this.x=o;this.y=c};ha.prototype.arQ=function(x,J){this.x=x;
this.y=J;this.m=this.e=0};function cW(x,J,o,c,E,b){if(typeof x==="undefined"){x=1;J=0;o=0;c=1;E=0;b=0}this.V=x;
this.J=J;this.xt=o;this.Lu=c;this.Iw=E;this.s7=b}cW.prototype.z1=function(){return Math.sqrt(Math.abs(this.V*this.Lu-this.J*this.xt))};
cW.prototype.a9H=function(){var x=this,J=function(o){return Math.abs(o)<1e-9?0:o};x.V=J(x.V);x.J=J(x.J);
x.xt=J(x.xt);x.Lu=J(x.Lu);x.Iw=J(x.Iw);x.s7=J(x.s7)};cW.prototype.iI=function(x){return new ck(x.x*this.V+x.y*this.xt+this.Iw,x.x*this.J+x.y*this.Lu+this.s7)};
cW.prototype.translate=function(x,J){this.Iw+=x;this.s7+=J};cW.prototype.rotate=function(x){var J=new cW(Math.cos(x),-Math.sin(x),Math.sin(x),Math.cos(x),0,0);
this.concat(J)};cW.prototype.scale=function(x,J){var o=new cW(x,0,0,J,0,0);this.concat(o)};cW.prototype.concat=function(x){this.n6(new cW(this.V*x.V+this.J*x.xt,this.V*x.J+this.J*x.Lu,this.xt*x.V+this.Lu*x.xt,this.xt*x.J+this.Lu*x.Lu,this.Iw*x.V+this.s7*x.xt+x.Iw,this.Iw*x.J+this.s7*x.Lu+x.s7))};
cW.prototype.Mr=function(){var x=this.V*this.Lu-this.J*this.xt;this.n6(new cW(this.Lu/x,-this.J/x,-this.xt/x,this.V/x,(this.xt*this.s7-this.Lu*this.Iw)/x,(this.J*this.Iw-this.V*this.s7)/x))};
cW.prototype.clone=function(){return new cW(this.V,this.J,this.xt,this.Lu,this.Iw,this.s7)};cW.prototype.n6=function(x){this.V=x.V;
this.J=x.J;this.xt=x.xt;this.Lu=x.Lu;this.Iw=x.Iw;this.s7=x.s7};function hR(){}hR.ap={adp:"PNG JPG SVG GIF MP4 PDF".split(" "),asI:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
hR.Pg=function(x,J){var o=x.memory.buffer.byteLength;if(o<J)x.memory.grow((J-o>>>16)+1)};hR.Xe={Bb:function(x,J){fetch(x).then(function(o){return o.arrayBuffer()}).then(function(o){var c=new Uint8Array(o),E=0,F="";
if(J){E=c.length;var b={level:9},l=pako.deflateRaw(c,b),i=UZIP.deflateRaw(c,b);console.log(E,l.length,i.length);
c=l.length<i.length?l:i}for(var $=0;$<c.length;$++)F+=String.fromCharCode(c[$]);var k=btoa(F);console.log(JSON.stringify([E,k]))})},get:function(x,J){var o=BINDB[x],c=Date.now(),E=atob(o[1]),b=E.length,l=new Uint8Array(b);
for(var $=0;$<b;$++)l[$]=E.charCodeAt($);if(o[0]!=0){var i=new Uint8Array(o[0]);UZIP.inflateRaw(l,i);
l=i}if(J){var F=hR.M1(l.buffer);l=hR.rb(F).zu(l.buffer)}return l}};hR.M1=function(x){if(!(x instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var J=new Uint8Array(x),o=hR.fE,c,E=0,b=J.length-1;
if(o(J,[239,187,191]))E=3;while(E<J.length&&(J[E]==9||J[E]==10||J[E]==13||J[E]==32))E++;while(b!=0&&(J[b]==9||J[b]==10||J[b]==13||J[b]==32))b--;
if(o(J,[56,66,80,83]))c="psd";if(o(J,[6,6,237,245]))c="indd";if(o(J,[68,73,67,77],128))c="dcm";if(o(J,[102,116,121,112,109,105,102,49],4)||o(J,[102,116,121,112,97,118,105,102],4))c="avif";
if(o(J,[102,116,121,112,105,115,111,109],4))c="mp4";if(o(J,[102,116,121,112,109,112,52,50],4))c="mp4";
if(o(J,[102,116,121,112,113,116,32,32],4))c="mp4";if(o(J,[102,116,121,112,99,114,120,32],4))c="cr3";
if(o(J,[0,255,75,65]))c="afphoto";if(o(J,[67,83,70,67,72,85,78,75]))c="clip";if(o(J,[70,82,65,67]))c="frac";
if(o(J,[120]))c="pxd";if(o(J,[80,68,78,51]))c="pdn";if(o(J,[103,105,109,112,32,120,99,102,32]))c="xcf";
if(o(J,[102,105,103,45,107,105,119,105]))c="fig";if(o(J,[105,99,110,115]))c="icns";if(o(J,[137,80,78,71,13,10,26,10])){c="png";
var l=8;while(l<J.length){var i=D.s(J,l);l+=4;var F=D.it(J,l,4);l+=4;if(F=="mkTS")c="fpng";l+=i+4}}if(o(J,[87,76]))c="cdr";
if(o(J,[82,73,70,70])){var k=kq.QE(J),U=k.Ce;if(U=="WEBP")c="webp";else if(U.slice(0,3)=="CDR")c="cdr";
else c=U}if(o(J,[70,79,82,77])||o(J,[70,79,82,52])||o(J,[76,73,83,84])||o(J,[67,65,84,32])){var k=fa.QE(J),U=k.Ce;
if(U=="ILBM"||U=="CIMG"||U=="ANIM")c="ilbm";else c=U}if(o(J,[255,216,255]))c="jpg";if(o(J,[0,0,0,12,106,80,32,32]))c="jpg";
if(o(J,[48,0,1,0],4))c="jb2";if(o(J,[71,73,70,56]))c="gif";if(o(J,[0,0,0,2,121,102,113,76]))c="msh";
if(o(J,[0,0,0,3,121,102,113,76]))c="msh";if(o(J,[0,0,0,16]))c="atn";if(o(J,[0,1]))c="aco";if(o(J,[0,2]))c="aco";
if(o(J,[65,83,69,70]))c="aco";if([0,1].indexOf(J[1])!=-1&&[1,2,3,9,10,11].indexOf(J[2])!=-1&&[0,16,24,32].indexOf(J[7])!=-1)c="tga";
if(o(J,[0,2,56,66,83,76]))c="asl";if(o(J,[0,1,0,-1,0,2,0]))c="abr";if(o(J,[0,2,0,-1,0,2,0]))c="abr";
if(o(J,[0,6,0,1]))c="abr";if(o(J,[0,6,0,2]))c="abr";if(o(J,[0,7,0,2]))c="abr";if(o(J,[0,9,0,2]))c="abr";
if(o(J,[0,10,0,2]))c="abr";if(o(J,[56,66,70,83]))c="shc";if(o(J,[56,66,80,84]))c="pat";if(o(J,[56,66,71,82]))c="grd";
if(o(J,[71,73,77,80,32,71,114,97]))c="grd";if(o(J,[56,66,84,80]))c="tpl";if(o(J,[0,4,0,5]))c="acv";if(o(J,[99,117,115,104]))c="csh";
if(o(J,[0,1,0,0,0]))c="otf";if(o(J,[79,84,84,79]))c="otf";if(o(J,[116,116,99,102]))c="otf";if(o(J,[68,68,83,32]))c="dds";
if(o(J,[80,86,82,3]))c="pvr";if(o(J,[86,84,70,0]))c="vtf";if(o(J,[83,73,77,80]))c="fits";if((o(J,[0,0,1,0])||o(J,[0,0,2,0]))&&J[4]!=0)c="ico";
if(o(J,[66,77]))c="bmp";if(o(J,[40,0,0,0]))c="bmp";if(o(J,[80,49]))c="ppm";if(o(J,[80,50]))c="ppm";if(o(J,[80,51]))c="ppm";
if(o(J,[80,52]))c="ppm";if(o(J,[80,53]))c="ppm";if(o(J,[80,54]))c="ppm";if(o(J,[73,73,42,0]))c="tiff";
if(o(J,[77,77,0,42]))c="tiff";if(o(J,[73,73,85,0]))c="tiff";if(o(J,[73,73,82,83]))c="tiff";if(o(J,[73,73,82,79]))c="tiff";
if(o(J,[70,85,74,73,70,73,76,77]))c="raf";if(o(J,[112]))c="lif";if(o(J,[73,73,26,0]))c="ciff";if(o(J,[83,81,76,105]))c="sketch";
if(o(J,[80,75])){var I=UZIP.parse(x,!0);if(I["document.json"])c="sketch";else if(I.manifest)c="xd";else if(I["maindoc.xml"])c="kra";
else if(I["content/root.dat"])c="cdr";else if(I["canvas.fig"])c="fig";else if(I["manifest.json"])c="pxz";
else c="zip"}if(o(J,[123]))c="json";if(D.s(J,0)==J.length)c="icc";if(o(J,[35]))c="icc";if(o(J,[84,73,84,76],E))c="icc";
if(o(J,[76,85,84,95],E))c="icc";if(o(J,[60,63,120,109],E)){if(D.C8(J,"<look>")!=-1)c="icc";else c="svg"}if(o(J,[255,254,60,0],E))c="svg";
if(o(J,[60,115,118,103],E))c="svg";if(o(J,[60,33,100,111],E)||o(J,[60,33,68,79],E)||o(J,[60,33,45,45],E)){if(D.C8(J,"<svg")!=-1)c="svg";
else c="html"}if(o(J,[37,33])||o(J,[197,208,211,198])){if(D.C8(J,"%AI9_PrivateDataBegin")!=-1||D.C8(J,"%AI5_BeginLayer")!=-1)c="ai";
else c="eps"}if(o(J,[37,80,68,70],E)){var V=D.C8(J,"/AIMetaData ");if(V!=-1){if(D.C8(J,">>/Encrypt ",V)!=-1)c="pdf";
else c="ai"}else c="pdf"}else if(o(J,[10,69,79,70],b-3))c="dxf";if(o(J,[1,0,9,0]))c="wmf";if(o(J,[215,205,198,154]))c="wmf";
if(o(J,[1,0,0,0]))c="emf";if(o(J,[118,47,49,1]))c="exr";if(o(J,[10,10,10,10]))c="jsx";if(o(J,[77,90]))c="exe";
if(c==null&&q.raw.Cl(J.length)!=null)return"tiff";return c};hR.fE=function(x,J,o){if(o==null)o=0;for(var $=0;
$<J.length;$++)if(J[$]!=-1&&x[o+$]!=J[$])return!1;return!0};hR.rb=function(x){var J={BMP:hR.ax2,CDR:hR.d$,DDS:hR.bH,EMF:hR.PD,DXF:hR.eS,EPS:hR.CT,FIG:hR.WZ,FPNG:hR.hc,INDD:hR.Bi,GIF:hR.Sn,ICO:hR.Iv,ILBM:hR.wc,FITS:hR.pt,EXR:hR._S,JPG:hR.AZ,LIF:hR.rg,DCM:hR.aiC,PDF:hR.YN,PDN:hR.cY,PNG:hR.WT,ICNS:hR.CJ,PPM:hR.rH,PSD:hR.cH,PXD:hR.wm,PXZ:hR.iy,RAF:hR.fk,CR3:hR.hS,RAW:hR.I5,SKETCH:hR.Cb,SVG:hR.Pc,TGA:hR.Z9,AVIF:hR.azH,TIFF:hR.A5,VTF:hR.U3,WEBP:hR.jY,WMF:hR.rh,XCF:hR.OV,XD:hR.TU,KRA:hR.Wf,EXE:hR.O6,AI:hR.gp,AFPHOTO:hR.GF,CLIP:hR.K_,FRAC:hR.Yr,MP4:hR.kW};
return J[x.toUpperCase()]};hR.ZG=function($){var x=hR.ap.adp,J=hR.ap.asI,o,c=[];if($==null)o=x.concat(J);
else o=$==0?x:J;for(var $=0;$<o.length;$++)if(hR.rb(o[$]).Jy)c.push(o[$]);return c};hR.arW=function(){var x;
function J(c){var E=c.target,b=E.width,l=E.height,i=document.createElement("canvas");i.width=b;i.height=l;
var F=i.getContext("2d");F.drawImage(E,0,0);x({XO:new ha(0,0,b,l),data:F.getImageData(0,0,b,l).data.buffer})}function o(c,E,b){x=b;
var l=document.createElement("img");l.onload=J;l.src="data:"+E+";base64,"+hR.EA(c)}return o}();hR.Bg=function(x,J,o,c,E){var b=hR.jr(x,J,o,c,E),l=hR.CR(b);
return l.buffer};hR.CR=function(x){var J=atob(x.split(",").pop()),o=new Uint8Array(J.length);for(var $=0;
$<J.length;$++)o[$]=J.charCodeAt($);return o};hR.jr=function(x,J,o,c,E,b){if(!(x instanceof ArrayBuffer))throw"e";
if(c==null)c="png";if(c=="png"&&b==!0){var l=hR.rb("PNG").Jy([[x,0]],J,o);return"data:image/png;base64,"+hR.EA(l)}var i=hR.$g;
if(i==null)i=hR.$g=document.createElement("canvas");if(i.width!=J||i.height!=o){i.width=J;i.height=o}var F=i.getContext("2d"),k=new ImageData(new Uint8ClampedArray(x,0,J*o*4),J,o);
F.putImageData(k,0,0);return i.toDataURL("image/"+c,E)};hR.a9n=function(x,J,o,c,E){if(E==null)E=0;var b="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",l="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+b+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(x==1)l+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
l+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+E+")\" xlink:href=\""+J+"\" x=\""+80*o+"\" y=\""+80*c+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var i=new Uint8Array(l.length);D.D$(l,i,0);var F="data:image/svg+xml;base64,"+hR.EA(i.buffer);return{bA:F,By:new ha(0,0,128,128),FH:new ck(64,64)}};
hR.EA=function(x){var J=new Uint8Array(x),o="";for(var $=0;$<J.length;$++)o+=String.fromCharCode(J[$]);
return btoa(o)};hR.r7=function(x){var J=atob(x),o=J.length,c=new Uint8Array(o);for(var $=0;$<o;$++)c[$]=J.charCodeAt($);
return c.buffer};hR.uC=function(x){var J=[],o=[];for(var $=0;$<x.B.length;$++){var c=x.B[$];if(c.getName().slice(0,3)=="_a_"){J.push($);
o.push(c.kR())}}return[J,o]};hR.GU=function(x,J,o,c,E,b){if(o==null)o=x.m;if(c==null)c=x.e;var l=new ha(0,0,x.m,x.e),i=new cW(o/(x.m+.001),0,0,c/(x.e+.001),0,0),k;
J=J.toUpperCase();var F=hR.rb(J);if(F.gi){if(b5==0)x.or();k=F.Jy(x,o,c,E,b)}else if(b5==1){var U=x.azQ(o,c,b);
k=F.Jy([[U,0,x.yV,x.TP]],o,c,E)}else{if(E)E=E.slice(0);var I=hR.uC(x),V=I[0],u=I[1],N=x.on(),e=N&&E?E.pop():!1,B=N&&!e?N[0]:null,j=null;
if(x._w.length!=0){j=[];for(var $=0;$<x._w.length;$++)j.push(x._w[$].Dy(l))}if(V.length<2){var T=hR.Jl(x.or(),N,e,x),a;
if(o==x.m&&c==x.e)a=T.buffer;else{var P=n.Y.yo([T,l],i);a=P.buffer.buffer;if(j){var v=q.R(l.P()*4);for(var $=0;
$<j.length;$++){q.qR(j[$],v,3);var P=n.Y.yo([v,l],i),R=j[$]=q.R(P.rect.P());q.z$(P.buffer,R,3)}}}k=F.Jy([[a,0,x.yV,x.TP,j,B]],o,c,E)}else{var y=[];
for(var $=0;$<V.length;$++){var t=V[$],a;for(var g=0;g<V.length;g++)x.B[V[g]].Ut(V[g]==t);x.NT();x.W();
x.Q4();if(o==x.m&&c==x.e)a=x.or().buffer.slice(0);else{var P=n.Y.yo([x.or(),l],i);a=P.buffer.buffer}a=hR.Jl(new Uint8Array(a),N,e,x).buffer;
var H=x.B[t].getName().split(",");y.push([a,H[1]?parseInt(H[1]):100,x.yV,x.TP,j,B])}for(var $=0;$<V.length;
$++)x.B[V[$]].Ut(u[$]);x.W();x.Q4();if(E){E.push(100);var _=E.length,Y=E[_-3],K=E[_-2],f=E[_-5]/100,m=E[_-1]/100;
if(f!=1)for(var $=0;$<y.length;$++)y[$][1]=Math.round((y[$][1]==0?16:y[$][1])/f);if(m<1){var C=0,Z=[],G=0,g=0;
for(var $=0;$<y.length;++$){C+=y[$][1];if($>0){Z.push(Z[Z.length-1]+y[$-1][1])}else{Z.push(0)}}var A=m*y.length,d=C/A,r=[];
for(var $=0;$<A;++$){var X=0;while(G>Z[g]&&g+1<y.length){X+=y[g][1];++g}if(X!=0){var w=Math.round(Math.min(1,(Z[g]-G)/y[g][1])*X);
r[r.length-1][1]+=X-w;if(y[g][1]<y[g-1][1]/2){r.push(y[g-1])}else{r.push(y[g])}r[r.length-1][1]=y[g][1]+w}else if(g<y.length){r.push(y[g])}G+=d;
++g}while(g<y.length){r[r.length-1][1]+=y[g][1];++g}y=r}if(Y)y.reverse();if(K){var S=y.slice(1,y.length-1);
S.reverse();y=y.concat(S)}}k=F.Jy(y,o,c,E)}}return k};hR.Jl=function(x,J,o,c){var E=c.$E();if(o){x=x.slice(0);
ICC.U.applyLUT(J[3],J[2],x,x)}else if(E&&c.add.fcmy==1){x=x.slice(0);ICC.U.applyLUT(E[c.add.fcmy==1?5:3],E[2],x,x)}return x};
hR.a9$=function(x,J){var o=new Uint8Array(x.data),c=new Uint8Array(J.data),E=0,b=0;for(var l=0;l<o.length;
l+=4){var i=o[l]-c[l],F=o[l+1]-c[l+1],k=o[l+2]-c[l+2],U=o[l+3]-c[l+3],I=i*i+F*F+k*k+U*U>>>2;E+=I;if(I>25)b++}var V=b/x.XO.P()<1e-4;
return V};hR.GN=function(x,J){var o=J[0].a1&&J[0].a1.startsWith("_a_"),c;if(o&&!1){var E=0,b=J.length;
for(var $=0;$<J.length-1;$++){var l=J[$],i=J[$+1],F=hR.a9$(l,i);if(F){var k=parseFloat(l.a1.split(",").pop()),U=parseFloat(i.a1.split(",").pop());
l.a1=l.a1.split(",")[0]+","+Math.round(k+U);J.splice($+1,1);$--;E++}}if(E!=0){alert("Deleted "+E+" frames out of "+b+".");
for(var $=0;$<J.length;$++){var I=J[$],V=I.a1;I.a1="_a_frm"+$+","+V.split(",")[1]}}}var u=new hk(x+"."+["psd","ai"][b5]),N=new ha(0,0,1,1);
if(o){c=u._I();c.add.lsct=es.tI;c.Yq(x);c.n5="pass";c.Il=24;c.Ut(!0);u.B.push(u.Tv())}for(var $=0;$<J.length;
$++){var e=J[$];N=N.k7(e.XO);var B=u._I();B.Ut($==0);B.Yq(J.length==1?"Background":"Layer "+$);if($==0&&e.yV)u.yV=e.yV;
if($==0&&e.TP)u.TP=e.TP;if(e.a1)B.Yq(e.a1);if(e.Y6)for(var $=0;$<e.Y6.length;$++){var j=e.Y6[$],T=hk.qd(j[0]);
T.add.vmsk.$=j[1];q.p.Sp(j[1],new cW(N.m,0,0,N.e,0,0));u.yB.push(T)}if(e.Kt)u.Kt=e.Kt;B.rect=e.XO.clone();
B.buffer=new Uint8Array(e.data);if($==0&&e.RS)u.aV(e.RS);q.Ir(B);u.B.push(B)}if(o)u.B.push(c);if(J[0]._w){for(var $=0;
$<J[0]._w.length;$++){var a=new h.Tj;u._w.push(a);a.rect=J[0].XO.clone();a.channel=J[0]._w[$]}}u.g=[o?u.B.length-1:0];
u.m=N.m;u.e=N.e;if(b5==0)u.buffer=q.R(N.P()*4);u.W();return u};hR.yU=function(x,J,o){var c=x.length-o,E=new Uint8Array(c);
for(var $=0;$<J;$++)E[$]=x[$];for(var $=J;$<c;$++)E[$]=x[$+o];return E};hR.as9=function(x,J,o){var c=x.length,E=o.length,b=new Uint8Array(c+E);
for(var $=0;$<J;$++)b[$]=x[$];for(var $=J;$<c;$++)b[$+E]=x[$];b.set(o,J);return b};hR.a5j=function(x,J,o,c,E,b,l,i,F){var k=new ko(L.E.f,!0);
k.v=n.$y;k.data={d:"h_stepbck"};var U={};for(var I=1;I<o.length;I++){var V=x.g.slice(0),u=hR.P9(x,F,J,o,c,I),N="img"+I,e=o[0].indexOf(l);
if(l!=""){if(e==-1)alert("Column "+l+" not found.");else N=o[I][e]}U[N+"."+E.toLowerCase()]=new Uint8Array(hR.GU(x,E,null,null,b,i));
for(var $=0;$<u;$++)F.c(k)}return UZIP.encode(U)};hR.P9=function(x,J,o,c,E,b){var l=new ko(L.E.N,!0),k=0;
l.data={d:L.H.w9};var i=new ko(L.E.f,!0);i.v=n.uH;i.data={d:h.EZ,Im:{buffer:null,rect:null}};var F=i.data.Im;
for(var U=0;U<o.length;U++){var V=o[U],u=V.trait,N=parseInt(V.docRef.slice(4,-2)),e=-1;for(var $=0;$<x.B.length;
$++)if(x.B[$].add.lyid==N)e=$;if(e==-1)continue;var B=c[0].indexOf(V.varName);if(B==-1){alert("Column "+V.varName+" is missing");
return}var j=c[b][B],T=x.B[e];x.g=[e];if(u=="textcontent"){l.data.RU="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(j)+";";
J.c(l);k++}if(u=="visibility"&&T.kR()+""!=j.toLowerCase()){j=j.trim().toLowerCase();if(j!="true"&&j!="false")j=j==""?"false":"true";
l.data.RU="app.activeDocument.activeLayer.visible = "+j+";";J.c(l);k++}if(u=="fileref"){var a=j.split("/").pop(),P=null;
for(var bz in E)if(bz.split("/").pop()==a)P=E[bz];if(P==null){alert("Image "+a+" is missing.")}else{var v=hR.rb(hR.M1(P.buffer)).zu(P.buffer)[0],R=v.XO,y=T.rect,_=0,Y=0;
if(T.add.SoLd){var t=n.Y.AX(T.add.SoLd.nonAffineTransform);y=q.O.ql(t)}var g=y.m/y.e,H=R.m/R.e;if(g>H){Y=y.e;
_=~~(Y*H)}else{_=y.m;Y=~~(_/H)}l.data.RU="app.activeDocument.activeLayer.visible = false;";J.c(l);k++;
var K=n.Y.yo([new Uint8Array(v.data),R],new cW(_/R.m,0,0,Y/R.e,0,0));F.rect=K.rect;F.buffer=K.buffer;
K.rect.x=y.x+(y.m-_>>>1);K.rect.y=y.y+(y.e-Y>>>1);J.c(i);k++;var f=x.B[x.g[0]];f.opacity=T.opacity;f.$j=T.$j;
f.n5=T.n5;f.F=T.F}}}return k};hR.WT={};hR.WT.Jy=function(x,J,o,c){if(c==null)c=[100,!1,0,0,0];var E={sRGB:1,loop:c[3]};
if(x[0][5]!=null){delete E.sRGB;E.iCCP=x[0][5]}if(x[0][2]!=null){var b=Math.round(x[0][2]*(1e4/254));
E.pHYs=[b,b,1]}var l=c[0],i=l==100?0:Math.max(2,Math.floor(l*5));if(i==5)i=4;var F=[],k=[];for(var $=0;
$<x.length;$++){F.push(x[$][0]);k.push(x[$][1])}var U=UPNG.encode(F,J,o,i,k,E,c[1]);return U};hR.WT.awE=function(x,J,o){return UPNG.encodeLL([x],J,o,3,1,8)};
hR.WT.zu=function(x){var J=Date.now(),o=UPNG.decode(x),c=UPNG.toRGBA8(o),E=o.width,b=o.height,l=0,i=o.tabs.iCCP;
if(o.tabs.pHYs)l=Math.round(o.tabs.pHYs[0]*254/1e4);if(c.length==1)return[{XO:new ha(0,0,E,b),data:c[0],yV:l,RS:i}];
var F=[];for(var $=0;$<c.length;$++){F.push({a1:"_a_frm"+$+","+o.frames[$].delay,XO:new ha(0,0,E,b),data:c[$],yV:l,RS:i})}return F};
hR.rH={};hR.rH.Jy=function(x,J,o,c){var E=new Uint8Array(x[0][0]),b=J*o,l=b*3,i="P6\n"+J+" "+o+"\n255\n",F=i.length,k=q.R(F+l,!0);
for(var $=0;$<F;$++)k[$]=i.charCodeAt($);for(var $=0;$<b;$++){var U=$*4,I=$*3+F;k[I]=E[U];k[I+1]=E[U+1];
k[I+2]=E[U+2]}return k.buffer};hR.rH.zu=function(x){x=new Uint8Array(x);var J=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],o=0,c=String.fromCharCode(x[0])+String.fromCharCode(x[1]),E=[],b=0,l=c=="P1"||c=="P4"?2:3;
for(o=2;o<x.length;o++){var i=x[o],F=String.fromCharCode(i);if(i=="#".charCodeAt(0)){while(x[o]!="\n".charCodeAt(0))o++;
continue}var k=J.indexOf(i)!=-1;if(b==0&&!k){E.push(F);b=1;continue}if(b==1&&!k){E[E.length-1]+=F;continue}if(b==1&&k){b=0;
if(E.length==l)break;continue}}var U=parseInt(E[0]),I=parseInt(E[1]),V=U*I*4,u=c=="P1"||c=="P4"?1:255/parseInt(E[2]),N=q.R(V);
if(c=="P1"||c=="P2"||c=="P3"){var e="",B=0,b=0,j="#".charCodeAt(0);for(var $=o;$<x.length;$++){var i=x[$],F=String.fromCharCode(i),k=J.indexOf(i)!=-1;
if(i==j){while(x[$]!="\n".charCodeAt(0))$++}else if(b==0&&!k){e=F;b=1}else if(b==1){if(k){b=0;var T=parseInt(e);
e="";if(c=="P1"){N[B]=N[B+1]=N[B+2]=(1-T)*255;N[B+3]=255;B+=4}if(c=="P2"){N[B]=N[B+1]=N[B+2]=Math.round(T*u);
N[B+3]=255;B+=4}if(c=="P3"){N[B]=Math.round(T*u);B++;if((B&3)==3){N[B]=255;B++}}}else e+=F}}}var a=U*I;
if(c=="P4")for(var P=0;P<I;P++){var v=P*8*Math.ceil(U/8);for(var R=0;R<U;R++){var $=v+R,y=x[o+1+($>>3)];
y=y>>7-($&7)&1;var t=P*U+R<<2;N[t]=N[t+1]=N[t+2]=(1-y)*255;N[t+3]=255}}if(c=="P5")for(var $=0;$<a;$++){var t=4*$;
N[t]=N[t+1]=N[t+2]=Math.round(x[o+1+$]*u);N[t+3]=255}if(c=="P6")for(var $=0;$<a;$++){var t=4*$,g=o+1+3*$;
N[t]=Math.round(x[g]*u);N[t+1]=Math.round(x[g+1]*u);N[t+2]=Math.round(x[g+2]*u);N[t+3]=255}return[{XO:new ha(0,0,U,I),data:N.buffer}]};
hR.bH={};hR.bH.Jy=function(x,J,o,c){if(c==null)c=[0,!0];if(typeof c[0]=="boolean")c[0]=0;var E=new Uint8Array(x[0][0]);
if(!q._6(E)&&x[0][4]){E=E.slice(0);q.qR(x[0][4][0],E,3)}var b=J&3,l=o&3;if(b!=0||l!=0){var i=J+(b==0?0:4-b),F=o+(l==0?0:4-l),k=new Uint8Array(i*F*4);
q.xj(k,4278190080);q.St(E,new ha(0,0,J,o),k,new ha(0,0,i,F));E=k;J=i;o=F}var U=UTEX.DDS.encode(E.buffer,J,o,c);
if(!1){var I=UTEX.DDS.decode(U)[0],k=new Uint8Array(I.pH),u=0;for(var $=0;$<E.length;$++){var N=E[$]-k[$];
u+=N*N}console.log(u)}return U};hR.bH.zu=function(x){var J=UTEX.DDS.decode(x)[0];return[{XO:new ha(0,0,J.width,J.height),data:J.image}]};
hR.U3={};hR.U3.zu=function(x){var J=UTEX.VTF.decode(x).pop();return[{XO:new ha(0,0,J.width,J.height),data:J.image}]};
hR.AZ={};hR.AZ.EU=null;hR.AZ.atm=function(x,J){var o=hR.AZ.EU,c=x.byteLength,E=J.width,b=J.height,l=E*b,i=5e6+2*c+l*(J.progressive?Math.max(2,J.numComponents)*4+1:8),F=o.instance.exports;
hR.Pg(F,i);var k=new Uint8Array(F.memory.buffer),U=F.malloc(c);k.set(new Uint8Array(x),U);var I=F.malloc(4),V=F.malloc(4),bz=F.malloc(4),u=F.stbi_load_from_memory(U,c,I,V,bz,4);
F.free(U);F.free(I,V,bz);F.free(u);var N=k.slice(u,u+l*4);return N};(function(){var x=hR.Xe.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(x).then(function(J){hR.AZ.EU=J})}());hR.AZ.Jy=function(x,J,o,c){if(c==null)c=[85];
var E=x[0],b=new Uint8Array(E[0]);if(q._6(b)){var l=new Uint8Array(b.length),i=new ha(0,0,J,o);q.xj(l,4294967295);
q.l.j6("norm",b,i,l,i,i,1);b=l}var F=new Uint8Array(hR.Bg(b.buffer,J,o,"jpeg",c[0]/100));if(F.length<2e4||E[5]){var k=D.C8(F,[255,226]);
if(k!=-1){var U=D.ht(F,k+2);F=hR.yU(F,k,U+2)}}if(E[5]!=null){var I=4+D.ht(F,4),V=E[5].length+16,u=new Uint8Array(V+2);
u[0]=255;u[1]=226;D.uX(u,2,V);D.wZ(u,4,"ICC_PROFILE");u[16]=u[17]=1;u.set(E[5],18);F=hR.as9(F,I,u)}if(E[2]!=null){var N=hR.AZ.ba(F)[224][0]+2;
N+=9;F[N]=1;D.uX(F,N+1,E[2]);D.uX(F,N+3,E[2])}if(E[3]!=null&&c[1]==!0&&Object.keys(E[3]).length!=0){var e=0,B=0,j=0,T=eK.wY(E[3]),a=new Uint8Array(UTIF.encode([T])),P="http://ns.adobe.com/xap/1.0/",I=20;
e=4+6+a.length;var v=eK.J4(E[3]),R=D.Ey(v);B=4+P.length+1+R.length;var y=eK.aBr(E[3]);if(y.length!=0){var t=0,_=0;
for(var $=0;$<y.length;$++)t+=5+y[$][1].length;var g=t+(t&1),H=q.R(14+4+4+4+g);D.wZ(H,_,"Photoshop 3.0");
_+=14;D.wZ(H,_,"8BIM");_+=4;H[_++]=4;H[_++]=4;_+=2;D.lO(H,_,t);_+=4;for(var $=0;$<y.length;$++){var Y=y[$],K=Y[1];
H[_++]=28;H[_++]=2;H[_++]=Y[0];D.uX(H,_,K.length);_+=2;D.wZ(H,_,K);_+=K.length}j=4+H.length}var f=e+B+j,m=new Uint8Array(F.length+f);
for(var $=0;$<20;$++)m[$]=F[$];for(var $=20;$<F.length;$++)m[$+f]=F[$];m[I]=255;m[I+1]=225;D.uX(m,I+2,e-2);
D.wZ(m,I+4,"Exif");for(var $=0;$<a.length;$++)m[I+10+$]=a[$];I+=e;m[I]=255;m[I+1]=225;D.uX(m,I+2,B-2);
D.wZ(m,I+4,P);for(var $=0;$<R.length;$++)m[I+4+P.length+1+$]=R[$];I+=B;if(j!=0){m[I]=255;m[I+1]=237;
D.uX(m,I+2,j-2);for(var $=0;$<H.length;$++)m[I+4+$]=H[$];I+=j}F=m}return F.buffer};hR.AZ.ba=function(x){var J=0,o=[],c=x.length;
while(J<c){while(x[J]!=255&&J<c)J++;while(x[J]==255)J++;if(J==c)break;var E=x[J];J++;if(o[E]==null)o[E]=[];
o[E].push(J-2);if(E==216)continue;if(E==217)break;if(224<=E&&E<=239||E==218||E==219||E==192||E==193||E==194||E==196||E==221||E==254){var b=D.ht(x,J);
J+=b;if(E==218)while(J<c&&(x[J]!=255||(x[J+1]==0||208<=x[J+1]&&x[J+1]<=215)))J++;continue}console.log("unknown marker ",E.toString(16),J);
break}if(o[217]==null){console.log("EOI marker missing");var l=x.length-2;x[l]=255;x[l+1]=217;o[217]=[l]}return o};
hR.AZ.a7X=function(x){x=new Uint8Array(x);if(x[0]!=255)return x.buffer;var J=hR.AZ.ba(x),o=hR.AZ.Xd(x,J);
if(o.numComponents!=4)return x.buffer;var c=o.width,E=o.height,b=hR.AZ.gn(x,J,!0);return hR.AZ.Jy([[b[0].data]],c,E,[85])};
hR.AZ.Xd=function(x,J){var o=(J[192]?J[192]:J[193]?J[193]:J[194])[0]+4,c={};c.progressive=J[194]!=null;
c.precision=x[o];o++;c.height=D.ht(x,o);o+=2;c.width=D.ht(x,o);o+=2;c.numComponents=x[o];o++;if(J[224]){var E=c.jfif={};
o=J[224][0]+2+2+5+2;E.densityUnits=x[o];o++;E.xDensity=D.ht(x,o);o+=2;E.yDensity=D.ht(x,o);o+=2}if(J[238]){var E=c.adobe={};
o=J[238][0]+2+2+6;E.version=x[o];o++;E.flags0=D.ht(x,o);o+=2;E.flags1=D.ht(x,o);o+=2;E.transform=x[o];
o++}return c};hR.AZ.a2U=function(x,J,o){var c=J,E=D.ht(x,c);c+=2;var b=D.it(x,c,4);if(b=="Exif"){c+=6;
var l=x.slice(c,c+E-8),i;try{i=UTIF.decode(l.buffer,{parseMN:!1,debug:!1})}catch(j4){}if(i&&i.length!=0)o.exif=i}else if(b=="http"){var F=0;
while(x[c+F]!=0)F++;var k=D.it(x,c,F);c+=F+1;if(k=="http://ns.adobe.com/xmp/extension/"){var U=D.it(x,c,32);
c+=32;c+=8;var I=J+E-c;while(x[c+I-1]==0)I--;if(o.xmp_extn==null)o.xmp_extn="";try{o.xmp_extn+=D.cA(x,c,I)}catch(j4){}}else if(k=="http://ns.adobe.com/xap/1.0/"){var V=D.cA(x.slice(c,c+E-F-3));
if(V[0]=="?")V="<"+V;o.xmp=V}}else console.log(b)};hR.AZ.gn=function(x,J,o){var c=hR.AZ.Xd(x,J),E=c.width,b=c.height,l=E*b,i,F=-1,P=72,v,y,t=null;
if(c.adobe)F=c.adobe.transform;if(o||E*b>15e7||F==0||F==2||c.progressive){var k=new PDFJS.JpegImage;
k.parse(x);var U=k.getData({width:E,height:b,forceRGB:!0,isSourcePDF:o}),i=q.R(l*4);for(var $=0;$<l;
$++){var I=$<<2,V=I-$;i[I]=U[V];i[I+1]=U[V+1];i[I+2]=U[V+2];i[I+3]=255}}else{i=hR.AZ.atm(x.buffer,c)}var u=J[225];
if(u)for(var $=0;$<u.length;$++)hR.AZ.a2U(x,u[$]+2,c);var N=J[226];if(N){var e=N[0],B=D.ht(x,e+2),j=D.it(x,e+4,11);
if(j=="ICC_PROFILE"){var T=D.s(x,e+18);c.icc=x.slice(e+18,e+18+T)}}var a=J[217][0]+2;if(a!=x.length)c.suffix=x.slice(a);
var R=[E,b,1,0,0,0,1,0];if(c.jfif&&c.jfif.densityUnits!=0){P=Math.round([72,1,2.54][c.jfif.densityUnits]*c.jfif.xDensity)}else if(c.exif&&c.exif[0].t282!=null){var g=c.exif[0].t282[0];
P=g[0]/g[1]}if(c.exif){var H=c.exif;v=eK.Bc(H[0]);var _=H[0].t274;if(_)_=_[0];if(_!=null&&_>1&&_<20)R=q.raw.aa8(_,E,b)}if(c.xmp){v=eK.zE(c.xmp,v)}if(c.icc)y=c.icc;
var Y=J[237],K=[],f=[];if(Y){var m=new Uint8Array(65536),C=0,e=0;for(var $=0;$<Y.length;$++){e=Y[$]+2;
var Z=e+D.ht(x,e);e+=2;var A=e;while(x[e]!=0)e++;e++;var d=D.it(x,A,e-A-1),G=Z-e;if(G<0)break;while(C+G>m.length){var r=new Uint8Array(m.length*2);
r.set(m);m=r}var X=new Uint8Array(x.buffer,e,G);m.set(X,C);C+=G}e=0;x=m;while(e<C){var w=D.it(x,e,4);
e+=4;var S=D.ht(x,e);e+=2;var z=x[e++],s=D.it(x,e,z);e+=z;if((z&1)==0)e++;var B=D.s(x,e);e+=4;var a=e+B+(B&1);
if(S==1028){while(e+4<a){var M=x[e++],Q=x[e++],O=x[e++],W=D.ht(x,e);e+=2;if(M==28&&Q==2)K.push([O,D.it(x,e,W)]);
e+=W}}else if(S==1032)t=aG.atR(x,e);else if((S&2e3)==2e3){var e9=fV.vr(x,e,B);f.push([s,e9])}else{}e=a}if(K.length!=0)v=eK.a3f(K,v)}var jV=[{XO:new ha(0,0,E,b),data:i.buffer,yV:P,TP:v,RS:y,Y6:f.length==0?null:f,Kt:t}],v=c.xmp_extn;
if(v){var co=new DOMParser,dz=co.parseFromString(v,"image/svg+xml"),dz=dz.children[0].children[0].children[0],eh=[dz.getAttribute("GImage:Data"),dz.getAttribute("GDepth:Data")];
for(var $=0;$<eh.length;$++)if(eh[$]){var a9=atob(eh[$]),kB=new Uint8Array(a9.length);D.wZ(kB,0,a9);
kB=kB.buffer;var dc=hR.M1(kB),eT=hR.rb(dc).zu(kB);jV.push(eT[0])}}if(c.suffix){var fv=c.suffix,jS=!1,cx=D.it(fv,4,4),bX=D.C8(fv,[255,216,255]);
if(hR.fE(fv,[0,0,1,10,14,0,0,0])){if(jS)console.log("Samsung");var e=0;while(e!=fv.length){var gi=D._K(fv,e+2);
e+=4;var cM={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[gi];if(cM!=null){var ea=D.ZR(fv,e);e+=4;
var a1=D.it(fv,e,ea);e+=ea;var db=D.it(fv,e,cM);e+=cM;if(gi==2608){var d2=e,hu=D.s(fv,e+24);e+=hu+24;
var fF=D.s(fv,e);e+=fF;var il=fv.slice(d2,e);hR.AZ.B1(il)}}else if(gi==18502){while(D.it(fv,e,4)!="SEFT")e+=4;
e+=4}else{break;console.log(D.f$(fv,e,128));console.log(fv.slice(e));throw gi.toString(16)}}}else if(cx=="ftyp"){if(jS)console.log("MP4 Video");
hR.AZ.B1(fv)}else if(D.it(fv,0,4)=="fixe"){if(jS)console.log("fixe");alert("Unknown data - "+fv.length+" B - at the end of the file",3e3);
var e=4,B=D.ZR(fv,e);e+=4;var f4=D.ZR(fv,e);e+=4;var aK=D.ZR(fv,e);e+=4;console.log(B,f4,aK,fv.slice(e,e+84));
e+=84;var f9=D.it(fv,e,32);e+=32;e+=8;var f9=D.it(fv,e,32);e+=32}else if(D.it(fv,8,13)=="FocusShot_Map"){if(jS)console.log("FocusShot_Map");
var e0=D.s(fv,0),W=D.ZR(fv,4),kB=q.R(l*4),j7=q.R(l*4);for(var jb=0;jb<b;jb++)for(var hN=0;hN<E;hN++){var $=jb*E+hN,I=$<<2,fe=8+13+((jb>>>1)*E+hN>>>1),hn=fv[fe],a3=fv[fe+(l>>>2)];
kB[I]=kB[I+1]=kB[I+2]=hn;kB[I+3]=255;j7[I]=j7[I+1]=j7[I+2]=a3;j7[I+3]=255}jV.push({XO:new ha(0,0,E,b),data:kB.buffer},{XO:new ha(0,0,E,b),data:j7.buffer})}else if(cx=="edof"){if(jS)console.log("edof");
var _=fv[8+7];console.log(_.toString(16));var e=8+16,bH=D._K(fv,e),jB=D._K(fv,e+2),l=bH*jB;e+=4;e+=32+16;
var jH=q.R(l*4);for(var $=0;$<l;$++){var I=$<<2;jH[I]=jH[I+1]=jH[I+2]=fv[e+$];jH[I+3]=255}if(_==16){}else if(_==19){var dL=jH.slice(0);
q.D.NB(jH,dL,bH,jB);var aq=bH;bH=jB;jB=aq;q.D.sI(dL,jH,bH,jB)}else throw"Unknown orientation of a depth map";
jV.push({XO:new ha(0,0,bH,jB),data:jH.buffer})}else if(D.it(fv,0,64).indexOf("DualShot")!=-1){var is=D.ZR,dh=D.it,j_=D._K,e=0;
function cH(){var el=is(fv,e);if(is(fv,e+4)!=0)throw"e";e+=8;return el}var bK=D.s(fv,e);e+=4;try{if(bK==45066){e=1226;
var E=cH(),b=cH();e=3445}else if(bK==45322){var eC=is(fv,e);e+=4;var f9=dh(fv,e,eC);e+=eC;if(f9!="DualShot_DepthMap_1")throw f9;
E=1008;b=756}else throw bK;var fp=q.R(E*b*4);fp.fill(255);q.Qz(fv.slice(e,e+E*b),fp);jV.push({XO:new ha(0,0,E,b),data:fp.buffer})}catch(j4){console.log("error reading a depth map")}try{if(bX!=0)fv=fv.slice(bX);
jV=jV.concat(hR.rb("jpg").zu(fv.buffer))}catch(j4){}}else if(bX!=-1&&!(fv[0]==255&&fv[1]==129)){if(jS)console.log("another JPG at",bX);
try{if(bX!=0)fv=fv.slice(bX);jV=jV.concat(hR.rb("jpg").zu(fv.buffer))}catch(j4){}}else if(D.it(fv,0,4)=="PMPD"){if(jS)console.log("Xiaomi stuff");
var e=4,jq=D.ZR(fv,12),az=D.ZR(fv,16),bH=D.ZR(fv,1060),jB=D.ZR(fv,1064),de=bH>jB,g3=jV[0].XO.m>jV[0].XO.e,hJ=fv.slice(fv.length-bH*jB-4),kc=q.R(bH*jB);
for(var jb=0;jb<jB;jb++)for(var hN=0;hN<bH;hN++)kc[jb*bH+hN]=hJ[(jB-jb-1)*bH+hN];var fp=q.R(bH*jB*4);
fp.fill(255);q.Qz(kc,fp);if(de!=g3){var dL=fp.slice(0);q.D.NB(fp,dL,bH,jB);var aq=bH;bH=jB;jB=aq;q.D.sI(dL,fp,bH,jB)}jV.push({XO:new ha(0,0,bH,jB),data:fp.buffer})}else console.log(D.it(fv,0,4),fv)}if(jV.length>1){var bc=jV[0].XO,jR=!1,im=!0;
jV[0].a1="Main";var kd=[!1];for(var $=1;$<jV.length;$++){kd[$]=hR.AZ.a9T(new Uint8Array(jV[$].data));
if(kd[$])jR=!0;if(!jV[$].XO.U5(jV[0].XO))im=!1}if(!jR&&!im)jV=jV.slice(0,1);else for(var $=1;$<jV.length;
$++){jV[$].a1=kd[$]?"Depth Map":null;var dO=jV[$].XO;if(!dO.U5(bc)){var jd=bc.m/dO.m,gJ=bc.e/dO.e,iA=new cW;
iA.scale(jd,gJ);var gj=n.Y.$v([new Uint8Array(jV[$].data),dO],1,q.D.ay(iA));jV[$].XO=gj.rect;jV[$].data=gj.buffer}}}if(hR.AZ.Nv==1)if(R[2]!=1||R[6]!=1)for(var $=0;
$<jV.length;$++){var jG=jV[$],eG=new Uint8Array(jG.data),E=jG.XO.m,b=jG.XO.e,bH=R[0],jB=R[1],i=q.R(bH*jB*4);
q.D.QX(eG,E,b,i,R);jG.XO=new ha(0,0,bH,jB);jG.data=i.buffer}return jV};hR.AZ.B1=function(x){if(window.confirm("Photopea found a "+g8.if(x.length)+" MP4 video inside your image. Would you like to save it?",4e3)){bB.save(x.slice(0).buffer,"video.mp4")}};
hR.AZ.a9T=function(x){var J=!0;for(var $=0;$<x.length;$+=4){J=J&&x[$]==x[$+1]&&x[$+1]==x[$+2]}return J};
hR.AZ.Nv=0;hR.AZ.zu=function(x,J,o){x=new Uint8Array(x);if(x[0]==255){var c=hR.AZ.ba(x);if(c[195]==null){hR.AZ.Nv++;
var E=hR.AZ.gn(x,c,!1);hR.AZ.Nv--;return E}var b=D.ht(x,c[195][0]+5),l=D.ht(x,c[195][0]+7),i=UTIF.LosslessJpegDecode(x),F=l*b,k=q.R(F*4);
for(var $=0;$<F;$++){var U=$<<2,I=U-$;k[U]=i[I];k[U+1]=i[I+1];k[U+2]=i[I+2];k[U+3]=255}return[{XO:new ha(0,0,l,b),data:k.buffer}]}else if(x[0]==0&&x[4]==48&&x[6]==1){var V=x,u=new PDFJS.Jbig2Image,N=[];
if(J)N.push({data:J,start:0,end:J.length});N.push({data:V,start:0,end:V.length});var i=u.parseChunks(N);
if(!o)for(var $=0;$<i.length;$++)i[$]=~i[$];var l=D.s(x,11),b=D.s(x,15),e=Math.ceil(l/8),B=q.R(l*b*4);
for(var j=0;j<b;j++){var T=j*e;for(var a=0;a<l;a++){var U=(j*l+a)*4,P=i[T+(a>>>3)]>>>7-(a&7)&1,v=P*255;
B[U]=v;B[U+1]=v;B[U+2]=v;B[U+3]=255}}return[{XO:new ha(0,0,l,b),data:B.buffer}]}else{var u=new PDFJS.JpxImage;
u.parse(x);var l=u.width,b=u.height,R=u.tiles,y=u.componentsCount,t=new Uint8Array(l*b*4),g=new ha(0,0,l,b);
for(var u=0;u<R.length;u++){var H=R[u],_=H.width,Y=H.height,K=_*Y,f=H.items,m=new ha(H.left,H.top,_,Y),C=new Uint8Array(K*4);
if(y==1)for(var $=0;$<K;$++){var Z=f[$],U=$*4;C[U]=Z;C[U+1]=Z;C[U+2]=Z;C[U+3]=255}else if(y==3)for(var $=0;
$<K;$++){var I=$*3,U=$*4;C[U]=f[I];C[U+1]=f[I+1];C[U+2]=f[I+2];C[U+3]=255}else if(y==4)C.set(f);else console.log("Unknown number of components: "+y);
q.St(C,m,t,g)}return[{XO:g,data:t.buffer}]}};hR.jY={};hR.jY.Jy=function(x,J,o,c){if(c==null)c=[70,!1,0,0,0];
var E=c[0]/100,e=0;if(x.length==1){var b=new Uint8Array(hR.Bg(x[0][0],J,o,"webp",E));if(b.length<2e4){var l=kq.QE(b.buffer),i=l.sub;
for(var $=0;$<i.length;$++)if(i[$].UU=="ICCP"){var F=i[$];b=hR.yU(b,F.z-8,F.size+8);D.pF(b,4,l.size-(F.size+8));
break}}if(c[1]&&x[0][3]){var l=kq.QE(b.buffer),i=l.sub,k=i[0].z+i[0].size,U=x[0][3],I=new Uint8Array(UTIF.encode([eK.wY(U)])),V=new Uint8Array(6+I.length);
D.wZ(V,0,"Exif\0\0");V.set(I,6);var u=D.Ey(eK.J4(U)),N=new Uint8Array(16+V.length+u.length);D.wZ(N,0,"EXIF");
D.pF(N,4,V.length);N.set(V,8);var e=8+V.length;D.wZ(N,e,"XMP\0");D.pF(N,e+4,u.length);N.set(u,e+8);var B=new Uint8Array(b.length+N.length);
B.set(new Uint8Array(b.buffer,0,k),0);B.set(N,k);B.set(new Uint8Array(b.buffer,k),k+N.length);b=B;D.pF(b,4,D.ZR(b,4)+N.length)}return b.buffer}var j=D.qN,T=D.y8,a=new ih;
j(a,e,"RIFF    WEBPVP8X");e+=16;T(a,e,10);e+=4;T(a,e,18);e+=4;T(a,e,J-1);e+=3;T(a,e,o-1);e+=3;j(a,e,"ANIM");
e+=4;T(a,e,6);e+=4;a.Qy(e,4);a.data[e+3]=255;D.YG(a,e+4,c[3]);e+=6;var P=[];for(var $=0;$<x.length;$++){P.push(x[$][0])}var v=UPNG.encode.compress(P,J,o,E==1?0:Math.max(2,Math.floor(E*500)),[!1,!0,!0,0,!0]).frames;
function R(l,A,d,G){var K=l.z-8,f=l.size+8;d.Qy(G,f);for(var $=0;$<f;$++)d.data[G+$]=A[K+$];return G+f}for(var $=0;
$<x.length;$++){j(a,e,"ANMF");e+=4;var y=e,K=0,f=0;e+=4;var t=v[$],g=t.rect,H=[g.x>>>1,g.y>>>1,g.width-1,g.height-1,x[$][1]];
for(var _=0;_<5;_++)T(a,e+3*_,H[_]);e+=15;a.Qy(e,1);a.data[e]=1-t.blend<<1|t.dispose;e++;var Y=new Uint8Array(hR.Bg(t.img.buffer,g.width,g.height,"webp",1)),i=kq.QE(Y.buffer).sub,m={};
for(var C=0;C<i.length;C++)m[i[C].UU]=i[C];if(m.VP8L)e=R(m.VP8L,Y,a,e);else throw"e";var Z=e-y-4;T(a,y,Z);
if((Z&1)==1){a.Qy(e,1);e++}}T(a,4,e-8);return a.data.slice(0,e).buffer};(function(){var x=hR.Xe.get("wasm/webp").buffer;
WebAssembly.instantiate(x).then(function(J){var o=J.instance.exports;hR.jY.exp=o})}());hR.jY.zu=function(x){var J=new Uint8Array(x),o=hR.jY.a8L,c=null,E=kq.QE(x).sub,b={},l=null;
for(var $=0;$<E.length;$++)b[E[$].UU]=E[$];if(b.EXIF){var i=b.EXIF,F=new Uint8Array(x,i.z+6,i.size-6),i=UTIF.decode(F)[0];
if(i)l=eK.Bc(i)}if(b["XMP\0"]){var i=b["XMP\0"],F=new Uint8Array(x,i.z,i.size);if(l==null)l={};l=eK.zE(D.cA(F),l)}var k=b.ANIM,U=b.VP8L,I=b["VP8 "],V=b.VP8X;
if(k==null){var N,e;if(I){N=D._K(J,I.z+6);e=D._K(J,I.z+8)}else if(U){var B=D.ZR(J,U.z+1);N=(B&(1<<14)-1)+1;
e=(B>>>14&(1<<14)-1)+1}else throw"e";var j=o(c,x,{z:0,size:J.length},N,e);j.TP=l;return[j]}var T=V.z,N=1+(D.ZR(J,T+4)&16777215),e=1+(D.ZR(J,T+7)&16777215),a=[],P=new ha(0,0,N,e),v=q.R(N*e*4);
for(var $=0;$<E.length;$++){var R=E[$];if(R.UU!="ANMF")continue;var y=[];for(var t=0;t<5;t++)y.push(D.ZR(J,R.z+t*3)&16777215);
var g=new ha(y[0]*2,y[1]*2,y[2]+1,y[3]+1),H=y[4],_=o(c,x,{z:R.z+16,size:R.size-16},N,e),Y=new Uint8Array(_.data),K=J[R.z+15];
if(K>>>1==0)q.l.j6("norm",Y,g,v,P,g,1);else q.St(Y,g,v,P);a.push({a1:"_a_"+a.length+","+H,XO:P.clone(),data:v.buffer.slice(0)});
if((K&1)==1){q.xj(Y,0);q.St(Y,g,v,P)}}return a};hR.jY.a8L=function(x,J,o,c,E){var b=hR.jY.exp,l=b.memory,i=5e6+2*o.size+c*E*10;
hR.Pg(b,i);var F=new Uint8Array(l.buffer),k=b.malloc(o.size);F.set(new Uint8Array(J,o.z,o.size),k);var U=b.malloc(8),I=b.WebPDecodeARGB(k,o.size,U,U+4),V=D.ZR(F,U),u=D.ZR(F,U+4),N=V*u*4,e=q.R(N);
for(var $=0;$<N;$+=4){e[$]=F[I+$+1];e[$+1]=F[I+$+2];e[$+2]=F[I+$+3];e[$+3]=F[I+$]}b.WebPFree(I);b.free(U);
b.free(k);return{XO:new ha(0,0,V,u),data:e.buffer}};hR.ax2=function(){function x(i,F,k,U){var I=new Uint8Array(i[0][0]),V=new Uint32Array(I.buffer),u=[],N={},B=24,j=0,R=0;
for(var $=0;$<V.length;$++){var e=V[$]&16777215;if(N[e]==null){N[e]=u.length;u.push(e);if(u.length>256){u=null;
break}}}if(U&&U[0])u=null;if(u){B=1;while(1<<B<u.length)B*=2;if(B==2)B=4}var T={Qh:F,ao:k,oV:1,YE:B,JV:0,aCa:j},a=4*Math.floor((T.YE*T.Qh+31)/32);
T.size=a*T.ao+2;var P=new ih,v=u?(1<<B)*4:0;D.qN(P,R,"BM");R+=2;D.y8(P,R,a*k+16+40+v);R+=4;D.y8(P,R,0);
R+=4;D.y8(P,R,54+v);R+=4;P.Qy(R,40);D.y8(P,R,40);R+=4;l(P.data,R,T,a);R+=36;if(u){P.Qy(R,v);var y=P.data;
for(var $=0;$<u.length;$++){var t=R+$*4,g=u[$]>>>16,H=u[$]>>>8&255,_=u[$]&255;y[t]=g;y[t+1]=H;y[t+2]=_}R+=v}P.Qy(R,a*k);
if(B==24)for(var Y=0;Y<k;Y++){var K=R+(k-1-Y)*a;for(var f=0;f<F;f++){var m=(Y*F+f)*4;P.data[K+f*3+2]=I[m];
P.data[K+f*3+1]=I[m+1];P.data[K+f*3+0]=I[m+2]}}else if(B==8)for(var Y=0;Y<k;Y++){var K=R+(k-1-Y)*a;for(var f=0;
f<F;f++){var m=Y*F+f,C=N[V[m]&16777215];P.data[K+f]|=C}}else if(B==4)for(var Y=0;Y<k;Y++){var K=R+(k-1-Y)*a;
for(var f=0;f<F;f++){var m=Y*F+f,C=N[V[m]&16777215];P.data[K+(f>>>1)]|=C<<4-(f&1)*4}}else if(B==1)for(var Y=0;
Y<k;Y++){var K=R+(k-1-Y)*a;for(var f=0;f<F;f++){var m=Y*F+f,C=N[V[m]&16777215];P.data[K+(f>>>3)]|=C<<7-(f&7)}}R+=a*k+2;
return P.data.slice(0,R).buffer}function J(i){i=new Uint8Array(i);if(D.ZR(i,0)==40)return[o(i.buffer,0)];
var F=0,k=D.it(i,F,2);F+=2;if(k!="BM"){alert("Unsupported BMP format: "+k);return}var U=D.ZR(i,F);F+=4;
F+=4;var I=D.ZR(i,F);F+=4;return[o(i.buffer,F,I)]}function o(i,F,k){i=new Uint8Array(i);var U=D.ZR(i,F),I=b(i,F+4);
if(I.oV!=1)alert("unsupported number of color planes: "+I.oV);if(I.JV!=0&&I.JV!=1&&I.JV!=2&&I.JV!=3){alert("Unsupported BMP compression: "+I.JV);
return}F+=U;var V=F,u=i;if(k==null)k=F;if(I.JV==1||I.JV==2){var N=E(i,k,I);I.YE=8;i=N;k=0}var e=4*Math.floor((I.YE*I.Qh+31)/32),B=I.Qh,j=Math.abs(I.ao),T=new Uint8Array(B*j*4);
T.fill(255);if(I.YE==32)for(var a=0;a<j;a++){var P=k+(j-1-a)*e;for(var v=0;v<B;v++){var R=(a*B+v)*4;
T[R]=i[P+v*4+2];T[R+1]=i[P+v*4+1];T[R+2]=i[P+v*4+0];T[R+3]=i[P+v*4+3]}}else if(I.YE==24)for(var a=0;
a<j;a++){var P=k+(j-1-a)*e;for(var v=0;v<B;v++){var R=(a*B+v)*4;T[R]=i[P+v*3+2];T[R+1]=i[P+v*3+1];T[R+2]=i[P+v*3+0]}}else if(I.YE==16)for(var a=0;
a<j;a++){var P=k+(j-1-a)*e;for(var v=0;v<B;v++){var R=(a*B+v)*4,y=i[P+v*2+1]<<8|i[P+v*2];T[R]=(y>>>11)*(255/31);
T[R+1]=(y>>>5&63)*(255/63);T[R+2]=(y&31)*(255/31)}}else if(I.YE==8)for(var a=0;a<j;a++){var P=k+(j-1-a)*e;
for(var v=0;v<B;v++){var R=(a*B+v)*4,t=i[P+v];T[R]=u[V+4*t+2];T[R+1]=u[V+4*t+1];T[R+2]=u[V+4*t+0]}}else if(I.YE==4)for(var a=0;
a<j;a++){var P=k+(j-1-a)*e;for(var v=0;v<B;v++){var R=(a*B+v)*4,t=i[P+(v>>1)];t=t>>4-4*(v&1);t=t&15;
T[R]=u[V+4*t+2];T[R+1]=u[V+4*t+1];T[R+2]=u[V+4*t+0]}}else if(I.YE==1)for(var a=0;a<j;a++){var P=k+(j-1-a)*e;
for(var v=0;v<B;v++){var R=(a*B+v)*4,g=i[P+(v>>3)];g=g>>7-(v&7);g=g&1;T[R]=u[V+4*g+2];T[R+1]=u[V+4*g+1];
T[R+2]=u[V+4*g+0]}}else throw"Unknown bit depth "+I.YE;if(I.ao<0){var H=new Uint32Array(T.buffer),_=j>>>1;
for(var a=0;a<_;a++){var Y=a*B,K=(j-a-1)*B;for(var v=0;v<B;v++){var f=H[Y+v];H[Y+v]=H[K+v];H[K+v]=f}}}return{XO:new ha(0,0,B,j),data:T.buffer}}function c(i,$){return i>>>4-(($&1)<<2)&15}function E(i,F,k){var U=k.Qh,I=Math.abs(k.ao),V=new Uint8Array(U*I),u=0,N=0,$=0;
while(N<I){var e=i[F++],B=i[F++],j=N*U+u;if(e>0){if(k.YE==4)for($=0;$<e;$++){V[j+$]=c(B,$)}else for($=0;
$<e;$++){V[j+$]=B}u+=e}else if(e==0&&B==0){N++;u=0}else if(e==0&&B==1){break}else if(e==0&&B==2){u+=i[F++];
N+=i[F++]}else{var T=B;if(k.YE==4){for($=0;$<B;$++){V[j+$]=c(i[F+($>>>1)],$)}T=Math.ceil(B/2)}else{for($=0;
$<B;$++){V[j+$]=i[F+$]}}if((T&1)!=0)T++;F+=T;u+=B}}return V}function b(i,F){var k=D.rv,U=D.ZR,I=D._K,V={};
V.Qh=k(i,F);F+=4;V.ao=k(i,F);F+=4;V.oV=I(i,F);F+=2;V.YE=I(i,F);F+=2;V.JV=U(i,F);F+=4;V.size=U(i,F);F+=4;
var u=k(i,F);F+=4;var N=k(i,F);F+=4;V.aCa=U(i,F);F+=4;F+=4;return V}function l(i,F,k,U){D.pF(i,F,k.Qh);
F+=4;D.pF(i,F,k.ao);F+=4;D.K7(i,F,k.oV);F+=2;D.K7(i,F,k.YE);F+=2;D.pF(i,F,k.JV);F+=4;D.pF(i,F,k.size);
F+=4;D.pF(i,F,2834);F+=4;D.pF(i,F,2834);F+=4;D.pF(i,F,k.aCa);F+=4;F+=4}return{zu:J,Jy:x,a68:o}}();hR.Sn={};
hR.Sn.Jy=function(x,J,o,c){if(c==null)c=[100,!1,0,0,0,0];var E=[],b=[],l=J*o*4,e=null;for(var i=0;i<x.length;
i++){var F=new Uint8Array(x[i][0].slice(0));for(var $=0;$<l;$+=4){var k=F[$+3]=F[$+3]>127?255:0;if(k==0)F[$]=F[$+1]=F[$+2]=0}E.push(F.buffer);
b.push(x[i][1])}var U=Math.round(2+254*c[0]/100),I=UPNG.encode.compress(E,J,o,U,[!0,!1,!1,8,!1,c[1]]),V=I.plte,u=new Uint8Array(4),N=new Uint32Array(u.buffer);
for(var $=0;$<V.length;$++){N[0]=V[$];var B=u[0];u[0]=u[2];u[2]=B;V[$]=N[0];if(N[0]==0)e=$}while(V.length<256)V.push(0);
var j=new Uint8Array(2e4+Math.round(1.5*J*o*x.length)),T=c[3],a={palette:V};if(T!=1)a.loop=T==0?0:T-1;
var P=new GifWriter(j,J,o,a);for(var $=0;$<x.length;$++){var v=I.frames[$],R=v.rect,y=v.blend,t=v.dispose,g=Math.round(b[$]/10);
if(g<2)g=2;P.addFrame(R.x,R.y,R.width,R.height,v.img,{transparent:e,disposal:t+1,delay:g})}return j.slice(0,P.end()).buffer};
hR.Sn.zu=function(x){var J=Date.now(),o=[],c=UGIF.decode(x),E=UGIF.toRGBA8(c),b=new ha(0,0,c.width,c.height);
for(var $=0;$<E.length;$++){var l=c.frames[$];o.push({XO:b.clone(),a1:"_a_frm"+$+","+l.delay*10,data:E[$]})}return o};
hR.Iv={};hR.Iv.Jy=function(x,J,o,c){if(J>256||o>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var E=Math.min(J,256),b=Math.min(o,256),l=new ha(0,0,E,b),i=q.R(l.P()*4),F=new ha(0,0,J,o),k=new Uint8Array(x[0][0]);
q.St(k,F,i,l);x[0][0]=i.buffer;J=E;o=b}var U=new Uint8Array(x[0][0]).slice(0),V=0;U[3]=Math.min(U[3],254);
var I=new ih,u=c&&c[0]==!0;D.YG(I,V,0);V+=2;D.YG(I,V,u?2:1);V+=2;D.YG(I,V,1);V+=2;var N=new Uint8Array(UPNG.encode([U.buffer],J,o,null,null,null,!0));
I.Qy(V,16);I.data[V]=J==256?0:J;V++;I.data[V]=o==256?0:o;V++;V+=2;D.YG(I,V,u?Math.round(J/2):1);V+=2;
D.YG(I,V,u?Math.round(o/2):32);V+=2;D.y8(I,V,N.length);V+=4;D.y8(I,V,6+16);V+=4;I.Qy(V,N.length);I.data.set(N,V);
V+=N.length;return I.data.slice(0,V).buffer};hR.Iv.zu=function(x){x=new Uint8Array(x);var J=4,o=D._K(x,J);
J+=2;var c=[];for(var $=0;$<o;$++){var E=hR.Iv.aBA(x,J+$*16),b=x.buffer.slice(E.offset,E.offset+E.size),l=hR.M1(b);
l=l?l:"bmp";if(l=="png"){var i=hR.rb(l),F=i.zu(b);E.xk=F[0]}else{var k=hR.rb("BMP").a68(b,0),b=q.R(E.Qh*E.ao*4);
q.St(new Uint8Array(k.data),new ha(0,0,k.XO.m,k.XO.e),b,new ha(0,E.ao,E.Qh,E.ao));k.data=b.buffer;k.XO.e=E.ao;
E.xk=k}c.push(E)}c.sort(function(U,I){if(U.Qh!=I.Qh)return U.Qh-I.Qh;return U.auH-I.auH});return[c.pop().xk]};
hR.Iv.aBA=function(x,J){var o={};o.Qh=x[J];J++;if(o.Qh==0)o.Qh=256;o.ao=x[J];J++;if(o.ao==0)o.ao=256;
o.arT=x[J];J++;J++;o.a3q=D._K(x,J);J+=2;o.auH=D._K(x,J);J+=2;o.size=D.ZR(x,J);J+=4;o.offset=D.ZR(x,J);
J+=4;return o};hR.A5={};hR.A5.zu=function(x){var J=Date.now(),c;if(q.raw.Cl(x.byteLength))return[q.raw.aoz(x)];
var o=UTIF.decode(x);console.log(o);if(o[0].t33421)c=o[0];else if(o[0].subIFD&&o[0].t271&&o[0].t271[0]=="Hasselblad"){c=o[0].subIFD[0];
c.t33421=[2,2]}else if(o[0].subIFD&&o[0].subIFD[0].t33421){c=o[0].subIFD[0];if(c.t50706==null){if(c.t258[0]==8)c.t258[0]=12}}else if(o[0].subIFD&&o[0].subIFD[0]&&o[0].subIFD[0].t262&&o[0].subIFD[0].t262[0]==34892)c=o[0].subIFD[0];
else if(o[0].t50706)c=o[0];else if(o[0].subIFD&&o[0].subIFD[1]&&o[0].subIFD[1].t33421)c=o[0].subIFD[1];
else if(o[0].subIFD&&o[0].subIFD[2]&&o[0].subIFD[2].t33421)c=o[0].subIFD[2];else if(o[3]&&o[3].t50648){var E=o[0].exifIFD,b=E.makerNote;
c=o[3];var l=b.t224[1],i=b.t224[2];c.t256=[l];c.t257=[i];c.t258=[16];c.t259=[7];c.t262=[32803];c.t277=[1];
c.t33421=[2,2];var F=c.t50656[0],k=q.raw.y7[F];if(k==null)throw"e";c.t33422=k}else if(o[0].t1&&o[0].t1.length==4){var U=o[0],I={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
c={};for(var V in I)if(U["t"+V])c["t"+I[V]]=U["t"+V];c.t2=U.t2;c.t3=U.t3;c.t10=U.t10;c.t45=U.t45;c.t258=[16];
c.t33421=[2,2];var u=U.t9[0];c.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][u-1];var N=U.t4[0],e=U.t5[0],B=U.t6[0],j=U.t7[0];
c.t50829=[N,e,B,j];var T=U.t36[0],a=U.t37[0],P=U.t38[0];c.t50728=[a/T,a/a,a/P]}else if(o[0].t258&&o[0].t258[0]>=12&&o[0].t271&&(o[0].t271[0].startsWith("OLYMPUS")||o[0].t271[0].startsWith("OM Digital Solutions"))){c=o[0];
c.t33421=[2,2]}if(c){UTIF.decodeImage(x,c,o);for(var v in o[0])if((v[0]=="t"||v[0]=="e"||v[0]=="d")&&c[v]==null)c[v]=o[0][v];
c.vx=o[0].t274?o[0].t274[0]:1;return[c]}var R=[];for(var $=0;$<o.length;$++){var y=o[$],t=null,m=72;
UTIF.decodeImage(x,y,o);if(y.t258&&y.t258[0]==16&&y.t277&&y.t277[0]==1){var g=0,H=0,_=0,Y=y.data;for(var K=0;
K<Y.length;K+=2){var f=Y[K+1]<<8|Y[K];if(f>g)g=f;H+=f;_++}t=1/256*65535/(.5*g+.5*(2*H/_))}var C=y.t282,Z=y.t296;
if(C!=null&&Z!=null){m=C[0][0]/C[0][1];if(Z[0]==3)m=Math.round(m/2.54)}if(y.width==null)continue;var A=UTIF.toRGBA8(y,t).buffer,d=eK.Bc(y);
console.log(y);R.push({XO:new ha(0,0,y.width,y.height),data:A,yV:m,TP:d,RS:y.t34675?y.t34675.slice(0):null})}return R};
hR.A5.Jy=function(x,J,o,c){if(c==null)c=[!1];var E={},b=x[0];if(b[3]!=null&&c[0])E=eK.wY(b[3]);if(b[2]!=null){E.t282=E.t283=[[Math.round(b[2]),1]];
E.t296=[2]}return UTIF.encodeImage(b[0],J,o,E)};hR.CJ={};hR.CJ.zu=function(x){x=new Uint8Array(x);var J=8,o,c=0;
while(J<x.length){var E=D.it(x,J,4),b=D.s(x,J+4);if(E.startsWith("ic")){var l=x.slice(J+8,J+b),i=hR.M1(l.buffer),F=hR.rb(i),k=F.zu(l.buffer),U=k[0].XO.P();
if(U>c){c=U;o=k}}J+=b}return o};hR.cH={};hR.cH.gi=!0;hR.cH.zu=function(x,J){aG.QE(x,J)};hR.cH.aeA=function(x,J,o,c){if(c==null)c=[!1,!1,!1,!1,!1];
if(!c[0])x.or();var E=new ih,b=aG.gO(x,E,c);return[E.data.buffer,b]};hR.cH.Jy=function(x,J,o,c){var E=hR.cH.aeA(x,J,o,c),b=E[0],l=E[1];
return b.byteLength==l?b:b.slice(0,l)};hR.wm={};hR.wm.gi=!0;hR.wm.zu=function(x,J){var o=pako.inflate(new Uint8Array(x)),c=D.ht(o,0),E=D.ht(o,2),b=4;
J.m=D.s(o,b);b+=4;J.e=D.s(o,b);b+=4;J.buffer=q.R(J.m*J.e*4);var l=D.ht(o,b);b+=2;b+=4;for(var i=0;i<l;
i++){var F=J._I(),N=0,C=1,Z=2,A=3,d=0;J.B.push(F);var k=D.s(o,b);b+=4;var U=b,I=D.ht(o,U);U+=2;var V=D.cA(o,U,I);
U+=I;F.Yq(V);var u=o[U];U++;if(u!=0&&u!=1)throw u;F.rect.x=D.du(o,U);U+=4;F.rect.y=D.du(o,U);U+=4;F.rect.m=D.s(o,U);
U+=4;F.rect.e=D.s(o,U);U+=4;if(c>3){N=D.du(o,U);U+=4}F.opacity=Math.round(255*o[U]/100);U++;var e=o[U];
U++;F.Ut(e!=0);F.n5="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[o[U]];
U++;var B=o[U];U++;if(B)F.add.lspf=1<<31;if(c>3){var j=D.ht(o,U);U+=2;if(j!=0){var T=JSON.parse(D.cA(o,U,j));
U+=j;var a=T.text,P=T.textSettings,v=P.font,R=P.size,y=P.padding,t=parseInt(P.color.slice(1),16);F.add.lnsr="rend";
F.add.TySh=iv.hK(0,0);F.add.TySh.Ca=new ha(0,0,100,100);var g=F.add.TySh.M=new cW,H=F.rect.m/2,_=F.rect.e/2;
g.translate(-H,-_);g.rotate(-N*Math.PI/180);g.translate(H,_);g.translate(F.rect.x+y,F.rect.y+y);var Y=F.add.TySh.TC;
iv.Ag(Y,1);iv.UC(Y,[0,0,F.rect.m-y*2,F.rect.e]);iv.Jq(Y,0,a);var K=iv.eU(Y,0,1);K.kJ.FontSize=R;K.kJ.FillColor={Type:1,Values:[1,(t>>>16&255)/255,(t>>>8&255)/255,(t>>>0&255)/255]};
if(P.bold)v+="-Bold";iv.UE(K,v);K.zR.Justification=["left","right","center"].indexOf(P.align);iv.oO(Y,0,a.length,K)}}var f=D.s(o,U);
U+=4;if(f!=F.rect.P()*4){for(var $=F.rect.m;$>F.rect.m/2;$--){var m=f/($*4);if(m==Math.round(m)){F.rect.m=$;
F.rect.e=m;break}}}F.buffer=q.R(F.rect.P()*4);if(c>3){C=0;Z=1;A=2;d=3}for(var $=0;$<f;$+=4){F.buffer[$]=o[U+$+C];
F.buffer[$+1]=o[U+$+Z];F.buffer[$+2]=o[U+$+A];F.buffer[$+3]=o[U+$+d]}U+=f;var G=D.s(o,U);U+=4;if(G==0&&c>3){b+=k;
continue}var r=o[U];U++;var X=D.ht(o,U);U+=2;if(G!=0){F.F=new h.Tj;F.F.rect=F.rect.clone();F.F.channel=q.R(F.rect.P());
for(var $=0;$<G;$+=4)F.F.channel[$>>>2]=o[U+$+1];U+=G}if(r!=0){var w=JSON.parse(bs.default);F.add.lmfx=w;
for(var $=0;$<bs.order.length;$++)w[bs.x0[$]]={t:"VlLs",v:[]};var S={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var $=0;$<r;$++){var z=D.ht(o,U),s=U+z+4,M=o.slice(U,s),Q=o[U+2];U+=3;var O=S[Q+""],W=JSON.parse(bs.Kl[O]);
w[bs.x0[O]].v.push({t:"Objc",v:W});if(O!=0){W.Md.v.BlnM=iP.V0("norm");W.Opct.v.val=o[U];U++;if(O==9||O==2){W.Dstn.v.val=o[U+1];
U+=2}else U+=2;W.blur.v.val=Math.round(o[U]*1.2);U++;if(O==9||O==2){W.uglg.v=!1;W.lagl.v.val=180-D.ht(o,U);
U+=2}W.Clr.v=q.r.qP({o:o[U+1],I:o[U+2],J:o[U+3]})}else{W.hglM.v.BlnM=W.sdwM.v.BlnM=iP.V0("norm");U+=2;
var e9=o[U++],jV=o[U++];W.blur.v.val=Math.round(Math.sqrt(jV*e9)*1.3);W.srgR.v.val=Math.round(100*e9/jV);
W.uglg.v=!1;W.lagl.v.val=180-D.ht(o,U);U+=2;W.hglO.v.val=o[U++];W.hglC.v=q.r.qP({o:o[U+1],I:o[U+2],J:o[U+3]});
U+=4;W.sdwO.v.val=o[U++];W.sdwC.v=q.r.qP({o:o[U+1],I:o[U+2],J:o[U+3]});U+=4}U=s}}if(U-b<k){var co=D.s(o,U),a9=0;
U+=4;U++;var I=D.ht(o,U);U+=2;var a=D.cA(o,U,I);U+=I;a=a.replace(/\r/g,"\n");var I=D.ht(o,U);U+=2;var v=D.cA(o,U,I);
U+=I;var R=D.ht(o,U);U+=2;var dz=F.rect.x,eh=F.rect.m;if(co&4)a9=1;if(co&2)a9=2;var kB=Math.round(R*.4);
if(a9==0||a9==2)eh+=kB;if(a9==1||a9==2){eh+=kB;dz-=kB}F.add.lnsr="rend";F.add.TySh=iv.hK(0,0);F.add.TySh.Ca=new ha(0,0,100,100);
F.add.TySh.M=new cW(1,0,0,1,dz,F.rect.y+R*.25);var Y=F.add.TySh.TC;iv.Ag(Y,1);iv.UC(Y,[0,0,eh,F.rect.e]);
iv.Jq(Y,0,a);var K=iv.eU(Y,0,1);K.kJ.FontSize=R;K.kJ.FillColor={Type:1,Values:[1,o[U+1]/255,o[U+2]/255,o[U+3]/255]};
U+=4;if(o[U+5])v+="-Bold";if(o[U+6])v+="-Italic";iv.UE(K,v);K.zR.Justification=a9;U+=8;iv.oO(Y,0,a.length,K)}b+=k}};
hR.iy={};hR.iy.gi=!0;hR.iy.zu=function(x,J){var o=UZIP.parse(x),c=JSON.parse(D.cA(o["manifest.json"].buffer));
J.m=c.width;J.e=c.height;J.buffer=q.R(J.m*J.e*4);J.name=c.name+".psd";var E=c.stack;for(var b=0;b<E.length;
b++){var l=E[b],i=l.type,F=l.rect,k=l.format,U=J._I();U.Yq(l.name);U.Ut(l.visible);U.opacity=Math.round(255*l.opacity);
var I=U.rect=new ha(F.x,F.y,F.w,F.h);J.B.push(U);if(i=="image"){var V=o[l.content].buffer,u=hR.M1(V),N=hR.rb(u),e=N.zu(V)[0];
I.m=e.XO.m;I.e=e.XO.e;U.buffer=new Uint8Array(e.data)}else if(i=="shape"){U.Il|=16;var B=U.add.vstk=bs.Ao.Bt(!0),j=U.add.vmsk=new h._b,T;
U.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:0,I:0,J:0})}};var a=k.variant,P=k.fill;if(a=="rectangle"||a=="rounded"){T=q.p.MP.Rect(I.x,I.y,I.m,I.e,k.radii)}else if(a=="ellipse"){T=q.p.MP.yr(I.x,I.y,I.m,I.e)}else if(a=="path"){var v=Typr.U.SVGToPath(l.content),R={G:v.cmds,j:v.crds};
T=q.O.XR(R);var y=q.p.d5(T);q.p.Sp(T,new cW(I.m/y.m,0,0,I.e/y.e,I.x,I.y))}else console.log(k);U.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:0,I:0,J:0})}};
if(P.type=="color"){U.add.SoCo.Clr.v=q.r.qP(CSS.vp(P.value))}else if(P.type=="gradient"){delete U.add.SoCo;
var t=U.add.GdFl=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),g=t.Grad.v;g.Intr.v=0;var H=[],_=P.value.stops;
for(var $=0;$<_.length;$++){var Y=_[$],K=CSS.vp(Y.color);H.push([Y.position,[K.o/255,K.I/255,K.J/255]])}q.r.p3(H,g);
t.Angl.v.val=-(P.value.direction+F.r)+90+180}else console.log(P);var f=I.x+I.m/2,m=I.y+I.e/2,C=new cW;
C.translate(-f,-m);C.rotate(-F.r*Math.PI/180);C.translate(f,m);q.p.Sp(T,C);var Z=l.style;if(Z&&Z.outline){var A=Z.outline;
B.strokeEnabled.v=!0;B.strokeStyleLineWidth.v.val=A.size;B.strokeStyleContent.v.Clr.v=q.r.qP(CSS.vp(A.color))}j.$=T;
U.pw();U.vl(J)}else if(i=="text"){U.add.lnsr="rend";U.add.TySh=iv.hK(0,0);U.add.TySh.Ca=new ha(0,0,100,100);
var d=U.add.TySh.TC;iv.Ag(d,1);iv.UC(d,[0,0,I.m,I.e]);var G=l.content;iv.Jq(d,0,G);var r=iv.eU(d,0,1);
iv.UE(r,k.font.name);var X=r.kJ.FontSize=Math.round(k.size);if(k.fill&&k.fill.value){var w=CSS.vp(k.fill.value);
r.kJ.FillColor={Type:1,Values:[1,w.o/255,w.I/255,w.J/255]}}var S=k.linespace;if(S){r.kJ.AutoLeading=!1;
r.kJ.Leading=Math.round(X*(1.06+parseFloat(S)));console.log(S,r.kJ)}r.kJ.FauxBold=k.bold;r.zR.Justification=["left","right","center","justify"].indexOf(k.align);
iv.oO(d,0,G.length,r);U.add.TySh.M=new cW(1,0,0,1,I.x+Math.round(X*.1),I.y+Math.round(X*.1));U.rect=new ha}else console.log(l)}J.C6=!0};
hR.Wf={};hR.Wf.gi=!0;hR.Wf.zu=function(x,J){cU.QE(x,J)};var cU=function(){function x(I,V){var u=Date.now(),N=UZIP.parse(I);
console.log(N);console.log(Date.now()-u);u=Date.now();var e=N["maindoc.xml"],B=new DOMParser,j=B.parseFromString(D.cA(e),"image/svg+xml").children[0].children[0],T=j.getAttribute("name"),a=V.m=k(j,"width"),P=V.e=k(j,"height");
V.yV=Math.round(k(j,"x-res"));var v=j.children[0].children;J(v,V,{ft:T,dM:N,_m:null});console.log(Date.now()-u);
u=Date.now()}function J(I,V,u){for(var N=0;N<I.length;N++){var e=I[I.length-1-N],B=e.getAttribute("nodetype");
if(B=="transparencymask"){u._m.F=U(e,u);continue}var j=e.getAttribute("compositeop"),T=e.getAttribute("filename"),a=e.getAttribute("channelflags"),P=e.children;
P=P.length==0?null:P[0].children;var v=V._I();if(B=="paintlayer"){var R=k(e,"x"),y=k(e,"y"),t=u.dM[u.ft+"/layers/"+T+".defaultpixel"],g=u.dM[u.ft+"/layers/"+T],H=F(g);
v.rect=H[0];v.rect.offset(R,y);v.buffer=H[1];if(v.rect.Kx()&&t.join()!="0,0,0,0"){v.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:t[0],I:t[1],J:t[2]})}};
v.vl(V)}}else if(B=="grouplayer"){v.add.lsct=es.tI;v.n5="pass";v.Il|=24;V.B.push(V.Tv());var _=u._m;
u._m=v;J(P,V,u);u._m=_}else if(B=="shapelayer"){var g=u.dM[u.ft+"/layers/"+T+".shapelayer/content.svg"],Y=D.cA(g),K=V.cv(g,v.getName(),0,0);
v=K;var f=new ha(0,0,V.m,V.e),m=q.O.ny(f).j;v.add.SoLd.Trnf=n.Y.AA(m);v.add.SoLd.nonAffineTransform=n.Y.AA(m);
v.aW(V,!1)}else if(B=="clonelayer"){var $=-1;for(var C=0;C<I.length;C++)if(I[C].getAttribute("name")==e.getAttribute("clonefrom"))$=C;
if($!=-1){J([I[$]],V,u);v=V.B.pop()}}else console.log(B,e);v.Yq(e.getAttribute("name"));if(k(e,"locked")==1)v.add.lspf=1<<31;
v.Ut(k(e,"visible")==1);var Z={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[j];if(Z)v.n5=Z;
else console.log(j);v.opacity=k(e,"opacity");if(a=="1110")v.$j=!0;var A=P?P[0]:null;if(A&&A.tagName=="mask")v.F=U(A,u);
V.B.push(v)}}function o(I,V){var u=0,N=0,e=I.length,B,j,T;while(u<e){B=I[u++];if(B>31){j=B>>>5;if(j==7)j=7+I[u++];
T=(B&31)<<8|I[u++];var a=N-T-1,P=j>>>1;V[N++]=V[a++];V[N++]=V[a++];for(var $=0;$<P;$++){V[N++]=V[a++];
V[N++]=V[a++]}if((j&1)==1)V[N++]=V[a++]}else{for(var $=0;$<=B;$++){V[N++]=I[u++]}}}}function c(I,V){var u=0;
while(I[V+u]!=10)u++;return D.it(I,V,u)}var E=new ha(0,0,64,64),b=new Uint8Array(64*64*4),l=new Uint8Array(64*64*4);
function i(){for(var $=0;$<4096;$++){var I=$<<2;b[I+0]=l[$+8192];b[I+1]=l[$+4096];b[I+2]=l[$];b[I+3]=l[$+12288]}}function F(I){var V=0,u={};
for(var $=0;$<5;$++){var N=c(I,V);V+=N.length+1;N=N.split(" ");u[N[0]]=parseInt(N[1])}var e=u.PIXELSIZE,B=[],j=new ha;
while(V<I.length){var N=c(I,V),T=N.split(",");V+=N.length+1;if(T[2]!="LZF")throw T[2];E.x=parseInt(T[0]);
E.y=parseInt(T[1]);j=j.k7(E);var a=parseInt(T[3]);B.push([E.clone(),new Uint8Array(I.buffer,V+1,a-1)]);
V+=a}var P=q.R(j.P()*e);for(var $=0;$<B.length;$++){var v=B[$];o(v[1],l);if(e==4){i();q.St(b,v[0],P,j)}else q.zc(l,v[0],P,j)}return[j,P]}function k(I,V){return parseInt(I.getAttribute(V))}function U(I,V){var u=I.getAttribute("filename"),N=V.dM[V.ft+"/layers/"+u+".pixelselection"],e=F(N),B=new h.Tj;
B.NR=k(I,"visible")==1;B.rect=e[0];B.channel=e[1];return B}return{QE:x}}();hR.Cb={};hR.Cb.gi=!0;hR.Cb.zu=function(x,J){iX.QE(x,J)};
hR.Yr={};hR.Yr.zu=function(x){var J=new Uint8Array(x),o=hR.Yr.U4(J,0,0),c=o.sub[2],E=hR.Yr.M5(J,c),b=o.sub[3],l=hR.Yr.M5(J,b);
return[E,l]};hR.Yr.M5=function(x,J){var o=J.sub[J.sub.length-1],c=o.sub[0].z,E=o.sub[1].z,b=x.slice(c,c+16),l=x.slice(E,E+o.sub[1].size),i=D.ZR,F=x[c],k=i(x,c+1),U=i(x,c+5),I=x[c+13],V=new ha(0,0,k,U),u=q.R(k*U*4);
if(I){new Uint32Array(u.buffer).fill(4278190080)}else{UTEX.readBC1(x,E,u,k,U)}return{XO:V,data:u}};hR.Yr.U4=function(x,J,o){var c=D.it,E=D.ZR,b=c(x,J,4);
b=b.split("").reverse().join("");var l=E(x,J+4);if(l!=0){console.log(x.slice(J-8));throw l}var i=E(x,J+8);
while((i&3)!=0)i++;var F={UU:b,z:J+12,size:i};if(b=="CARF"||b=="CTEX"||b=="CREW"||b=="BMAP"){F.sub=[];
J+=12;if(b=="CTEX"||b=="CREW")J+=32;var k=F.z+F.size;while(J<k){var U=hR.Yr.U4(x,J,o+1);F.sub.push(U);
J+=12+U.size+(U.size&1)}}return F};hR.TU={};hR.TU.gi=!0;hR.TU.zu=function(x,J){hq.QE(x,J)};hR.WZ={};
hR.WZ.gi=!0;hR.WZ.zu=function(x,J){i8.QE(x,J)};hR.OV={};hR.OV.gi=!0;hR.OV.zu=function(x,J){dM.QE(x,J)};
hR.hc={};hR.hc.gi=!0;hR.hc.zu=function(x,J){fC.QE(x,J)};hR.GF={};hR.GF.gi=!0;hR.GF.zu=function(x,J){ax.QE(x,J)};
hR.Pc={};hR.Pc.gi=!0;hR.Pc.Jy=function(x,J,o,c,E,b){if(c==null)c=[!0,!1,!1,!1,!0];var l=gw.iN(x,{Re:c[0],hidden:c[1],ahB:c[2],afi:c[3],JE:c[4],auS:J,a3X:o},E.a0,b);
return l};hR.Pc.zu=function(x,J,o){gw.QE(x,J,o)};hR.CT={};hR.CT.gi=!0;hR.CT.zu=function(x,J){var o=150,c=new cW(1,0,0,-1,0,0);
c.scale(o/72,o/72);J.yV=o;var E=new ka(J,c,!0);FromPS.Parse(x,E)};hR.YN={};hR.YN.gi=!0;hR.YN.Jy=function(x,J,o,c,E){if(c==null)c=["",100,!1,!1,!1,0,!1];
c[7]=["jpg"];var b=new ToPDF;aN.iN(x,c,b,E.a0,J,o);return b.buffer};hR.YN.zu=function(x,J,o){var c=2;
while(!0){var E=c*72,b=new cW(1,0,0,-1,0,0);b.scale(E/72,E/72);J.yV=E;var l=new ka(J,b,!0);FromPDF.Parse(x,l);
var i=Math.max(J.m,J.e);if(o&&i<Math.max(o[0],o[1])){J.B=[];var F=c;while(i*(c/F)<Math.max(o[0],o[1]))c++}else break}};
hR.rh={};hR.rh.gi=!0;hR.rh.zu=function(x,J){var o=72,c=new cW(1,0,0,1,0,0);c.scale(o/72,o/72);J.yV=o;
var E=new ka(J,c,!1);FromWMF.Parse(x,E)};hR.PD={};hR.PD.gJ=!0;hR.PD.gi=!0;hR.PD.Jy=function(x,J,o,c,E){if(c==null)c=["",100,!1,!1,!1,0,!1];
c[7]=[];var b=new ToEMF;aN.iN(x,c,b,E.a0);return b.buffer};hR.PD.zu=function(x,J){var o=72,c=new cW(1,0,0,1,0,0);
c.scale(o/72,o/72);J.yV=o;var E=new ka(J,c,!1);FromEMF.Parse(x,E)};hR.d$={};hR.d$.gi=!0;hR.d$.zu=function(x,J){return fM.QE(x,J)};
hR.wc={};hR.wc.zu=function(){var x,J,o,c,E,b,l=0,i=0,F=0,k=0,U=0,T="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",a=null;
function I(P){var v=fa.QE(P),R=v.Ce,Y=0,K,f;console.log(v);var y=new Uint8Array(P);if(R=="ILBM")return V(v,y);
if(R=="CIMG")return e(v,y);if(R=="ANIM"&&v.sub[0].UU=="ADAT")return j(v,y);if(R!="ANIM")throw R;var t=D.ht,g=D.s,H=v.sub,_=V(H[0],y);
for(var m=1;m<H.length-2;m++){var C=_[Math.max(0,m-2)].aoD.slice(0),Z=H[m];for(var A=0;A<Z.sub.length;
A++){var d=Z.sub[A],G=d.z;if(d.UU=="ANHD"){var r=y[G++];if(r!=5)throw r;var c=y[G++],X=t(y,G),w=t(y,G+2);
if(X!=0&&X!=x)throw X;if(w!=0&&w!=J)throw w;var S=t(y,G+4),z=t(y,G+6);if(S!=0||z!=0)throw S;G+=8;var s=t(y,G);
G+=2;K=t(y,G);G+=2;if(y[G++]!=0)throw"e";if(y[G++]!=0)throw"e";f=t(y,G);G+=2}else if(d.UU=="DLTA"){var M=[],Q=G;
for(var $=0;$<16;$++)M.push(g(y,G+$*4));G+=64;var O=b;for(var W=0;W<E;W++){if(M[W]==0)continue;G=Q+M[W];
for(var e9=0;e9<O;e9++){var jV=y[G++],co=0;if(jV==0)continue;for(var $=0;$<jV;$++){var dz=y[G++];if(dz==0){var eh=y[G++],a9=y[G++];
for(var kB=0;kB<eh;kB++){C[(co*E+W)*O+e9]=a9;co++}}else if(dz<128){co+=dz}else{dz-=128;for(var kB=0;
kB<dz;kB++){C[(co*E+W)*O+e9]=y[G+kB];co++}G+=dz}}}}}else console.log(d.UU)}if(m==1&&K>100)K=0;var dc=K==0?17:Math.round((K-Y)*1e3/60);
_.push({data:N(y,C).buffer,XO:new ha(0,0,x,J),aoD:C,a1:"_a_frm"+m+","+dc});Y=K}if(F!=0&&x>J*2){var eT=new Uint32Array(x*J*2);
eT.fill(4294967295);for(var m=0;m<_.length;m++){var fv=_[m],jS=new Uint32Array(fv.data);for(var co=0;
co<J;co++){var cx=co*2;for(var e9=0;e9<x;e9++)eT[cx*x+e9]=jS[co*x+e9];cx++;for(var e9=0;e9<x;e9++)eT[cx*x+e9]=jS[co*x+e9]}fv.XO.e*=2;
fv.data=eT.slice(0).buffer}}return _}function V(P,v){var R,y,t;l=0;i=0;k=0;U=0;F=0;for(var g=0;g<P.sub.length;
g++){var H=P.sub[g],_=H.z;if(H.UU=="BMHD"){var Y=[];for(var $=0;$<4;$++)Y[$]=D.ht(v,_+2*$);_+=8;var K=Y[2],f=Y[3];
x=Y[0];J=Y[1];o=v[_++];c=v[_++];t=v[_++];if(t!=0&&t!=1)throw t;b=x+15>>>4<<1;E=o+c}else if(H.UU=="CMAP")l=_;
else if(H.UU=="CAMG"){var m=D.s(v,_);i=m&32768,F=m&4,k=m&2048;U=m&128}else if(H.UU=="BODY"){y=q.R(b*J*E);
if(t==0)y=v.slice(_,_+y.length);if(t==1)j0.XB(v,_,H.size,y,0,y.length)}else if(H.UU=="PLTP"){console.log(v.slice(_,_+H.size))}}R=N(v,y);
return[{XO:new ha(0,0,x,J),data:R.buffer,aoD:y}]}function u(P,bz){return P[bz>>>3]>>>7-(bz&7)&1}function N(P,v){var R=o-2,y=(1<<R)-1,t=Math.round(255/y),g,H,_,Y=b*8;
if(l!=0){var K=1<<o,f=!0;for(var $=1;$<K;$++){var m=l+$*3;if(P[m]!=P[m-3]||P[m+1]!=P[m-2]||P[m+2]!=P[m-1]&&P[m+2]!=P[m-1]+1)f=!1}if(f){for(var $=0;
$<K;$++){var m=l+$*3,C=Math.round($*255/(K-1));P[m]=P[m+1]=P[m+2]=C}}}var Z=q.R(x*J*4);for(var A=0;A<J;
A++)for(var d=0;d<x;d++){var G=0;for(var r=0;r<E;r++){var X=(A*E+r)*Y+d,w=u(v,X);G|=w<<r}G=G&(1<<o)-1;
var $=A*x+d,S=$<<2;if(l!=0){if(k!=0&&G>>>R!=0){var z=G>>>R,s=(G&y)*t;if(z==1)_=s;else if(z==2)g=s;else if(z==3)H=s}else{var s=l+G*3;
g=P[s+0];H=P[s+1];_=P[s+2]}}else{if(o==24){g=G>>>0&255;H=G>>>8&255;_=G>>>16&255}else if(o==16){var M=0,Q=1,W=4;
for(var r=0;r<16;r++)M+=(G>>>r&1)<<15-r;var O=(1<<Q)-1,e9=(1<<W)-1;g=(M>>>7&O)*(255/O);H=_=g}else throw o}Z[S+0]=g;
Z[S+1]=H;Z[S+2]=_;Z[S+3]=255}return Z}function e(P,v){var R=1,y=2,t=4,g=D.s,H=D.ht,x=200,J=200,_,Y,K,f;
for(var m=0;m<P.sub.length;m++){var C=P.sub[m],Z=C.z;if(C.UU=="TBHD"){x=g(v,Z);Z+=4;J=g(v,Z);Z+=4;f=q.R(x*J*4);
K=new ha(0,0,x,J);Z+=4;var A=g(v,Z);Z+=4;var d=H(v,Z);Z+=2;if(d!=0)throw"e";Y=H(v,Z);Z+=2;var G=g(v,Z);
Z+=4;if(G!=1)throw G;_=0;if(A&R)_+=3;if(A&y)_+=1}if(C.Ce=="TBMP"){var r=C.sub;for(var X=0;X<r.length;
X++){var w=r[X].z,S=r[X].size,z=H(v,w),s=H(v,w+2),M=H(v,w+4)-z+1,Q=H(v,w+6)-s+1;w+=8;var O=q.R(M*Q*4),W=q.R(M*Q);
O.fill(255);for(var $=0;$<4;$++){w=B(v,w,S-8,W,0);q.qR(W,O,3-$)}if(w!=r[X].z+S)throw"e";q.St(O,new ha(z,s,M,Q),f,K)}}}return[{XO:K,data:f.buffer}]}function B(P,v,R,y,t){var g=v;
while(t<y.length){var H=P[v++],gN=(H&127)+1;if(H&128){H=P[v++];for(var $=0;$<gN;++$)y[t++]=H}else{for(var $=0;
$<gN;++$)y[t++]=P[v++]}}return v}function j(P,v){if(a==null){var R=hR.r7(T);a=new Uint32Array(pako.inflate(new Uint8Array(R)).buffer)}var y=D.s,t=D.ht,g=P.sub[0],H=P.sub[1],x=t(v,g.z),J=t(v,g.z+2),_=t(v,g.z+4),C,$,Z,A,d,G;
if(_!=3)throw _;var Y=new ha(0,0,x,J),K=q.R(x*J*4),f=q.R(x*J);K.fill(255);var m=new Uint32Array(K.buffer),r=H.z;
for(A=0;A<2;A++){G=A;d=0;C=Math.floor((x*J+2-A-1)/2);while(C>0){$=v[r++];if($&128){$=257-$;C-=$;Z=v[r++];
d=d&a[Z]|a[Z+256];do{m[G]=d;G+=2}while(--$)}else{$++;C-=$;do{Z=v[r++];m[G]=d=d&a[Z]|a[Z+256];G+=2}while(--$)}}}for(var $=0;
$<K.length;$+=4){var X=K[$+3],w=K[$+2],S=K[$+1];K[$]=X;K[$+1]=w;K[$+2]=S;K[$+3]=255}for(var z=0;z<J>>>1;
z++){for(var s=0;s<x;s++){var $=z*x+s,Z=(J-1-z)*x+s,M=m[$];m[$]=m[Z];m[Z]=M}}return[{XO:Y,data:K.buffer}]}return I}();
hR.Z9={};hR.Z9.gi=!1;hR.Z9.Jy=function(x,J,o,c){var E=x[0][4],b=new Uint8Array(x[0][0]),l=2,i=E?!0:!1,F=i?4:3,k=new Uint8Array(J*o*F);
for(var U=0;U<o;U++)for(var I=0;I<J;I++){var V=U*J+I<<2,u=((o-U-1)*J+I)*F;k[u]=b[V+2];k[u+1]=b[V+1];
k[u+2]=b[V+0];if(i)k[u+3]=E[0][U*J+I]}if(!0){var N=k.length,e=0,B=new Uint8Array(N*2),j=0,T=0,a=J*F;
while(T<N){var P=T,v=0,R=a*(Math.floor(T/a)+1);while(P<R&&v<128){var y=!0;for(var $=0;$<F;$++)y=y&k[T+$]==k[P+$];
if(!y)break;P+=F;v++}if(v==1){var t=1;while(t<128&&T+(t+1)*F<R){var y=!0,g=T+t*F;for(var $=0;$<F;$++)y=y&k[g+$]==k[g+F+$];
if(y)break;t++}B[j++]=t-1;for(var H=0;H<t;H++)for(var $=0;$<F;$++)B[j++]=k[T++]}else{B[j++]=127+v;for(var $=0;
$<F;$++)B[j+$]=k[T+$];j+=F;T+=F*v;e+=v}}k=B.slice(0,j);l+=8}var _=new Uint8Array(18+k.length+26);_[2]=l;
D.K7(_,12,J);D.K7(_,14,o);_[16]=F*8;_[17]=F==4?8:0;_.set(k,18);D.wZ(_,18+k.length+8,"TRUEVISION-XFILE.");
return _.buffer};hR.Z9.zu=function(x){var J=new Uint8Array(x),o=0,c=J[0],E=J[1],b=J[2],l=J[4]*256+J[3],i=J[6]*256+J[5],F=J[7],k=J[9]*256+J[8],U=J[11]*256+J[10],I=J[13]*256+J[12],V=J[15]*256+J[14],u=J[16],N=J[17],e=N>>>4,B=D.it(J,18,c),j=q.R(I*V*4),o=18+c+(i*F>>>3),T=new Uint8Array(J.buffer,o);
if(b>3){var a=0,P=J,v=new Uint8Array(I*V*u>>>3),R=o,y=0,t=J.length,g=u>>>3;while(y<v.length){var bz=P[R];
R++;if(bz<128)for(var $=0;$<bz+1;$++){for(var H=0;H<g;H++){v[y]=P[R];y++;R++}}else{for(var $=0;$<bz-127;
$++){for(var H=0;H<g;H++){v[y]=P[R+H];y++}}R+=g}}b-=8;T=v;o=R}else o+=I*V*u>>>3;var _=new Uint8Array(4),Y=hR.Z9.a4A;
for(var K=0;K<V;K++)for(var f=0;f<I;f++){var m=(e&2)==0?(V-K-1)*I+f:K*I+f,C=K*I+f,Z,A,d,G=255,r=m*u>>>3;
if(b==1){var X=0;if(u==8)X=T[r];else throw"e";Y(J,18+c+l+(X*F>>>3),F,_);Z=_[0];A=_[1];d=_[2];G=_[3]}else if(b==2){Y(T,r,u,_);
Z=_[0];A=_[1];d=_[2];G=_[3]}else if(b==3){if(u==8)Z=A=d=T[r];else throw"e"}var w=C*4;j[w]=Z;j[w+1]=A;
j[w+2]=d;j[w+3]=G}var _={XO:new ha(0,0,I,V),data:j.buffer,a1:B};if(q._6(j)){var S=q.R(I*V);q.z$(j,S,3);
q.xj(j,4278190080,16777215);_._w=[S]}return[_]};hR.Z9.a4A=function(x,J,o,c){var E,b,l,i=255;if(o==24||o==32){l=x[J];
b=x[J+1];E=x[J+2];if(o==32)i=x[J+3]}else if(o==16){var F=x[J+1]<<8|x[J+0];E=F>>>10&31;b=F>>>5&31;l=F>>>0&31;
E=Math.round(E*(255/31));b=Math.round(b*(255/31));l=Math.round(l*(255/31))}else throw"e";c[0]=E;c[1]=b;
c[2]=l;c[3]=i};hR.azH=function(){var x,J=[],o=!1;function c(l,i,F,k){x=F;J.push(l,k);E()}function E(){if(o||J.length==0)return;
o=!0;hR.arW(J.shift(),"image/avif",b)}function b(l){x(null,[l],J.shift());o=!1;E()}return{gi:!1,ua:!0,zu:c}}();
hR.kW=function(){var x,J=[],o=!1,c,E,b,l=10,i,F,k,U=0,V;function I(a,P,v,R,y){x=v;J.push(a,R);var t=gO.QE(a),g=gO.aou(t,"vide"),H=g.tkhd,_=g.mdia.minf.stbl,Y=H.duration/t.moov.mvhd.PZ,K=_.stsz.length,f=Math.round(K/Y);
console.log(t);c=H.Qh;E=H.ao;var m=c+" \xD7 "+E+" px, "+K+" frames, "+g8.if(c*E*4*K)+" decoded<br/>";
m+=Y.toFixed(2)+" seconds, "+f+" FPS";var C=new ko(L.E.N,!0);C.data={d:L.H.yI,AN:"setFPS",xg:l,sA:e,a0r:m};
y.c(C)}async function u(){if(o||J.length==0)return;o=!0;var a=J.shift(),P=gO.QE(a),v=gO.aou(P,"vide"),R=v.tkhd,y=v.mdia.minf.stbl,t=y.stsd.ak4.avcC,g=R.duration/P.moov.mvhd.PZ,H=y.stsz.length,_=Math.round(H/g),Y=Math.max(1,Math.round(_/l)),m=0;
if(y.stsd.rC=="hvc1"||y.stsd.rC=="hev1")alert("HEVC codec not supported");V=Date.now();c=R.Qh;E=R.ao;
b=[];i=document.createElement("canvas");F=i.getContext("2d");i.width=c;i.height=E;var K=new Uint8Array(a),f=[];
if(y.stsd.rC=="raw "){for(var C=0;C<H;C++){var Z=c*E;if(m%Y==0){var A=gO.aD3(P,"vide",C),d=new Uint8Array(a,A[0],A[1]),G=q.R(c*E*4);
G.fill(255);for(var $=0;$<Z;$++){var r=$*4,X=$*3;G[r]=d[X];G[r+1]=d[X+1];G[r+2]=d[X+2]}var w=b.length;
b[w]={a1:"_a_"+w+","+Math.round(Y*1e3/_),XO:new ha(0,0,c,E),data:G}}m++}N();return}var S=new VideoDecoder({output:function(M){if(m%Y==0){F.drawImage(M,0,0);
M.close();var G=F.getImageData(0,0,c,E).data.buffer,w=b.length;b[w]={a1:"_a_"+w+","+Math.round(Y*1e3/_),XO:new ha(0,0,c,E),data:G}}else M.close();
clearTimeout(U);U=setTimeout(N,100);m++},error:function(M){console.log(M.message)}}),z={codec:"vp09.00.10.08",codedWidth:c,codedHeight:E};
if(t){z.codec="avc1.640034";z.description=K.slice(t.z,t.z+t.y2)}S.configure(z);for(var $=0;$<H;$++){var A=gO.aD3(P,"vide",$),d=new Uint8Array(a,A[0],A[1]),s=new EncodedVideoChunk({timestamp:$,duration:1e3,type:$==0?"key":"delta",data:d});
S.decode(s)}await S.flush()}function N(){x(null,b,J.shift());o=!1;console.log(Date.now()-V);u()}function e(a){l=Math.max(1,Math.min(60,a));
if(window.VideoDecoder)u();else B()}function B(){if(o||J.length==0)return;o=!0;i=document.createElement("canvas");
F=i.getContext("2d");k=document.createElement("video");var a="data:"+"video/mp4"+";base64,"+hR.EA(J.shift());
k.src=a;k.muted=!0;k.currentTime=0;k.addEventListener("canplay",j,!1);k.addEventListener("timeupdate",T,!1)}function j(a){k.removeEventListener("canplay",j);
c=i.width=k.videoWidth;E=i.height=k.videoHeight;b=[];k.play()}function T(a){clearTimeout(U);F.drawImage(k,0,0);
b.push({a1:"_a_"+b.length+","+Math.round(1e3/l),XO:new ha(0,0,c,E),data:F.getImageData(0,0,c,E).data.buffer});
var P=k.currentTime+1/l;if(P<k.duration&&a){k.currentTime=P;U=setTimeout(T,1e3)}else{x(null,b,J.shift());
k.removeEventListener("timeupdate",T);o=!1;B();b=null}}return{gi:!1,ua:!0,zu:I}}();hR.kW.Jy=function(){var x,J,o,c,E,b,l=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],i=40,F,k,U,I,V,u;
function N(K,f){if(!E&&f){if(f.description){E=f.description}if(f.decoderConfig&&f.decoderConfig.description){E=f.decoderConfig.description}}var m=new ArrayBuffer(K.byteLength);
K.copyTo(m);e(m);o.push({duration:K.duration,timestamp:K.timestamp,type:K.type,byteLength:K.byteLength});
if(K.type=="key"){c.push(o.length)}}function e(K){var f=new Uint8Array(b.byteLength+K.byteLength);f.set(new Uint8Array(b));
f.set(new Uint8Array(K),b.byteLength);b=f.buffer}function B(K){return new Uint8Array([K.charCodeAt(0),K.charCodeAt(1),K.charCodeAt(2),K.charCodeAt(3)]).buffer}function j(K){var f=new Uint32Array([K]),m=new Uint8Array(f.buffer);
return new Uint8Array([m[3],m[2],m[1],m[0]])}function T(K){V[I]=K;++I}function a(K){V[I]=K>>8&255;V[I+1]=K&255;
I+=2}function P(K){V[I]=K>>16&255;V[I+1]=K>>8&255;V[I+2]=K&255;I+=3}function v(K){V[I]=K>>24&255;V[I+1]=K>>16&255;
V[I+2]=K>>8&255;V[I+3]=K&255;I+=4}function R(K){U.push(I);I+=4;y(K)}function y(K){for(var $=0;$<K.length;
++$){V[I]=K.charCodeAt($);++I}}function t(K){V.set(new Uint8Array(K),I);I+=K.byteLength}function g(){var K=I;
I=U.pop();v(K-I);I=K}function H(){U=[];var K=[],f={},m=9e4,C=o.length,Z=c.length,A=-1;for(var $=0;$<o.length;
++$){F+=o[$].duration/1e3;k+=o[$].byteLength;if(o[$].duration!=A){if($!=0){K.push(f)}A=o[$].duration;
f={duration:9e4*o[$].duration/1e6,sampleCount:1}}else{f.sampleCount=f.sampleCount+1}}k+=8;K.push(f);
var d=K.length,G=579+E.byteLength+4*C+4*C+4*Z+8*d;V=new Uint8Array(G);I=0;R("moov");R("mvhd");v(0);v(0);
v(0);v(1e3);v(F);v(65536);a(256);a(0);v(0);v(0);v(65536);v(0);v(0);v(0);v(65536);v(0);v(0);v(0);v(1073741824);
v(0);v(0);v(0);v(0);v(0);v(0);v(2);g();R("trak");R("tkhd");v(7);v(0);v(0);v(1);v(0);v(F);v(0);v(0);a(0);
a(0);a(256);a(0);v(65536);v(0);v(0);v(0);v(65536);v(0);v(0);v(0);v(1073741824);v(x*65536);v(J*65536);
g();R("mdia");R("mdhd");v(0);v(0);v(0);v(m);v(F/1e3*m);T(85);T(196);a(0);g();R("hdlr");v(0);v(0);y("vide");
v(0);v(0);v(0);y("VideoHandler");T(0);g();R("minf");R("vmhd");v(1);a(0);a(0);a(0);a(0);g();R("dinf");
R("dref");v(0);v(1);R("url ");v(1);g();g();g();R("stbl");R("stsd");v(0);v(1);R("avc1");a(0);a(0);a(0);
a(1);a(0);a(0);v(0);v(0);v(0);a(x);a(J);v(4718592);v(4718592);v(0);a(1);for(var $=0;$<8;++$){v(0)}a(24);
a(-1);R("avcC");t(E);g();g();g();R("stts");v(0);v(d);for(var $=0;$<d;++$){v(K[$].sampleCount);v(K[$].duration)}g();
R("stsc");v(0);v(1);v(1);v(1);v(1);g();R("stsz");v(0);v(0);v(C);for(var $=0;$<C;++$){v(o[$].byteLength)}g();
R("stco");v(0);v(C);var r=i;for(var $=0;$<C;++$){v(r);r+=o[$].byteLength}g();R("stss");v(0);v(Z);for(var $=0;
$<Z;++$){v(c[$])}g();g();g();g();g();g();return}function _(K,f,m){var C=new Uint8Array(x*J*4),Z=new Uint8Array(K),A=f?x-1:x,d=m?J-1:J;
if(f){for(var $=0;$<d;++$){C.set(Z.slice(4*$*A,4*$*A+4*A),4*$*x);C[4*($+1)*x-4]=Z[4*($+1)*A-4];C[4*($+1)*x-3]=Z[4*($+1)*A-3];
C[4*($+1)*x-2]=Z[4*($+1)*A-2];C[4*($+1)*x-1]=Z[4*($+1)*A-1]}if(m){C.set(C.slice(4*x*d-4*x,4*x*d),4*x*d)}}else if(m){C.set(Z);
C.set(Z.slice(4*A*d-4*A),4*A*d)}return C.buffer}async function Y(K,f,m,C){var Z=Date.now(),A=!1,d=!1,M=0;
if(f%2!=0){A=!0;x=f+1}else{x=f}if(m%2!=0){d=!0;J=m+1}else{J=m}E=null;c=[];o=[];F=0;k=0;b=new Uint8Array;
e(new Uint8Array(l));e(j(0).buffer);e(B("mdat"));var G=new VideoEncoder({output:(chunk,opts)=>N(chunk,opts),error:j4=>{console.log(j4)}}),r=.02*(1+Math.pow(3.2*C[0]/100,2.3)),X=r*x*J,w=X*K.length,S=Math.round(X*24),z={width:x,height:J,codec:"avc1.420034",bitrate:S},s=await VideoEncoder.isConfigSupported(z);
console.log(s);if(s.supported==!1){console.log("Encoding not supported. Config: ",s.config);return new Uint8Array(0).buffer}G.configure(z);
for(var $=0;$<K.length;++$){var Q=K[$][1]*1e3,O=K[$][0];if(d||A){O=_(K[$][0],A,d)}var W=new VideoFrame(O,{timestamp:M,duration:Q,format:"RGBA",codedWidth:x,codedHeight:J});
G.encode(W);W.close();M+=Q}await G.flush();H();u=new Uint8Array(b.byteLength+V.byteLength);u.set(new Uint8Array(b),0);
u.set(j(k),i-8);u.set(V,b.byteLength);var e9=Date.now();console.log(e9-Z);return u.buffer}return Y}();
hR.rg={};hR.rg.zu=function(x){var J=new Uint8Array(x),o=0,c=112,E=42,b=D.ZR,U;o+=8;var l=J[o];o++;if(l!=E)throw"e";
var i=b(J,o);o+=4;var F=D.Gp(J,o,i);o+=i*2;var k=[];while(o<J.length){U=b(J,o);o+=4;if(U!=c)throw U;
o+=4;U=J[o];o++;if(U!=E)throw U;var I=b(J,o);o+=4;var V=J[o];o++;if(V!=E){o-=5;I=b(J,o);o+=8;U=J[o];
o++;if(U!=E)throw U}var u=b(J,o)*2;o+=4;if(I>0)k.push(o+u);o+=u+I}var N=new DOMParser,e=N.parseFromString(F,"image/svg+xml").firstChild.firstChild,B=[];
hR.rg.r9(e,J,k,B);return B};hR.rg.r9=function(x,J,o,c){var E=x.firstChild.firstChild;if(E.tagName=="Image"){var b=E.getElementsByTagName("ImageDescription")[0],l=b.children[0].children,i=b.children[1].children,F=o.shift(),k=[];
for(var $=0;$<i.length;$++)k.push(parseInt(i[$].getAttribute("NumberOfElements")));while(k.length>3)k[2]*=k.pop();
var U=l.length,I=k[0],V=k[1],u=k[2],N=parseInt(i[0].getAttribute("BytesInc"));for(var e=0;e<u;e++){var B=q.R(I*V*4);
q.xj(B,4278190080);for(var j=0;j<U;j++){var T=q.R(I*V);if(N==1)for(var a=0;a<T.length;a++)T[a]=J[F+a];
else if(N==2)for(var a=0;a<T.length;a++)T[a]=Math.min(255,(J[F+a*2+1]<<8|J[F+a*2])>>>2);else throw N;
if(j!=3)q.qR(T,B,j);if(U==1){q.qR(T,B,1);q.qR(T,B,2)}F+=I*V*N}c.push({XO:new ha(0,0,I,V),data:B.buffer})}}else{var P=x.children,v=0;
while(v<P.length&&P[v].tagName!="Children")v++;if(v==P.length)throw"e";P=P[v].children;for(var R=0;R<P.length;
R++)hR.rg.r9(P[R],J,o,c)}};hR.aiC=function(){function x(l,i,F,k,U){var I=new Int8Array(l.buffer),V=new Int8Array(k.buffer),u=i+F;
while(i<u){var bz=I[i];i++;if(bz>=0&&bz<128)for(var $=0;$<bz+1;$++){V[U]=I[i];U++;i++}if(bz>=-127&&bz<0){for(var $=0;
$<-bz+1;$++){V[U]=I[i];U++}i++}}return U}function J(l,i,F,k,U,I){var V=i*F*k>>>3,u=q.R(V*U),N=c(l,0,0,0)[0];
for(var e=0;e<U;e++){var B=N[e+1];if(I){var j=hR.rb("jpg").zu(B.buffer),T=q.R(V);q.Sk(new Uint8Array(j[0].data),T);
u.set(T,V*e)}else if(B[0]==255&&B[1]==216&&B[2]==255){var a=UTIF.LosslessJpegDecode(B);u.set(new Uint8Array(a.buffer),V*e)}else x(B,64,B.length,u,V*e)}return u}function o(l){var i=new Uint8Array(l),F=0,k=D.it(i,0,128);
F+=128;var U=D.it(i,F,4);F+=4;var I=E(i,F,0)[0],V=I.g28;if(V==null){alert("No image.");return[]}var u=V.cols,N=V.rows,e=u*N,B=V.photoInterpret,j=V.bitsAlloc,T=V.bitsStored,a=V.lossyCompr;
if(a==null)a=I.g8.lossyCompr;var P=I.g7fe0.pixelData,v=V.numOfFrames;v=v?parseInt(v):1;var R=new Uint8Array(P.buffer),y=e*j>>>3;
if(R.length!=y*v){P=J(P,u,N,j,v,a)}else{}if(j==16)P=new Uint16Array(P.buffer);console.log(V);console.log(I);
var t=[];for(var g=0;g<v;g++){var H=g*y,l=q.R(u*N*4);l.fill(255);if(B=="MONOCHROME2"){var _=0,Y=255,K=V.largestValue,f=V.smallestValue;
if(K!=null){Y=K;_=f}else if(T!=8){Y=0;_=1e9;for(var $=0;$<e;$++){var m=P[H+$];if(m>1<<T-8){if(m>Y)Y=m;
if(m<_)_=m}}}var C=255/(Y-_);for(var $=0;$<e;$++){var m=Math.max(0,Math.min(255,(P[H+$]-_)*C)),Z=$*4;
l[Z]=l[Z+1]=l[Z+2]=m}}else if(B=="PALETTE COLOR"){var A=V.pltRed,d=V.pltGreen,G=V.pltBlue;for(var $=0;
$<e;$++){var r=P[H+$],Z=$*4;l[Z]=A[r]>>>8;l[Z+1]=d[r]>>>8;l[Z+2]=G[r]>>>8}}else throw B;t.push({XO:new ha(0,0,u,N),data:l.buffer})}return t}function c(l,i,F,k){if(F==0)F=l.length;
var U=D._K,I=D.wG,V=D.ZR,u=[],N=i;while(i<F){var e=U(l,i);i+=2;var B=U(l,i);i+=2;var j=V(l,i);i+=4;if(e==65534&&B==57344){if(j==4294967295){var T=E(l,i,k+1);
u.push(T[0]);i=T[1]}else{u.push(l.slice(i,i+j));i+=j}}else if(e==65534&&B==57357){}else if(e==65534&&B==57565)break;
else throw"e"}return[u,i]}function E(l,i,F){var k=D._K,U=D.wG,I=D.ZR,V={},u="\t".repeat(F);while(i<l.length){var N=k(l,i),T="",a=0,v=null;
i+=2;var e=k(l,i);i+=2;var B=N.toString(16),j=e.toString(16);if(N==65532)break;if(N==65534&&e==57357){i-=4;
break}if(N==65534&&e==57565)throw"e";if(e==0){i+=8;continue}if(65<=l[i+1]){T=D.it(l,i,2);i+=2;if(T=="OB"||T=="SQ"||T=="OW"){a=I(l,i+2);
i+=6}else{a=k(l,i);i+=2}}else{T=b[B][j].split(",")[1];a=I(l,i);i+=4}console.log(B,j,T,a);var P=b[B][j];
if(P)P=P.split(",")[0];if(P==null){P="t"+j}if(T=="SQ"){var R=c(l,i,i+a,F);v=R[0];i=R[1];a=0}else if(T=="US")v=k(l,i);
else if(T=="SS")v=U(l,i);else if(T=="UL")v=I(l,i);else if(T=="FL")v=D.iu(l,i);else if(T=="AT")v=[k(l,i),k(l,i+2)];
else if(T=="OB")v=l.slice(i,i+a);else if(T=="OW")v=new Uint16Array(l.slice(i,i+a).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(T)!=-1){var y=i+a;
while(l[y-1]==0)y--;v=D.it(l,i,y-i).trim()}else{console.log(u,JSON.stringify(D.it(l,i,Math.min(a,32))));
throw T}if(V["g"+B]==null)V["g"+B]={};V["g"+B][P]=v;i+=a}return[V,i]}var b={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{zu:o}}();hR.pt={};hR.pt.zu=function(x){var J=new Uint8Array(x),o=0,c={},U=1e9;for(var $=0;$<306;
$++){var E=D.it(J,o,8).trim(),b=D.it(J,o+9,71).split("/")[0].trim();c[E]=b;o+=80;if(E=="END"){o=Math.ceil(o/2880)*2880;
break}}var l=parseInt(c.NAXIS1),i=parseInt(c.NAXIS2),F=l*i,k=parseInt(c.BITPIX),I=-1e9,V=new Float32Array(F),u=new Float32Array(x,o,x.byteLength-o>>>2);
for(var $=0;$<F;$++){var N=$<<2,e=$<<1;if(k==-32){var B=J[o+N+0];J[o+N+0]=J[o+N+3];J[o+N+3]=B;var B=J[o+N+1];
J[o+N+1]=J[o+N+2];J[o+N+2]=B;V[$]=u[$]}else if(k==16){V[$]=D._K(J,o+e)}else throw k;var j=V[$];if(j<U)U=j;
if(j>I)I=j}var T=q.R(F*4),a=1/I;for(var P=0;P<i;P++)for(var v=0;v<l;v++){var $=P*l+v,R=(i-P-1)*l+v,N=R<<2,j=V[$]*a;
T[N]=T[N+1]=T[N+2]=255*j;T[N+3]=255}return[{XO:new ha(0,0,l,i),data:T,a1:c.OBJECT}]};hR.fk={};hR.fk.zu=function(x){var J=new Uint8Array(x),o=16,c=D.it(J,o,4),b=32,j=0,T=0,a=!1,A;
o+=4;var E=D.it(J,o,8);o+=8;while(J[o+b-1]==0)b--;var l=D.it(J,o,b);o+=32;var i=D.it(J,o,4);o+=4;o+=20;
var F=D.s(J,o);o+=4;var k=D.s(J,o);o+=4;var U=D.s(J,o);o+=4;var I=D.s(J,o);o+=4;var V=D.s(J,o);o+=4;
var u=D.s(J,o);o+=4;var N="FujiFilm "+l,e=[0,1,1,2];if(N=="FujiFilm X10"){N="FujiFilm FinePix X10";e=[2,1,1,0]}var B={t271:["FujiFilm"],t272:[N],t277:[1],t33421:[2,2],t33422:e,vx:1};
o=U;var P=[],v=D.ht,R=D.s(J,o);o+=4;for(var $=0;$<R;$++){var y=v(J,o);o+=2;var t=v(J,o);o+=2;if(y==256){T=v(J,o);
j=v(J,o+2)}else if(y==272){P=[v(J,o),v(J,o+2)]}else if(y==273){P.push(v(J,o),v(J,o+2))}else if(y==304){a=!(J[o]>>>7)}else if(y==305){var g=Math.round(Math.sqrt(t)),H=[];
for(var _=0;_<t;_++)H.push(J[o+_]);H.reverse();B.t33421=[g,g];B.t33422=H}else if(y==12272){var Y=v(J,o),K=v(J,o+2),f=v(J,o+6);
B.t50728=[Y/K,1,Y/f]}o+=t}var m=j<T,C=J.slice(V,V+u),Z=Math.round(u*8/(j*T));if(C[0]==73&&C[1]==73&&C[2]==42){A=UTIF.decode(C.buffer)[0].fujiIFD;
Z=A.t61443[0];var d=A.t61454,G=A.t61450;if(G)B.t50714=G;if(d)B.t50728=[d[0]/d[1],1,d[0]/d[2]];var r=A.t61447[0];
C=C.slice(r,r+A.t61448[0])}var u=C.length,X=u*8<j*T*Z;if(X){console.log("compressed");var w=B.t33422,S=~~Math.sqrt(w.length),z=[];
for(var $=0;$<S;$++)z[$]=w.slice($*S,$*S+S);C=new Uint8Array(UTIF._decompressRAF(C,z).buffer);u=C.length}function s(e9,jV,co){co=co<<8-(jV&7);
var dz=jV>>>3;e9[dz]|=co>>>16;e9[dz+1]|=co>>>8;e9[dz+2]|=co}var M=u*8/(j*T);if(M==16)for(var $=0;$<u;
$+=2){var Q=C[$];C[$]=C[$+1];C[$+1]=Q}else if(M==14){for(var $=0;$<u;$+=4){var Q=C[$];C[$]=C[$+3];C[$+3]=Q;
Q=C[$+1];C[$+1]=C[$+2];C[$+2]=Q}}else if(M==12)for(var $=0;$<u;$+=3){var O=C[$+2]<<16|C[$+1]<<8|C[$+0];
O=O>>>12|(O&4095)<<12;C[$]=O>>>16&255;C[$+1]=O>>>8&255;C[$+2]=O&255}if(m)C=hR.fk.aAC(C,j,T);var W=m?2:1;
j*=W;B.t256=[j];B.t257=[T];B.t258=[Z];B.t50719=[P[1],P[0]*W];B.t50720=[P[3],P[2]*W];B.width=j;B.height=T;
B.data=new Uint8Array(C.buffer);return[B]};hR.fk.aAC=function(x,J,o){x=new Uint16Array(x.buffer);var c=new Uint16Array(J*o*2);
for(var E=0;E<o;E+=2)for(var b=0;b<J;b++){var l=E*J+b,i=l*2,F=x[l],k=x[l+J];c[i+1]=c[i+2*J]=k;if(((E>>>1)+b&1)==0){c[i]=F;
c[i+2*J+1]=x[l+1]}else{c[i]=x[l-1];c[i+2*J+1]=F}}return c};hR.hS={};hR.hS.afC=function(x,J,o){o=o<<8-(J&7);
var c=J>>>3;x[c]|=o>>>16;x[c+1]|=o>>>8;x[c+2]|=o};hR.hS.zu=function(x){var J=new Uint8Array(x),o=0,c=Date.now(),E=gO.QE(x),b=E.moov.uuid[0],l=new CR3Parser(x),i=l.getTrack().meta,F=b.CMT1[0],k=F.t256[0]=i.width,U=F.t257[0]=i.height,I=k*U,V=F.exifIFD=b.CMT2[0],u=V.makerNote=b.CMT3[0],N=E.moov.trak[3].mdia.minf.stbl,e=N.co64[0],B=J.slice(e,e+N.stsz[0]),j=0;
while(j<B.length){var T=D.ZR(B,j);j+=4;var a=D._K(B,j);j+=2;var P=B[j]==1;j+=2;j+=4;if(a==8||a==9){var v=UTIF.decode(B.slice(j+8,j+T-12).buffer)[0];
for(var R in v)u[R]=v[R]}j+=T-12}F.t277=[1];F.t33421=[2,2];F.t33422=[0,1,1,2];F.vx=1;if(F.t274)F.vx=F.t274[0];
var y=l.extractCFA(),t=i.bitDepth;if(t!=14)throw"e";F.t258=[t];var g=new Uint8Array(Math.ceil(I*t/8)),H=16-t;
for(var $=0;$<I;$++)hR.hS.afC(g,$*14,y[$]<<H);F.width=k;F.height=U;F.data=g;return[F]};hR.I5={};hR.I5.gJ=!0;
hR.I5.Jy=function(x,J,o,c){var E=new Uint8Array(x[0][0]),b=J*o,l=[1,3,4][c[0]],i=8+8*c[1],F=c[2];if(l==1){var k=new Uint8Array(J*o);
q.z$(E,k,0);E=k}if(l==3){var k=new Uint8Array(J*o*3);for(var $=0;$<b;$++){var U=$*4,I=$*3;k[I]=E[U];
k[I+1]=E[U+1];k[I+2]=E[U+2]}E=k}if(i==16){var V=E.length,k=new Uint8Array(V*2);for(var $=0;$<V;$++){var u=Math.round(E[$]*(65535/255));
k[$*2+F]=u>>>8;k[$*2+1-F]=u&255}E=k}return E.buffer};hR._S={};hR._S.zu=function(x,J){function o(F){return~~(.5+q.cW(Math.max(0,Math.min(1,F)))*255)}var c=EXRLoader.parse(x),E=c.width,b=c.height,l=q.R(E*b*4);
for(var i=0;i<b;i++)for(var F=0;F<E;F++){var $=(i*E+F)*4,k=((b-i-1)*E+F)*4;l[$]=o(c.data[k+0]);l[$+1]=o(c.data[k+1]);
l[$+2]=o(c.data[k+2]);l[$+3]=o(c.data[k+3])}return[{XO:new ha(0,0,E,b),data:l.buffer}]};hR.eS={};hR.eS.gJ=!0;
hR.eS.gi=!0;hR.eS.Jy=function(x,J,o,c,E){c=["",100,!1,!1,!1,0,!1];c[7]=["jpg"];var b=new ToDXF;aN.iN(x,c,b,E.a0);
return b.buffer};hR.eS.zu=function(x,J){var o=72,c=new cW(1,0,0,1,0,0);c.scale(o/72,o/72);J.yV=o;var E=new ka(J,c,!1);
FromDXF.Parse(x,E)};hR.O6={};hR.O6.zu=function(){var x=D._K,J=D.ZR,o=D.it,c;function E(l,i,F,k,U){var I=J(l,F),V=J(l,F+4),u=J(l,F+8),N=x(l,F+12),e=x(l,F+14);
F+=16;var B={};for(var $=0;$<N+e;$++){var j=J(l,F),T=J(l,F+4),a,P;if(j>>>31==1){j=j&16777215}if($<N)a=D.Gp(l,i+j+2,x(l,i+j));
else a="id"+j;var v=k.slice(0);v.push(a);if(T>>>31==1){T=T&268435455;P=E(l,i,i+T,v,U)}else{var R=J(l,i+T),y=J(l,i+T+4),t=J(l,i+T+8),g=J(l,i+T+12);
if(g!=0)throw"e";if(R<U[0]||R>U[0]+U[1])throw"e";var H=U[2]+R-U[0];P=l.slice(H,H+y);var _=hR.M1(P.buffer);
if(_&&["bmp","png","ico"].indexOf(_)!=-1){var Y=hR.rb(_);if(!Y.gi){var K=null;try{K=Y.zu(P.buffer)}catch(j4){}if(K){K[0].a1=v[1];
c.push(K[0])}}}else if(_)console.log(_)}B[a]=P;F+=8}return B}function b(l){c=[];var i=new Uint8Array(l),F=0,k=x(i,F);
F+=2;F+=58;var U=J(i,F);F+=4;F=U;var I=o(i,F,4);F+=4;var V=x(i,F);F+=2;var u=x(i,F);F+=2;var N=J(i,F);
F+=4;var e=J(i,F);F+=4;var B=J(i,F);F+=4;var j=x(i,F);F+=2;var T=x(i,F);F+=2;F+=j;var a={};for(var $=0;
$<u;$++){var P=F;while(i[P]!=0)P++;var v=o(i,F,P-F),R=J(i,F+8),y=J(i,F+12),t=J(i,F+16),g=J(i,F+20),H=J(i,F+24),_=J(i,F+28),Y=x(i,F+32),K=x(i,F+34),T=J(i,F+36);
a[v]=[y,R,g,t,T];if(H+_!=0)throw"e";F+=40}for(var f in a){var m=a[f];F=m[2];if(f==".rsrc"){var C=E(i,F,F,[],m),Z="id134"}}return c}return b}();
hR.gp={};hR.gp.gi=!0;hR.gp.zu=function(x,J,o){e2.QE(x,J,o)};hR.gp.Jy=function(x,J,o){return e2.iN(x)};
(function(){var x=hR.Xe.get("wasm/zstd").buffer;WebAssembly.instantiate(x).then(function(J){var o=J.instance.exports;
hR.gp.anv=o})}());hR.gp.Nd=function(x,J){var o=hR.gp.anv,c=x.length,E=o.memory,b=2*c+1e6,F=8;hR.Pg(o,b);
var l=new Uint8Array(E.buffer),i=o.malloc(c);l.set(x,i);while(!0){var k=J==null?c*F:J;hR.Pg(o,b+k);var U=o.malloc(k),I=o.ZSTD_decompress(U,k,i,c);
if(I==-70){o.free(U);F+=F>>>1;if(J!=null)throw"error"}else{l=new Uint8Array(E.buffer);x=l.slice(U,U+I);
o.free(U);break}}o.free(i);return x};hR.cY={};hR.cY.gi=!0;hR.cY.zu=function(){var x=0,J=1,o=2,c=3,E=4,b=5,l=6,i=7,F=1,k=2,U=7,I=8,V=9,u,N,e,B,j;
function T(){var bz=D.rv(u,N);N+=4;return bz}function a(){var A=0,d=0;for(var $=0;$<5;$++){var G=u[N++];
A+=(G&127)<<d;d+=7;if((G&128)==0)break}return A}function P(){var A=a(),d=D.cA(u,N,A);N+=A;return d}function v(){return{typeName:P(),aeE:T()}}function R(){var A=T(),d=P(),G=[],r=T();
for(var $=0;$<r;$++)G.push([P()]);return{id:A,LB:d,anA:G}}function y(A){var d=A.anA,G=[];for(var $=0;
$<d.length;$++)d[$].push(u[N++]);for(var $=0;$<d.length;$++){var r=d[$][1],X;d[$].push(t(r))}}function t(A){var d;
if(A==x)d=u[N++];else if(A==c)d=P();else if(A==E)d=v();else if(A==J||A==o||A==l||A==b){}else throw A;
return d}function g(A,d,G){var r;if(A==x){if(d==F)r=u[N++]==1;else if(d==k){r=u[N++]}else if(d==I)r=T();
else if(d==V){r=T();T()}else throw d}else if(A==c){r=K(G+1)}else if(A==E){r=K(G+1)}else if(A==b){r=K(G+1)}else if(A==J){r=K(G+1)}else if(A==l){r=K(G+1)}else throw A;
return r}function H(A,d){var G=e["c"+A],r=G.anA,X={_class:G.LB};for(var $=0;$<r.length;$++){var w=r[$],S=w[1],z=w[2],s=g(S,z,d),M=w[0];
X[M]=s}return X}function _(A,d,G,r){var X=[];for(var $=0;$<A;$++){var w=g(d,G,r);if(w.vB&&w.vB=="null_count"){var S=w.fz;
for(var z=0;z<S;z++)X.push(null);$+=S-1}else X.push(w)}return X}function Y(){return[T(),T()]}function K(A){if(A==null)throw"e";
var d=null,G=u[N],r=null;N++;if(G==0){var X=T(),w=T(),S=T(),z=T();d=[X,w,S,z]}else if(G==1){r=T();var s=T();
d=H(s,A)}else if(G==4){var M=R();r=M.id;y(M);e["c"+M.id]=M;d=H(M.id,A)}else if(G==5){var M=R();r=M.id;
y(M);var Q=T();e["c"+M.id]=M;d=H(M.id,A)}else if(G==6){r=T();var O=P();d=O}else if(G==7){r=T();var W=u[N++];
if(W!=0)throw W;var e9=T();if(e9!=1)throw e9;var jV=T(),co=u[N++],dz=t(co);d=_(jV,co,dz,A)}else if(G==9){var eh=T();
d={vB:"ref",fz:eh};j["o"+eh]=!0}else if(G==10){d={vB:"null_count",fz:1}}else if(G==11){d={vB:"end"}}else if(G==12){var Q=T(),a9=P()}else if(G==13){var kB=u[N++];
d={vB:"null_count",fz:kB}}else if(G==16){var dc=Y();r=dc[0];d=_(dc[1],E,null,A)}else if(G==17){var dc=Y();
r=dc[0];d=_(dc[1],J,null,A)}else throw"e";if(r!=null&&r>0){if(B["o"+r]!=null)throw"e";B["o"+r]=d}return d}function f(A,B){if(A instanceof Array){for(var $=0;
$<A.length;$++)A[$]=m(A[$],B)}else if(A instanceof Object){for(var d in A)A[d]=m(A[d],B)}}function m(A,B){if(A&&A.vB&&A.vB=="ref")return B["o"+A.fz];
else return A}function C(A,d,G){u=new Uint8Array(A);N=0;e={};B={};j={};var r=D.it(u,0,4);if(r!="PDN3")throw r;
N+=4;var X=D._K(u,N)+u[N+2]*256*256;N+=3;var w=D.it(u,N,X);N+=X;N+=2;while(!0){var S=K(0);if(S&&S.vB&&S.vB=="end")break}for(var z in j)if(B[z]==null)throw z;
for(var z in B)f(B[z],B);var s=B.o1;console.log(s);d.m=s.width;d.e=s.height;d.buffer=q.R(d.m*d.e*4);
var M=s.layers["ArrayList+_items"];for(var $=0;$<M.length;$++){var Q=M[$];if(Q==null)continue;console.log(Q);
var O=Q["Layer+width"],W=Q["Layer+height"],e9=Q["Layer+properties"],jV=Q.properties,co=jV.blendOp._class.split("+").pop();
co=co.slice(0,co.length-7);var dz={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[co],eh=d._I();
eh.Yq(e9.name);eh.opacity=e9.opacity;eh.Ut(e9.visible);eh.n5=dz;var a9=1<<16,kB=Math.ceil(O*W/a9);eh.rect=new ha(0,0,O,W);
eh.buffer=q.R(O*W*4);var dc=eh.buffer;N+=5;for(var eT=0;eT<kB;eT++){var fv=Z();dc.set(fv[1],fv[0]*a9*4)}for(var jS=0;
jS<dc.length;jS+=4){var cx=dc[jS+0];dc[jS+0]=dc[jS+2];dc[jS+2]=cx}d.B.push(eh)}}function Z(){var A=D.s(u,N);
N+=4;var d=D.s(u,N);N+=4;var G=pako.inflateRaw(u.slice(N+10));N+=d;return[A,G]}return C}();hR.Bi={};
hR.Bi.gi=!0;hR.Bi.zu=function(x,J){iK.QE(x,J)};hR.K_={};hR.K_.gi=!0;hR.K_.zu=function(){var x,J,B=null,t,g;
function o(){var Z=x[J];J+=1;return Z}function c(){var Z=D.ht(x,J);J+=2;return Z}function E(){var Z=D.s(x,J);
J+=4;return Z}function b(){var Z=D.du(x,J);J+=4;return Z}function l(){var Z=D.Dv(x,J);J+=8;return Z}function i(){var Z=E();
if(Z>200)throw Z;var A=D.$Q(x,J,Z);J+=Z*2;return A}function F(){var Z=D.m0(x,J);J+=8;return Z}function k(){var Z=D.RW(x,J);
J+=4;return Z}function U(){var Z=E();if(E()!=4)throw"e";var A=[];for(var $=0;$<Z;$++)A.push(E());return A}function I(Z,A,d){for(var $=0;
$<Z.length;$++)if(Z[$][A]==d)return Z[$]}function V(Z,A){var d=Date.now();x=new Uint8Array(Z);J=D.C8(x,"CH"+"NK"+"SQ"+"Li")+8;
var G=l(),r=aI.parse(x.buffer.slice(J,J+G)),X=aI.agk(r,!0);console.log(X);var w=X.Canvas[0],S=w.Width,z=w.Height,s=w.Unit,M=A.yV=w.Resolution;
if(s==0){}else if(s==1){S=Math.round(S*M/2.54);z=Math.round(z*M/2.54)}else if(s==2){S=Math.round(S*M/25.4);
z=Math.round(z*M/25.4)}else if(s==3){S=Math.round(S*M);z=Math.round(z*M)}else if(s==5){S=Math.round(S*M/72);
z=Math.round(z*M/72)}else{console.log(w);throw s}A.m=S;A.e=z;A.buffer=q.R(S*z*4);console.log(Date.now()-d);
var Q=I(X.Layer,"MainId",w.RootFolder);K(X,x,A,Q.FirstChildIndex,0);console.log(Date.now()-d)}function u(){var Z=D._K(x,J);
J+=2;return Z}function N(){var Z=D.ZR(x,J);J+=4;return Z}function e(){var Z=D.rv(x,J);J+=4;return Z}function j(Z){var A={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},G=0;
x=Z;J=0;var d={};while(J<x.length){var r=N(),X=N(),w=J+X;if(X==0)continue;var S=[];if(r==11){var z=N();
for(var s=0;s<z;s++){var M=[N(),N()];S.push(M);G+=M[1];var Q=J+N()-4;M.push(u(),u(),u(),u());M.push(D.jR(x,J));
J+=8;var O=u();M.push(D.Gp(x,J,O));J+=O*2;if(J!=Q)throw"e"}}else if(r==31){S=D.cA(x,J,X);J+=X}else if(r==34)for(var $=0;
$<3;$++)S.push(N()>>>16);else if(r==42)for(var $=0;$<4;$++)S.push(e());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(r)!=-1){if(X!=4)throw"e";
S=N();if([37,45,46,51,53,55,61,62].indexOf(r)!=-1){if(S!=0&&S!=1)throw r+":"+S;J=w;continue}}else if(r==47){var W=u();
if(N()!=50)throw"e";if(N()!=0)throw"e";var e9=u();S=D.it(x,J,e9);J+=e9}else if(r==57){var z=u();for(var $=0;
$<z;$++){var jV=u(),co=D.it(x,J,jV);J+=jV;var dz=u(),eh=D.it(x,J,dz);J+=dz;S.push([co,eh])}var a9=N();
for(var $=0;$<z;$++)S[$].push(a9)}else if(r==39||r==63)S.push(N(),N());else if(r==64){for(var $=0;$<8;
$++)S.push(D.rv(x,J+$*4)/100);J+=32}else{S=x.slice(J,w);J+=X}var kB=A[r];if(kB==null)kB="t"+r;if(d[kB])throw"e";
d[kB]=S;if(J!=w)throw r}if(B){}B=d;return d}function T(Z){x=Z;J=0;var A=E();if(A!=Z.length)throw"e";
var d=E(),G=i(),r=E(),X=F(),w=[E()/4294967295,E()/4294967295,E()/4294967295];return[r,X,w]}function a(Z,A){function d(){var a3=[];
for(var $=0;$<4;$++)a3.push(D.du(x,J+$*4));J+=16;return a3}function G(bz){var a3=[];for(var $=0;$<bz;
$++)a3.push(k());return a3}function r(a3){var bH="";for(var $=J;$<a3;$+=4)bH+=x.slice($,$+4).join(", ")+"\n";
return bH}x=Z;J=A+8;var X=l(),w=J+X;J+=56;if(J==w)return;var S=[],z=[],s=[],M=[],Q=[];while(J<w){var O=E(),dc=1;
if(O!=88&&O!=96)throw O;var O=E();if(O!=72)throw"e";var W=E();if(W!=88&&W!=104&&W!=120)throw W;var O=E();
if(O!=88)throw"e";var e9=E(),jV=E(),co=d(),dz=[];s.push(dz);for(var $=0;$<6;$++){dz.push(v(E()))}var eh=F(),a9=E();
if(a9==16||a9==1040||a9==304){E();a9=E()}var kB=F();M.push(kB);var eT=E(),fv=(jV&256)!=0,jS=[],cx=[],bX={88:1,104:2,120:3}[W];
for(var $=0;$<e9;$++){var gi=$==0?1:bX;for(var cM=0;cM<gi;cM++)jS.push(F(),F());cx.push(gi==1?$==0?"M":"L":gi==2?"Q":"C");
var ea=d(),a1=E();dc=k();var db=G(10),d2=E(),hu=E()}Q.push(dc);if(W==104){var fF=F(),il=F();if(fv){cx.push("Q");
jS.push(fF,il,jS[0],jS[1])}}if(W==120){var fF=F(),il=F(),f4=F(),aK=F();if(fv){cx.push("C");jS.push(fF,il,f4,aK,jS[0],jS[1])}}if(jV&128){var f9=["M"],e0=[jS[0],jS[1]],j7=jS.length>>>1,jb=q.O.a6j(jS);
for(var $=0;$<j7;$++){var hN=jS[2*$],fe=jS[2*$+1],hn=.7;for(var cM=0;cM<2;cM++){jb[$*4+cM*2]=hn*jb[$*4+cM*2]+(1-hn)*hN;
jb[$*4+cM*2+1]=hn*jb[$*4+cM*2+1]+(1-hn)*fe}}for(var $=1;$<j7;$++){f9.push("C");e0.push(jb[$*4-2],jb[$*4-1],jb[$*4],jb[$*4+1],jS[$*2],jS[$*2+1])}if(fv){f9.push("C");
e0.push(jb[j7*4-2],jb[j7*4-1],jb[0],jb[1],jS[0],jS[1])}jS=e0;cx=f9}if(fv)cx.push("Z");z=z.concat(jS);
S=S.concat(cx)}if(J!=w)throw"e";return[{j:z,G:S},s,M,Q]}function P(Z,A){x=Z;J=A+8;var d=l(),G=J+d,r=0;
J+=56;var X=[];while(J<G){var w=E(),S=J+w-4;if(S>G)throw"e";if(w==11){J-=4;var z=i(),s=E();if(s!=12)throw"e";
var M=U(),Q=i(),s=E();if(s!=12)throw"e";var O=U();if(J!=G)throw"e"}else{var W=i(),e9=E();if(e9!=r)throw e9;
r++;var jV=c();if(jV!=0&&jV!=1&&jV!=2&&jV!=5)throw jV;var co=o();if(co!=0&&co!=32&&co!=64)throw co;if(E()!=1)throw"e";
if(E()!=1)throw"e";if(o()!=0)throw"e";if(E()==1){var dz=E(),eh=D.ZR(x,J);if(dz!=eh+4)throw"e";X.push(new Uint8Array(x.buffer,J+4,eh));
J+=dz}else X.push(new Uint8Array(0));var a9=i();if(J!=S)throw J}}return X}function v(Z){return Math.min(255,Math.round(Z/16777216))}function R(Z){x=Z;
J=0;var A=E();if(A!=16)throw A;var d=E();if(d!=102)throw d;var G=E();if(G!=42&&G!=58)throw G;var r=E();
if(Z.length-r!=118+G)throw Z.length-r;var X=i();if(X!="Parameter")throw X;var w=E(),S=E(),z=E(),s=E(),M=[];
for(var $=0;$<16;$++)M.push(E());var X=i();if(X!="InitColor")throw X;if(E()!=20)throw"e";var Q=E(),O=E(),W=E();
if(E()!=4)throw"e";if(G==58){var e9=[];M.push(e9);for(var $=0;$<4;$++)e9.push(v(E()))}var X=i();if(X!="BlockSize")throw X;
var jV=E();if(jV!=12)throw jV;var co=U();if(J!=x.length)throw"e";return[w,S,z,s,Q*255,M]}function y(Z,A){var d=D.it(A,0,40),G=I(Z["ExternalC"+"hunk"],"Exte"+"rnalID",d);
if(G==null){console.log("chnk not found",d)}return G?G.Offset:-1}function H(Z,A,d,G){if(t==null){t=q.R(256*256*4);
g=q.R(256*256)}var r=Z.Mipmap,X=Z.MipmapInfo,w=Z.Offscreen,S=I(r,"MainId",d),z=I(X,"MainId",S.BaseMipmapInfo),s=I(w,"MainId",z.Offscreen),M=y(Z,s.BlockData),V=null;
if(M==-1)return null;var Q=P(A,M),O=R(s.Attribute),W=O[0],e9=O[1],jV=O[2],co=O[3],dz=O[4],eh=O[5],a9=eh[16],kB=eh[1],dc=eh[2],eT=kB+dc;
if(dc!=eh[5])throw"e";if(kB!=eh[7])throw"e";var fv=q.R(256*(eh[6]+eh[8])),jS=new ha;if(a9)jS=new ha(0,0,W,e9);
else{for(var cx=0;cx<co;cx++)for(var bX=0;bX<jV;bX++){var gi=Q[cx*jV+bX];if(gi.length==0)continue;jS=jS.k7(new ha(bX<<8,cx<<8,256,256))}}var cM=jS.Kc(new ha(0,0,W,e9)),ea=q.R(cM.P()*(eT==1?1:4));
if(a9)new Uint32Array(ea.buffer).fill(255<<24|a9[0]<<16|a9[1]<<8|a9[2]);if(eT==1)ea.fill(dz);for(var cx=0;
cx<co;cx++)for(var bX=0;bX<jV;bX++){var gi=Q[cx*jV+bX];if(gi.length==0)continue;var a1=new Uint8Array(gi.buffer,gi.byteOffset+2,gi.length-6),db=new ha(bX<<8,cx<<8,256,256);
UZIP.inflateRaw(a1,fv);if(eT==1){if(eh[8]==32){_(fv,0,g);q.zc(g,db,ea,cM)}else q.zc(fv,db,ea,cM)}else if(eT==2){if(eh[8]==32){new Uint32Array(t.buffer).fill(4278190335);
_(fv,0,g);q.qR(g,t,3);_(fv,256*32,g);q.Qz(g,t)}else for(var $=0;$<262144;$+=4){var a9=fv[65536+($>>>2)];
t[$]=a9;t[$+1]=a9;t[$+2]=a9;t[$+3]=fv[$>>>2]}q.St(t,db,ea,cM)}else if(eT==5){for(var $=0;$<262144;$+=4){t[$]=fv[65536+$+2];
t[$+1]=fv[65536+$+1];t[$+2]=fv[65536+$+0];t[$+3]=fv[$>>>2]}q.St(t,db,ea,cM)}else throw eT}if(G&&eT==1){var d2=q.R(W*e9*4);
q.qR(ea,d2,3);ea=d2}return[cM,ea,dz]}function _(Z,J,A){for(var $=0;$<A.length;$++){A[$]=(Z[J+($>>>3)]>>>7-($&7)&1)*255}}var Y=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function K(Z,A,d,G,r){var X=Z.Layer,w=Z.Canvas[0];while(G!=0){var S=I(X,"MainId",G),z=S.Type,jV=!1;console.log(S);
var s=d._I();s.Yq(S.Name);s.opacity=Math.min(255,S.Opacity);s.Ut((S.Visibility&1)!=0);s.n5=Y[S.Composite];
if(s.n5==null){alert("Unknown blend mode "+S.Composite);s.n5="norm"}s.$j=S.Clip==1;d.B.push(s);var M=S.LayerMaskMipmap;
if(M!=0){var Q=H(Z,A,M,!1);if(Q){s.F=new h.Tj;s.F.rect=Q[0];s.F.channel=Q[1];s.F.color=Q[2];f(s.F.rect,S,"Mask","Mask");
s.F.xz()}}var O=[];for(var $=0;$<3;$++)O.push(v(S["DrawColorMain"+["Red","Green","Blue"][$]]));var W={t:"Objc",v:q.r.qP({o:O[0],I:O[1],J:O[2]})},e9=JSON.parse(bs.default);
for(var $=0;$<bs.order.length;$++)e9[bs.x0[$]]={t:"VlLs",v:[]};if(S.DrawColorEnable==1&&z!=1584){jV=!0;
var co=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);co.Clr=W;e9.solidFillMulti.v.push({t:"Objc",v:co})}if(S.EffectInfo){var dz=T(S.EffectInfo),O=dz[2];
if(dz[0]==1){jV=!0;var co=JSON.parse(bs.Kl[bs.order.indexOf("FrFX")]);co.Clr.v=q.r.qP({o:O[0]*255,I:O[1]*255,J:O[2]*255});
co.Sz.v.val=Math.round(dz[1]);e9.frameFXMulti.v.push({t:"Objc",v:co})}}if(S.FilterLayerInfo){x=S.FilterLayerInfo;
J=0;var eh=E(),a9=E();if(a9!=x.length-J)throw"e";var kB={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[eh];
if(kB!=null){var dc=fn.Bt(kB);s.add[kB]=dc?dc:{};if(kB=="brit")fn.sR["g"+kB](dc,[b(),b(),!0]);if(kB=="hue2")eZ.Fa(dc,0,[b(),b(),b()]);
if(kB=="curv"){var eT=[],fv=J;for(var $=0;$<32;$++){J=fv+$*130;var jS=c(),cx=[];eT.push(cx);for(var bX=0;
bX<jS;bX++)cx.push(c()/65535,c()/65535)}for(var $=0;$<4;$++){var cx=eT[$],gi=fB.Ne(dc,$),cM=gi[0];for(var bX=0;
bX<cx.length;bX+=2){var ea=gi[bX>>>1]=JSON.parse(JSON.stringify(cM));ea.v.Hrzn.v=Math.round(cx[bX]*255);
ea.v.Vrtc.v=Math.round(cx[bX+1]*255)}fB.Fa(dc,$,gi)}}if(kB=="grdm"){var a1=dc.Grad.v,db=[],d2=E();if(d2!=a9-4)throw d2;
var hu=E();if(hu!=16)throw hu;var fF=E();if(fF!=28)throw fF;var il=E();for(var $=0;$<il;$++){var f4=0,aK=[];
for(var bX=0;bX<7;bX++)aK.push(E());db.push([aK[6]/32768,[aK[1]/4294967295,aK[2]/4294967295,aK[3]/4294967295],aK[4]/4294967295])}q.r.p3(db,a1)}if(kB=="blnc"){dc.PrsL.v=E()==1;
for(var $=0;$<3;$++){var f9=dc[["ShdL","MdtL","HghL"][$]].v;for(var bX=0;bX<3;bX++)f9[bX].v=b()}}}else console.log("Unknown adjustment",eh,a9,s.getName())}if(z==1584){s.Il|=16;
s.add.SoCo={classID:"null",Clr:W};s.vl(d)}else if(z==800){d.B.pop()}else if(S.Folder!=0){s.add.lsct=(S.Folder&16)!=0?es.tm:es.tI;
s.n5="pass";d.B.pop();d.B.push(d.Tv());K(Z,A,d,S.FirstChildIndex,r+1);d.B.push(s)}else if(z==0||z==1||z==2||z==3){var Q=H(Z,A,S.RenderMipmap,!0);
if(Q){s.rect=Q[0];s.buffer=Q[1];f(s.rect,S,"Render","");s.xz()}if(S.TextLayerType!=null){var e0="TextLayerString",jb="TextLayerAttributes",fe=[S[e0]],a3=[S[jb]];
if(S[e0+"Array"]){x=S[e0+"Array"];J=0;while(J<x.length){var a9=N();fe.push(x.slice(J,J+a9));J+=a9}x=S[jb+"Array"];
J=0;while(J<x.length){var a9=N();a3.push(x.slice(J,J+a9));J+=a9}}var bH=s;d.B.pop();for(var jB=0;jB<fe.length;
jB++){var s=bH.clone();d.B.push(s);var jH=j(a3[jB]),dL=jH.runs,aq=jH.fnts,is=jH.bplg,dh=jH.bbox,j_=dh[2]-dh[0],cH=dh[3]-dh[1],bK=is[2]-is[0],eC=is[3]-is[1],fp=new cW;
fp.translate(-j_/2,-cH/2);fp.rotate(Math.atan2(-eC,bK));fp.translate(j_/2,cH/2);var jq=dh[0]+S.OffsetX,az=dh[1]+S.OffsetY;
fp.translate(jq,az);s.add.lnsr="rend";s.add.TySh=iv.hK(0,0);s.add.TySh.Ca=new ha(0,0,500,500);s.add.TySh.M=fp;
var de=s.add.TySh.TC,g3=D.cA(fe[jB]);s.Yq(g3);iv.Jq(de,0,g3);iv.Ag(de,1);iv.UC(de,[0,0,j_,cH]);for(var $=0;
$<dL.length;$++){var hJ=dL[$],kc=hJ[0],bc=kc+hJ[1],kd=hJ[2],jR=iv.eU(de,kc,bc),im=d.yV/72*jH.size/100;
if((kd&512)!=0)im*=hJ[6]/100;jR.kJ.FontSize=Math.round(im);var W=(kd&256)!=0?hJ.slice(3):jH.colr;jR.kJ.FillColor={Type:1,Values:[1,W[0]/65535,W[1]/65535,W[2]/65535]};
var dO=hJ[7]==""?jH.font:hJ[7];if(aq){if(aq[$])dO=aq[$][1];else for(var bX=0;bX<aq.length;bX++)if(aq[bX][0]==dO)dO=aq[bX][1]}iv.UE(jR,dO);
iv.oO(de,kc,bc,jR)}if(s.rect.P()==0)d.C6=!0;else{s.rect=new ha(jq,az,j_,cH);s.buffer=q.R(s.rect.P()*4);
q.St(bH.buffer,bH.rect,s.buffer,s.rect)}}}}var jd=Z.VectorObjectList;if(S.VectorNormalType!=null&&jd&&I(jd,"LayerId",G)){var gJ=I(jd,"LayerId",G).VectorData,iA=y(Z,gJ),gj=a(A,iA);
if(gj){var jG=null;if(s.add.TySh){var jG=s.clone();d.B.push(jG);delete s.add.TySh}m(s,S,gj[0]);if(s.Zk()){s.Il|=24;
var eG=d._I();eG.Yq(s.getName());eG.opacity=s.opacity;d.B.push(eG);m(eG,S,gj[0]);C(eG,gj);eG.vl(d)}else{C(s,gj,jG!=null)}s.vl(d);
if(jG){jG.add.TySh.M.concat(new cW(1,0,0,1,s.rect.x+s.rect.m/2,s.rect.y+s.rect.e/2))}}}if(jV)s.add.lmfx=e9;
if(G==w.CurrentLayer)d.g=[d.B.indexOf(s)];G=S.NextIndex}}function f(Z,A,d,G){Z.x+=A[d+"OffscrOffsetX"]+A[G+"OffsetX"];
Z.y+=A[d+"OffscrOffsetY"]+A[G+"OffsetY"]}function m(Z,A,d){Z.add.vmsk=new h._b;q.O.M(d.j,new cW(1,0,0,1,A.OffsetX,A.OffsetY),d.j);
Z.add.vmsk.$=q.O.XR(d);Z.pw()}function C(Z,A,d){var G=A[1][0],r=A[2][0];Z.Il|=16;var X=Z.add.vstk=bs.Ao.Bt(!0,!0);
X.fillEnabled.v=d==!0;Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:255,I:255,J:255})}};X.strokeStyleContent.v.Clr.v=q.r.qP({o:G[0],I:G[1],J:G[2]});
X.strokeStyleLineWidth.v.val=r*2;X.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return V}();
var ai={};ai.mB=!1;ai.ew=!1;ai.x3=!1;ai.$H=document.createElement("canvas");ai.n9=null;ai.ZM=null;ai.XA=0;
(function(){var x={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},J;if(!J)J=ai.$H.getContext("webgl",x);
if(!J)J=ai.$H.getContext("experimental-webgl",x);if(J){ai.mB=!0;ai.ew=!0;ai.n9=J;ai.ZM=J.createFramebuffer();
J.bindFramebuffer(J.FRAMEBUFFER,ai.ZM);J.disable(J.BLEND);J.disable(J.DEPTH_TEST);var o=J.createBuffer();
J.bindBuffer(J.ARRAY_BUFFER,o);J.bufferData(J.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),J.STATIC_DRAW);
J.enableVertexAttribArray(0);J.vertexAttribPointer(0,2,J.FLOAT,!1,0,0)}}());ai.axk=function(x){x=x.replace(/\s\s+/g," ");
x=x.replace(/; /g,";");x=x.replace(/} /g,"}");x=x.replace(/ }/g,"}");x=x.replace(/{ /g,"{");x=x.replace(/ {/g,"{");
x=x.replace(/= /g,"=");x=x.replace(/ =/g,"=");x=x.replace(/\| /g,"|");x=x.replace(/ \|/g,"|");return x};
ai.KB=function(x){var J=ai.n9;if(x>J.getParameter(J.MAX_TEXTURE_SIZE)){ai.mB=!1;alert("Disabling WebGL")}};
ai.t1=function(x,J){return new Float32Array([(x.x-J.x)/J.m,(x.y-J.y)/J.e,x.m/J.m,x.e/J.e])};ai.T6=function(){return this.$H};
ai.FW=function(x,J){var o=ai.n9;o.bindFramebuffer(o.FRAMEBUFFER,ai.ZM);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,x.Hp,0);
o.viewport(0,0,x.m,x.e);if(J){o.enable(o.SCISSOR_TEST);o.scissor(J.x,J.y,J.m,J.e)}else o.disable(o.SCISSOR_TEST)};
ai.H7=function(x,J,o){if(o)throw"error";var c=ai.n9;c.disable(c.SCISSOR_TEST);c.bindFramebuffer(c.FRAMEBUFFER,null);
c.viewport(0,0,x,J);if(o){c.enable(c.SCISSOR_TEST);c.scissor(o.x,o.y,Math.round(o.m),Math.round(o.e))}else c.disable(c.SCISSOR_TEST)};
ai.clear=function(){var x=ai.n9;x.clearColor(0,0,0,0);x.clear(x.COLOR_BUFFER_BIT)};ai.Ja=function(x,J){if(J==null)J=0;
var o=(J>>>0&255)==0,c=(J>>>8&255)==0,E=(J>>>16&255)==0,b=(J>>>24&255)==0,l=(x>>>0&255)*(1/255),i=(x>>>8&255)*(1/255),F=(x>>>16&255)*(1/255),k=(x>>>24&255)*(1/255),U=ai.n9;
U.colorMask(o,c,E,b);U.clearColor(l,i,F,k);U.clear(U.COLOR_BUFFER_BIT);U.colorMask(!0,!0,!0,!0)};ai.Ei=function(x,J,o,c,E){var b=J.Kc(c);
if(E)b=b.Kc(E);if(b.Kx())return;var l=ai.n9;ai.FW(x);l.bindTexture(l.TEXTURE_2D,o.Hp);l.copyTexSubImage2D(l.TEXTURE_2D,0,b.x-c.x,b.y-c.y,b.x-J.x,b.y-J.y,b.m,b.e)};
ai.PW=function($,x,J){var o=ai.Oy[$];if(o==null||o.m!=x||o.e!=J){if(o)o.delete();o=new ai.HC(x,J)}ai.Oy[$]=o;
return o};ai.Oy=[];ai.VL=function(){this.za=null;this.KK=null};ai.VL.El=null;ai.VL.prototype.Si=function(x){if(this.KK)return;
this.KK={};var J=ai.n9,o=this.za,c=this.KK;for(var $=0;$<x.length;$++){var E=x[$];c[E]=J.getUniformLocation(o,E)}};
ai.VL.prototype.rZ=function(){};ai.VL.prototype.ZF=function(x){var J=ai.n9;for(var $=0;$<x.length;$+=2){J.uniform1i(x[$],$>>>1);
J.activeTexture(J["TEXTURE"+($>>>1)]);J.bindTexture(J.TEXTURE_2D,x[$+1])}J.activeTexture(J.TEXTURE0)};
ai.VL.prototype.Rc=function(x,J){var o=ai.n9,c=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(c,x);
o.compileShader(c);if(!o.getShaderParameter(c,o.COMPILE_STATUS))console.log(o.getShaderInfoLog(c));var E=o.createShader(o.VERTEX_SHADER);
o.shaderSource(E,J);o.compileShader(E);if(!o.getShaderParameter(E,o.COMPILE_STATUS))console.log(o.getShaderInfoLog(E));
var b=o.createProgram();o.attachShader(b,E);o.attachShader(b,c);o.linkProgram(b);if(!o.getProgramParameter(b,o.LINK_STATUS))console.log("Could not initialise shaders");
this.za=b};ai.VL.prototype.g5=function(){if(ai.VL.El!=this){ai.n9.useProgram(this.za);ai.VL.El=this}};
ai.Kk=function(x,J){ai.Ns++;ai.XA+=x*J;if(ai.x3)console.log("GL.Channels instances: "+ai.Ns+", memory: "+ai.XA);
var o=ai.n9;this.m=x;this.e=J;this.Hp=o.createTexture();this.DF=null;this.KI(this.Hp,x,J)};ai.Kk.prototype.KI=function(x,J,o){var c=ai.n9;
c.bindTexture(c.TEXTURE_2D,x);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);
c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,J,o,0,c.ALPHA,c.UNSIGNED_BYTE,null)};ai.Kk.prototype.set=function(x,J){var o=ai.n9;
o.bindTexture(o.TEXTURE_2D,this.Hp);o.pixelStorei(o.UNPACK_ALIGNMENT,1);var c=this.m*this.e;if(J==null||J.P()*10>c)o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,this.m,this.e,0,o.ALPHA,o.UNSIGNED_BYTE,x);
else{var E=new ha(0,0,this.m,this.e),b=q.R(J.P());q.zc(x,E,b,J);o.texSubImage2D(o.TEXTURE_2D,0,J.x,J.y,J.m,J.e,o.ALPHA,o.UNSIGNED_BYTE,b)}o.pixelStorei(o.UNPACK_ALIGNMENT,4)};
ai.Kk.prototype.delete=function(){var x=ai.n9;if(this.Hp){x.deleteTexture(this.Hp);ai.Ns--;ai.XA-=this.m*this.e}if(ai.x3)if(ai.x3)console.log("GL.Channels instances: "+ai.Ns+", memory: "+ai.XA*4)};
ai.Ns=0;ai.HC=function(x,J,o){if(o==null)o=!1;ai.Ns++;ai.XA+=x*J*4;if(ai.x3)console.log("GL.Channels instances: "+ai.Ns+", memory: "+ai.XA);
var c=ai.n9;this.amU=o;this.m=x;this.e=J;this.Hp=c.createTexture();this.DF=null;this.KI(this.Hp,x,J)};
ai.HC.prototype.set=function(x,J){var o=ai.n9;o.disable(o.SCISSOR_TEST);o.bindTexture(o.TEXTURE_2D,this.Hp);
if(x==null||x instanceof Uint8Array){var c=this.m*this.e;if((J==null||J.P()*10>c)&&(x==null||x.length>=c*4))o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this.m,this.e,0,o.RGBA,o.UNSIGNED_BYTE,x);
else{var E=x;if(x.length==c*4){var E=q.R(J.P()*4);q.St(x,new ha(0,0,this.m,this.e),E,J)}o.texSubImage2D(o.TEXTURE_2D,0,J.x,J.y,J.m,J.e,o.RGBA,o.UNSIGNED_BYTE,E)}}else o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,x)};
ai.HC.prototype.get=function(x){var J=ai.n9;ai.FW(this);J.readPixels(0,0,this.m,this.e,J.RGBA,J.UNSIGNED_BYTE,x)};
ai.HC.prototype.bU=function(x){if(x.Kx())return;var J=ai.n9;if(this.DF==null){this.DF=J.createTexture();
this.KI(this.DF,this.m,this.e);ai.Ns++;ai.XA+=this.m*this.e*4}J.bindFramebuffer(J.FRAMEBUFFER,ai.ZM);
J.bindTexture(J.TEXTURE_2D,this.DF);if(x){var o=Math.max(x.x,0),c=Math.max(x.y,0);J.copyTexSubImage2D(J.TEXTURE_2D,0,o,c,o,c,x.m,x.e)}else J.copyTexImage2D(J.TEXTURE_2D,0,J.RGBA,0,0,this.m,this.e,0)};
ai.HC.prototype.KI=function(x,J,o){var c=ai.n9;c.bindTexture(c.TEXTURE_2D,x);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.amU?c.LINEAR:c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,J,o,0,c.RGBA,c.UNSIGNED_BYTE,null)};
ai.HC.prototype.delete=function(){var x=ai.n9;if(this.Hp){x.deleteTexture(this.Hp);ai.Ns--;ai.XA-=this.m*this.e*4}if(this.DF){x.deleteTexture(this.DF);
ai.Ns--;ai.XA-=this.m*this.e*4}if(ai.x3)if(ai.x3)console.log("GL.Channels instances: "+ai.Ns+", memory: "+ai.XA)};
ai.HC.prototype.clone=function(){var x=ai.n9,J=new ai.HC(this.m,this.e);ai.FW(this);x.bindTexture(x.TEXTURE_2D,J.Hp);
x.copyTexImage2D(x.TEXTURE_2D,0,x.RGBA,0,0,this.m,this.e,0);return J};ai.aC={ajM:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a2z:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",B0:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",pV:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Ch:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",DN:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",hw:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",er:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a1j:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",nb:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a3N:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",oo:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",MM:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Yg:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",zw:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",zj:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",tu:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",qf:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",tl:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aio:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",anx:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",NJ:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",bd:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
ai.l={};ai.l.hq={};ai.l.hE=null;ai.l.t_=null;ai.l.Rb=null;ai.l.aD=function(x,J,o,c,E,b,l,i){if(i==null)i=cI.N1();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(x)==-1){l=l*i.fill;i.fill=1;i.style=!1}var F=x+(i.UJ?"1":"");
if(ai.l.hq[F]==null)ai.l.hq[F]=new ai.l.e2(x,i.UJ!=null);var k=ai.l.hq[F],U=o.Kc(E).Kc(b);U.offset(-E.x,-E.y);
if(U.Kx())return;var I=ai.n9;ai.FW(c,U);c.bU(U);k.g5();k.rZ(J.Hp,c.DF,ai.t1(o,E),l,i.fill,i.style?1:0,i.R3?1:0,i.UJ?new Float32Array(i.UJ):null);
I.drawArrays(I.TRIANGLES,0,6)};ai.l.qB=function(x,J,o,c,E,b,l,i,F,k,U){if(ai.l.hE==null)ai.l.hE=new ai.l.qs(!0,!0);
if(ai.l.t_==null)ai.l.t_=new ai.l.qs(!0,!1);if(ai.l.Rb==null)ai.l.Rb=new ai.l.qs(!1,!0);var I=k?1:0,V=x?E?ai.l.hE:ai.l.t_:ai.l.Rb,u=new Float32Array(U?[U[0],U[1],U[2],1]:[1,1,1,1]),N=J?J.Kc(c).Kc(i):c.Kc(i);
if(N.Kx())return;N.offset(-c.x,-c.y);var e=ai.n9;ai.FW(o,N);o.bU(N);V.g5();if(x==null)V.rZ(null,o.DF,E.Hp,ai.t1(c,c),ai.t1(b,c),l/255,F,I,u);
else if(E)V.rZ(x.Hp,o.DF,E.Hp,ai.t1(J,c),ai.t1(b,c),l/255,F,I,u);else V.rZ(x.Hp,o.DF,null,ai.t1(J,c),null,l/255,F,I,u);
e.drawArrays(e.TRIANGLES,0,6)};ai.l.a2_=function(x,J,o){if(ai.l.aoT==null)ai.l.aoT=new ai.l.Wh;var c=ai.l.aoT,E=new ha(0,0,x.m,x.e),b=ai.n9;
ai.FW(J);J.bU(E);c.g5();c.rZ(E,x.Hp,J.DF,o.Hp);b.drawArrays(b.TRIANGLES,0,6)};ai.l.E6={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
ai.l.e2=function(x,J){ai.VL.call(this);var o="\t\t\tprecision highp float;\t\t\t"+ai.aC.B0+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(J?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+ai.aC.DN+"\t\t\t"+ai.aC.hw+"\t\t\t"+ai.aC.er+"\t\t\t"+ai.aC.ajM+"\t\t\t"+ai.aC.a2z+"\t\t\t"+ai.aC.a1j+"\t\t\t"+ai.aC.nb+"\t\t\t"+ai.aC.a3N+"\t\t\t"+ai.aC.oo+"\t\t\t"+ai.aC.hash+"\t\t\t"+(J?ai.aC.NJ:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+ai.l.E6[x]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",c="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(x=="diss")o+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else o+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(J?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Rc(o,c)};ai.l.e2.prototype=new ai.VL;ai.l.e2.prototype.rZ=function(x,J,o,c,E,b,l,i){this.Si("srct alpha source target fill style keepBGA blIf".split(" "));
var F=ai.n9,k=this.KK;F.uniform4fv(k.srct,o);F.uniform1f(k.alpha,c);F.uniform1f(k.fill,E);F.uniform1f(k.style,b);
F.uniform1f(k.keepBGA,l);if(i)F.uniform4fv(k.blIf,i);this.ZF([k.source,x,k.target,J])};ai.l.qs=function(x,J){ai.VL.call(this);
this.a6V=x;this.wL=J;var o="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+ai.aC.MM+"\t\t\t"+ai.aC.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(x?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(J?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(x?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(J?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Rc(o,c)};ai.l.qs.prototype=new ai.VL;ai.l.qs.prototype.rZ=function(x,J,o,c,E,b,l,i,F){if(this.wL)this.Si("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.Si("srct awg dissv source target cswitch".split(" "));var k=ai.n9,U=this.KK;k.uniform4fv(U.srct,c);
if(this.wL){k.uniform4fv(U.wrct,E);k.uniform1f(U.wcolor,b)}else{k.uniform4fv(U.cswitch,F)}k.uniform1f(U.awg,l);
k.uniform1f(U.dissv,i);var I=[U.source,x,U.target,J];if(this.wL)I.push(U.weight,o);this.ZF(I)};ai.l.Wh=function(){ai.VL.call(this);
var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",J="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Rc(x,J)};ai.l.Wh.prototype=new ai.VL;ai.l.Wh.prototype.rZ=function(x,J,o,c){this.Si(["rct","prev","next","alpha"]);
var E=ai.n9,b=this.KK;E.uniform4fv(b.rct,[0,0,1,1]);this.ZF([b.prev,J,b.next,o,b.alpha,c])};ai.fI={hx:{},Tg:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
ai.fI.YA=function(x,J){var o=dv.mH,c=[o.Qj,o.$z,o.SH,o.jv,o.Cs,o.sY,o.qZ,o.I8].indexOf(x.type),E=ai.fI.hx[x.type];
if(E==null)E=ai.fI.hx[x.type]=new ai.hx[c];E.g5();E.rZ(J,x);ai.n9.drawArrays(ai.n9.TRIANGLES,0,6)};ai.hx=[];
ai.hx[0]=function(){ai.VL.call(this);this.GR={};var x="\t\t\tprecision mediump float;\t\t\t"+ai.aC.hw+"\t\t\t"+ai.aC.B0+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Rc(x,ai.fI.Tg)};ai.hx[0].prototype=new ai.VL;ai.hx[0].prototype.rZ=function(x,J){var o={o:J.my,I:J.Ym,J:J.Nu,V:q.R(J.my.length)},c=o.o.length;
if(this.GR["m"+c]==null){this.GR["m"+c]={ajg:new ai.HC(c,1),tM:q.R(c*4)}}var E=this.GR["m"+c];q.rL(o,E.tM,0);
var b=E.ajg;b.set(E.tM);this.Si(["source","map","toGray","presLum"]);var l=ai.n9,i=this.KK;l.uniform1f(i.toGray,J.oT?1:0);
l.uniform1f(i.presLum,J.ro?1:0);this.ZF([i.source,x,i.map,b.Hp])};ai.hx[1]=function(){ai.VL.call(this);
this.af1=new ai.HC(256,1);this.aqk=q.R(256*4);var x="\t\t\t\tprecision mediump float;\t\t\t\t"+ai.aC.zj+"\t\t\t\t"+ai.aC.Yg+"\t\t\t\t"+ai.aC.zw+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Rc(x,ai.fI.Tg)};ai.hx[1].prototype=new ai.VL;ai.hx[1].prototype.rZ=function(x,J){q.rL({o:J.arv,I:J.Zz,J:J.anH,V:q.R(256)},this.aqk);
this.af1.set(this.aqk);this.Si(["source","map","cfa","cfb","colorize"]);var o=ai.n9,c=this.KK;o.uniform1f(c.cfa,J.aAb);
o.uniform1f(c.cfb,J.dL);o.uniform1i(c.colorize,J.afb);this.ZF([c.source,x,c.map,this.af1.Hp])};ai.hx[2]=function(){ai.VL.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+ai.aC.zj+"\t\t\t"+ai.aC.tu+"\t\t\t"+ai.aC.qf+"\t\t\t"+ai.aC.Yg+"\t\t\t"+ai.aC.zw+"\t\t\t"+ai.aC.aio+"\t\t\t"+ai.aC.anx+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Rc(x,ai.fI.Tg)};ai.hx[2].prototype=new ai.VL;ai.hx[2].prototype.rZ=function(x,J){this.Si(["source","vib","sat","yF"]);
var o=ai.n9,c=this.KK;o.uniform1f(c.vib,J.KJ[0]);o.uniform1f(c.sat,J.KJ[1]);o.uniform3fv(c.yF,new Float32Array([J.KJ[2],J.KJ[3],J.KJ[3]]));
this.ZF([c.source,x])};ai.hx[3]=function(){ai.VL.call(this);var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Rc(x,ai.fI.Tg)};ai.hx[3].prototype=new ai.VL;ai.hx[3].prototype.rZ=function(x,J){this.Si(["source","trf"]);
var o=ai.n9,c=this.KK;o.uniformMatrix4fv(c.trf,!1,new Float32Array(q.Dk.NB(J.ng)));this.ZF([c.source,x])};
ai.hx[4]=function(){ai.VL.call(this);var x="\t\t\tprecision mediump float; \t\t\t"+ai.aC.tl+"\t\t\t"+ai.aC.zj+"\t\t\t"+ai.aC.zw+"\t\t\t"+ai.aC.Yg+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Rc(x,ai.fI.Tg)};ai.hx[4].prototype=new ai.VL;ai.hx[4].prototype.rZ=function(x,J){this.Si(["source","mnm","mxm","shift","lim"]);
var o=ai.n9,c=this.KK;o.uniform3fv(c.mnm,new Float32Array(J.Fy));o.uniform3fv(c.mxm,new Float32Array(J.SC));
o.uniform3fv(c.shift,new Float32Array(J.shift));o.uniform1f(c.lim,J.xe);this.ZF([c.source,x])};ai.hx[5]=function(){ai.VL.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+ai.aC.B0+"\t\t\t"+ai.aC.pV+"\t\t\t"+ai.aC.Ch+"\t\t\t"+ai.aC.Yg+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Rc(x,ai.fI.Tg)};ai.hx[5].prototype=new ai.VL;ai.hx[5].prototype.rZ=function(x,J){this.Si(["source","cfs"]);
var o=ai.n9,c=this.KK;o.uniform3fv(c.cfs,J.a5T);this.ZF([c.source,x])};ai.hx[6]=function(){ai.VL.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+ai.aC.zj+"\t\t\t"+ai.aC.pV+"\t\t\t"+ai.aC.Ch+"\t\t\t"+ai.aC.Yg+"\t\t\t"+ai.aC.zw+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Rc(x,ai.fI.Tg)};ai.hx[6].prototype=new ai.VL;ai.hx[6].prototype.rZ=function(x,J){this.Si(["source","wght","prms"]);
var o=ai.n9,c=this.KK,E=[J.Fz,J.avS,J.hw,J.ap5,J.Z7,J.abf];o.uniform1fv(c.wght,new Float32Array(J.agn));
o.uniform1fv(c.prms,new Float32Array(E));this.ZF([c.source,x])};ai.hx[7]=function(){ai.VL.call(this);
this.pZ={};var x="\t\t\tprecision mediump float;\t\t\t"+ai.aC.bd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Rc(x,ai.fI.Tg)};ai.hx[7].prototype=new ai.VL;ai.hx[7].prototype.rZ=function(x,J){this.Si(["source","lut","N"]);
var o=ai.n9,c=this.KK,E=J.V7,b=J.kC;if(this.pZ["m"+E]==null)this.pZ["m"+E]=new ai.HC(E,E*E);var l=this.pZ["m"+E];
l.set(b);o.uniform1f(c.N,E);this.ZF([c.source,x,c.lut,l.Hp]);o.activeTexture(o.TEXTURE1);var i=o.LINEAR;
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,i);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,i);
o.activeTexture(o.TEXTURE0)};ai.filter={fR:{},Tg:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a18:0,aCX:1,ZQ:2,asj:3,apY:4,av0:5,V3:6,ad9:7};
ai.filter.YA=function(x,J){var o=ai.filter,c,E=x.type+":"+(x.Ek?x.Ek.join(","):""),c=ai.filter.fR[E];
if(c==null)c=ai.filter.fR[E]=new ai.fR[x.type](x.Ek);c.g5();c.rZ(J,x);ai.n9.drawArrays(ai.n9.TRIANGLES,0,6)};
ai.fR=[0,0,0,0,0,0,0,0,0,0,0,0];ai.fR[7]=function(){ai.VL.call(this);var x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Rc(cG.mV(x),cG.mV(ai.filter.Tg))};ai.fR[7].prototype=new ai.VL;ai.fR[7].prototype.rZ=function(x,J){this.Si(["source","iwh","kern"]);
var o=ai.n9,c=this.KK;o.uniform2fv(c.iwh,J.VK);o.uniform1fv(c.kern,J.ae1);this.ZF([c.source,x])};ai.fR[6]=function(x){ai.VL.call(this);
var J=x[0],o=x[1],c=x[2],E="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",b=cG.mV(E);
b=b.replaceAll("PRC",c+".0");b=b.replaceAll("DIR",["x,0","0,x"][o]);this.Rc(b,ai.fI.Tg)};ai.fR[6].prototype=new ai.VL;
ai.fR[6].prototype.rZ=function(x,J){this.Si(["source","iwh","rad"]);var o=ai.n9,c=this.KK;o.uniform2fv(c.iwh,J.VK);
o.uniform1f(c.rad,J.xw);this.ZF([c.source,x])};ai.fR[4]=function(x){ai.VL.call(this);var J=x[0],o=x[1],c="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+x[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][o]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][J]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][o]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(o==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Rc(c,ai.fI.Tg)};ai.fR[4].prototype=new ai.VL;ai.fR[4].prototype.rZ=function(x,J){this.Si(["source","iwh","rrad","tr"]);
var o=ai.n9,c=this.KK;o.uniform2fv(c.iwh,J.VK);o.uniform1f(c.rrad,J.FL);o.uniform1f(c.tr,J.akl);this.ZF([c.source,x]);
var E=o.LINEAR;E=o.NEAREST;o.activeTexture(o.TEXTURE0);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,E);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,E);o.activeTexture(o.TEXTURE0)};ai.fR[5]=function(){ai.VL.call(this);
var x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Rc(cG.mV(x),cG.mV(ai.filter.Tg))};ai.fR[5].prototype=new ai.VL;ai.fR[5].prototype.rZ=function(x,J){this.Si(["source","ssum","iwh","amnt","edgf"]);
var o=ai.n9,c=this.KK;o.uniform2fv(c.iwh,J.VK);o.uniform1f(c.amnt,J.aB8);o.uniform1f(c.edgf,J.agl);this.ZF([c.source,x,c.ssum,J.aAs])};
ai.fR[3]=function(){ai.VL.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Rc(cG.mV(x),cG.mV(ai.filter.Tg))};ai.fR[3].prototype=new ai.VL;ai.fR[3].prototype.rZ=function(x,J){this.Si("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var o=ai.n9,c=this.KK;o.uniform2fv(c.iwh,J.VK);o.uniform1f(c.tdep,J.a94);o.uniform1f(c.rrad,J.FL);o.uniform2fv(c.spec,J.a7d);
o.uniform3fv(c.nois,J.auw);o.uniformMatrix4fv(c.poly0,!1,J.acF);o.uniformMatrix4fv(c.poly1,!1,J.axF);
this.ZF([c.source,x]);var E=o.LINEAR;o.activeTexture(o.TEXTURE0);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,E);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,E);o.activeTexture(o.TEXTURE0)};ai.fR[0]=function(){ai.VL.call(this);
var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Rc(cG.mV(x),cG.mV(ai.filter.Tg))};ai.fR[0].prototype=new ai.VL;ai.fR[0].prototype.rZ=function(x,J){this.Si(["source","iwh","ld","shine"]);
var o=ai.n9,c=this.KK;o.uniform2fv(c.iwh,J.VK);o.uniform3fv(c.ld,J.aDi);o.uniform1f(c.shine,J.ayS);this.ZF([c.source,x,c.tang,J.Zh])};
ai.fR[1]=function(){ai.VL.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Rc(cG.mV(x),cG.mV(ai.filter.Tg))};ai.fR[1].prototype=new ai.VL;ai.fR[1].prototype.rZ=function(x,J){this.Si(["source","iwh","isc","bristle"]);
var o=ai.n9,c=this.KK;o.uniform2fv(c.iwh,J.VK);o.uniform1f(c.isc,J.aAl);o.uniform1f(c.bristle,J.ahF);
this.ZF([c.source,x])};ai.fR[2]=function(){ai.VL.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Rc(cG.mV(x),cG.mV(ai.filter.Tg))};ai.fR[2].prototype=new ai.VL;ai.fR[2].prototype.rZ=function(x,J){this.Si(["source","tang","iwh","sigma","expo"]);
var o=ai.n9,c=this.KK;o.uniform2fv(c.iwh,J.VK);o.uniform1f(c.sigma,J.adn);o.uniform1f(c.expo,J.amk);
this.ZF([c.source,x,c.tang,J.Zh]);var E=o.LINEAR;o.activeTexture(o.TEXTURE0);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,E);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,E);o.activeTexture(o.TEXTURE0)};function q(){}q.X={};
q.a0o={};q.acz=function(){var x=[64,64,128,256,512,1024,2048],J=[];for(var $=0;$<x.length;$++){var o=x[$],c=document.createElement("canvas");
c.width=o;c.height=o;J.push(c.getContext("2d",{willReadFrequently:!0}))}return J}();q.T6=function(x,J){var o,c=q.acz,$=1,E=Math.max(x,J);
while($<c.length&&E>c[$].canvas.width)$++;if($==c.length){o=c[0];var b=o.canvas;b.width=x;b.height=J}else{o=c[$];
o.clearRect(0,0,x,J)}return o};q.I3=function(x,J,o){var c=new Uint32Array(J*o);c[0]=x[0];for(var E=1;
E<J;E++)c[E]=c[E-1]+x[E];for(var b=1;b<o;b++){var $=b*J;c[$]=c[$-J]+x[$];for(var E=1;E<J;E++)c[$+E]=x[$+E]+c[$+E-1]+c[$+E-J]-c[$+E-J-1]}return c};
q.Ij=function(x,J,o,c,E,b){var l=(E-1)*J,i=b*J;return x[i+c]-x[i+o-1]-x[l+c]+x[l+o-1]};q.u2=function(x,J,o){var c={},E=0,b=0,l=new Uint32Array(x.buffer),i=l.length,F=Date.now();
for(var k=1;k<o-1;k++)for(var U=1;U<J-1;U++){var I=k*J+U,V=l[I];if(V>>>24<230)b++;if(c[V]==null){c[V]=!0;
E++}}if(b!=0||E<20)return!1;return!0};q.iQ=function(x,J,o,c,E,b){if(E==null)E=b=0;c=Math.log(c)/Math.log(2);
c=Math.round(c);var l=new Uint32Array(x.buffer);for(var $=0;$<o;$++)for(var i=0;i<J;i++){l[$*J+i]=q.apV($+b,i+E,c)}};
q.aap=function($,x,J){return 255-(($>>>J)+(x>>>J)&1)*51};q.apV=function($,x,J){return 4294967295-(($>>>J)+(x>>>J)&1)*3355443};
q.ix=function(x){return{o:x>>>16&255,I:x>>>8&255,J:x&255}};q.RZ=function(x){return x.J<<16|x.I<<8|x.o};
q.uW=function(x){var J=x.toString(16);while(J.length<6)J="0"+J;return J};q.pO=function(x){return parseInt(x,16)};
q.hw=function(x){return.3*x.o+.59*x.I+.11*x.J};q.DN=function(x){return Math.max(x.o,x.I,x.J)-Math.min(x.o,x.I,x.J)};
q.TM=function(x,J,o){return.3*x+.59*J+.11*o};q.atS=function(x,J,o){return Math.max(x,J,o)-Math.min(x,J,o)};
q.pV=function(x,J){var o=J-x,c=Math.abs(o),E=o-1,b=o+1;if(Math.abs(E)<c)o=E;else if(Math.abs(b)<c)o=b;
return o};q.cW=function(x){return x<.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055};q.Ea=function(x){return x<.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)};
q.a6m=function(x,J){var o=Math.min(x.length,J.length);for(var $=0;$<o;$+=4){var c=x[$],E=x[$+1],b=x[$+2];
J[$]=16+Math.floor(65.481/255*c+128.553/255*E+24.966/255*b+.5);J[$+1]=128-Math.floor(37.797/255*c-74.203/255*E+112/255*b+.5);
J[$+2]=128+Math.floor(112/255*c-93.786/255*E-18.214/255*b+.5);J[$+3]=x[$+3]}};q.ed=function(x,J,o){var c,E,b,l=Math.max(x,J,o),i=Math.min(x,J,o);
b=l;if(l!=0)E=(l-i)/l;else E=0;if(E==0)c=0;else{var F=l-i,k=(l-x)/F,U=(l-J)/F,I=(l-o)/F;if(x==l)c=I-U;
else if(J==l)c=2+k-I;else c=4+U-k;c*=1/6;if(c<0)c=c+1}return{ao:c,Rw:E,J:b}};q.azn=function(x,J,o){var c=0,E=0,b=0;
if(J==0)c=E=b=o;else{var l=(x-Math.floor(x))*6,i=Math.floor(l),F=l-Math.floor(l),k=o*(1-J),U=o*(1-J*F),I=o*(1-J*(1-F));
switch(i){case 0:c=o;E=I;b=k;break;case 1:c=U;E=o;b=k;break;case 2:c=k;E=o;b=I;break;case 3:c=k;E=U;
b=o;break;case 4:c=I;E=k;b=o;break;case 5:c=o;E=k;b=U;break}}return{o:c,I:E,J:b}};q.Yg=function(x,J,o){var c=Math.max(x,J,o),E=Math.min(x,J,o),b=0,l=0,i=(c+E)*.5;
if(c!=E){var F=c-E;l=i>.5?F/(2-(c+E)):F/(c+E);switch(c){case x:b=(J-o)/F+(J<o?6:0);break;case J:b=(o-x)/F+2;
break;case o:b=(x-J)/F+4;break}b*=1/6}return{ao:b,Rw:l,dg:i}};q.zw=function(x,J,o){var c,E,b;if(J==0)c=E=b=o;
else{var l=o<.5?o*(1+J):o+J-o*J,i=2*o-l;c=q.zj(i,l,x+1/3);E=q.zj(i,l,x);b=q.zj(i,l,x-1/3)}return{o:c,I:E,J:b}};
q.zj=function(x,J,o){if(o<0)o+=1;if(o>1)o-=1;if(o<1/6)return x+(J-x)*6*o;if(o<1/2)return J;if(o<2/3)return x+(J-x)*(2/3-o)*6;
return x};q.tu=function(x,J,o){var c=Math.max(x,J,o),E=Math.min(x,J,o),b,l,i=c,F=c-E;l=c==0?0:F/c;if(c==E)b=0;
else{switch(c){case x:b=(J-o)/F+(J<o?6:0);break;case J:b=(o-x)/F+2;break;case o:b=(x-J)/F+4;break}b*=1/6}return{ao:b,Rw:l,fz:i}};
q.qf=function(x,J,o){var c,E,b,$,l,i,F,k;$=Math.floor(x*6);l=x*6-$;i=o*(1-J);F=o*(1-l*J);k=o*(1-(1-l)*J);
switch($%6){case 0:c=o,E=k,b=i;break;case 1:c=F,E=o,b=i;break;case 2:c=i,E=o,b=k;break;case 3:c=i,E=F,b=o;
break;case 4:c=k,E=i,b=o;break;case 5:c=o,E=i,b=F;break}return{o:c,I:E,J:b}};q.V4=function(){var x=[],J=[];
for(var $=0;$<8e3;$++){var o=$*(1/4e3);x[$]=q.Ea(o);J[$]=o>.008856?Math.pow(o,1/3):(903.3*o+16)*(1/116)}return[x,J]}();
q.tl=function(x,J,o,c){if(c==null)c=[.9642,1,.8249];var E=q.V4[0],b=q.V4[1];x=E[~~(.5+x*(4e3/255))];
J=E[~~(.5+J*(4e3/255))];o=E[~~(.5+o*(4e3/255))];var l=q.Dk.aAL,i=l[0]*x+l[1]*J+l[2]*o,F=l[4]*x+l[5]*J+l[6]*o,k=l[8]*x+l[9]*J+l[10]*o;
i=i*(1/c[0]);F=F*(1/c[1]);k=k*(1/c[2]);return q.oj(i,F,k)};q.oj=function(x,J,o){var c=q.V4[1],E=c[~~(.5+x*4e3)],b=c[~~(.5+J*4e3)],l=c[~~(.5+o*4e3)];
return{FQ:116*b-16,V:500*(E-b),J:200*(b-l)}};q.ab=function(x,J,o){var c=903.3,E=.008856,b=(x+16)/116,l=b*b*b,i=b-o/200,F=i*i*i,k=J/500+b,U=k*k*k,I=F>E?F:(116*i-16)/c,V=l>E?l:(116*b-16)/c,u=U>E?U:(116*k-16)/c,N=u*96.42,e=V*100,B=I*82.49,j=q.Dk.Kg(q.Dk.VU,[N/100,e/100,B/100,0]);
for(var $=0;$<4;$++)j[$]=Math.max(0,Math.min(255,q.cW(j[$])*255));return{o:j[0],I:j[1],J:j[2]}};q.Tt=function(x,J,o,c,E){var b=x.FQ,l=x.V,i=x.J,F=(b<J.FQ?J.FQ-b:o.FQ<b?o.FQ-b:0)*(1/100),k=(l<J.V?J.V-l:o.V<l?o.V-l:0)*(1/116),U=(i<J.J?J.J-i:o.J<i?o.J-i:0)*(1/116),I=Math.sqrt(F*F+k*k+U*U)*1.35;
return I<=c?Math.min(1,1.17*(1-I*E)):0};q.dk=function(x){var J=q.lX("cmykToRgb"),o=J[2],c=J[3],E=[0,0,0,0];
ICC.U.applyLUT4Float(c,o,x,E);return E};q.ajm=function(){var x=function(bz){return Math.round(bz*255)},J="",o=3;
for(var $=0;$<tab.length;$++){var c=x(tab[$]);if(o<=$)c=c-x(tab[$-o])+256&255;J+=c.toString(16).padStart(2,"0")}return J};
q.lX=function(x){var J=LUTS["_"+x];if(J==null){var o=LUTS[x],c=o[0],bz=o[1],E=o[2],b=o[3],l=[];for(var $=0;
$<b.length;$+=2)l.push(parseInt(b.slice($,$+2),16));for(var $=bz;$<l.length;$++)l[$]=l[$]+l[$-bz]&255;
for(var $=0;$<l.length;$++)l[$]*=1/255;J=LUTS["_"+x]=[c,bz,E,l]}return J};q.cE=function(x){var J=q.lX("rgbToCmyk"),o=J[2],c=J[3],E=[0,0,0,0];
ICC.U.applyLUT3to4Float(c,o,x,E);return E};q.anK=function(x){for(var $=0;$<x.length;$+=4){var J=[x[$+0]*(1/255),x[$+1]*(1/255),x[$+2]*(1/255)],o=q.cE(J);
x[$+0]=255-Math.floor(.5+o[0]*255);x[$+1]=255-Math.floor(.5+o[1]*255);x[$+2]=255-Math.floor(.5+o[2]*255);
x[$+3]=255-Math.floor(.5+o[3]*255)}};q.Sk=function(x,J,o){var c=x.length,E=.3,b=.59,l=.11;if(o){E=o[0];
b=o[1];l=o[2]}for(var $=0;$<c;$+=4)J[$>>2]=~~(x[$+0]*E+x[$+1]*b+x[$+2]*l+.5)};q.Qz=function(x,J){var o=J.length;
for(var $=0;$<o;$+=4){var c=x[$>>>2];J[$]=c;J[$+1]=c;J[$+2]=c}};q.rL=function(x,J){var o=x.V,c=x.o,E=x.I,b=x.J,l=Math.min(x.V.length,J.buffer.byteLength>>>2),i=4*Math.floor(l/4),F=new Uint32Array(J.buffer),k=new Uint32Array(o.buffer),U=new Uint32Array(c.buffer),I=new Uint32Array(E.buffer),V=new Uint32Array(b.buffer);
for(var $=0;$<i;$+=4){var u=k[$>>2],N=V[$>>2],e=I[$>>2],B=U[$>>2];F[$]=u<<24|(N&255)<<16|(e&255)<<8|B&255;
F[$+1]=(u&65280)<<16|(N&65280)<<8|e&65280|(B&65280)>>>8;F[$+2]=(u&16711680)<<8|N&16711680|(e&16711680)>>>8|(B&16711680)>>>16;
F[$+3]=u&4278190080|(N&4278190080)>>>8|(e&4278190080)>>>16|(B&4278190080)>>>24}for(var $=i;$<l;$++)F[$]=o[$]<<24|b[$]<<16|E[$]<<8|c[$]};
q.f8=function(x,J){var o=J.V,c=J.o,E=J.I,b=J.J,l=Math.min(J.V.length,x.buffer.byteLength>>>2),i=4*Math.floor(l/4),F=new Uint32Array(x.buffer),k=new Uint32Array(o.buffer),U=new Uint32Array(c.buffer),I=new Uint32Array(E.buffer),V=new Uint32Array(b.buffer);
for(var $=0;$<i;$+=4){var u=F[$],N=F[$+1],e=F[$+2],B=F[$+3];U[$>>2]=u&255|(N&255)<<8|(e&255)<<16|B<<24;
I[$>>2]=(u&65280)>>8|N&65280|(e&65280)<<8|(B&65280)<<16;V[$>>2]=(u&16711680)>>16|(N&16711680)>>8|e&16711680|(B&16711680)<<8;
k[$>>2]=u>>>24|N>>>24<<8|e>>>24<<16|B&4278190080}for(var $=i;$<l;$++){var j=F[$];c[$]=j>>0&255;E[$]=j>>8&255;
b[$]=j>>16&255;o[$]=j>>24&255}};q.z$=function(x,J,o){var c=new Uint8Array(x.buffer),E=Math.min(c.length/4,J.length);
for(var $=0;$<E;$++){J[$]=c[($<<2)+o]}};q.qR=function(x,J,o){var c=new Uint8Array(J.buffer),E=new Uint32Array(x.buffer),b=Math.min(c.length/4,x.length),$=0;
while($+4<b){var l=E[$>>>2];c[($<<2)+o]=l&255;c[($<<2)+o+4]=l>>>8&255;c[($<<2)+o+8]=l>>>16&255;c[($<<2)+o+12]=l>>>24;
$+=4}while($<b){c[($<<2)+o]=x[$];$++}};q.xj=function(x,J,o){if(o==null)o=0;var c=new Uint32Array(x.buffer),E=c.length;
for(var $=0;$<E;$++)c[$]=c[$]&o|J};q.aCP=function(x,J,o,c,E){if(E==null)E=0;var b=new Uint32Array(x.buffer);
o=o.Kc(J);var l=o.x-J.x,i=o.y-J.y,F=o.m,k=o.e,U=J.m;for(var I=0;I<k;I++){var $=(i+I)*U+l;for(var V=0;
V<F;V++){b[$]=b[$]&E|c;$++}}};q.N8=function(x,J){var o=Math.min(x.buffer.byteLength,J.buffer.byteLength),c=o>>>2,x=new Uint32Array(x.buffer,0,c),J=new Uint32Array(J.buffer,0,c);
J.set(x)};q.U5=function(x,J){var o=x.buffer.byteLength,c=J.buffer.byteLength,E=new Uint32Array(x.buffer,0,o>>2),b=new Uint32Array(J.buffer,0,c>>2);
if(o!=c)return!1;var l=E.length;for(var $=0;$<l;$++)if(b[$]!=E[$])return!1;return!0};q.Mr=function(x){var J=new Uint32Array(x.buffer),o=J.length;
for(var $=0;$<o;$++)J[$]=~J[$]};q.aiI=function(x){var J=x.length;for(var $=0;$<J;$+=4){x[$]=~x[$];x[$+1]=~x[$+1];
x[$+2]=~x[$+2]}};q.asi=function(x){var J=x.length;for(var $=3;$<J;$+=4)x[$]=~x[$]};q.ay1=function(x){return x+(x%4==0?0:4-x%4)};
q.R=function(x,J){if(J==null)J=!1;if(!J)x=q.ay1(x);try{var o=new Uint8Array(x)}catch(j4){alert("Not enough RAM! (need "+Math.round(x/(1<<20))+" MB)",7e3);
throw"low_ram"}return o};q.lz=function(x,J,o,c){if(c==null)c=0;var E=0;while(E+3<x.length&&x[E+3].P()>=c&&J.z1()*(1<<(E>>>1))<o)E+=2;
var b=x[1],l=x[E+1],i=new cW;i.translate(-b.x,-b.y);i.scale(b.m/l.m,b.e/l.e);i.translate(b.x,b.y);i.concat(J);
return[E,i]};q.mw=function(x){var J=x.length,o=x[J-2],c=x[J-1];while(c.m>=2&&c.e>=2){var E=q.Or(o,c);
x.push(E.tM,E.rect);o=E.tM;c=E.rect}};q.PF=function(x){var J=x.length,o=x[J-2],c=x[J-1];while(c.m>=2&&c.e>=2){var E=q.kM(o,c);
x.push(E.tM,E.rect);o=E.tM;c=E.rect}};q.Or=function(x,J,o){var c=J.m,E=J.e,b=c>>1,l=E>>1,i=new ha(J.x,J.y,b,l),F=o&&o.length==b*l*4?o:q.R(b*l*4),k=new Uint32Array(x.buffer),U=new Uint32Array(F.buffer);
for(var I=0;I<l;I++)for(var V=0;V<b;V++){var u=I*b+V,N=(I<<1)*c+(V<<1),e=k[N],B=k[N+1],j=k[N+c],T=k[N+c+1],a=e>>>24,P=B>>>24,v=j>>>24,R=T>>>24,y=a+P+v+R;
if(y==1020){var t=(e>>>0&255)+(B>>>0&255)+(j>>>0&255)+(T>>>0&255)+2>>>2,g=(e>>>8&255)+(B>>>8&255)+(j>>>8&255)+(T>>>8&255)+2>>>2,H=(e>>>16&255)+(B>>>16&255)+(j>>>16&255)+(T>>>16&255)+2>>>2;
U[u]=255<<24|H<<16|g<<8|t}else if(y==0)U[u]=0;else{var t=(e>>>0&255)*a+(B>>>0&255)*P+(j>>>0&255)*v+(T>>>0&255)*R,g=(e>>>8&255)*a+(B>>>8&255)*P+(j>>>8&255)*v+(T>>>8&255)*R,H=(e>>>16&255)*a+(B>>>16&255)*P+(j>>>16&255)*v+(T>>>16&255)*R,_=1/y;
t=~~(t*_+.5);g=~~(g*_+.5);H=~~(H*_+.5);U[u]=y+2>>>2<<24|H<<16|g<<8|t}}return{rect:i,tM:F}};q.M3=function(x,J,o){var c=J.m,E=J.e,b=c>>1,l=E>>1,i=new ha(J.x,J.y,b,l),F=o&&o.length==b*l*4?o:q.R(b*l*4),k=new Uint32Array(x.buffer),U=new Uint32Array(F.buffer);
for(var I=0;I<l;I++)for(var V=0;V<b;V++){var u=I*b+V,N=(I<<1)*c+(V<<1),e=k[N],B=k[N+1],j=k[N+c],T=k[N+c+1],a=2+(e>>>0&255)+(B>>>0&255)+(j>>>0&255)+(T>>>0&255)>>>2,P=2+(e>>>8&255)+(B>>>8&255)+(j>>>8&255)+(T>>>8&255)>>>2,v=2+(e>>>16&255)+(B>>>16&255)+(j>>>16&255)+(T>>>16&255)>>>2,R=2+(e>>>24&255)+(B>>>24&255)+(j>>>24&255)+(T>>>24&255)>>>2;
U[u]=R<<24|v<<16|P<<8|a}return{rect:i,tM:F}};q.a4W=function(x,J,o){var c=J.m,E=J.e,b=2*Math.floor(c/3),l=2*Math.floor(E/3),i=new ha(J.x,J.y,b,l),F=o&&o.length==b*l*4?o:q.R(b*l*4),k=new Uint32Array(x.buffer),U=new Uint32Array(F.buffer);
for(var I=0;I<l;I+=2)for(var V=0;V<b;V+=2){var u=I*b+V,N=(I*3>>>1)*c+(V*3>>>1),e=k[N],B=k[N+1],j=k[N+2],T=k[N+c],a=k[N+1+c],P=k[N+2+c],v=k[N+c+c],R=k[N+1+c+c],y=k[N+2+c+c],t=e>>>24<<2,g=(e>>>16&255)*t,H=(e>>>8&255)*t,_=(e&255)*t,Y=B>>>24<<1,K=(B>>>16&255)*Y,f=(B>>>8&255)*Y,m=(B&255)*Y,C=j>>>24<<2,Z=(j>>>16&255)*C,A=(j>>>8&255)*C,d=(j&255)*C,G=T>>>24<<1,r=(T>>>16&255)*G,X=(T>>>8&255)*G,w=(T&255)*G,S=a>>>24,z=(a>>>16&255)*S,s=(a>>>8&255)*S,M=(a&255)*S,Q=P>>>24<<1,O=(P>>>16&255)*Q,W=(P>>>8&255)*Q,e9=(P&255)*Q,jV=v>>>24<<2,co=(v>>>16&255)*jV,dz=(v>>>8&255)*jV,eh=(v&255)*jV,a9=R>>>24<<1,kB=(R>>>16&255)*a9,dc=(R>>>8&255)*a9,eT=(R&255)*a9,fv=y>>>24<<2,jS=(y>>>16&255)*fv,cx=(y>>>8&255)*fv,bX=(y&255)*fv,gi=t+Y+G+S,cM=C+Y+Q+S,ea=jV+a9+G+S,a1=fv+a9+Q+S,db=gi==0?0:1/gi,d2=cM==0?0:1/cM,hu=ea==0?0:1/ea,fF=a1==0?0:1/a1,il=0,f4=0,aK=0,f9=0;
il=~~(.5+(_+m+w+M)*db);f4=~~(.5+(H+f+X+s)*db);aK=~~(.5+(g+K+r+z)*db);f9=~~(.5+gi*(1/9));U[u]=f9<<24|aK<<16|f4<<8|il;
il=~~(.5+(d+m+e9+M)*d2);f4=~~(.5+(A+f+W+s)*d2);aK=~~(.5+(Z+K+O+z)*d2);f9=~~(.5+cM*(1/9));U[u+1]=f9<<24|aK<<16|f4<<8|il;
il=~~(.5+(eh+eT+w+M)*hu);f4=~~(.5+(dz+dc+X+s)*hu);aK=~~(.5+(co+kB+r+z)*hu);f9=~~(.5+ea*(1/9));U[u+b]=f9<<24|aK<<16|f4<<8|il;
il=~~(.5+(bX+eT+e9+M)*fF);f4=~~(.5+(cx+dc+W+s)*fF);aK=~~(.5+(jS+kB+O+z)*fF);f9=~~(.5+a1*(1/9));U[u+b+1]=f9<<24|aK<<16|f4<<8|il}return{rect:i,tM:F}};
q.awH=function(x,J,o){var c=J.m,E=J.e,b=2*Math.floor(c/3),l=2*Math.floor(E/3),i=new ha(J.x,J.y,b,l),F=o&&o.length==b*l*4?o:q.R(b*l*4),k=new Uint32Array(x.buffer),U=new Uint32Array(F.buffer);
for(var I=0;I<l;I+=2)for(var V=0;V<b;V+=2){var u=I*b+V,N=(I*3>>>1)*c+(V*3>>>1),e=k[N],B=k[N+1],j=k[N+2],T=k[N+c],a=k[N+1+c],P=k[N+2+c],v=k[N+c+c],R=k[N+1+c+c],y=k[N+2+c+c],t=(e>>>16&255)<<2,g=(e>>>8&255)<<2,H=(e&255)<<2,_=(B>>>16&255)<<1,Y=(B>>>8&255)<<1,K=(B&255)<<1,f=(j>>>16&255)<<2,m=(j>>>8&255)<<2,C=(j&255)<<2,Z=(T>>>16&255)<<1,A=(T>>>8&255)<<1,d=(T&255)<<1,G=a>>>16&255,r=a>>>8&255,X=a&255,w=(P>>>16&255)<<1,S=(P>>>8&255)<<1,z=(P&255)<<1,s=(v>>>16&255)<<2,M=(v>>>8&255)<<2,Q=(v&255)<<2,O=(R>>>16&255)<<1,W=(R>>>8&255)<<1,e9=(R&255)<<1,jV=(y>>>16&255)<<2,co=(y>>>8&255)<<2,dz=(y&255)<<2,eh=0,a9=0,kB=0;
eh=~~(.5+(H+K+d+X)*(1/9));a9=~~(.5+(g+Y+A+r)*(1/9));kB=~~(.5+(t+_+Z+G)*(1/9));U[u]=255<<24|kB<<16|a9<<8|eh;
eh=~~(.5+(C+K+z+X)*(1/9));a9=~~(.5+(m+Y+S+r)*(1/9));kB=~~(.5+(f+_+w+G)*(1/9));U[u+1]=255<<24|kB<<16|a9<<8|eh;
eh=~~(.5+(Q+e9+d+X)*(1/9));a9=~~(.5+(M+W+A+r)*(1/9));kB=~~(.5+(s+O+Z+G)*(1/9));U[u+b]=255<<24|kB<<16|a9<<8|eh;
eh=~~(.5+(dz+e9+z+X)*(1/9));a9=~~(.5+(co+W+S+r)*(1/9));kB=~~(.5+(jV+O+w+G)*(1/9));U[u+b+1]=255<<24|kB<<16|a9<<8|eh}return{rect:i,tM:F}};
q._6=function(x){var J=255,o=x.length;o-=o&31;for(var $=3;$<o;$+=32)J=J&x[$]&x[$+4]&x[$+8]&x[$+12]&x[$+16]&x[$+20]&x[$+24]&x[$+28];
return J!=255};q.d8=function(x,J,o,c){var E=q.Or,b=q.a4W;if(!q._6(x)){E=q.M3;b=q.awH}var l={tM:x,rect:J},i=q.jw(o);
for(var $=0;$<i.length;$++){if(i[$]==2)l=E(l.tM,l.rect,c);else l=b(l.tM,l.rect,c)}return l};q.awT=function(x,J,o,c){var E=q.kM,b=q.Tr,l={tM:x,rect:J},i=q.jw(o);
for(var $=0;$<i.length;$++){if(i[$]==2)l=E(l.tM,l.rect,c);else l=b(l.tM,l.rect,c)}return l};q.jw=function(x){var J=[],o=x;
while(o<.499){J.push(2);o*=2}J.push(o<.5001?2:3);return J};q.kM=function(x,J,o){var c=J.m,E=J.e,b=c>>1,l=E>>1,i=new ha(J.x,J.y,b,l);
if(x==null)return{rect:i};var F=o&&o.length>=b*l?o:q.R(b*l);for(var k=0;k<l;k++){var U=k*b;for(var I=0;
I<b;I++){var V=(k<<1)*c+(I<<1);F[U+I]=2+x[V]+x[V+1]+x[V+c]+x[V+c+1]>>>2}}return{rect:i,tM:F}};q.Tr=function(x,J,o){var c=J.m,E=J.e,b=2*Math.floor(c/3),l=2*Math.floor(E/3),i=new ha(J.x,J.y,b,l);
if(x==null)return{rect:i};var F=o&&o.length>=b*l?o:q.R(b*l);for(var k=0;k<l;k+=2)for(var U=0;U<b;U+=2){var I=k*b+U,V=(k*3>>>1)*c+(U*3>>>1),u=x[V]<<2,N=x[V+1]<<1,e=x[V+2]<<2,B=x[V+c]<<1,j=x[V+1+c],T=x[V+2+c]<<1,a=x[V+c+c]<<2,P=x[V+1+c+c]<<1,v=x[V+2+c+c]<<2;
F[I]=~~(.5+(u+N+B+j)*(1/9));F[I+1]=~~(.5+(e+N+T+j)*(1/9));F[I+b]=~~(.5+(a+P+B+j)*(1/9));F[I+b+1]=~~(.5+(v+P+T+j)*(1/9))}return{rect:i,tM:F}};
q.a35=function(x,J,o,c,E){var b=J.Kc(c);if(E)b=b.Kc(E);var l=Math.max(0,b.x-J.x),i=Math.max(0,b.x-c.x),F=Math.max(0,b.y-J.y),k=Math.max(0,b.y-c.y),U=b.m,I=b.e;
for(var $=0;$<I;$++){var V=(F+$)*J.m+l,u=(k+$)*c.m+i;for(var N=0;N<U;N++){o[u+N]=Math.max(o[u+N],x[V+N])}}};
q.zc=function(x,J,o,c,E){var b=J.Kc(c);if(E)b=b.Kc(E);var l=Math.max(0,b.x-J.x),i=Math.max(0,b.x-c.x),F=Math.max(0,b.y-J.y),k=Math.max(0,b.y-c.y),U=b.m,I=b.e;
for(var $=0;$<I;$++){var V=(F+$)*J.m+l,u=(k+$)*c.m+i;o.set(new Uint8Array(x.buffer,V,U),u)}};q.yP=function(x,J,o,c){if(J.U5(c)){q.qR(x,o,3);
return}var E=J.Kc(c),b=Math.max(0,E.x-J.x),l=Math.max(0,E.x-c.x),i=Math.max(0,E.y-J.y),F=Math.max(0,E.y-c.y),k=E.m,U=E.e;
for(var $=0;$<U;$++){var I=(i+$)*J.m+b,V=(F+$)*c.m+l;for(var u=0;u<k;u++)o[(V+u<<2)+3]=x[I+u]}};q.ae=function(x,J,o,c){var E=J.Kc(c),b=Math.max(0,E.x-J.x),l=Math.max(0,E.x-c.x),i=Math.max(0,E.y-J.y),F=Math.max(0,E.y-c.y),k=E.m,U=E.e;
for(var $=0;$<U;$++){var I=(i+$)*J.m+b,V=(F+$)*c.m+l;for(var u=0;u<k;u++)o[V+u]=x[(I+u<<2)+3]}};q.St=function(x,J,o,c,E){if(J.U5(c)&&(E==null||E.U5(c))){q.N8(x,o);
return}x=new Uint32Array(x.buffer),o=new Uint32Array(o.buffer);var b=J.Kc(c);if(E)b=b.Kc(E);var l=Math.max(0,b.x-J.x),i=Math.max(0,b.x-c.x),F=Math.max(0,b.y-J.y),k=Math.max(0,b.y-c.y),U=b.m,I=b.e,V=U&3,u=V==0?U:U-V;
for(var $=0;$<I;$++){var N=(F+$)*J.m+l,e=(k+$)*c.m+i;o.set(new Uint32Array(x.buffer,N*4,U),e)}};q.Ei=function(x,J,o,c){var E=J.Kc(c),b=Math.max(0,E.x-J.x),l=Math.max(0,E.x-c.x),i=Math.max(0,E.y-J.y),F=Math.max(0,E.y-c.y),k=E.m,U=E.e,I=x.V,V=x.o,u=x.I,N=x.J,e=o.V,B=o.o,j=o.I,T=o.J;
for(var $=0;$<U;$++){var a=(i+$)*J.m+b,P=(F+$)*c.m+l;for(var v=0;v<k;v++){e[P+v]=I[a+v];B[P+v]=V[a+v];
j[P+v]=u[a+v];T[P+v]=N[a+v]}}};q.u4=function(x){var J=x.length;for(var $=0;$<J;$+=4){var o=x[$+3];if(o==255)continue;
x[$]=~~(x[$]*o*(1/255)+.5);x[$+1]=~~(x[$+1]*o*(1/255)+.5);x[$+2]=~~(x[$+2]*o*(1/255)+.5)}};q.jB=function(x){var J=x.length;
for(var $=0;$<J;$+=4){var o=x[$+3];if(o==0||o==255)continue;var c=255/o;x[$]=~~(x[$]*c+.5);x[$+1]=~~(x[$+1]*c+.5);
x[$+2]=~~(x[$+2]*c+.5)}};q.Ps=function(x,J){for(var $=0;$<x.length;$++)if(x[$]!=J)return!1;return!0};
q.vS=function(x){return x+1+(x>>>8)>>>8};q.round=function(x,J){if(J==null)J=128;var o=x.length;for(var $=0;
$<o;$++)x[$]=x[$]<J?0:255};q.m5=function(x,J){var o=x.length;for(var $=0;$<o;$++)x[$]=Math.round(x[$]*J)};
q.HF=function(x,J){var o=new Uint32Array(x.buffer),c=new Uint32Array(J.buffer),E=o.length;for(var $=0;
$<E;$++){var b=o[$],l=c[$];c[$]=q.vS((b>>>24)*(l>>>24))<<24|q.vS((b>>>16&255)*(l>>>16&255))<<16|q.vS((b>>>8&255)*(l>>>8&255))<<8|q.vS((b&255)*(l&255))}};
q.nc=function(x,J){var o=x.length;for(var $=0;$<o;$++)J[($<<2)+3]=q.vS(J[($<<2)+3]*x[$])};q.a8C=function(x,J,o,c){var E=Math.max(0,c.x-J.x),b=Math.max(0,J.x-c.x),l=Math.max(0,c.y-J.y),i=Math.max(0,J.y-c.y),F=Math.min(J.x+J.m,c.x+c.m)-Math.max(J.x,c.x),k=Math.min(J.y+J.e,c.y+c.e)-Math.max(J.y,c.y);
for(var $=0;$<k;$++){var U=(l+$)*J.m+E,I=(i+$)*c.m+b;for(var V=0;V<F;V++){o[I]=q.vS(o[I]*x[U]);U++;I++}}};
q.gV=function(x,J,o,c){var E=Math.max(0,c.x-J.x),b=Math.max(0,J.x-c.x),l=Math.max(0,c.y-J.y),i=Math.max(0,J.y-c.y),F=Math.min(J.x+J.m,c.x+c.m)-Math.max(J.x,c.x),k=Math.min(J.y+J.e,c.y+c.e)-Math.max(J.y,c.y);
for(var $=0;$<k;$++){var U=(l+$)*J.m+E,I=((i+$)*c.m+b<<2)+3;for(var V=0;V<F;V++){o[I]=q.vS(o[I]*x[U]);
U++;I+=4}}};q.Tk=function(x,J,o,c){var E=Math.max(0,c.x-J.x),b=Math.max(0,J.x-c.x),l=Math.max(0,c.y-J.y),i=Math.max(0,J.y-c.y),F=Math.min(J.x+J.m,c.x+c.m)-Math.max(J.x,c.x),k=Math.min(J.y+J.e,c.y+c.e)-Math.max(J.y,c.y);
for(var $=0;$<k;$++){var U=((l+$)*J.m+E<<2)+3,I=((i+$)*c.m+b<<2)+3;for(var V=0;V<F;V++){o[I]=q.vS(o[I]*x[U]);
U+=4;I+=4}}};q.Hu=function(x,J){if(J==null)J=1;var o=4*J,c=x.length>>>2,E=new Float64Array(256),b=new Float64Array(256),l=new Float64Array(256),i=new Float64Array(256),F=4*Math.floor(c/J)*J,k=0;
for(var $=0;$<F;$+=o){var U=x[$+0],I=x[$+1],V=x[$+2],u=x[$+3]*J,N=u*(1/255);b[U]+=N;l[I]+=N;i[V]+=N;
k+=u}for(var $=0;$<256;$++)E[$]=b[$]+l[$]+i[$];return[E,b,l,i,c,k/255]};q.i$=function(x,J){function o(R,y){var t=-1,g=0;
while(g<=y){t++;g+=R[t]}return t}function c(R,y){var t=256,g=0;while(g<=y){t--;g+=R[t]}return t}function E(R){var y=0,t=0;
for(var $=0;$<256;$++){t+=R[$];y+=R[$]*$*(1/255)}return y/t}var b=x[0],l=x[1]/100,i=x[2]/100,F=[],k=[];
for(var $=0;$<4;$++){var U=$==0?3:1;F[$]=o(J[$],U*l*J[5]);k[$]=c(J[$],U*i*J[5])}var I=[E(J[1]),E(J[2]),E(J[3])],V=I.slice(0);
V.sort(function(R,y){return R-y});var u=I.indexOf(V[1]),N=(I[0]+I[1]+I[2])/3,e=[];for(var $=0;$<4;$++){var B=0,j=255,T=F[$],a=k[$];
if(b==0&&$==0){B=T;j=a}if(b==1&&$!=0){B=T;j=a}if(b==2&&$!=0){var U=I[$-1]/N;j=Math.max(0,Math.min(255,k[u]*U))}var P=[B,j];
e.push(P);if(b==3&&$==0){var v=255*(1-N);P.push(v)}}return e};q.GZ=function(x,J){var o=new Uint32Array(x.buffer),c=o.length;
for(var $=0;$<c;$++){var E=o[$],b=E&255,l=E>>8&255,i=E>>16&255,F=E>>24&255;o[$]=J[b]|J[l]<<8|J[i]<<16|J[F]<<24}};
q.aht=function(x,J,o,c,E,b,l){var i=new Uint32Array(x.buffer),F=new Uint32Array(J.buffer),k=i.length,U=0;
while(256<<U<o.length)U++;if(!l&&!b){for(var $=0;$!=k;$++){var I=i[$],V=(I&255)<<U,u=(I>>>8&255)<<U,N=(I>>>16&255)<<U,e=o[V],B=c[u],j=E[N];
F[$]=e|B<<8|j<<16|I&4278190080}return}for(var $=0;$<k;$++){var I=i[$],V=(I&255)<<U,u=(I>>>8&255)<<U,N=(I>>>16&255)<<U;
if(b)V=u=N=Math.round(V*.3+u*.59+N*.11);var e=o[V],B=c[u],j=E[N];if(l){var T=q.TM(V,u,N),a=q.TM(e,B,j);
if(T>a){var P=(T-a)/(255-a);e+=P*(255-e);B+=P*(255-B);j+=P*(255-j)}else if(a==0)e=B=j=0;else{var P=T/a;
e=P*e;B=P*B;j=P*j}}F[$]=e|B<<8|j<<16|I&4278190080}};q.d6=function(x,J){var o=J.m,c=J.e,top=0,E=0,b=0,l=0,i=0;
i=0;for(var F=0;F<c;F++){var k=F*o;for(var $=0;$<o;$++)i|=x[k+$];if(i!=0)break;top++}if(top==c)return new ha(0,0,0,0);
i=0;for(var F=c-1;F>=0;F--){var k=F*o;for(var $=0;$<o;$++)i|=x[k+$];if(i!=0)break;b++}var U=c-b;i=0;
for(var $=0;$<o;$++){for(var F=top;F<U;F++)i|=x[F*o+$];if(i!=0)break;E++}i=0;for(var $=o-1;$>=0;$--){for(var F=top;
F<U;F++)i|=x[F*o+$];if(i!=0)break;l++}var I=new ha(J.x+E,J.y+top,o-E-l,c-top-b);return I};q.Bm=function(x,J,o,c){if(c==null)c=[!0,!0,!0,!0];
if(o==null)o=0;var E=new Uint32Array(x.buffer),b=J.m,l=J.e,top=0,i=0,F=0,k=0,U=!1,I=[E[0],E[E.length-1],0][o];
U=!1;if(c[0])for(var V=0;V<l;V++){var u=V*b;for(var $=0;$<b;$++)if(E[u+$]!=I)U=!0;if(U)break;top++}U=!1;
if(c[2])for(var V=l-1;V>=0;V--){var u=V*b;for(var $=0;$<b;$++)if(E[u+$]!=I)U=!0;if(U)break;F++}U=!1;
if(c[1])for(var $=0;$<b;$++){for(var V=0;V<l;V++)if(E[V*b+$]!=I)U=!0;if(U)break;i++}U=!1;if(c[3])for(var $=b-1;
$>=0;$--){for(var V=0;V<l;V++)if(E[V*b+$]!=I)U=!0;if(U)break;k++}var N=new ha(J.x+i,J.y+top,b-i-k,l-top-F);
return N.Kx()?new ha(0,0,0,0):N};q.xz=function(x){var J=q.d6(x.channel,x.rect);if(J.U5(x.rect))return;
var o=q.R(J.P());q.zc(x.channel,x.rect,o,J);x.channel=o;x.rect=J};q.Ir=function(x){var J=q.R(x.buffer.length>>2);
q.z$(x.buffer,J,3);var o=q.d6(J,x.rect);if(o.U5(x.rect))return;var c=new q.R(o.P()*4);q.St(x.buffer,x.rect,c,o);
x.buffer=c;x.rect=o};q.extend=function(x,J,o){if(x.rect.KR(J))return;var c=x.rect.k7(J),E=q.R(c.P());
if(o!=null)E.fill(o);q.zc(x.channel,x.rect,E,c);x.rect=c;x.channel=E};q.af7=function(x,J){if(J.Kx()||x.rect.KR(J))return;
var o=x.rect.k7(J),c=q.R(o.P()*4);q.St(x.buffer,x.rect,c,o);x.rect=o;x.buffer=c};q.zo=function(x,J,o){if(!o.GT(x))return!1;
var c=Math.floor(x.x)-o.x,E=Math.floor(x.y)-o.y,$=E*o.m+c;return J[$]>128};q.a8F=function(x,J,o){if(!o.GT(x))return!1;
var c=Math.floor(x.x)-o.x,E=Math.floor(x.y)-o.y,$=E*o.m+c;return J[4*$+3]>128};q.ov=function(x){if(q.Wy.length<x){q.Wy=q.R(x);
q.Wy.fill(255)}return q.Wy};q.Wy=q.R(0);q.Qs=function(x){if(q.lJ.length<x)q.lJ=q.R(x);return q.lJ};q.lJ=q.R(0);
q.HC=function(x){this.V=q.R(x);this.o=q.R(x);this.I=q.R(x);this.J=q.R(x)};q.HC.prototype.clone=function(){var x=this.V.length,J=new q.HC(1);
J.V=this.V.slice(0);J.o=this.o.slice(0);J.I=this.I.slice(0);J.J=this.J.slice(0);return J};q.X.ao$=function(x,J,o,c,E){var b=E[0]+1,l=E[1],i=Math.abs(l-25)/4,F=E[2],k=F%2+F*F>>1,U=q.X.q;
U.Rc(J,o);var I=U.We(1),V=U.We(1),u=U.We(1);U.Bl(x,c,F,F,k);U.IH(c);U.C2(c,I);U.ZC(I,V,b,b,1);U.ZC(I,u,b,b,b*b);
U.sub(u,V);U.HF(V,i);(l<25?U.sub:U.add)(I,V);U.Vk(V,c);U.QO(c)};q.X.aBa=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=E[0]*2.55,i=E[1],F=i>>1,k=E[2]*.25,U=b.We(4),I=b.We(1),V=b.We(1);b.Ec(x,U,i,1,!0,F);
b.Ec(x,c,i,1,!1,F);b.WP(x,I);b.vi(I,l);b.zz(I,V,3);b.Uo(c,V,U);b.fB(U,c,k)};q.X.a4U=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);b.XE(E[3]);var l=E[0]*-3+80,i=E[1]*-3+80,F=E[2]/2+.5,k=E[4],U=E[5],I=b.We(1),V=b.We(1),u=b.We(1),N=b.We(1),e=b.We(4),B=b.We(4);
b.WP(x,I);b.N8(I,V);b.OB(I,i,5);b.aD9(I,.4,0);b.zz(I,u,3);b.t9(u,I,9,3,!0,27);b.N8(V,u);b.Mr(u);var j=b.kc(l,5,u);
for(var $=0;$<b.ET;$++){V[$]=j[255-V[$]]}b.aD9(V,.4,0);b.N8(V,u);b.zz(u,N,2);b.t9(N,u,5,3,!1,15);b.HF(I,F);
b.HF(u,F);b.Et(c,2155905279);b.Et(B,k);b.Et(e,U);b.Uo(B,I,c);b.Uo(e,u,c)};q.X.a7P=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=new Uint8Array(256),i=5+10*E[1];i+=E[1]>3?(E[1]-3)*10:0;var F=~~(E[2]*.73)+50,k=Math.min(F+i,128),U=k-F,I=-255*F;
for(var $=0;$<256;$++){var V=$*65;l[$]=b.xp(I/U);I+=255}var u=b.We(1),N=b.We(1),e=b.We(1);b.WP(x,u);
b.N8(u,e);b.zz(u,N,2*E[0]+1);b.sub(N,u);b.HF(u,65);b.t9(u,N,9,3,!0,20);for(var $=0;$<b.ET;$++){var B=e[$],j=N[$];
u[$]=j>0?~~((j*B+(255-j)*128)/255):128}b.zz(u,N,3);b.t9(N,u,15,2,!0,16);b.t9(N,e,15,2,!1,15);b.dS(u,e);
b._C(e,N,2);b.vP(N,l);b.zz(N,u,2);b.dU(u,c)};q.X.a64=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);var l=2*E[0]+1,i=b.auC[E[1]],F=E[2]*5.1,k=E[3],U=b.We(1),I=b.We(1),V=b.We(4),u=b.We(4);
b.Et(V,k);b.IH(V,c);b.acx(U,F);b.Vk(U,c);b.QO(c,V);b.WP(x,I);b.zz(I,U,l);b.sub(U,I);b.HF(I,i);b.t9(I,U,9,3,!0,20);
b.Uo(x,U,V);b.tS(V,c,3);b.Ec(c,V,15,2,!0,16);b.Ec(c,u,15,2,!1,16);b.dS(V,u);b.fB(u,c,2)};q.X.avn=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=(15-E[0])/4+1,i=(15-E[1])/4+1,F=E[2],k=E[3],U=b.co(E[4]),I=E[5]+1,V=E[6],u=E[7],N=E[8],e=b.We(1),B=b.We(1),j=b.We(1),T=b.We(1),a=b.We(4),P=b.We(4);
b.Vv(j,F,k,V);b.WP(x,B);b.zz(B,e,5);b.fs(j,e,T,I,U);b.HF(T,l);b.IS(T,2);b.Mr(e);b.fs(j,e,B,I,U);b.HF(B,i);
b.IS(B,2);b.Et(a,2155905279);b.Et(P,u);b.Et(c,N);b.Uo(a,B,P);b.Uo(P,T,c)};q.X.amZ=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);b.XE(E[3]);var l=E[0],i=E[1]/10,F=E[2]/10,k=b.We(1),U=b.We(1),I=b.We(1),V=b.gT(),u=b.gT(),N=b.gT();
b.W6(k);b.zz(k,U,11);b.zz(U,k,11);b.EL(k,V);b.dp(x,k);b.N8(k,I);b.zz(k,U,9);b.zz(U,k,9);b.EL(k,u);b.ic(u,N,5);
b.ic(N,u,5);b.aqO(V,.8);b.aal(V,u,.8,.9);b.az5(u,k,l);b.ZC(k,U,2,2,1);b.ZC(U,k,2,2,3);b.ZC(k,U,2,2,3);
b.ZC(I,k,5,5,13);b.gA(U,k,U,i);b.BB(k,U,U,F);b.fs(U,U,k,5,1);b.IH(x,c);b.Vk(k,c);b.QO(c)};q.X.art=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=E[0],i=E[1]/2,F=E[2],k=l/2,U=b.We(4),I=b.We(4);b.N8(x,c);for(var V=0;V<F;V++){b.Ec(c,U,l,1,!0,k);
b.Ec(c,I,l,1,!1,k);b.dS(I,U);b.tS(U,I,2);b.fB(I,c,i)}};q.X.apr=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);
var l=E[0]*10,i=E[1]*4.9,F=E[2]*4.9,k=b.We(1),U=b.We(1),I=b.We(4),V=b.We(4);b.WP(x,k);b.vi(k,b.aeV(k,l));
b.zz(k,U,3);b.Ec(x,I,5,1,!1,1);b.Ec(x,c,15,2,!0,16);b.Uo(c,U,I);b.IH(I,c);b.C2(c,k);b.OB(k,i,F);b.Vk(k,c);
b.QO(c)};q.X.aAn=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);b.XE(E[4]);var l=E[0]/20,i=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][E[1]],F=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][E[2]],k=E[3],U=new Int16Array(256);
for(var $=0;$<256;$++){U[$]=~~(($-128)*l)}var I=b.We(1),V=b.We(1),u=b.We(4);b.WP(x,I);b.zz(I,V,25);b.HF(V,i);
b.IS(V,F);b.zz(V,I,25);b.W6(V);b.a1R(I,V,U);b.N8(x,c);b.Et(u,k);b.Uo(u,I,c)};q.X.an2=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=E[0]+5,i=15-E[1],F=l*l/2,k=1-(3-E[2])/10,U=~~(i*i*k-1),I=~~(i*i*(1-k));if(I==0)I=1;var V=b.We(1),u=b.We(1),N=b.We(1),e=b.We(4);
b.WP(x,N);b.ZC(N,V,l,l,F);b.zz(N,u,l);b.sub(V,u);b.vi(u,1);b.Bl(x,e,i,i,U);b.Bl(x,c,i,i,I);b.Uo(e,u,c)};
q.X.ax3=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);b.XE(E[3]);var l=(20-E[0])*.05,i=E[1]*-2.75+60,F=65-i,k=E[2]/10,U=b.We(1),I=b.We(1);
b.dp(x,I);var V=b.kc(i,F,I);b.IH(x,c);b.C2(c,I);b.W6(U);b.tR(I,U,l);b.vP(I,V);b.HF(I,E[2]/10);b.add(U,I);
b.Vk(I,c);b.QO(c)};q.X.a8M=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);var l=5+E[0],i=15-E[1],F=E[2],k=l*l/2+l*l%2*1,U=1-(3-E[2])/10,I=~~(i*i*U-1),V=~~(i*i*(1-U));
if(V==0)V=1;var u=b.We(1),N=b.We(1),e=b.We(1),B=b.We(1),j=b.We(1);b.dp(x,N);b._C(N,u,3);b.ZC(u,N,2,2,1);
var T=b.kc(20,20,N);b.vP(N,T);b.zz(N,j,5);b.ZC(j,u,l,l,k);b.ZC(j,N,i,i,I);b.ZC(j,e,i,i,V);b.zz(j,B,l);
b.sub(u,B);b.vi(B,1);b.aAg(N,B,e);b.IH(x,c);b.Vk(e,c);b.QO(c)};q.X.aiN=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);b.XE(E[5]);var l=b.ET,i=b.$X,F=E[0],k=E[1],U=E[2],I=E[3],V=E[4],u=.05*F+1,N=F/100,e=F>>1,B=2*F-100,j=+(k==9),T=+(k==7),a=[4,1][j],P=[3,2][j],v=[1,2][T],R=[2,1][T],y=[50,75][j],t=k<4?U:(U>>1)+50,g=b.a8e(y,t),H=b.nj(I),_=b.nj(V),Y=b.We(4),K=b.We(4),f=b.We(1),m=b.We(1);
function C(c,g){if(t!=50){b.afl(c,g)}}function Z(x,O){for(var $=0;$<l;$++){x[$]=b.xp(x[$]+(O[$]-128)*N)}}function A(x,O){for(var $=0,W=0;
$<l;$++){x[W]=b.xp(x[W]+(O[W]-128)*N);x[W+1]=b.xp(x[W+1]+(O[W+1]-128)*N);x[W+2]=b.xp(x[W+2]+(O[W+2]-128)*N);
W+=4}}function d(x,c){b.W6(K);b.N8(x,c);A(c,K);C(c,g)}function G(O){var W=0;for(var e9=0;e9<12;e9++)W+=b.random();
return b.xp(e*(W-6)+O)}function r(x,c){b.N8(x,c);for(var $=0;$<i;$+=4){c[$]=G(c[$]);c[$+1]=G(c[$+1]);
c[$+2]=G(c[$+2])}C(c,g)}function X(x,c){b.N8(x,c);for(var $=0;$<i;$+=4){if(b.random()<N){c[$]=H[0];c[$+1]=H[1];
c[$+2]=H[2]}}C(c,g)}function w(x,c){b.W6(Y);b.Bl(Y,K,P,P,a);b.N8(x,Y);A(Y,K);b.Bl(Y,c,5,5,13);C(c,g)}function S(x,c){b.W6(K);
b.N8(x,Y);A(Y,K);C(c,g);b.Bl(Y,c,P,P,a)}function z(x,c){b.N8(x,Y);C(c,g);b.WP(Y,f);for(var $=0,O=0;$<l;
$++){var W=((B-f[$]+255)*128.5+.5)/32767;if(b.random()<=W){c[O++]=_[0];c[O++]=_[1];c[O++]=_[2]}else{c[O++]=H[0];
c[O++]=H[1];c[O++]=H[2]}c[O]=x[O];O++}}function s(x,c){b.IH(x,c);b.C2(c,f);b._C(f,m,u);b.ZC(m,f,P,P,a);
b.vP(f,g);b.Vk(f,c);b.QO(c)}function M(x){var O=0;if(k==8){for(var W=0;W<J;W++){x[O++]=~~(b.random()*255)}for(var $=1;
$<o;$++){for(var W=0;W<J;W++){x[O++]=x[W]}}}else{for(var $=0;$<o;$++){var e9=~~(b.random()*255);for(var W=0;
W<J;W++){x[O++]=e9}}}}function Q(x,c){b.WP(x,f);b.W6(m);Z(f,m);M(m);Z(f,m);b.tS(x,Y,9);b.tS(Y,K,9);b.zz(f,m,2);
b.vP(m,g);b.zz(m,f,2);b.IH(K,c);b.Vk(f,c);b.QO(c)}[d,r,X,w,w,S,z,Q,Q,s][k](x,c)};q.X.atN=function(x,J,o,c,E){var b=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],l=q.X.q,e=0,B,$,v,R,y,t=0,g=1,H=255;
l.Rc(J,o);l.XE(E[3]);var i=l.We(1),F=l.We(1);l.WP(x,i);var k=E[0],U=E[1],I=U<=50?b[U]/255:1+(255-b[101-U])/255,V=E[2],u=i.length,N=new Float32Array(u),j=1+1/10*k,T=(1-1/j)/2,a=16/256,P=J-1;
for($=0;$<l.ET;$++){N[$]=i[$]/255;F[$]=k==1?l.random()<1/255?H:g:g}function _(Y,K){var f=Y*J+K;if(F[f]!=g||Y>=o||K>=J){return}var R=N[f],m=I-R,C=l.random(),Z=C/j+T;
if(e==0||Math.abs(y-R)>a){B=Z<=m?t:H;e=~~(l.random()*k)}else if(.1<C){e--}else{e=0}F[f]=B;y=R}if(V==0){for($=0;
$<J;$++){for(v=0;v<J;v++){R=$+v;if(R>=J)break;_(v,P-R)}e=0}for($=1;$<o;$++){for(v=0;v<o;v++){R=$+v;if(R>=o||v>=J)break;
_(R,P-v)}e=0}}else if(V==1){for($=0;$<o;$++){for(v=0;v<J;v++){_($,v)}e=0}}else if(V==2){for($=0;$<J;
$++){for(v=0;v<J;v++){R=$+v;if(R>=J)break;_(v,R)}e=0}for($=1;$<o;$++){for(v=0;v<o;v++){R=$+v;if(R>=o||v>=J)break;
_(R,v)}e=0}}else{for($=0;$<J;$++){for(v=0;v<o;v++){_(v,$)}e=0}}l.dU(F,c)};q.X.aqL=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=E[0],i=E[1],F=E[2],k=b.We(1),U=b.We(1),I=b.We(1),V=b.We(1),u=b.We(4),N=b.We(4);b.C2(x,V,3,4);
b.WP(x,k);b.ZC(k,U,3,3,1);b.ZC(k,I,3,3,9);b.sub(I,U);b.zz(U,k,3);b.OB(k,40,10,V);b.Ec(x,c,l,2,!1,l);
b.Ec(x,u,l,2,!0,l);b.Et(N,255);b.Uo(c,k,N);b.Uo(N,k,u);b.fB(u,c,1);b.IH(c);b.C2(c,k);b.OB(k,i,F,V);b.Vk(k,c);
b.QO(c)};q.X.adk=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);b.XE(E[3]);var l=E[0],i=E[1],F=E[2]/10;l=l+i;
var k=b.We(1),U=b.We(1),I=b.gT(),V=b.gT();b.W6(k);b.zz(k,U,11);b.zz(U,k,11);b.EL(k,I);b.ic(I,V,5);b.ic(V,I,5);
b.aqO(V,.97);b.az5(V,k,l);b.ZC(k,U,i,i,1);b.dp(x,k);b.gA(U,k,U,.6);b.BB(k,U,U,F);b.fs(U,U,k,5,1);b.IH(x,c);
b.Vk(k,c);b.QO(c)};q.X.alJ=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);var l=Math.abs(E[0]),i=l+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][l],F=2*l+1,k=E[1]/10,U=k*13/15,I=b.We(1),V=b.We(1),u=b.We(1),N=b.We(1),e=b.We(4),B=b.We(4),j=b.We(4),T=b.We(4),a=b.We(4);
b.WP(x,I);if(E[0]>=0){b.Mr(I)}b.N8(I,u);b.zz(I,N,i);b.zz(N,I,i);b.HF(I,k);b.N8(I,V);b.zz(I,N,F);b.zz(N,I,F);
b.HF(I,U);b.Et(j,E[2]);b.Et(T,E[3]);b.Et(a,E[4]);b.Uo(j,I,T,e);b.Uo(a,V,e,B);b.Uo(T,u,B,c);b.C2(x,u,3);
b.Vk(u,c,3)};q.X.a2H=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);b.XE(E[5]);var l=E[0]*5.1,i=E[1]/100,F=b.a7x[E[2]],k=b.We(1),U=b.We(1),I=b.We(1);
b.WP(x,k);b.acx(U,255);b.W6(I);b.vi(k,l);b.tR(U,k,.7);b.tR(I,k,i);b.fs(k,k,U,5,F);b.N8(x,c);b.a8A(c,l,E[4],E[3]);
b.IH(c);b.Vk(U,c);b.QO(c)};q.X.afw=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);var l=E[0],i=4-E[1],F=11-E[2],k=b.We(1),U=b.We(1),I=b.We(4);
b.dp(x,U);for(var $=0;$<i;$++){b.N8(U,k);b.avE(k,U,l,l)}b.tS(x,I,l);b.IH(I,I);b.Vk(U,I);b.QO(I,I);(F<11?b.aq6:b.N8)(I,c,F)};
q.X.aDv=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);b.XE(E[2]);var l=E[0]+5,i=~~(l/5+1),F=~~(l/2)+1,k=F*F,U=~~(l/3),I=b.a7x[E[1]],V=new Array(256);
for(var $=0;$<256;$++){V[$]=~~(.2*($-128))}var u=b.We(1),N=b.We(1);b.a9N(x,c,l);b.IH(c);b.C2(c,u);b.W6(N);
b.a1R(u,N,V);b.apy(N,l,l,i,i);b.gA(u,N,u,1);b.zz(u,N,U);b.zz(N,u,U);b.ZC(u,N,F,F,k);b.fs(N,N,u,5,I);
b.Vk(u,c);b.QO(c)};q.X.amN=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);var l=b.We(1),i=b.We(1),F=b.We(1),k=b.gT(),U=b.gT();
b.WP(x,l);b.zz(l,i,E[2]);b.vi(i,E[0]*5.1);b.ZC(i,l,2,2,4);b.zz(l,i,3);b.zz(i,l,3);b.N8(l,F);b.zz(l,i,5);
b.zz(i,l,5);b.EL(l,k);b.ic(k,U,5);b.ic(U,k,5);b.aCq(k,i,E[1]);b.Mr(i);b.gA(F,i,F,1);b.dU(F,c)};q.X.af3=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=1<<7-E[2],i=b.We(1),F=b.We(1),k=b.We(1);b.dp(x,F);b.zz(F,i,3);b.N8(i,F);b.zz(i,k,E[0]+5);
b.sub(k,F);b.OB(F,1,E[1]);b.HF(i,1/l);b.HF(i,l);b.sub(i,F);b.IH(x,c);b.Vk(F,c);b.QO(c)};q.X.ai$=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);b.XE(E[3]);var l=b.We(1),i=b.We(1),F=b.We(1);b.WP(x,l);b.a9q(i,E[0]/50);b.zz(i,F,3);b.ZC(l,i,9,9,41);
b.OB(i,E[1],E[2]);b.gA(i,F,F,.75);b.BB(i,F,i,.5);b.N8(i,l);b.ZC(l,F,3,3,8);b.gA(F,i,F,.75);b.HF(F,1.2);
b._C(F,l,1);b.zz(l,F,2);b._C(F,l,2);b.HF(l,1.2);b.zz(l,F,2);b.dU(F,c)};q.X.awL=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=E[0]+9,i=E[1]/2,F=E[2],k=E[3],U=b.co(E[4]),I=E[5]+1,V=E[6],u=b.We(1),N=b.We(1),e=b.We(4),B=b.We(4);
b.Vv(N,F,k,V);b.acv(x,c,l,1,1);b.acv(c,e,l,1,1);b.awZ(e,e,B,7,i);b.HF(B,1.2);b.IS(B,1.2);b.fs(N,u,u,I,U);
b.HF(u,3);b.N8(x,c);b.Uo(B,u,c)};q.X.aCW=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);b.XE(E[3]);var l=E[0]+4,i=l*2/5+(l%5|0);
l--;var F=E[1]*-2.75+60,k=65-F,U=E[2]/10,I=b.We(1),V=b.We(1);b.W6(I);b.dp(x,V);var u=b.kc(F,k,V);b.IH(x,c);
b.C2(c,V);b.tR(V,I,.8);b.vP(V,u);b.HF(V,U);b.add(I,V);b.t9(V,I,l,3,!1,i);b.Vk(I,c);b.QO(c)};q.X.agy=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);b.XE(E[3]);var l=E[0]+5,i=(l*l>>1)+l%2,F=E[1]/10,k=E[2],U=(k*k>>1)+k%2,I=b.We(1),V=b.We(1),u=b.We(1),N=b.We(4),e=b.We(4),B=b.We(4);
b.W6(u);b.IH(x,B);b.C2(B,I);b.tR(I,u,.8);b.zz(u,I,3);b._C(I,u,F);b.Vk(u,B);b.QO(B,B);b.WP(B,u);b.ZC(u,I,l,l,i);
b.zz(u,V,l);b.sub(I,V);b.vi(V,1);b.Bl(B,N,7,7,40);b.Bl(B,e,7,7,10);b.Uo(N,V,e);b.Bl(e,c,k,k,U)};q.X.a0V=function(x,J,o,c,E){var b=q.X.q,i=255,$,k;
b.Rc(J,o);var l=E[0];if(l<2)i=l;else if(l<12)i=5*l-5;else if(l<47)i=2*l+28;else if(l<50){$=l-47;i=125+12.5*$+12.5*$*$}var F=new Uint8Array(256);
for($=75,k=15;$<256;$++,k+=24)F[$]=Math.min(255,k);var U=b.We(1),I=b.We(1),V=b.We(1);b.WP(x,U);b.zz(U,I,11);
b.zz(I,V,11);b.sub(V,U);b.HF(U,8);b.sub(V,U);b.vi(U,i);b.Mr(U);b.zz(U,I,5);b.vi(I,51);b.zz(I,U,E[1]);
b.zz(U,I,E[1]);b.Mr(I);b.vP(I,F);b.dU(I,c)};q.X.avK=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);var l=b.auC[E[1]],i=E[2],F=i*1.5,k=b.We(1),U=b.We(1),I=b.We(1);
b.dp(x,k);b.t9(k,U,15,2,!0,15);b.N8(U,I);b.OB(I,i,F);b.zz(I,k,3);b.zz(U,I,E[0]);b.sub(I,U);b.HF(U,l);
b.sub(k,U);b.zz(U,k,3);b.t9(k,U,3,1,!1,1);b.tS(x,c,15);b.IH(c);b.Vk(U,c);b.QO(c)};q.X.a6f=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);b.XE(E[3]);var l=E[0]*5.1,i=16-E[1],F=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][E[2]],k=b.We(1),U=b.We(1),I=b.We(1);
b.WP(x,k);b.vi(k,l);b.zz(k,U,i);b.zz(U,k,i);b.W6(I);b.BB(k,I,I,1);b.gA(k,I,k,.75);b.HF(k,F);b.IS(k,F);
b.ZC(k,U,2,2,2);b.dU(U,c)};q.X.azi=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);var l=E[0]+9,i=E[1]+9,F=E[2],k=E[3],U=b.co(E[4]),I=E[5]+1,V=E[6],u=b.We(1),N=b.We(1),e=b.We(1),B=b.We(1),j=b.We(1),T=b.We(4);
b.dp(x,u);b.avE(u,e,l,l);b.zz(e,u,i);b.N8(e,j);b.N8(u,B);b.sub(j,B);b.sub(u,j);b.add(j,B);b.HF(B,10);
b.Vv(N,F,k,V);b.fs(N,u,j,I,U);b.aAg(j,B,e,.8);b.tS(x,T,9);b.tS(T,c,9);b.IH(c);b.Vk(e,c);b.QO(c)};q.X.a6F=function(x,J,o,c,E){var b=q.X.q;
b.Rc(J,o);var l=16-E[0],i=E[1]*8,F=1-(3-E[2])/10,k=~~(l*l*F-1),U=~~(l*l*(1-F));if(U==0)U=1;var I=b.We(1),V=b.We(1),u=b.We(1),N=b.We(4);
b.WP(x,u);b.ZC(u,I,7,7,25);b.zz(u,V,7);b.sub(I,V);b.vi(V,1);b.Bl(x,N,l,l,k);b.Bl(x,c,l,l,U);b.Uo(N,V,c);
b.IH(c);b.C2(c,I);b.ZC(I,u,3,3,1);b.ZC(I,V,3,3,9);b.sub(V,u);b.N8(u,V);b.sub(I,u);b.sub(u,V);b.ZC(V,I,3,3,8);
b.OB(I,i,1);b.Vk(I,c);b.QO(c)};q.X.awm=function(x,J,o,c,E){var b=q.X.q;b.Rc(J,o);b.XE(E[3]);var l=E[0],i=E[1],F=E[2],k=l>>1,U=Math.max(~~(l/5),1),I=Math.max(~~(l*2/3),1),V=b.a8e(i,F),u=b.We(1),N=b.We(1),e=b.We(1),B=b.We(1),j=b.We(4);
b.dp(x,u);b.Wx(2147483647,4,2,2,0,255,N);b.Wx(4,2147483647,2,2,0,255,B);b.W6(e);b.BB(N,e,N,1);b.BB(B,e,B,1);
b.BB(N,u,N,1);b.BB(B,u,B,1);b.tS(x,j,k);b.tS(j,c,k);b.ZC(N,u,1,l,U);b.ZC(u,N,3,l,I);b.ZC(B,u,l,1,U);
b.ZC(u,B,l,3,I);b.dS(N,B);b.IH(c);b.Vk(B,c);b.QO(c);b.afl(c,V)};q.X.Wp=function(x,J,o){var c=o.awY,E=o.ET,b=o.We(1),top=o.We(1),l=o.We(1),i=o.We(1),F=o.We(1),k=o.We(1),U=o.We(1),I=o.We(1),V=o.We(1),u=o.Qh,N=o.ao,e=q.wh.Xy,B=q.wh.el;
e(x,b,u,N,B([8,5,2,5,2,-1,2,-1,-4]));e(x,top,u,N,B([5,5,5,2,2,2,-1,-1,-1]));e(x,l,u,N,B([2,5,8,-1,2,5,-4,-1,2]));
e(x,i,u,N,B([5,2,-1,5,2,-1,5,2,-1]));e(x,F,u,N,B([2,2,2,2,2,2,2,2,2]));e(x,k,u,N,B([-1,2,5,-1,2,5,-1,2,5]));
e(x,U,u,N,B([2,-1,-4,5,2,-1,8,5,2]));e(x,I,u,N,B([-1,-1,-1,2,2,2,5,5,5]));e(x,V,u,N,B([-4,-1,2,-1,2,5,2,5,8]));
var j=[b,top,l,i,F,k,U,I,V];for(var T=0;T<N;T++){for(var a=0;a<u;a++){var P=T*u+a,v=x[P],R=null,y=0;
for(var t=-1;t<2;t++){for(var g=-1;g<2;g++){var H=j[(t+1)*3+g+1],_=Math.max(0,Math.min(T+t,N-1)),Y=Math.max(0,Math.min(a+g,u-1)),K=H[_*u+Y],f=Math.abs(K-v);
if(R==null||f<R){R=f;y=K}}}J[P]=y}}};q.X.a2d=function(x,J,o,c,E){var self=q.X.q;self.Rc(J,o);var b=self.We(1),l=self.We(1);
for(var $=0;$<4;$++){self.C2(x,b,$);if($<3){q.X.Wp(b,l,self);q.X.Wp(l,b,self);q.X.Wp(b,l,self);q.X.Wp(l,b,self);
q.X.Wp(b,l,self);q.X.Wp(l,b,self);q.X.Wp(b,l,self);q.X.Wp(l,b,self);q.X.Wp(b,l,self)}else l=b;self.Vk(l,c,$)}};
q.X.q={};q.X.q.Qh=0;q.X.q.ao=0;q.X.q.ET=0;q.X.q.JR=0;q.X.q.$X=0;q.X.q.Rc=function(x,J){var o=x*J,self=q.X.q;
self.Qh=x;self.ao=J;self.ET=o;self.JR=o<<1;self.$X=o<<2};q.X.q.XE=function(x){q.X.q.random=function(){var J=x+=1831565813;
J=Math.imul(J^J>>>15,J|1);J^=J+Math.imul(J^J>>>7,J|61);return((J^J>>>14)>>>0)/4294967296}};q.X.q.We=function(x){var J=q.X.q;
return new Uint8Array([-1,J.ET,J.JR,-1,J.$X][x])};q.X.q.gT=function(){return new Int32Array(q.X.q.JR)};
q.X.q.zz=function(x,J,o,c){if(c==null)c=o;var self=q.X.q,E=self.Qh,b=self.ao,l=c,i=c>>1,F=o,k=o>>1,U=o*c,I=0;
for(var $=0;$<b;$++){var V=0;for(var u=0;u<l;u++){for(var N=0;N<F;N++){var e=0-k+N,B=$-i+u;if(e<0)e=0;
else if(e>=E)e=E-1;if(B<0)B=0;else if(B>=b)B=b-1;V+=x[B*E+e]}}J[I++]=~~(V/U);for(var j=1;j<E;j++){for(var u=0;
u<l;u++){var T=j-k-1,a=T+F,B=$-i+u;if(T<0)T=0;if(a>=E)a=E-1;if(B<0)B=0;else if(B>=b)B=b-1;V+=x[B*E+a]-x[B*E+T]}J[I++]=~~(V/U)}}};
q.X.q.ic=function(x,J,o,c){var self=q.X.q,E=new Int32Array(self.ET),b=new Int32Array(self.ET);for(var $=0;
$<2;$++){self.C2(x,E,$,2);self.zz(E,b,o,c);self.Vk(b,J,$,2)}};q.X.q.tS=function(x,J,o,c){var self=q.X.q,E=self.We(1),b=self.We(1);
for(var $=0;$<4;$++){self.C2(x,E,$);if($<3)self.zz(E,b,o,c);else b=E;self.Vk(b,J,$)}};q.X.q.acv=function(x,J,o,c,E){var self=q.X.q,b=self.Qh,l=self.ao,i=o+c-1,F=o>>1,k=i>>1,U=0,I=o*c,V=new Int32Array(o);
for(var $=0;$<l;$++){var u=0,N=0,e=0;for(var B=0;B<o;B++){var j=E?i-B-c:B;for(var T=j,a=c+j;T<a;T++){var P=0-k+T,v=$-F+B;
if(T==j){V[B]=P}if(P<0)P=0;else if(P>=b)P=b-1;if(v<0)v=0;else if(v>=l)v=l-1;var R=b*v+P<<2;u+=x[R];N+=x[R+1];
e+=x[R+2]}}J[U++]=~~(u/I);J[U++]=~~(N/I);J[U++]=~~(e/I);J[U]=x[U];U++;for(var y=1;y<b;y++){for(var B=0;
B<o;B++){var v=$-F+B,j=V[B]+1;V[B]=j;var t=j-1,g=j+c-1;if(v<0)v=0;else if(v>=l)v=l-1;if(t<0)t=0;else if(t>=b)t=b-1;
if(g<0)g=0;else if(g>=b)g=b-1;var H=v*b+t<<2,_=v*b+g<<2;u=u+x[_]-x[H];N=N+x[_+1]-x[H+1];e=e+x[_+2]-x[H+2]}J[U++]=~~(u/I);
J[U++]=~~(N/I);J[U++]=~~(e/I);J[U]=x[U];U++}}};q.X.q.t9=function(x,J,o,c,E,b){var self=q.X.q,l=self.Qh,i=self.ao,F=o+c-1,k=o>>1,U=F>>1,I=0,V=new Int32Array(o),u=new Int32Array(256),N=new Int32Array(16);
for(var $=0;$<i;$++){for(var e=0;e<256;e++){u[e]=0}for(var e=0;e<16;e++){N[e]=0}for(var B=0;B<o;B++){var j=E?F-B-c:B;
for(var T=j,a=c+j;T<a;T++){var P=0-U+T,v=$-k+B;if(T==j){V[B]=P}if(P<0)P=0;else if(P>=l)P=l-1;if(v<0)v=0;
else if(v>=i)v=i-1;u[x[v*l+P]]++;N[x[v*l+P]>>>4]++}}var R=0,y=0;while(R+N[y>>>4]<b){R+=N[y>>>4];y+=16}for(;
y<256;y++){R+=u[y];if(R>=b)break}J[I++]=y;for(var e=1;e<l;e++){for(var B=0;B<o;B++){var v=$-k+B,j=V[B]+1;
V[B]=j;var t=j-1,g=j+c-1;if(v<0)v=0;else if(v>=i)v=i-1;if(t<0)t=0;else if(t>=l)t=l-1;if(g<0)g=0;else if(g>=l)g=l-1;
u[x[v*l+t]]--;u[x[v*l+g]]++;N[x[v*l+t]>>>4]--;N[x[v*l+g]>>>4]++}R=0;y=0;while(R+N[y>>>4]<b){R+=N[y>>>4];
y+=16}for(;y<256;y++){R+=u[y];if(R>=b)break}J[I++]=y}}};q.X.q.Ec=function(x,J,o,c,E,b){var self=q.X.q,l=self.We(1),i=self.We(1);
for(var $=0;$<4;$++){self.C2(x,l,$);if($<3)self.t9(l,i,o,c,E,b);else i=l;self.Vk(i,J,$)}};q.X.q.ZC=function(x,J,o,c,E){E=Math.min(c*o,E);
var self=q.X.q,b=self.Qh,l=self.ao,i=c>>1,F=o>>1,k=0,U=new Int32Array(c),I=new Int32Array(256),V=new Int32Array(16);
for(var $=0;$<l;$++){for(var u=0;u<256;u++){I[u]=0}for(var u=0;u<16;u++){V[u]=0}for(var N=0;N<c;N++){for(var e=0,B=o;
e<B;e++){var j=0-F+e,T=$-i+N;if(e==0){U[N]=j}if(j<0)j=0;else if(j>=b)j=b-1;if(T<0)T=0;else if(T>=l)T=l-1;
I[x[T*b+j]]++;V[x[T*b+j]>>>4]++}}var a=0,P=0;while(a+V[P>>>4]<E){a+=V[P>>>4];P+=16}for(;P<256;P++){a+=I[P];
if(a>=E)break}J[k++]=P;for(var u=1;u<b;u++){for(var N=0;N<c;N++){var T=$-i+N,v=U[N]+1;U[N]=v;var R=v-1,y=v+o-1;
if(T<0)T=0;else if(T>=l)T=l-1;if(R<0)R=0;else if(R>=b)R=b-1;if(y<0)y=0;else if(y>=b)y=b-1;I[x[T*b+R]]--;
I[x[T*b+y]]++;V[x[T*b+R]>>>4]--;V[x[T*b+y]>>>4]++}a=0;for(P=0;P<256;P++){a+=I[P];if(a>=E)break}J[k++]=P}}};
q.X.q.Bl=function(x,J,o,c,E){var self=q.X.q,b=self.We(1),l=self.We(1);for(var $=0;$<4;$++){self.C2(x,b,$);
if($<3)self.ZC(b,l,o,c,E);else l=b;self.Vk(l,J,$)}};q.X.q._C=function(x,J,o){var self=q.X.q,c=self.Qh,E=self.ao,b=0;
for(var $=0;$<E;$++){var l=$*c,i=($-1)*c,F=($+1)*c;if(i<0)i=l;if(F>=E)F=l;for(var k=0;k<c;k++){var U=k-1,I=k+1;
if(U<0)U=k;if(I>=c)I=k;var V=l+U,u=l+I,N=i+k,e=F+k,B=l+k,j=x[V],T=x[u],a=x[N],P=x[e],v=x[B],R=v+(v*4*o+.5);
R=R-((j+T+P+a)*o+.5);J[b++]=self.xp(R)}}};q.X.q.fB=function(x,J,o){var self=q.X.q,c=self.We(1),E=self.We(1);
for(var $=0;$<4;$++){self.C2(x,c,$);if($<3)self._C(c,E,o);else E=c;self.Vk(E,J,$)}};q.X.q.aq6=function(x,J,o){var self=q.X.q,c=self.Qh,E=self.ao,b=0,l=o+4;
for(var $=0;$<E;$++){var i=$*c,F=($-1)*c,k=($+1)*c;if(F<0)F=i;if(k>=E)k=i;for(var U=0;U<c;U++){var I=U-1,V=U+1;
if(I<0)I=U;if(V>=c)V=U;var u=i+I<<2,N=i+V<<2,e=F+U<<2,B=k+U<<2,j=i+U<<2;for(var T=0;T<3;T++){var a=x[u+T],P=x[N+T],v=x[e+T],R=x[B+T],y=x[j+T];
J[b++]=(y*o+a+P+R+v)/l}J[b]=x[b];b++}}};q.X.q.avE=function(x,J,o,c){var self=q.X.q,E=self.Qh,b=self.ao,l=o>>1,i=c>>1,F=0,k=new Int32Array(o),U=new Int32Array(256);
for(var $=0;$<b;$++){for(var I=0;I<256;I++){U[I]=0}for(var V=0;V<o;V++){for(var u=0,N=c;u<N;u++){var e=0-i+u,B=$-l+V;
if(u==0){k[V]=e}if(e<0)e=0;else if(e>=E)e=E-1;if(B<0)B=0;else if(B>=b)B=b-1;U[x[B*E+e]]++}}var j=0,T=0;
for(var a=0;a<256;a++){if(j<U[a]){T=a;j=U[a]}}J[F++]=T;for(var I=1;I<E;I++){for(var V=0;V<o;V++){var B=$-l+V,P=k[V]+1;
k[V]=P;var v=P-1,R=P+c-1;if(B<0)B=0;else if(B>=b)B=b-1;if(v<0)v=0;else if(v>=E)v=E-1;if(R<0)R=0;else if(R>=E)R=E-1;
U[x[B*E+v]]--;U[x[B*E+R]]++}j=0;T=0;for(var a=0;a<256;a++){if(j<U[a]){T=a;j=U[a]}}J[F++]=T}}};q.X.q.ab_=[function(x,J,o,c,E,b,l,i,F,k){return E+(x+J+o)*k-(F+i+l)*k},function(x,J,o,c,E,b,l,i,F,k){return E+(J+o+b)*k-(i+l+c)*k},function(x,J,o,c,E,b,l,i,F,k){return E+(o+b+F)*k-(l+c+x)*k},function(x,J,o,c,E,b,l,i,F,k){return E+(b+F+i)*k-(c+x+J)*k},function(x,J,o,c,E,b,l,i,F,k){return E+(F+i+l)*k-(x+J+o)*k},function(x,J,o,c,E,b,l,i,F,k){return E+(i+l+c)*k-(J+o+b)*k},function(x,J,o,c,E,b,l,i,F,k){return E+(l+c+x)*k-(o+b+F)*k},function(x,J,o,c,E,b,l,i,F,k){return E+(c+x+J)*k-(b+F+i)*k}];
q.X.q.fs=function(x,J,o,c,E){var self=q.X.q,b=self.Qh,l=self.ao,i=b,F=self.ab_[c-1];for(var $=0;$<l;
$++){var k=($>0?$-1:0)*i,U=$*i,I=($<l?$+1:$)*i;for(var V=0;V<b;V++){var u=V>0?V-1:0,N=V<b?V+1:V,e=U+V,B=x[k+u],j=x[k+V],T=x[k+N],a=x[U+u],P=J[e],v=x[U+N],R=x[I+u],y=x[I+V],t=x[I+N];
o[e]=self.xp(F(B,j,T,a,P,v,R,y,t,E))}}};q.X.q.awZ=function(x,J,o,c,E){var self=q.X.q,b=self.We(1),l=self.We(1),i=self.We(1);
for(var $=0;$<3;$++){self.C2(x,b,$);self.C2(J,l,$);self.fs(b,l,i,c,E);self.Vk(i,o,$)}self.C2(J,b,3);
self.Vk(b,o,3)};q.X.q.WP=function(x,J){var o=x.length,c=0;for(var $=0;$<o;$++){J[c++]=~~((x[$++]+x[$++]+x[$++]+2)/3)}};
q.X.q.dU=function(x,J){var o=J.length,c=0;for(var $=0;$<o;$++){var E=x[$];J[c++]=E;J[c++]=E;J[c++]=E;
J[c++]=255}if(J[0]==255)J[0]--;else J[0]++};q.X.q.dp=function(x,J){var o=J.length,c=0;for(var $=0;$<o;
$++){var E=x[c++],b=x[c++],l=x[c++];c++;if(b>E)E=b;if(l>E)E=l;J[$]=E}};q.X.q.IH=function(x,J){if(J==null)J=x;
var o=x.length;for(var c=0;c<o;c+=4){var E=x[c],b=x[c+1],l=x[c+2],i=E,F=0,k=E,I;if(b<=E){E=b}else{F=1;
k=b}if(l<=k){if(E>l){E=l}}else{F=2;k=l}var U=k-E;if(U!=0){if(F==0){I=~~(43*(b-l)/U)}else if(F==1){I=~~(43*(l+2*U-i)/U)}else{I=43*(i+4*U-b)/U}if(I<0){I=255&I-1}J[c]=I;
J[c+1]=~~(255*U/k)}else{J[c]=U;J[c+1]=U}J[c+2]=k;J[c+3]=x[c+3]}};q.X.q.QO=function(x,J){if(J==null)J=x;
var o=x.length;for(var c=0;c<o;c+=4){var E=x[c],b=x[c+1],l=x[c+2];if(b){if(E==255)E=0;var i=~~(6*E/255),F=~~(-255*i+6*E);
if(i==0){J[c]=l;J[c+1]=~~(l*(255-b*(255-F)/255)/255);J[c+2]=~~(l*(255-b)/255)}else if(i==1){J[c]=~~(l*(255-b*F/255)/255);
J[c+1]=l;J[c+2]=~~(l*(255-b)/255)}else if(i==2){J[c]=~~(l*(255-b)/255);J[c+1]=l;J[c+2]=~~(l*(255-b*(255-F)/255)/255)}else if(i==3){J[c]=~~(l*(255-b)/255);
J[c+1]=~~(l*(255-b*F/255)/255);J[c+2]=l}else if(i==4){J[c]=~~(l*(255-b*(255-F)/255)/255);J[c+1]=~~(l*(255-b)/255);
J[c+2]=l}else{J[c]=l;J[c+1]=~~(l*(255-b)/255);J[c+2]=~~(l*(255-b*F/255)/255)}}else{J[c]=l;J[c+1]=l;J[c+2]=l}J[c+3]=x[c+3]}};
q.X.q.Vk=function(x,J,o,c){if(o==null)o=2;if(c==null)c=4;var E=x.length;for(var $=0;$<E;$++){J[o]=x[$];
o+=c}};q.X.q.C2=function(x,J,o,c){if(o==null)o=2;if(c==null)c=4;var E=J.length;for(var $=0;$<E;$++){J[$]=x[o];
o+=c}};q.X.q.aAg=function(x,J,o,c){if(c==null)c=1;var E=J.length,b=0,l;for(var b=0;b<E;b++){l=J[b];if(l){l*=c;
o[b]=~~((l*x[b]+(255-l)*o[b])/255)}}};q.X.q.Uo=function(x,J,o,c){if(c==null)c=o;var E=J.length,b=0,l,i;
for(var $=0;$<E;$++){l=J[$];if(l){i=255-l;c[b]=~~((l*x[b]+i*o[b])/255);c[b+1]=~~((l*x[b+1]+i*o[b+1])/255);
c[b+2]=~~((l*x[b+2]+i*o[b+2])/255)}c[b+3]=x[b+3];b+=4}};q.X.q.gA=function(x,J,o,c){var E=~~(c*255),b=o.length;
for(var $=0;$<b;$++){o[$]=((255-E*(255-x[$])/255)*J[$]+x[$]*(E*(255-x[$])/255))/255}};q.X.q.BB=function(x,J,o,c){var E=~~(c*255),b=o.length;
for(var $=0;$<b;$++){o[$]=((255-E*x[$]/255)*J[$]+x[$]*(E*x[$]/255))/255}};q.X.q.tR=function(x,J,o){var c=J.length;
for(var $=0;$<c;$++){J[$]=~~(x[$]*o+.5)+(J[$]-~~(J[$]*o+.5))}};q.X.q.sub=function(x,J){var o=x.length;
for(var $=0;$<o;$++){J[$]=Math.max(x[$]-J[$],0)}};q.X.q.add=function(x,J){var o=x.length;for(var $=0;
$<o;$++){J[$]=Math.min(x[$]+J[$],255)}};q.X.q.awY=function(x,J){var o=x.length;for(var $=0;$<o;$++){J[$]=x[$]+J[$]}};
q.X.q.dS=function(x,J){var o=x.length;for(var $=0;$<o;$++){J[$]=x[$]+J[$]>>1}};q.X.q.N8=function(x,J){var o=x.length;
for(var $=0;$<o;$++){J[$]=x[$]}};q.X.q.vP=function(x,J){var o=x.length;for(var $=0;$<o;$++){x[$]=J[x[$]]}};
q.X.q.afl=function(x,J){var o=q.X.q.$X;for(var $=0;$<o;$+=4){var c=x[$],E=x[$+1],b=x[$+2],l=c;if(E>c)l=E;
if(b>c)l=b;var i=J[l];if(i){x[$]=~~(i*c/l);x[$+1]=~~(i*E/l);x[$+2]=~~(i*b/l)}else{x[$]=i;x[$+1]=i;x[$+2]=i}}};
q.X.q.HF=function(x,J){for(var $=0,o=x.length;$<o;$++){x[$]=Math.min(255,~~(.5+x[$]*J))}};q.X.q.IS=function(x,J){for(var $=0,o=x.length;
$<o;$++){x[$]=255-Math.min(255,~~(.5+(255-x[$])*J))}};q.X.q.Mr=function(x){var J=x.length;for(var $=0;
$<J;$++){x[$]=255-x[$]}};q.X.q.vi=function(x,J,o,c){if(o==null)o=0;if(c==null)c=255;for(var $=0,E=x.length;
$<E;$++){x[$]=x[$]>=J?c:o}};q.X.q.nj=function(x){return[x>>24&255,x>>16&255,x>>8&255,x&255]};q.X.q.a8A=function(x,J,o,c){if(o==null)o=255;
if(c==null)c=4278190335;var E=q.X.q,b=E.$X,l=E.nj(o),i=E.nj(c);for(var $=0;$<b;$+=4){var F=~~((x[$]+x[$+1]+x[$+2]+2)/3);
if(F>=J){x[$]=l[0];x[$+1]=l[1];x[$+2]=l[2]}else{x[$]=i[0];x[$+1]=i[1];x[$+2]=i[2]}}};q.X.q.Et=function(x,J){var o=q.X.q,c=o.$X,E=o.nj(J);
for(var $=0;$<c;){x[$++]=E[0];x[$++]=E[1];x[$++]=E[2];x[$++]=E[3]}};q.X.q.acx=function(x,J){var o=x.length;
for(var $=0;$<o;){x[$++]=J}};q.X.q.a8e=function(x,J){x=x>5?(100-Math.max(4,x))/100:.95;J=J!=100?Math.max(4,J)/100:.9995;
var o=new Uint8Array(256),c=J>.5?.5/(1-J):J*2,E=~~(c*256),b=~~((.5-x*c)*256)<<8;for(var $=0;$<256;$++){o[$]=q.X.q.xp(b>>8);
b+=E}return o};q.X.q.W6=function(x){for(var $=0,J=q.X.q,o=x.length;$<o;$++){x[$]=~~(J.random()*256)}};
q.X.q.a9q=function(x,J){for(var $=0,o=q.X.q,c=x.length;$<c;$++){x[$]=o.random()<J?255:0}};q.X.q.aD9=function(x,J,o){for(var $=0,c=q.X.q,E=x.length;
$<E;$++){if(c.random()<J)x[$]=o}};q.X.q.a1R=function(x,J,o){var c=x.length;for(var $=0;$<c;$++){x[$]=q.X.q.xp(x[$]+o[J[$]])}};
q.X.q.QY=function(x){var J=new Uint32Array(256);for(var $=0,o=x.length;$<o;$++)J[x[$]]++;return J};q.X.q.a1I=function(x,J){var o=0,c=0,E=new Uint32Array(256),b=new Float32Array(256);
for(var $=0,l=x.length;$<l;$++){var i=x[$],F=J[$];if(F==255){E[i]++;o++}else if(F>0){F/=255;c+=F;b[i]+=F;
if(c>=1){c--;o++}if(b[i]>=1){b[i]--;E[i]++}}}return[o,E]};q.X.q.kc=function(x,J,o,c){var self=q.X.q,E,b,U=0,V=256;
if(c){var l=self.a1I(o,c);E=l[1];b=l[0]/100}else{E=self.QY(o);b=self.ET/100}var i=new Uint8Array(256),F=b*x,k=b*J,I=-1;
do{U+=E[++I]}while(U<=F);U=0;do{U+=E[--V]}while(U<=k);if(V-I<=0)V=I+1;if(V>255){V=255;I=254}var u=255/(V-I),N=-I;
for(var $=0;$<256;$++){i[$]=self.xp(u*N+.5);N++}return i};q.X.q.OB=function(x,J,o,c){var E=q.X.q;E.vP(x,E.kc(J,o,x,c))};
q.X.q.aeV=function(x,J){var self=q.X.q,o=self.QY(x),c=self.ET*J/100,E=0,b=-1;do{E+=o[++b]}while(E<=c);
return b};q.X.q.EL=function(x,J){var o=0,self=q.X.q,c=self.Qh,E=self.ao,b=1/Math.PI,l=b*255;for(var $=0;
$<E;$++){var i=$+1;if(i==E)i--;var F=$*c,k=~~((1-($+1)/E)*255);for(var U=0;U<c;U++){var I=U+1;if(I==c)I--;
var V=x[F+U],u=x[F+I],N=x[i*c+U];if(V-N==0){J[o++]=k}else{var e=V-N+255;if(e==255){e=0}else{e=~~(Math.atan2(1/(255-e),1)*l+.5);
if(e<0)e+=255}J[o++]=e}if(V-u==0){J[o++]=~~((1-(U+1)/c)*255)}else{var e=V-u+255;if(e==255){e=0}else{e=~~(Math.atan2(1/(255-e),1)*l+.5);
if(e<0)e+=255}J[o++]=e}}}};q.X.q.aqO=function(x,J){var self=q.X.q,o=self.Qh,c=self.ao,E=0;for(var $=0;
$<c;$++){for(var b=0;b<o;b++){x[E]=~~($*J+.5)+~~(x[E]*(1-J)+.5);E++;x[E]=~~(b*J+.5)+~~(x[E]*(1-J)+.5);
E++}}};q.X.q.aal=function(x,J,o,c){var self=q.X.q,E=self.Qh,b=self.ao,l=0;for(var $=0;$<b;$++){for(var i=0;
i<E;i++){J[l]=~~(J[l]*(1-o)+.5)+~~(x[l]*c+.5);l++;J[l]=~~(J[l]*(1-o)+.5)+~~(x[l]*c+.5);l++}}};q.X.q.az5=function(x,J,o){var self=q.X.q,c=self.Qh,E=self.ao,b=0,l=0;
for(var $=0;$<E;$++){for(var i=0;i<c;i++){var F=x[b++],k=x[b++];J[l++]=k%o>=2&&F%o>=2?255:0}}};q.X.q.Wx=function(x,J,o,c,E,b,l){var self=q.X.q,i=self.Qh,F=self.ao,k=0,U=0,I=0;
for(var $=0;$<F;$++){var V=$%x<o||F-o<=$;for(var u=0;u<i;u++){l[k++]=V||u%J<c||i-c<=u?E:b}}};q.X.q.Vv=function(x,J,o,c){var self=q.X.q,E=self.Qh,b=self.ao;
self.Wx(8,8,4,4,0,255,x)};q.X.q.xp=function(x){return~~Math.min(255,Math.max(0,x))};q.X.q.auC=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
q.X.q.a7x=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];q.X.q.co=function(x){return x>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][x-41]:x/40};
q.X.q.a9N=function(x,J,o){var self=q.X.q,c=self.Qh,E=self.ao,b=o,l=o>>1,i=l-1,F=b*b,k=0;for(var $=0;
$<E;$++){var U=0,I=0,V=0,u=~~($/o)*o,N=0;for(var e=0;e<b;e++){for(var B=0;B<b;B++){var j=N+B,T=u+e;if(j>=c)j=c-1;
if(T>=E)T=E-1;U+=x[T*c+j<<2];I+=x[(T*c+j<<2)+1];V+=x[(T*c+j<<2)+2]}}var a=~~(U/F),P=~~(I/F),v=~~(V/F);
J[k]=a;J[k+1]=P;J[k+2]=v;J[k+3]=x[k+3];k+=4;for(var R=1;R<c;R++){for(var e=0;e<b;e++){var y=R-1,t=y+b,T=u+e;
if(t>=c)t=c-1;if(T>=E)T=E-1;var g=T*c,H=g+t<<2,_=g+y<<2;U+=x[H]-x[_];I+=x[H+1]-x[_+1];V+=x[H+2]-x[_+2]}if(R%o==0){a=~~(U/F);
P=~~(I/F);v=~~(V/F)}J[k]=a;J[k+1]=P;J[k+2]=v;J[k+3]=x[k+3];k+=4}}};q.X.q.apy=function(x,J,o,c,E){var self=q.X.q,b=self.Qh,l=self.ao,i=0,F=0,k=0,U=0;
for(var $=U;$<l+U;$++){var I=$%J>=c||$<c||l+U-c<=$;for(var V=0;V<b;V++){x[i++]=I&&(V%o>=E||V<E||b-E<=V)?255:0}}};
q.X.q.aCq=function(x,J,o){var c=function(k,U){return U<=k?k/U&1?U-k%U:k%U:k},E=[function(i,F){return c(i,255)/255},function(i,F){return(255+c(i,255)-c(F,255))/510},function(i,F){return(255-c(F,255))/255},function(i,F){return(510-c(i,255)-c(F,255))/510},function(i,F){return(255-c(i,255))/255},function(i,F){return(255-c(i,255)+c(F,255))/510},function(i,F){return c(F,255)/255},function(i,F){return(c(i,255)+c(F,255))/510}][o],b=0,l=0;
for(var $=0;$<q.X.q.ET;$++){var i=x[b++],F=x[b++];J[l++]=~~(255*E(i,F))}};q.X.a5q=function(){var x=[],J=new Uint8Array(512),o=new Float32Array(512),c=new Float32Array(512),E=[1,-1,1,-1,1,-1,0,0],b=[1,1,-1,-1,0,0,1,-1],l=0,i,N=0;
for(;l<256;l++)x[l]=l;while(l!=0){l--;i=Math.floor(Math.random()*l);x[i]^=x[l]^(x[l]=x[i])}function F(F){F=Math.floor(F*65536);
if(F<256){F|=F<<8}for(var $=0;$<256;$++){var j=$+256,T=x[$]^($&1?F:F>>8)&255;J[$]=J[j]=T;T=T%8;o[$]=o[j]=E[T];
c[$]=c[j]=b[T]}}function k(j){return j*j*j*(j*(j*6-15)+10)}function U(j,T,a){return(1-a)*j+a*T}function I(j,T){return j&T}function V(j,T){return j%T}function u(j,T,a,P,v){var R=Math.floor(j),y=Math.floor(T),l,t,g,H,_,Y;
j=j-R;T=T-y;R=R&255;y=y&255;l=R+J[y];H=o[l]*j+c[l]*T;l=R+J[v(y+1,P)];g=o[l]*j+c[l]*(T-1);l=v(R+1,a)+J[y];
_=o[l]*(j-1)+c[l]*T;l=v(R+1,a)+J[v(y+1,P)];Y=o[l]*(j-1)+c[l]*(T-1);t=k(j);return U(U(H,_,t),U(g,Y,t),k(T))}function e(j,l,T){j[l]=T}function B(j,T,a,P,v){var R=Math.min(Math.min(T,256),Math.min(256,a)),y=R==256||R<8,t=8,g=new Uint32Array(t),H=new Uint32Array(t),_=new Float32Array(t),Y=new Float32Array(t),K=1,f=1,m=y?I:V,C=e,Z;
for(var $=0;$<t;$++){Z=f*1/R;if(y){H[$]=(1<<Math.ceil(Math.log2(a*Z)))-1;g[$]=(1<<Math.ceil(Math.log2(T*Z)))-1}else{H[$]=Z*a;
g[$]=Z*T}_[$]=K;Y[$]=Z;K*=.5;f=f<<1}F(Math.random());for(var A=0,l=0;A<a;A++){for(var d=0;d<T;d++){var G=0;
for(var r=0;r<t;r++){Z=Y[r];G+=u(d*Z,A*Z,g[r],H[r],m)*_[r]}C(P,l++,Math.round(Math.max(0,255*Math.min(1,.5+G*.5))))}}}return B}();
q.X.a00=function(){function x(J,o,c,E){var b=new Uint8Array(J.length>>>2),l=new Uint8Array(J.length>>>2),i=new Uint8Array(J.length);
for(var $=0;$<J.length;$+=4){var F=J[$+0]*.3+J[$+1]*.59+J[$+2]*.11;l[$>>>2]=F;i[$]=J[$];i[$+1]=J[$+1];
i[$+2]=J[$+2]}q.wh.aaz(l,b,o,c);q.wh.eh(J,E,o,c,q.wh.KG[1],0,!0);for(var $=0;$<J.length;$+=4){i[$+3]=255-b[$>>>2]}for(var $=0,k=J.length;
$<k;$+=4){var U=i[$+3]/255;E[$]=i[$]*U+E[$]*(1-U);E[$+1]=i[$+1]*U+E[$+1]*(1-U);E[$+2]=i[$+2]*U+E[$+2]*(1-U)}}return x}();
q.X.aij=function(){function x(b,l,i,F,k){var U=new Uint32Array(b.buffer),I=0;for(var $=0;$<i;$++){for(var V=0;
V<l;V++,I+=4){var u=U[$*l+V],N=u&255,e=u>>>8&255,B=u>>>16&255,j=u>>>24&255,T=~~(Math.random()*8),a=T%3,P=0,v=0;
if(T<3){v--}else if(T>4){v++}if(a==0){P--}else if(a==2){P++}var R=V+P,y=$+v;if(R<0)R=0;else if(R>l-1)R=l-1;
if(y<0)y=0;else if(y>i-1)y=i-1;var u=U[y*l+R],t=u&255,g=u>>>8&255,H=u>>>16&255,_=u>>>24&255;F[I]=k(N,t);
F[I+1]=k(e,g);F[I+2]=k(B,H);F[I+3]=k(j,_)}}}function J(b,l){return l}function o(b,l){return b>l?l:b}function c(b,l){return b<l?l:b}function E(b,l,i,F,k){var U=k[0];
if(U==0)x(b,l,i,F,J);else if(U==1)x(b,l,i,F,o);else if(U==2)x(b,l,i,F,c);else if(U==3){console.error("Not implemented")}else console.error("Mew mew")}return E}();
q.X.a7E=function(){function x(J,o,c,E,b){var l=b&&b[0]?b[0]:4,i,F,k,U,I,V,u;for(var $=0;$<c;$++){var N=Math.max($-l,0),e=Math.min($+l,c-1);
for(var B=0;B<o;B++){var j=Math.max(B-l,0),T=Math.min(B+l,o-1);i=N*o+j<<2;U=J[i];I=J[i+1];V=J[i+2];u=J[i+3];
i=N*o+T<<2;U+=J[i];I+=J[i+1];V+=J[i+2];u+=J[i+3];i=e*o+j<<2;U+=J[i];I+=J[i+1];V+=J[i+2];u+=J[i+3];i=e*o+T<<2;
U+=J[i];I+=J[i+1];V+=J[i+2];u+=J[i+3];i=$*o+B<<2;E[i]=U+2>>>2;E[i+1]=I+2>>>2;E[i+2]=V+2>>>2;E[i+3]=u+2>>>2}}}return x}();
q.X.a5g=function(){function x(J,o,c,E){var b=new Uint8Array(J.length),l=new Uint8Array(J.length>>>2),i=new Uint8Array(J.length>>>2);
q.wh.eh(J,b,o,c,q.wh.KG[2],0,!0);for(var $=0;$<J.length;$+=4){var F=b[$+0]*.3+b[$+1]*.59+b[$+2]*.11;
l[$>>>2]=F;E[$+0]=J[$+0];E[$+1]=J[$+1];E[$+2]=J[$+2];E[$+3]=J[$+3]}q.wh.aaz(l,i,o,c);for(var $=0;$<J.length;
$+=4){b[$+3]=~~(Math.max(0,255-i[$>>>2]-50)*(255/205))}for(var $=0,k=J.length;$<k;$+=4){var U=b[$+3]/255;
E[$]=b[$]*U+E[$]*(1-U);E[$+1]=b[$+1]*U+E[$+1]*(1-U);E[$+2]=b[$+2]*U+E[$+2]*(1-U)}}return x}();q.X.AN=function(){function x(T,a){return T[a]+T[a+1]+T[a+2]+T[a+3]}function J(T,a){return T[a]+T[a+1]+T[a+2]+2*T[a+3]}function o(T,a,P,v){T[a]=P[v];
T[a+1]=P[v+1];T[a+2]=P[v+2];T[a+3]=P[v+3]}function c(T,a,P){T[a]=T[P];T[a+1]=T[P+1];T[a+2]=T[P+2];T[a+3]=T[P+3]}function E(T,a,P){T[P]=a[P];
T[P+1]=a[P+1];T[P+2]=a[P+2];T[P+3]=255-a[P+3]}function b(T){for(var $=0,a=T.length;$<a;$+=4){T[$+3]=255-T[$+3]}}function l(){var T=Math.random();
if(T>.5)return 0;if(T>.25)return 1;if(T>.1)return 2;if(T>.02143)return 3;if(T>.00445)return 4;if(T>65e-5)return 5;
if(T>415e-6)return 6;if(T>55e-6)return 7;return 8}function i(T,a,P,v,R,y){T[a]=P[v]+(R[y]-P[v]>>1);T[a+1]=P[v+1]+(R[y+1]-P[v+1]>>1);
T[a+2]=P[v+2]+(R[y+2]-P[v+2]>>1);T[a+3]=P[v+3]+(R[y+3]-P[v+3]>>1)}function F(T,a,P,v,R,y){T[a]=R[y]+P[v]>>1;
T[a+1]=R[y+1]+P[v+1]>>1;T[a+2]=R[y+2]+P[v+2]>>1;T[a+3]=R[y+3]+P[v+3]>>1}function k(T,a,P,v,R,y,t,g,H){var _=0,Y=0,K=0,$,f=R[y],m;
i(g,0,T,a,T,P);for($=0;$<f;$++){i(g,($+1)*4,g,$*4,T,P)}Y=(f+1)*4;K+=f;y--;o(T,a,g,Y-4);v[y]=x(T,a);a-=H;
while(y>0&&v[y-1]<v[y]){m=g;g=t;t=m;_=Y;F(g,0,T,a-H,t,0);for($=4;$<_;$+=4){F(g,$,g,$-4,t,$)}f=R[y];for($=K;
$<f;$++){i(g,Y,g,Y-4,t,_-4);Y+=4;K++}y--;o(T,a,g,Y-4);v[y]=x(T,a);a-=H}}function U(T,a,P,v,R){var y=a*4,t=0,g,H,_=new Uint8Array(a+1),Y=new Uint8Array(10*4),K=new Uint8Array(10*4);
for(var $=0;$<P;$++){E(v,T,t);R[0]=x(v,t);_[0]=l();g=t;t+=4;for(var f=1;f<a;f++){E(v,T,t);R[f]=x(v,t);
H=l();_[f]=H;if(R[f-1]<R[f]&&H>0){k(v,t-4,t,R,_,f,Y,K,4)}t+=4}R[a]=R[0];_[a]=_[0];if(R[a-1]<R[a]&&H>0){k(v,t,g,R,_,a,Y,K,4)}}b(v)}function I(){var T=Math.random();
if(T>.659755)return 0;if(T>.1625)return 10;if(T>.06)return 20;if(T>.01)return 30;if(T>.0035)return 40;
if(T>65e-5)return 50;if(T>415e-6)return 60;if(T>55e-6)return 70;return 80}function V(T,a,P,v,R,y){var t=I()+1,g=v[R];
for(var $=1;$<t;$++){if(0>R)break;if(v[R-$]<g){c(T,a,P)}else{break}a+=y}}function u(T,a,P,v,R){var y=a*4,t=0;
for(var $=0;$<P;$++){E(v,T,t);R[0]=x(v,t);t+=4;for(var g=1;g<a;g++){E(v,T,t);R[g]=x(T,t);if(R[g-1]<R[g]){V(v,t-4,t,R,g,-4)}t+=4}R[a]=R[0];
if(R[g-1]<R[g]){V(v,t-4,t-y,R,g,-4)}}b(v)}function N(T,a,P,v,R,y){var t=1,g,H,_=new Uint8Array(4),Y,K=a;
while(Math.random()<1/t){K=a;if(v<=1)break;g=P[v];H=P[v-1];if(g<=H)break;o(_,0,T,K-y);Y=!0;for(var $=v;
$<R;$++){if(H>P[$]){o(T,K-y,_,0);P[$-1]=H;Y=!1;break}o(T,K-y,T,K);P[$-1]=P[$];K+=y}if(Y){o(T,K-y,_,0);
P[R-1]=H}t++;v--;a-=y}}function e(T,a,P,v,R){var y=0,t=0,g=a*4;for(var $=0;$<P;$++){t=y;for(var H=0;
H<a;H++){E(v,T,y);R[H]=J(v,y);y+=4}y=t;for(var H=1;H<a;H++){if(R[H-1]<R[H]&&Math.random()<.66){N(v,y+4,R,H,a,4)}y+=4}y+=4}b(v)}function B(T,a,P,v,R){var y=R[0],t=R[1],g=new Uint16Array(a+1),H=T,_=v,Y;
if(t){Y=v.slice(0);j(T,v,a,P);H=v;_=Y}if(y==0)U(H,a,P,_,g);else if(y==1)u(H,a,P,_,g);else if(y==2)e(H,a,P,_,g);
if(t){j(Y,v,a,P)}}function j(T,a,P,v){for(var R=0;R<v;R++)for(var y=0;y<P;y++){var t=R*P+y<<2,g=R*P+(P-1-y)<<2;
a[g]=T[t];a[g+1]=T[t+1];a[g+2]=T[t+2];a[g+3]=T[t+3]}}return B}();q.X.aCD=function(x,J,o,c,E){var b=q.X.q,l=1,B=0,a=0;
b.Rc(J,o);b.XE(E[2]);var i=3<<13,F=Math.PI/2.43,k=F/256,U=Math.PI*2/256;function I(){var y=b.random()*256,t=b.random()*256;
return l*~~(Math.tan(F-y*k)*325*Math.cos(t*U)*256)+i>>16}l=E[0];var V=E[1],u=(V+2)/2,N=b.random()*255,e=b.We(1);
for(var $=0;$<o;$++){var j=b.xp(I()+N);for(var T=0;T<J;T++){j=b.xp(I()+j);e[B++]=j}}B=J;for(var $=1;
$<o;$++){var P=b.xp(I()+e[a++]);e[B++]=P;for(var T=1;T<J;T++){var v=a+1;if(T+1==J){v--}var R=(u+P+e[v]+e[a]*V)/(V+2);
P=b.xp(I()+R);e[B++]=P;a++}}b.dU(e,c)};var gb=function(){function x(S){S=S^61^S>>>16;S=S+(S<<3);S=S^S>>>4;
S=S*668265261;S=S^S>>>15;return S}var J=function(){var J=function(S){if(S){this.V=S}this.V=x(this.V);
return(this.V&16777215)*(1/16777215)};return J};function o(S,z){if(z==null){z=[0,0]}return Math.sqrt((z[0]-S[0])*(z[0]-S[0])+(z[1]-S[1])*(z[1]-S[1]))}function c(S,z){if(z==null){z=[0,0]}return[-(z[1]-S[1])/o(S,z),(z[0]-S[0])/o(S,z)]}function E(S){return[Math.cos(S),Math.sin(S)]}function b(S){var z=o(S,[0,0]),s=[S[0]/z,S[1]/z],M=Math.atan(s[1]/s[0]);
if(s[0]>0&&s[1]<0){M+=2*Math.PI}else if(s[0]<0&&s[1]<0){M+=Math.PI}else if(s[0]<0&&s[1]>0){M+=Math.PI}return M}function l(S){var l=0;
for(var $=1;$<S.length/2;++$){l+=o([S[2*$],S[2*$+1]],[S[2*($-1)],S[2*($-1)+1]])}return l}function i(S,z,s){var M=new Float32Array(S.length),Q=1/(S.length/2),O=v(s);
for(var $=0;$<S.length/2;++$){var W=$*Q,e9=W/2+.5,jV=1,co=0;if(s.shape==2){jV=1/(2*e9)}if(s.shape==3){e9=(1-W)/2+.5;
jV=1/(2*e9)+.5}if(s.shape==4){e9=W;jV=Math.sin(3/2*Math.PI*e9)/4+1}if(s.shape==5){e9=(W-.5)*6;jV=(-Math.atan(e9)/1.25+1)/5+.6-.2*W}var dz=[null,null];
if($==0){dz=c([S[2*$],S[2*$+1]],[S[2*($+1)],S[2*($+1)+1]])}else if($==S.length/2-1){dz=c([S[2*($-1)],S[2*($-1)+1]],[S[2*$],S[2*$+1]])}else{dz=c([S[2*($-1)],S[2*($-1)+1]],[S[2*($+1)],S[2*($+1)+1]])}M[2*$]=S[2*$]+(jV*z+co)*dz[0];
M[2*$+1]=S[2*$+1]+(jV*z+co)*dz[1];if(s.style==2){M[2*$]+=R(2*$/M.length,O,s)}}return M}function F(S,z,s){var M=new Float32Array(S.length),Q=1/(S.length/2);
for(var $=0;$<S.length/2;++$){var O=$*Q,W=[null,null],e9=.6*s.qn*g(O,z.abz)*s.Sj/100,jV=.6*s.qn*g(O,z.af9)*s.Sj/100,co=z.aDc*e9+(1-z.aDc)*jV;
if($==0){W=c([S[2*$],S[2*$+1]],[S[2*($+1)],S[2*($+1)+1]])}else if($==S.length/2-1){W=c([S[2*($-1)],S[2*($-1)+1]],[S[2*$],S[2*$+1]])}else{W=c([S[2*($-1)],S[2*($-1)+1]],[S[2*($+1)],S[2*($+1)+1]])}M[2*$]=S[2*$]+co*W[0];
M[2*$+1]=S[2*$+1]+co*W[1]}return M}function k(S){if(S.r8==1){return[.150684932,.205479452,.465753425,.178082192]}else if(S.r8==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var z=[],s=1/(K(S)-1);
for(var $=0;$<K(S)-1;++$){z.push(s)}return z}}function U(S,z,s){var M=[],Q=z-S,O=S;for(var $=0;$<s.length-1;
++$){M.push(O+s[$]*Q);O=M[$]}return M}function I(S,z,s,M){var Q=new Float32Array(s.length),O=0,W={shape:Math.floor(M.random()*2.99),aiq:M.random()*.1+.15};
for(var $=0;$<s.length-1;++$){var e9=O+s[$];Q[$]=((1-e9)*S+e9*z)*j(M,e9,W);O=e9}return Q}function V(S,z,s,M){var Q=_(M),O=M.random(),W=O*20+(1-O)*26,e9=new Float32Array(s.length),jV=0;
for(var $=0;$<s.length-1;++$){var co=jV+s[$];e9[$]=(1-co)*S+co*z+Q/W*(2/3*Math.sin(Math.PI*co)+1/3*Math.sqrt(Math.sin(Math.PI*co)));
jV=co}return e9}function u(S,z,s){var M=[];for(var $=0;$<z.length-1;++$){M.push(z[$].slice());var Q=$*(K(s)-1),O=($+1)*(K(s)-1),W=S[O]-S[Q];
for(var e9=Q+1;e9<O;++e9){var jV=v(s),co=new Float32Array(z[0].length),dz=(S[e9]-S[Q])/W;for(var eh=0;
eh<z[0].length/2;++eh){co[2*eh]=(1-dz)*z[$][2*eh]+dz*z[$+1][2*eh];co[2*eh+1]=(1-dz)*z[$][2*eh+1]+dz*z[$+1][2*eh+1];
if(s.style==2){co[2*eh]+=R(2*eh/z[0].length,jV,s)}}M.push(co)}}M.push(z[z.length-1]);return M}function N(S,z,s){var M=new Array(z.length),Q=G(S),W=null;
for(var $=0;$<z.length;++$){M[$]=i(Q,(z[$]-.5)*s.Sj,s)}var O=1+.05*s.at3*_(s)/_({r8:1});for(var $=0;
$<z.length;++$){if(z[$]==0){W=$}}for(var $=0;$<z.length;++$){var e9=(s.random()-.5)*2,jV=Math.round(s.random()*9+1),co=new Float32Array(jV*2+2);
for(var dz=0;dz<=jV;++dz){co[2*dz]=M[$][0]-(M[$][2*dz]-M[$][0]);co[2*dz+1]=M[$][1]-(M[$][2*dz+1]-M[$][1])}if($==W){e9*=.1}for(var dz=(M[$].length-1)/2;
dz>jV;--dz){M[$][2*dz]=(1-e9)*M[$][2*dz]+e9*(M[$][2*(dz-jV)]+O*(M[$][2*dz]-M[$][2*(dz-jV)]));M[$][2*dz+1]=(1-e9)*M[$][2*dz+1]+e9*(M[$][2*(dz-jV)+1]+O*(M[$][2*dz+1]-M[$][2*(dz-jV)+1]))}for(var dz=jV-1;
dz>=0;--dz){M[$][2*dz]=(1-e9)*M[$][2*dz]+e9*(co[2*(jV-dz)]+O*(M[$][2*dz]-co[2*(jV-dz)]));M[$][2*dz+1]=(1-e9)*M[$][2*dz+1]+e9*(co[2*(jV-dz)+1]+O*(M[$][2*dz+1]-co[2*(jV-dz)+1]))}}var eh=t(z,s);
if(s.qn>0){var a9=0;for(var $=0;$<z.length;++$){if($==0){a9+=z[$]}else{a9+=Math.abs(z[$]-z[$-1])}var kB=a9-Math.floor(a9),dc=1;
if(kB==0){dc=0}M[$]=F(M[$],{abz:eh[Math.floor(a9)],af9:eh[Math.floor(a9)+dc],aDc:kB},s)}}return M}function e(S,z){var s=C(z,S),M=Z(z,S),Q=[],O=[],W=[],e9=k(S);
for(var $=0;$<z.length-1;++$){Q.push(z[$]);O.push(s[$]);W.push(M[$]);var jV=U(z[$],z[$+1],e9),co=I(s[$],s[$+1],e9,S),dz=V(M[$],M[$+1],e9,S);
for(var eh=0;eh<jV.length;++eh){Q.push(jV[eh]);O.push(co[eh]);W.push(dz[eh])}}Q.push(z[z.length-1]);
O.push(s[s.length-1]);W.push(M[M.length-1]);return{ats:Q,aep:O,R7:W}}function B(S,z,s,M){var Q=new Float32Array(2*M),O=S.length/2,W=O-z,e9=s*W,jV=e9/M;
for(var $=0;$<M;++$){var co=Math.floor(z+$*jV),dz=Math.ceil(z+$*jV),s=z+$*jV,eh=dz-co,a9=1,kB=0;if(eh!=0){a9=(dz-s)/eh;
kB=(s-co)/eh}Q[2*$]=a9*S[2*co]+kB*S[2*dz];Q[2*$+1]=a9*S[2*co+1]+kB*S[2*dz+1]}return Q}function j(S,z,s){var M=s.aiq,Q=z*2*Math.PI,O=Q,W=0;
if(s.shape==0){W=(Math.sin(2*O+Math.PI/2)+1)/2}else if(s.shape==1){W=(Math.sin(O+Math.PI/2)+1)/2}else{W=(4*Math.sin(3/4*O+Math.PI)+Math.sin(Math.PI/2+2*O)-2*O/Math.PI+6)/7}return Math.min(1,1-M+M*W)}function T(S,z,s,M){var Q=[];
for(var $=0;$<S.length;++$){Q.push(B(S[$],z[$],s[$],M))}return Q}function a(S,z,s){var M=[];for(var $=0;
$<S.length;++$){var Q=E(2*Math.PI*s.random()),O=E(2*Math.PI*s.random()),W=s.Gl*.5*f({r8:1})/f(s),e9=W*s.Sj/200,jV=W*z/500,co=new Float32Array(S[0].length);
for(var dz=0;dz<S[0].length/2;++dz){var eh=E(2*Math.PI*s.random()),a9=2*dz/S[0].length;co[2*dz]=S[$][2*dz]+e9*(eh[0]+((1-a9)*Q[0]+a9*O[0]));
co[2*dz+1]=S[$][2*dz+1]+jV*(eh[1]+((1-a9)*Q[1]+a9*O[1]))}M.push(co)}return M}function P(S,z,s){var M=s.WB,Q=2/M,O=[1/10,1/30,1/40,1/45,1/100],W=O[s.r8-1],e9=4*(s.opacity/25*Q*W)*(1-s.Gl/150),eh=0,kB=0;
if(s.style==3){return e9*.09}var jV=2.2*(S-.5),co=jV*jV*jV*jV+.27+Math.max(0,(s.opacity-50)/15),dz=2*(Math.sin(3*Math.PI*z)/(Math.PI*z+2)+1.1)-z/2;
z=2*z;if(z<.41){var a9=2*Math.PI*z/.41;eh=(Math.sin(a9-Math.PI/2)+1)/4+.5}else if(z<.77){var a9=2*Math.PI*(z-.41)/.36;
eh=(Math.sin(a9-Math.PI/2)+1)/4+.5-a9/2/Math.PI*.5}else{var a9=2*Math.PI*(z-.77)/.23;eh=(Math.sin(a9-Math.PI/2)+1)/2*.12}eh*=3;
eh+=Math.max(0,(s.opacity-50)/15);if(s.type==6){kB=dz}else{kB=eh}return e9*co*kB}function v(S){return{H:S.random()*7/2+.5,gz:S.random()*2*Math.PI}}function R(S,z,s){return s.Sj/300*K({r8:1})/K(s)*10*(Math.sin(z.H*2*Math.PI*S+z.gz)+10*(s.random()-.5))}function y(S){var z=Math.exp(-S.qn/25);
return{H:S.random()*3/2+.5,gz:S.random()*2*Math.PI,uA:(S.random()-.5)*10*z}}function t(S,z){var s=Math.ceil(A(S)),M=[];
for(var $=0;$<=s;++$){M.push(y(z))}return M}function g(S,z){var s=z.H*4*Math.PI*S+z.gz;return Math.exp(-1/2*Math.PI*S)*Math.cos(s)*Math.cos(s)*Math.cos(s)*Math.cos(s)*Math.cos(s)+S*z.uA-z.uA/4}function H(S,z,s,M,Q){var O=0,W=f(z)-1;
for(var $=0;$<W;++$){for(var e9=0;e9<S.length-1;e9+=K(z)-1){for(var jV=$;jV<S[0].length/2-W;jV+=W){for(var co=e9;
co<e9+(K(z)-1);++co){s[Q+O]=P(co*(z.WB-1)/(S.length-1)%1,jV/S[0].length,z);var dz=0,eh=0;if(z.type==6&&co!=0&&co!=S.length-1){eh=(S[co][2*(jV+1)+1]-S[co][2*jV+1])/2;
dz=(S[co][2*(jV+1)]-S[co][2*jV])/2}M[8*Q+8*O]=S[co][2*jV]+dz;M[8*Q+8*O+1]=S[co][2*jV+1]+eh;M[8*Q+8*O+2]=S[co][2*(jV+W)]+dz;
M[8*Q+8*O+3]=S[co][2*(jV+W)+1]+eh;M[8*Q+8*O+4]=S[co+1][2*(jV+W)];M[8*Q+8*O+5]=S[co+1][2*(jV+W)+1];M[8*Q+8*O+6]=S[co+1][2*jV];
M[8*Q+8*O+7]=S[co+1][2*jV+1];++O}}}}}function _(S){var z=[100,300,500,700,1e3];return z[S.r8-1]}function Y(S){var z=[30,70,100,140,300];
return z[S.r8-1]}function K(S){var z=[5,7,26,40,100];return z[S.r8-1]}function f(S){if(S.r8==1){return 4}else if(S.r8==2){return 8}else{return Math.floor(Y(S)/9)}}function m(S){var z=S.WB,s=new Float32Array(z),M=null;
for(var $=0;$<z;++$){s[$]=S.random()}if(S.WB<=3){s[0]=0;s[S.WB-1]=1}else{for(var $=0;$<2;++$){var Q=Math.floor(S.random()*z);
if(M==null||M!=Q){s[Q]=$;M=Q}else{s[Q+1]=$}}}return s}function C(S,z){var s=[],M=.2,O=0;for(var $=0;
$<S.length;++$){var Q=z.random()*(1-M)+M;s.push(Q)}var W=Math.min(3,z.WB);for(var $=0;$<S.length;++$){if(s[$]>.9){++O}}while(O<W){var e9=Math.floor(z.random()*S.length);
if(s[e9]<=.9){s[e9]=.9+.1*z.random();++O}}return s}function Z(S,z){var s=_(z),M=_({r8:1}),Q=[];for(var $=0;
$<S.length;++$){Q.push(Math.max(1,(z.random()*10+2)*s/M))}return Q}function A(S){var z=0;for(var $=0;
$<S.length;++$){if($==0){z+=S[$]}else{z+=Math.abs(S[$]-S[$-1])}}return z}function d(S,z){if(S.length/2-1==_(z)){return S}var s=new Float32Array(2*(_(z)+1)),M=(S.length-2)/(s.length-2);
for(var $=0;$<s.length/2;++$){var Q=$*M,O=Math.floor(Q),W=Math.ceil(Q),e9=W-O,jV=1,co=0;if(e9!=0){jV=(W-Q)/e9;
co=(Q-O)/e9}s[2*$]=jV*S[2*O]+co*S[2*W];s[2*$+1]=jV*S[2*O+1]+co*S[2*W+1]}return s}function G(S,z){var s=S.length/2,M=l(S),Q=M/s,O=!1,jV=0,co=0,dz=1;
if(z){var W=Math.floor(M/z.ajD),e9=z.ajD;if(z.a0d&&S[0]==S[S.length-2]&&S[1]==S[S.length-1]){O=!0;e9=M/(W+1)}if(z.type==2&&!O&&e9*W+z.length>M){s=W+1}else{s=W+2}Q=e9}var eh=new Float32Array(s*2);
eh[0]=S[0];eh[1]=S[1];for(var $=1;$<s;++$){while(jV<=$*Q){co=jV;jV+=o([S[2*dz],S[2*dz+1]],[S[2*(dz-1)],S[2*(dz-1)+1]]);
++dz}var a9=1-($*Q-co)/(jV-co);eh[2*$]=(1-a9)*S[2*dz]+a9*S[2*(dz-1)];eh[2*$+1]=(1-a9)*S[2*dz+1]+a9*S[2*(dz-1)+1]}eh[eh.length-2]=S[S.length-2];
eh[eh.length-1]=S[S.length-1];return eh}function r(S,z){var s=G(S,z),M=[];for(var $=0;$<(s.length-2)/2;
++$){var Q=[];Q.push(s[2*$]);Q.push(s[2*$+1]);var O=o([s[2*($+1)],s[2*($+1)+1]],[s[2*$],s[2*$+1]]),W=[(s[2*($+1)]-s[2*$])/O,(s[2*($+1)+1]-s[2*$+1])/O],e9=E((z.ags-90)/360*2*Math.PI),jV=W;
if(z.type==3){jV=e9}else if(z.type==4){jV=E(b(W)+b(e9))}else if(z.type==5){jV=E(((z.random()-.5)*z.ags-90)/360*2*Math.PI)}var co=z.length;
if(z.adz){co=2*z.random()*z.length}Q.push(s[2*$]+jV[0]*co);Q.push(s[2*$+1]+jV[1]*co);M.push(Q)}return M}function X(S){if(S.av$){S.cN=100*Math.random()}else{S.cN=S.aAE}S.random=new J;
S.random(S.cN);if(S.type==6){S.WB=2;S.shape=5;S.at3=0}}function w(S,z){S=d(S,z);var s=[S],co=0;if(z.type>=2&&z.type<6){s=r(S,z)}var M=f(z)-1,Q=Y(z)-M,O=(z.WB-1)*(K(z)-1),W=s.length*Q*O,e9=new Float32Array(W),jV=new Float32Array(8*W);
for(var $=0;$<s.length;++$){for(var dz=0;dz<1e4;++dz){z.cN=x(z.cN)}z.random(z.cN);var S=d(s[$],z),eh=m(z),a9=A(eh),kB=N(S,eh,z),dc=e(z,eh),eT=u(dc.ats,kB,z);
eT=T(eT,dc.R7,dc.aep,Y(z));if(z.Gl>0){eT=a(eT,l(s[$]),z)}H(eT,z,e9,jV,co);co+=Q*O}return[e9,jV]}var gb=function(S){var z=performance.now(),s=S[0],M=S[1];
X(M);var Q=[new Float32Array(0),new Float32Array(0)];for(var $=0;$<s.length;++$){M.cN=x(M.cN);var O=w(s[$],M),W=new Float32Array(Q[0].length+O[0].length),e9=new Float32Array(Q[1].length+O[1].length);
W.set(Q[0]);W.set(O[0],Q[0].length);Q[0]=W;e9.set(Q[1]);e9.set(O[1],Q[1].length);Q[1]=e9}var jV=performance.now();
if(M.aqp){console.rE("Geometry: "+String(jV-z)+"ms")}return Q};return gb}(),d7=function(){function x(E,b){var l=[],i=0,F=b.length,k=0,U=0,I=new ha,V=0,u=1e9;
for(U=0;U<F;U++){var N=U*8,e=b[U];if(e<u)u=e;var B=E[N+0],j=E[N+1],T=E[N+2],a=E[N+3],P=E[N+4],v=E[N+5],R=E[N+6],y=E[N+7],t=Math.min(B,T,P,R),g=Math.max(B,T,P,R),H=Math.min(j,a,v,y),_=Math.max(j,a,v,y),Y=new ha(t,H,g-t,_-H),K=Y.k7(I),f=V+e;
if(U-k<10&&(U==k||K.P()*.8<Y.P()+I.P())){I=K;V=f}else{l.push(U-k);k=U;I=Y;V=e;u=e}}if(U!=k)l.push(U-k);
return l}function J(E,b,l,i,F,k){var U=document.createElement("canvas"),j=0,W=.8;U.width=b;U.height=l;
var I=U.getContext("2d"),V=F[0],u=F[1],N=new Float64Array(b*l),e=Date.now(),B=x(u,V);for(var T=0;T<B.length;
T++){var a=j,P=j+B[T],y=1e9,g=1e9,C=0;j=P;var v=a*8,R=P*8,t=-y,H=-g;for(var _=v;_<R;_+=2){var Y=u[_],K=u[_+1];
if(Y<y)y=Y;if(Y>t)t=Y;if(K<g)g=K;if(K>H)H=K}y=Math.floor(y);t=Math.ceil(t);g=Math.floor(g);H=Math.ceil(H);
var f=t-y,m=H-g;for(var Z=a;Z<P;Z++)C+=V[Z];for(var _=v;_<R;_+=8){var A=V[_>>>3],d=u[_+0],G=u[_+1],r=u[_+2],X=u[_+3],w=u[_+4],S=u[_+5],z=u[_+6],s=u[_+7];
I.fillStyle="rgba(0,0,0,"+A/C+")";I.beginPath();I.moveTo(d,G);I.lineTo(r,X);I.lineTo(w,S);I.lineTo(z,s);
I.closePath();I.fill()}var M=I.getImageData(y,g,f,m).data;for(var K=0;K<m;K++)for(var Y=0;Y<f;Y++){var $=K*f+Y,Q=M[$*4+3],O=(g+K)*b+y+Y;
if(Q!=0)N[O]+=Q*C}I.clearRect(y,g,f,m)}var e9=k[1].color,jV=Math.pow(e9.o/255,W),co=Math.pow(e9.I/255,W),dz=Math.pow(e9.J/255,W),eh=new ha(0,0,b,l),a9=q.R(b*l*4);
for(var K=0;K<l;K++)for(var Y=0;Y<b;Y++){var $=K*b+Y,Z=$*4,V=N[$]*(1/255);a9[Z]=c(jV,V);a9[Z+1]=c(co,V);
a9[Z+2]=c(dz,V);a9[Z+3]=Math.min(255,V*255)}q.l.j6("norm",a9,eh,i,eh,eh,1)}var o=new Uint8Array(2e3);
for(var $=0;$<2e3;$++)o[$]=255*Math.min(1,Math.log($/700+1));function c(E,b){return o[Math.min(1500,~~(E*b*1e3))]}return J}(),hB=function(){var x=new Float32Array(3e3),J=new Float32Array(3e3),o=new Float32Array(256),c=new Float32Array(3e3);
function E(){var u=x.length;x[0]=Math.log10(157647e-9);for(var $=1;$<u;++$)x[$]=Math.log10($/u)}function b(){var u=J.length;
for(var $=0;$<u;++$)J[$]=Math.pow(10,20*($-u/2)/u)}function l(){var u=o.length;for(var $=0;$<u;++$)o[$]=q.Ea($/255)}function i(){var u=c.length;
for(var $=0;$<u;++$)c[$]=255*q.cW($/(u-1))}function F(u,N){var e=u.length>>>2;for(var $=0;$<e;++$){var B=o[u[4*$]],j=o[u[4*$+1]],T=o[u[4*$+2]],a=.3811*B+.5783*j+.0402*T,P=.1967*B+.7244*j+.0782*T,v=.0241*B+.1288*j+.8444*T;
a=x[~~(a*x.length)];P=x[~~(P*x.length)];v=x[~~(v*x.length)];N[3*$]=(a+P+v)*.5773502692;N[3*$+1]=(a+P-2*v)*.4082482905;
N[3*$+2]=(a-P)*.7071067812}}function k(u,N){var e=N.length>>>2,B=c.length-1;for(var $=0;$<e;++$){var j=.5773502692*u[3*$],T=.4082482905*u[3*$+1],a=.7071067812*u[3*$+2],P=J[~~((j+T+a+10)*(3e3/20))],v=J[~~((j+T-a+10)*(3e3/20))],R=J[~~((j-2*T+10)*(3e3/20))],y=4.4679*P-3.5873*v+.1193*R,t=-1.2186*P+2.3809*v-.1624*R,g=.0497*P-.2439*v+1.2045*R;
N[4*$]=c[~~(B*Math.max(0,Math.min(1,y)))];N[4*$+1]=c[~~(B*Math.max(0,Math.min(1,t)))];N[4*$+2]=c[~~(B*Math.max(0,Math.min(1,g)))]}}function U(u){var N=0,e=0,B=0;
for(var $=0;$<u.length;$+=3){N+=u[$];e+=u[$+1];B+=u[$+2]}return[N/(u.length/3),e/(u.length/3),B/(u.length/3)]}function I(u,U){var N=0,e=0,B=0;
for(var $=0;$<u.length;$+=3){var j=u[$]-U[0],T=u[$+1]-U[1],a=u[$+2]-U[2];N+=j*j;e+=T*T;B+=a*a}return[Math.sqrt(N/(u.length/3)),Math.sqrt(e/(u.length/3)),Math.sqrt(B/(u.length/3))]}function V(u,N,e,B,j,T){E();
b();l();i();var a=0,G,r;if(T[0]>100)a=-(T[0]-100)/100*.13;else if(T[0]>=75)a=(100-T[0])/25*.04;else if(T[0]>=50)a=.04+(75-T[0])/25*.04;
else if(T[0]>=25)a=.08+(50-T[0])/25*.08;else a=.16+(25-T[0])/25*.24;var P=(T[1]-100+100)/100,v=T[2]/100,R=T[3],y=new Float32Array(u.length*3/4),t=new Float32Array(B.length*3/4),g=Date.now();
F(u,y);F(B,t);var H=Date.now(),_=U(y),Y=U(t),K=Date.now(),f=I(y,_),m=I(t,Y),C=Date.now();Y[0]*=Math.pow(10,a);
var Z=[m[0]/f[0],m[1]/f[1],m[2]/f[2]],A=y.length,d=1/-1.1546978950500488;for(var $=0;$<A;$+=3){if(R){var X=Math.max(0,Math.min(1,y[$]*d));
X=1-Math.sqrt(X);G=X*Y[1];r=X*Y[2]}else{G=Y[1];r=Y[2]}y[$]=(y[$]-_[0])*Z[0]+Y[0];y[$+1]=(y[$+1]-_[1])*Z[1]*P+G;
y[$+2]=(y[$+2]-_[2])*Z[2]*P+r}var w=Date.now();k(y,j);var S=j.length>>>2;for(var $=0;$<S;++$){j[4*$]=(1-v)*j[4*$]+v*u[4*$];
j[4*$+1]=(1-v)*j[4*$+1]+v*u[4*$+1];j[4*$+2]=(1-v)*j[4*$+2]+v*u[4*$+2];j[4*$+3]=255}}return V}(),ej=function(){function x(J,o,c,E,b){var l=[-1,-1,-1,-1],i=255,F=160,k,U=!1,I=new Array(4);
I[0]=new Array(o);I[1]=new Array(c);I[2]=new Array(o);I[3]=new Array(c);var V=new Array(2);V[0]=new Array(c);
V[1]=new Array(c);function u(m,C,Z,A,d){this.start=A;this.axis=d;this.dir=m;this.end=-1;this.source=C;
this.P=Z}function N(m,C,Z,A,d){if(Z%2==0){if(!I[Z][m])I[Z][m]=new Array;I[Z][m].push(new u(Z,A,d,C,m))}else{if(!I[Z][C])I[Z][C]=new Array;
I[Z][C].push(new u(Z,A,d,m,C))}var G=Date.now()}function e($){var m=!1,C=0;if(J[4*$+3]<i)return m;var Z=$%o,A=Math.floor($/o);
B(Z,A);if($+o<o*c&&J[4*($+o)+3]<i&&J[4*($-o)+3]>=i&&J[4*($-2*o)+3]>=i){var d=2;if(J[4*($+o)+3]<=F)C=-1;
if(J[4*($+2*o-1)+3]<i&&J[4*($+2*o+1)+3]<i)m=!0;else if(J[4*($+2*o-1)+3]>=i&&J[4*($+1)+3]>=i)m=!0;else if(J[4*($+2*o+1)+3]>=i&&J[4*($-1)+3]>=i)m=!0;
N(Z,A,d,C,m)}else if($-o>=0&&J[4*($-o)+3]<i&&J[4*($+o)+3]>=i&&J[4*($+2*o)+3]>=i){var d=0;if(J[4*($-o)+3]<=F)C=-1;
if(J[4*($-2*o-1)+3]<i&&J[4*($-2*o+1)+3]<i)m=!0;else if(J[4*($-2*o-1)+3]>=i&&J[4*($+1)+3]>=i)m=!0;else if(J[4*($-2*o+1)+3]>=i&&J[4*($-1)+3]>=i)m=!0;
N(Z,A,d,C,m)}C=0;if($+1<o*c&&J[4*($+1)+3]<i&&J[4*($-1)+3]>=i&&J[4*($-2)+3]>=i){var d=3;if(J[4*($+1)+3]<=F)C=-1;
if(!m&&J[4*($+o+2)+3]<i&&J[4*($-o+2)+3]<i){m=!0;N(Z,A,d,C,!0)}else N(Z,A,d,C,!1)}else if($>=1&&J[4*($-1)+3]<i&&J[4*($+1)+3]>=i&&J[4*($+2)+3]>=i){var d=1;
if(J[4*($-1)+3]<=F)C=-1;if(!m&&J[4*($+o-2)+3]<i&&J[4*($-o-2)+3]<i){m=!0;N(Z,A,d,C,!0)}else N(Z,A,d,C,!1)}return m}function B($,m){if(l[0]==-1){l[0]=$;
l[1]=m;l[2]=1;l[3]=1}if($<l[0]){l[2]+=l[0]-$;l[0]=$}if($>l[0]+l[2])l[2]=$-l[0];if(m<l[1]){l[3]+=l[1]-m;
l[1]=m}if(m>l[1]+l[3])l[3]=m-l[1]}function j(m,$,C,Z){if(!C.P)return;var A=(m+2)%4,d=C.start,G=l[1];
if(m==2)G+=l[3];else if(m==1)G=l[0];else if(m==3)G=l[0]+l[2];var r=C.source;if(I[A][$])for(var X=0;X<I[A][$].length;
++X){if(m>1){var w=d+Math.floor((I[A][$][X].start-d)/2);if(I[A][$][X].start>d&&w<G)G=w}else{var w=d-Math.floor((d-I[A][$][X].start)/2);
if(I[A][$][X].start<d&&w>G)G=w}}for(var S=1;S<Math.abs(G-d);++S){var X=d+S;if(m==1||m==0)X=d-S;for(var z=0;
z<2;++z){var s=2*z,M=!1;if(m%2==0)s+=1;if(I[s][X]){for(var Q=0;Q<I[s][X].length;++Q){if(I[s][X][Q].P){var O=I[s][X][Q].start,W=$-O,e9=X-d;
if(s==0||s==1)W=-W;if(W<=0)continue;if(m==0||m==1)e9=-e9;if(e9>W){G=X;M=!0;break}}}if(M)break}}}C.end=G;
P(m,$,d,G,r)}function T(m){for(var $=0;$<I[m].length;++$){if(I[m][$])for(var C=0;C<I[m][$].length;++C){j(m,$,I[m][$][C])}}}function a(){var m=[2,0,3,1];
for(var $=0;$<m.length;++$)T(m[$])}function P(m,$,C,Z,A){if(m==2)for(var d=C;d<=Z;++d){if(!v(d*o+$,(C+A)*o+$))return!1}else if(m==0)for(var d=C;
d>=Z;--d){if(!v(d*o+$,(C-A)*o+$))return!1}else if(m==1)for(var d=C;d>=Z;--d){if(!v($*o+d,$*o+C-A))return!1}else if(m==3)for(var d=C;
d<=Z;++d){if(!v($*o+d,$*o+C+A))return!1}}function v(m,C){if(!k[m]){E[4*m]=E[4*C];E[4*m+1]=E[4*C+1];E[4*m+2]=E[4*C+2];
if(U)E[4*m+3]=255;k[m]=!0;return!0}return!1}function R(){for(var $=0;$<4;$+=1){for(var m=0;m<I[$].length;
++m){if(I[$][m])for(var C=0;C<I[$][m].length;++C){var Z=I[$][m][C];for(var A=1;A<3;A+=2){var d=($+A)%4;
if(I[d][Z.start])for(var G=0;G<I[d][Z.start].length;++G){if(I[d][Z.start][G].start==Z.axis){var bz=o*Z.start+Z.axis;
if($%2==1){bz=Z.start+o*Z.axis;y(I[d][Z.start][G])}else y(Z)}}}}}}}function y(m){if(m.dir%2==0){var bz=o*m.start+m.axis,C=m.start,Z=1;
if(!k[bz+1])Z=3;else if(k[bz-1])return;var A=E[4*bz],d=E[4*bz+1],G=E[4*bz+2];while(E[4*bz]==A&&E[4*bz+1]==d&&E[4*bz+2]==G){if(Z==1){if(!V[0][C])V[0][C]=new Array;
V[0][C].push(new u(Z,0,!1,m.axis,C))}else{if(!V[1][C])V[1][C]=new Array;V[1][C].push(new u(Z,0,!1,m.axis,C))}if(m.dir==2){bz+=o;
C++}else{bz-=o;C--}}}}function t(){for(var m=0;m<2;++m){var C=(m+1)%2;for(var $=0;$<V[m].length;++$){if(V[m][$])for(var Z=0;
Z<V[m][$].length;++Z){var A=l[0];if(m==1)A+=l[2];var d=V[m][$][Z].start;if(V[C][$])for(var G=0;G<V[C][$].length;
++G){var r=V[C][$][G].Rw;if(m==0){if(r>A&&r<d){A=d-Math.floor((d-r)/2)}}else{if(r<A&&r>d){A=d+Math.ceil((r-d)/2)}}}if(m==0)P(V[m][$][Z].dir,$,d-1,A,-1);
else P(V[m][$][Z].dir,$,d+1,A,-1)}}}for(var $=0;$<k.length;++$){if(!k[$]&&$%o>=l[0]&&$%o<=l[0]+l[2]&&Math.floor($/o)>=l[1]&&Math.floor($/o)<=l[1]+l[3]){var d=o;
if($<d||!k[$-d])d=1;E[4*$]=E[4*($-d)];E[4*$+1]=E[4*($-d)+1];E[4*$+2]=E[4*($-d)+2];k[$]=!0;if(U)E[4*$+3]=255}}}function g(){k=new Array(J.length/4);
for(var $=0;$<E.length/4;++$){k[$]=!1;E[4*$]=J[4*$];E[4*$+1]=J[4*$+1];E[4*$+2]=J[4*$+2];E[4*$+3]=J[4*$+3];
if(E[4*$+3]==255)k[$]=!0;if(e($))k[$]=!1}if(l[0]>0){l[0]--;l[2]++}if(l[1]>0){l[1]--;l[3]++}if(l[0]+l[2]<o){l[2]++}if(l[1]+l[3]<c){l[3]++}}var H=Date.now();
g();var _=Date.now();a();var Y=Date.now();R();var K=Date.now();t();var f=Date.now();console.log("Init: "+String(_-H));
console.log("Filling: "+String(Y-_));console.log("Check areas: "+String(K-Y));console.log("Fill areas: "+String(f-K))}return x}();
function ji(){}ji.akb=function(x){var J=[q.Ea(x[0]),q.Ea(x[1]),q.Ea(x[2]),0];return q.Dk.Kg(q.Dk.aAL,J)};
ji.a0q=function(x){var J=q.Dk.Kg(q.Dk.VU,x);return[q.cW(J[0]),q.cW(J[1]),q.cW(J[2])]};ji.LH=function(x,J){var o={},c=5003,E=1667,b=25e3,l=57.4,i=16.1,F=1.8,k=0,U=1.54,I=.75,N=0;
if(J>0){x-=J/100*4}if(x<0){i=22.54;l=80.36;U=.756}if(J>0){F=1.3;I=.2}var V=Math.min(c+l*x,b),u=Math.max(c-i*x,E);
if(x<0){V=Math.max(c+i*x,E);u=Math.min(c-l*x,b)}if(x>0){if(x<=14){N=(x-1)/13*.075+.025}else if(x<=29){N=.1}else if(x<=60){N=.1-.1*(x-29)/(60-29)}else{var e=x-60;
k=-20*(e/40);N=-.3*(e/40)}}else{if(x<-60){var e=x+60;k=-20*(e/40)}}var B=Math.abs(x)/100*U+Math.abs(J)/100*I+N,j=-(J*F+k),T=h6.wK(V,-j),a=h6.Ti(T),P=h6.wK(u,0),v=h6.Ti(P),R=h6.a61(a,v);
o.aBu=B;o.av5=R;if(x==0&&J==0)o.auR=!0;else o.auR=!1;return o};ji.auv=function(x,J,o,c){if(c.auR){return[x,J,o]}var E=this.akb([x,J,o]),b=E[0],l=E[1],i=E[2],F=l+1e-12,k=[b/F,l/F,i/F,0],U=q.Dk.Kg(c.av5,k),I=0,V=.4;
U[0]*=F;U[1]*=F;U[2]*=F;if(F>V)I=1/(1-V)*(F-V);E[0]=(1-I)*U[0]+I*b;E[1]=(1-I)*U[1]+I*l;E[2]=(1-I)*U[2]+I*i;
return this.a0q(E)};q.aDe={Bh:function(x,J){var $=x.length;x.push(J);var o=$>>>1;while(o!=0&&x[$][0]<x[o][0]){var c=x[$];
x[$]=x[o];x[o]=c;$=o;o=$>>>1}},bG:function(x){if(x.length==2)return x.pop();var top=x[1],$=1;x[1]=x.pop();
var J=x.length;while(!0){var o=$<<1,c=o+1,E=$;if(o<J&&x[o][0]<x[E][0])E=o;if(c<J&&x[c][0]<x[E][0])E=c;
if(E==$)break;var b=x[$];x[$]=x[E];x[E]=b;$=E}return top},a2u:function(x){for(var $=1;$<x.length;$++){var J=$,o=1e9;
while(J!=0){var c=x[J][0];if(c>o){console.log($);throw"e"}o=c;J=J>>>1}}}};q.l={};q.l.PM=new Float64Array(256);
q.l.au=new Uint8Array(256*256);q.l.CS=new Uint8Array(256*256);(function(){for(var $=0;$<256;$++)q.l.PM[$]=255/$;
for(var $=0;$<256;$++)for(var x=0;x<256;x++)q.l.au[$*256+x]=$==0?0:Math.round(x*255/$);for(var $=0;$<256;
$++)for(var x=0;x<256;x++)q.l.CS[$*256+x]=Math.round($*(255-x)/255)}());q.l.j6=function(x,J,o,c,E,b,l,i){if(i==null)i=cI.N1();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(x)==-1){l=l*i.fill;i.fill=1;i.style=!1}var F="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),k="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),U=q.l[x+"F"];
if(i.UJ==null&&x=="norm")q.l.adq(J,o,c,E,b,l,U,i.R3?1:0);else if(x=="diss")q.l.a78(J,o,c,E,b,l,U,i.R3?1:0);
else if(F.indexOf(x)!=-1)q.l.anL(J,o,c,E,b,l,U,i);else if(k.indexOf(x)!=-1)q.l.aA1(J,o,c,E,b,l,U,i)};
q.l.awj=function(x,J,o){var c=x*o+1-o;return c<.001?0:1-Math.min(1,(1-J)/c)};q.l.aai=function(x,J,o){return x*o==1?1:Math.min(1,J/(1-x*o))};
q.l.er=function(x){return x<=.25?((16*x-12)*x+4)*x:Math.sqrt(x)};q.l.normF=function(x,J,o){return x};
q.l.darkF=function(x,J,o){return Math.min(x,J)};q.l["mul F"]=function(x,J,o){return x*J};q.l.idivF=function(x,J,o){var c=x*o+1-o;
return J==1?1:1-J>=c?0:1-(1-J)/c};q.l.lbrnF=function(x,J,o){return Math.max(0,x*o+J-o)};q.l.dkClF=function(x,J,o){var c=q.hw(x)<q.hw(J)?x:J;
o.o=c.o;o.I=c.I;o.J=c.J;return o};q.l.liteF=function(x,J,o){return Math.max(x,J)};q.l.scrnF=function(x,J,o){return J+x-J*x};
q.l["div F"]=function(x,J,o){x*=o;return J==0?0:J>=1-x?1:J/(1-x)};q.l.lddgF=function(x,J,o){x*=o;return Math.min(1,x+J)};
q.l.lgClF=function(x,J,o){var c=q.hw(x)>q.hw(J)?x:J;o.o=c.o;o.I=c.I;o.J=c.J;return o};q.l.overF=function(x,J,o){return q.l.hLitF(J,x,o)};
q.l.sLitF=function(x,J,o){return x<=.5?J-(1-2*x)*J*(1-J):J+(2*x-1)*(q.l.er(J)-J)};q.l.hLitF=function(x,J,o){return x<=.5?q.l["mul F"](2*x,J,o):q.l.scrnF(2*x-1,J,o)};
q.l.vLitF=function(x,J,o){return x<=.5?q.l.awj(2*x,J,o):q.l.aai(2*x-1,J,o)};q.l.lLitF=function(x,J,o){return x<=.5?q.l.lbrnF(2*x,J,o):q.l.lddgF(2*x-1,J,o)};
q.l.pLitF=function(x,J,o){return x<=.5?q.l.darkF(2*x,J,o):q.l.liteF(2*x-1,J,o)};q.l.hMixF=function(x,J,o){if(o>.99)return x+J<1?0:1;
return Math.min(1,Math.max(0,(J+x*o-o)/(1-o+1e-6)))};q.l.diffF=function(x,J,o){x*=o;return Math.abs(x-J)};
q.l.smudF=function(x,J,o){return x+J-2*x*J};q.l.fsubF=function(x,J,o){return Math.max(J-x,0)};q.l.fdivF=function(x,J,o){return Math.min(J/x,1)};
q.l["hue F"]=function(x,J,o){q.l.nb(x,q.DN(J),o);q.l.oo(o,q.hw(J),o)};q.l["sat F"]=function(x,J,o){q.l.nb(J,q.DN(x),o);
q.l.oo(o,q.hw(J),o)};q.l.colrF=function(x,J,o){q.l.oo(x,q.hw(J),o)};q.l["lum F"]=function(x,J,o){q.l.oo(J,q.hw(x),o)};
q.l.oo=function(x,J,o){var c=J-q.hw(x);o.o=x.o+c;o.I=x.I+c;o.J=x.J+c;q.l.alO(o)};q.l.alO=function(x){var J=x.o,o=x.I,c=x.J,E=q.TM(J,o,c),bz=Math.min(J,o,c),b=Math.max(J,o,c);
if(bz<0){var l=E/(E-bz);J=E+(J-E)*l;o=E+(o-E)*l;c=E+(c-E)*l}if(b>1){var l=(1-E)/(b-E);J=E+(J-E)*l;o=E+(o-E)*l;
c=E+(c-E)*l}x.o=J;x.I=o;x.J=c};q.l.nb=function(x,J,o){var c=q.l.a4o,E=x.o,b=x.I,l=x.J;if(E==b&&b==l){o.o=o.I=o.J=0}else if(E>b){if(E>l){if(b>l){o.o=J;
o.I=c(E,b,l,J);o.J=0}else{o.o=J;o.J=c(E,l,b,J);o.I=0}}else{o.J=J;o.o=c(l,E,b,J);o.I=0}}else{if(E<l){if(b>l){o.I=J;
o.J=c(b,l,E,J);o.o=0}else{o.J=J;o.I=c(l,b,E,J);o.o=0}}else{o.I=J;o.o=c(b,E,l,J);o.J=0}}};q.l.a4o=function(x,J,o,c){return(J-o)*c/(x-o)};
q.l.adq=function(x,J,o,c,E,b,l,i){var F=J.Kc(c).Kc(E),k=Math.max(0,F.x-J.x),U=Math.max(0,F.x-c.x),I=Math.max(0,F.y-J.y),V=Math.max(0,F.y-c.y),u=F.m,N=F.e,e=J.m,B=c.m,j=q.l.au,T=q.l.CS,a=new Uint32Array(x.buffer),P=new Uint32Array(o.buffer);
for(var $=0;$<N;$++){var v=(I+$)*e+k,R=(V+$)*B+U;for(var y=0;y<u;y++){var t=a[v+y],Z=1;if(t>>>24==0)continue;
if(t>>>24==255&&b==1&&i==0){P[R+y]=a[v+y];continue}var g=P[R+y],H=t&255,_=t>>>8&255,Y=t>>>16&255,K=g&255,f=g>>>8&255,m=g>>>16&255,C=b,A=(g>>>24)*(1/255);
if(i==0){C=(t>>>24)*b*(1/255);Z=A}var d=Z*(1-C),G=C+d,r=1/G;P[R+y]=~~(.5+(i*A+(1-i)*G)*255)<<24|~~(.5+(Y*C+m*d)*r)<<16|~~(.5+(_*C+f*d)*r)<<8|~~(.5+(H*C+K*d)*r)}}};
q.l.a4s=function(x,J,o,c,E,b){var l=J.Kc(c).Kc(E),i=Math.max(0,l.x-J.x),F=Math.max(0,l.x-c.x),k=Math.max(0,l.y-J.y),U=Math.max(0,l.y-c.y),I=l.m,V=l.e,u=J.m,N=c.m,e=q.l.au,B=q.l.CS,j=new Uint32Array(x.buffer),T=new Uint32Array(o.buffer),a=Math.floor(Math.random()*16777215),P=0;
for(var $=0;$<V;$++){var v=(k+$)*u+i,R=(U+$)*N+F;for(var y=0;y<I;y++){var t=j[v+y];if(t>>>24==0)continue;
if(t>>24==255&&b==1){T[R+y]=t;continue}var g=T[R+y],H=(t>>>24)*b*(1/255),_=(g>>>24)*(1/255),Y=_*(1-H),K=H+Y,f=t&255,m=t>>>8&255,C=t>>>16&255,Z=g&255,A=g>>>8&255,d=g>>>16&255;
P>>>=8;if((y&3)==0)P=q.l.J_(R+y+a);var G=K==0?0:1/K,r=Math.floor(K*(256*255))+(P&255)>>>8,X=Math.floor((C*H+d*Y)*G+.5),w=Math.floor((m*H+A*Y)*G+.5),S=Math.floor((f*H+Z*Y)*G+.5);
T[R+y]=r<<24|X<<16|w<<8|S}}};q.l.NJ=function(x,J,o,c,E,b,l,i){var F=q.TM(x,J,o),k=q.TM(c,E,b),U=Math.min,I=q.l.a5F,V=I(F,i,0);
V=U(V,I(x,i,8));V=U(V,I(J,i,16));V=U(V,I(o,i,24));var u=I(k,i,4);u=U(u,I(c,i,12));u=U(u,I(E,i,20));u=U(u,I(b,i,28));
u=Math.max(u,1-l);var N=Math.min(V,u);return N<0?0:N>1?1:N};q.l.a5F=function(x,J,$){return Math.min((x-J[$])*J[$+1],(x-J[$+3])*J[$+2])};
q.l.anL=function(x,J,o,c,E,b,l,i){var F=1/255,k=F*b,U=i.R3?1:0,I=i.fill,V=i.style,u=J.Kc(c).Kc(E),N=Math.max(0,u.x-J.x),e=Math.max(0,u.x-c.x),B=Math.max(0,u.y-J.y),j=Math.max(0,u.y-c.y),T=u.m,a=u.e,P=J.m,v=c.m,R=new Uint32Array(x.buffer),y=new Uint32Array(o.buffer);
for(var $=0;$<a;$++){var t=(B+$)*P+N,g=(j+$)*v+e;for(var H=0;H<T;H++,t++,g++){var _=R[t],G=1;if(_>>>24==0)continue;
var Y=y[g],K=(_&255)*F,f=(_>>>8&255)*F,m=(_>>>16&255)*F,C=(Y&255)*F,Z=(Y>>>8&255)*F,A=(Y>>>16&255)*F,d=b;
if(U==0){d=(_>>>24)*k;G=(Y>>>24)*F}if(i.UJ)d*=q.l.NJ(K,f,m,C,Z,A,G,i.UJ);var r=G*(1-d),X=d+r,w=X==0?0:255/X,S=V?1:d,z=((1-G)*d*K+(1-S)*G*C+S*G*l(K,C,(1+d-S)*I))*w,s=((1-G)*d*f+(1-S)*G*Z+S*G*l(f,Z,(1+d-S)*I))*w,M=((1-G)*d*m+(1-S)*G*A+S*G*l(m,A,(1+d-S)*I))*w;
X=d*I+G*(1-d*I);var Q=~~(X*255+.5);y[g]=U*(Y>>>24)+(1-U)*Q<<24|M<<16|s<<8|z}}};q.l.aA1=function(x,J,o,c,E,b,l,i){var F=1/255,k=F*b,U=i.R3?1:0,I=J.Kc(c).Kc(E),V=Math.max(0,I.x-J.x),u=Math.max(0,I.x-c.x),N=Math.max(0,I.y-J.y),e=Math.max(0,I.y-c.y),B=I.m,j=I.e,T=new Uint32Array(x.buffer),a=new Uint32Array(o.buffer),P={o:0,I:0,J:0},v={o:0,I:0,J:0},R={o:0,I:0,J:0};
for(var $=0;$<j;$++){var y=(N+$)*J.m+V,t=(e+$)*c.m+u;for(var g=0;g<B;g++,y++,t++){var H=T[y],_=a[t],Y=(H&255)*F,K=(H>>>8&255)*F,f=(H>>>16&255)*F,m=(_&255)*F,C=(_>>>8&255)*F,Z=(_>>>16&255)*F,A=b,d=1;
if(U==0){A=(H>>>24)*k;d=(_>>>24)*F}if(i.UJ)A*=q.l.NJ(Y,K,f,m,C,Z,d,i.UJ);var G=d*(1-A),r=A+G,X=255/r;
P.o=Y;P.I=K;P.J=f;v.o=m;v.I=C;v.J=Z;l(P,v,R);var w=(((1-d)*Y+d*R.o)*A+m*G)*X,S=(((1-d)*K+d*R.I)*A+C*G)*X,z=(((1-d)*f+d*R.J)*A+Z*G)*X,s=U*(_>>>24)+(1-U)*Math.round(r*255);
a[t]=s<<24|z<<16|S<<8|w}}};q.l.eV=function(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;x=x*668265261;x=x^x>>15;
return(x&16777215)*(1/16777215)};q.l.J_=function(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;x=x*668265261;
x=x^x>>>15;return x};q.l.ce=function(x){this.XE=x};q.l.ce.prototype.get=function(){var x=this.XE=q.l.J_(this.XE);
return(x&16777215)*(1/16777215)};q.l.a78=function(x,J,o,c,E,b,l,i){var F=1/255,k=F*b,U=Math.round(b*(256*256*256/255)),I=J.Kc(c).Kc(E),V=Math.max(0,I.x-J.x),u=Math.max(0,I.x-c.x),N=Math.max(0,I.y-J.y),e=Math.max(0,I.y-c.y),B=I.m,j=I.e,T=new Uint32Array(x.buffer),a=new Uint32Array(o.buffer);
for(var $=0;$<j;$++){var P=(N+$)*J.m+V,v=(e+$)*c.m+u;for(var R=0;R<B;R++,P++,v++){var y=T[P],t=a[v],g=i*255+(1-i)*(y>>>24);
if((q.l.J_(P)&16777215)>=g*U)continue;a[v]=y&16777215|i*(t>>>24)+(1-i)*255<<24}}};q.l.awh=function(x,J,o){for(var $=0;
$<x.length;$+=4){var c=o[$>>>2];if(c==0)continue;var E=c*(1/255),b=1/E,l=J[$],i=J[$+1],F=J[$+2],k=x[$],U=x[$+1],I=x[$+2];
J[$]=Math.min(255,Math.max(0,Math.round((l-(1-E)*k)*b)));J[$+1]=Math.min(255,Math.max(0,Math.round((i-(1-E)*U)*b)));
J[$+2]=Math.min(255,Math.max(0,Math.round((F-(1-E)*I)*b)));J[$+3]=255}};q.l.UH=function(x,J,o,c,E,b,l,i,F,k,U){if(k==null)k=!1;
if(U==null)U=[1,1,1];var I=255<<24|U[2]*16711680|U[1]*65280|U[0]*255,V=~I;if(E&&!J.U5(b)){var u=q.R(J.P()*4);
u.fill(l);q.zc(E,b,u,J);E=u;b=J}if(k){if(E==null)q.l.aaJ(x,J,o,c,E,i,F,I,V);else q.l.av9(x,J,o,c,E,i,F)}else{if(E==null)q.l.a2w(x,J,o,c,E,i,F,I,V);
else q.l.ae8(x,J,o,c,E,i,F)}};q.l.a2w=function(x,J,o,c,E,b,l,i,F){var k=1/255,U=J.Kc(c).Kc(b),I=Math.max(0,U.x-J.x),V=Math.max(0,U.x-c.x),u=Math.max(0,U.y-J.y),N=Math.max(0,U.y-c.y),e=U.m,B=U.e,j=new Uint32Array(x.buffer),T=new Uint32Array(o.buffer),a=q.l.au,P=l*255&255;
for(var $=0;$<B;$++){var v=(u+$)*J.m+I,R=(N+$)*c.m+V;for(var y=0;y<e;y++,v++,R++){var t=j[v],g=T[R],H=t>>>24,_=g>>>24,Y=q.vS(P*H+(255-P)*_),K=q.vS(H*P),f=q.vS(_*(255-P)),m=t&255,C=t>>>8&255,Z=t>>>16&255,A=g&255,d=g>>>8&255,G=g>>>16&255,r=K*m+A*f,X=K*C+d*f,w=K*Z+G*f;
r=a[Y<<8|q.vS(r)];X=a[Y<<8|q.vS(X)];w=a[Y<<8|q.vS(w)];var S=Y<<24|w<<16|X<<8|r;T[R]=F&g|i&S}}};q.l.aaJ=function(x,J,o,c,E,b,l,i,F){var k=1/255,U=J.Kc(c).Kc(b),I=Math.max(0,U.x-J.x),V=Math.max(0,U.x-c.x),u=Math.max(0,U.y-J.y),N=Math.max(0,U.y-c.y),e=U.m,B=U.e,j=new Uint32Array(x.buffer),T=new Uint32Array(o.buffer),a=q.l.au,P=l*16777215&16777215;
for(var $=0;$<B;$++){var v=(u+$)*J.m+I,R=(N+$)*c.m+V;for(var y=0;y<e;y++,v++,R++){if((q.l.J_(v)&16777215)<P){T[R]=F&T[R]|i&j[v]}}}};
q.l.ae8=function(x,J,o,c,E,b,l){var i=1/255,F=J.Kc(c).Kc(b),k=Math.max(0,F.x-J.x),U=Math.max(0,F.x-c.x),I=Math.max(0,F.y-J.y),V=Math.max(0,F.y-c.y),u=F.m,N=F.e,e=new Uint32Array(x.buffer),B=new Uint32Array(o.buffer),j=q.l.au;
for(var $=0;$<N;$++){var T=(I+$)*J.m+k,a=(V+$)*c.m+U;for(var P=0;P<u;P++,T++,a++){var v=E[T]*l&255;if(v==0)continue;
if(v==255){B[a]=e[T];continue}var R=e[T],y=B[a],t=R>>>24,g=y>>>24,H=q.vS(v*t+(255-v)*g),_=q.vS(t*v),Y=q.vS(g*(255-v)),K=R&255,f=R>>>8&255,m=R>>>16&255,C=y&255,Z=y>>>8&255,A=y>>>16&255,d=j[H<<8|q.vS(_*K+C*Y)],G=j[H<<8|q.vS(_*f+Z*Y)],r=j[H<<8|q.vS(_*m+A*Y)];
B[a]=H<<24|r<<16|G<<8|d}}};q.l.av9=function(x,J,o,c,E,b,l){var i=1/255,F=J.Kc(c).Kc(b),k=Math.max(0,F.x-J.x),U=Math.max(0,F.x-c.x),I=Math.max(0,F.y-J.y),V=Math.max(0,F.y-c.y),u=F.m,N=F.e,e=new Uint32Array(x.buffer),B=new Uint32Array(o.buffer),j=q.l.au,T=Math.round(l*257);
for(var $=0;$<N;$++){var a=(I+$)*J.m+k,P=(V+$)*c.m+U;for(var v=0;v<u;v++,a++,P++){var R=E[a]*T;if((q.l.J_(a)&65535)<R)B[P]=e[a]}}};
q.l.azp=function(x,J,o,c,E,b,l){var i=1/255,F=J.Kc(c).Kc(b),k=Math.max(0,F.x-J.x),U=Math.max(0,F.x-c.x),I=Math.max(0,F.y-J.y),V=Math.max(0,F.y-c.y),u=F.m,N=F.e,e=new Uint32Array(x.buffer),B=new Uint32Array(o.buffer),j=Math.floor(Math.random()*c.P()),T=q.l.abg;
for(var $=0;$<N;$++){var a=(I+$)*J.m+k,P=(V+$)*c.m+U;for(var v=0;v<u;v++){var R=E[a+v]*l;if(R==0)continue;
if(R==255){B[P+v]=e[a+v];continue}var y=e[a+v],t=B[P+v],g=y>>>24,H=t>>>24,_=g*R*(1/255),Y=H*(255-R)*(1/255),K=y&255,f=y>>>8&255,m=y>>>16&255,C=t&255,Z=t>>>8&255,A=t>>>16&255,d=q.l.J_(P+v+j),G=Math.floor((_+Y)*256+.5)+(d>>>0&255)>>>8,r=G==0?0:256/(_+Y),X=K*_+C*Y,w=f*_+Z*Y,S=m*_+A*Y,z=Math.floor(X*r+.5)+(d>>>8&255)>>>8,s=Math.floor(w*r+.5)+(d>>>16&255)>>>8,M=Math.floor(S*r+.5)+(d>>>24&255)>>>8;
B[P+v]=G<<24|M<<16|s<<8|z}}};q.l.abg=function(x){return Math.floor(x+Math.random())};q.l.E2=function(x,J,o,c,E,b,l){var i=1/255,F=J.Kc(c).Kc(b),k=Math.max(0,F.x-J.x),U=Math.max(0,F.x-c.x),I=Math.max(0,F.y-J.y),V=Math.max(0,F.y-c.y),u=F.m,N=F.e;
for(var $=0;$<N;$++){var e=(I+$)*J.m+k,B=(V+$)*c.m+U;for(var j=0;j<u;j++,e++,B++){var T=l*E[e]*i;if(T==0)continue;
if(T==1){o[B]=x[e];continue}o[B]=x[e]*T+o[B]*(1-T)}}};q.aje=function(){function x(b){var l=b*.85;return Math.exp(-(l*l)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function J(b,l){var i=b<l?1:x((b-l)/Math.pow(1.001-l,.86));
return i}var o=[];function c(b){if(o[b])return o[b];var l=Math.pow(b,.55),i=new Float64Array(8e3),F=0,k=8e3;
for(var $=0;$<8e3;$++){var U=J($*(1.55/4e3),l);if(U>=1)F=$;else if(U<=0&&k==8e3)k=$;i[$]=U}var I=[i,F,k];
o[b]=I;return I}function E(b,l,i){var F=1+.55*(1-l),k=Math.round(i*b*F)+2,U=new ha(0,0,k,k),I=q.R(k*k),V=[I,U],u=k/2,N=F/(u-1),e=Date.now(),B=c(l),j=Math.round(8e3/u),T=B[0],a=B[1]-j,P=B[2]+j,v=Math.min(k,k+1>>>1),R=N*.4*(4e3/1.55),y=q.R(8e3);
for(var $=0;$<8e3;$++){var t=$,g=$,H=~~Math.max(0,t-R-R),_=~~Math.max(0,t-R),Y=~~(t+R),K=~~(t+R+R),f=~~(.5+255*(1/5)*(T[g]+T[H]+T[_]+T[Y]+T[K]));
y[$]=f;if(f==0)break}for(var $=0;$<v;$++){var m=N*($-u+.5),C=m*m,Z=$*k,A=(k-1-$)*k;for(var d=0;d<v;d++){var G=N*(d-u+.5),g=~~(Math.sqrt(G*G+C)*(4e3/1.55));
if(P<g)continue;else if(g<a){var f=255;while(d<v){var r=k-1-d;I[Z+d]=f;I[Z+r]=f;I[A+d]=f;I[A+r]=f;d++}break}else{var f=y[g],r=k-1-d;
I[Z+d]=f;I[Z+r]=f;I[A+d]=f;I[A+r]=f}}}return V}return{akv:E}}();q.i3={};q.i3.aj1=function(x,J,o,c,E,b){q.i3.qq(x,J,o,c,E,b,null,0)};
q.i3.a30=function(x,J,o,c,E){q.i3.qq(x,J,o,c,E,null,null,0)};q.i3.aef=function(x,J,o,c,E,b,l){q.i3.qq(x,J,o,c,E,null,b,l*.5)};
q.i3.qq=function(x,J,o,c,E,b,l,i){var F=0,Y=0,K=1e9,f=0,m=1e9,C=0,Z=1e9,A=0,d=0,G=0,r=0;if(b){F=E*.5;
E=3+Math.round((E-3)*.75)}if(l){E=Math.round(E*2.2)}var k=1/E,U=Math.floor(J*k)+1,I=Math.floor(o*k)+1,V=[],u=new Uint8Array(U*I*4),N=l?.5:1,e=b?64:0;
for(var B=0;B<I;B++){var j=l?.5*(B&1):0;for(var T=0;T<U;T++){var a=(T+Math.random()*N+j)*E,P=(B+Math.random()*N)*E;
V.push(a,P);var v=Math.min(J-1,Math.floor(a)),R=Math.min(o-1,Math.floor(P)),y=(R*J+v)*4,t=(B*U+T)*4;
for(var $=0;$<4;$++)u[t+$]=Math.max(0,Math.min(255,Math.floor(x[y+$]+(Math.random()-.5)*e)))}}var g=b?b:l?l:[0,0,0],H=U*I*2,_=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var B=0;B<o;B++){G=0;for(var T=0;T<J;T++){var X=T+.5,w=B+.5,S=Math.floor(w*k),z=Math.floor(X*k),s=S*U+z,O=0,W=0;
if(G>1+i){K=q.i3.anj(V,Y,X,w);A=Math.sqrt(K);G--;r++}else{K=m=Z=1e9;for(var $=0;$<_.length;$++){var M=(s+_[$])*2;
if(M<0||M>=H)continue;var Q=q.i3.anj(V,M,X,w);if(Q<Z){if(Q<m){if(Q<K){C=f;Z=m;f=Y;m=K;Y=M;K=Q}else{C=f;
Z=m;f=M;m=Q}}else{C=M;Z=Q}}}A=Math.sqrt(K);d=Math.sqrt(m);G=d-(A+d)*.5}if(l==null){var e9=(A+d)*.5,jV=b?Math.max(0,e9-F):0;
O=Math.max(0,Math.min(1,.5+e9-A-jV));W=Math.max(0,Math.min(1,1-(.5+e9-A)-jV))}else{var co=Math.min(q.i3.aD4(V,Y,f,X,w),q.i3.aD4(V,Y,C,X,w));
O=Math.max(0,Math.min(1,co-i*.5));if(X<i||J-i<X||w<i||o-i<w)O=0;W=0}var dz=1-W-O,t=B*J+T<<2,eh=Y<<1,a9=f<<1;
c[t+0]=Math.floor(.5+O*u[eh+0]+W*u[a9+0]+dz*g[0]);c[t+1]=Math.floor(.5+O*u[eh+1]+W*u[a9+1]+dz*g[1]);
c[t+2]=Math.floor(.5+O*u[eh+2]+W*u[a9+2]+dz*g[2]);c[t+3]=x[t+3]}}};q.i3.anj=function(x,J,o,c){var E=o-x[J],b=c-x[J+1];
return E*E+b*b};q.i3.aD4=function(x,J,o,c,E){var b=x[J],l=x[J+1],i=x[o],F=x[o+1],k=(b+i)*.5,U=(l+F)*.5,I=k+(F-l),V=U-(i-b),u=V-U,N=I-k;
return Math.abs(u*c-N*E+I*U-V*k)/Math.sqrt(N*N+u*u)};q.JS={};q.JS.yQ=function(x){if(q.JS.$p.length<x)q.JS.$p=q.R(x);
return q.JS.$p};q.JS.$p=q.R(0);q.JS.a67=function(x){if(q.JS.Ty.length<x)q.JS.Ty=new Float32Array(x);
return q.JS.Ty};q.JS.Ty=new Float32Array(0);q.JS.Bp=function(x,J,o,c){var E=o.m,b=o.e;q.JS.ajP(x,J,E,b,c)};
q.JS.gu=function(x,J,o,c){var E=o.m,b=o.e;q.JS.aqy(x,J,E,b,c)};q.JS.atM=function(x,J,o){var c=J.m,E=J.e;
q.JS.atK(x,c,E,o)};q.JS.In=function(x,J,o,c,E){var b=o.m,l=o.e;q.JS.aih(x,J,b,l,c,E)};q.JS.acy=function(x,J,o,c){var E=o.m,b=o.e;
c=Math.round(c);var l=q.JS.yQ(E*b);q.N8(x,J);q.JS.Cv(J,l,E,b,c)};q.JS.lM=function(x,J,o){var c=J.m,E=J.e;
o=Math.round(o);var b=q.JS.yQ(c*E*4);q.JS._W(x,b,c,E,o)};q.JS.t4=function(x,J,o,c){var E=o.m,b=o.e;c=Math.round(c);
var l=q.JS.a67(E*b);q.N8(x,J);q.JS.ay9(J,l,E,b,c)};q.JS.av1=function(x,J,o){var c=J.m,E=J.e;o=Math.round(o);
var b=q.JS.yQ(c*E*4);q.JS.awy(x,b,c,E,o);q.N8(b,x)};q.JS.OF=function(x,bz){var J=Math.sqrt(12*x*x/bz+1),o=Math.floor(J);
if(o%2==0)o--;var c=o+2,E=(12*x*x-bz*o*o-4*bz*o-3*bz)/(-4*o-4),b=Math.round(E),l=[];for(var $=0;$<bz;
$++)l.push($<b?o:c);return l};q.JS.ajP=function(x,J,o,c,E){var b=q.JS.OF(E,3),l=q.JS.yQ(o*c);q.N8(x,J);
q.JS.Cv(J,l,o,c,b[0]-1>>1);q.JS.Cv(J,l,o,c,b[1]-1>>1);q.JS.Cv(J,l,o,c,b[2]-1>>1)};q.JS.aqy=function(x,J,o,c,E){var b=q.JS.OF(E,2),l=q.JS.yQ(o*c);
q.N8(x,J);q.JS.Cv(J,l,o,c,b[0]-1>>1);q.JS.Cv(J,l,o,c,b[1]-1>>1)};q.JS.atK=function(x,J,o,c){var E=q.JS.OF(c,3),b=q.JS.yQ(J*o*4);
q.JS._W(x,b,J,o,E[0]-1>>1);q.JS._W(x,b,J,o,E[1]-1>>1);q.JS._W(x,b,J,o,E[2]-1>>1)};q.JS.aih=function(x,J,o,c,E,b){if(b==null)b=3;
var l=q.JS.OF(E,b),i=q.JS.a67(o*c);q.N8(x,J);for(var $=0;$<b;$++)q.JS.ay9(J,i,o,c,(l[$]-1)/2)};q.JS.Cv=function(x,J,o,c,E){q.JS.avi(x,J,o,c,E);
q.JS.a5X(J,x,o,c,E)};q.JS._W=function(x,J,o,c,E){q.JS.awy(x,J,o,c,E);q.JS.aqd(J,x,o,c,E)};q.JS.ay9=function(x,J,o,c,E){q.JS.ag4(x,J,o,c,E);
q.JS.a90(J,x,o,c,E)};q.JS.w_=[];q.JS.jz=function(x){if(q.JS.w_[x])return q.JS.w_[x];var J=1/(x+x+1),o=(x+x+1)*256,c=q.R(o);
for(var $=0;$<o;$++)c[$]=Math.round($*J);q.JS.w_[x]=c;return c};q.JS.avi=function(x,J,o,c,E){var b=1/(E+E+1),l=o-E-E-1,i=q.JS.jz(E);
for(var $=0;$<c;$++){var F=$*o,k=F,U=F+E,I=x[F],V=x[F+o-1],u=(E+1)*I;for(var N=0;N<E;N++)u+=x[F+N];for(var N=0;
N<=E;N++){u+=x[U+N]-I;J[F+N]=i[u]}U+=E+1;F+=E+1;for(var N=0;N<l;N++){u+=x[U+N]-x[k+N];J[F+N]=i[u]}U+=l;
k+=l;F+=l;for(var N=o-E;N<o;N++){u+=V-x[k++];J[F++]=i[u]}}};q.JS.awy=function(x,J,o,c,E){var b=o<<2,l=E<<2,i=1/(E+E+1),F=o-E-E-1,k=F<<2,U=q.JS.jz(E);
for(var $=0;$<c;$++){var I=$*b,V=I,u=I+l,N=I+b,e=x[I],B=x[I+1],j=x[I+2],T=x[I+3],a=(E+1)*e,P=(E+1)*B,v=(E+1)*j,R=(E+1)*T;
for(var y=0;y<l;y+=4){a+=x[I+y];P+=x[I+y+1];v+=x[I+y+2];R+=x[I+y+3]}for(var y=0;y<=l;y+=4){a+=x[u]-e;
J[I]=U[a];P+=x[u+1]-B;J[I+1]=U[P];v+=x[u+2]-j;J[I+2]=U[v];R+=x[u+3]-T;J[I+3]=U[R];u+=4;I+=4}for(var y=0;
y<k;y+=4){a+=x[u+y]-x[V+y];J[I+y]=U[a];P+=x[u+y+1]-x[V+y+1];J[I+y+1]=U[P];v+=x[u+y+2]-x[V+y+2];J[I+y+2]=U[v];
R+=x[u+y+3]-x[V+y+3];J[I+y+3]=U[R]}u+=k;V+=k;I+=k;e=x[N-4];B=x[N-3];j=x[N-2];T=x[N-1];for(var y=o-E;
y<o;y++){a+=e-x[V];J[I]=U[a];P+=B-x[V+1];J[I+1]=U[P];v+=j-x[V+2];J[I+2]=U[v];R+=T-x[V+3];J[I+3]=U[R];
V+=4;I+=4}}};q.JS.ag4=function(x,J,o,c,E){var b=1/(E+E+1),l=o-E-E-1;for(var $=0;$<c;$++){var i=$*o,F=i,k=i+E,U=x[i],I=x[i+o-1],V=(E+1)*U;
for(var u=0;u<E;u++)V+=x[i+u];for(var u=0;u<=E;u++){V+=x[k+u]-U;J[i+u]=V*b}k+=E+1;i+=E+1;for(var u=0;
u<l;u++){V+=x[k+u]-x[F+u];J[i+u]=V*b}k+=l;F+=l;i+=l;for(var u=o-E;u<o;u++){V+=I-x[F++];J[i++]=V*b}}};
q.JS.a5X=function(x,J,o,c,E){var b=1/(E+E+1),l=c-E-E-1,i=q.JS.jz(E);for(var $=0;$<o;$++){var F=$,k=F,U=F+E*o,I=x[F],V=x[F+o*(c-1)],u=(E+1)*I;
for(var N=0;N<E;N++)u+=x[F+N*o];for(var N=0;N<=E;N++){u+=x[U]-I;J[F]=i[u];U+=o;F+=o}for(var N=0;N<l;
N++){var e=N*o;u+=x[U+e]-x[k+e];J[F+e]=i[u]}k+=l*o;U+=l*o;F+=l*o;for(var N=c-E;N<c;N++){u+=V-x[k];J[F]=i[u];
k+=o;F+=o}}};q.JS.aqd=function(x,J,o,c,E){var b=o<<2,l=E<<2,i=1/(E+E+1),F=c-E-E-1,k=F<<2,U=q.JS.jz(E);
for(var $=0;$<o;$++){var I=$<<2,V=I,u=I+E*b,N=I+b*(c-1),e=x[I],B=x[I+1],j=x[I+2],T=x[I+3],a=(E+1)*e,P=(E+1)*B,v=(E+1)*j,R=(E+1)*T;
for(var y=0;y<E;y++){var t=I+y*b;a+=x[t];P+=x[t+1];v+=x[t+2];R+=x[t+3]}for(var y=0;y<=E;y++){a+=x[u]-e;
J[I]=U[a];P+=x[u+1]-B;J[I+1]=U[P];v+=x[u+2]-j;J[I+2]=U[v];R+=x[u+3]-T;J[I+3]=U[R];u+=b;I+=b}for(var y=0;
y<F;y++){var g=y*b;a+=x[u+g]-x[V+g];J[I+g]=U[a];P+=x[u+g+1]-x[V+g+1];J[I+g+1]=U[P];v+=x[u+g+2]-x[V+g+2];
J[I+g+2]=U[v];R+=x[u+g+3]-x[V+g+3];J[I+g+3]=U[R]}V+=F*b;u+=F*b;I+=F*b;e=x[N];B=x[N+1];j=x[N+2];T=x[N+3];
for(var y=c-E;y<c;y++){a+=e-x[V];J[I]=U[a];P+=B-x[V+1];J[I+1]=U[P];v+=j-x[V+2];J[I+2]=U[v];R+=T-x[V+3];
J[I+3]=U[R];V+=b;I+=b}}};q.JS.a90=function(x,J,o,c,E){var b=1/(E+E+1),l=c-E-E-1;for(var $=0;$<o;$++){var i=$,F=i,k=i+E*o,U=x[i],I=x[i+o*(c-1)],V=(E+1)*U;
for(var u=0;u<E;u++)V+=x[i+u*o];for(var u=0;u<=E;u++){V+=x[k]-U;J[i]=V*b;k+=o;i+=o}for(var u=0;u<l;u++){var N=u*o;
V+=x[k+N]-x[F+N];J[i+N]=V*b}F+=l*o;k+=l*o;i+=l*o;for(var u=c-E;u<c;u++){V+=I-x[F];J[i]=V*b;F+=o;i+=o}}};
q.bf={};q.bf.R=function(x,J,o,c){var E=[];for(var b=0;b<4;b++)for(var l=0;l<4;l++)E.push(x+o*l/3,J+c*b/3);
return E};q.bf.ayz=function(x,J){var o=x.slice(0);for(var $=0;$<4;$++)for(var c=0;c<4;c++){var E=2*($*4+c),b=2*(c*4+(3-$));
if(J){var l=E;E=b;b=l}o[b]=x[E];o[b+1]=x[E+1]}return o};q.bf.RN=q.R(0);q.bf.drawImage=function(x,J,o,c,E,b,l){var i=!1,F=Date.now(),k=2,U=o+2*k,I=c+2*k,V=new ha(k,k,o,c),u=V.clone();
u.wI(k,k);var N=q.bf.RN;if(N.length!=u.P()*4)N=q.bf.RN=q.R(u.P()*4);else N.fill(0);q.St(J,V,N,u);if(i)console.log(Date.now()-F,"copy rect");
F=Date.now();q.u4(N);if(i)console.log(Date.now()-F,"multiply alpha");F=Date.now();var e=Math.max(o,c),B=Math.round(50*o/e),j=Math.round(Math.sqrt(3)*.5*50*c/e),T=B-.5,a=[],P=[],v=[];
for(var R=0;R<j+1;R++){var y=(R&1)==0;for(var t=0;t<B+1;t++){var g=(t-(y?.5:0))/T,H=R/j;if(t==0)g=0;
if(t==B)g=1;a.push(U*g,I*H);if(t<B&&R<j){var _=R*(B+1)+t,Y=_+1,K=_+B+1,f=K+1;if(y)P.push(_,Y,K,K,Y,f);
else P.push(_,Y,f,_,f,K)}var m=q.bf.a7w(x,g,H);v.push(-m)}}var C=a.slice(0);q.bf.M(x,C,V);q.O.M(C,new cW(1,0,0,1,-b.x,-b.y),C);
if(i)console.log(Date.now()-F,"mesh built");F=Date.now();var Z=b.m,A=b.e;q.bq.tV(N,U,I,E,Z,A,a,C,v,P,l);
if(i)console.log(Date.now()-F,"rendered");F=Date.now();q.jB(E);if(i)console.log(Date.now()-F,"divided");
F=Date.now()};q.bf.f_=new Array(10);q.bf.GB=function(x,J){var o=200,c=0,E=0,b=1e9,l=q.bf.f_;for(var i=0;
i<o+1;i++)for(var F=0;F<o+1;F++){var k=F/o,U=i/o;q.bf.aCe(x,k,U,l);var I=l[8]-J.x,V=l[9]-J.y,u=I*I+V*V;
if(u<b){b=u;c=k;E=U}}return[c,E]};q.bf.M=function(x,J,o){var c=o.x,E=o.y,b=1/o.m,l=1/o.e,i=q.bf.f_;for(var F=0;
F<J.length;F+=2){var k=(J[F]-c)*b,U=(J[F+1]-E)*l;q.bf.aCe(x,k,U,i);J[F]=i[8];J[F+1]=i[9]}};q.bf.a7w=function(x,J,o){var c,E,b,l,i=q.bf.f_;
q.bf.aj3(x,J,o,i);c=i[8];E=i[9];q.bf.aBs(x,J,o,i);b=i[8];l=i[9];return c*l-E*b};q.bf.hJ=function(x,J,o){var c=0,E=0,b=x[2][0],l=x[2][1];
while(c+2<b.length&&b[c+1]<J)c++;J=(J-b[c])/(b[c+1]-b[c]);while(E+2<l.length&&l[E+1]<o)E++;o=(o-l[E])/(l[E+1]-l[E]);
return[c*3,E*3,J,o]};q.bf.aCe=function(x,J,o,c){var E=q.bf.hJ(x,J,o);q.bf.Hk(c,0,E[3]);q.bf.Hk(c,4,E[2]);
q.bf.Zb(x[3],E[0],E[1],x[0],c)};q.bf.aj3=function(x,J,o,c){var E=q.bf.hJ(x,J,o);q.bf.Hk(c,0,E[3]);q.bf.ahN(c,4,E[2]);
q.bf.Zb(x[3],E[0],E[1],x[0],c)};q.bf.aBs=function(x,J,o,c){var E=q.bf.hJ(x,J,o);q.bf.ahN(c,0,E[3]);q.bf.Hk(c,4,E[2]);
q.bf.Zb(x[3],E[0],E[1],x[0],c)};q.bf.ahN=function(x,$,J){var o=1-J;x[$]=-3*(o*o);x[$+1]=3*(o*o)-6*(J*o);
x[$+2]=6*(J*o)-3*(J*J);x[$+3]=3*(J*J)};q.bf.Hk=function(x,$,J){var o=1-J;x[$]=o*(o*o);x[$+1]=3*J*(o*o);
x[$+2]=3*(J*J)*o;x[$+3]=J*J*J};q.bf.ahb=function(x,J,o,c,E){var b=q.bf.hJ(x,J,o),l=b[0],i=b[1],F=b[2],k=b[3],U=x[0],I=Math.floor(F*3),V=Math.floor(k*3),u=q.bf.f_,N=16,y=0;
q.bf.Hk(u,0,k);q.bf.Hk(u,4,F);var e=[],B=[],j=[];for(var T=0;T<4;T++){for(var a=0;a<4;a++){var $=T*4+a,P=u[T]*u[4+a];
e.push(P);B.push((i+T)*U+l+a);if((T==V||T==V+1)&&(a==I||a==I+1)){var v=F*3-I;if(a==I)v=1-v;var R=k*3-V;
if(T==V)R=1-R;j[$]=v*R/P}else j[$]=0}}for(var $=0;$<N;$++)y+=e[$]*j[$];for(var $=0;$<N;$++)j[$]/=y;for(var $=0;
$<N;$++){var P=e[$],t=B[$];x[3][t*2]+=j[$]*c;x[3][t*2+1]+=j[$]*E}};q.bf.NB=function(x){var J=x[0],o=x[1],c=x[2],E=x[3],b=E.slice(0);
for(var l=0;l<o;l++)for(var i=0;i<J;i++){E[(i*o+l)*2]=b[(l*J+i)*2];E[(i*o+l)*2+1]=b[(l*J+i)*2+1]}x[0]=o;
x[1]=J;x[2]=[c[1],c[0]]};q.bf.split=function(x,J,o){if(J==1)q.bf.NB(x);var c=x[0],E=x[1],b=x[2][0],l=x[3],i=0;
while(b[i+1]&&b[i+1]<o)i++;var F=(o-b[i])/(b[i+1]-b[i]),k=1-F;for(var U=0;U<E;U++){var $=(U*(c+3)+i*3)*2,I=k*l[$]+F*l[$+2],V=k*l[$+1]+F*l[$+3],u=k*l[$+2]+F*l[$+4],N=k*l[$+3]+F*l[$+5],e=k*l[$+4]+F*l[$+6],B=k*l[$+5]+F*l[$+7],j=k*I+F*u,T=k*V+F*N,a=k*u+F*e,P=k*N+F*B,v=k*j+F*a,R=k*T+F*P;
l.splice($+2,4,I,V,j,T,v,R,a,P,e,B)}b.push(o);b.sort();x[0]+=3;if(J==1)q.bf.NB(x)};q.bf.Zb=function(x,J,o,c,E){var b=0,l=0,i=0,F=E[0],k=E[1],U=E[2],I=E[3],V=E[4],u=E[5],N=E[6],e=E[7],$=(o*c+J)*2;
i=F*V;b+=x[$+0]*i;l+=x[$+1]*i;i=F*u;b+=x[$+2]*i;l+=x[$+3]*i;i=F*N;b+=x[$+4]*i;l+=x[$+5]*i;i=F*e;b+=x[$+6]*i;
l+=x[$+7]*i;$+=c+c;i=k*V;b+=x[$+0]*i;l+=x[$+1]*i;i=k*u;b+=x[$+2]*i;l+=x[$+3]*i;i=k*N;b+=x[$+4]*i;l+=x[$+5]*i;
i=k*e;b+=x[$+6]*i;l+=x[$+7]*i;$+=c+c;i=U*V;b+=x[$+0]*i;l+=x[$+1]*i;i=U*u;b+=x[$+2]*i;l+=x[$+3]*i;i=U*N;
b+=x[$+4]*i;l+=x[$+5]*i;i=U*e;b+=x[$+6]*i;l+=x[$+7]*i;$+=c+c;i=I*V;b+=x[$+0]*i;l+=x[$+1]*i;i=I*u;b+=x[$+2]*i;
l+=x[$+3]*i;i=I*N;b+=x[$+4]*i;l+=x[$+5]*i;i=I*e;b+=x[$+6]*i;l+=x[$+7]*i;$+=c+c;E[8]=b;E[9]=l};q.w$={};
q.w$.azZ=function(x,J,o){var c=Date.now(),E=new ArrayBuffer(J*o*16),b=q.w$.a9v(x,J,o,E),l=q.w$.acD(J,o,E);
return{V7:l,dg:b}};q.w$.aaH=function(x,J,o){var c=Math.round(x.length/8),E=new Uint32Array(c),b=new Uint8Array(c),l=new Uint32Array(c);
q.xj(E,4294967295,0);E[o]=0;var i=new eA(c);i.push(o,E[o]);var F={V7:x,dg:J,X3:E,wT:b,OQ:l,FQ:i,a3w:o};
return F};q.w$.q3=function(x,J){var o=x.V7,c=x.dg,E=x.X3,b=x.wT,l=x.OQ,i=x.FQ;while(!i.Kx()&&(J==null||b[J]==0)){var F=i.pop();
b[F]=1;for(var $=0;$<8;$++){var k=o[8*F+$],U=F+k;if(k==0||b[U])continue;var I=E[F]+c[8*F+$];if(i.contains(U)&&I<E[U])i.remove(U,E[U]);
if(!i.contains(U)){E[U]=I;l[U]=F;i.push(U,E[U])}}}};function eA(x){this.__=new Uint32Array(x);this.list=[];
this.Pz=0;this.DR=4294967295}eA.prototype.Kx=function(){return this.Pz==0};eA.prototype.push=function(x,J){var o=this.list;
if(o[J]==null)o[J]=[];o[J].push(x);this.Pz++;this.__[x]=o[J].length-1+1;this.DR=Math.min(this.DR,J)};
eA.prototype.pop=function(){this.Pz--;var x=this.list,J=this.DR,o=x[J].pop();if(x[J].length==0)x[J]=null;
this.a0e();this.__[o]=0;return o};eA.prototype.contains=function(x){return this.__[x]!=0};eA.prototype.remove=function(x,J){this.Pz--;
var o=this.list,$=this.__[x]-1;if($==o[J].length-1)o[J].pop();else{var c=o[J].pop();o[J][$]=c;this.__[c]=$+1}if(o[J].length==0)o[J]=null;
this.__[x]=0;this.a0e()};eA.prototype.a0e=function(){if(this.Pz==0){this.DR=4294967295;return}var x=this.DR,J=this.list;
while(J[x]==null)x++;this.DR=x};q.w$.al_=function(x,J,o,c){var E=new Int16Array(c);for(var b=0;b<o;b++)for(var l=0;
l<J;l++){var $=b*J+l,i=0;if(1<l&&l<J-2&&1<b&&b<o-2){i+=x[$-J-J];i+=x[$-J-1]+2*x[$-J]+x[$-J+1];i+=x[$-2]+2*x[$-1]-16*x[$]+2*x[$+1]+x[$+2];
i+=x[$+J-1]+2*x[$+J]+x[$+J+1];i+=x[$+J+J]}else i=-16*x[$];E[$]=i}return E};q.w$.agW=function(x,J,o,c){if(c==null)c=128;
var E=new Uint8Array(J*o);for(var b=1;b<o-1;b++)for(var l=1;l<J-1;l++){var $=b*J+l;E[$]=q.w$.a3l(x[$],x[$-1],x[$+1],x[$-J],x[$+J],c)}return E};
q.w$.a3l=function(x,J,o,c,E,b){var l=Math.abs(x);return x*J<0&&l<Math.abs(J)&&Math.abs(J-x)>b||x*o<0&&l<Math.abs(o)&&Math.abs(o-x)>b||x*c<0&&l<Math.abs(c)&&Math.abs(c-x)>b||x*E<0&&l<Math.abs(E)&&Math.abs(E-x)>b?1:0};
q.w$.a8r=function(x,J,o,c){var E=new Float32Array(c),b=0;new Uint32Array(c).fill(0);for(var l=0;l<o;
l++)for(var i=0;i<J;i++){var F=0,k=0,$=l*J+i,U=$*3;if(0<i&&i<J-1)F=x[$+1]-x[$-1];if(0<l&&l<o-1)k=x[$+J]-x[$-J];
var I=E[U+2]=Math.sqrt(F*F+k*k);if(I!=0){var V=1/I;E[U]=F*V;E[U+1]=k*V}if(I>b)b=I}var u=J*o,N=b==0?0:1/b;
for(var $=0;$<u;$++)E[$*3+2]=1-E[$*3+2]*N;return E};q.w$.awA=function(x,J,o){return o[~~((.5+.5*x)*255)]+o[~~((.5+.5*J)*255)]};
q.w$.a9v=function(x,J,o,c){var E=Date.now(),b=q.w$.al_(x,J,o,c),l=q.w$.agW(b,J,o),i=q.w$.a8r(x,J,o,c),F=new Float32Array(256);
for(var $=0;$<256;$++)F[$]=Math.acos(-1+2*$/255)*(.95/Math.PI);var k=[-1,0,1,1,1,0,-1,-1],U=[-1,-1,-1,0,1,1,1,0];
for(var $=0;$<8;$++){var I=1/Math.sqrt(k[$]*k[$]+U[$]*U[$]);k[$]*=I;U[$]*=I}var V=[k[0],U[0],k[1],U[1],k[2],U[2],k[3],U[3]],u=[-J-1,-J,-J+1,1],N=new Uint8Array(J*o*8);
new Uint32Array(N.buffer).fill(4294967295);var e=J*o;for(var B=1;B<o-1;B++)for(var j=1;j<J-1;j++){var T=B*J+j,a=1-l[T],P=i[T*3+2],v=i[3*T+1],R=-i[3*T];
for(var y=0;y<4;y++){var t=T+u[y];q.w$.akt(T,t,y,N,l,i,a,P,v,R,V,F)}}return N};q.w$.akt=function(x,J,o,c,E,b,l,i,F,k,U,I){var V=1-E[J],u=(o&1)==0?1:Math.SQRT1_2,N=b[J*3+2]*u,e=b[3*J+1],B=-b[3*J],j=i*u,T=U[o+o],a=U[o+o+1],P=F*T+k*a,v=e*T+B*a;
if(P+v<0){P=-P;v=-v}var R=q.w$.awA(P,v,I);c[(x<<3)+o]=q.w$.aBd(V,R,N);c[(J<<3)+o+4]=q.w$.aBd(l,R,j)};
q.w$.aBd=function(x,J,o){return 1+~~(.5+20*(.43*x+.43*J+.14*o))};q.w$.acD=function(x,J,o){var c=new Int16Array(o),E=c,$=0,b=0;
new Uint32Array(o).fill(0);for(var l=0;l<J;l++)for(var i=0;i<x;i++){if(l>0&&i>0)E[b+0]=-x-1;if(l>0)E[b+1]=-x;
if(l>0&&i<x-1)E[b+2]=-x+1;if(i<x-1)E[b+3]=1;if(l<J-1&&i<x-1)E[b+4]=x+1;if(l<J-1)E[b+5]=x;if(l<J-1&&i>0)E[b+6]=x-1;
if(i>0)E[b+7]=-1;$++;b+=8}return c};q.wh={};q.wh.el=function(x){var J=x.slice(0),o=0;for(var $=0;$<x.length;
$++)o+=x[$];for(var $=0;$<x.length;$++)J[$]/=o;return J};q.wh.KG=[q.wh.el([1,2,1,2,16,2,1,2,1]),q.wh.el([1,2,1,2,4,2,1,2,1]),q.wh.el([0,-1,0,-1,8,-1,0,-1,0]),q.wh.el([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
q.wh.eh=function(x,J,o,c,E,b,l,i){if(l==null)l=!1;if(i==null)i=!1;var F=Math.floor(Math.sqrt(E.length)),k=F-1>>>1,U=new Uint32Array(x.buffer),J=new Uint8ClampedArray(J.buffer);
for(var $=0;$<c;$++)for(var I=0;I<o;I++){var V=0,u=0,N=0,e=0;for(var B=0;B<F;B++)for(var j=0;j<F;j++){var T=E[B*F+j];
if(T==0)continue;var a=I-k+j,P=$-k+B;if(a<0)a=0;else if(a>o-1)a=o-1;if(P<0)P=0;else if(P>c-1)P=c-1;if(i&&U[P*o+a]>>>24==0){P=$;
a=I}var v=U[P*o+a];V+=(v&255)*T;u+=(v>>>8&255)*T;N+=(v>>>16&255)*T;e+=(v>>>24&255)*T}if(l){if(V<0)V=-V;
if(u<0)u=-u;if(N<0)N=-N;if(e<0)e=-e}if(i){V=Math.max(0,Math.min(255,V));u=Math.max(0,Math.min(255,u));
N=Math.max(0,Math.min(255,N));e=Math.max(0,Math.min(255,e))}var R=$*o+I<<2;J[R]=~~(.5+V);J[R+1]=~~(.5+u);
J[R+2]=~~(.5+N);J[R+3]=255-b&J[R+3]|b&~~(.5+e)}};q.wh.apW=function(x,J,o,c){var E=x.length,b=new Uint8Array(E);
q.wh.eh(x,J,o,c,q.wh.KG[4],0,!0);q.wh.eh(x,b,o,c,q.wh.KG[5],0,!0);for(var $=0;$<E;$+=4){var l=J[$],i=J[$+1],F=J[$+2],k=J[$+3],U=b[$],I=b[$+1],V=b[$+2],u=b[$+3];
J[$]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+U*U)));J[$+1]=255-Math.max(0,Math.min(255,Math.sqrt(i*i+I*I)));
J[$+2]=255-Math.max(0,Math.min(255,Math.sqrt(F*F+V*V)))}};q.wh.aaz=function(x,J,o,c){var E=x.length,b=new Uint8Array(E);
q.wh.Xy(x,J,o,c,q.wh.KG[4],!0);q.wh.Xy(x,b,o,c,q.wh.KG[5],!0);for(var $=0;$<E;$++){var l=J[$],i=b[$];
J[$]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+i*i)))}};q.wh.Xy=function(x,J,o,c,E,b){J=new Uint8ClampedArray(J.buffer);
var l=[-o-1,-o,-o+1,-1,0,1,o-1,o,o+1],i=c-1,F=o-1;for(var $=1;$<i;$++)for(var k=1;k<F;k++){var U=$*o+k,I=q.wh.K8(x,U,o,E);
if(b){if(I<0)I=-I}J[U]=~~(I+.5)}};q.wh.K8=function(x,J,o,c){return x[J-o-1]*c[0]+x[J-o]*c[1]+x[J-o+1]*c[2]+x[J-1]*c[3]+x[J]*c[4]+x[J+1]*c[5]+x[J+o-1]*c[6]+x[J+o]*c[7]+x[J+o+1]*c[8]};
q.wh.aoL=function(x,J,o,c,E){var b=[-o-1,-o,-o+1,-1,0,1,o-1,o,o+1],l=c-1,i=o-1;for(var $=1;$<l;$++)for(var F=1;
F<i;F++){var k=$*o+F;J[k]=q.wh.azk(x,k,o,E)}};q.wh.azk=function(x,J,o,c){return x[J-o-1]*c[0]+x[J-o]*c[1]+x[J-o+1]*c[2]+x[J-1]*c[3]+x[J]*c[4]+x[J+1]*c[5]+x[J+o-1]*c[6]+x[J+o]*c[7]+x[J+o+1]*c[8]};
q.i9={};q.i9.uN=function(){function x(l,i,F,k,U,I){if(U==0){i.set(l);return}var V=q.R(F*k),u=q.R(F*k);
if(q._6(l)){J(l,i,F,k,U,I);q.z$(l,V,3);q.i9.aaq(V,u,F,k,U,I);q.qR(u,i,3)}else{for(var $=0;$<3;$++){q.z$(l,V,$);
q.i9.aaq(V,u,F,k,U,I);q.qR(u,i,$)}}}function J(l,i,F,k,U,I){var V=0,u=new ArrayBuffer(512*4*3),N=[new Int32Array(u,0),new Int32Array(u,2048),new Int32Array(u,2*2048)],e=1+2*Math.round(Math.sqrt(U)),B=e>>>1,j=new Array(e),T=new Array(e);
for(var $=0;$<e;$++){var u=new ArrayBuffer(512*4*3);j[$]=[new Int32Array(u,0),new Int32Array(u,2048),new Int32Array(u,2*2048)];
T[$]=j[$][0]}var a=[q.i9.a4,q.i9.rp][I],P=a[0],v=a[1],R=N[0];for(var y=0;y<F;y++)if(y<U||y>F-U-e-1){R.fill(0);
var t=Math.max(y-U,0),g=Math.min(F,y+U+1),H=g-t;for(var _=0;_<U;_++)c(R,l,_*F+t,_*F+g,1);for(var _=0;
_<k;_++){var Y=_-U-1,K=_+U;if(K<k)c(R,l,K*F+t,K*F+g,1);if(Y>=0)c(R,l,Y*F+t,Y*F+g,-1);var f=_*F+y<<2;
V=R[300];if(V!=0)for(var $=0;$<3;$++)i[f+$]=P(N[$],l[f+$],V)}}else{for(var $=0;$<e;$++)T[$].fill(0);
var t=y-U+B,g=y+U+1+B;for(var _=0;_<U;_++)o(T,l,_*F+t,_*F+g,1,B);for(var _=0;_<k;_++){var Y=_-U-1,K=_+U;
if(Y>=0)o(T,l,Y*F+t,Y*F+g,-1,B);if(K<k)o(T,l,K*F+t,K*F+g,1,B);var m=j[B];V=m[0][300];for(var $=0;$<B;
$++){var C=B-1-$,Z=B+1+$,A=j[C],d=j[Z],G=V+A[0][300],r=V+d[0][300],X=_*F+y+C<<2,w=_*F+y+Z<<2;if(G!=0)for(var S=0;
S<3;S++)i[X+S]=v(m[S],A[S],l[X+S],G);if(r!=0)for(var S=0;S<3;S++)i[w+S]=v(m[S],d[S],l[w+S],r)}var f=_*F+y+B<<2;
if(V!=0)for(var S=0;S<3;S++)i[f+S]=P(m[S],l[f+S],V)}y+=e-1}}function o(l,i,F,k,U,I){var V=E,u=F<<2,N=k<<2;
V(l[I-1],i,F-1<<2,U);V(l[I-1],i,k-1<<2,-U);V(l[I+1],i,k<<2,U);V(l[I+1],i,F<<2,-U);for(var $=1;$<I;$++){var e=l[I-$-1],B=l[I+$+1];
for(var j=0;j<=$;j++){var T=j<<2;V(e,i,F-1-j<<2,U);V(e,i,k-1-j<<2,-U);V(B,i,k+j<<2,U);V(B,i,F+j<<2,-U)}}c(l[I],i,F,k,U)}function c(l,i,$,F,k){var U=$<<2,I=F<<2;
while(U<I){E(l,i,U,k);U+=4}}function E(l,i,F,k){var U=k*i[F+3];l[300]+=U;b(l,i[F],0,U);b(l,i[F+1],512,U);
b(l,i[F+2],1024,U)}function b(l,i,F,k){l[F|i]+=k;l[F|256|i>>>4]+=k}return x}();q.i9.aaq=function(){function x(I,V,u,N,e,B){if(e==0){V.set(I);
return}if(e<=200)J(I,V,u,N,e,B);else b(I,V,u,N,e,B)}function J(I,V,u,N,e,B){var j=0,T=new Int32Array(512),a=1+2*Math.round(Math.sqrt(e)),P=a>>>1,v=new Array(a);
for(var $=0;$<a;$++)v[$]=new Int32Array(512);var R=[q.i9.a4,q.i9.rp][B],y=R[0],t=R[1];for(var g=0;g<u;
g++)if(g<e||g>u-e-a-1){T.fill(0);j=0;var H=Math.max(g-e,0),_=Math.min(u,g+e+1),Y=_-H;for(var K=0;K<e;
K++){j+=Y;c(T,I,K*u+H,K*u+_,1)}for(var K=0;K<N;K++){var f=K-e-1,m=K+e;if(f>=0){j-=Y;c(T,I,f*u+H,f*u+_,-1)}if(m<N){j+=Y;
c(T,I,m*u+H,m*u+_,1)}var C=y(T,I[K*u+g],j);V[K*u+g]=C}}else{for(var $=0;$<a;$++)v[$].fill(0);j=0;var H=g-e+P,_=g+e+1+P,Y=_-H;
for(var K=0;K<e;K++){j+=Y;o(v,I,K*u+H,K*u+_,1,P)}for(var K=0;K<N;K++){var f=K-e-1,m=K+e;if(f>=0){j-=Y;
o(v,I,f*u+H,f*u+_,-1,P)}if(m<N){j+=Y;o(v,I,m*u+H,m*u+_,1,P)}for(var $=0;$<P;$++){var Z=P-1-$,A=P+1+$;
V[K*u+g+Z]=t(v[P],v[Z],I[K*u+g+Z],j);V[K*u+g+A]=t(v[P],v[A],I[K*u+g+A],j)}V[K*u+g+P]=y(v[P],I[K*u+g+P],j)}g+=a-1}}function o(I,V,u,N,e,B){var j=E;
j(I[B-1],V[u-1],0,e);j(I[B-1],V[N-1],0,-e);j(I[B+1],V[N],0,e);j(I[B+1],V[u],0,-e);for(var $=1;$<B;$++){var T=I[B-$-1],a=I[B+$+1];
for(var P=0;P<=$;P++){j(T,V[u-1-P],0,e);j(T,V[N-1-P],0,-e);j(a,V[N+P],0,e);j(a,V[u+P],0,-e)}}c(I[B],V,u,N,e)}function c(I,V,$,u,N){while($<u)E(I,V[$++],0,N)}function E(I,V,u,N){I[u|V]+=N;
I[u|256|V>>>4]+=N}function b(I,V,u,N,e,B){var j=0,T=new Int32Array(512),a=new Int32Array(1*u),P=new Int32Array(512*u),v=Math.min(e,u),R=Math.min(e,N),y=[q.i9.a4,q.i9.rp][B],t=y[0];
for(var g=0;g<R;g++)l(P,a,I,u,g,1);for(var g=0;g<N;g++){if(g+e<N)l(P,a,I,u,g+e,1);if(g-e-1>=0)l(P,a,I,u,g-e-1,-1);
T.fill(0);j=0;for(var H=0;H<v;H++){j+=a[H];i(T,P,H)}for(var H=0;H<u;H++){var _=H-e-1,Y=H+e;if(_>=0&&a[_]!=0){j-=a[_];
F(T,P,_)}if(Y<u&&a[Y]!=0){j+=a[Y];i(T,P,Y)}var K=j==0?0:t(T,I[g*u+H],j);V[g*u+H]=K}}}function l(I,V,u,N,e,B){var $=e*N;
for(var j=0;j<N;j++){E(I,u[$+j],j<<9,B);V[j]+=B}}function i(I,V,u){for(var $=0;$<16;$++){var N=V[u<<9|256|$];
if(N==0)continue;I[256|$]+=N;var e=$<<4,B=u<<9|e;k(I,V,e,B);k(I,V,e+4,B+4);k(I,V,e+8,B+8);k(I,V,e+12,B+12)}}function F(I,V,u){for(var $=0;
$<16;$++){var N=V[u<<9|256|$];if(N==0)continue;I[256|$]-=N;var e=$<<4,B=u<<9|e;U(I,V,e,B);U(I,V,e+4,B+4);
U(I,V,e+8,B+8);U(I,V,e+12,B+12)}}function k(I,V,u,N){I[u]+=V[N];I[u+1]+=V[N+1];I[u+2]+=V[N+2];I[u+3]+=V[N+3]}function U(I,V,u,N){I[u]-=V[N];
I[u+1]-=V[N+1];I[u+2]-=V[N+2];I[u+3]-=V[N+3]}return x}();q.i9.ol=.5;q.i9.a4=[function(x,J,o){var c=~~(.5+q.i9.ol*o),E=0,$=256;
while(E+x[$]<c)E+=x[$++];$=$-256<<4;while(E<c)E+=x[$++];return $-1},function(x,J,o,c){var E=~~(.5+q.i9.ol*c),b=0,$=256;
while(b+x[$]+J[$]<E){b+=x[$]+J[$];$++}$=$-256<<4;while(b<E){b+=x[$]+J[$];$++}return $-1}];q.i9.do=100;
q.i9.rp=[function(x,J,o){var c=q.i9.do,E=0,b=0,$=Math.max(0,J-c),l=Math.min(256,J+c+1);while($<l){var i=x[$];
E+=$*i;b+=i;$++}return b==0?0:E/b},function(x,J,o,c){var E=q.i9.do,b=0,l=0,$=Math.max(0,o-E),i=Math.min(256,o+E+1);
while($<i){var F=x[$]+J[$];b+=$*F;l+=F;$++}return l==0?0:b/l}];q.D={};q.D.lp=function(x){var J=n.Y.AX(x.Trnf),o=x.Sz.v,c=q.D.LH(J,new ha(0,0,o.Wdth.v,o.Hght.v));
return q.D.ut(c)};q.D.LH=function(x,J){var o=x[0],c=x[1],E=x[2],b=x[3],l=x[6],i=x[7],F=x[4],k=x[5],U=0,I=0,V=1,u=0,N=0,e=1,B=1,j=1;
if(J){U=J.x;I=J.y;V=J.x+J.m;u=J.y;N=J.x;e=J.y+J.e;B=J.x+J.m;j=J.y+J.e}return q.D.aan(x,[U,I,V,u,B,j,N,e])};
q.D.a5x=function(x){function J(E,b){for(var $=0;$<b.length;$+=2)if(!o(E,b[$],b[$+1]))return!1;return!0}function o(E,b,i){return E[2*b]==E[2*i]&&E[2*b+1]==E[2*i+1]}var c=0;
if(J(x,[0,1,2,3]))c+=1;if(J(x,[0,3,1,2]))c+=2;return c};q.D.aan=function(x,J){function o(C,$,Z){var K=C[$*2]-C[Z*2],f=C[$*2+1]-C[Z*2+1];
return Math.sqrt(K*K+f*f)}var c=x[0],E=x[1],b=x[2],l=x[3],i=x[6],F=x[7],k=x[4],U=x[5],I=J[0],V=J[1],u=J[2],N=J[3],e=J[6],B=J[7],j=J[4],T=J[5],a=[[I,V,1,0,0,0,-I*c,-V*c,c],[0,0,0,I,V,1,-I*E,-V*E,E],[u,N,1,0,0,0,-u*b,-N*b,b],[0,0,0,u,N,1,-u*l,-N*l,l],[e,B,1,0,0,0,-e*i,-B*i,i],[0,0,0,e,B,1,-e*F,-B*F,F],[j,T,1,0,0,0,-j*k,-T*k,k],[0,0,0,j,T,1,-j*U,-T*U,U]],P=[0,0,0,0,0,0,0,0],v=q.ng.qU(a,P);
if(v!=0){P=[0,0,0,0,0,0,0,0];var R=q.D.a5x(x),y=q.D.a5x(J);if(R==y&&R!=0){var t=R==1,g=t?3:1,H=o(x,0,g),_=o(J,0,g),Y=_/H,K=x[2*g]-x[0],f=x[2*g+1]-x[1],m=new cW;
m.translate(-c,-E);m.rotate(Math.atan2(f,K)-(t?Math.PI/2:0));if(t)m.scale(1,Y);else m.scale(Y,1);m.translate(I,V);
m.Mr();P=q.D.ay(m)}}return P};q.D.R=function(x,J){if(x==null)x=J=0;return[1,0,x,0,1,J,0,0]};q.D.vR=function(x){return Math.abs(x[6])<1e-10&&Math.abs(x[7])<1e-10};
q.D.ut=function(x){return new cW(x[0],x[3],x[1],x[4],x[2],x[5])};q.D.ay=function(x){return[x.V,x.xt,x.Iw,x.J,x.Lu,x.s7,0,0]};
q.D.M=function(x,J){var o=new Float64Array(2);for(var c=0;c<J.length;c+=2){var E=J[c],b=J[c+1];q.D.vH(E,b,x,o);
J[c]=o[0];J[c+1]=o[1]}};q.D.vH=function(x,J,o,c){var E=1/(o[6]*x+o[7]*J+1);c[0]=(o[0]*x+o[1]*J+o[2])*E;
c[1]=(o[3]*x+o[4]*J+o[5])*E};q.D.acP=function(x,J){var o=new Float64Array(2);q.D.vH(J.x,J.y,x,o);return new ck(o[0],o[1])};
q.D.NB=function(x,J,o,c){x=new Uint32Array(x.buffer);J=new Uint32Array(J.buffer);for(var E=0;E<c;E++){for(var b=0;
b<o;b++){J[b*c+E]=x[E*o+b]}}};q.D.sI=function(x,J,o,c){x=new Uint32Array(x.buffer);J=new Uint32Array(J.buffer);
for(var E=0;E<c;E++){for(var b=0;b<o;b++){J[E*o+b]=x[E*o+o-1-b]}}};q.D.ahx=function(x,J,o,c){x=new Uint32Array(x.buffer);
J=new Uint32Array(J.buffer);for(var E=0;E<c;E++){for(var b=0;b<o;b++){J[E*o+b]=x[(c-1-E)*o+b]}}};q.D.aeu=function(x){return Math.abs(x[6])<1e-9&&Math.abs(x[7])<1e-9};
q.D.ard=function(x){return Math.abs(x[0])<1e-9&&Math.abs(x[4])<1e-9||Math.abs(x[1])<1e-9&&Math.abs(x[3])<1e-9};
q.D.drawImage=function(x,J,o,c,E,b,l,i,F){if(l==null)l=!1;if(i==null)i=!1;var k=q.D.Mr(x),U=!0,I=0;for(var $=0;
$<8;$++){var V=Math.round(x[$]);if($!=2&&$!=5)I+=Math.abs(V);if(Math.abs(V-x[$])>1e-9)U=!1}var u=q.D.aeu(x),N=q.D.ard(x)&&u,e=N?1:0;
if(l||U&&I==o+c&&u){q.D.ach(k,J,o,c,E,b,i,u,F);return}var B=b.m,j=b.e,T=new Float64Array(2);E=new Uint32Array(E.buffer);
J=new Uint32Array(J.buffer);for(var a=0;a<j;a++)for(var P=0;P<B;P++){var v=a*B+P,R,y,t,g,G=0,r=0,X=0,w=0;
E[v]=0;var H=P+b.x+.5,_=a+b.y+.5;R=H;y=_;t=k;var Y=t[0]*R+t[1]*y+t[2],K=t[3]*R+t[4]*y+t[5];if(!u){g=1/(t[6]*R+t[7]*y+1);
Y*=g;K*=g}var f=Y*o,m=K*c,C=f<-1||f>o+1||m<-1||m>c+1;if(i){f=Math.max(.001,Math.min(o-1,f));m=Math.max(.001,Math.min(c-1,m))}else if(C)continue;
var Z=q.D.aie(x,o,c,H,_,Y,K),A=Math.round(Z*2.3);if(Z<1.1){q.D.p6(f,m,J,o,c,E,v,e);continue}if(!i&&(f<.6||f>o-.6||m<.6||m>c-.6)){A=Math.max(A,5)}if(i&&C)A=1;
var d=1/A,S=b.x+P,z=b.y+a;t=k;for(var $=0;$<A;$++)for(var s=0;s<A;s++){R=S+($+.5)*d;y=z+(s+.5)*d;var f=t[0]*R+t[1]*y+t[2],m=t[3]*R+t[4]*y+t[5];
if(!u){g=1/(t[6]*R+t[7]*y+1);f*=g;m*=g}if(i){f=Math.max(.001,Math.min(.999,f));m=Math.max(.001,Math.min(.999,m))}else if(f<0||f>=1||m<0||m>=1)continue;
f=Math.floor(f*o);m=Math.floor(m*c);var M=m*o+f,Q=J[M],O=Q>>>24;G+=(Q&255)*O;r+=(Q>>>8&255)*O;X+=(Q>>>16&255)*O;
w+=O}if(w!=0){var W=1/w;G=~~(G*W+.5);r=~~(r*W+.5);X=~~(X*W+.5);w=~~(w*d*d+.5);E[v]=w<<24|X<<16|r<<8|G}}};
q.D.aie=function(x,J,o,c,E,b,l){var i=q.D.aba(x,c,E,b+1/J,l),F=q.D.aba(x,c,E,b,l+1/o);return 1/Math.sqrt(Math.max(i,F))};
q.D.aba=function(x,J,o,c,E){var b=1/(x[6]*c+x[7]*E+1),l=(x[0]*c+x[1]*E+x[2])*b-J,i=(x[3]*c+x[4]*E+x[5])*b-o;
return l*l+i*i};q.D.ach=function(x,J,o,c,E,b,l,i,F){if(i&&!l&&b.P()>4e6&&F){q.D.awl(x,J,o,c,E,b,l,i,F);
return}var k=b.x+b.m,U=b.y+b.e,I=0,V=new Uint32Array(E.buffer),u=new Uint32Array(J.buffer),N=x[0]*o,e=x[1]*o,B=x[2]*o,j=x[3]*c,T=x[4]*c,a=x[5]*c,P=x[6],v=x[7];
if(i&&!l)for(var R=b.y+.5;R<U;R++)for(var y=b.x+.5;y<k;y++){var t=N*y+e*R+B,g=j*y+T*R+a;if(0<t&&t<o&&0<g&&g<c){var H=~~g*o+~~t;
V[I]=u[H]}else V[I]=0;I++}else for(var R=b.y+.5;R<U;R++)for(var y=b.x+.5;y<k;y++){var _=1/(P*y+v*R+1),t=(N*y+e*R+B)*_,g=(j*y+T*R+a)*_;
if(l){t=Math.max(.001,Math.min(o-1,t));g=Math.max(.001,Math.min(c-1,g))}if(0<t&&t<o&&0<g&&g<c){var H=Math.floor(g)*o+Math.floor(t);
V[I]=u[H]}else V[I]=0;I++}};q.D.awl=function(x,J,o,c,E,b,l,i,F){var k=new Uint32Array(E.buffer),U=new Uint32Array(J.buffer),v=0;
if(F&&(b.m&3)!=0)throw"e";var I=x[0]*o,V=x[1]*o,u=x[2]*o,N=x[3]*c,e=x[4]*c,B=x[5]*c,j=x[6],T=x[7],a=b.m,P=b.e,R=b.x+.5,y=b.y+.5,t=(a>>>2<<2)-1e-9,g=-.1+(P>>>1<<1)-1e-9,H=~~o,_=I==0?0:1/I,Y=N==0?0:1/N;
for(var K=0;K<P;K++){var f=R*I+V*(K+y)+u,m=R*N+e*(K+y)+B,C=0,Z=a;if(I==0){}else if(_>0){C=Math.max(C,-f*_);
Z=Math.min(Z,(o-f)*_)}else{Z=Math.min(Z,-f*_);C=Math.max(C,(o-f)*_)}if(N==0){}else if(Y>0){C=Math.max(C,-m*Y);
Z=Math.min(Z,(c-m)*Y)}else{Z=Math.min(Z,-m*Y);C=Math.max(C,(c-m)*Y)}if(Z<0)Z=0;if(C>Z)C=Z;C=~~Math.ceil(C);
Z=~~Z;v=~~(K*a);k.fill(0,v,v+C);v+=C;for(var A=C;A<Z;A+=4){var d=I*A+f,G=N*A+m,r=~~G*H+~~d,X=U[r];k[v]=X;
k[v+1]=X;k[v+2]=X;k[v+3]=X;v+=4}k.fill(0,v,v+a-Z)}};q.D.Mr=function(x){var J=x[4]-x[5]*x[7],o=x[2]*x[7]-x[1],c=x[1]*x[5]-x[2]*x[4],E=x[5]*x[6]-x[3],b=x[0]-x[2]*x[6],l=x[3]*x[2]-x[0]*x[5],i=x[3]*x[7]-x[4]*x[6],F=x[1]*x[6]-x[0]*x[7],k=1/(x[0]*x[4]-x[1]*x[3]);
return[J*k,o*k,c*k,E*k,b*k,l*k,i*k,F*k]};q.D.hf=function(x,J){var o=x[0],c=x[1],E=x[2],b=x[3],l=x[4],i=x[5],F=x[6],k=x[7],U=J[0],I=J[1],V=J[2],u=J[3],N=J[4],e=J[5],B=J[6],j=J[7],T=[o*U+c*u+E*B,o*I+c*N+E*j,o*V+c*e+E,b*U+l*u+i*B,b*I+l*N+i*j,b*V+l*e+i,F*U+k*u+B,F*I+k*N+j],a=1/(F*V+k*e+1);
for(var $=0;$<8;$++)T[$]*=a;return T};q.D.p6=function(x,J,o,c,E,b,l,i){var F=x,k=J,V=0,u=0,N=0,e=0;x-=.499999;
J-=.499999;var U=Math.floor(x),I=Math.floor(J);if(i==0){var $=I*c+U,B=U>=0&&U<c,j=U+1>=0&&U+1<c,T=I>=0&&I<E,a=I+1>=0&&I+1<E;
if(B&&T)V=o[$];if(j&&T)u=o[$+1];if(B&&a)N=o[$+c];if(j&&a)e=o[$+c+1]}else if(i==1){var P=U<0?0:U>c-1?c-1:U,v=U<-1?0:U>c-2?c-1:U+1,R=I<0?0:I>E-1?E-1:I,y=I<-1?0:I>E-2?E-1:I+1;
V=o[R*c+P];u=o[R*c+v];N=o[y*c+P];e=o[y*c+v]}else{var P=(U+50*c)%c,v=(U+50*c+1)%c,R=(I+50*E)%E,y=(I+50*E+1)%E;
V=o[R*c+P];u=o[R*c+v];N=o[y*c+P];e=o[y*c+v]}var t=x-U,g=J-I,H=(1-g)*(1-t)*(V>>>24),_=(1-g)*t*(u>>>24),Y=g*(1-t)*(N>>>24),K=g*t*(e>>>24),f=H+_+Y+K,m=H*(V&255)+_*(u&255)+Y*(N&255)+K*(e&255),C=H*(V>>>8&255)+_*(u>>>8&255)+Y*(N>>>8&255)+K*(e>>>8&255),Z=H*(V>>>16&255)+_*(u>>>16&255)+Y*(N>>>16&255)+K*(e>>>16&255);
if(f==0)b[l]=0;else{var A=1/f;m=~~(m*A+.5);C=~~(C*A+.5);Z=~~(Z*A+.5);f=~~(f+.5);b[l]=f<<24|Z<<16|C<<8|m}};
q.D.a22=function(x,J,o,c,E,b){var l=x-.499999,i=J-.499999,F=~~l,k=~~i,U=l-F,I=i-k,V=(1-I)*(1-U),u=(1-I)*U,N=I*(1-U),e=I*U,B=k*c+F<<2,j=(k+1)*c+F<<2,T=V*o[B]+u*o[B+4]+N*o[j]+e*o[j+4],a=V*o[B+1]+u*o[B+5]+N*o[j+1]+e*o[j+5],P=V*o[B+2]+u*o[B+6]+N*o[j+2]+e*o[j+6],v=V*o[B+3]+u*o[B+7]+N*o[j+3]+e*o[j+7];
b[0]=T;b[1]=a;b[2]=P;b[3]=v};q.D.vt=function(x,J,o,c,E){x-=.499999;J-=.499999;var b=Math.floor(x),l=Math.floor(J),i=x-b,F=J-l,k=(1-F)*(1-i),U=(1-F)*i,I=F*(1-i),V=F*i,u=(b+50*c)%c,N=(b+1+50*c)%c,e=(l+50*E)%E,B=(l+1+50*E)%E,j=o[e*c+u],T=o[e*c+N],a=o[B*c+u],P=o[B*c+N];
if(j==null||P==null)throw"e";return k*j+U*T+I*a+V*P};q.D.asz=function(x,J,o,c,E){x-=.499999;J-=.499999;
var b=Math.floor(x),l=Math.floor(J),i=x-b,F=J-l,k=(1-F)*(1-i),U=(1-F)*i,I=F*(1-i),V=F*i,u=0,N=l*c+b,e=N+c;
if(0<=l&&l<E&&0<=b&&b<c)u+=k*o[N];if(0<=l&&l<E&&0<=b+1&&b+1<c)u+=U*o[N+1];if(0<=l+1&&l+1<E&&0<=b&&b<c)u+=I*o[e];
if(0<=l+1&&l+1<E&&0<=b+1&&b+1<c)u+=V*o[e+1];return u};q.D.a6K=function(x,J,o,c,E,b,l,i,F,k,U,I){var V=new Uint32Array(x.buffer),u=new Uint32Array(c.buffer),N=(1+2*k)/E,e=[],B=[];
for(var j=0;j<E;j++){var T=-.25+k-j*N;e.push(Math.cos(2*Math.PI*T)*I/U);e.push(Math.sin(2*Math.PI*T)/U)}l*=J;
i*=o;for(var a=0;a<b;a++){var P=Math.pow(a/b,F)*b;for(var j=0;j<E;j++){var v=l+e[j<<1]*P,R=i+e[(j<<1)+1]*P,y=~~(.5+(v<0?0:v>J-1?J-1:v)),t=~~(.5+(R<0?0:R>o-1?o-1:R));
u[a*E+j]=V[t*J+y]}}};q.D.ajW=function(x,J,o,c,E,b,l,i,F,k,U,I){var V=new Uint32Array(x.buffer),u=new Uint32Array(c.buffer),N=1/I,e=[],B=o*4,j=1/B;
for(var T=0;T<B+10;T++)e.push(Math.pow(T*j,1/F)*o*U);l*=E;i*=b;for(var T=0;T<b;T++)for(var a=0;a<E;a++){var P=N*(a-l),v=T-i,R=1.75-Math.atan2(v,P)*(1/(2*Math.PI));
R=R-~~R;R=(R+k)*(1/(1+2*k));var y=Math.sqrt(P*P+v*v);y=e[~~(y*4)];q.D.p6(R*J+.5,y+.5,V,J,o,u,T*E+a,1)}};
q.D.QX=function(x,J,o,c,E){var b=E[0],l=E[1];for(var i=0;i<l;i++)for(var F=0;F<b;F++){var k=E[2]*F+E[3]*i+E[4],U=E[5]*F+E[6]*i+E[7],I=i*b+F<<2,V=U*J+k<<2;
c[I]=x[V+0];c[I+1]=x[V+1];c[I+2]=x[V+2];c[I+3]=x[V+3]}};q.r={Sx:function(x,J){var o=~~(.499+x*J);return o<0?0:o>J?J:o},aln:function(x,J,o,c,E,b,l,i){var F=o[0],k=o[1],U=o[2],I=o[3],V=c.m,u=c.e,N=new Float64Array(V*4+8),e=new Float64Array(V*4+8);
for(var B=0,$=0;B<u;B++){var j=N;N=e;e=j;e.fill(0);for(var T=0;T<V;T++,$++){var a=T+E,P=B+b,v=F*a+k*P,R=U*a+I*P,y=0,H=0;
if(i==0)y=v+.5;else if(i==1)y=2*Math.sqrt(v*v+R*R);else if(i==2)y=(Math.PI+Math.atan2(-R,-v))/(2*Math.PI);
else if(i==3)y=Math.abs(v*2);else if(i==4)y=2*(Math.abs(v)+Math.abs(R));var t=q.r.Sx(y,l)*4,g=T*4;for(var _=0;
_<4;_++){var Y=Math.max(0,Math.min(254.999,J[t+_]+N[g+4+_])),K=Math.floor(Y);if(Math.random()<Y-K)K++;
var f=Y-K;N[g+8+_]=f*(7/16);e[g+0+_]=f*(3/16);e[g+4+_]=f*(5/16);e[g+8+_]=f*(1/16);H|=K<<_*8}x[$]=H}}},Ex:[function(x,J,o,c,E,b,l){var i=o[0],F=o[1],k=o[2],U=o[3],I=c.m,V=c.e;
for(var u=0,$=0;u<V;u++)for(var N=0;N<I;N++,$++){var e=N+E,B=u+b,j=i*e+F*B,T=k*e+U*B,a=j+.5;x[$]=J[q.r.Sx(a,l)]}},function(x,J,o,c,E,b,l){var i=o[0],F=o[1],k=o[2],U=o[3],I=c.m,V=c.e;
for(var u=0,$=0;u<V;u++)for(var N=0;N<I;N++,$++){var e=N+E,B=u+b,j=i*e+F*B,T=k*e+U*B,a=2*Math.sqrt(j*j+T*T);
x[$]=J[q.r.Sx(a,l)]}},function(x,J,o,c,E,b,l){var i=o[0],F=o[1],k=o[2],U=o[3],I=c.m,V=c.e;for(var u=0,$=0;
u<V;u++)for(var N=0;N<I;N++,$++){var e=N+E,B=u+b,j=i*e+F*B,T=k*e+U*B,a=(Math.PI+Math.atan2(-T,-j))/(2*Math.PI);
x[$]=J[q.r.Sx(a,l)]}},function(x,J,o,c,E,b,l){var i=o[0],F=o[1],k=o[2],U=o[3],I=c.m,V=c.e;for(var u=0,$=0;
u<V;u++)for(var N=0;N<I;N++,$++){var e=N+E,B=u+b,j=i*e+F*B,T=k*e+U*B,a=Math.abs(j*2);x[$]=J[q.r.Sx(a,l)]}},function(x,J,o,c,E,b,l){var i=o[0],F=o[1],k=o[2],U=o[3],I=c.m,V=c.e;
for(var u=0,$=0;u<V;u++)for(var N=0;N<I;N++,$++){var e=N+E,B=u+b,j=i*e+F*B,T=k*e+U*B,a=2*(Math.abs(j)+Math.abs(T));
x[$]=J[q.r.Sx(a,l)]}}]};q.r.aj8=function(x,J){return x+.5};q.r.ar4=function(x,J){return 2*Math.sqrt(x*x+J*J)};
q.r.avT=function(x,J){return(Math.PI+Math.atan2(-J,-x))/(2*Math.PI)};q.r.apO=function(x,J){return Math.abs(x*2)};
q.r.aol=function(x,J){return 2*(Math.abs(x)+Math.abs(J))};q.r.VB=function(x,J,o,c,E,b,l,i,F,k,U,I){var V=x.Clrs,u=new Uint32Array(J.buffer),N=1023,e=V?q.r.j4(x,F,k):null;
if(I&&V){var B=q.r.arU(x,e,N+1,l);q.r.aln(u,B,c,o,o.x-E,o.y-b,N,i)}else{var j=V?q.r.a1_(x,e,N+1,l):q.r.ask(x,N+1,l);
if(i<5){q.r.Ex[i](u,j,c,o,o.x-E,o.y-b,N)}else{var T=new Uint8Array(j.buffer),a=o.m,P=o.e,v=U.z0-U.$L,R=1/v,y=U.QM.m-o.m>>1,t=U.QM.e-o.e>>1,g=U.QM.m,H=-.6*R,_=(-.6+.4)*R,Y=(-.6+2*.4)*R,K=(-.6+3*.4)*R;
for(var f=0,$=0;f<P;f++)for(var m=0;m<a;m++,$+=4){var C=0,Z=0,A=0,d=0,G=(f+t)*g+m+y,r=(U.og[G]-U.$L)*R,X=0;
if(r<=0||r>=1){X=(r<=0?0:N)<<2;J[$]=T[X];J[$+1]=T[X+1];J[$+2]=T[X+2];J[$+3]=T[X+3];continue}X=Math.max(0,Math.min(N-1,Math.round((r+H)*N)))<<2;
Z+=T[X];A+=T[X+1];d+=T[X+2];C+=T[X+3];X=Math.max(0,Math.min(N-1,Math.round((r+_)*N)))<<2;Z+=T[X];A+=T[X+1];
d+=T[X+2];C+=T[X+3];X=Math.max(0,Math.min(N-1,Math.round((r+Y)*N)))<<2;Z+=T[X];A+=T[X+1];d+=T[X+2];C+=T[X+3];
X=Math.max(0,Math.min(N-1,Math.round((r+K)*N)))<<2;Z+=T[X];A+=T[X+1];d+=T[X+2];C+=T[X+3];J[$]=Z>>>2;
J[$+1]=A>>>2;J[$+2]=d>>>2;J[$+3]=C>>>2}}}};q.r.j4=function(x,J,o){var c=[x.Clrs.v,x.Trns.v],E=[[],[]],b=255;
for(var l=0;l<2;l++)for(var $=0;$<c[l].length;$++){var i,F=c[l][$].v;if(l==0){var k=F.Type.v.Clry;if(k=="FrgC")i={o:J>>16&255,I:J>>8&255,J:J&255};
else if(k=="BckC")i={o:o>>16&255,I:o>>8&255,J:o&255};else i=q.r.fL(F.Clr.v)}else{i=F.Opct.v.val*(255/100);
if(i<b)b=i}E[l].push([i,F.Lctn.v/4096,F.Mdpn.v/100])}E.push(b>254);return E};q.r.fL=function(x){var J,o=x.classID;
if(o=="RGBC"){if(x.Rd)J={o:x.Rd.v,I:x.Grn.v,J:x.Bl.v};else J={o:x.redFloat.v*255,I:x.greenFloat.v*255,J:x.blueFloat.v*255}}else if(o=="HSBC"){J=q.qf(x.H.v.val/360,x.Strt.v/100,x.Brgh.v/100);
J.o*=255;J.I*=255;J.J*=255}else if(o=="CMYC"){var c=100-x.Cyn.v,E=100-x.Mgnt.v,b=100-x.Ylw.v,l=100-x.Blck.v,i=255*c*l*1e-4,F=255*(.2*c+.8*E)*l*1e-4,k=255*(.2*E+.8*b)*l*1e-4;
J={o:i,I:F,J:k}}else if(o=="Grsc")J={o:255-x.Gry.v,I:255-x.Gry.v,J:255-x.Gry.v};else if(o=="LbCl"){J=q.ab(x.Lmnc.v,x.A.v,x.B.v)}else if(o=="BkCl")J={o:0,I:0,J:0};
else console.log(x);if(isNaN(J.o))J.o=J.I=J.J=0;return J};q.r.ask=function(x,J,o){var c=new Uint32Array(J),E=new Uint8Array(c.buffer);
c.fill(4278190080);var b=[],l=[],i=x.RndS.v,F=x.Smth.v/4096;for(var $=0;$<4;$++){b[$]=~~(x.Mnm.v[$].v*255/100);
l[$]=~~(x.Mxm.v[$].v*255/100)}var k=q.R(J*4),U=q.R(J);for(var I=0;I<3;I++){q.X.aCD(null,J,1,k,[1+Math.round(F*F*F*60),22,i*(2+I)]);
q.z$(k,U,0);q.qR(U,E,I);var V=b[I],u=l[I];for(var $=0;$<J;$++)E[4*$+I]=Math.max(V,Math.min(u,E[4*$+I]))}if(o)for(var $=0;
$<J/2;$++){var N=c[$];c[$]=c[J-1-$];c[J-1-$]=N}return c};q.r.qP=function(x){return{classID:"RGBC",Rd:{t:"doub",v:x.o},Grn:{t:"doub",v:x.I},Bl:{t:"doub",v:x.J}}};
q.r.arU=function(x,J,o,c){var E=[],b=1/(o-0);for(var $=0;$<o;$++){var l=$*4,i=q.r.i7(x,J,(c?o-1-$:$)*b);
E[l]=i[0];E[l+1]=i[1];E[l+2]=i[2];E[l+3]=i[3]}return E};q.r.a1_=function(x,J,o,c){var E=new Uint32Array(o),b=1/(o-0);
for(var $=0;$<o;$++)E[$]=q.r.Vs(x,J,(c?o-1-$:$)*b);return E};q.r.i7=function(x,J,o){var c=x.Intr.v*(1/4096),E=J[0],b=J[1],l=E.length-1,i=b.length-1,$=-1,F=0,k=0,U=0,I=0;
if(J[2])F=255;else{while($<i&&b[$+1][1]<=o)$++;if($==-1){F=b[0][0]}else if($==i){F=b[$][0]}else{var V=q.r.a2E(b,$,o,c);
F=V*b[$][0]+(1-V)*b[$+1][0]}}$=-1;while($<l&&E[$+1][1]<=o)$++;if($==-1){var u=E[0][0];k=u.o;U=u.I;I=u.J}else if($==l){var u=E[$][0];
k=u.o;U=u.I;I=u.J}else{var N=E[$][0],e=E[$+1][0],B=q.r.a2E(E,$,o,c);k=B*N.o+(1-B)*e.o;U=B*N.I+(1-B)*e.I;
I=B*N.J+(1-B)*e.J}return[k,U,I,F]};q.r.Vs=function(x,J,o){var c=q.r.i7(x,J,o),E=~~(.5+c[0]),b=~~(.5+c[1]),l=~~(.5+c[2]),i=~~(.5+c[3]);
return i<<24|l<<16|b<<8|E};q.r.a2E=function(x,$,J,o){if(x.length==2)o*=.5;var c=x[$][1],E=x[$+1][1],b=c+x[$+1][2]*(E-c),l;
if(J<b)l=.5*(J-c)/(b-c);else l=.5+.5*(J-b)/(E-b);l=.5+.5*(o*Math.cos(Math.PI*l)+(1-o)*(1-2*l));return l};
q.r.apZ=function(x,J,o){var c=.5*o.e,E=c*(x/J),b=Math.sqrt(c*c+E*E),l=.5*o.m,i=l*(J/x),F=Math.sqrt(l*l+i*i);
return Math.min(b,F)};q.r.Fi=function(x,J){var o=Math.PI*x.Angl.v.val/180,c=x.Scl.v.val/100,E=x.Ofst.v,b=E.Hrzn.v.val/100,l=E.Vrtc.v.val/100,i=Math.cos(o),F=-Math.sin(o),k=q.r.apZ(i,F,J),U=k*c,I=J.x+J.m/2+b*J.m,V=J.y+J.e/2+l*J.e;
return[new ck(I,V),new ck(I+i*U,V+F*U)]};q.r.Bk=function(x,J,o,c){var E=J.x-x.x,b=-(J.y-x.y),l=Math.sqrt(E*E+b*b),i=Math.atan2(b,E),F=Math.cos(i),k=-Math.sin(i),U=q.r.apZ(F,k,o),I=l/U,V=(x.x-o.x-o.m/2)/o.m,u=(x.y-o.y-o.e/2)/o.e;
c.Angl.v.val=180*i/Math.PI;c.Scl.v.val=I*100;var N=c.Ofst.v;N.Hrzn.v.val=V*100;N.Vrtc.v.val=u*100};q.r.p3=function(x,J){for(var $=0;
$<x.length;$++){var o=x[$],c=Math.round(o[0]*4096),E=o[1],b=o[2],l=o[3];if(b==null)b=1;if(l==null)l=.5;
var i=q.r.qP({o:E[0]*255,I:E[1]*255,J:E[2]*255});J.Clrs.v[$]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:c},Mdpn:{t:"long",v:Math.round(l*100)},Clr:{t:"Objc",v:i},Type:{t:"enum",v:{Clry:"UsrS"}}}};
J.Trns.v[$]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:c},Mdpn:{t:"long",v:Math.round(l*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(b*100)}}}}}};
q.r.nL=function(x,J,o){if(J){x=JSON.parse(JSON.stringify(x));for(var $=0;$<2;$++){var c=x[$==0?"Clrs":"Trns"].v;
for(var E=0;E<c.length;E++)c[E].v.Lctn.v=4096-c[E].v.Lctn.v;c.reverse()}}var b=[],l=1/255,i=x.Clrs.v,F=x.Trns.v,c=i;
if(b5==0||i.length!=F.length){if(b5!=0)console.log("strange gradient");if(o!=!0)c=i.concat(F);var k=q.r.j4(x,0,0);
for(var $=0;$<c.length;$++){var U=c[$].v,I=U.Lctn.v/4096,V=q.r.i7(x,k,I);b.push([I,[V[0]*l,V[1]*l,V[2]*l],V[3]*l])}b.sort(function(N,e){return N[0]-e[0]});
for(var $=1;$<b.length;$++)if(b[$][0]-b[$-1][0]<.001){b.splice($,1);$--}}else{for(var $=0;$<c.length;
$++){var U=i[$].v,u=U.Clr.v,I=U.Lctn.v/4096;b.push([I,[u.Rd.v*l,u.Grn.v*l,u.Bl.v*l],F[$].v.Opct.v.val*.01])}}return b};
q.am9={};q.am9.Pl=function(x,J,o,c,E,b,l,i,F,k,U,I){var V,u,N,e=Date.now(),B=!1,j=l,T=k,a,P,v,R,y=b*255,t=255-F*255,g=1+E*6,H=1+i*6,_=1+I*4,Y=(_-1)/7,K=0,f=255-0,m,C,Z,A,d,G,r,X,w,S,z,s,M,Q=0,O=1,W,e9,jV,co,dz,eh,a9,kB,dc,eT,fv=1+U,jS,cx=q.R(o*c),bX=q.R(o*c),gi=q.R(o*c),cM=q.R(o*c),ea=255/y,a1=255/(255-t);
for(u=0;u<c;u++){for(V=0;V<o;V++){var $=u*o+V,db=$<<2;W=q.TM(x[db],x[db+1],x[db+2]);cM[$]=W;if(W<y)cx[$]=255-W*ea;
if(W>t)bX[$]=255-(255-W)*a1}}if(B)console.log("init",Date.now()-e);e=Date.now();if(E*j>0){gi.set(cx);
q.JS.gu(gi,cx,new ha(0,0,o,c),j)}if(i*T>0){gi.set(bX);q.JS.gu(gi,bX,new ha(0,0,o,c),T)}if(B)console.log("blur",Date.now()-e);
e=Date.now();var d2=q.R(256),hu=q.R(256);for(var $=0;$<256;$++){var fF=$*(1/255),il=0;il=(1-Math.pow(1-fF,g))*255;
d2[$]=Math.max(0,Math.min(255,~~(il+.5)));il=Math.pow(fF,H)*255;hu[$]=Math.max(0,Math.min(255,~~(il+.5)))}var f4=new Uint8ClampedArray(J.buffer),aK=new Float32Array(32768);
for(var $=0;$<32768;$++){jS=Math.sqrt($)*(1/128);if(fv>1)jS=(1-jS)*(fv-1)+1;else jS=jS*(fv-1)+1;aK[$]=jS}for(u=0;
u<c;u++){for(V=0;V<o;V++){var $=u*o+V,db=$<<2,il=cM[$],f9=cx[$]*(1/255),e0=bX[$]*(1/255);il=(1-f9)*il+f9*d2[~~il];
il=(1-e0)*il+e0*hu[~~il];W=il;var j7=x[db],jb=x[db+1],hN=x[db+2];e9=-j7*.168736-jb*.331264+hN*.5;jV=j7*.5-jb*.418688-hN*.081312;
jS=aK[~~(.5+e9*e9+jV*jV)];co=e9*jS;eh=jV*jS;O=1-Math.min(2-(f9+e0),1);e9=O*e9+(1-O)*co;jV=O*jV+(1-O)*eh;
kB=W+1.402*jV;dc=W-.34414*e9-.71414*jV;eT=W+1.772*e9;f4[db]=~~(.5+kB);f4[db+1]=~~(.5+dc);f4[db+2]=~~(.5+eT)}}if(B)console.log("apply masks",Date.now()-e);
e=Date.now()};q.JU={};q.JU.Vm=function(x,J,o,c,E){var b=!1,B=1,C=0,Z=0,z=0,fv=0;if(!J.KR(E)){var l=J.k7(E),i=q.R(l.P()*4);
q.St(x,J,i,l);x=i;J=l}var F=q.R(J.P());q.zc(o,E,F,J);q.round(F);E=E.Kc(J);var k=E.m,U=E.e,I=k*3<U?2:1,V=U*3<k?2:1;
if(E.P()*(I*2+1)*(V*2+1)<J.P()){var l=new ha(E.x-k*I,E.y-U*I,k*(I*2+1),U*(V*2+1)).Kc(J),i=q.R(l.P()*4);
q.St(x,J,i,l);var e=q.R(l.P());q.zc(F,J,e,l);J=l;x=i;F=e}while((J.m+J.e)/2/B>400)B++;var j=x,T=J,a=F,P=Math.floor(T.m/B),v=Math.floor(T.e/B);
x=q.R(P*v*4);q.scale.EW(j,T.m,T.e,x,P,v,1/B);F=q.R(P*v);q.scale.QX(a,T.m,T.e,F,P,v,1/B);q.round(F,1);
var R=q.d6(F,new ha(0,0,P,v));if(R.Kx())return 1;var y=Math.round((R.m+R.e)/2/15),t=Date.now(),g=q.R(P*v*4);
q.a6m(x,g);var H=Int16Array,_=new H(P*v*24),Y=new H(64),K=new H(64),f=new H(64),m=new H(64);for(var A=3;
A<v-4;A++)for(var d=3;d<P-4;d++){var G=A*P+d;if(F[G]==255)continue;if(q.JU.am2(g,F,d,A,P,v,Y,K,f)!=0)continue;
q.JU.aT(Y,m);_[C]=d;_[C+1]=A;q.JU.N8(Y,_,C+4,12);C+=16;q.JU.aT(K,m);q.JU.N8(K,_,C,4);C+=4;q.JU.aT(f,m);
q.JU.N8(f,_,C,4);C+=4;var r=_[C-24+5],X=_[C-24+6];_[C-24+5]=_[C-24+20];_[C-24+6]=_[C-24+16];_[C-24+16]=r;
_[C-24+20]=X;Z++}if(Z==0)return 2;if(b)console.log(Date.now()-t,"FWHT computed");t=Date.now();var w=[];
q.JU.VO(0,Z-1,w,_,new H(2*24));if(b)console.log(Date.now()-t,"KD tree computed");t=Date.now();var S=new Float32Array(P*v*4);
for(var $=0;$<Z;$++){var s=$,M=q.JU.acb(s,_,w,y);if(M==-1)continue;var Q=s*24,O=M*24,W=_[Q],e9=_[Q+1],jV=_[O],co=_[O+1];
z+=q.JU.getError(O,Q,_,1e99);var dz=jV-W,eh=co-e9;S[(v+eh)*2*P+(P+dz)]+=1}if(b)console.log(Date.now()-t,"NN found");
t=Date.now();var a9=[],kB=1/(2*P);for(var $=0;$<S.length;$++){if(S[$]>0){var A=Math.floor($*kB),d=$-A*2*P;
a9.push({x:d-P,y:A-v,b:S[$],ex:-1})}}a9.sort(function(e0,j7){return j7.b-e0.b});var dc=new Int32Array(P*v),eT=[];
for(var $=0;$<P*v;$++){if(F[$]==255){dc[$]=fv;eT.push($%P,Math.floor($/P));fv++}else if(x[($<<2)+3]<200){dc[$]=-2}else{dc[$]=-1}}var jS=q.JU.a6E(P,v,a9,dc,eT,fv);
if(jS==null){return 3}var cx=jS.ff,top=jS.top;cx=q.JU.akL(cx,x,P,v,top,dc,eT,fv);if(b)console.log(Date.now()-t,"optimal labeling found");
t=Date.now();var l=E.clone();l.wI(1,1);l=l.Kc(T);var bX=q.R(l.P()*4),gi=q.R(l.P());q.St(j,T,bX,l);var cM=T.m,ea=T.e;
for(var A=0;A<ea;A++)for(var d=0;d<cM;d++){if(a[A*cM+d]==0)continue;var a1=Math.min(Math.floor(d/B),P-1),db=Math.min(Math.floor(A/B),v-1),d2=dc[db*P+a1];
if(d2==-1)continue;var hu=cx[d2],fF=top[hu],il=d+fF.x*B,f4=A+fF.y*B,aK=f4*cM+il<<2,f9=(A-l.y+T.y)*l.m+(d-l.x+T.x)<<2;
bX[f9]=j[aK];bX[f9+1]=j[aK+1];bX[f9+2]=j[aK+2];bX[f9+3]=j[aK+3];bX[f9+3]=j[aK+3];gi[f9>>2]=hu+1}if(b)console.log(Date.now()-t,"copied back");
t=Date.now();q.Wg.Vm(bX,gi,l,null,1e3);if(b)console.log(Date.now()-t,"poisson smooth");t=Date.now();
q.St(bX,l,c,E);return 0};q.JU.a3Q=function(x,J,o,c,E,b){return q.JU.P2(x+E.x,J+E.y,o,c)&&b[(J+E.y)*o+(x+E.x)]==-1?0:1e9};
q.JU.akL=function(x,J,o,c,top,E,b,l){var i=Date.now(),F=[-1,0,0,-1,1,0,0,1],k=1e99,U=[],I=[],V=2*(l*2*3+l*2),u=null,N=0,e=0,B=0,j=1e99;
while(!0&&Date.now()<i+12e3){B++;var T=null,a=k;for(var P=0;P<top.length;P++){var v=top[P],R=0,y=l+2,t=0;
for(var $=0;$<l;$++){var g=b[$*2],H=b[$*2+1],_=top[x[$]],Y=q.JU.a3Q(g,H,o,c,v,E),K=x[$]==P?1e9:q.JU.a3Q(g,H,o,c,_,E);
for(var bz=0;bz<4;bz++){if(bz==0&&g==0||bz==1&&H==0||bz==2&&g==o-1||bz==3&&H==c-1)continue;var f=F[2*bz],m=F[2*bz+1],C=g+f,Z=H+m,A=E[Z*o+C];
if(A==-2){}else if(A==-1){Y+=3*q.JU.uU(C+v.x,Z+v.y,C,Z,o,c,J,E);Y+=2*q.JU.uU(C+v.x+f,Z+v.y+m,C+f,Z+m,o,c,J,E);
K+=3*q.JU.uU(C+_.x,Z+_.y,C,Z,o,c,J,E);K+=2*q.JU.uU(C+_.x+f,Z+_.y+m,C+f,Z+m,o,c,J,E)}else if(bz>1){if(x[$]==x[A]){var d=0;
d+=q.JU.uU(g+_.x,H+_.y,g+v.x,H+v.y,o,c,J,E);d+=q.JU.uU(C+_.x,Z+_.y,C+v.x,Z+v.y,o,c,J,E);U[R]=$;U[R+1]=A;
I[R]=d;I[R+1]=d;R+=2}else{var G=top[x[A]],r=y,X=0,w=0,S=0;y++;X+=q.JU.uU(g+_.x,H+_.y,g+v.x,H+v.y,o,c,J,E);
X+=q.JU.uU(C+_.x,Z+_.y,C+v.x,Z+v.y,o,c,J,E);w+=q.JU.uU(g+G.x,H+G.y,g+v.x,H+v.y,o,c,J,E);w+=q.JU.uU(C+G.x,Z+G.y,C+v.x,Z+v.y,o,c,J,E);
S+=q.JU.uU(g+G.x,H+G.y,g+_.x,H+_.y,o,c,J,E);S+=q.JU.uU(C+G.x,Z+G.y,C+_.x,Z+_.y,o,c,J,E);U[R]=$;U[R+1]=r;
I[R]=X;I[R+1]=X;R+=2;U[R]=A;U[R+1]=r;I[R]=w;I[R+1]=w;R+=2;U[R]=r;U[R+1]=l+1;I[R]=S;I[R+1]=0;R+=2}}}U[R]=l;
U[R+1]=$;I[R]=Y;I[R+1]=0;R+=2;U[R]=$;U[R+1]=l+1;I[R]=K;I[R+1]=0;R+=2;t+=Math.min(Y,K)}if(t>a)continue;
var z=q.u$.qU(y,R,l,l+1,U,I,a);if(z.X3<a){a=z.X3;var s=x.slice(0);q.JU.a1i(s,R,U,z.dE,P,l);T=s}}if(a*1>=k){break}k=a;
x=T;if((B&3)==0){if(a*1.03>=j)break;j=a}if((B&3)==0){var M=0*top.length;for(var $=0;$<top.length&&top.length>M;
$++){if(x.indexOf($)!=-1)continue;top.splice($,1);for(var A=0;A<x.length;A++)if(x[A]>$)x[A]--;$--}}}return x};
q.JU.a1i=function(x,J,o,c,E,b){for(var $=0;$<c.length;$++){var l=c[$]<<1,i=0,F=0;if(l<J){i=o[l];F=o[l+1]}else{F=o[l];
i=o[l+1]}if(i==b&&x[F]!=E)x[F]=E}};q.JU.azJ=function(top,x,J,o,c,E,b,l,i){for(var $=0;$<J.length;$++){var F=J[$],k=!0;
if(l!=null&&!(q.JU.P2(l+F.x,i+F.y,E,b)&&o[E*(i+F.y)+l+F.x]==-1))continue;if(F.ex==-1)F.ex=q.JU.a3v(F,o,c,E,b);
if(F.ex<=0)continue;for(var U=0;U<top.length;U++){var I=top[U],V=F.x-I.x,u=F.y-I.y;if(V*V+u*u<x){k=!1;
break}}if(k)return F}return null};q.JU.a3v=function(x,J,o,c,E){var b=0;for(var $=0;$<o.length;$+=2){var l=o[$]+x.x,i=o[$+1]+x.y;
if(q.JU.P2(l,i,c,E)&&J[c*i+l]==-1)b++}return b/(o.length>>1)};q.JU.a6E=function(x,J,o,c,E,b){var top=[];
for(var $=0;$<60;$++){var l=q.JU.azJ(top,25,o,c,E,x,J);if(l==null)break;else top.push(l)}if(top.length==0)return null;
var i=[];for(var $=0;$<b;$++){var F=E[$*2],k=E[$*2+1],U=-1,I=0;while(!0){I++;var V=Math.random();U=Math.floor(V*.99999*top.length);
var u=top[U],N=F+u.x,e=k+u.y;if(q.JU.P2(N,e,x,J)&&c[e*x+N]==-1)break;if(I>100){var l;l=q.JU.azJ(top,0,o,c,E,x,J,F,k);
if(l==null)return null;top.push(l);I=0}}i.push(U)}return{top:top,ff:i}};q.JU.uU=function(x,J,o,c,E,b,l,i){if(x==o&&J==c)return 0;
if(x<0||J<0||x>=E||J>=b||o<0||c<0||o>=E||c>=b||i[J*E+x]!=-1||i[c*E+o]!=-1)return 1e7;var F=J*E+x<<2,k=c*E+o<<2,U=l[F]-l[k],I=l[F+1]-l[k+1],V=l[F+2]-l[k+2];
return 1+(U*U+I*I+V*V)};q.JU.P2=function(x,J,o,c){return x>=0&&x<o&&J>=0&&J<c};q.JU.acb=function(x,J,o,c){var E=24*x,b=J[E],l=J[E+1],i=c*c,F=0,V=1e9;
while(o[F]!=99)if(J[E+o[F]]<o[F+1])F=o[F+2];else F=o[F+3];var k=o[F+1],U=o[F+2],I=-1;for(var $=k;$<=U;
$++){var F=$,u=F*24,N=J[u],e=J[u+1];if((N-b)*(N-b)+(e-l)*(e-l)<i)continue;var B=q.JU.getError(u,E,J,V);
if(B<V){V=B;I=F}}return I};q.JU.getError=function(x,J,o,c){var E=0;for(var b=4;b<24;b+=4){var l=o[J+b]-o[x+b],i=o[J+b+1]-o[x+b+1],F=o[J+b+2]-o[x+b+2],k=o[J+b+3]-o[x+b+3];
E+=l*l+i*i+F*F+k*k;if(E>=c)return E+1}return E};q.JU.VO=function(x,J,o,c,E){var b=16,V=0;if(J-x<=b){o.push(99,x,J);
return}q.JU.Cg(x,J,c,E);var l=-1,i=-1;for(var $=4;$<24;$++){var F=E[2*$+1]-E[2*$];if(F>i){i=F;l=$}}var k=x+J>>1,U=q.JU.abV(k,x,J,c,l),I=-1;
for(var $=x;$<=J;$++)if(c[24*$+l]==U){if(I==-1)I=$;V=$}if(x+8<I&&I-x>J-V)k=I;else if(V+1<J-8)k=V+1;else if(J-x<64){o.push(99,x,J);
return}else k=k;var u=o.length;o.push(l,U,0,0);o[u+2]=u+4;q.JU.VO(x,k-1,o,c,E);o[u+3]=o.length;q.JU.VO(k,J,o,c,E)};
q.JU.Cg=function(x,J,o,c){for(var $=0;$<48;$+=4){c[$]=3e4;c[$+1]=-3e4;c[$+2]=3e4;c[$+3]=-3e4}for(var $=x;
$<=J;$++){var E=$*24;for(var b=0;b<24;b++){var l=o[E+b],i=c[b<<1],F=c[(b<<1)+1];if(l<i)c[b<<1]=l;if(l>F)c[(b<<1)+1]=l}}};
q.JU.vT=function(x,J,o){var c=0,$=0;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;
$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;
$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;
$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;
$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;
$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;
$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;
$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;
$++;c=o[x+$];o[x+$]=o[J+$];o[J+$]=c;$++};q.JU.J$=function(x,J,o,c){var E=o+c>>>1,b=x[24*E+J];while(o<=c){while(x[24*o+J]<b)o++;
while(x[24*c+J]>b)c--;if(o<=c){if(x[24*o+J]!=x[24*c+J])q.JU.vT(o*24,c*24,x);o++;c--}}return o};q.JU.abV=function(x,J,o,c,E){var b=0;
while(J!=o){b=q.JU.J$(c,E,J,o);if(x<b)o=b-1;else J=b}return c[x*24+E]};q.JU.N8=function(x,J,o,c){for(var $=0;
$<c;$++)J[o+$]=x[$]};q.JU.am2=function(x,J,o,c,E,b,l,i,F){var k=(c-3)*E+(o-3),U=k<<2;for(var I=0;I<8;
I++){if(J[k]+J[k+1]+J[k+2]+J[k+3]+J[k+4]+J[k+5]+J[k+6]+J[k+7]!=0||x[U+3]<200||x[U+7]<200||x[U+11]<200||x[U+15]<200||x[U+19]<200||x[U+23]<200||x[U+27]<200||x[U+31]<200)return 1;
var $=I<<3;l[$+0]=x[U+0];i[$+0]=x[U+1];F[$+0]=x[U+2];l[$+1]=x[U+4];i[$+1]=x[U+5];F[$+1]=x[U+6];l[$+2]=x[U+8];
i[$+2]=x[U+9];F[$+2]=x[U+10];l[$+3]=x[U+12];i[$+3]=x[U+13];F[$+3]=x[U+14];l[$+4]=x[U+16];i[$+4]=x[U+17];
F[$+4]=x[U+18];l[$+5]=x[U+20];i[$+5]=x[U+21];F[$+5]=x[U+22];l[$+6]=x[U+24];i[$+6]=x[U+25];F[$+6]=x[U+26];
l[$+7]=x[U+28];i[$+7]=x[U+29];F[$+7]=x[U+30];U+=E<<2;k+=E}return 0};q.JU.aT=function(x,J){J[0]=x[32]+x[0];
J[1]=x[33]+x[1];J[2]=x[34]+x[2];J[3]=x[35]+x[3];J[4]=x[36]+x[4];J[5]=x[37]+x[5];J[6]=x[38]+x[6];J[7]=x[39]+x[7];
J[8]=x[40]+x[8];J[9]=x[41]+x[9];J[10]=x[42]+x[10];J[11]=x[43]+x[11];J[12]=x[44]+x[12];J[13]=x[45]+x[13];
J[14]=x[46]+x[14];J[15]=x[47]+x[15];J[16]=x[48]+x[16];J[17]=x[49]+x[17];J[18]=x[50]+x[18];J[19]=x[51]+x[19];
J[20]=x[52]+x[20];J[21]=x[53]+x[21];J[22]=x[54]+x[22];J[23]=x[55]+x[23];J[24]=x[56]+x[24];J[25]=x[57]+x[25];
J[26]=x[58]+x[26];J[27]=x[59]+x[27];J[28]=x[60]+x[28];J[29]=x[61]+x[29];J[30]=x[62]+x[30];J[31]=x[63]+x[31];
J[32]=x[0]-x[32];J[33]=x[1]-x[33];J[34]=x[2]-x[34];J[35]=x[3]-x[35];J[36]=x[4]-x[36];J[37]=x[5]-x[37];
J[38]=x[6]-x[38];J[39]=x[7]-x[39];J[40]=x[8]-x[40];J[41]=x[9]-x[41];J[42]=x[10]-x[42];J[43]=x[11]-x[43];
J[44]=x[12]-x[44];J[45]=x[13]-x[45];J[46]=x[14]-x[46];J[47]=x[15]-x[47];J[48]=x[16]-x[48];J[49]=x[17]-x[49];
J[50]=x[18]-x[50];J[51]=x[19]-x[51];J[52]=x[20]-x[52];J[53]=x[21]-x[53];J[54]=x[22]-x[54];J[55]=x[23]-x[55];
J[56]=x[24]-x[56];J[57]=x[25]-x[57];J[58]=x[26]-x[58];J[59]=x[27]-x[59];J[60]=x[28]-x[60];J[61]=x[29]-x[61];
J[62]=x[30]-x[62];J[63]=x[31]-x[63];x[0]=J[16]+J[0];x[1]=J[17]+J[1];x[2]=J[18]+J[2];x[3]=J[19]+J[3];
x[4]=J[20]+J[4];x[5]=J[21]+J[5];x[6]=J[22]+J[6];x[7]=J[23]+J[7];x[8]=J[24]+J[8];x[9]=J[25]+J[9];x[10]=J[26]+J[10];
x[11]=J[27]+J[11];x[12]=J[28]+J[12];x[13]=J[29]+J[13];x[14]=J[30]+J[14];x[15]=J[31]+J[15];x[16]=J[0]-J[16];
x[17]=J[1]-J[17];x[18]=J[2]-J[18];x[19]=J[3]-J[19];x[20]=J[4]-J[20];x[21]=J[5]-J[21];x[22]=J[6]-J[22];
x[23]=J[7]-J[23];x[24]=J[8]-J[24];x[25]=J[9]-J[25];x[26]=J[10]-J[26];x[27]=J[11]-J[27];x[28]=J[12]-J[28];
x[29]=J[13]-J[29];x[30]=J[14]-J[30];x[31]=J[15]-J[31];J[0]=x[8]+x[0];J[1]=x[9]+x[1];J[2]=x[10]+x[2];
J[3]=x[11]+x[3];J[4]=x[12]+x[4];J[5]=x[13]+x[5];J[6]=x[14]+x[6];J[7]=x[15]+x[7];J[8]=x[0]-x[8];J[9]=x[1]-x[9];
J[10]=x[2]-x[10];J[11]=x[3]-x[11];J[12]=x[4]-x[12];J[13]=x[5]-x[13];J[14]=x[6]-x[14];J[15]=x[7]-x[15];
x[0]=J[4]+J[0];x[1]=J[5]+J[1];x[2]=J[6]+J[2];x[3]=J[7]+J[3];x[4]=J[0]-J[4];x[5]=J[1]-J[5];x[6]=J[2]-J[6];
x[7]=J[3]-J[7];x[8]=J[12]+J[8];x[9]=J[13]+J[9];x[10]=J[14]+J[10];x[11]=J[15]+J[11];x[12]=J[8]-J[12];
x[13]=J[9]-J[13];x[14]=J[10]-J[14];x[15]=J[11]-J[15];J[0]=x[2]+x[0];J[1]=x[3]+x[1];J[2]=x[0]-x[2];J[3]=x[1]-x[3];
J[4]=x[6]+x[4];J[5]=x[7]+x[5];J[6]=x[4]-x[6];J[7]=x[5]-x[7];J[8]=x[10]+x[8];J[9]=x[11]+x[9];J[10]=x[8]-x[10];
J[11]=x[9]-x[11];J[12]=x[14]+x[12];J[13]=x[15]+x[13];J[14]=x[12]-x[14];J[15]=x[13]-x[15];x[0]=J[1]+J[0];
x[1]=J[0]-J[1];x[2]=J[3]+J[2];x[3]=J[2]-J[3];x[4]=J[5]+J[4];x[5]=J[4]-J[5];x[6]=J[7]+J[6];x[7]=J[6]-J[7];
x[8]=J[9]+J[8];x[9]=J[8]-J[9];x[10]=J[11]+J[10];x[11]=J[10]-J[11];x[12]=J[13]+J[12];x[13]=J[12]-J[13];
x[14]=J[15]+J[14];x[15]=J[14]-J[15]};q.JU.ayr=function(){var x="",bz=64,J="v",o="t",c="a",E=5,$,b,l;
for($=bz>>1;$>0;$>>=1,E--){for(b=0;b<bz;b++){l=(b>>E&1)!=0;if(l){x+=o+"["+b+"] = "+J+"["+(-$+b)+"] - "+J+"["+b+"];  "}else{x+=o+"["+b+"] = "+J+"["+($+b)+"] + "+J+"["+b+"];  "}}c=J;
J=o;o=c;x+="\n"}console.log(x)};q.JU.ace=function(bz,x,J){var o=x,c=J,E=o,b=0,$,i,F;while(bz>>b!=2)b++;
var l=b;for($=bz>>1;$>0;$>>=1,b--){for(i=0;i<bz;i++){F=(i>>b&1)!=0;if(F)c[i]=o[-$+i]-o[i];else c[i]=o[$+i]+o[i]}E=o;
o=c;c=E}if((l&1)==1)for($=0;$<bz;$++)J[$]=o[$]};q.$T={};q.$T.s9=function(x,J,o,c,E,b,l,i,F){var k=Date.now(),U=new Uint32Array(x.buffer),I=new Uint32Array(J.buffer),V=l/o,u=i/c,N=1/V,e=1/u,B=new Float64Array(2),j=3,T=1/j,a=1/(j*j),P=0,v=0,R=o,y=c;
if(E){P=E.x;v=E.y;R=E.m;y=E.e}for(var t=0;t<y;t++)for(var g=0;g<R;g++){var H=P+g,_=v+t,$=_*o+H,Y=$<<1,K=$<<2;
q.$T.alg(b,l,i,(H+.5)*V,(_+.5)*u,B);var f=B[0]*N,m=B[1]*e;if(f==0&&m==0)I[$]=U[$];else{q.D.p6(H+f+.5,_+m+.5,U,o,c,I,$,F)}}};
q.$T.alg=function(x,J,o,c,E,b){c-=.499999;E-=.499999;var l=~~c,i=~~E,F=c-l,k=E-i,U=(1-k)*(1-F),I=(1-k)*F,V=k*(1-F),u=k*F,N=l<J-1?l+1:l,e=i<o-1?i+1:i,B=i*J+l<<1,j=i*J+N<<1,T=e*J+l<<1,a=e*J+N<<1;
b[0]=U*x[B]+I*x[j]+V*x[T]+u*x[a];b[1]=U*x[B+1]+I*x[j+1]+V*x[T+1]+u*x[a+1]};q.$T.ayG=function(x,J,o,c,E){var b=1/x,l=[-1,1,-x,x],i=c.length;
for(var F=0;F<i;F++){var $=c[F],k=$<<1,U=F<<1,I=~~($*b),V=$-x*I,u=o[k],N=o[k+1],e=0,B=0;if(V!=0&&V!=x-1){var j=$-1<<1,T=$+1<<1,a=o[j],P=o[T],v=o[j+1],R=o[T+1],y=u-(a+P)*.5,t=N-(v+R)*.5;
e-=y*E;B-=t*E}if(I!=0&&I!=J-1){var j=$-x<<1,T=$+x<<1,a=o[j],P=o[T],v=o[j+1],R=o[T+1],y=u-(a+P)*.5,t=N-(v+R)*.5;
e-=y*E;B-=t*E}o[k]=u+e;o[k+1]=N+B}};q.$T.a0u=function(x,J){var o=x+","+J;if(q.$T.aeU==o)return q.$T.avv;
var c=q.$T.avv=[];q.$T.aeU=o;for(var $=0;$<=1e3;$++){var E=$*.001,b=Math.sqrt(E),l=Math.exp(-4*b),i=.96*(1-b*b),F=J*((1-x)*l+x*i);
c[$]=F}return c};q.$T.aeU="";q.$T.avv=[];q.$T.a6$=function(x,J,o,c,E,b,l,i,F,k,U,I,V){var u=Math.max(0,Math.floor(E-l-1)),N=Math.min(J,Math.ceil(E+l+1)),e=Math.max(0,Math.floor(b-l-1)),B=Math.min(o,Math.ceil(b+l+1)),j=2*J,T=l*l,a=1/l,P=0;
if(V&&(c==3||c==6))F=-F;var v=q.$T.a0u(i,F);for(var R=e;R<B;R++)for(var y=u;y<N;y++){var $=R*J+y,t=$<<1,g=(E-y)*a,H=(b-R)*a,_=g*g+H*H;
if(_<1){I[P]=$;var Y=v[~~(_*1e3)];if(c==1){x[t]=x[t]*(1-Y*.05);x[t+1]=x[t+1]*(1-Y*.05)}else{var K=0,f=0,Z,A,d,G;
if(c==0){K=k*Y;f=U*Y}else if(c==2){}else if(c==3){K=Y*H;f=-Y*g}else if(c==4){K=Y*g;f=Y*H}else if(c==5){K=-Y*g;
f=-Y*H}else if(c==6){K=U*Y;f=-k*Y}var m=x[t],C=x[t+1];if(y==0||y!=J-1&&K<0){Z=1+x[t+2]-m;d=x[t+3]-C}else{Z=m-x[t-2]+1;
d=C-x[t-1]}if(R==0||R!=o-1&&f<0){A=x[t+j]-m;G=1+x[t+j+1]-C}else{A=m-x[t-j];G=C-x[t-j+1]+1}x[t]=-(Z*K+A*f-m);
x[t+1]=-(d*K+G*f-C)}P++}}};q.$T.aw8=function(x){var J=x[0],o=x[0],c=x[1],E=x[1];for(var $=0;$<x.length;
$+=2){var b=x[$],l=x[$+1];if(b<J)J=b;else if(b>o)o=b;if(l<c)c=l;else if(l>E)E=l}return[J,c,o,E]};q.aw5=function(x,J,o,c,E){function b(W,e9,jV,co){return Math.sqrt((W-jV)*(W-jV)+(e9-co)*(e9-co))}function l(W,e9){return W>=0&&W<J&&e9>=0&&e9<o}function i(W){if(W<0)return 0;
if(W>=J)return J-1;return W}function F(W){if(W<0)return 0;if(W>=o)return o-1;return W}function k($,W){var e9=W[3]*(1/255),jV=c[$]+W[0]*e9;
if(jV>255)jV=255;c[$]=jV;jV=c[$+1]+W[1]*e9;if(jV>255)jV=255;c[$+1]=jV;jV=c[$+2]+W[2]*e9;if(jV>255)jV=255;
c[$+2]=jV}function U(W,e9,jV){if(!r(W,e9))return;if(jV[3]<0)jV[3]=0;k((e9*J+W)*4,jV)}function I(W){var e9=W.slice(0,3);
e9[3]=0;return e9}var V=J/800;function u(W){return Math.round(W*V)}function N(){for(var $=0;$<=300;$++){w[$]=e($)}}function e(o){var W=.8,e9=.2,jV=W*e9,co=o/60%2-1,dz=jV*(1-co*co),eh=e9-jV,a9;
if(o<60){a9=[jV+eh,dz,0]}else if(o<120){a9=[dz,jV,0]}else if(o<180){a9=[0,jV,dz]}else if(o<240){a9=[0,dz,jV]}else if(o<300){a9=[dz,0,jV]}else{a9=[jV,0,dz]}return[(a9[0]+eh)*255,(a9[1]+eh)*255,(a9[2]+eh)*255]}function B(o){return w[~~o]}function j(W){return 1-T(W)}function T(W){return W-~~W}function a(W,e9,jV,co){d(W,e9,jV,0,e9+1,1,co)}function P(W,e9,jV,co,dz,eh){d(W,e9,jV,0,co,1,dz,eh)}function v(W){for(var $=0;
$<c.length;$+=4){k($,W)}}function R(W,e9,jV,co,dz,eh,a9,kB){y(W,e9,jV,co,dz,1,eh,a9,kB)}function y(W,e9,jV,co,dz,eh,a9,kB,dc){if(eh==null)eh=.5;
if(a9==null)a9=0;if(kB==null)kB=0;if(dc==null)dc=!1;var eT=W.x,fv=W.y,jS=jV.slice(0),cx=~~(jV[3]*z);
co=co*z;if(!dc){e9=G(e9);dz=G(dz);a9=G(a9);kB=G(kB)}var bX=i(eT-e9),gi=i(eT+e9);for(var cM=bX;cM<=gi;
cM++){var ea=cM-eT,a1=Math.floor(Math.sqrt(e9*e9-ea*ea)),db=F(fv-a1),d2=F(fv);for(var hu=db;hu<=d2;hu++){var fF=b(cM,hu,eT,fv);
if(fF>e9||fF<=e9-dz)break;var il=(fF-e9+dz)/dz;jS[3]=cx-co*(eh==1?il:Math.pow(il,eh));k((hu*J+cM)*4,jS)}db=F(fv+a1);
for(var hu=db;hu>d2;hu--){var fF=b(cM,hu,eT,fv);if(fF>e9||fF<=e9-dz)break;var il=(fF-e9+dz)/dz;jS[3]=cx-co*(eh==1?il:Math.pow(il,eh));
k((hu*J+cM)*4,jS)}}if(a9>0){d(W,e9+a9,jS,jS[3],a9,1,0,0,!0)}if(kB>0){d(W,e9-dz,X(jV),-jV[3],kB,1,0,0,!0)}}function t(W,e9,jV,co,dz,eh){d(W,e9,jV,jV[3],e9+1,1,co,dz,eh)}function g(W,e9,jV,co,dz){if(dz==null)dz=!1;
var eh=W.x,a9=W.y;co*=z;if(!dz){e9=G(e9);jV=G(jV)}var kB=i(eh-e9),dc=i(eh+e9);for(var eT=kB;eT<dc;eT++){var fv=eT-eh,jS=~~Math.sqrt(e9*e9-fv*fv),cx=F(a9-jS),bX=F(a9);
for(var gi=cx;gi<=bX;gi++){var cM=b(eT,gi,eh,a9);if(cM>e9||cM<=e9-jV)break;var ea=(e9-cM)/jV,a1=B(300*ea);
a1[3]=co;k((gi*J+eT)*4,a1)}cx=F(a9+jS);for(var gi=cx;gi>bX;gi--){var cM=b(eT,gi,eh,a9);if(cM>e9||cM<=e9-jV)break;
var ea=(e9-cM)/jV,a1=B(300*ea);a1[3]=co;k((gi*J+eT)*4,a1)}}}function H(S,W){var e9=S.we,jV=S.Rz,co=W.slice(0),dz=W[3]*z,eh=Math.abs(jV.y-e9.y)>Math.abs(jV.x-e9.x);
if(eh){var a9=e9.x;e9.x=e9.y;e9.y=a9;a9=jV.x;jV.x=jV.y;jV.y=a9}if(e9.x>jV.x){var a9=e9;e9=jV;jV=a9}var kB=jV.x-e9.x,dc=jV.y-e9.y,eT=kB==0?1:dc/kB,fv=Math.round(e9.x),jS=e9.y+eT*(fv-e9.x),cx=j(e9.x+.5),bX=fv,gi=~~jS;
if(eh){co[3]=dz*j(jS)*cx;U(gi,bX,co);co[3]=dz*T(jS)*cx;U(gi+1,bX,co)}else{co[3]=dz*j(jS)*cx;U(bX,gi,co);
co[3]=dz*T(jS)*cx;U(bX,gi+1,co)}var cM=jS-eT;fv=Math.round(jV.x);jS=jV.y+eT*(fv-jV.x);cx=T(jV.x+.5);
var ea=fv,a1=~~jS;if(eh){co[3]=dz*j(jS)*cx;U(a1,ea,co);co[3]=dz*T(jS)*cx;U(a1+1,ea,co)}else{co[3]=dz*j(jS)*cx;
U(ea,a1,co);co[3]=dz*T(jS)*cx;U(ea,a1+1,co)}if(eh){for(var db=bX+1;db<=ea-1;db++){co[3]=dz*j(cM);U(~~cM,db,co);
co[3]=dz*T(cM);U(~~cM+1,db,co);cM+=eT}}else{for(var db=bX+1;db<=ea-1;db++){co[3]=dz*j(cM);U(db,~~cM,co);
co[3]=dz*T(cM);U(db,~~cM+1,co);cM+=eT}}}function _(W,e9,jV,co){for(var $=0;$<4;$++){var dz=W.rD(e9+1.3*$,jV);
H(dz,co,1)}}function ck(W,e9){this.x=Math.round(W);this.y=Math.round(e9)}var Y=Math.PI/180;ck.prototype.rD=function(W,e9){W=W*Y;
var jV=this.x+e9*Math.cos(W),co=this.y+e9*Math.sin(W);return new K(this.x,this.y,jV,co)};ck.prototype.ajY=function(W,e9){W=W*Y;
var jV=this.eO+e9*Math.cos(W),co=this.Nr+e9*Math.sin(W);return new ck(jV,co)};function K(W,e9,jV,co){this.we=new ck(W,e9);
this.Rz=new ck(jV,co)}K.prototype.ld=function(W){var e9=W*this.we.x+(1-W)*this.Rz.x,jV=W*this.we.y+(1-W)*this.Rz.y;
return new ck(e9,jV)};var f=R,m=t,C=a,Z=P,A=g,d=y,G=u,r=l,X=I,w=[];N();for(var $=0;$<x.length;$++){c[$]=x[$]}var S=new K(J*E[2],o*E[3],J/2,o/2),z=E[1],s=[];
s[0]=function M(){var W=[80,40,15,60],jV=0,co=0;C(S.ld(1.4),260,W,10);C(S.ld(1),100,[240,50,50,30],30);
m(S.ld(1),60,[255,40,0,40]);var e9=[255,255,255,255];d(S.ld(1),70,e9,e9[3],58,.5);C(S.ld(1),12,e9);e9[3]=40;
f(S.ld(1),150,e9,e9[3],150);for(var $=0;$<40;$++){jV+=Math.random()*25;co=Math.random()*G(300)+G(100);
var dz=S.ld(1).rD(jV,co);H(S.ld(1).rD(jV,co),[110,110,110,30])}m(S.ld(1),130,[255,255,255,8]);var eh=[170,30,23,70];
Z(S.ld(1),70,eh,1,3,3);var a9=[60,60,130,40];C(S.ld(.47),44,a9,5);C(S.ld(.43),22,a9,3);a9[3]=16;C(S.ld(.53),15,a9,2);
var kB=[138,94,42,100];C(S.ld(.2),16,kB,2);var dc=[130,255,170,180];m(S.ld(0),4,dc);m(S.ld(-.25),5,dc);
kB=[150,90,0,50];f(S.ld(-.45),55,X(kB),-kB[3],40,2);C(S.ld(-.42),35,kB,2);C(S.ld(-.5),15,kB,2);A(S.ld(-1.28),145,11,70);
var eT=B(0);eT[3]=50;f(S.ld(-1.28),149,eT,eT[3],4);eT=B(300);eT[3]=50;f(S.ld(-1.28),155-1,X(eT),-eT[3],3);
var fv=[130,130,10,50];Z(S.ld(-1),73,fv,3,2);var jS=[40,130,70,40];f(S.ld(-1),70,X(jS),-jS[3],35);jS=[40,170,60,50];
C(S.ld(-.7),25,jS,4);var jS=[70,110,50,60];f(S.ld(1.3),30,X(jS),-jS[3],11,3);a9=[0,50,210,80];m(S.ld(-.72),20,a9)};
s[1]=function Q(){m(S.ld(1),150,[240,70,70,60]);C(S.ld(1),100,[200,60,60,40],30);var W=[255,255,255,255],e9=0,jV=0;
d(S.ld(1),75,W,W[3],63);C(S.ld(1),12,W);m(S.ld(1),270,[200,200,200,20],10);for(var $=0;$<10;$++){e9+=10+Math.random()*40;
jV=Math.random()*G(250)+G(80);var co=S.ld(1).rD(e9,jV);H(co,[110,110,110,35])}e9=5;jV=100;for(var $=0;
$<12;$++){e9+=30;_(S.ld(1),e9,jV,[90,90,90,40])}var dz=[150,40,23,100];Z(S.ld(1),70,dz,1,3,3);var eh=[30,100,60,40];
m(S.ld(-.9),180,[255,255,255,20]);C(S.ld(-.9),140,eh,15);var a9=[170,80,25,15];Z(S.ld(-.9),120,a9,1,4,4);
var kB=[110,240,190,200];m(S.ld(-.6),3,kB);kB[3]=100;m(S.ld(-.6),7,kB);var dc=[230,120,40,85];m(S.ld(-.73),9,dc);
var eT=[60,60,190,50];C(S.ld(.3),28,eT,6);eT[3]=25;C(S.ld(.34),20,eT,3)};s[2]=function O(){var W=[255,255,255,255],jV=0,co=0;
C(S.ld(1),13,W);d(S.ld(1),150,W,W[3],137);var e9=[120,80,35,20];C(S.ld(1.4),260,e9,10);for(var $=0;$<40;
$++){jV+=5+Math.random()*30;co=Math.random()*G(300);H(S.ld(1).rD(jV,co),[110,110,110,20])}var dz=[10,30,255,30];
C(S.ld(1),70,dz,50);var eh=[15,90,170,15];C(S.ld(1.5),60,eh);var a9=[220,220,20,50];C(S.ld(-1.15),8,a9,2);
var W=[255,255,255,40];m(S.ld(-1.18),6,W);m(S.ld(-1.18),4,W);a9=[110,110,10,8];f(S.ld(-1.2),32,X(a9),-a9[3],20,3);
var kB=[5,0,16,255];for(var $=0;$<4;$++){C(S.ld(-1.36),10,kB,3)}var dc=[90,200,150,20],eT=dc.slice(0);
eT[3]*=2;C(S.ld(-1.32),7,eT,3);C(S.ld(-1.36),7,eT,3);C(S.ld(-1.4),7,eT,3);var W=[230,230,230,100];m(S.ld(-1.36),2,W);
W[3]=3;C(S.ld(-.55),10,W);a9=[120,100,10,18];C(S.ld(-.55),160,a9,8);C(S.ld(-.55),80,a9,4);dc[3]=3;eT[3]=6;
f(S.ld(-.49),13,X(eT),-eT[3],13,2);f(S.ld(-.55),13,X(eT),-eT[3],13,2);dc[3]=20;C(S.ld(.15),25,dc,3);
a9[3]=100;m(S.ld(-.52),3,a9);a9=[200,200,50,40];C(S.ld(.27),1,a9,4);var fv=[150,40,23,30];f(S.ld(1),80,X(fv),-fv[3],2,1)};
return s[E[0]]()};q.ng={};q.ng.NB=function(x){var J=x.length,bz=x[0].length,o=new Array(bz);for(var $=0;
$<bz;$++)o[$]=new Array(J);for(var $=0;$<bz;$++)for(var c=0;c<J;c++)o[$][c]=x[c][$];return o};q.ng._u=function(x,J){var o=x.length,bz=x[0].length,c=new Array(o);
for(var $=0;$<o;$++)c[$]=new Array(bz);for(var $=0;$<o;$++)for(var E=0;E<bz;E++)c[$][E]=x[$][E]-J[$][E];
return c};q.ng.add=function(x,J){var o=x.length,bz=x[0].length,c=new Array(o);for(var $=0;$<o;$++)c[$]=new Array(bz);
for(var $=0;$<o;$++)for(var E=0;E<bz;E++)c[$][E]=x[$][E]+J[$][E];return c};q.ng.multiply=function(x,J){var o=x.length,c=x[0].length,bz=J[0].length;
if(c!=J.length)throw"e";var E=new Array(o);for(var $=0;$<o;$++)E[$]=new Array(bz);if((c&1)!=0)for(var $=0;
$<o;$++){var b=x[$],l=E[$];for(var i=0;i<bz;i++){var F=0;for(var k=0;k<c;k++)F+=b[k]*J[k][i];l[i]=F}}else for(var $=0;
$<o;$++){var b=x[$],l=E[$];for(var i=0;i<bz;i++){var F=0;for(var k=0;k<c;k+=2)F+=b[k]*J[k][i]+b[k+1]*J[k+1][i];
l[i]=F}}return E};q.ng.Pf=function(x,J){var o=x.length,bz=x[0].length,c=new Array(o);for(var $=0;$<o;
$++){var E=0;for(var b=0;b<bz;b++)E+=x[$][b]*J[b];c[$]=E}return c};q.ng.R7=function(x,J){var o=[];for(var $=0;
$<x;$++){o.push([]);for(var c=0;c<J;c++)o[$].push(0)}return o};q.ng.akm=function(x){for(var $=0;$<x.length;
$++)console.log(JSON.stringify(x[$]))};q.ng.apJ=function(x){var J=[];for(var $=0;$<x.length;$++)J.push(x[$].join(","));
return"["+J.join(";")+"]"};q.ng.qU=function(x,J){var o=x.length;for(var c=0;c<o;c++){var E=0,b=Number.NEGATIVE_INFINITY;
for(var $=c;$<o;$++)if(Math.abs(x[$][c])>b){E=$;b=Math.abs(x[$][c])}q.ng.apl(x,c,E);for(var $=c+1;$<o;
$++){if(x[c][c]==0)return 1;var l=x[$][c]/x[c][c];for(var i=c;i<o+1;i++)x[$][i]-=x[c][i]*l}}for(var $=o-1;
$>=0;$--){if(x[$][$]==0)return 1;var F=x[$][o]/x[$][$];J[$]=F;for(var i=$-1;i>=0;i--){x[i][o]-=x[i][$]*F;
x[i][$]=0}}return 0};q.ng.apl=function(x,J,o){var c=x[J];x[J]=x[o];x[o]=c};q.ng.aB4=function(x){var J=x.length,o=q.ng.R7(J,J);
for(var $=0;$<J;$++)o[$][$]=x[$];return o};q.ng.ax_=function(x){var J=x.length,o=x[0].length,c=new Array(J);
for(var $=0;$<J;$++){c[$]=0;for(var E=0;E<o;E++)c[$]+=x[$][E];c[$]/=o}return c};q.ng.gk=function(x){var J=0;
for(var $=0;$<x.length;$++)J+=x[$]*x[$];return Math.sqrt(J)};q.Dk={};q.Dk.A9=function(x){var J=~~(x+.5);
return J<0?0:J>255?255:J};q.Dk.transform=function(x,J,o){var c=q.Dk.A9,E=x.o.length;for(var $=0;$<E;
$++){var b=x.o[$],l=x.I[$],i=x.J[$];J.o[$]=c(o[0]*b+o[1]*l+o[2]*i+o[3]*255);J.I[$]=c(o[4]*b+o[5]*l+o[6]*i+o[7]*255);
J.J[$]=c(o[8]*b+o[9]*l+o[10]*i+o[11]*255)}};q.Dk.a7O=function(x,J,o){var c=q.Dk.A9,E=x.length;for(var $=0;
$<E;$+=4){var b=x[$],l=x[$+1],i=x[$+2];J[$]=c(o[0]*b+o[1]*l+o[2]*i+o[3]*255);J[$+1]=c(o[4]*b+o[5]*l+o[6]*i+o[7]*255);
J[$+2]=c(o[8]*b+o[9]*l+o[10]*i+o[11]*255)}};q.Dk.a2m=function(x){var J=x[0]+x[1]+x[2],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(J==1){var c=x.indexOf(1);o[c]=o[c+4]=o[c+8]=1}else{o[0]=x[0];o[5]=x[1];o[10]=x[2]}return o};q.Dk.fc=function(x,J,o){return[1,0,0,x,0,1,0,J,0,0,1,o,0,0,0,1]};
q.Dk.wA=function(x,J,o){return[x,0,0,0,0,J,0,0,0,0,o,0,0,0,0,1]};q.Dk.ast=function(x){return[x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]]};
q.Dk.Mn=function(x){return[x[0],x[1],x[2],0,x[3],x[4],x[5],0,x[6],x[7],x[8],0,0,0,0,1]};q.Dk.Kg=function(x,J){return[x[0]*J[0]+x[1]*J[1]+x[2]*J[2]+x[3]*J[3],x[4]*J[0]+x[5]*J[1]+x[6]*J[2]+x[7]*J[3],x[8]*J[0]+x[9]*J[1]+x[10]*J[2]+x[11]*J[3],x[12]*J[0]+x[13]*J[1]+x[14]*J[2]+x[15]*J[3]]};
q.Dk.NB=function(x){var J=[];J[0]=x[0];J[1]=x[4];J[2]=x[8];J[3]=x[12];J[4]=x[1];J[5]=x[5];J[6]=x[9];
J[7]=x[13];J[8]=x[2];J[9]=x[6];J[10]=x[10];J[11]=x[14];J[12]=x[3];J[13]=x[7];J[14]=x[11];J[15]=x[15];
return J};q.Dk.add=function(x,J){var o=x.slice(0);for(var $=0;$<16;$++)o[$]+=J[$];return o};q.Dk.multiply=function(x,J){var o=[];
o[0]=x[0]*J[0]+x[1]*J[4]+x[2]*J[8]+x[3]*J[12];o[1]=x[0]*J[1]+x[1]*J[5]+x[2]*J[9]+x[3]*J[13];o[2]=x[0]*J[2]+x[1]*J[6]+x[2]*J[10]+x[3]*J[14];
o[3]=x[0]*J[3]+x[1]*J[7]+x[2]*J[11]+x[3]*J[15];o[4]=x[4]*J[0]+x[5]*J[4]+x[6]*J[8]+x[7]*J[12];o[5]=x[4]*J[1]+x[5]*J[5]+x[6]*J[9]+x[7]*J[13];
o[6]=x[4]*J[2]+x[5]*J[6]+x[6]*J[10]+x[7]*J[14];o[7]=x[4]*J[3]+x[5]*J[7]+x[6]*J[11]+x[7]*J[15];o[8]=x[8]*J[0]+x[9]*J[4]+x[10]*J[8]+x[11]*J[12];
o[9]=x[8]*J[1]+x[9]*J[5]+x[10]*J[9]+x[11]*J[13];o[10]=x[8]*J[2]+x[9]*J[6]+x[10]*J[10]+x[11]*J[14];o[11]=x[8]*J[3]+x[9]*J[7]+x[10]*J[11]+x[11]*J[15];
o[12]=x[12]*J[0]+x[13]*J[4]+x[14]*J[8]+x[15]*J[12];o[13]=x[12]*J[1]+x[13]*J[5]+x[14]*J[9]+x[15]*J[13];
o[14]=x[12]*J[2]+x[13]*J[6]+x[14]*J[10]+x[15]*J[14];o[15]=x[12]*J[3]+x[13]*J[7]+x[14]*J[11]+x[15]*J[15];
return o};q.Dk.Mr=function(x){var J=[];J[0]=x[5]*x[10]*x[15]-x[5]*x[14]*x[11]-x[6]*x[9]*x[15]+x[6]*x[13]*x[11]+x[7]*x[9]*x[14]-x[7]*x[13]*x[10];
J[1]=-x[1]*x[10]*x[15]+x[1]*x[14]*x[11]+x[2]*x[9]*x[15]-x[2]*x[13]*x[11]-x[3]*x[9]*x[14]+x[3]*x[13]*x[10];
J[2]=x[1]*x[6]*x[15]-x[1]*x[14]*x[7]-x[2]*x[5]*x[15]+x[2]*x[13]*x[7]+x[3]*x[5]*x[14]-x[3]*x[13]*x[6];
J[3]=-x[1]*x[6]*x[11]+x[1]*x[10]*x[7]+x[2]*x[5]*x[11]-x[2]*x[9]*x[7]-x[3]*x[5]*x[10]+x[3]*x[9]*x[6];
J[4]=-x[4]*x[10]*x[15]+x[4]*x[14]*x[11]+x[6]*x[8]*x[15]-x[6]*x[12]*x[11]-x[7]*x[8]*x[14]+x[7]*x[12]*x[10];
J[5]=x[0]*x[10]*x[15]-x[0]*x[14]*x[11]-x[2]*x[8]*x[15]+x[2]*x[12]*x[11]+x[3]*x[8]*x[14]-x[3]*x[12]*x[10];
J[6]=-x[0]*x[6]*x[15]+x[0]*x[14]*x[7]+x[2]*x[4]*x[15]-x[2]*x[12]*x[7]-x[3]*x[4]*x[14]+x[3]*x[12]*x[6];
J[7]=x[0]*x[6]*x[11]-x[0]*x[10]*x[7]-x[2]*x[4]*x[11]+x[2]*x[8]*x[7]+x[3]*x[4]*x[10]-x[3]*x[8]*x[6];J[8]=x[4]*x[9]*x[15]-x[4]*x[13]*x[11]-x[5]*x[8]*x[15]+x[5]*x[12]*x[11]+x[7]*x[8]*x[13]-x[7]*x[12]*x[9];
J[9]=-x[0]*x[9]*x[15]+x[0]*x[13]*x[11]+x[1]*x[8]*x[15]-x[1]*x[12]*x[11]-x[3]*x[8]*x[13]+x[3]*x[12]*x[9];
J[10]=x[0]*x[5]*x[15]-x[0]*x[13]*x[7]-x[1]*x[4]*x[15]+x[1]*x[12]*x[7]+x[3]*x[4]*x[13]-x[3]*x[12]*x[5];
J[11]=-x[0]*x[5]*x[11]+x[0]*x[9]*x[7]+x[1]*x[4]*x[11]-x[1]*x[8]*x[7]-x[3]*x[4]*x[9]+x[3]*x[8]*x[5];J[12]=-x[4]*x[9]*x[14]+x[4]*x[13]*x[10]+x[5]*x[8]*x[14]-x[5]*x[12]*x[10]-x[6]*x[8]*x[13]+x[6]*x[12]*x[9];
J[13]=x[0]*x[9]*x[14]-x[0]*x[13]*x[10]-x[1]*x[8]*x[14]+x[1]*x[12]*x[10]+x[2]*x[8]*x[13]-x[2]*x[12]*x[9];
J[14]=-x[0]*x[5]*x[14]+x[0]*x[13]*x[6]+x[1]*x[4]*x[14]-x[1]*x[12]*x[6]-x[2]*x[4]*x[13]+x[2]*x[12]*x[5];
J[15]=x[0]*x[5]*x[10]-x[0]*x[9]*x[6]-x[1]*x[4]*x[10]+x[1]*x[8]*x[6]+x[2]*x[4]*x[9]-x[2]*x[8]*x[5];var o=x[0]*J[0]+x[1]*J[4]+x[2]*J[8]+x[3]*J[12];
for(var $=0;$<16;$++)J[$]/=o;return J};q.Dk.a7T=function(x){var J=[],o=x[5]*x[10]*x[15]-x[5]*x[14]*x[11]-x[6]*x[9]*x[15]+x[6]*x[13]*x[11]+x[7]*x[9]*x[14]-x[7]*x[13]*x[10],c=-x[4]*x[10]*x[15]+x[4]*x[14]*x[11]+x[6]*x[8]*x[15]-x[6]*x[12]*x[11]-x[7]*x[8]*x[14]+x[7]*x[12]*x[10],E=x[4]*x[9]*x[15]-x[4]*x[13]*x[11]-x[5]*x[8]*x[15]+x[5]*x[12]*x[11]+x[7]*x[8]*x[13]-x[7]*x[12]*x[9],b=-x[4]*x[9]*x[14]+x[4]*x[13]*x[10]+x[5]*x[8]*x[14]-x[5]*x[12]*x[10]-x[6]*x[8]*x[13]+x[6]*x[12]*x[9];
return x[0]*o+x[1]*c+x[2]*E+x[3]*b};q.Dk.ac8=function(x,J,o,c){var E=Math.sin(c),b=Math.cos(c),l=1/Math.sqrt(x*x+J*J+o*o);
x*=l;J*=l;o*=l;return q.Dk.Mn([x*x*(1-b)+b,x*J*(1-b)-o*E,x*o*(1-b)+J*E,x*J*(1-b)+o*E,J*J*(1-b)+b,J*o*(1-b)-x*E,x*o*(1-b)-J*E,J*o*(1-b)+x*E,o*o*(1-b)+b])};
q.Dk.VU=q.Dk.Mn([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
q.Dk.aaY=q.Dk.Mn([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
q.Dk.aAL=q.Dk.Mr(q.Dk.VU);q.u$={};q.u$.AS=new Uint32Array(1);q.u$.akd=function(x,J,o,c,E,b){var l=new Uint32Array(x),i=0,F=q.u$.AS;
if(F.length<J*4)q.u$.AS=F=new Uint32Array(J*4);var k=new Float64Array(F.buffer);for(var $=0;$<J;$+=2){var U=E[$],I=E[$+1],V=b[$],u=b[$+1];
F[i]=I;k[i+2>>1]=V;F[i+1]=l[U];l[U]=i+1;i+=4;F[i]=U;k[i+2>>1]=u;F[i+1]=l[I];l[I]=i+1;i+=4}return{wT:F,a5N:k,a9r:l}};
q.u$.qU=function(x,J,o,c,E,b,l){var i=1,F=q.u$.akd(x,J,o,c,E,b),k=F.wT,U=F.a5N,I=F.a9r,V=new Uint32Array(x),u=new q.u$.JG(x),e=1,P=0;
u.push(o);u.push(c);var N=new q.u$.JG(x),B=new Uint8Array(x),j=new Uint32Array(x);B[o]=1;B[c]=2;var T=new Uint32Array(x),a=new Uint32Array(x);
a[o]=a[c]=0;T[o]=T[c]=1;while(!0){var v=-1,Y=0,C=1e30;while(!u.Xg()&&v==-1){var R=u.top(),y=B[R],t=I[R]-1;
while(t!=-1){var g=k[t],H=B[g],_=t^y-1<<2;if(U[_+2>>1]!=0){if(H==0){q.u$.sa(R,t,g,B,j,a,T);u.push(g)}else if(H==y&&T[g]<=T[R]&&a[g]>a[R])q.u$.sa(R,t,g,B,j,a,T);
else if(H!=y){v=_}}t=k[t+1]-1}if(v!=-1)break;u.pop()}if(v==-1){break}e++;var K=v;while(K!=-1){V[Y]=K;
Y++;K=j[k[K^4]]-1}var f=Y>>1;for(var $=0;$<f;$++){var m=V[$];V[$]=V[Y-$-1];V[Y-$-1]=m}K=j[k[v]]-1;while(K!=-1){V[Y]=K^4;
Y++;K=j[k[K^4]]-1}for(var $=0;$<Y;$++)C=Math.min(C,U[V[$]+2>>1]);P+=C;if(P>=l)return{dE:null,X3:P};for(var $=0;
$<Y;$++){var Z=V[$],A=Z^4,R=k[A],g=k[Z];U[Z+2>>1]-=C;U[A+2>>1]+=C;if(U[Z+2>>1]==0&&B[R]==B[g]){if(B[R]==1){j[g]=0;
N.push(g)}if(B[R]==2){j[R]=0;N.push(R)}}}while(!N.Xg()){var R=N.pop(),y=B[R],t=I[R]-1,d=y==1?4:0,G=0,r=0,X=1e9;
while(t!=-1){var g=k[t],w=t^4,_=t^d;if(B[g]==y&&U[_+2>>1]>0&&q.u$.ac9(g,o,c,j,k,e,T,a)+1<X){G=g;r=w;
X=a[g]+1}t=k[t+1]-1}if(r!=0){q.u$.sa(G,r,R,B,j,a,T);continue}t=I[R]-1;while(t!=-1){var g=k[t],_=t^d;
if(B[g]==y){if(U[_+2>>1]>0){u.push(g)}if(j[g]==t+1){j[g]=0;N.push(g)}}t=k[t+1]-1}B[R]=0;u.remove(R)}}var S=[];
for(var $=0;$<J;$+=2){var R=E[$],g=E[$+1];if(B[R]==1&&B[g]!=1){S.push($>>1)}if(B[g]==1&&B[R]!=1){S.push(J+$>>1)}}return{dE:S,X3:P}};
q.u$.sa=function(x,J,o,c,E,b,l){c[o]=c[x];E[o]=J+1;b[o]=b[x]+1;l[o]=l[x]};q.u$.ac9=function(x,J,o,c,E,b,l,i){var F=x,k=c[x]-1,U=0;
while(k!=-1&&l[x]!=b){x=E[k^4];k=c[x]-1;U++}if(k==-1&&x!=J&&x!=o)return 1e9;var I=i[x]+U;U=0;k=c[F]-1;
while(F!=x){i[F]=I-U;U++;l[F]=b;F=E[k^4];k=c[F]-1}return I};q.u$.atX=function(x,J,o,c,E,b){var l=q.u$.akd(x,J,o,c,E,b),i=l.wT,F=l.a5N,k=l.a9r,U=0,I=0,V=new Uint32Array(x*2),u=new q.u$.aCZ(x),N=0;
while(!0){u.reset();u.push(o);for(var $=0;$<x;$++)V[$<<1]=0;while(!u.Xg()){var e=u.pop(),B=k[e]-1;while(B!=-1){N=i[B];
if(V[N<<1]==0&&F[B+2>>1]>0&&N!=o){V[N<<1]=e+1;V[(N<<1)+1]=B;u.push(N)}B=i[B+1]-1}if(V[c<<1]!=0){break}}if(V[c<<1]==0){break}var j=1e30;
N=c;while(!0){var T=V[N<<1]-1;if(T==-1)break;var a=V[(N<<1)+1];j=Math.min(j,F[a+2>>1]);N=T}N=c;while(!0){var T=V[N<<1]-1;
if(T==-1)break;var a=V[(N<<1)+1],P=a^4;F[a+2>>1]-=j;F[P+2>>1]+=j;N=T}U+=j}var v=[];for(var $=0;$<J;$+=2){var T=E[$],N=E[$+1];
if((V[T<<1]!=0||T==o)&&V[N<<1]==0&&N!=o){v.push($>>1)}if((V[N<<1]!=0||N==o)&&V[T<<1]==0&&T!=o){v.push(J+$>>1)}}return{dE:v,X3:U}};
q.u$.aCZ=function(x){x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;this.qu=new Uint32Array(x+1);this.Rj=x;
this.q2=0;this.EP=0};q.u$.aCZ.prototype={push:function(x){var J=this.EP;this.qu[J]=x;this.EP=J+1&this.Rj},pop:function(){var x=this.q2,J=this.qu[x];
this.q2=x+1&this.Rj;return J},Xg:function(){return this.q2==this.EP},reset:function(){this.q2=0;this.EP=0}};
q.u$.JG=function(x){x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;this.qu=new Uint32Array(x+1);this.wz=new Uint32Array(x+1);
this.Rj=x;this.q2=0;this.EP=0};q.u$.JG.prototype={top:function(){return this.qu[this.q2]},avc:function(){return this.qu[this.EP]},push:function(x){if(this.wz[x]!=0)return;
this.wz[x]=this.EP+1;var J=this.EP;this.qu[J]=x;this.EP=J+1&this.Rj},pop:function(){var x=this.q2,J=this.qu[x];
this.wz[J]=0;this.q2=x+1&this.Rj;return J},Xg:function(){return this.q2==this.EP},remove:function(x){var J=this.wz[x]-1;
if(J==-1)return;this.wz[x]=0;if(J==this.q2){this.pop();return}var o=this.pop();this.qu[J]=o;this.wz[o]=J+1},CX:function($){return $+this.Rj+1&this.Rj}};
q.u$.azu=function(x,J,o){var c=q.u$.J$(x,J,o);if(J<c-1)q.u$.azu(x,J,c-1);if(c<o)q.u$.azu(x,c,o)};q.u$.J$=function(x,J,o){var c=x[J+o>>>1];
while(J<=o){while(x[J]<c)J++;while(x[o]>c)o--;if(J<=o){q.u$.vT(x,J,o);J++;o--}}return J};q.u$.vT=function(x,J,o){var c=x[J];
x[J]=x[o];x[o]=c};q.hn=function(){var x,J;function o(l,i,bz){var F=bz-1,k=i+bz;x[bz-2]=l[k-2];J[0]=l[k-1];
var U=Math.max;for(var $=1;$<F;$++){x[bz-2-$]=U(x[bz-1-$],l[k-2-$]);J[$]=U(J[$-1],l[k-1+$])}for(var $=0;
$<F;$++)l[i+$]=U(x[$],J[$])}function c(l,i,bz){var F=bz-1,k=Math.ceil(i/F)*F;for(var U=0;U<k;U+=F)o(l,U,bz)}function E(l,i,F,k,bz,U){i.set(l);
if(bz==1)return;x=q.R(bz-1);J=q.R(bz-1);var I=bz>>>1,V=q.R(Math.ceil(Math.max(F,k)/(bz-1))*(bz-1)+(bz-2)),u=new Uint8Array(V.buffer,0,F);
if(!U)q.Mr(i);for(var N=0;N<k;N++){V.fill(0);V.set(new Uint8Array(i.buffer,N*F,F),I);c(V,F,bz);i.set(u,N*F)}for(var e=0;
e<F;e++){V.fill(0);for(var N=0;N<k;N++)V[N+I]=i[N*F+e];c(V,k,bz);for(var N=0;N<k;N++)i[N*F+e]=V[N]}if(!U)q.Mr(i)}function b(l,i,F,k,bz,U){var I=q.R(F*k);
for(var V=0;V<4;V++){q.z$(l,I,V);if(V==3)q.Mr(I);E(I,I,F,k,bz,U);if(V==3)q.Mr(I);q.qR(I,i,V)}}return{Pl:E,awt:b}}();
q.WE={};q.WE.ama=function(x){for(var $=0;$<x.length;$++)q.WE.W8(x,$)};q.WE.W8=function(x,$){x[$].v.keyShapeInvalidated={t:"bool",v:!0}};
q.WE.a1f=function(x){for(var $=0;$<x.length;$++)x[$].v.keyOriginIndex.v=$};q.WE.Qs=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
q.WE.G4=function(x){x=x.v;var J={Rctn:2,Ln:4,Elps:5},o=J[x.classID],c=x.topLeft?q.WE.anB(x):null,E=null,b=0,l=[!1,!1,0,0,0];
if(o==4){var i=x.Strt.v,F=x.End.v;E=[i.Hrzn.v.val,i.Vrtc.v.val,F.Hrzn.v.val,F.Vrtc.v.val];b=x.Wdth.v.val;
for(var $=0;$<2;$++){var k=x[$==0?"StrA":"EndA"];if(k==null)continue;k=k.v;l[$]=k.On.v;l[2]=k.Wdth.v;
l[3]=k.Lngt.v;l[4]=k.Cncv.v.val}}if(o==null)return null;return q.WE.Nb(o,o==4?null:q.WE.BO(x),c,E,b,l)};
q.WE.p5=function(x,J,o,c,E,b,l){var i={classID:x,unitValueQuadVersion:{t:"long",v:1}};if(J)q.WE.A$(i,["Left","Top","Rght","Btom"],J);
if(o)q.WE.A$(i,["topLeft","topRight","bottomRight","bottomLeft"],o);if(x=="Ln"){i.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[1]}}}},i.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[3]}}}},i.Wdth={t:"UntF",v:{type:"#Pxl",val:E}};
for(var $=0;$<2;$++){var F=$==0?"StrA":"EndA";i[F]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:l[$]},Wdth:{t:"doub",v:l[2]},Lngt:{t:"doub",v:l[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:l[4]}}}}}}if(b)i.Nm={t:"TEXT",v:b};
return{t:"Objc",v:i}};q.WE.ay6=function(x,J){var o=q.WE._9(x),c=x[2]-x[0],E=x[3]-x[1],b=Math.sqrt(c*c+E*E),l=[0,0,b,0,b,J,0,J],i=new cW;
i.rotate(-o);i.translate(x[0],x[1]);q.O.M(l,i,l);return l};q.WE.Nb=function(x,J,o,c,E,b){var l=q.WE.Qs(),i=l.v,F;
delete i.keyShapeInvalidated;i.keyOriginType={t:"long",v:x};i.keyOriginResolution={t:"doub",v:75};if(x==4){i.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[0]},Vrtc:{t:"doub",v:c[1]}}};
i.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[2]},Vrtc:{t:"doub",v:c[3]}}};F=q.WE.ay6(c,E);
var k=q.O.Cg(F);J=[k.x,k.y,k.x+k.m,k.y+k.e];i.keyOriginLineWeight={t:"doub",v:E};if(b)q.WE.abX(i,b)}else F=[J[0],J[1],J[2],J[1],J[2],J[3],J[0],J[3]];
i.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};q.WE.hB(i,"keyOriginBoxCorners",F);var U={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
i.keyOriginShapeBBox={t:"Objc",v:U};q.WE.aBL(i,J);if(o!=null){var I={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
i.keyOriginRRectRadii={t:"Objc",v:I};q.WE.MV(i,o)}return l};q.WE.M=function(x,J,o,c){var E=q.D.ard(J),b=q.D.aeu(J),l=q.D.ut(J),i=l.V*l.Lu-l.J*l.xt;
for(var $=0;$<x.length;$++){var F=x[$].v;if(!q.WE.B8(F))continue;if(o.length!=0&&o.indexOf($)==-1)continue;
var k=F.keyOriginType.v,U=J;if(i<0&&k==2){var I=q.WE.vF(F),V=0;V=I[0];I[0]=I[1];I[1]=V;V=I[2];I[2]=I[3];
I[3]=V;q.WE.MV(F,I);var u=q.WE.ZT(F,"keyOriginBoxCorners"),N=q.O.Cg(u),e=N.x+N.m/2,B=new cW;B.translate(-e,0);
B.scale(-1,1);B.translate(e,0);U=q.D.hf(U,q.D.ay(B))}var j=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var T=0;T<j.length;T++){var u=q.WE.ZT(F,j[T]);if(u==null)continue;q.D.M(U,u);q.WE.hB(F,j[T],u);var N=q.O.Cg(u);
q.WE.aBL(F,[N.x,N.y,N.x+N.m,N.y+N.e]);var a=new cW;a.rotate(-q.WE._9(u));var P={classID:"Trnf"};F.Trnf={t:"Objc",v:P};
var v="xx xy yx yy tx ty".split(" "),R=[a.V,a.J,a.xt,a.Lu,a.Iw,a.s7];for(var y=0;y<6;y++)P[v[y]]={t:"doub",v:R[y]}}if(k==2&&c){var I=q.WE.vF(F);
for(var T=0;T<4;T++)I[T]=Math.round(I[T]*J[0]);q.WE.MV(F,I)}var u=q.WE.ZT(F,"keyOriginBoxCorners"),t=u[2]-u[0],g=u[3]-u[1],H=Math.sqrt(t*t+g*g);
t/=H;g/=H;var _=u[6]-u[0],Y=u[7]-u[1],K=Math.sqrt(_*_+Y*Y);_/=K;Y/=K;if(k==4){F.keyOriginLineWeight.v=K;
var f=q.WE.cG(F);q.D.M(J,f);q.WE.axz(F,f)}var m=t*_+g*Y;if(Math.abs(m)>.001){q.WE.W8(x,$)}}};q.WE.B8=function(x){var J=x.keyShapeInvalidated,o=x.keyOriginType;
return(J==null||!J.v)&&o!=null&&o.v!=9};q.WE.ajC=function(x){var J=x.keyOriginType.v,o=q.WE.mr(x),c=o[0],E=o[1],b=o[2],l=o[3],i=new cW,F=x.keyOriginPolyCornerRadius,u;
F=F?F.v:0;var k=q.WE.ZT(x,J==7||J==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),U=q.WE.az6(k),I=U[2],V=U[3];
c=-I/2;b=I/2;E=-V/2;l=V/2;i.rotate(-q.WE._9(k));i.Iw=U[0];i.s7=U[1];if(J==1||J==2){var N=J==1?0:q.WE.vF(x);
u=q.p.MP.Rect(c,E,b-c,l-E,N)}else if(J==4){var e=q.WE.cG(x),B=q.WE.as$(x);i=new cW;if(B==null)u=q.p.MP.E_(e[0],e[1],e[2],e[3],x.keyOriginLineWeight.v);
else u=q.p.MP.KX(e[0],e[1],e[2],e[3],x.keyOriginLineWeight.v,B)}else if(J==5){u=q.p.MP.yr(c,E,b-c,l-E)}else if(J==7||J==8){var j=J==7?3:x.keyOriginPolySides.v;
u=q.p.MP.lB(0,0,100,Math.PI/j-Math.PI/2,j,F,b,l)}q.p.Sp(u,i);return u};q.WE.Gx=function(x,J){var o=J.$;
for(var $=0;$<x.length;$++){var c=x[$].v;if(!q.WE.B8(c))continue;var E=q.WE.ajC(c),b=q.p.Yk(o,$),l=q.p.pS(o,$);
E[2].sm=o[b].sm;var i=o;o=o.slice(0,b);for(var F=2;F<E.length;F++)o.push(E[F]);for(var F=b+l;F<i.length;
F++)o.push(i[F])}J.$=o;J.op=!0};q.WE.LH=function(x){var J=1e9,o=-J,c=1e9,E=-c,b=[],l=x.l$(),i=l[0],F=l[1];
for(var k=0;k<F.length;k++){var U=i[F[k]],I=U.add.vogk;if(I==null)continue;var V=U.add.vmsk.g;for(var u=0;
u<I.length;u++){var N=I[u].v,j=0;if(!q.WE.B8(N))continue;if(F.length==1&&V.length!=0&&V.indexOf(u)==-1)continue;
var e=N.keyOriginType.v;if(e==9)continue;var B=q.WE.mr(N);J=Math.min(J,B[0]);c=Math.min(c,B[1]);o=Math.max(o,B[2]);
E=Math.max(E,B[3]);var T=q.WE.ZT(N,"keyOriginBoxCorners");if(T){var a=q.WE.az6(T),P=a[2],v=a[3];B[2]=B[0]+P;
B[3]=B[1]+v;j=q.WE._9(T)}var R=[e,B,j];b.push(R);var y=N.keyOriginPolyCornerRadius;if(e==2)R.push(q.WE.vF(N));
if(e==7||e==8)R.push(y?y.v:0);if(e==8)R.push(N.keyOriginPolySides.v)}}return b.length==1?b[0]:[0,J<o?[J,c,o,E]:null,0]};
q.WE._9=function(x){var J=x[2]-x[0],o=x[3]-x[1];return-Math.atan2(-o,J)};q.WE.aaS=function(x){var J=q.WE.mr(x);
return q.WE._9(J)};q.WE.abi=function(x,J,o){var c=q.WE.LH(x),E=-1;for(var $=0;$<J.length;$++)if(JSON.stringify(J[$])!=JSON.stringify(c[$]))E=$;
if(E==1||E==2){}var b=x.l$(),l=b[0],i=b[1];for(var F=0;F<i.length;F++){var k=l[i[F]],U=k.add.vogk;if(U==null)continue;
var I=k.add.vmsk.g;for(var V=0;V<U.length;V++){var u=U[V].v;if(!q.WE.B8(u))continue;if(i.length==1&&I.length!=0&&I.indexOf(V)==-1)continue;
var N=u.keyOriginType.v;if(E==1||E==2){q.WE.M(U,q.WE.aeH(E,u,c,J),I,!1);break}if(E==3)if(N==2)q.WE.MV(u,J[3]);
else u.keyOriginPolyCornerRadius={t:"doub",v:J[3]};if(E==4)u.keyOriginPolySides.v=J[4];if(o)q.WE.W8(U,V)}}};
q.WE.aeH=function(x,J,o,c){var E=c[1],b=o[1],l=(E[2]-E[0])/(b[2]-b[0]),i=(E[3]-E[1])/(b[3]-b[1]),F=new cW;
if(x==1){if(Math.max(Math.abs(l-1),Math.abs(i-1))>1e-8){var k=E[0],U=E[1];if(c[0]!=0){var I=q.WE.ZT(J,"keyOriginBoxCorners");
k=I[0];U=I[1]}F.translate(-k,-U);F.rotate(c[2]);F.scale(l,i);F.rotate(-c[2]);F.translate(k,U)}else{F.translate(-b[0],-b[1]);
F.translate(E[0],E[1])}}else{if(c[0]!=0)E=q.WE.mr(J);var k=(E[0]+E[2])/2,U=(E[1]+E[3])/2;F.translate(-k,-U);
if(o[0]!=0)F.rotate(o[2]);F.rotate(-c[2]);F.translate(k,U)}return q.D.ay(F)};q.WE.az6=function(x){var J=x[0],o=x[1],c=x[2],E=x[3],b=x[4],l=x[5],i=x[6],F=x[7],k=c-J,U=E-o,I=Math.sqrt(k*k+U*U),k=b-c,U=l-E,V=Math.sqrt(k*k+U*U);
return[(J+b)/2,(o+l)/2,I,V]};q.WE.ZT=function(x,J){var o=x[J];if(o==null)return null;var c=[];o=o.v;
for(var E=0;E<4;E++){var b=o["rectangleCorner"+["A","B","C","D"][E]].v;c.push(b.Hrzn.v,b.Vrtc.v)}return c};
q.WE.hB=function(x,J,o){var c=x[J];if(c==null)return null;c=c.v;for(var E=0;E<4;E++){var b="rectangleCorner"+["A","B","C","D"][E];
c[b]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:o[2*E]},Vrtc:{t:"doub",v:o[2*E+1]}}}}};q.WE.mr=function(x){return q.WE.BO(x.keyOriginShapeBBox.v)};
q.WE.BO=function(x){var J=x.classID,o=x.Left.v,c=x.Rght.v,E=x.Top.v,b=x.Btom.v;if(o.val!=null){o=o.val;
c=c.val;E=E.val;b=b.val}return[o,E,c,b]};q.WE.aBL=function(x,J){q.WE.A$(x.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],J)};
q.WE.vF=function(x){var J=x.keyOriginRRectRadii;if(J==null)return[0,0,0,0];return q.WE.anB(J.v)};q.WE.anB=function(x){var J=[],o=["topLeft","topRight","bottomRight","bottomLeft"];
for(var c=0;c<4;c++)J.push(x[o[c]].v.val);return J};q.WE.MV=function(x,J){q.WE.A$(x.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],J)};
q.WE.A$=function(x,J,o){var c=x.classID;if(c=="unitRect"||c=="radii"||c=="Rctn"){for(var $=0;$<4;$++)if(o[$]!=null)x[J[$]]={t:"UntF",v:{type:"#Pxl",val:o[$]}}}else{for(var $=0;
$<4;$++)if(o[$]!=null)x[J[$]]={t:"doub",v:o[$]}}};q.WE.cG=function(x){var J=x.keyOriginLineStart.v,o=x.keyOriginLineEnd.v;
return[J.Hrzn.v,J.Vrtc.v,o.Hrzn.v,o.Vrtc.v]};q.WE.axz=function(x,J){var o=x.keyOriginLineStart.v,c=x.keyOriginLineEnd.v;
o.Hrzn.v=J[0];o.Vrtc.v=J[1];c.Hrzn.v=J[2];c.Vrtc.v=J[3]};q.WE.as$=function(x){var J=[],o=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var $=0;$<5;$++){var c=x["keyOriginLineArr"+o[$]];if(c==null)return null;J[$]=c.v}return J};q.WE.abX=function(x,J){x.keyOriginLineArrowSt={t:"bool",v:J[0]};
x.keyOriginLineArrowEnd={t:"bool",v:J[1]};x.keyOriginLineArrWdth={t:"doub",v:J[2]};x.keyOriginLineArrLngth={t:"doub",v:J[3]};
x.keyOriginLineArrConc={t:"long",v:J[4]}};q.WE.axp=function(x){function J(R,y){return Math.abs(R-y)<.5}function o(R,y){return J(R.x,y.x)&&J(R.y,y.y)}function c(R,y,t,g,H,_,Y){for(var $=0;
$<Y;$++){var K=R[y+(t+$)%Y],f=g[H+(_+$)%Y];if(!(o(K.L,f.L)&&o(K.HN,f.HN)&&o(K.Dq,f.Dq)))return!1}return!0}var E=[];
for(var i=0;i<x.length;i++){var F=x[i],U=null;if(F.type!=0&&F.type!=3||F.sm==-1)continue;var k=i;if(F.length==4||F.length==8){var I=q.p.akn(x.slice(0,2).concat(x.slice(k,k+F.length+1)));
k=2;if(F.length==4){var V=q.p.wy(I,k+1,4),u=V.x,N=V.y,e=u+V.m,B=N+V.e;if(V.P()>4){if(q.p.MT(I.slice(k-2,k+5)))U=q.WE.Nb(2,[u,N,e,B],[0,0,0,0]);
else{var j=-1;for(var $=0;$<4;$++)if(J(I[k+1+$].L.y,B))j=$;if(j!=-1){var T=q.p.MP.yr(u,N,e-u,B-N),a=c(I,k+1,j,T,3,0,4);
if(a)U=q.WE.Nb(5,[u,N,e,B])}}}}if(F.length==8){var V=q.p.wy(I,k+1,8),u=V.x,N=V.y,e=u+V.m,B=N+V.e;if(V.P()>4){var j=-1;
for(var $=0;$<8;$++)if(J(I[k+1+($+1&7)].L.y,N)&&J(I[k+1+($+2&7)].L.y,N))j=$;if(j!=-1){var P=Math.abs(I[k+1+j].L.y-N),v=[P,P,P,P];
if(P>.5){var T=q.p.MP.Rect(u,N,e-u,B-N,v),a=c(I,k+1,j,T,3,0,8);if(a)U=q.WE.Nb(2,[u,N,e,B],v)}}}}}E.push(U?U:q.WE.Qs())}return E};
q.O={};q.O.clone=function(x){return{G:x.G.slice(0),j:x.j.slice(0)}};q.O.ae9=function(x){if(x.length<6)return!0;
var J=x.length-4;for(var $=0;$<J;$+=2)if(!q.O.Eh(x[$],x[$+1],x[$+2],x[$+3],x[$+4],x[$+5]))return!1;if(!q.O.Eh(x[J],x[J+1],x[J+2],x[J+3],x[0],x[1]))return!1;
if(!q.O.Eh(x[J+2],x[J+3],x[0],x[1],x[2],x[3]))return!1;return!0};q.O.Eh=function(x,J,o,c,E,b){return(J-c)*(E-o)+(o-x)*(b-c)>=0};
q.O.KE=function(x){var J={},o=null,c=0,E={M:2,L:2,Q:4,C:6},b="",l="";for(var $=0;$<x.G.length;$++){var i=x.G[$];
if(i[0]=="#")b=i;else if(i[0]=="X")b="";else if(i[0]=="O"&&i[1]=="-")l=i;else if(i=="OX")l="";else{var F=b+l;
o=J[F];if(o==null)o=J[F]={j:[],G:[]};o.G.push(i);var k=E[i];if(k==null)k=0;for(var U=0;U<k;U++)o.j.push(x.j[c+U]);
c+=k}}return J};q.O.a44=function(x,J,o){var c=x[J]-x[o-2],E=x[J+1]-x[o-1];return c*c+E*E<1e-4};q.O.XR=function(x,J,o){x=q.O.G8(x);
var c=x.j,E=x.G,b=0,l="",i=0,F=0,b=0,I=null;for(var $=0;$<E.length;$++){var k=E[$];if(k=="M"){i=c[b];
F=c[b+1];b+=2;l=k}if(k=="C"){if(l=="Z"){E.splice($,0,"M");c.splice(b,0,i,F);$--;continue}b+=6;l=k}if(k=="Z"){l=k}}var U=[];
b=0;for(var $=0;$<E.length;$++){var k=E[$];if(k=="M"){I={LR:b,ET:0,NW:!1};U.push(I);b+=2}if(k=="C"){I.ET++;
b+=6}if(k=="Z"&&I!=null){I.NW=!0}}var V=[];for(var $=0;$<U.length;$++)if(U[$].ET!=0)V.push(U[$]);U=V;
for(var $=0;$<U.length;$++){var u=U[$],N=u.LR,e=N+2+u.ET*6,j=0;u.YP=q.O.Cg(c,N,e);var B=q.O.a44(c,N,e);
for(var T=0;T<u.ET;T++){var a=N+T*6,P=a+6;j+=(c[P]-c[a])*(c[P+1]+c[a+1])}if(u.ET==2){var v=function(Q,O,W){var e9=1-W;
return e9*e9*e9*Q[O]+3*e9*e9*W*Q[O+2]+3*e9*W*W*Q[O+4]+W*W*W*Q[O+6]},R=c[N],y=c[N+1],t=c[N+6],g=c[N+7],H=c[N+6],_=c[N+7],Y=v(c,N,.5),K=v(c,N+1,.5),f=v(c,N+6,.5),m=v(c,N+7,.5);
j=(Y-R)*(K-y)+(t-Y)*(g-K)+(f-t)*(m-g)+(H-f)*(_-m)}if(!B)j+=(c[N]-c[e-2])*(c[N+1]+c[e-1]);u.ah=j<=0}for(var $=0;
$<U.length-1;$++)for(var a=$+1;a<U.length;a++){var C=U[$],Z=U[a];if(Z.YP.KR(C.YP)){U[$]=Z;U[a]=C}}var A=U.length==0?!0:U[0].ah,d=[{type:6},{type:8,all:0}];
for(var $=0;$<U.length;$++){var u=U[$],N=u.LR,e=N+2+u.ET*6,B=q.O.a44(c,N,e);if(u.ET==1)B=!1;var G=u.NW||B?0:3,r=u.ah==A&&!J?1:0;
if(!J&&$!=0){if(U[$-1].YP.KR(u.YP)&&U[$-1].ah!=u.ah)r=0;for(var a=0;a<U.length;a++)if(a!=$&&U[a].YP.KR(u.YP))r=0}d.push({type:G,length:u.ET+(B?0:1),sm:o?1:r,tX:2});
for(var a=0;a<u.ET;a++){var b=N+a*6,X=new ck(c[b],c[b+1]),w=new ck(c[b+2],c[b+3]),S;if(a==0){if(B){S=new ck(c[e-4],c[e-3]);
if(ck.q6(S,X)<1e-5)S=X.clone()}else S=X.clone()}else S=new ck(c[b-2],c[b-1]);d.push({type:G+2,HN:S,L:X,Dq:w})}if(!B){var z=new ck(c[e-2],c[e-1]);
d.push({type:G+2,HN:new ck(c[e-4],c[e-3]),L:z,Dq:z.clone()})}}for(var a=0;a<d.length;a++){var s=d[a];
if(s.type>5||s.type==0||s.type==3)continue;var M=s.HN.U5(s.L)||s.Dq.U5(s.Dq);if(!M){var C=s.HN.x*(s.L.y-s.Dq.y)+s.L.x*(s.Dq.y-s.HN.y)+s.Dq.x*(s.HN.y-s.L.y);
if(Math.abs(C)<1e-6)M=!0}if(M)s.type--}return d};q.O.Om=function(x,J){var o=q.p.Dd(x),c=[];for(var $=2;
$<x.length;$++){var E=x[$].sm;if(E!=null){if(E==2||E==0||E==3||E==-1)c.push(E)}}var b=c.length!=0;if((b||J)&&x.length<15e3&&1<o&&o<200)x=q.p.CG(x);
var l=q.O.uG(x);return{Ho:l,ne:b?1:0}};q.O.uG=function(){function x(c,E,b,l){if(l!=2&&c.Dq.U5(c.L)&&E.HN.U5(E.L)){b.j.push(E.L.x,E.L.y);
b.G.push("L")}else{var i=c.L,F=c.Dq,k=E.HN,U=E.L,I=3/2*F.x-1/2*i.x,V=3/2*F.y-1/2*i.y,u=3/2*k.x-1/2*U.x,N=3/2*k.y-1/2*U.y,e=u-I,B=N-V;
if(l==0&&e*e+B*B<.001){b.j.push((I+u)*.5,(V+N)*.5,U.x,U.y);b.G.push("Q")}else{b.j.push(F.x,F.y,k.x,k.y,U.x,U.y);
b.G.push("C")}}}function J(c,E,$,b,l,i){var F=E[$];c.j.push(F.L.x,F.L.y);c.G.push("M");for(var k=$;k<$+b-1;
k++)x(E[k],E[k+1],c,i);if(!l)x(E[k],E[$],c,i)}function o(c,E){if(E==null)E=0;var b={j:[],G:[]};for(var $=0;
$<c.length;$++){if(c[$].type>5)continue;var l=c[$].length;if(l==0)continue;if($==c.length-1)break;var i=c[$].type==3;
J(b,c,$+1,l,i,E);if(!i)b.G.push("Z");$+=l}return b}return o}();q.O.abI=function(x){var J=x.j,o=[],c,E=0;
for(var $=0;$<x.G.length;$++){var b=x.G[$];if(b=="C"){c.push(J[E++],J[E++],J[E++],J[E++],J[E++],J[E++])}else if(b=="Z"){}else{c=[];
if(b!="M"){c.push(b);$++}c.push(J[E++],J[E++]);o.push(c)}}return o};q.O.K5=function(x,J,o,c){if(c==null)c=1e9;
var E=1e9,b=0;for(var $=0;$<x.length;$+=2){var l=J-x[$],i=o-x[$+1],F=l*l+i*i;if(F<E){E=F;b=$>>>1}}return E<c*c?b:-1};
q.O.yh=function(x,J,o,c){for(var $=0;$<x.length;$+=2){var E=x[$],b=x[$+1],l=J[$],i=J[$+1];o[$]=E+(l-E)*c;
o[$+1]=b+(i-b)*c}};q.O.M=function(x,J,o){for(var $=0;$<x.length;$+=2){var c=x[$],E=x[$+1];o[$]=c*J.V+E*J.xt+J.Iw;
o[$+1]=c*J.J+E*J.Lu+J.s7}};q.O.Cg=function(x,J,o){if(J==null)J=0;if(o==null)o=x.length;var c=99999999999,E=-c,b=99999999999,l=-b;
for(var $=J;$<o;$+=2){var i=x[$],F=x[$+1];c=Math.min(c,i);b=Math.min(b,F);E=Math.max(E,i);l=Math.max(l,F)}return new ha(c,b,E-c,l-b)};
q.O.aCt=function(x,J){var o=Math.max(J.x,Math.min(J.x+J.m,x.x)),c=Math.max(J.y,Math.min(J.y+J.e,x.y)),E=x.x-o,b=x.y-c;
return Math.sqrt(E*E+b*b)};q.O.uS=function(x,J){var o=Math.floor,c=Math.ceil;if(J){o=Math.ceil;c=Math.floor}var E=o(x.x),b=c(x.x+x.m),l=o(x.y),i=c(x.y+x.e);
return new ha(E,l,b-E,i-l)};q.O.ql=function(x,J){return q.O.uS(q.O.Cg(x),J)};q.O.ny=function(x,J){var o=x.x,c=x.y,E=x.x+x.m,b=x.y+x.e,l=[o,c,E,c,E,b,o,b];
if(J){var i=J.clone();i.Mr();q.O.M(l,i,l)}return{G:["M","L","L","L","Z"],j:l}};q.O.concat=function(x,J,o){if(o==null)o=new cW;
for(var $=0;$<J.j.length;$+=2){var c=J.j[$],E=J.j[$+1];x.j.push(c*o.V+E*o.xt+o.Iw);x.j.push(c*o.J+E*o.Lu+o.s7)}for(var $=0;
$<J.G.length;$++)x.G.push(J.G[$])};q.O.auN=function(x,J,o,c,E){function b(V,u,N){return new ck(V.x*(1-N)+u.x*N,V.y*(1-N)+u.y*N)}var l=b(x,J,E),i=b(o,c,E),F=b(J,o,E),k=b(l,F,E),U=b(F,i,E),I=b(k,U,E);
return[l,k,I,U,i]};q.O.G8=function(x){var J=x.j,o=[],c=[],E=0,b=0,l=0,i=0,F=0,k=0,U=0,I=0,V=0,u=0,N=0;
for(var $=0;$<x.G.length;$++){var e=x.G[$];if(e=="M"){b=J[E];l=J[E+1];E+=2;c.push(e);o.push(b,l);u=b;
N=l}else if(e=="C"){i=J[E];F=J[E+1];k=J[E+2];U=J[E+3];I=J[E+4];V=J[E+5];E+=6;c.push(e);o.push(i,F,k,U,I,V);
b=I;l=V}else if(e=="Q"){i=J[E];F=J[E+1];k=J[E+2];U=J[E+3];E+=4;var B=i-b,j=F-l,T=k-i,a=U-F;c.push("C");
o.push(b+2/3*B,l+2/3*j,i+1/3*T,F+1/3*a,k,U);b=k;l=U}else if(e=="L"){i=J[E];F=J[E+1];E+=2;if(i!=b||F!=l){c.push("C");
o.push(b,l,i,F,i,F);b=i;l=F}}else{if(e=="Z"){b=u;l=N}c.push(e)}}return{G:c,j:o}};q.O.azs=function(x){var J=x.j,o=[],c=[],E=0;
for(var $=0;$<x.G.length;$++){var b=x.G[$];if(b=="Q"){var l=J[E-2],i=J[E-1],F=J[E],k=J[E+1],U=J[E+2],I=J[E+3];
E+=4;var V=F-l,u=k-i,N=U-F,e=I-k;c.push("C");o.push(l+2/3*V,i+2/3*u,F+1/3*N,k+1/3*e,U,I)}else{var B=0;
if(b=="M"||b=="L")B=2;else if(b=="C")B=6;for(var j=0;j<B;j++)o.push(J[E+j]);E+=B;c.push(b)}}return{G:c,j:o}};
q.O.cl=function(x,J){var o=x.j,c=[],E=[],b=0,l=0,i=0,F=0,k=0,U=0,I=0,V=0,u=0;for(var $=0;$<x.G.length;
$++){var N=x.G[$];if(N=="M"){l=o[b];i=o[b+1];b+=2;E.push(N);c.push(l,i)}else if(N=="C"){F=o[b];k=o[b+1];
U=o[b+2];I=o[b+3];V=o[b+4];u=o[b+5];b+=6;q.O.zC(l,i,F,k,U,I,V,u,J,E,c,0);l=V;i=u}else E.push(N)}return{G:E,j:c}};
q.O.zC=function(x,J,o,c,E,b,l,i,F,k,U,I){var V=Math.sqrt((l-x)*(l-x)+(i-J)*(i-J)),u=Math.sqrt((l-E)*(l-E)+(i-b)*(i-b))+Math.sqrt((E-o)*(E-o)+(b-c)*(b-c))+Math.sqrt((o-x)*(o-x)+(c-J)*(c-J)),N=(V+u)/2;
if(N<=F){k.push("C");U.push(o,c,E,b,l,i)}else{var e=0,B=0,j=0,T=0,a=0,P=0,v=0,R=0,y=0,t=0,g=0,H=0,_=0;
B=(x+o)/2;j=(J+c)/2;T=(o+E)/2;a=(c+b)/2;P=(E+l)/2;v=(b+i)/2;R=(B+T)/2;y=(j+a)/2;t=(T+P)/2;g=(a+v)/2;
H=(R+t)/2;_=(y+g)/2;q.O.zC(x,J,B,j,R,y,H,_,F,k,U,I+1);q.O.zC(H,_,t,g,P,v,l,i,F,k,U,I+1)}};q.O.amT=function(x,J,o,c,E){var b=Date.now(),l=q.O.akx(x,J,o);
if(E){console.log("trace polygons",Date.now()-b);b=Date.now()}var i=[];for(var $=0;$<l.length;$++){var F=l[$],k=F[0],U=["M"],I=x[k[1]*J+k[0]];
if(k.length>8)k=q.O.anW(k,c,F[1]);if(k.length<=4)continue;for(var V=2;V<k.length;V+=2)U.push("L");U.push("Z");
i.push({path:{j:k,G:U},color:I,parent:-1,YP:q.O.Cg(k)})}if(E){console.log("simplify polygons",Date.now()-b);
b=Date.now()}for(var $=1;$<i.length;$++){var u=i[$],N=u.path.j,e=N[0],B=N[1],j=N[2],T=N[3],a=j-e,P=T-B,v=e+.5*a-.001*P,R=B+.5*P+.001*a;
for(var V=$-1;V>=0;V--){var y=i[V];if(!y.YP.KR(u.YP))continue;if(!fE.GY(y.path.j,v,R))continue;u.parent=V;
break}}if(E){console.log("checking parents",Date.now()-b);b=Date.now()}return i};q.O.akx=function(x,J,o){var c=J*o,E=new Uint16Array(J*o),l=0;
for(var $=0;$<c;$++)E[$]=x[$];var b=new Uint8Array(J*o);b[1*J+1]=b[(o-1)*J+1]=b[1*J+J-1]=b[(o-1)*J+J-1]=1;
for(var i=1;i<o;i++)for(var F=1;F<J;F++){var $=i*J+F,k=E[$-J-1],U=E[$-J],I=E[$-1],V=E[$],u=k==V&&U==I&&k!=U,N=0;
if(V<I){l=V;V=I;I=l}if(I<U){l=I;I=U;U=l}if(U<k){l=U;U=k;k=l}if(V<I){l=V;V=I;I=l}if(I<U){l=I;I=U;U=l}if(V<I){l=V;
V=I;I=l}if(k!=U)N++;if(U!=I)N++;if(I!=V)N++;if(V!=k)N++;if(N>=3||u)b[$]=1}var e=[];for(var i=1;i<o;i++)for(var F=1;
F<J;F++){var $=i*J+F;if(E[$]!=E[$-1]){var B=q.O.a4B(E,J,o,F,i),j=[];for(var T=0;T<B.length;T+=2)if(b[B[T+1]*J+B[T]]==1)j.push(T>>>1);
e.push([B,j]);q.O.Br(E,J,o,F,i)}}return e};q.O.Br=function(x,J,o,c,E){var b=[E*J+c],l=x[E*J+c];x[E*J+c]=65535;
while(b.length!=0){var $=b.pop();x[$]=0;if(x[$+J]==l){b.push($+J);x[$+J]=65535}if(x[$-J]==l){b.push($-J);
x[$-J]=65535}if(x[$-1]==l){b.push($-1);x[$-1]=65535}if(x[$+1]==l){b.push($+1);x[$+1]=65535}}};q.O.a4B=function(x,J,o,c,E){var b=[0,-1,1,0,0,1,-1,0],U=1;
function l(V,u,U){var $=k*J+F,N=0;if(U==0)N=$-J;else if(U==1)N=$;else if(U==2)N=$-1;else if(U==3)N=$-J-1;
return x[N]}var i=[],F=c,k=E,I=l(F,k,U);do{i.push(F,k);F+=b[U*2];k+=b[U*2+1];if(l(F,k,U)!=I)U=U+1&3;
else if(l(F,k,U+3&3)!=I)U=U;else if(l(F,k,U+2&3)!=I)U=U+3&3}while(F!=c||k!=E);return i};q.O.anW=function(x,J,o){var c=x.length-2;
if(o&&o.length!=0){var E=o[0]*2,b=o[o.length-1]*2,l=E==0?c:E-2,i=x.slice(b);for(var $=0;$<E;$++)i.push(x[$]);
if(E==b)i.push(.9*x[E]+.1*x[l],.9*x[E+1]+.1*x[l+1]);else i.push(x[E],x[E+1]);i=q.O.Bn(i,J);i.pop();i.pop();
for(var $=0;$<o.length-1;$++){var F=x.slice(o[$]*2,o[$+1]*2+2);F=q.O.Bn(F,J);for(var k=0;k<F.length-2;
k++)i.push(F[k])}return i}var U=x.slice(0);U.push(.9*x[0]+.1*x[c],.9*x[1]+.1*x[c+1]);U=q.O.Bn(U,J);U.pop();
U.pop();return U};q.O.Bn=function(x,J){var o=x.length-2,c=x[0],E=x[1],b=x[o],l=x[o+1],i=b-c,F=l-E,k=1/Math.sqrt(i*i+F*F),U=b*E-l*c,I=-1,V=-1,u=0;
for(var $=2;$<o;$+=2){var N=x[$],e=x[$+1],B=e*e*1e6+N*N,j=Math.abs(F*N-i*e+U)*k;if(j>V||j==V&&B>u){V=j;
I=$;u=B}}if(V<J)return[c,E,b,l];var T=q.O.Bn(x.slice(0,I+2),J),a=q.O.Bn(x.slice(I),J);for(var $=2;$<a.length;
$++)T.push(a[$]);return T};q.O.a0$=function(){var x=function(c,E,b,l,i,F){return(E-l)*(i-b)+(b-c)*(F-l)>=0},J=function(c,E,b,l,i,F,k,U){var I=k-b,V=U-l,u=i-b,N=F-l,e=c-b,B=E-l,j=I*I+V*V,T=I*u+V*N,a=I*e+V*B,P=u*u+N*N,v=u*e+N*B,R=1/(j*P-T*T),y=(P*a-T*v)*R,t=(j*v-T*a)*R;
return y>=0&&t>=0&&y+t<1},o=function(c){var bz=c.length>>>1,$=0;if(bz<3)return[];var E=[],b=[];for(var $=0;
$<bz;$++)b.push($);var l=bz;while(l>3){var i=b[($+0)%l],F=b[($+1)%l],k=b[($+2)%l],U=c[2*i],I=c[2*i+1],V=c[2*F],u=c[2*F+1],N=c[2*k],e=c[2*k+1],B=!1;
if(x(U,I,V,u,N,e)){B=!0;for(var j=0;j<l;j++){var T=b[j];if(T==i||T==F||T==k)continue;if(J(c[2*T],c[2*T+1],U,I,V,u,N,e)){B=!1;
break}}}if(B){E.push(i,F,k);b.splice(($+1)%l,1);l--;$=0}else if($++>3*l)break}E.push(b[0],b[1],b[2]);
return E};return o}();q.O.aiG=function(x,J){var o={},c={G:[],j:[]};for(var $=0;$<J.length;$+=3){var E=J[$]*2,b=J[$+1]*2,l=J[$+2]*2;
q.O.mK(x,E,b,c,o);q.O.mK(x,E,l,c,o);q.O.mK(x,b,l,c,o)}return c};q.O.mK=function(x,J,o,c,E){if(J>o){var b=o;
o=J;J=b}if(E[J+","+o])return;E[J+","+o]=!0;c.G.push("M","L");c.j.push(x[J],x[J+1],x[o],x[o+1])};q.O.am7=function(x,J){var o=[],c=x.length;
for(var $=0;$<c;$+=2){var E=x[$],b=x[$+1],l=x[($+2)%c],i=x[($+3)%c];if(i<b){var F=b;b=i;i=F}if(b<J&&J<i){var k=(J-b)/(i-b);
o.push(E+k*(l-E))}}o.sort(function(U,I){return U-I});return o};q.O.ale=function(x,J,o,c,E,b,l){var i=x-o,F=J-c,k=E-o,U=b-c,I=1/Math.sqrt(i*i+F*F),V=1/Math.sqrt(k*k+U*U),u=i*I,N=F*I,e=k*V,B=U*V,j=N*l,T=-u*l,a=-B*l,P=e*l,v=q.O.EH(j,T,u,N,a,P,e,B),R=j+u*v,y=T+N*v,v=q.O.EH(0,0,u,N,R,y,-N,u),t=u*v,g=N*v;
return[Math.sqrt(t*t+g*g),u,N,e,B]};q.O.awd=function(x,J,o,c,E,b,l){var i=q.O.ale(x,J,o,c,E,b,l),F=i[0],k=i[1],U=i[2],I=i[3],V=i[4],u=Math.atan2(k*V-U*I,k*I+U*V);
if(u<0){u=u*-1}var N=Math.PI-u,e=4/3*Math.tan(N/4),B=o+F*k,j=c+F*U,T=o+F*I,a=c+F*V,P=B+e*l*-k,v=j+e*l*-U,R=T+e*l*-I,y=a+e*l*-V;
return[0,0,B,j,P,v,R,y,T,a]};q.O.EH=function(x,J,o,c,E,b,l,i){var F=l*(J-b)-i*(x-E),k=i*o-l*c;if(k==0)return 0;
return F/k};q.O.eT=function(x,J,o,c,E,b){return x*(c-b)+o*(b-J)+E*(J-c)};q.O.a6j=function(x){function J(f,m,C,Z,A,d,G,r,X){var w=q.O.EH(f,m,C,Z,A,d,G,r);
X.push(f+C*w,m+Z*w)}var o=[],c=x.length,E=[];for(var $=0;$<c;$+=2){var b=$==0?c-2:$-2,l=$==c-2?0:$+2,i=x[$],F=x[$+1],k=i-x[b],U=F-x[b+1],I=x[l]-i,V=x[l+1]-F,u=Math.sqrt(k*k+U*U),N=Math.sqrt(I*I+V*V);
E.push(N);var e=u/(u+N),B=i-k*.5,j=F-U*.5,T=i+I*.5,a=F+V*.5,P=(x[l]+x[b])*.5,v=(x[l+1]+x[b+1])*.5,R=B+e*(T-B),y=j+e*(a-j),t=i-R,g=F-y,H=(I*-k+V*-U)/(u*N),_=(e-.5)*7,Y=1+_*e,K=1-_*(1-e);
o.push(B+t*Y,j+g*Y,T+t*K,a+g*K)}return o};q.Wg=function(){};q.Wg.Vm=function(x,J,o,c,E){var b=o.m,l=o.e,i=b*l,F=new Int32Array(i),bz=0;
for(var $=0;$<i;$++)if(J[$]!=0){F[$]=bz;bz++}else if(x[($<<2)+3]<200){F[$]=-2}else F[$]=-1;if(bz==0)return;
var k=new q.IF(bz,bz),U=new Array(3*bz),I=new Array(3*bz);for(var $=0;$<I.length;$++)I[$]=U[$]=0;var V=1/255,u=[-b,-1,1,b],N=[],e=[];
for(var B=0;B<l;B++)for(var j=0;j<b;j++){var T=B*b+j,a=T<<2,$=F[T],P=$*3,v=0,R=0,y=0;if($==-1||$==-2)continue;
for(var t=0;t<4;t++){if(t==2){R=y;N[y]=0;e[y]=$;y++}var g=T+u[t],H=g<<2,_=F[g];if(t==0&&B==0||t==1&&j==0||t==2&&j==b-1||t==3&&B==l-1||_==-2)continue;
v++;if(_==-1){U[P+0]+=x[H+0];U[P+1]+=x[H+1];U[P+2]+=x[H+2]}else{N[y]=-1;e[y]=_;y++;if(J[T]==J[g]){U[P+0]+=x[a+0]-x[H+0];
U[P+1]+=x[a+1]-x[H+1];U[P+2]+=x[a+2]-x[H+2]}}}N[R]=v;k.s5(N,e,y)}for(var $=0;$<i;$++)if(F[$]!=-1){var Y=$<<2,K=F[$],f=K*3;
I[f]=x[Y+0];I[f+1]=x[Y+1];I[f+2]=x[Y+2]}var m=Date.now();k.amp(I,U,c,E);console.log(Date.now()-m);for(var $=0;
$<i;$++){var K=F[$],C=K*3,Y=$<<2;if(K==-1||x[Y+3]!=255)continue;x[Y+0]=~~(.5+Math.max(0,Math.min(255,I[C+0])));
x[Y+1]=~~(.5+Math.max(0,Math.min(255,I[C+1])));x[Y+2]=~~(.5+Math.max(0,Math.min(255,I[C+2])))}};q.rect={};
q.rect.aBR=function(x,J){var o=[x],c=[];for(var $=0;$<J.length;$++){var E=J[$],b=!1;for(var l=$+1;l<J.length;
l++){var i=J[l];if(i[0]<=E[0]&&i[1]<=E[1]&&E[2]<=i[2]&&E[3]<=i[3]){b=!0;break}}if(!b)c.push(E)}J=c;for(var $=0;
$<J.length;$++){var E=J[$];for(var l=0;l<o.length;l++){var i=o[l],F=Math.max(E[0],i[0]),k=Math.min(E[2],i[2]),U=Math.max(E[1],i[1]),I=Math.min(E[3],i[3]);
if(F<k&&U<I){var V=[];if(i[1]<E[1]){var u=i.slice(0);u[3]=E[1];V.push(u)}if(i[0]<E[0]){var N=i.slice(0);
N[1]=U;N[2]=E[0];V.push(N)}if(E[2]<i[2]){var e=i.slice(0);e[1]=U;e[0]=E[2];V.push(e)}if(E[3]<i[3]){var B=[F,I,k,i[3]];
V.push(B)}if(V.length!=0){o[l]=V[0];for(var j=1;j<V.length;j++)o.push(V[j])}}}o.push(E);o=q.rect.axV(o)}o.sort(function(E,i){return E[1]!=i[1]?E[1]-i[1]:E[0]-i[0]});
for(var $=1;$<o.length;$++){var E=o[$-1],i=o[$];if(E[0]==i[0]&&E[1]==i[1]&&E[2]==i[2]&&E[3]==i[3]){o.splice(E[4]==null?$-1:$,1);
$--}}return o};q.rect.axV=function(x){x=x.slice(0);for(var $=0;$<x.length;$++){var J=x[$],o=null;if(J[4]!=null)continue;
for(var c=0;c<x.length;c++){var E=x[c];if($==c||E[4]!=null)continue;var b=J[0]==E[0],l=J[1]==E[1],i=J[2]==E[2],F=J[3]==E[3];
if(l&&F&&(J[2]==E[0]||J[0]==E[2])){o=[Math.min(J[0],E[0]),J[1],Math.max(J[2],E[2]),J[3]]}if(b&&i&&(J[3]==E[1]||J[1]==E[3])){o=[J[0],Math.min(J[1],E[1]),J[2],Math.max(J[3],E[3])]}if(o){x[$]=o;
x.splice(c,1);break}}if(o){$--}}return x};q.rect.pD=function(x){var J=new ha;for(var $=0;$<x.length;
$++)J=J.k7(x[$]);return J};q.rect.aev=function(x,J){var o=q.rect.pD,c=new UnionFind(x.length),R=1e3,y=1e3;
for(var $=0;$<x.length;$++)for(var E=$+1;E<x.length;E++){if(!J)continue;var b=x[$],l=x[E],I=1e9,V=1e9;
if(b.$G(l)){c.link($,E);continue}var i=b.x+b.m,F=b.y+b.e,k=l.x+l.m,U=l.y+l.e;if((i<l.x||k<b.x)&&(F<l.y||U<b.y))continue;
if(!(F<l.y||U<b.y))I=Math.min(Math.abs(i-l.x),Math.abs(b.x-k));if(!(i<l.x||k<b.x))V=Math.min(Math.abs(F-l.y),Math.abs(b.y-U));
var u=Math.min(I,V),N=Math.min(b.m,b.e,l.m,l.e);if(u<.3*N)c.link($,E)}var e=[],B={};for(var $=0;$<x.length;
$++){var j=c.find($),T=x[$];if(B[j]==null){B[j]=e.length;e.push([])}e[B[j]].push(T)}var a=[],P=[];for(var $=0;
$<e.length;$++){a.push(o(e[$]));var v=o(e[$]);v.CX=$;P.push(v)}P.sort(function(Z,A){return Math.max(A.e,A.m)-Math.max(Z.e,Z.m)});
var t=new NETXUS.RectanglePacker(R,y);while(!0){var g=!1;t.reset(R,y);for(var $=0;$<P.length;$++){var H=t.findCoords(P[$].m,P[$].e);
if(H){P[$].x=H.x;P[$].y=H.y}else{R=Math.floor(R*1.1);y=Math.floor(y*1.1);g=!0;break}}if(g)continue;break}for(var $=0;
$<e.length;$++){var _=P[$],Y=_.CX,K=a[Y],f=e[Y],m=_.x-K.x,C=_.y-K.y;for(var E=0;E<f.length;E++)f[E].offset(m,C)}};
q.xP=function(){};q.xP.kg=Math.floor(16*window.devicePixelRatio);q.xP.Ba={};q.xP.M9=0;q.xP.Bz=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
q.xP.a0s=["px","in","cm","mm","%"];q.xP.Uf=function(x,J,o,c){var E=[1,J,J/2.54,J/25.4,o/100][c];return x*E};
q.xP.asC=function(x,J,o,c){var E=[1,J,J/2.54,J/25.4,o/100][c];return x/E};q.xP.Cx=function(x,J,o,c,E){var b=o.Km.jm,l=[1,J,J/2.54,J/25.4,c/100][b],i=[2,3,2,1,2][b];
x=x/l;var F=Math.round(x),k=b==0&&Math.abs(x-F)<1e-6?F+"":x.toFixed(i);if(E)k+=" "+q.xP.a0s[b];return k};
q.xP.aC5=function(x,J,o,c){var E=o.Km.jm,b=[1,J,J/2.54,J/25.4,c/100][E];x=parseFloat(x)*b;return x};
q.xP.alI=function(x,J){var o=x+","+J;if(q.xP.Ba.clr==o)return;var c=Math.round(q.xP.kg*.5);q.xP.M9=c;
var E=q.T6(c,c);E.save();E.font=c*1.5+"px monospace";var b="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var $=0;
$<b.length;$++){E.fillStyle="#"+q.uW(J);E.fillRect(0,0,c,c);E.fillStyle="#"+q.uW(x);E.fillText(b[$],0,c);
q.xP.Ba[b[$]]=new Uint8Array(E.getImageData(0,0,c,c).data.buffer)}q.xP.Ba.clr=o;E.restore()};q.xP.aop=function(x,J,o){var c=0,E=0,b=4*q.xP.kg;
for(var $=9;$>=0;$--){var l=Math.pow(10,$);if(5*l*x<=b){c=5*l;E=10;break}if(2*l*x<=b){c=2*l;E=4;break}if(1*l*x<=b){c=1*l;
E=10;break}}if(c==0){c=1;E=10}var i=Math.ceil(c*x),F=q.R(i*q.xP.kg*4);q.xj(F,4278190080|o);for(var $=0;
$<q.xP.kg;$++)q.xP.Gg(F,4*$*i,J);for(var $=0;$<i;$++)q.xP.Gg(F,4*((q.xP.kg-1)*i+$),J);if(c==2)E=2;if(c==5)E=5;
if(c>1||c==1&&i>20)for(var $=1;$<E;$++)q.xP.a9z(F,$*(i/E),i,($&1)==1?.8:.7,J);return{bA:F,step:c}};q.xP.a9z=function(x,J,o,c,E){var J=Math.round(J);
for(var b=Math.round(q.xP.kg*c);b<q.xP.kg-1;b++)q.xP.Gg(x,4*(b*o+J),E)};q.xP.Gg=function(x,J,o){x[J+0]=o>>16&255;
x[J+1]=o>>8&255;x[J+2]=o&255};q.xP.aAY=function(x,J,o,c,E,b,l){var i=x.T3.m,F=x.T3.e,k=q.xP.kg,U=J&255,I=J>>8&255,V=J>>16&255;
J=Math.round(U*.6)<<16|Math.round(I*.6)<<8|Math.round(V*.6);q.xP.alI(Math.round(U*.8)<<16|Math.round(I*.8)<<8|Math.round(V*.8),o);
var u=x.Z,N=x.z,e=x.o7;for(var B=0;B<2;B++){var j=B==0?b:l;x.Z=j[0];x.z=j[1];x.o7=0;var T=this.aop(x.Z,J,o),a=x.Vx(0,0),P=x.Vx(i,F),v=Math.floor(a.x/T.step)*T.step,R=Math.ceil(P.x/T.step)*T.step,y=Math.floor(a.y/T.step)*T.step,t=Math.ceil(P.y/T.step)*T.step,g=x.OY(v,y),H=x.OY(R,y),_=T.step*x.Z,Y=Math.ceil(_);
if(B==1){var K=T.bA;T.bA=q.R(K.length*4);q.D.NB(K,T.bA,Y,k)}var f=B==0?x.NP.data:x.Su.data,m=new ha(0,0,[i,k][B],[k,F][B]),C=new ha(0,0,[Y,k][B],[k,Y][B]),Z=new ha([0,Math.round(k*.2)][B],[Math.round(k*.08),0][B],q.xP.M9,q.xP.M9),A=(B==0?R-v:t-y)/T.step;
for(var $=0;$<A;$++){if(B==0)C.x=Math.round(g.x+$*_);else C.y=Math.round(g.y+$*_);q.St(T.bA,C,f,m,C);
var d=(B==0?v+$*T.step:Math.abs(y+$*T.step)).toString(10);for(var G=0;G<d.length;G++){if(B==0)Z.x=C.x+3+G*Math.round(q.xP.M9*.8);
else Z.y=C.y+3+G*Math.round(q.xP.M9*1.15);var r=q.xP.Ba[d[G]];q.St(r,Z,f,m,Z)}}}x.Z=u;x.z=N;x.o7=e;var X=Math.floor(k*.6),w=new Uint32Array(x.NP.data.buffer),S=new Uint32Array(x.Su.data.buffer),z=U<128?4278190080:4294967295;
if(0<c&&c<i)for(var $=0;$<X;$++)w[$*i+c]=z;if(0<E&&E<F)for(var $=0;$<X;$++)S[E*k+$]=z};q.scale={};q.scale.$H=document.createElement("canvas");
q.scale.n9=q.scale.$H.getContext("2d");q.scale.ye=function(x,J,o){var c=q.scale.$H,E=q.scale.n9;c.width=J;
c.height=o;var b=new ImageData(new Uint8ClampedArray(x.buffer),J,o);E.putImageData(b,0,0);return E.createPattern(E.canvas,"repeat")};
q.scale.att=function(x,J,o,c,E,b,l,i,F){var k=q.scale.ay2(x,o,c,E,b,l,i,F);if(J)J.set(k);return new Uint8Array(k.buffer)};
q.scale.ay2=function(x,J,o,c,E,b,l,i){var F=q.T6(J,o);F.save();F.rect(0,0,J,o);F.translate(b,l);F.scale(c,E);
if(i!=null)F.rotate(-i);F.fillStyle=x;F.fill();F.restore();return new Uint8Array(F.getImageData(0,0,J,o).data.buffer)};
q.scale.M=function(x,J,o,c,E){var b=o.J==0&&o.xt==0,l=E.m,i=E.e,F=q.O.ny(J,o).j,k=q.O.ql(F,b).Kc(E),U=k.x,I=k.y,V=U+k.m,u=I+k.e,N=~~J.x,e=~~J.y,B=~~J.m,j=~~J.e;
if(b)for(var T=I;T<u;T++){var a=o.Lu*(T+.5)+o.s7-e,P=~~a*B;for(var v=U;v<V;v++){var R=o.V*(v+.5)+o.Iw-N;
c[T*l+v]=x[P+~~R]}}else for(var T=I;T<u;T++)for(var v=U;v<V;v++){var y=v+.5,t=T+.5,R=o.V*y+o.xt*t+o.Iw-N,a=o.J*y+o.Lu*t+o.s7-e;
if(0<=R&&0<=a&&R<B&&a<j)c[T*l+v]=x[~~a*B+~~R]}};q.scale.aaE=function(x,J,o,c,E,b){var l=new Uint32Array(x.buffer),i=new Uint32Array(c.buffer),F=E.m,k=E.e,U=q.O.ny(J,o).j,I=b?E:q.O.ql(U).Kc(E),V=I.x,u=I.y,N=V+I.m,e=u+I.e,B=~~J.x,j=~~J.y,T=~~J.m,a=~~J.e;
for(var P=u;P<e;P++)for(var v=V;v<N;v++){var R=v+.5,y=P+.5,t=o.V*R+o.xt*y+o.Iw-B,g=o.J*R+o.Lu*y+o.s7-j;
if(b){t=((T<<10)+t)%T;g=((a<<10)+g)%a}if(0<=t&&0<=g&&t<T&&g<a)i[P*F+v]=l[~~g*T+~~t]}};q.scale.QX=function(x,J,o,c,E,b,l){if(l<1)q.scale.aA4(x,J,o,c,E,b,Math.round(1/l));
else q.scale.a3c(x,J,o,c,E,b,l)};q.scale.EW=function(x,J,o,c,E,b,l,i){if(i)i=i.Kc(new ha(0,0,J,o));x=new Uint32Array(x.buffer);
c=new Uint32Array(c.buffer);if(l<1)q.scale.afj(x,J,o,c,E,b,Math.round(1/l),i);else q.scale.a6w(x,J,o,c,E,b,l)};
q.scale.a3c=function(x,J,o,c,E,b,l){for(var i=0;i<o;i++)for(var F=0;F<J;F++){var k=x[i*J+F],U=Math.min(l,E-F*l),I=Math.min(l,b-i*l);
for(var $=0;$<I;$++)for(var V=0;V<U;V++)c[(l*i+$)*E+l*F+V]=k}};q.scale.aA4=function(x,J,o,c,E,b,l){for(var i=0;
i<b;i++)for(var F=0;F<E;F++){var k=0,U=Math.min(l,J-F*l),I=Math.min(l,o-i*l);for(var $=0;$<I;$++)for(var V=0;
V<U;V++)k+=x[(l*i+$)*J+(l*F+V)];c[i*E+F]=Math.round(k/(U*I))}};q.scale.a6w=function(x,J,o,c,E,b,l){for(var i=0;
i<o;i++)for(var F=0;F<J;F++){var k=x[i*J+F],U=Math.min(l,E-F*l),I=Math.min(l,b-i*l);for(var $=0;$<I;
$++)for(var V=0;V<U;V++)c[(l*i+$)*E+l*F+V]=k}};q.scale.aB9=function(x,J,o){return(x>>>o&255)+(J>>>o&255)>>>1};
q.scale.rq=function(x,J){var o=q.scale.aB9;return o(x,J,24)<<24|o(x,J,16)<<16|o(x,J,8)<<8|o(x,J,0)};
q.scale.ayC=function(x,J,o,c,E,b){var l=new Uint32Array(x.buffer),i=new Uint32Array(c.buffer);for(var F=0;
F<o;F++){for(var k=0;k<J;k++){var U=F*J+k,I=l[U],V=I,u=I,N=I;if(k<J-1)V=q.scale.rq(I,l[U+1]);if(F<o-1)u=q.scale.rq(I,l[U+J]);
if(k<J-1&&F<o-1)N=q.scale.rq(I,l[U+J+1]);var e=(F*E+k)*2;i[e]=I;i[e+1]=V;i[e+E]=u;i[e+E+1]=N}}if((E&1)==1)for(var F=0;
F<b;F++)i[F*E+E-1]=i[F*E+E-2];var B=E*(b-1);if((b&1)==1)for(var k=0;k<E;k++)i[B+k]=i[B-E+k]};q.scale.afj=function(x,J,o,c,E,b,l,i){var F=0,k=E,U=0,I=b;
if(i){F=Math.floor(i.x/l);k=Math.ceil((i.x+i.m)/l);U=Math.floor(i.y/l);I=Math.ceil((i.y+i.e)/l)}for(var V=U;
V<I;V++)for(var u=F;u<k;u++){var N=0,e=0,B=0,j=0,T=Math.min(l,J-u*l),a=Math.min(l,o-V*l);for(var $=0;
$<a;$++)for(var P=0;P<T;P++){var v=x[(l*V+$)*J+l*u+P],R=v>>>24;N+=R;e+=R*(v>>>16&255);B+=R*(v>>>8&255);
j+=R*(v&255)}if(N!=0){var y=1/N;c[V*E+u]=N/(T*a)<<24|e*y<<16|B*y<<8|j*y}else c[V*E+u]=0}};q.u=function(){function x(i,F,$){return(128&i[$-F-1]&i[$-F]&i[$-2]&i[$-1]&i[$+1]&i[$+F-1]&i[$+F])==0}function J(i,F,$){return(128&i[$-F-F]&i[$-F+1]&i[$+2]&i[$+F+1]&i[$+F+F])==0}function o(i,F,$){return(i[$-F]&i[$-1]&i[$+1]&i[$+F]&128)==0}function c(i,$){return(i[$]&128)!=0}function E(i,F,k,U){var $=0,I=k.m,V=k.e;
if(U)for(var u=0;u<V;u++)for(var N=0;N<I;N++){if(c(i,$)&&(N<2||u<2||N>I-3||u>V-3||((i[$-1]&128)==0||F[$-1]!=0)&&x(i,I,$)||J(i,I,$)))F[$]=255;
$++}else for(var u=0;u<V;u++)for(var N=0;N<I;N++){if(c(i,$)&&(N==0||u==0||N==I-1||u==V-1||o(i,I,$)))F[$]=255;
$++}}function b(i,F,k,U,I){var V=k.m,u=k.e,N=new Uint8Array(F.buffer),e=new Uint32Array(F.buffer);if(I)for(var B=2;
B<u-2;B++)for(var j=2;j<V-2;j++){var $=B*V+j;if(c(i,$)&&(((i[$-1]&128)==0||e[$-1]!=0)&&x(i,V,$)||J(i,V,$)))e[$]=U[(j+B&4)>>>2]}else for(var B=1;
B<u-1;B++)for(var j=1;j<V-1;j++){var $=B*V+j;if(c(i,$)&&o(i,V,$)){e[$]=U[(j+B&4)>>>2]}}}function l(i,F,k,U,I){var V=k.m,u=k.e,N=new Uint8Array(F.buffer),e=new Uint32Array(F.buffer),$=0;
if(U==1)for(var B=0;B<u;B++)for(var j=0;j<V;j++,$++){var T=i[$];e[$]=255-T>>>1<<24|255}else for(var B=0;
B<u;B++)for(var j=0;j<V;j++,$++){var T=i[$];e[$]=255<<24|(T<<16|T<<8|T)}}return{aAq:E,a2e:b,a3A:l}}();
q.ZP={};q.ZP.h_=function(x,J,o){var c,E;if(o==0){c=x.rect.clone();E=q.ZP.a5U}if(o==1){c=x.rect.k7(J.rect);
E=q.ZP.k7}if(o==2){c=J.rect.clone();E=q.ZP.a8j}if(o==3){c=x.rect.Kc(J.rect);E=q.ZP.Kc}if(o==4){c=x.rect.k7(J.rect);
E=q.ZP.abM}if(c.Kx())return null;var b=q.R(c.P());q.zc(J.channel,J.rect,b,c);var l=q.R(c.P());q.zc(x.channel,x.rect,l,c);
E(l,b,b);var i=q.d6(b,c);if(i.Kx())return null;if(!i.U5(c)){var F=q.R(i.P());q.zc(b,c,F,i);b=F;c=i}return{channel:b,rect:c}};
q.ZP.a5U=function(x,J,o){for(var $=0;$<x.length;$++)o[$]=x[$]};q.ZP.k7=function(x,J,o){for(var $=0;$<x.length;
$++)o[$]=Math.min(x[$]+J[$],255)};q.ZP.a8j=function(x,J,o){for(var $=0;$<x.length;$++)o[$]=Math.max(J[$]-x[$],0)};
q.ZP.Kc=function(x,J,o){var c=1/255;for(var $=0;$<x.length;$++)o[$]=x[$]*J[$]*c};q.ZP.abM=function(x,J,o){var c=1/255;
for(var $=0;$<x.length;$++)o[$]=Math.min(x[$]+J[$],255)-x[$]*J[$]*c};q.IF=function(x,J){this.H=[];this.xN=[0];
this.P3=[];this.jA=[];this.HJ=[0];this._D=[];this.cs=[];this.rows=x;this.cols=J};q.IF.prototype.clone=function(){var x=this,J=x.rows,o=x.cols,c=new q.IF(J,o);
c.H=x.H.slice(0);c.xN=x.xN.slice(0);c.P3=x.P3.slice(0);c.jA=x.jA.slice(0);c.HJ=x.HJ.slice(0);c._D=x._D.slice(0);
c.cs=x.cs.slice(0);return c};q.IF.prototype.s5=function(x,J,o){var c=this.xN.length-1;for(var $=0;$<o;
$++){var E=x[$],b=J[$];this.H.push(E);this.P3.push(b);if(b==c){this.cs.push(E==0?0:1/E)}else{this.jA.push(E);
this._D.push(b)}}this.xN.push(this.H.length);this.HJ.push(this.jA.length)};q.IF.prototype.Pf=function(x,J){var o=this,c=o.rows,E=o.H,b=o.P3;
if(J==null)J=new Array(c);for(var $=0;$<c;$++){var l=o.xN[$],i=o.xN[$+1],F=0;while((i-l&3)!=0){F+=E[l]*x[b[l]];
l++}for(var k=l;k<i;k+=4)F+=E[k]*x[b[k]]+E[k+1]*x[b[k+1]]+E[k+2]*x[b[k+2]]+E[k+3]*x[b[k+3]];J[$]=F}return J};
q.IF.prototype.multiply=function(x){return this.dd(x.NB())};q.IF.prototype.dd=function(x){var J=this,o=J.rows,c=J.cols,E=x.rows,b=new q.IF(o,E),l=J.P3,i=x.P3;
for(var $=0;$<o;$++){var F=[],k=[],U=J.xN[$],I=J.xN[$+1];for(var V=0;V<E;V++){var u=x.xN[V],N=x.xN[V+1],e=0,B=U,j=u;
while(B<I&&j<N){var T=Math.max(l[B],i[j]);while(B<I&&l[B]<T)B++;while(j<N&&i[j]<T)j++;if(B<I&&j<N&&l[B]==i[j])e+=J.H[B++]*x.H[j++]}if(e!=0){F.push(e);
k.push(V)}}b.s5(F,k,F.length)}return b};q.IF.prototype.NB=function(){var x=this.rows,J=this.cols,o=[];
for(var $=0;$<J;$++)o.push([[],[]]);var c=this.H,E=this.xN,b=this.P3;for(var $=0;$<x;$++){var l=E[$],i=E[$+1];
for(var F=l;F<i;F++){var k=o[b[F]];k[0].push(c[F]);k[1].push($)}}var U=new q.IF(J,x);for(var $=0;$<J;
$++)U.s5(o[$][0],o[$][1],o[$][1].length);return U};q.IF.prototype.ov=function(){var x=this.rows,J=this.cols,o=new Array(x),c=this.H,E=this.xN,b=this.P3;
for(var $=0;$<x;$++){var l=o[$]=new Array(J);for(var i=0;i<J;i++)l[i]=0;var F=E[$],k=E[$+1];for(var U=F;
U<k;U++)l[b[U]]=c[U]}return o};q.IF.prototype.yK=function(x,J,o,c,E){function b(y,J,t,g){var H=y.length;
for(var $=0;$<H;$++)g[$]=y[$]-J[$]*t}function l(y,J,t,g){var H=y.length,_=0;while((H-_&3)!=0){g[_]=y[_]+J[_]*t;
_++}for(var $=_;$<H;$+=4){g[$]=y[$]+J[$]*t;g[$+1]=y[$+1]+J[$+1]*t;g[$+2]=y[$+2]+J[$+2]*t;g[$+3]=y[$+3]+J[$+3]*t}}function i(y,J,t){var g=y.length;
for(var $=0;$<g;$++)t[$]=y[$]*J[$]}function F(y,J){var t=y.length,g=0,H=0;while((t-g&3)!=0){H+=y[g]*J[g];
g++}for(var $=g;$<t;$+=4)H+=y[$]*J[$]+y[$+1]*J[$+1]+y[$+2]*J[$+2]+y[$+3]*J[$+3];return H}var k=c!=null?2:1,U=Date.now(),I=0,V=this,u=x.slice(0),N=x.slice(0);
V.Pf(x,N);b(J,N,1,u);var e=this.cs;if(k==0){e=u.slice(0);e.fill(1)}var B=u.slice(0);i(e,u,B);var j=B.slice(0),T=F(u,B);
while(!0){V.Pf(j,N);var a=T/F(j,N);l(x,j,a,x);b(u,N,a,u);if((I&7)==0&&Math.sqrt(F(u,u))<o)break;if(k<=1)i(e,u,B);
else{var P=u.slice(0);c.ayF(P,u);E.aim(B,P)}var v=F(u,B),R=v/T;l(B,j,R,j);T=v;I++}};q.IF.prototype.aq2=function(x,J,o,c){var E=Date.now(),b=1.96,i=0;
if(o==null)o=5e-6;if(c==null)c=1e9;var l=1-b,bz=this.rows,F=this.jA,k=this.HJ,U=this._D,I=this.cs;while(!0){var V=0;
for(var $=0;$<bz;$++){var u=J[$],N=k[$],e=k[$+1];if(e-N==4)u-=F[N]*x[U[N]]+F[N+1]*x[U[N+1]]+F[N+2]*x[U[N+2]]+F[N+3]*x[U[N+3]];
else for(var B=N;B<e;B++)u-=F[B]*x[U[B]];var j=x[$]*l+I[$]*u*b,T=j-x[$];V+=T*T;x[$]=j}if(V/bz<o||Date.now()>E+c)break}};
q.IF.prototype.amp=function(x,J,o,c){var E=Date.now(),b=1.96,i=0;if(o==null)o=5e-5;if(c==null)c=1e9;
var l=1-b,bz=this.rows,F=this.jA,k=this.HJ,U=this._D,I=this.cs;while(!0){var V=0;for(var $=0;$<bz;$++){var u=$*3,N=J[u],e=J[u+1],B=J[u+2],j=k[$],T=k[$+1];
for(var a=j;a<T;a++){var P=F[a],v=U[a]*3;N-=P*x[v+0];e-=P*x[v+1];B-=P*x[v+2]}var R=I[$]*b,y=x[u+0]*l+N*R,t=x[u+1]*l+e*R,g=x[u+2]*l+B*R,H=y-x[u+0],_=t-x[u+1],Y=g-x[u+2];
V+=.4*H*H+.5*_*_+.1*Y*Y;x[u+0]=y;x[u+1]=t;x[u+2]=g}if(V/bz<o||Date.now()>E+c)break}};q._8={};q._8.Ji=function(x,J,o){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:x},Vrtc:{t:"doub",v:J},Cnty:{t:"bool",v:o}}}};
q._8.M=function(x,J){for(var $=0;$<x.length;$++){var o=x[$].v,c=J.iI(new ck(o.Hrzn.v,o.Vrtc.v));o.Hrzn.v=Math.round(c.x);
o.Vrtc.v=Math.round(c.y)}};q._8.azA=function(x,J,o){var bz=x.length-1,c=q.ng.R7(bz+1,bz+2);for(var $=1;
$<bz;$++){c[$][$-1]=1/(x[$]-x[$-1]);c[$][$]=2*(1/(x[$]-x[$-1])+1/(x[$+1]-x[$]));c[$][$+1]=1/(x[$+1]-x[$]);
c[$][bz+1]=3*((J[$]-J[$-1])/((x[$]-x[$-1])*(x[$]-x[$-1]))+(J[$+1]-J[$])/((x[$+1]-x[$])*(x[$+1]-x[$])))}c[0][0]=2/(x[1]-x[0]);
c[0][1]=1/(x[1]-x[0]);c[0][bz+1]=3*(J[1]-J[0])/((x[1]-x[0])*(x[1]-x[0]));c[bz][bz-1]=1/(x[bz]-x[bz-1]);
c[bz][bz]=2/(x[bz]-x[bz-1]);c[bz][bz+1]=3*(J[bz]-J[bz-1])/((x[bz]-x[bz-1])*(x[bz]-x[bz-1]));q.ng.qU(c,o)};
q._8.aau=function(x,J,o,c){if(x<=J[0])return o[0];if(x>=J[J.length-1])return o[J.length-1];var $=1;while(J[$]<x)$++;
var E=J[$],b=J[$-1],l=o[$],i=o[$-1],F=(x-b)/(E-b),k=c[$-1]*(E-b)-(l-i),U=-c[$]*(E-b)+(l-i),I=(1-F)*i+F*l+F*(1-F)*(k*(1-F)+U*F);
return I};q._8.anE=function(x,J,o,c){var E={$m:[x[0]],PO:[J[0]],sh:[]};c[0]=E;for(var $=1;$<x.length-1;
$++){E.$m.push(x[$]);E.PO.push(J[$]);if(o[$]==!1){q._8.azA(E.$m,E.PO,E.sh);E={$m:[x[$]],PO:[J[$]],sh:[]}}c[$]=E}E.$m.push(x[$]);
E.PO.push(J[$]);q._8.azA(E.$m,E.PO,E.sh);c[$]=E};q._8.alZ=function(x,J,o,c){if(x<=J[0])return o[0];if(x>=J[J.length-1])return o[J.length-1];
var $=1;while(J[$]<x)$++;var E=c[$-1];return q._8.aau(x,E.$m,E.PO,E.sh)};q._8.ahh=function(x){var J={$m:[],PO:[],Zz:[]};
for(var $=0;$<x.length;$++){J.$m[$]=x[$].v.Hrzn.v;J.PO[$]=x[$].v.Vrtc.v;J.Zz[$]=x[$].v.Cnty?x[$].v.Cnty.v:!0}return J};
q._8.MQ=function(x,bz,J){var o=0,c=255;if(J){o=-1e9;c=1e9}var E=q._8.ahh(x),b=[];q._8.anE(E.$m,E.PO,E.Zz,b);
var l=[];for(var $=0;$<bz;$++)l[$]=1/255*Math.max(o,Math.min(c,q._8.alZ($*(255/(bz-1)),E.$m,E.PO,b)));
return l};q._8.aqT=function(x,bz,J){var o=Math.round(x.length/20),c=bz-x.length,E=J?(x[o]-x[0])/o:0,b=J?x[0]-c*E:x[x.length-1],l=[];
for(var $=0;$<c;$++)l.push(b+$*E);return J?l.concat(x):x.concat(l)};q._8.g1=function(x,bz,J){var o=q._8.ahh(x),c=[];
q._8.anE(o.$m,o.PO,o.Zz,c);var E=new Uint8Array(bz),b=bz/256;for(var $=0;$<bz;$++)E[$]=Math.max(0,Math.min(bz-1,q._8.alZ($*b,o.$m,o.PO,c)));
if(J){E[0]=0;if(E[1]>100)E[1]=.4*E[1];if(E[2]>150)E[1]=.7*E[2]}return E};q._8.akU=function(x,J){var o=new Uint8Array(x.length);
for(var $=0;$<x.length;$++)o[$]=J[x[$]];return o};q._8.dh=function(x,J,o){var c=document.createElement("canvas");
c.width=J;c.height=o;var E=c.getContext("2d"),b=q._8.g1(x,256);E.scale(J/255,o/255);E.fillStyle="#fff";
E.fillRect(0,0,255,255);E.fillStyle="#333";E.beginPath();E.moveTo(0,255);for(var $=0;$<b.length;$++)E.lineTo($,255-b[$]);
E.lineTo(255,255);E.closePath();E.fill();return c.toDataURL()};q.style={};q.style.stroke=function(x,J,o,c){var E=o.m,b=o.e,l=new Float64Array(E*b);
q.style.EC(x,l,E,b);q.style.dY(J,o,l,o,c)};q.style.dY=function(x,J,o,c,E){var b=J.Kc(c),l=b.m,i=b.e;
E+=.5;var F=b.x-J.x,k=b.y-J.y,U=J.m,I=b.x-c.x,V=b.y-c.y,u=c.m;for(var N=0;N<i;N++){var e=(N+V)*u+I,B=(N+k)*U+F;
for(var j=0;j<l;j++){var T=Math.max(0,Math.min(1,E-o[e+j]));x[B+j]=Math.round(T*255)}}};q.style.a3E=function(x,J,o,c){for(var E=0;
E<o;E++)for(var b=0;b<J;b++){var l=E*J+b,i=0,F=0,k=x[l];if(b==0||E==0){i=x[l+1]-k;F=x[l+J]-k}else if(b==o-1||E==J-1){i=k-x[l-1];
F=k-x[l-J]}else{i=x[l+1]-x[l-1];F=x[l+J]-x[l-J]}if(i!=0||F!=0){var U=1/Math.sqrt(i*i+F*F);i*=U;F*=U}c[l+l]=i;
c[l+l+1]=F}};q.style.EC=function(x,J,o,c){var E=0,b=o*c;for(var $=0;$<b;$++)E|=x[$];if(E==0){J.fill(1e9);
return}var l=q.style.Dl(x,o,c);for(var i=0;i<c;i++)for(var F=0;F<o;F++){var $=i*o+F,k=l[$*2],U=l[$*2+1];
if(k==0&&U==0){J[$]=0;continue}var I=Math.sqrt(k*k+U*U),V=x[(i+U)*o+F+k]*(1/255);J[$]=I+.5-V}};q.style.a9f=function(x,J,o){return(.5-o)*x};
q.style.Dl=function(x,J,o,c){var E=new Int16Array(J*o*2);q.style.a41(x,E,J,o,128);return E};q.style.a41=function(x,J,o,c,E){var b=new Int32Array(o*c);
q.style.acZ(x,b,o,c,E);q.style.ah$(b,J,o,c)};q.style.acZ=function(x,J,o,c,E){var b=new Int32Array(c);
for(var l=0;l<o;l++){var i=o+c;for(var F=c-1;F>=0;F--){if(x[F*o+l]>E)i=0;else i++;b[F]=i}i=o+c;for(var F=0;
F<c;F++){if(x[F*o+l]>E)i=0;else i++;J[F*o+l]=i<b[F]?-i:b[F]}}};q.style.ah$=function(x,J,o,c){var E=(o+c)*(o+c),b=new Float64Array(o),l=new Uint16Array(o);
for(var i=0;i<c;i++){var F=i*o,k=0;l[0]=0;b[0]=-E;b[1]=+E;for(var U=1;U<o;U++){var I=x[U+F]*x[U+F]+U*U,V=(I-(x[l[k]+F]*x[l[k]+F]+l[k]*l[k]))/(2*U-2*l[k]);
while(V<=b[k]){k--;V=(I-(x[l[k]+F]*x[l[k]+F]+l[k]*l[k]))/(2*U-2*l[k])}k++;l[k]=U;b[k]=V;b[k+1]=E}k=0;
for(var U=0;U<o;U++){while(b[k+1]<U)k++;var u=l[k]-U,N=x[l[k]+F],$=i*o+U<<1;J[$]=u;J[$+1]=N}}};q.style.aX=function(x,J,o){if(o)for(var $=0;
$<x.length;$++){var c=x[$];if(c>0)x[$]=Math.max(0,Math.min(255,c+J*2*(q.style.eV($)-128)))}else for(var $=0;
$<x.length;$++){var c=x[$];if(c>0)x[$]=Math.max(0,Math.min(255,c+Math.min(c*3,J*2*(q.style.eV($)-128))))}};
q.style.eV=function(x){x=x^61^x>>16;x=x+(x<<3);x=x^x>>4;x=x*668265261;x=x^x>>15;return x&255};q.hh={};
q.hh.MO=function(x,J,o){var c=x.canvas;if(c.width!=J||c.height!=o){c.width=J;c.height=o}};q.hh.yR=function(x,J,o,c,E,b){q.hh.MO(x,J,o);
if(b==null)b=!1;var l=E.channel,i=E.rect,F=!E.isEnabled;if(J*o==0)return;var k=x.createImageData(J,o),U=k.data,I=1/J,V=1/o;
for(var $=0;$<o;$++)for(var u=0;u<J;u++){var N=$*J+u,e=N*4,B=Math.round(c.x+u*I*c.m),j=Math.round(c.y+$*V*c.e),T=0;
if(B<i.x||B>=i.x+i.m||j<i.y||j>=i.y+i.e)T=E.color;else T=l[(j-i.y)*i.m+(B-i.x)];T=255*(255-E.lA)+T*E.lA>>>8;
if(b)T=170+Math.round(.4*(T-170));U[e]=T;U[e+1]=T;U[e+2]=T;U[e+3]=255}x.putImageData(k,0,0);if(F)q.hh.ajX(x,J,o)};
q.hh.ayw=[];q.hh.ayN=function(x,J,o,c){var E,b,l;E=Math.ceil(Math.max(J,o)*.35);b=J-E;l=o-E;var i=q.hh.ayw[E];
if(i==null){var F=q.T6(E,E);F.fillStyle="#eeeeee";F.fillRect(0,0,E,E);var k=Math.round(E*.27),U=F.lineWidth=Math.max(1,Math.round(E*.12)),I=U/2;
F.strokeRect(1+I,1+I,E-U-2,E-U-2);F.strokeRect(k+I,k+I,E-k-k-U,E-k-k-U);i=q.hh.ayw[E]=F.getImageData(0,0,E,E)}x.putImageData(i,b,l)};
q.hh.a6d=[];q.hh.aAA=function(x,J,o){var c,E,b;c=Math.ceil(Math.max(J,o)*.35);E=J-c;b=o-c;var l=q.hh.a6d[c];
if(l==null){var i=q.T6(c,c);i.fillStyle="#eeeeee";i.fillRect(0,0,c,c);i.lineWidth=1;i.strokeRect(2.5,2.5,c-5,c-5);
var F=i.createImageData(3,3);q.xj(F.data,4278190080);F.data[4*4]=F.data[4*4+1]=F.data[4*4+2]=238;i.putImageData(F,1,1);
i.putImageData(F,c-4,1);i.putImageData(F,1,c-4);i.putImageData(F,c-4,c-4);l=q.hh.a6d[c]=i.getImageData(0,0,c,c)}x.putImageData(l,E,b)};
q.hh.akS=function(x,J,o,c,E){q.hh.MO(x,J,o);var b=J/c.m;if(J*o==0)return;x.fillStyle="#999999";x.setTransform(1,0,0,1,0,0);
x.clearRect(0,0,J,o);var l=q.hh.XZ;if(l==null)l=q.hh.XZ=bs.Ao.Bt(!0,!0);l.strokeStyleLineWidth.v.val=1/b;
x.fillStyle="#ffffff";x.scale(b,b);q.p.WD(E.$,x,0,0);q.p.WD(E.$,x,0,0,l)};q.hh.afQ=null;q.hh.k_=function(x,J,o,c,E,b,l,i,F){q.hh.MO(x,J,o);
if(J*o==0)return;var k=Math.max(J,o),U=q.hh.afQ;if(U==null||U.width<k||U.height<k){q.hh.afQ=U=x.createImageData(k,k)}k=U.width;
var I=U.data,V=c.m/J,u=c.e/o,N=b.x,e=b.x+b.m,B=b.y,j=b.y+b.e;for(var $=0;$<o;$++)for(var T=0;T<J;T++){var a=$*k+T,P=a*4,v=~~(c.x+T*V),R=~~(c.y+$*u),y=q.aap($,T,2);
if(v<N||v>=e||R<B||R>=j||F){I[P]=y;I[P+1]=y;I[P+2]=y;I[P+3]=255}else{var t=(R-b.y)*b.m+(v-b.x)<<2,g=E[t+3]*(1/255);
I[P]=E[t+0]*g+y*(1-g);I[P+1]=E[t+1]*g+y*(1-g);I[P+2]=E[t+2]*g+y*(1-g);I[P+3]=255}}if(i!=null)for(var $=0;
$<I.length;$+=4)I[$]=I[$+1]=I[$+2]=I[$+i];x.putImageData(U,0,0);if(l)q.hh.ajX(x,J,o)};q.hh.acU=function(x,J,o,c){q.hh.MO(x,J,o);
x.fillStyle=q.hh.fL(c.Clr.v);x.fillRect(0,0,J,o);q.hh.sn(x,J,o)};q.hh.a6P=null;q.hh.ain=function(x,J,o,c){q.hh.MO(x,J,o);
var E=x.canvas.width,b=x.canvas.height,l=q.hh.a6P;if(l==null||l.width!=E||l.height!=b){x.fillStyle="#ffffff";
x.fillRect(0,0,J,o);x.fillStyle="#000000";x.font=""+o*.7+"px serif";x.fillText("T",(J-o*.43)/2,o*.75);
x.fillText("T",(J-o*.43)/2,o*.75);q.hh.a6P=x.getImageData(0,0,E,b)}else x.putImageData(l,0,0)};q.hh.acp=function(x,J,o){q.hh.MO(x,J,o);
x.clearRect(0,0,J,o);x.font=o*.7+"px serif";x.fillText(":(",(J-o*.43)/2,o*.7)};q.hh.ar1=function(x,J,o,c){q.hh.MO(x,J,o);
var E=dv.get(c),b=x.canvas.width,l=q.hh.a9Y[b+E];if(l==null){var i=PIMG["adj/"+E],F=hR.CR(i),k=UPNG.decode(F.buffer),U=new Uint8Array(UPNG.toRGBA8(k)[0]),I=new ha(0,0,160,160),V=0,u=b-V*2,N=n.Y.yo([U,I],new cW(u/160,0,0,u/160,0,0)),e=new ha(0,0,b,b),B=q.R(e.P()*4);
q.l.j6("norm",N.buffer,N.rect,B,e,N.rect,1);l=q.hh.a9Y[b+E]=new ImageData(new Uint8ClampedArray(B.buffer),b,b)}x.putImageData(l,0,0)};
q.hh.a9Y={};q.hh.a8E=function(x,J,o,c){q.hh.MO(x,J,o);var E=x.canvas.width,b=x.canvas.height,l=x.getImageData(0,0,E,b);
q.r.VB(c.Grad.v,new Uint8Array(l.data.buffer),new ha(0,0,E,b),[1/E,0,0,1/b],E/2,b/2,!1,0,16711680,65280);
x.putImageData(l,0,0);q.hh.sn(x,J,o)};q.hh.ahO=function(x,J,o,c,E){q.hh.MO(x,J,o);var b=x,l=cI.$N(c.Ptrn.v,E.add.Patt);
if(l==null)return;var i=l.Gc[1];q.hh.k_(x,J,o,i,l.Gc[0],i,!1);q.hh.sn(b,J,o)};q.hh.ajX=function(x,J,o){x.strokeStyle="#bb0000";
x.lineWidth=3;x.beginPath();x.moveTo(J*.15,o*.15);x.lineTo(J*.85,o*.85);x.moveTo(J*.85,o*.15);x.lineTo(J*.15,o*.85);
x.closePath();x.stroke()};q.hh.sn=function(x,J,o){x.fillStyle="#eeeeee";x.fillRect(0,o*.75,J,o*.25);
x.beginPath();x.moveTo(0,o*.75);x.lineTo(J,o*.75);x.moveTo(J*.1,o*.875);x.lineTo(J*.9,o*.875);x.moveTo(J*.65,o*.825);
x.lineTo(J*.65,o*.95);x.closePath();x.stroke()};q.hh.fL=function(x){var J=q.r.fL(x),o=Math.round(J.o)<<16|Math.round(J.I)<<8|Math.round(J.J);
return"#"+q.uW(o)};q.p={};q.p.Uz=function(x,J,o){var c=[],E=-1;for(var $=0;$<x.length;$++){var b=x[$];
if((b.type==0||b.type==3)&&b.sm!=-1)E++;if(b.type>5||b.type==0||b.type==3)continue;if(J!=null&&J.indexOf(E)==-1)continue;
if(o!=null&&o.indexOf($)==-1)continue;c.push(b.HN.x);c.push(b.HN.y);c.push(b.L.x);c.push(b.L.y);c.push(b.Dq.x);
c.push(b.Dq.y)}return c};q.p.YY=function(x,J,o,c){var E=0,b=-1;for(var $=0;$<J.length;$++){var l=J[$];
if((l.type==0||l.type==3)&&l.sm!=-1)b++;if(l.type>5||l.type==0||l.type==3)continue;if(o!=null&&o.indexOf(b)==-1)continue;
if(c!=null&&c.indexOf($)==-1)continue;l.HN.DQ(x[E],x[E+1]);l.L.DQ(x[E+2],x[E+3]);l.Dq.DQ(x[E+4],x[E+5]);
E+=6}};q.p.Sp=function(x,J,o,c){var E=q.p.Uz(x,o,c);q.O.M(E,J,E);q.p.YY(E,x,o,c)};q.p.a3j=function(x,J,o,c){var E=q.p.Uz(x,o,c);
q.D.M(J,E);q.p.YY(E,x,o,c)};q.p.anZ=function(x,J,o,c){if(c==null){var E=q.p.a85(x,40,o);for(var $=0;
$<E.length;$++)x[$]=E[$]}var b=q.p.Uz(x,o,c);q.bf.M(J,b,q.O.Cg(b));q.p.YY(b,x,o,c)};q.p.a85=function(x,J,o){var c=[],E=-1;
for(var $=0;$<x.length;$++){var b=x[$],l=b.length;if(b.type>5){c.push(JSON.parse(JSON.stringify(b)));
continue}b=JSON.parse(JSON.stringify(b));c.push(b);if(b.sm!=-1)E++;if(o&&o.indexOf(E)==-1){c=c.concat(x.slice($+1,$+1+l))}else{var i=q.p.alH(x,$+1,l);
i=q.O.cl(i,J);var F=q.p.a8N(i);b.length=F.length;for(var k=0;k<F.length;k++)c.push(F[k])}$+=l}return c};
q.p.alH=function(x,J,o){var c={G:["M"],j:[]},E=x[J],b=x[J+o-1];c.j.push(E.L.x,E.L.y);for(var $=1;$<o;
$++){var l=x[J+$-1],i=x[J+$];c.G.push("C");c.j.push(l.Dq.x,l.Dq.y,i.HN.x,i.HN.y,i.L.x,i.L.y)}c.G.push("C");
c.j.push(b.Dq.x,b.Dq.y,E.HN.x,E.HN.y,E.L.x,E.L.y);return c};q.p.a8N=function(x){var J=[],o=x.G,c=x.j,E=0,bz=c.length;
J.push({type:2,HN:new ck(c[bz-4],c[bz-3]),L:new ck(c[0],c[1]),Dq:new ck(c[2],c[3])});for(var $=0;$<o.length-2;
$++){var b=$*6+4;J.push({type:2,HN:new ck(c[b],c[b+1]),L:new ck(c[b+2],c[b+3]),Dq:new ck(c[b+4],c[b+5])})}return J};
q.p.aDx=function(x){for(var $=0;$<x.length;$++){if(x[$].type>5)continue;var J=x[$].length;if(!(J==4||J==6||J==8)){$+=J;
continue}for(var o=0;o<J;o++){var c=x[$+1+o],E=x[$+1+(o+1)%J],b=Math.min(c.L.x,E.L.x),l=Math.min(c.L.y,E.L.y),i=0,F=0;
if(c.L.x<E.L.x){i=c.L.y-l;F=i-(E.L.x-b)}else{i=E.L.y-l;F=i-(c.L.x-b)}if(Math.abs(F)<.2*i)return i}}return-1};
q.p.d5=function(x,J,o){function c(V,u){var N=Math.min(V.x,u.x),e=Math.min(V.y,u.y),B=Math.max(V.x+V.m,u.x+u.m),j=Math.max(V.y+V.e,u.y+u.e);
return new ha(N,e,B-N,j-e)}var E=null,b=-1,l=!q.p.QU(x);for(var $=0;$<x.length;$++){var i=x[$];if(i.type>5)continue;
if((i.type==0||i.type==3)&&i.sm!=-1)b++;if(J!=null&&J.indexOf(b)==-1)continue;if($==x.length-1)break;
var F=i.type==3,k=i.length,U=i.sm,I=q.p.wy(x,$+1,k,F);if(E==null)E=I;else if(o)E=c(E,I);else if(l){if(J!=null||U==0||U==-1||U==2)E=c(E,I);
else if(U==1)E=E;else if(U==3){E=I;l=!1}}else{if(J!=null||U==0||U==-1||U==1)E=c(E,I);else if(U==2)E=E;
else if(U==3)E=E.Kc(I)}$+=k}if(E==null||E.m<0||E.e<0)E=new ha(0,0,0,0);return E};q.p.asX=new Float64Array(4);
q.p.wy=function(x,$,J,o){var c=q.p.asX;c[0]=1e30;c[1]=1e30;c[2]=-1e30;c[3]=-1e30;var E=x[$+J-1];if(!o)q.p.a8s(E.L.x,E.L.y,E.Dq.x,E.Dq.y,x[$].HN.x,x[$].HN.y,x[$].L.x,x[$].L.y,c);
for(var b=$;b<$+J-1;b++){var l=x[b],i=x[b+1];q.p.a8s(l.L.x,l.L.y,l.Dq.x,l.Dq.y,i.HN.x,i.HN.y,i.L.x,i.L.y,c)}return new ha(c[0],c[1],c[2]-c[0],c[3]-c[1])};
q.p.a8s=function(x,J,o,c,E,b,l,i,F){if(x==o&&J==c&&E==l&&b==i){F[0]=Math.min(F[0],Math.min(x,l));F[1]=Math.min(F[1],Math.min(J,i));
F[2]=Math.max(F[2],Math.max(x,l));F[3]=Math.max(F[3],Math.max(J,i));return}var k=x,U=J,I=x,V=J,u=40,N=1/(u-1);
for(var e=0;e<u;e++){var B=e*N,j=1-B,T=j*j*j,a=3*j*j*B,P=3*j*B*B,v=B*B*B,R=T*x+a*o+P*E+v*l,y=T*J+a*c+P*b+v*i;
if(R<k)k=R;else if(R>I)I=R;if(y<U)U=y;else if(y>V)V=y}if(k<F[0])F[0]=k;if(U<F[1])F[1]=U;if(I>F[2])F[2]=I;
if(V>F[3])F[3]=V};q.p.aav=function(x,J){var o=x.length-3,c=J%o,E=Math.floor(c);if(J<0||E>=o)return null;
var b=x[3+E],l=x[3+(E+1)%o],i=b.L,F=b.Dq,k=l.HN,U=l.L,I=c-E,V=1-I,u=V*V*V*i.x+3*V*V*I*F.x+3*V*I*I*k.x+I*I*I*U.x,N=V*V*V*i.y+3*V*V*I*F.y+3*V*I*I*k.y+I*I*I*U.y;
return new ck(u,N)};q.p.W2=function(x,J){var o=q.O.Om(x),c=o.Ho;o.Ho=Typr.U.pathToSVG({crds:c.j,cmds:c.G},J==null?2:J);
return o};q.p.CG=function(x){q.p.Cd();var J,o=q.p.QI(x),c=[];for(var $=0;$<o.length;$++){var E=o[$][0],b=o[$][1];
if(Math.abs(E.area)<1e-5)c.push(E);else if(J==null)J=E;else{if(!E.closed)E.closed=!0;J=J[b](E);J.remove()}}if(J==null)J=new paper.CompoundPath(c);
else{if(J.segments)J=new paper.CompoundPath(J);for(var $=0;$<c.length;$++){J.addChild(c[$])}}var l=x.slice(0,2);
l=l.concat(q.p.wH(J));if(l[2])l[2].sm=1;for(var $=3;$<l.length;$++)if(l[$].sm!=null)l[$].sm=-1;return l};
q.p.Cd=function(){if(q.p.akF==null){var x=document.createElement("canvas");paper.setup(x);q.p.akF=!0}};
q.p.a7A=function(x,J){q.p.Cd();var o=[],c=q.p.QI(x),E=new paper.Path.Rectangle(new paper.Rectangle(J.x,J.y,J.m,J.e));
E.remove();E.fillColor=new paper.Color(1,0,0);for(var $=0;$<c.length;$++){if(E.intersects(c[$][0])||E.contains(c[$][0].children[0].segments[0].point))o.push($)}return o};
q.p.zo=function(x,J,o,c){q.p.Cd();var E=o?{curves:!0,tolerance:c}:null,b=new paper.Point(J.x,J.y),l=q.p.QI(x);
for(var $=l.length-1;$>=0;$--){var i=l[$][0],F=i.hitTest(b,E);if(F!=null)return{cD:$,eQ:o?F.location.index:null,UL:o?F.location.time:0}}return{cD:-1}};
q.p.O4=function(x,J,o){var c=[[],[],[]];for(var $=0;$<x.length;$++){var E=x[$];if(E.type>5||E.type==0||E.type==3)continue;
var b=o==null?!0:o.indexOf($)!=-1;if(J.GT(E.L))c[0].push($);if(J.GT(E.HN)&&b)c[1].push($);if(J.GT(E.Dq)&&b)c[2].push($)}return c};
q.p.aDb=function(x,J,o){var c=x[J];for(var E=J+1;E<o;E++)x[E-1]=x[E];x[o-1]=c};q.p.auj=function(x,J,o,c){var $,E,b,l=0;
x=x.slice(0);J.sort(function(N,e){return N-e});b=-1;for($=2;$<x.length;){var i=x[$],F=i.length;if(i.sm!=-1)b++;
var k=l;while(k<J.length&&J[k]<$+1+F)k++;if(l!=k){var U=J.slice(l,k);l=k;for(E=0;E<F;E++)if(U.indexOf($+1+E)!=-1)x[$+1+E]=null;
if(i.type==0){var I=U[0]-($+1);while(I!=0){q.p.aDb(x,$+1,$+1+F);I--}}var V=i;V.length=0;E=0;while(E<F&&x[$+1+E]==null)E++;
while(E<F){var u=x[$+1+E];if(u!=null)V.length++;else if(E<F+1&&x[$+1+E+1]&&c){V=x[$+1+E]={type:0,sm:-1,length:0,hu:0,Ab:0,tX:1}}E++}if(c)for(E=-1;
E<F;E++)if(x[$+1+E]&&x[$+1+E].type<3)x[$+1+E].type+=3;q.WE.W8(o,b)}$+=1+F}for($=0;$<x.length;$++)if(x[$]==null){x.splice($,1);
$--}b=0;for($=2;$<x.length;$++){var i=x[$];if(i.length==0){if(x[$+1]&&x[$+1].sm==-1)x[$+1].sm=i.sm;else if(i.sm!=-1)o.splice(b,1);
x.splice($,1);$--}else if(i.length!=null&&i.sm!=-1)b++}return x};q.p.atl=function(x,J){var o=x.slice(0,2),c=-1;
for(var $=2;$<x.length;$++){if((x[$].type==0||x[$].type==3)&&x[$].sm!=-1)c++;if(J.indexOf(c)==-1)o.push(x[$])}return o};
q.p.aaU=function(x,J){var o=x.slice(0,2),c=-1;for(var $=2;$<x.length;$++){if((x[$].type==0||x[$].type==3)&&x[$].sm!=-1)c++;
if(J.indexOf(c)!=-1)o.push(x[$])}return o};q.p.agD=function(x){var J=0;for(var $=0;$<x.length;$++)if(x[$].type==0||x[$].type==3)J=$;
return x[J]};q.p.Dd=function(x){var J=-1;for(var $=0;$<x.length;$++)if((x[$].type==0||x[$].type==3)&&x[$].sm!=-1)J++;
return J+1};q.p.Yk=function(x,J,o){var c=-1;for(var $=0;$<x.length;$++)if((x[$].type==0||x[$].type==3)&&(o||x[$].sm!=-1)){c++;
if(c==J)return $}return-1};q.p.Ak=function(x,J,o){var c=-1;for(var $=0;$<x.length;$++)if((x[$].type==0||x[$].type==3)&&(o||x[$].sm!=-1)){if($>=J)return c;
c++}return c};q.p.pS=function(x,J){var o=-1,c=0;for(var $=0;$<x.length;$++){if((x[$].type==0||x[$].type==3)&&x[$].sm!=-1)o++;
if(o==J)c++}return c};q.p.agQ=function(x){var J=180;for(var $=0;$<x.length;$++){if(x[$].type!=0&&x[$].type!=3)continue;
var o=x[$].length;if(o<3)continue;for(var c=0;c<o;c++){var E=x[$+1+(c-1+o)%o],b=x[$+1+c],l=x[$+1+(c+1)%o],i=b.L,F=b.HN.U5(i)?E.Dq:b.HN,k=b.Dq.U5(i)?l.HN:b.Dq;
if(i.U5(F)||i.U5(k))continue;var U=F.x-i.x,I=F.y-i.y,V=k.x-i.x,u=k.y-i.y,F=Math.atan2(F.y-i.y,F.x-i.x)*180/Math.PI,k=Math.atan2(k.y-i.y,k.x-i.x)*180/Math.PI,N=Math.abs(k-F)%360,e=N>180?360-N:N;
if(e<J)J=e}}return J*Math.PI/180};q.p.wH=function(x){var J=x.segments?[x]:x.children,o=[];for(var $=0;
$<J.length;$++){var c=J[$],E=c.segments,b=c.closed?0:3,l=o.length,i=null;if(E.length<=1)continue;o.push({type:b,length:E.length,sm:0,tX:2});
for(var F=0;F<E.length;F++){var k=E[F],U=new ck(k.handleIn.x,k.handleIn.y),I=new ck(k.handleOut.x,k.handleOut.y),V=new ck(k.point.x,k.point.y),u={type:b+1,HN:V.add(U),L:V,Dq:V.add(I)};
if(i==null)i=u;o.push(u);if(F+1==E.length&&ck.q6(i.L,u.L)<1e-5){o.pop();o[l].length--;i.HN=u.HN;if(b==3)for(var N=l;
N<o.length;N++)o[N].type-=3}}}return o};q.p.QI=function(x){q.p.Cd();var J=[],o,c=new paper.Color(1,0,0);
function E(u,i){u.remove();u.closed=!i;u.fillRule="evenodd"}for(var $=0;$<x.length;$++){if(x[$].type>5)continue;
var b=x[$].length,l;if($==x.length-1)break;var i=x[$].type==3;if($==2){if(!q.p.gb(x))l="subtract";else l="unite"}else{if(x[$].sm==0)l="exclude";
if(x[$].sm==1)l="unite";if(x[$].sm==2)l="subtract";if(x[$].sm==3)l="intersect"}if(x[$].sm!=-1){o=new paper.CompoundPath;
J.push([o,l]);o.fillRule="evenodd";o.fillColor=c}var F=[];for(var k=0;k<b;k++){var U=x[$+1+k],I=U.HN._u(U.L),V=U.Dq._u(U.L);
F.push([[U.L.x,U.L.y],[I.x,I.y],[V.x,V.y]])}var u=new paper.Path(F);E(u,i);o.addChild(u);$+=b}return J};
q.p.yp=function(x){for(var $=0;$<x.length;$++){var J=x[$];if(J.L==null)continue;if(!J.L.U5(J.HN)||!J.L.U5(J.Dq))return!1}return!0};
q.p.agS=function(x){if(x.length<=5)return 0;var J=0,o=x.length-3-1;for(var $=0;$<o;$++){var c=x[3+$],E=x[3+$+1];
if(c.type==0||E.type==0)return 0;J+=(E.L.x-c.L.x)*(c.L.y+E.L.y)}J+=(x[3].L.x-x[3+o].L.x)*(x[3+o].L.y+x[3+1].L.y);
return-J*.5};q.p.QU=function(x){var J=x[2],o=!1;if(x.length==2)o=x[1].all==0;else if(x[1].all==1){if(J.sm==1||J.sm==3)o=!0;
else o=!1}else{if(J.sm==1||J.sm==3||J.sm==0)o=!0;else o=!1}return o};q.p.gb=function(x){var J=q.p.QU(x);
for(var $=3;$<x.length;$++)if(x[$].sm==3)J=!0;return J};q.p.arx=0;q.p.az9=0;q.p.a6y=0;q.p.aaW=function(x,J,o,c){if(o.Kx())return;
var E=o.P(),j=16384;q.p.arx+=E;if(E>q.p.az9){q.p.az9=E}var b=o.m,l=o.e;if(c==null&&q.p.yp(x)&&x[2]&&x[2].sm!=2){var i=!0;
for(var $=2;$<x.length;)if(x[$].length==2)$+=3;else{i=!1;break}if(i){return}if(q.p.MT(x)){J.fill(255);
var F=q.p.d5(x);if(F.P()!=E){var k=1-(F.x-o.x),U=1-(F.y-o.y),I=1-(o.x+o.m-(F.x+F.m)),V=1-(o.y+o.e-(F.y+F.e)),u=~~(k*255),N=~~(I*255),e=~~(U*255),B=~~(V*255);
J.fill(e,0,b);J[0]=~~(k*U*255);J[b-1]=~~(I*U*255);for(var $=b;$<E;$+=b){J[$]=u;J[$+b-1]=N}J.fill(B,(l-1)*b,l*b);
J[E-b]=~~(k*V*255);J[E-1]=~~(I*V*255)}return}}var T=Math.ceil(b/j),a=Math.ceil(l/j),P=Math.ceil(b/T),v=Math.ceil(l/a),R=Date.now();
for(var y=0;y<a;y++)for(var t=0;t<T;t++){var g=t*P,H=y*v,_=P,Y=v,K=q.T6(_,Y);if(!q.p.QU(x))K.fillRect(0,0,_,Y);
q.p.WD(x,K,-o.x-g,-o.y-H,c);var f=new Uint8Array(K.getImageData(0,0,_,Y).data.buffer);if(_==b&&Y==l)q.z$(f,J,3);
else q.ae(f,new ha(g,H,_,Y),J,new ha(0,0,b,l))}};q.p.ad_=function(x){var J=!1,o=!1,c=0,E=!1;for(var $=0;
$<x.length;$++){var b=x[$].sm;if(b!=null){c++;if(b==-1)J=!0;if(b==1||b==2||b==3)o=!0;if(x[$].type==0)E=!0}}if(!J&&c<20&&E&&o)x=q.p.CG(x);
return x};q.p.WD=function(x,J,o,c,E,b){if(E!=null){x=q.p.ad_(x)}for(var $=0;$<x.length;$++){if(x[$].type>5)continue;
var l=x[$].length;if(l==0)continue;if($==x.length-1)break;var i=x[$].type==3,F=x[$].sm;if(F!=-1&&E==null){var k=["xor","source-over","destination-out","source-in"][F];
J.globalCompositeOperation=k}if(x[$].sm!=-1){J.beginPath();if(E)q.p.u3(bs.Ao.mf(E,null,1),J)}q.p.alX(J,x,$+1,l,o,c,i);
if(i){}else J.closePath();if(x[$+1+l]==null||x[$+1+l].sm!=-1){if(E){if(b)J.clip();J.stroke()}else J.fill(F==-1?"nonzero":"evenodd")}$+=l}J.globalCompositeOperation="source-over";
J.setLineDash([])};q.p.u3=function(x,J){var o=x.lwidth;J.setLineDash(x.dash);J.lineCap=["butt","round","square"][x.lcap];
J.lineJoin=["miter","round","bevel"][x.ljoin];J.lineWidth=x.sal==1?o:o*2;J.miterLimit=x.mlimit};q.p.alX=function(x,J,$,o,c,E,b){var l=J[$],i=null;
x.moveTo(l.L.x+c,l.L.y+E);for(var F=$;F<$+o-1;F++){l=J[F];i=J[F+1];x.bezierCurveTo(l.Dq.x+c,l.Dq.y+E,i.HN.x+c,i.HN.y+E,i.L.x+c,i.L.y+E)}if(!b){l=J[F];
i=J[$];x.bezierCurveTo(l.Dq.x+c,l.Dq.y+E,i.HN.x+c,i.HN.y+E,i.L.x+c,i.L.y+E)}};q.p.aw2=function(x,J){var o=[],c=J?4:1;
for(var $=0;$<x.length;$+=2){var E=new ck(x[$],x[$+1]);o.push({type:c,HN:E.clone(),L:E.clone(),Dq:E.clone()})}return o};
q.p.abP=function(x,J,o){var c=(1-(o!=null?o:25)*.01)*10;if(c>0){for(var $=0;$<J.length;$++){var E=J[$],b=q.p.Yk(x,E),l=q.p.pS(x,E),i=x.slice(b,b+l);
q.p.Cd();var F=new paper.Path;F.remove();F.closed=!0;for(var k=1;k<i.length;k++)F.add(new paper.Point(i[k].L.x,i[k].L.y));
var U=F.simplify(c);if(U)x.splice(b,l,...q.p.wH(F))}}return x};q.p.vU=function(x,J,o){var c=q.O.Cg(x),E=Math.sqrt(Math.sqrt(c.P()))*.2,b=.2;
x=x.slice(0);var l=x.length,i=J?0:2;for(var F=0;F<5;F++)for(var $=i;$<x.length-i;$+=2){var k=($-2+l)%l,U=($+2)%l,I=x[$],V=x[$+1],u=(x[k]+x[U])*.5,N=(x[k+1]+x[U+1])*.5;
x[$]=I+(u-I)*b;x[$+1]=V+(N-V)*b}if(o)return q.p.MP.q$(x,null,!J);q.p.Cd();var e=new paper.Path;e.remove();
e.closed=J;for(var $=0;$<x.length;$+=2)e.add(new paper.Point(x[$],x[$+1]));e.simplify(E);var B=[{type:6},{type:8,all:0}];
B=B.concat(q.p.wH(e));return B};q.p.hi=function(x,J,o){var c=x[J].length,E=x[J].type,b=0,l=x.slice(J+1,J+1+c);
for(var $=0;$<c;$++){var i=o[($-1+c)%c],F=o[($+1+c)%c],k=o[$];if(k!=0){var U=l[($-1+c)%c].L,I=l[($+0+c)%c].L,V=l[($+1+c)%c].L,u=ck.q6(I,U),N=ck.q6(I,V),e=q.O.ale(U.x,U.y,I.x,I.y,V.x,V.y,k)[0],B=Math.min(e,i==0?u:u/2,F==0?N:N/2);
k*=B/e;var j=q.O.awd(U.x,U.y,I.x,I.y,V.x,V.y,k),T={type:E+1,HN:new ck(j[2],j[3]),L:new ck(j[2],j[3]),Dq:new ck(j[4],j[5])},a={type:E+1,HN:new ck(j[6],j[7]),L:new ck(j[8],j[9]),Dq:new ck(j[8],j[9])};
x.splice(J+b+1,1,T,a);b++;x[J].length++}b++}};q.p.yp=function(x){for(var $=0;$<x.length;$++){var J=x[$],o=J.type;
if(o==1||o==2||o==4||o==5)if(!J.L.U5(J.HN)||!J.L.U5(J.Dq))return!1}return!0};q.p.MT=function(x){if(x.length!=7||x[2].length!=4||!q.p.yp(x))return!1;
for(var $=0;$<4;$++){var J=!0;for(var o=0;o<4;o++){var c=x[3+($+o&3)],E=x[3+($+o+1&3)];if(c.L.x!=E.L.x&&c.L.y!=E.L.y)J=!1}if(J)return!0}return!1};
q.p.aAU=function(x){if(x.length<6)return 0;var J=x.length-2,o=0;for(var $=0;$<J;$+=2)o+=(x[$+2]-x[$])*(x[$+1]+x[$+3]);
o+=(x[0]-x[J])*(x[J+1]+x[1]);return-o*.5};q.p.akn=function(x){x=h._b.AL(x);var J=q.p.Dd(x);for(var o=0;
o<J;o++){var c=q.p.Yk(x,o)+1,E=x[c-1].length,b=[];for(var $=0;$<E;$++){var l=x[c+$].L;b.push(l.x,l.y)}var i=q.p.aAU(b);
if(i<0)q.p.aCE(x,c-1)}return x};q.p.aCE=function(x,J){var o=J+1,c=x[J].length,E=[];for(var $=0;$<c;$++){var b=x[o+$],l=b.HN;
b.HN=b.Dq;b.Dq=l;E.push(b)}for(var $=0;$<c;$++)x[o+$]=E[c-1-$]};q.p.MP={};q.p.MP.q$=function(x,J,o){var c=[{type:6},{type:8,all:0}],E=null;
c.push({type:o?3:0,sm:1,length:0,hu:0,Ab:0,tX:1});if(J==0||J==null)E=null;else if(J instanceof Array)E=J;
else{E=[];for(var $=0;$<x.length;$+=2)E.push(J)}c=c.concat(q.p.aw2(x,o));c[2].length=c.length-3;if(E)q.p.hi(c,2,E);
return c};q.p.MP.au8=function(x,J,o,c,E){var b=[],l=[],i=.553,F=1,k=-1;b.push({type:1,HN:new ck(0,i),L:new ck(0,0),Dq:new ck(0,-i)});
E+=2;for(var $=0;$<E;$++){var U={type:1};if($==0){U.L=new ck(1,-1);U.HN=new ck(1-i,-1);U.Dq=new ck(1+i,-1)}else{var I=-($+2)*Math.PI/2,V=1+(($&1)==1?$-1:$),u=Math.sin(I),N=Math.cos(I);
F+=V*(u-N);k+=V*(N+u);U.L=new ck(F,k);U.HN=new ck(F+V*N*i,k-V*u*i);if(($&1)==1)V+=2;U.Dq=new ck(F-V*N*i,k+V*u*i)}var e={type:1,HN:new ck(-U.Dq.x,-U.Dq.y),L:new ck(-U.L.x,-U.L.y),Dq:new ck(-U.HN.x,-U.HN.y)};
b.push(U);if($<E-2)l.push(e)}l.reverse();b=b.concat(l);var B=[{type:6},{type:8,all:0}];B.push({type:0,sm:1,length:b.length,hu:0,Ab:0,tX:1});
B=B.concat(b);var j=new cW(o/E,0,0,o/E,0,0);j.rotate(c);j.translate(x,J);q.p.Sp(B,j);return B};q.p.MP.Rect=function(x,J,o,c,E){var b=[x,J,x+o,J,x+o,J+c,x,J+c];
return q.p.MP.q$(b,E)};q.p.MP.lB=function(x,J,o,c,E,b,l,i){var F=[],k=2*Math.PI/E;for(var $=0;$<E;$++)F.push(Math.cos($*k-c),Math.sin($*k-c));
if(l!=null){var U=q.O.Cg(F),I=U.m,V=U.e,u=l/(I/2),N=i/(V/2);for(var $=0;$<F.length;$+=2){F[$]=(F[$]-(U.x+I/2))*u;
F[$+1]=(F[$+1]-(U.y+V/2))*N}o=1}var e=new cW(o,0,0,o,0,0);e.translate(x,J);q.O.M(F,e,F);return q.p.MP.q$(F,b)};
q.p.MP.amo=function(x,J,o,c,E,b,l){var i=[],F=Math.PI/E;for(var $=0;$<E*2;$++){var k=($&1)==0?1:l;i.push(k*Math.cos($*F),k*Math.sin($*F))}var U=new cW(o,0,0,o,0,0);
U.rotate(c);U.translate(x,J);q.O.M(i,U,i);return q.p.MP.q$(i,b)};q.p.MP.E_=function(x,J,o,c,E){return q.p.MP.Qa(0,x,J,o,c,E)};
q.p.MP.ao7=function(x,J,o,c,E,b){return q.p.MP.Qa(1,x,J,o,c,E,b)};q.p.MP.KX=function(x,J,o,c,E,b){return q.p.MP.Qa(2,x,J,o,c,E,b)};
q.p.MP.Qa=function(x,J,o,c,E,b,l){var i=Math.sqrt((c-J)*(c-J)+(E-o)*(E-o)),F;b/=2;if(x==0)F=[-b,0,b,0,b,i,-b,i];
if(x==1){var k=b*2*l*1.3/1.5,U=b*l;F=[-b,0,b,0,b,i-k,U,i-k,0,i,-U,i-k,-b,i-k]}if(x==2){var k=l[3],U=l[2]/2,I=k*(2/3)*l[4]/100,V=k-I,u=k;
F=[];if(l[0])F.push(-b,V,-U,u,0,0,U,u,b,V);else F.push(-b,0,b,0);if(l[1])F.push(b,i-V,U,i-u,0,i,-U,i-u,-b,i-V);
else F.push(b,i,-b,i)}var N=new cW(1,0,0,1,0,0);N.rotate(Math.atan2(-E+o,c-J)+Math.PI/2);N.translate(J,o);
q.O.M(F,N,F);return q.p.MP.q$(F,0)};q.p.MP.yr=function(x,J,o,c){var E=[{type:6},{type:8,all:0}],I=.553;
E.push({type:0,sm:1,length:4,hu:0,Ab:0,tX:1});var b=x,l=J,i=x+o,F=J+c,x=(b+i)/2,J=(l+F)/2,k=(b-i)/2,U=(l-F)/2;
E.push({type:1,HN:new ck(x-I*k,J-U),L:new ck(x,J-U),Dq:new ck(x+I*k,J-U)});E.push({type:1,HN:new ck(x+k,J-I*U),L:new ck(x+k,J),Dq:new ck(x+k,J+I*U)});
E.push({type:1,HN:new ck(x+I*k,J+U),L:new ck(x,J+U),Dq:new ck(x-I*k,J+U)});E.push({type:1,HN:new ck(x-k,J+I*U),L:new ck(x-k,J),Dq:new ck(x-k,J-I*U)});
return E};q.p.MP.ahu=function(x,J,o,c,E){var b=[{type:6},{type:8,all:0}];b.push({type:3,sm:1,length:5,hu:0,Ab:0,tX:1});
var l=(E-c)/4;for(var $=0;$<5;$++){var i=$*l,F=Math.cos(i),k=Math.sin(i),U=.553*(l/(Math.PI/2)),I=k*U,V=-F*U,u=new ck(F,k);
b.push({type:4,HN:$==0?u.clone():new ck(F+I,k+V),L:u,Dq:$==4?u.clone():new ck(F-I,k-V)})}var N=new cW;
N.rotate(-c);N.scale(o,o);N.translate(x,J);q.p.Sp(b,N);return b};q.Oq={};q.Oq.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
q.Oq.aBC={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
q.Oq.IQ=function(x){var J=x.warpStyle.v.warpStyle;if(J=="warpNone")return!0;else if(J=="warpCylinder")return!1;
else if(J=="warpCustom"){var o=!1,c=q.Oq.aow(x);for(var $=0;$<4;$++)for(var E=0;E<4;E++){var b=c[$*2]-c[(E*4+$)*2],l=c[$*4*2+1]-c[($*4+E)*2+1];
if(b*b>1||l*l>1)o=!0}return!o}else return x.warpValue.v==0&&x.warpPerspective.v==0&&x.warpPerspectiveOther.v==0};
q.Oq.aiQ=function(x){var J=JSON.parse(JSON.stringify(x));J.v.classID="quiltWarp";J.v.deformNumRows={t:"long",v:4};
J.v.deformNumCols={t:"long",v:4};if(J.v.customEnvelopeWarp)q.Oq.aho(J.v,[[0,1],[0,1]]);return J};q.Oq.a76=function(x){var J;
if(q.Oq.np(x.v)==16)J=JSON.parse(JSON.stringify(x));else J={t:"Objc",v:q.Oq.R(q.Oq.mZ(x.v))};J.v.classID="warp";
delete J.v.deformNumRows;delete J.v.deformNumCols;var o=J.v.customEnvelopeWarp;if(o){delete o.v.quiltSliceX;
delete o.v.quiltSliceY}return J};q.Oq.np=function(x){return x.deformNumRows.v*x.deformNumCols.v};q.Oq.R=function(x){var J={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(x){J.classID="quiltWarp";J.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:x.y}},Left:{t:"UntF",v:{type:"#Pxl",val:x.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:x.y+x.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:x.x+x.m}}}};
J.uOrder={t:"long",v:4};J.vOrder={t:"long",v:4};J.deformNumRows={t:"long",v:4};J.deformNumCols={t:"long",v:4}}return J};
q.Oq.ark=function(x,J,o){for(var $=0;$<x.length;$+=2){var c=x[$],E=x[$+1],b=(1-J)/2,l=1-b,i=b+c*(l-b);
E=.5+(E-.5)*i*2;var F=(1-o)/2,k=1-F,U=F+E*(k-F);c=.5+(c-.5)*U*2;x[$]=c;x[$+1]=E}};q.Oq.k$=function(x,J){return{id:x,type:"UnFl",uID:"#Pxl",arr:J}};
q.Oq.aho=function(x,J){var o=q.Oq.mZ(x);function c(b,l){b=b.slice(0);var i=b.length,$;for($=0;$<i;$++)b[$]*=l;
b[0]-=.6;b[i-1]+=.6;return b}var E=x.customEnvelopeWarp.v;E.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[q.Oq.k$("quiltSliceX",c(J[0],o.m))]}};
E.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[q.Oq.k$("quiltSliceY",c(J[1],o.e))]}}};q.Oq.ap0=function(x){var J=q.Oq.mZ(x);
function o(l,i){l=l.slice(0);var b=l.length,$,F=1e9,k=-F;for($=0;$<b;$++){if(l[$]<F)F=l[$];if(l[$]>k)k=l[$]}for($=0;
$<b;$++)l[$]=(l[$]-F)/(k-F);l[0]=0;l[b-1]=1;return l}var c=x.customEnvelopeWarp.v,E=[],b=["X","Y"];for(var $=0;
$<2;$++)E.push(o(c["quiltSlice"+($==0?"X":"Y")].v.arr[0].arr.slice(0),$==0?J.m:J.e));return E};q.Oq.aD0=function(x,J){var o=[],c=[];
for(var $=0;$<J.length;$+=2){o.push(J[$]);c.push(J[$+1])}x.customEnvelopeWarp.v.meshPoints.v.arr=[q.Oq.k$("Hrzn",o),q.Oq.k$("Vrtc",c)]};
q.Oq.aow=function(x){var J=[],o=x.customEnvelopeWarp.v.meshPoints.v.arr,c=o[0].arr,E=o[1].arr;for(var $=0;
$<c.length;$++)J.push(c[$],E[$]);return J};q.Oq.h7=function(x,J){var o,c=x.warpStyle.v.warpStyle;if(c=="warpCustom")o=[x.deformNumCols.v,x.deformNumRows.v,q.Oq.ap0(x),q.Oq.aow(x)];
else{if(J==null)J=q.Oq.mZ(x);if(J.Kx())J.m=J.e=1;if(c=="warpCylinder"){var E=n.Y.AX(x.warpValues);o=q.Oq.Oq(c,E)}else{var b="warpPerspective";
o=q.Oq.Oq(c,x.warpValue.v/100,x.warpRotate.v.Ornt=="Hrzn",x[b].v/100,x[b+"Other"].v/100,J.m/J.e)}q.Oq.aua(o[3],J)}return o};
q.Oq.aua=function(x,J){for(var $=0;$<x.length;$+=2){x[$]=J.x+x[$]*J.m;x[$+1]=J.y+x[$+1]*J.e}};q.Oq.azT=function(x){var J=Math.sin(x*Math.PI/2),o=Math.pow(x,1/3.5),c=(1-x)*J+x*o;
c=Math.pow(c,1.045);var E=.1725+.0573*c,b=1-(.96*J+.04*o);b=Math.pow(b,1.27);var l=1/129+(.167684-1/129)*b;
return[E,l]};q.Oq.qt=function(x,J){x.warpStyle.v.warpStyle="warpCustom";x.deformNumCols.v=J[0];x.deformNumRows.v=J[1];
var o="customEnvelopeWarp";if(x[o]==null)x[o]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
q.Oq.aho(x,J[2]);q.Oq.aD0(x,J[3])};q.Oq.mZ=function(x){var J=x.bounds.v,o=J.Left.v.val,c=J.Rght.v.val,E=J.Top.v.val,b=J.Btom.v.val;
if(o==null){o=J.Left.v,c=J.Rght.v;E=J.Top.v,b=J.Btom.v}return new ha(o,E,c-o,b-E)};q.Oq.Oq=function(x,J,o,c,E,b){if(x=="warpCylinder"){var l=J,i=l[0],F=l[1],k=l[2],U=l[3],I=l[4],V=l[5],u=l[6],N=[];
for(var e=0;e<4;e++)for(var B=0;B<13;B++)N.push(B/12,e/3);var j=k-i,T=F-U,a=I*.5*(j/T),P=V*.5*(j/T),v=q.Oq.azT(u),R=[0,0,0,0,0,v[0],.5],y=[0,0,0,0,a*.42,a,a],t=[0,0,0,0,P*.42,P,P];
for(var e=0;e<4;e++)for(var B=0;B<7;B++){var $=e*13+B;N[$*2]=R[B];var g=y[B],H=1+t[B],_=e/3;N[$*2+1]=g*(1-_)+H*_}for(var e=0;
e<4;e++)for(var B=0;B<6;B++){var $=e*13+B,Y=e*13+12-B;N[Y*2]=1-N[$*2];N[Y*2+1]=N[$*2+1]}var _=v[1];return[13,4,[[0,_,.5,1-_,1],[0,1]],N]}var K=q.bf.R(0,0,1,1);
if(x!="warpNone"){if(!o)b=1/b;q.Oq.azo(K,x,J,c,E,b);var f=K.slice(0);if(!o)for(var e=0;e<4;e++)for(var B=0;
B<4;B++){K[(e*4+B)*2]=f[(B*4+e)*2+1];K[(e*4+B)*2+1]=f[(B*4+e)*2]}if(J==0)q.Oq.ark(K,c,E);else{var m=new cW;
m.translate(-.5,-.5);q.O.M(K,m,K);q.Oq.abp(K,E,c);m.Mr();q.O.M(K,m,K)}}return[4,4,[[0,1],[0,1]],K]};
q.Oq.azo=function(x,J,o,c,E,b){var l=new ha(0,0,b,1);for(var $=0;$<x.length;$+=2)x[$]*=b;for(var $=0;
$<4;$++){for(var i=0;i<4;i++){var F=2*(4*$+i),k=x[F]-l.x,U=x[F+1]-l.y,I=k,V=U;if(o!=0){var u=l.m/2,N=l.e/2;
I-=u;V-=N;var e=I,B=I,j=-N,T=N,a=Math.abs(o),P=Math.tan((1-a)*Math.PI/2),v=Math.sqrt(P*P+1),R=Math.atan2(1,P),y=I/u*R,t=u*v,g=u*v+l.e,H=Math.cos(R),_=Math.sin(R),Y=q.Oq.aCn(H,_),K=q.Oq.auA(H,_),f=-P*u+Y*t;
if(J=="warpArc"){e=Math.sin(y)*g;j=P*u-Math.cos(R)*g+N;B=Math.sin(y)*t;T=P*u-Math.cos(R)*t+N;if(i==1||i==2){e=i==1?-K*g:K*g;
B=i==1?-K*t:K*t;j=P*u+N-Y*g;T=P*u+N-Y*t}if(o<0){var m=e;e=B;B=m;m=j;j=-T;T=-m}}if(J=="warpArcLower"){if(i==1||i==2){B=i==1?-K*t:K*t;
T=o<0?N-f:N+f}}if(J=="warpArcUpper"||J=="warpArch"||J=="warpBulge"){if(i==1||i==2){e=i==1?-K*t:K*t;j=o<0?-N+f:-N-f}if(J=="warpArch"){B=e;
T=j+2*N}if(J=="warpBulge"){B=e;T=-j}}if(J=="warpFish"||J=="warpFlag"||J=="warpWave"){var C=i;if(J=="warpFlag")C=3-i;
if(C==1){j-=o*4*N;T+=o*4*N}if(C==2){j+=o*4*N;T-=o*4*N}if(J=="warpFlag"||J=="warpWave")j=T-2*N}if(J=="warpRise"){if(i<2)j=-N+o*N*4;
T=j+2*N}var Z=(V+N)/l.e;I=e+Z*(B-e);V=j+Z*(T-j);if(J=="warpWave"){if($==0)V=-N;if($==3)V=N;if($==1||$==2)V=2*N*($/3-.5)*(1/3)+V*(2/3)}if(J=="warpFisheye"){if(($==1||$==2)&&(i==1||i==2)){I=I+4*I*o;
V=V+4*V*o}}if(J=="warpInflate"){var A=2/3;if(($==1||$==2)&&(i==1||i==2)){I=I+.5*I*o;V=V+.5*V*o}else if($==1||$==2)I=I+A*I*o;
else if(i==1||i==2)V=V+A*V*o}if(J=="warpSqueeze"){var A=2/3;if(($==1||$==2)&&(i==1||i==2)){if(o>0)I=I-A*I*o;
else V=V+A*V*o}else if($==1||$==2)I=I-A*I*o;else if(i==1||i==2)V=V+A*V*o}if(J=="warpTwist"){if(($==1||$==2)&&(i==1||i==2)){var d=o*Math.PI/2,v=1+Math.abs(o)*2,G=I*Math.cos(d)-V*Math.sin(d),r=I*Math.sin(d)+V*Math.cos(d);
I=G*v;V=r*v}}if(J=="warpShellLower"||J=="warpShellUpper"){if(J=="warpShellUpper"){$=3-$;V=-V}if($>2||$==2&&(i==0||i==3)){if(o>0){var X=t+$/3*2*N;
I=Math.sin(y)*X;V=-P*u-N+Math.cos(y)*X;if(i==1||i==2){I=i==1?-K*X:K*X;V=-P*u-N+Y*X}}else{if((i==1||i==2)&&$==3){I=i==1?-K*t:K*t;
V=P*u-Y*t+N}else if($==2){V=N-N*(2/3)*Math.cos(y);I=I+N*(2/3)*Math.sin(y)}}}if(J=="warpShellUpper"){$=3-$;
V=-V}}I+=u;V+=N}k=I,U=V;x[F]=k+l.x;x[F+1]=U+l.y}}for(var $=0;$<x.length;$+=2)x[$]/=b};q.Oq.abp=function(x,J,o){var c=[];
for(var E=0;E<4;E++)c.push(1-o+E/3*2*o);var b=[];for(var E=0;E<4;E++)b.push(1-J+E/3*2*J);var l=[0,0,0,0],i=[0,0,0,0];
for(var $=0;$<4;$++)for(var E=0;E<4;E++){var F=2*(4*$+E),k=x[F],U=x[F+1];l[E]+=k/4;i[E]+=U/4}for(var $=0;
$<4;$++)for(var E=0;E<4;E++){var I=c[E],F=2*(4*$+E),k=x[F],U=x[F+1],V=l[E],u=i[E];x[F]=V+I*(k-V);x[F+1]=u+I*(U-u)}var N=x.slice(0);
for(var $=0;$<4;$++)for(var E=1;E<3;E++){var F=2*(4*$+E),k=x[F],U=x[F+1],e=F+(E==1?-2:2),B=x[e],j=x[e+1];
x[F]=k-B;x[F+1]=U-j}var T=x[0],a=x[1],P=x[8],v=x[9],R=x[16],y=x[17],t=x[24],g=x[25],H=x[6],_=x[7],Y=x[14],K=x[15],f=x[22],m=x[23],C=x[30],Z=x[31],A=H-T,d=_-a,G=Y-P,r=K-v,X=f-R,w=m-y,S=C-t,z=Z-g;
for(var $=0;$<4;$++){var s=2*$*4,M=0,Q=0,O=$==1?.33:.66,W=1-O;if($==0){M=A;Q=d}if($==1){M=W*A+O*-S;Q=W*d+O*-z}if($==2){M=W*A+O*-S;
Q=W*d+O*-z}if($==3){M=-S;Q=-z}x[s]=x[s]+M/2;x[s+1]=x[s+1]+Q/2;x[s+6]=x[s+6]-M/2;x[s+7]=x[s+7]-Q/2}for(var $=0;
$<4;$++)for(var E=1;E<3;E++){var F=2*(4*$+E),k=x[F],U=x[F+1],e=F+(E==1?-2:2),B=x[e],j=x[e+1],I=2*$/3;
x[F]=B+I*k;x[F+1]=j+I*U}for(var $=1;$<3;$++)for(var E=1;E<3;E++){var F=2*(4*$+E),k=x[F],U=x[F+1],e9=$==1?-8:-16,jV=$==1?16:8,co=x[F+e9],dz=x[F+e9+1],eh=x[F+jV],a9=x[F+jV+1],I=$/3;
k=(1-I)*co+I*eh;U=(1-I)*dz+I*a9;x[F]=k;x[F+1]=U}q.O.yh(N,x,x,J)};q.Oq.aCn=function(x,J){return(4-x)*(1/3)};
q.Oq.auA=function(x,J){return(1-x)*(3-x)/(3*J)};q.ec={};q.ec.a2f=function(x,J,o,c,E,b,l,i,F,k){for(var U=0;
U<i;U++)for(var I=0;I<l;I++){var V=3*(U*l+I),u=U+b,N=I+E,e=x[u*J+N];c[V]=e;c[V+1]=e;c[V+2]=e}};q.ec.QX=function(x,J,o,c,E,b,l,i,F,k){var U=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],I=1/F,V=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],u=new Uint32Array(6);
for(var N=0;N<i;N++){for(var e=0;e<l;e++){var B=3*(N*l+e),j=N+b,T=e+E;u[0]=0;u[1]=0;u[2]=0;u[3]=0;u[4]=0;
u[5]=0;for(var $=0;$<16;$+=2){var a=T+V[$],P=j+V[$+1],v=a-F*~~(a*I),R=P-F*~~(P*I),y=k[R*F+v];u[y]+=x[P*J+a];
u[y+3]++}var a=T,P=j,v=a-F*~~(a*I),R=P-F*~~(P*I),y=k[R*F+v];u[y]=x[j*J+T];u[y+3]=1;c[B]=u[0]*U[u[3]];
c[B+1]=u[1]*U[u[4]];c[B+2]=u[2]*U[u[5]]}}};q.ec.a6c=function(x,J,o){for(var $=0;$<o;$+=2)x[J+$]=x[J+$+1];
J=J+o;for(var $=0;$<o;$+=2)x[J+$+1]=x[J+$]};q.ec.adh=function(x,J,o,c){for(var $=0;$<c;$+=2){var E=J+$*o;
x[E]=x[E+o];x[E+o+1]=x[E+1]}};q.ec.avy=function(x,J,o,c,E,b){var l=c[E],i=c[E+1],F=c[b],k=c[b+1],U=i+F>>>1;
x[J]=x[J+3]=x[o]=x[o+3]=l;x[J+1]=U;x[J+4]=i;x[o+1]=F;x[o+4]=U;x[J+2]=x[J+5]=x[o+2]=x[o+5]=k};q.ec.aq8=function(x,J,o,c,E,b){var l=b*3;
for(var $=0;$<b;$+=2){var i=J+$,F=E+$*3;q.ec.avy(c,F,F+l,x,i,i+o)}};q.ec.a9M=function(x,J,o,c,E,b,l){var i=b*3;
for(var $=0;$<l;$+=2){var F=J+$*o,k=E+$*b*3;q.ec.avy(c,k,k+i,x,F,F+o)}};q.ec.a9Z=function(x,$,J){var o=x[$-J-J],c=x[$-J],E=x[$-2],b=x[$-1],l=x[$],i=x[$+1],F=x[$+2],k=x[$+J],U=x[$+J+J],I=Math.abs(c-k),V=Math.abs(b-i),u=Math.abs(l-o)*2+I,N=Math.abs(l-F)*2+V,e=Math.abs(l-E)*2+V,B=Math.abs(l-U)*2+I,j=Math.min(u,Math.min(N,Math.min(e,B)));
if(j==u)return c*3+k+l-o>>2;if(j==N)return i*3+b+l-F>>2;if(j==e)return b*3+i+l-E>>2;return k*3+c+l-U>>2};
q.ec.$r=function(x,J,o,c,E){if(x<J&&J<o||x>J&&J>o)return~~(.5+c+(E-c)*(J-x)/(o-x));else return(c+E>>1)+(J+J-x-o>>2)};
q.ec.aBS=function(x,J,$,o){var c=J[$-o-1],E=J[$-o+1],b=J[$],l=J[$+o-1],i=J[$+o+1],F=x[$-o-1],k=x[$-o+1],U=x[$],I=x[$+o-1],V=x[$+o+1],u=Math.abs(k-I)+Math.abs(x[$-o-o+2]-U)+Math.abs(U-x[$+o+o-2])+Math.abs(E-b)+Math.abs(b-l),N=Math.abs(F-V)+Math.abs(x[$-o-o-2]-U)+Math.abs(U-x[$+o+o+2])+Math.abs(c-b)+Math.abs(b-i);
if(u<N)return q.ec.$r(E,b,l,k,I);else return q.ec.$r(c,b,i,F,V)};q.ec.z6=function(x,J,o,c,E,b){x[J+0]=o[E];
x[J+1]=c[E];x[J+2]=q.ec.aBS(o,c,E,b)};q.ec.Qe=function(x,J,o,c,E,b){var l=c[E];x[J+0]=q.ec.$r(c[E-1],l,c[E+1],o[E-1],o[E+1]);
x[J+1]=l;x[J+2]=q.ec.$r(c[E-b],l,c[E+b],o[E-b],o[E+b])};q.ec.Io=function(x,J,o,c,E,b){var l=c[E];x[J+0]=q.ec.$r(c[E-b],l,c[E+b],o[E-b],o[E+b]);
x[J+1]=l;x[J+2]=q.ec.$r(c[E-1],l,c[E+1],o[E-1],o[E+1])};q.ec.Lj=function(x,J,o,c,E,b){x[J+0]=q.ec.aBS(o,c,E,b);
x[J+1]=c[E];x[J+2]=o[E]};q.ec.amE=function(x,J,o,c,E,b,l,i,F){var k=Date.now(),U=2,I=J-2,V=2;if((E&1)==1){U++;
I--}var u=o-2;if((b&1)==1){V++;u--}if(F==1||F==3){U++;I--}var N=x.slice(0);q.ec.a6c(N,0,J);q.ec.adh(N,0,J,o);
q.ec.adh(N,J-2,J,o);q.ec.a6c(N,(o-2)*J,J);for(var e=V;e<u;e+=2)for(var B=U;B<I;B+=2){var $=e*J+B,j=q.ec.a9Z(N,$,J),T=q.ec.a9Z(N,$+J+1,J);
N[$]=Math.max(0,j);N[$+J+1]=Math.max(0,T)}var a=l,P=i;if(b+i==o){P-=2;q.ec.aq8(x,(o-2)*J+E,J,c,(i-2)*l*3,l)}if(E+l==J){a-=2;
q.ec.a9M(x,b*J+E+l-2,J,c,(l-2)*3,l,i)}if(F==0)for(var e=0;e<P;e+=2)for(var B=0;B<a;B+=2){var v=(e+b)*J+B+E,R=(e*l+B)*3;
q.ec.z6(c,R,x,N,v,J);q.ec.Qe(c,R+3,x,N,v+1,J);v+=J;R+=3*l;q.ec.Io(c,R,x,N,v,J);q.ec.Lj(c,R+3,x,N,v+1,J)}else if(F==1)for(var e=0;
e<P;e+=2)for(var B=0;B<a;B+=2){var v=(e+b)*J+B+E,R=(e*l+B)*3;q.ec.Qe(c,R,x,N,v,J);q.ec.z6(c,R+3,x,N,v+1,J);
v+=J;R+=3*l;q.ec.Lj(c,R,x,N,v,J);q.ec.Io(c,R+3,x,N,v+1,J)}else if(F==2)for(var e=0;e<P;e+=2)for(var B=0;
B<a;B+=2){var v=(e+b)*J+B+E,R=(e*l+B)*3;q.ec.Lj(c,R,x,N,v,J);q.ec.Io(c,R+3,x,N,v+1,J);v+=J;R+=3*l;q.ec.Qe(c,R,x,N,v,J);
q.ec.z6(c,R+3,x,N,v+1,J)}else if(F==3)for(var e=0;e<P;e+=2)for(var B=0;B<a;B+=2){var v=(e+b)*J+B+E,R=(e*l+B)*3;
q.ec.Io(c,R,x,N,v,J);q.ec.Lj(c,R+3,x,N,v+1,J);v+=J;R+=3*l;q.ec.z6(c,R,x,N,v,J);q.ec.Qe(c,R+3,x,N,v+1,J)}};
q.raw={};q.raw.amz=function(x){var J=Date.now(),o=x.width,c=x.height,E=0,b=0,l=o,i=c;if(x.t50829){var F=x.t50829;
E=F[1];b=F[0];l=F[3];i=F[2]}if(x.t50720&&x.t50720[0]*1.2>o){if(x.t50719){var k=x.t50719;E+=k[0]>>1<<1;
b+=k[1]>>1<<1}if(x.t50720){var U=x.t50720;l=E+U[0];i=b+U[1]}}var I=l-E,V=i-b,u=q.raw.akD(x),N=x.t33422,e=x.t33421;
if(e){var U=e[0],B=N.slice(0);for(var j=0;j<U;j++)for(var T=0;T<U;T++){var a=(T+(E&1))%U,P=(j+(b&1))%U;
B[j*U+T]=N[P*U+a]}N=B}if(x.t277[0]==1&&N)q.raw.a8y(u,o,c,x,N);q.raw.Yo(2,x,u,o,c);var v=new Float32Array(I*V*3);
if(x.t277[0]==1){if(e==null){q.ec.a2f(u,o,c,v,E,b,I,V)}else if(e.length!=2||e[0]!=2||e[1]!=2){console.log("Unknown CFA pattern size",e);
q.ec.QX(u,o,c,v,E,b,I,V,e[0],N)}else{var R=x.t33422.join(","),y=0;if(R=="0,1,1,2")y=0;else if(R=="1,0,2,1")y=1;
else if(R=="2,1,1,0")y=2;else if(R=="1,2,0,1")y=3;else throw"Unknown CFA pattern "+R;if((I&1)!=0||(V&1)!=0)throw"e";
q.ec.amE(u,o,c,v,E,b,I,V,y)}}else{for(var j=0;j<V;j++)for(var T=0;T<I;T++){var t=((j+b)*o+T+E)*3,g=(j*I+T)*3;
v[g+0]=u[t+0];v[g+1]=u[t+1];v[g+2]=u[t+2]}}var H=v,_=v.length,Y=q.raw.qO(x),K=1/Y;for(var $=0;$<_;$+=3){v[$]=H[$]*K;
v[$+1]=H[$+1]*K;v[$+2]=H[$+2]*K}q.raw.Yo(3,x,v,I,V);var f=x.vx,m=I,C=V;if(f==1||f==9){}else{var Z=q.raw.aa8(f,I,V),g=0;
m=Z[0];C=Z[1];var A=v.slice(0);for(var j=0;j<C;j++)for(var T=0;T<m;T++){var d=Z[2]*T+Z[3]*j+Z[4],G=Z[5]*T+Z[6]*j+Z[7],t=(G*I+d)*3;
v[g]=A[t];v[g+1]=A[t+1];v[g+2]=A[t+2];g+=3}}return{tM:v,d1:m,xI:C}};q.raw.aa8=function(x,J,o){var c=J,E=o;
if(!1){}else if(x==2)return[J,o,-1,0,J-1,0,1,0];else if(x==3)return[J,o,-1,0,J-1,0,-1,o-1];else if(x==4)return[J,o,1,0,0,0,-1,o-1];
else if(x==5)return[o,J,0,1,0,1,0,0];else if(x==6)return[o,J,0,1,0,-1,0,o-1];else if(x==7)return[o,J,0,-1,J-1,-1,0,o-1];
else if(x==8)return[o,J,0,-1,J-1,1,0,0];else throw"unknown orientation "+x};q.raw.a8y=function(x,J,o,c,E){var b=Date.now(),K=0,C=0;
if(q.raw.qO(c)>4e4){for(var $=0;$<x.length;$++)x[$]>>=1;var l=["t50714","t50715","t50712","t50717"];
for(var $=0;$<l.length;$++){var i=c[l[$]];if(i)for(var F=0;F<i.length;F++)i[F]>>>=1}console.log("remapping to lower bit depth")}var k=~~Math.sqrt(E.length),U=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],I=[];
for(var V=0;V<k;V++)for(var u=0;u<k;u++){var $=V*k+u,N=E[$],e=4,B=4,j=8,T=0,a=0;for(var F=0;F<18;F+=2){var P=(k+u+U[F])%k,v=(k+V+U[F+1])%k,R=E[v*k+P];
if(R==N){}else if(e==4){e=R;T=F}else if(B==4&&R!=e){B=R;a=F;break}}if(B<e){var y=B;B=e;e=y;y=a;a=T;T=y}if(e<N){var y=e;
e=N;N=y;y=T;T=j;j=y}if(B<e){var y=B;B=e;e=y;y=a;a=T;T=y}I[$*3]=U[j+1]*J+U[j];I[$*3+1]=U[T+1]*J+U[T];
I[$*3+2]=U[a+1]*J+U[a]}var t=~~(.996*q.raw.qO(c)),g=~~(.992*q.raw.qO(c)),H=c.t50728;if(H==null||H[0]==0)H=[1,1,1];
var _=[],Y=[0,0,0];for(var V=1;V<o-1;V++)for(var u=1;u<J-1;u++){var $=V*J+u,f=V%k*k+u%k,N=x[$+I[f*3+0]],e=x[$+I[f*3+1]],B=x[$+I[f*3+2]],m=Math.max(N,e,B);
if(m>t)_.push($);else if(m>g){Y[0]+=N;Y[1]+=e;Y[2]+=B;K++}}if(_.length==0)return;if(K/(J*o)<1e-5){console.log("not enough semi-saturated pixels",K);
Y=H}if(Y[1]<Y[C])C=1;if(Y[2]<Y[C])C=2;var Z=[Y[0]/Y[C],Y[1]/Y[C],Y[2]/Y[C]],A=x.slice(0);for(var d=0;
d<_.length;d++){var $=_[d],V=~~($/J),u=$-V*J,f=V%k*k+u%k,G=Math.min(65535,~~(x[$+I[f*3+C]]*Z[E[f]]));
if(G>A[$])A[$]=G}x.set(A)};q.raw.Jk=function(x,J,o,c){var E=Math.round(x.length/3),b=h6.wK(c[0],c[1]),l=q.raw.ayt(o,b),i=q.Dk.multiply(q.Dk.VU,l),F=Math.pow(2,o.t50730?o.t50730[0]:0);
i=q.Dk.multiply(i,q.Dk.wA(F,F,F));var k=q.raw.Jk.apL;if(k==null){k=q.raw.Jk.apL=new Float64Array(8e3);
for(var $=0;$<8e3;$++)k[$]=q.cW($*(1/1e3))}for(var $=0;$<E;$++){var U=$<<2,I=U-$,V=x[I],u=x[I+1],N=x[I+2],e=i[0]*V+i[1]*u+i[2]*N,B=i[4]*V+i[5]*u+i[6]*N,j=i[8]*V+i[9]*u+i[10]*N;
if(e<0)e=0;if(B<0)B=0;if(j<0)j=0;J[I]=k[~~(e*1e3)];J[I+1]=k[~~(B*1e3)];J[I+2]=k[~~(j*1e3)]}};q.raw.akD=function(x){var J=x.width,o=x.height,c=J*o*x.t277,E=new Uint16Array(c),b=null,l=0;
q.raw.a8R(x,E);q.raw.Yo(1,x,E,J,o);if(x.t50712){b=x.t50712;l=b.length-1;if(b[l]>65535)throw"too big values"}var i=q.raw.afc(x),F=q.raw.abO(x);
if(b==null)for(var $=0;$<c;$++)E[$]=Math.max(0,E[$]-i);else for(var $=0;$<c;$++){var k=E[$];if(k>l)k=l;
k=b[k];E[$]=Math.max(0,k-i)}return E};q.raw.afc=function(x){var J=x.t50714,o=J?J[0]:0,c=x.t50715,E=x.t50716;
if(c)o+=c[0][0]/c[0][1];if(E)o+=E[0][0]/E[0][1];return Math.round(o)};q.raw.abO=function(x){var J=null,o=0;
if(x.t50712){J=x.t50712;o=J.length-1}var c=x.t50717?x.t50717[0]:(1<<x.t258[0])-1;if(J)c=Math.min(c,J[o]);
return c};q.raw.qO=function(x){var J=q.raw.afc(x),o=q.raw.abO(x);return o-J};q.raw.a8R=function(x,J){var o=J.length,c=x.data,E=x.t258[0];
if(E!=16&&E!=14&&E!=12&&E!=10&&E!=8)throw"Unsupported Bits Per Sample:"+E;E=Math.round(c.length*8/o);
if(E==16&&x.isLE){q.N8(c,J);return}for(var $=0;$<o;$+=2){var b=0,l=0,i=0;if(E==16){b=$<<1;l=c[b]<<8|c[b+1];
i=c[b+2]<<8|c[b+3]}else if(E==14){var F=$*14,k=F>>>3,U=c[k]<<24|c[k+1]<<16|c[k+2]<<8|c[k+3];if((F&7)==0){l=U>>>18;
i=U>>>4&16383}else{l=U>>>14&16383;i=U&16383}}else if(E==12){b=$+($>>>1);l=c[b]<<4|c[b+1]>>4;i=(c[b+1]&15)<<8|c[b+2]}else if(E==10){var F=$*10,k=F>>>3;
if((F&7)==0){l=(c[k]<<2|c[k+1]>>6)&1023;i=(c[k+1]<<4|c[k+2]>>4)&1023}else{l=(c[k]<<6|c[k+1]>>2)&1023;
i=(c[k+1]<<8|c[k+2]>>0)&1023}}else if(E==8){b=$;l=c[b];i=c[b+1]}J[$]=l;J[$+1]=i}};q.raw.avs=function(x,J,o,c,E,b,l){var i=x-.499999,F=J-.499999,k=~~i,U=~~F,I=i-k,V=F-U,u=(1-V)*(1-I),N=(1-V)*I,e=V*(1-I),B=V*I,j=(U*c+k)*3,T=((U+1)*c+k)*3,a=u*o[j]+N*o[j+3]+e*o[T]+B*o[T+3],P=u*o[j+1]+N*o[j+4]+e*o[T+1]+B*o[T+4],v=u*o[j+2]+N*o[j+5]+e*o[T+2]+B*o[T+5];
b[l]=a;b[l+1]=P;b[l+2]=v};q.raw.Yo=function(x,J,o,c,E){var b=J["t"+[51008,51009,51022][x-1]],U=0;if(b==null)return;
var l=c*E,i=D.s,F=D.m0,k=new Uint8Array(b),a4=D.s(k,U);U+=4;for(var I=0;I<a4;I++){var V=i(k,U);U+=4;
var u=i(k,U);U+=4;var N=i(k,U);U+=4;var e=i(k,U);U+=4;if(!1){}else if(V==1&&x==3){var B=U,j=i(k,B);B+=4;
var T=F(k,B);B+=8;var a=F(k,B);B+=8;var P=F(k,B);B+=8;var v=F(k,B);B+=8;var R=F(k,B);B+=8;var y=F(k,B);
B+=8;B+=(j-1)*8*6;var t=F(k,B);B+=8;var g=F(k,B);B+=8;var H=t*c,_=g*E,Y=Math.max(H,c-H),K=Math.max(_,E-_),f=Math.sqrt(Y*Y+K*K),m=1/f,C=o.slice(0);
for(var Z=0;Z<E;Z++)for(var A=0;A<c;A++){var d=(A+.5-H)*m,G=(Z+.5-_)*m,r=d*d+G*G,X=T+a*r+P*(r*r)+v*(r*r)*r,w=R*(2*d*G)+y*(r+2*d*d),S=y*(2*d*G)+R*(r+2*G*G),z=Math.min(H+f*(X*d+w),c-1),s=Math.min(_+f*(X*G+S),E-1),M=(Z*c+A)*3;
q.raw.avs(z,s,C,c,E,o,M)}}else if(V==3&&x==3){var B=U,Q=F(k,B);B+=8;var O=F(k,B);B+=8;var W=F(k,B);B+=8;
var e9=F(k,B);B+=8;var jV=F(k,B);B+=8;var t=F(k,B);B+=8;var g=F(k,B);B+=8;var H=t*c,_=g*E,Y=Math.max(H,c-H),K=Math.max(_,E-_),f=Math.sqrt(Y*Y+K*K),m=1/f;
for(var Z=0;Z<E;Z++)for(var A=0;A<c;A++){var d=(A+.5-H)*m,G=(Z+.5-_)*m,r=d*d+G*G,co=1+(Q+(O+(W+(e9+jV*r)*r)*r)*r)*r,M=(Z*c+A)*3;
o[M]=co*o[M];o[M+1]=co*o[M+1];o[M+2]=co*o[M+2]}}else if(V==4&&x==1){var B=U,dz=i(k,B);B+=4;var eh=i(k,B);
B+=4;for(var $=0;$<l;$++)if(o[$]==dz)o[$]=o[$-2]+o[$+2]>>1}else if(V==5&&x==1){var B=U,a9=i(k,B);B+=4;
var kB=i(k,B);B+=4;var dc=i(k,B);B+=4;for(var $=0;$<kB;$++){var eT=i(k,B);B+=4;var fv=i(k,B);B+=4;var $=eT*c+fv;
o[$]=o[$-2]+o[$+2]>>1}}else if(V==7&&x==1){var B=U,jS=D.eI(k,B);B+=16;var cx=i(k,B);B+=4;var bX=i(k,B);
B+=4;var gi=i(k,B),cM=i(k,B+4);B+=8;var ea=i(k,B);B+=4;var a1=new Uint16Array(ea);for(var $=0;$<ea;$++)a1[$]=D.ht(k,B+2*$);
var db=jS.m,d2=jS.e;for(var Z=0;Z<d2;Z+=gi)for(var A=0;A<db;A+=cM){var $=(jS.y+Z)*c+(jS.x+A);o[$]=a1[o[$]]}}else if(V==8&&x==2){var B=U,jS=D.eI(k,B);
B+=16;var cx=i(k,B);B+=4;var bX=i(k,B);B+=4;var gi=i(k,B),cM=i(k,B+4);B+=8;var hu=i(k,B);B+=4;var fF=[];
for(var $=0;$<=hu;$++)fF[$]=D.m0(k,B+$*8);var il=jS.x,f4=jS.x+jS.m,aK=jS.y,f9=jS.y+jS.e,e0=J.t50717[0],j7=1/e0;
for(var jb=0;jb<bX;jb++)for(var Z=aK;Z<f9;Z+=gi){var M=3*Z*c+cx+jb;for(var A=il;A<f4;A+=cM){var $=M+3*A,hN=o[$]*j7,fe=fF[hu];
for(var hn=hu;hn>0;hn--)fe=fe*hN+fF[hn-1];o[$]=Math.max(0,Math.min(65535,~~(fe*e0)))}}}else if(V==9&&x==2){var B=U,jS=D.eI(k,B),cH=!0;
B+=16;var cx=i(k,B);B+=4;var bX=i(k,B);B+=4;var gi=i(k,B),cM=i(k,B+4);B+=8;var a3=i(k,B),bH=i(k,B+4);
B+=8;var jB=F(k,B),jH=F(k,B+8);B+=16;var dL=F(k,B),aq=F(k,B+8);B+=16;var is=i(k,B);B+=4;if(is!=1)throw"more than one map plane";
var dh=a3*bH,j_=new Float32Array(dh);for(var hn=0;hn<dh;hn++)j_[hn]=D.RW(k,B+hn*4);for(var hn=0;hn<dh;
hn++)if(j_[hn]!=1)cH=!1;if(!cH){var db=jS.m,d2=jS.e,bK=.9999*(bH-1)/db,eC=.9999*(a3-1)/d2;for(var Z=0;
Z<d2;Z+=gi)for(var A=0;A<db;A+=cM){var $=(jS.y+Z)*c+(jS.x+A),fp=A*bK,jq=Z*eC,az=Math.floor(fp),de=Math.floor(jq),g3=fp-az,hJ=jq-de,M=de*bH+az,kc=j_[M]*(1-g3)+j_[M+1]*g3,bc=j_[M+bH]*(1-g3)+j_[M+1+bH]*g3,kd=kc*(1-hJ)+bc*hJ;
o[$]=Math.max(0,Math.min(65535,~~(o[$]*kd+.5)))}}}else console.log("Unknown opcode "+V+" in OpcodeList"+x+". Length: "+e);
U+=e}};q.raw.ayt=function(x,J){var o=h6.Ti(J),c=q.raw.ajN(x,J),E=q.Dk.Mr(c),b=h6.a61(o,h6.Ti(h6.api)),l=q.Dk.multiply(b,E);
return l};q.raw.a4b=function(x){var J=x.t50728,E=1;if(J==null||J[0]==0)J=[1,1,1];var o=J.slice(0);o.push(0);
var c={x:.34567,y:.3585};do{var b=q.Dk.Mr(q.raw.ajN(x,c)),l=q.Dk.Kg(b,o),i=h6.am3(l);E=Math.abs(c.x-i.x)+Math.abs(c.y-i.y);
c=i}while(E>1e-7);return c};q.raw.ajN=function(x,J){var o=h6.a1a(J),c=q.raw.a9y,E=x.t50778?x.t50778[0]:0,b=x.t50779?x.t50779[0]:0,l=x.t50723,i=x.t50724;
if(l&&l.length==3)l=null;if(i&&i.length==3)i=null;var F=c(x.t50721,x.t50722,E,b,o.yj),k=c(l,i,E,b,o.yj);
F=F||[1,0,0,0,1,0,0,0,1];k=k||[1,0,0,0,1,0,0,0,1];var U=x.t50727?[x.t50727[0],0,0,0,x.t50727[1],0,0,0,x.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return q.Dk.multiply(q.Dk.Mn(U),q.Dk.multiply(q.Dk.Mn(k),q.Dk.Mn(F)))};q.raw.a9y=function(x,J,o,c,E){if(!x&&!J){return null}else if(x&&!J){return x}else if(E<o){return x}else if(E>c){return J}else{var b=(1/E-1/c)/(1/o-1/c),l=1-b,i=[];
for(var $=0;$<9;$++)i[$]=x[$]*b+J[$]*l;return i}};var h6={};h6.api={x:.34567,y:.3585};h6.a8I=[{o:0,I0:.18006,fz:.26352,vB:-.24341},{o:10,I0:.18066,fz:.26589,vB:-.25479},{o:20,I0:.18133,fz:.26846,vB:-.26876},{o:30,I0:.18208,fz:.27119,vB:-.28539},{o:40,I0:.18293,fz:.27407,vB:-.3047},{o:50,I0:.18388,fz:.27709,vB:-.32675},{o:60,I0:.18494,fz:.28021,vB:-.35156},{o:70,I0:.18611,fz:.28342,vB:-.37915},{o:80,I0:.1874,fz:.28668,vB:-.40955},{o:90,I0:.1888,fz:.28997,vB:-.44278},{o:100,I0:.19032,fz:.29326,vB:-.47888},{o:125,I0:.19462,fz:.30141,vB:-.58204},{o:150,I0:.19962,fz:.30921,vB:-.70471},{o:175,I0:.20525,fz:.31647,vB:-.84901},{o:200,I0:.21142,fz:.32312,vB:-1.0182},{o:225,I0:.21807,fz:.32909,vB:-1.2168},{o:250,I0:.22511,fz:.33439,vB:-1.4512},{o:275,I0:.23247,fz:.33904,vB:-1.7298},{o:300,I0:.2401,fz:.34308,vB:-2.0637},{o:325,I0:.24792,fz:.34655,vB:-2.4681},{o:350,I0:.25591,fz:.34951,vB:-2.9641},{o:375,I0:.264,fz:.352,vB:-3.5814},{o:400,I0:.27218,fz:.35407,vB:-4.3633},{o:425,I0:.28039,fz:.35577,vB:-5.3762},{o:450,I0:.28863,fz:.35714,vB:-6.7262},{o:475,I0:.29685,fz:.35823,vB:-8.5955},{o:500,I0:.30505,fz:.35907,vB:-11.324},{o:525,I0:.3132,fz:.35968,vB:-15.628},{o:550,I0:.32129,fz:.36011,vB:-23.325},{o:575,I0:.32931,fz:.36038,vB:-40.77},{o:600,I0:.33724,fz:.36051,vB:-116.45}];
h6.a1a=function(x){var J=h6.a8I,o=2*x.x/(1.5-x.x+6*x.y),c=3*x.y/(1.5-x.x+6*x.y),E=0,b=0,l=0;for(;l<31;
l++){E=c-J[l].fz-J[l].vB*(o-J[l].I0);if(l>0&&E<0){break}b=E}while(l>=J.length)l--;E/=Math.sqrt(1+J[l].vB*J[l].vB);
b/=Math.sqrt(1+J[l-1].vB*J[l-1].vB);var i=b/(b-E),F=1e6/((J[l].o-J[l-1].o)*i+J[l-1].o),k=o-((J[l].I0-J[l-1].I0)*i+J[l-1].I0),U=c-((J[l].fz-J[l-1].fz)*i+J[l-1].fz),I=Math.sqrt(1+J[l].vB*J[l].vB),V=1/I,u=J[l].vB/I,N=Math.sqrt(1+J[l-1].vB*J[l-1].vB),e=1/N,B=J[l-1].vB/N,j=(V-e)*i+e,T=(u-B)*i+B,a=Math.sqrt(j*j+T*T);
j/=a;T/=a;var P=(k*j+U*T)*-3e3;return{yj:F,Fz:P}};h6.wK=function(x,J){var o=h6.a8I,c=1e6/x,E=1;for(;
E<31;E++){if(c<o[E].o){break}}var b=(o[E].o-c)/(o[E].o-o[E-1].o),l=(o[E-1].I0-o[E].I0)*b+o[E].I0,i=(o[E-1].fz-o[E].fz)*b+o[E].fz,F=Math.sqrt(1+o[E].vB*o[E].vB),k=1/F,U=o[E].vB/F,I=Math.sqrt(1+o[E-1].vB*o[E-1].vB),V=1/I,u=o[E-1].vB/I,N=(V-k)*b+k,e=(u-U)*b+U,B=Math.sqrt(N*N+e*e);
N/=B;e/=B;l+=N*J/-3e3;i+=e*J/-3e3;return{x:1.5*l/(l-4*i+2),y:i/(l-4*i+2)}};h6.am3=function(x){var J=x[0]+x[1]+x[2];
return{x:x[0]/J,y:x[1]/J}};h6.Ti=function(x){return{x:x.x/x.y,y:1,fj:(1-x.x-x.y)/x.y}};h6.a61=function(x,J){var o=q.Dk.Mn([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),c=[x.x,x.y,x.fj,0],E=[J.x,J.y,J.fj,0];
c=q.Dk.Kg(o,c);E=q.Dk.Kg(o,E);var b=E[0]/c[0],l=E[1]/c[1],i=E[2]/c[2],F=q.Dk.Mn([b,0,0,0,l,0,0,0,i]),k=q.Dk.Mr(o);
return q.Dk.multiply(q.Dk.multiply(k,F),o)};q.raw.gk={};q.raw.Cl=function(x){x*=8;var J=[8,10,12,14,16];
for(var o in CAMS){var c=CAMS[o];if(c.length==4)continue;var E=c[4],b=c[5];for(var $=0;$<J.length;$++)if(E*b*J[$]==x)return[o,J[$]]}var l=[[4e3,3e3]];
for(var $=0;$<l.length;$++){var c=l[$],E=c[0],b=c[1];for(var $=0;$<J.length;$++)if(E*b*J[$]==x)return[c,J[$]]}return null};
q.raw.aoz=function(x){var x=new Uint8Array(x);for(var $=0;$<x.length;$+=2){var J=x[$];x[$]=x[$+1];x[$+1]=J}var o=q.raw.Cl(x.length),c=CAMS[o[0]];
if(c==null)c=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,o[0][0],o[0][1]];var E=c[4],b=c[5],l=Math.max(c[2],116),i={data:x,vx:1,width:E,height:b,t256:[E],t257:[b],t258:[o[1]],t277:[1],t33421:[2,2],t33422:q.raw.y7[c[1]],t50706:[1,2,0,0],t50714:[l,l,l,l],t50717:[c[3]],t50721:c[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var $=0;$<9;$++)i.t50721[$]/=1e4;return i};q.raw.amV=function(x){if(x==null||x.length==0||typeof x[0]=="number")return x;
var J=[];for(var $=0;$<x.length;$++)J[$]=x[$][1]==0?0:x[$][0]/x[$][1];return J};q.raw.y7=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
q.raw.normalize=function(x,J){if(x.t50706!=null||x.t271[0].startsWith("Hasselblad")){var o=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var $=0;$<o.length;$++)if(x["t"+o[$]]!=null)x["t"+o[$]]=q.raw.amV(x["t"+o[$]]);if(x.t271&&x.t271[0].startsWith("Hasselblad")){x.t50706=[1,2,0,0];
x.t33422=q.raw.y7[1];x.t50723=[1,0,0,0,1,0,0,0,1];x.t50778=[17];if(!x.isLE)for(var $=0;$<x.data.length;
$+=2){var c=x.data[$];x.data[$]=x.data[$+1];x.data[$+1]=c}}if(x.t272&&x.t272[0]=="HERO10 Black"){x.t50728=[.469725,1,.739884];
if(!x.t305[0].startsWith("Adobe")){var E=new Uint16Array(x.data.buffer);for(var $=0;$<E.length;$++)E[$]>>>=2}}return}var b=x.t258[0],l=x.exifIFD,J=new Uint8Array(J);
x.t50706=[1,2,0,0];var i=x.t271[0].trim(),F=x.t272[0].trim();if(x.t50708==null)x.t50708=[i+" "+F];var k=(i+":"+F).toLowerCase(),U=CAMS[k];
if(U==null){alert("Unknown camera:"+k);if(k.startsWith("canon"))U=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(U!=null){var I=U[2];
x.t50714=[I,I,I,I];if(x.t272=="Canon EOS REBEL T3")U[3]=13584;x.t50717=[U[3]];x.t50721=U[0].slice(0);
for(var $=0;$<9;$++)x.t50721[$]=x.t50721[$]*(1/1e4)}x.t50723=[1,0,0,0,1,0,0,0,1];if(x.t50728==null)x.t50728=[.35,1,.6];
x.t50778=[17];if(i.startsWith("OLYMPUS")||i.startsWith("OM Digital Solutions")){x.t33422=[2,1,1,0];var V=l.t41730,B;
if(V)x.t33422=[V[4],V[5],V[6],V[7]];var u=x.t50341;if(u==null)u=l.t36864;var N=q.raw.apM(u.buffer,x);
x.data=new Uint8Array(N.buffer);if((x.height&1)==1)x.t50829=[0,0,x.height-1,x.width];var e=l.makerNote,j=e.t8256;
if(j)B=j.t256;else B=e.t12288.t256;x.t50728=[256/B[0],1,256/B[1]]}else if(x.t271[0].startsWith("SONY")){var T=UTIF["_bin"+(x.isLE?"LE":"BE")],a=x.t28688,H;
if(JSON.stringify(a)!="[8000,10400,12900,14100]")console.log(a);if(a){var P=[0,0,0,0,0,4095],v=new Uint16Array(16385);
for(var $=0;$<4;$++){var R=a[$]>>>2;P[$+1]=R;if(R>4095)throw"e"}for(var $=0;$<16385;$++)v[$]=$;for(var $=0;
$<5;$++)for(var y=P[$]+1;y<=P[$+1];y++)v[y]=v[y-1]+(1<<$);var t=J.length*8<x.width*x.height*b;if(t)x.t50712=v}else console.log("no curve");
var g=x.dngPrvt;if(g){var _=g.t29184[0],Y=g.t29185[0],K=(x.isLE?D.ZR:D.s)(g.t29217,0),f=new Uint32Array(J.slice(_,_+(Y&4294967292)).buffer),m=new Uint32Array(Y>>>2);
q.raw.a1H(f,m,Y>>>2,K);var C=new Uint8Array(_+Y);C.set(new Uint8Array(m.buffer),_);var Z=[];UTIF._readIFD(T,C,_,Z,0,!1);
var A=Z.pop(),d=A.t29458;x.t50728=[d[1]/d[0],1,d[1]/d[3]];x.t50730=[.5];var G=A.t29891;x.t50829=[G[1],G[0],G[3],G[2]]}else if(l.makerNote&&l.makerNote.t8208){var H=l.makerNote,r=H.t8208,X=r.length,w=0,S=new Uint8Array(256);
for(var $=249;$<256;$++)S[$]=$;for(var $=0;$<249;$++)S[$*$*$%249]=$;for(var $=0;$<X;$++)r[$]=S[r[$]];
if(X==6604)w=612;else throw"e";var d=[];for(var $=0;$<3;$++)d.push(D.wG(r,w+$*2));console.log(d);x.t50728=[d[1]/d[0],1,d[1]/d[2]]}else console.log("no white balance");
if(x.width*x.height*1.5==x.t279[0]){I=I>>>2;x.t50714=[I,I,I,I];x.t50717=[U[3]>>>2]}}else if(x.t271[0].startsWith("Canon")){var J=x.data,z=J.slice(0),s=x.t50752,M=[],O=0;
if(s==null||s[0]==0&&s[1]==0)M.push(x.width);else{for(var $=0;$<s[0];$++)M.push(s[1]);M.push(s[2])}var Q=x.width*2,W=x.t50885&&x.t50885[0]==4;
if(!W)for(var e9=0;e9<M.length;e9++){var jV=M[e9],co=2*O,dz=2*jV;for(var eh=0;eh<x.height;eh+=2){var a9=eh*Q+co,kB=x.height*co+eh*dz;
for(var $=0;$<dz;$++){J[a9+$]=z[kB+$];J[a9+$+Q]=z[kB+$+dz]}}O+=jV}else{var dc=new Uint16Array(z.buffer),eT=new Uint16Array(J.buffer);
function fv(cx,bX){eT[bX*3+0]=dc[cx*3+0];eT[bX*3+1]=dc[cx*3+1];eT[bX*3+2]=dc[cx*3+2]}var jS=(s[0]*s[1]+s[2])/x.width;
for(var e9=0;e9<M.length;e9++){var jV=Math.round(M[e9]/jS);for(var eh=0;eh<x.height;eh++){var cx=x.height*O+(jS==3?(eh>>>3)*8+[0,4,1,5,2,6,3,7][eh&7]:eh)*jV,bX=eh*x.width+O;
for(var gi=0;gi<jV;gi++)fv(cx+gi,bX+gi)}O+=jV}var cM=new Uint16Array(J.buffer),ea=new Uint16Array(1),a1=new Int16Array(ea.buffer);
for(var $=0;$<cM.length;$+=3){var db=cM[$],d2=cM[$+1],hu=cM[$+2];ea[0]=d2<<2;d2=a1[0]>>2;ea[0]=hu<<2;
hu=a1[0]>>2;cM[$+0]=Math.max(0,hu+db);cM[$+1]=Math.max(0,(db<<12)-d2*778-(hu<<11)>>12);cM[$+2]=Math.max(0,d2+db)}}var H=l.makerNote,cx=H.t224;
if(cx){var _=x.t50719=[cx[5],cx[6]],fF=x.t50720=[cx[7]+1-cx[5],cx[8]+1-cx[6]],il=H.t154;if(il){_[0]+=il[3];
_[1]+=il[4];fF[0]=il[1];fF[1]=il[2]}}if(H.t16385){var f4=H.t16385,aK=f4.length,f9=0;console.log(f4);
if(f4 instanceof Array)f4=new Uint16Array(f4);if(aK==582)f9=1;else if(aK==653)f9=2;else if(aK==796)f9=3;
else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(aK)!=-1)f9=4;else if([1816,1820,1824,5120].indexOf(aK)!=-1){f9=5;
f4=new Int16Array(f4.slice(0).buffer)}else if(aK==1273||aK==1275)f9=6;else if([1312,1313,1316,1506].indexOf(aK)!=-1)f9=7;
else if([1560,1592,1353,1602].indexOf(aK)!=-1)f9=8;else if(aK==3656)f9=9;else if(aK==3778||aK==3973)f9=10;
else throw"e"+aK;var e0=f4[0],j7=[null,[25,166],[34,286],[63,196],[63],[71,e0==-4?333:e0==16||e0==17||e0==18||e0==19?329:264],[63,251],[63,e0==10?504:728],[63,326],[85,343],[105,363]],w=j7[f9][0],jb=j7[f9][1];
if(f9==4){if(f4[0]==2)jb=231;else if(f4[0]==3)jb=231;else if(f4[0]==4)jb=231;else if(f4[0]==5)jb=231;
else if(f4[0]==6)jb=231;else if(f4[0]==7)jb=231;else if(f4[0]==9)jb=231;else throw"e"}x.t50728=[f4[w+1]/f4[w],1,f4[w+1]/f4[w+3]];
var I=jb==null?1024:f4[jb];if(f9!=4)x.t50714=[I,I,I,I]}else{x.t50728=[.4,1,.6]}if(W){x.t277=[3];x.t50728=[1,1,1];
x.t50714=[0,0,0,0]}}else if(x.t271[0].startsWith("NIKON")){var H=l.makerNote,hN=x.isLE?D.wG:D.RP,jH=0,dL=0,cH,g3=0;
if(H.t61){var fe=H.t61,hn=[];for(var $=0;$<4;$++)hn[$]=fe[$]/Math.pow(2,14-b);x.t50714=hn}if(H.t3585){var a3=H.t3585,$=0,_=22;
while(_<a3.length&&$!=-4){var bH=D.ZR(a3,_);_+=4;_+=14;$=D.ZR(a3,_)-4;_+=4;if(bH==1990472198){if(a3[_]!=0)throw"Flip"}if(bH==1990472199){var jB=D.wG(a3,_);
if(jB==0)x.vx=1;else if(jB==270)x.vx=8;else throw"e "+jB}_+=$}}if(H.t183){var aq=H.t183,fF=[];for(var $=0;
$<6;$++)fF.push(hN(aq,16+$*2));jH=fF[0];dL=fF[1]}if(H.t3614){var is=H.t3614;jH=D.ZR(is,8);dL=D.ZR(is,12)}if(jH!=0&&Math.max(jH,dL)<Math.max(x.width,x.height)){if(jH<dL){var c=jH;
jH=dL;dL=c}var gi=x.width-jH>>>1,eh=x.height-dL>>>1;x.t50829=[eh,gi,eh+dL,gi+jH]}else x.t50829=[8,8,x.height-8,x.width-56];
var dh=H.t69;if(dh){var j_=dh[1];if((j_&1)==1)j_++;x.t50829=[j_,dh[0],j_+dh[3],dh[0]+dh[2]]}if(H.t12){var bK=q.raw.amV(H.t12);
cH=[1/bK[0],1,1/bK[1]]}else if(H.t151){var eC=q.raw.an8(H,151),fp=eC[0],gN=eC[1],jq=eC[2];if(fp=="0100"&&gN>=80)throw"e";
else if(fp=="0102"){var az=[];for(var $=0;$<4;$++)az.push(hN(jq,6+$*2));cH=[az[1]/az[0],1,az[1]/az[3]]}else if(fp=="0103"&&gN>=26){var az=[];
for(var $=0;$<4;$++)az.push(hN(jq,16+$*2));cH=[az[1]/az[0],1,az[3]/az[2]]}else if(fp=="0204"&&gN>=564||fp=="0205"&&gN>=284){var _=fp=="0204"?6:14,az=[];
for(var $=0;$<4;$++)az.push(hN(jq,_+$*2));cH=[az[1]/az[0],1,az[1]/az[3]]}else throw"e"}else console.log("no white balance info");
if(F=="NIKON D1")cH=[1,1,1];if(cH)x.t50728=cH;var de=H.t150?H.t150:H.t140;if(de){var hJ=de[g3++],kc=de[g3++],jR;
if(hJ==73||kc==88)g3+=2110;g3+=8;var bc=1<<b&32767,kd=hN(de,g3);g3+=2;var v=[];if(kd>1)jR=Math.floor(bc/(kd-1));
if(hJ==68&&kc==32&&jR>0){for($=0;$<kd;$++){v[$*jR]=hN(de,g3);g3+=2}for($=0;$<bc;$++)v[$]=Math.floor((v[$-$%jR]*(jR-$%jR)+v[$-$%jR+jR]*($%jR))/jR)}else if(hJ!=70&&kd<=16385){bc=kd;
for(var $=0;$<kd;$++)v[$]=hN(de,g3+2*$);g3+=2*kd}var F=x.t272[0];if(v.length!=0)x.t50712=new Uint16Array(v);
if(x.t258[0]==14&&x.t50717&&x.t50717[0]<1e4){console.log("fixing white");x.t50717[0]*=4}}}else if(i.startsWith("FujiFilm")){}else if(i.startsWith("Panasonic")){if(x.t277==null)x.t277=[1]}else alert("Unknown camera "+i)};
q.raw.a1H=function(x,J,o,c){if(0==o)return;var E=new Uint32Array(128),b=new Uint8Array(E.buffer),l=127,i=0,F=0;
for(var l=0;l<4;l++)E[l]=c=(c*15625>>>0)*3125+1>>>0;E[3]=E[3]<<1|(E[0]^E[2])>>>31;for(var l=4;l<127;
l++)E[l]=(E[l-4]^E[l-2])<<1|(E[l-3]^E[l-1])>>>31;for(var l=0;l<127;l++)E[l]=D.s(b,l*4);for(;o>0;o--){E[l&127]=E[l+1&127]^E[l+1+64&127];
var k=E[l&127],U=x[i];U^=k;J[F]=U;i++;F++;l++}};q.raw.aki=function(x,J){var o=D.it(J,0,4),c=q.raw.a4_;
for(var $=0;$<c.length;$++)if(c[$][0]==x&&o.startsWith(c[$][1])&&(c[$][2]==0||c[$][2]==J.length))return c[$];
throw"e"};q.raw.ab9=function(x){if(x.t29==null)return[];var J=q.raw.acH,o=q.raw.afx,c=x.t29[0],E=0,l=0;
for(var $=0;$<c.length;$++){var b=c.charCodeAt($);E=E*10+(48<=b&&b<=57?b-48:b%10)}var gN=x.t167[0];for(var $=0;
$<4;$++)l^=gN>>>($<<3)&255;var i=J[E&255],F=o[l&255];return[i,F,96]};q.raw.an8=function(x,J){var o=x["t"+J],gN=o.length,c=q.raw.aki(J,o),E=D.it(o,0,4),b,l=c[4];
if(l==null)b=o.slice(4);else{b=new Uint8Array(gN-l);var i=q.raw.ab9(x),F=i[0],k=i[1],U=i[2];for(var $=0;
$<b.length;$++){k=k+F*U++&255;b[$]=o[l++]^k}}return[E,gN,b]};q.raw.apM=function(x,J){var o=J.t271[0],c=J.t272[0],E=J.t256[0],b=J.t257[0],l=J.t258[0],i=J.t273[0],F=i,k=new Uint8Array(x),U,I=E-4,V=b,u=k.length-i,B=0,j=0;
function N(){var R=new Uint16Array(4096),bz=0;R[bz]=3084;for(var $=12;$--;)for(var y=0;y<2048>>$;y++)R[++bz]=$+1<<8|$;
return R}function e(){return k[F++]}function T(R,y){var t;if(R>25)return 0;if(R==0||j<0)return 0;if(R<0){B=0;
j=0;return 0}while(j<R){t=e();if(t==null)break;B=(B<<8)+(255&t);j+=8}t=j==0?0:B<<32-j>>>32-R;if(y){j-=y[t]>>8;
t=255&y[t]}else j-=R;return t}function a(){var R=N();F+=7;T(-1);for(var y=0;y<V;y++){var t=[new Int32Array(3),new Int32Array(3)];
for(var g=0;g<E;g++){var H=t[g&1],$=2*(H[2]<3),_;for(_=2+$;(65535&H[0])>>_+$;_++);var Y=T(3),K=Y&3;Y=Y<<29>>31;
var f=T(12,R);if(f==12)f=T(16-_)>>>1;var m=T(_);H[0]=f<<_|m;var C=(H[0]^Y)+H[1];H[1]=C*3+H[1]>>5;H[2]=H[0]>16?0:H[2]+1;
if(g>=I)continue;var Z=U[y*E+g-2],bz=U[(y-2)*E+g],A=U[(y-2)*E+g-2];U[y*E+g]=(y<2&&g<2?0:y<2?Z:g<2?bz:Z<A&&A<bz||bz<A&&A<Z?Math.abs(Z-A)>32||Math.abs(bz-A)>32?Z+bz-A:Z+bz>>1:Math.abs(Z-A)>Math.abs(bz-A)?Z:bz)+(C<<2|K)}}}function P(){var R=E*l/8,y=b+1>>1,g=0,H=0;
R+=R&6>>7;var t=R*8-E*l;for(var _=0;_<b;_++){var Y=_%y*2+~~(_/y);if(Y==1){g=0;F=i-(-y*R&-2048)}for(var K=0;
K<E;K++){for(g-=l;g<0;g+=8){H<<=8;for(var $=0;$<8;$+=8)H|=e()<<$}var f=H<<64-l-g>>>64-l;U[Y*E+K]=f}g-=t}}function v(){var R=!o.startsWith("OLYMPUS")||!o.startsWith("OM Digi")||!o.toLowerCase().startsWith("clauss")&&!c.toLowerCase().startsWith("pix 5oo");
return R&&u<E*b}if(v()){U=new Uint16Array(I*V);a()}else{U=new Uint16Array(E*b);P()}return U};q.raw.a4_=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
q.raw.acH=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
q.raw.afx=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
q.Z1={};q.Z1.Z1=function(x,J,o,c,E){if(c==null)c=3;if(E==null)E=!0;var b=x.m,l=x.e,i=1/b,F=b*l,k=Date.now(),U=!1,I=q.Z1.alw(o,b,l,255,128),V=q.Z1.alw(o,b,l,0,128),O=0;
if(U)console.log("extract contours",Date.now()-k);k=Date.now();var u=function(fe,bH){var jB=fe<<2,jH=bH<<2;
return J[jB]+J[jB+1]+J[jB+2]-(J[jH]+J[jH+1]+J[jH+2])};I.sort(u);V.sort(u);var N=q.R(F),e=q.R(F),B=[],j=new Uint32Array(b*l);
j.fill(4294967295);for(var $=0;$<F;$++)if(o[$]==0)e[$]=255;else if(o[$]==255)N[$]=255;else{j[$]=B.length;
B.push($)}var T=I.length,a=V.length,P=B.length;function v(fe,bH,jB,jH){var dL=fe.length,aq=new Array(dL*2);
for(var $=0;$<dL;$++){var Z=fe[$],A=~~(Z*jH),d=Z-A*jB,j7=Z<<2;aq[$*2]=d<<16|A;aq[$*2+1]=bH[j7]<<16|bH[j7+1]<<8|bH[j7+2]}return aq}var R=v(I,J,b,i),y=v(V,J,b,i),t=v(B,J,b,i);
if(U)console.log("Itemize",Date.now()-k,"Unknown:",P,T,a);k=Date.now();var g=q.style.Dl(N,b,l,!0),H=q.style.Dl(e,b,l,!0),_=new Array(P),Y=new Array(P),K=new Array(P),f=new Array(P),m=new Array(P);
if(U)console.log("Dist transform",Date.now()-k);k=Date.now();var C=q.Z1.X3;for(var $=0;$<P;$++){var Z=B[$],A=~~(Z*i),d=Z-A*b,G=g[Z<<1],r=g[(Z<<1)+1],X=Math.sqrt(G*G+r*r),w=H[Z<<1],S=H[(Z<<1)+1],z=Math.sqrt(w*w+S*S);
_[$]=1/X;Y[$]=1/z;var s=Math.floor(q.l.eV(Z*17)*T),M=Math.floor(q.l.eV(Z*19)*a);K[$]=s;f[$]=M;m[$]=C(t[$*2],t[$*2+1],R[s*2],R[s*2+1],y[M*2],y[M*2+1],_[$],Y[$],1e9)}var Q=[-b-1,-b,-b+1,-1,1,b-1,b,b+1];
while(Math.floor(Math.max(T,a)*Math.pow(.5,O))>1)O++;for(var W=0;W<c;W++){var e9=0;for(var $=0;$<P;$++){var Z=B[$],A=~~(Z*i),d=Z-A*b,jV=_[$],co=Y[$],dz=t[$*2],eh=t[$*2+1],a9=m[$],s=K[$],M=f[$],cx=1;
if(A!=0&&d!=0&&d!=b-1&&A!=l-1)for(var kB=0;kB<8;kB++){var dc=j[Z+Q[kB]];if(dc==4294967295)continue;var eT=K[dc],fv=f[dc];
if(eT==s&&fv==M)continue;var jS=C(dz,eh,R[eT*2],R[eT*2+1],y[fv*2],y[fv*2+1],jV,co,a9);if(jS<a9){a9=jS;
s=eT;M=fv}}for(var bX=0;bX<O;bX++){var gi=~~(T*cx),cM=~~(a*cx);cx*=.5;var a1=q.l.eV(Z+W*17+bX*31),db=q.l.eV(Z+W*29+bX*63),d2=Math.max(0,s-gi),hu=Math.min(s+gi,T-1),fF=Math.max(0,M-cM),il=Math.min(M+cM,a-1),eT=d2+~~(a1*(hu-d2)),fv=fF+~~(db*(il-fF)),jS=C(dz,eh,R[eT*2],R[eT*2+1],y[fv*2],y[fv*2+1],jV,co,a9);
if(jS<a9){a9=jS;s=eT;M=fv}}m[$]=a9;K[$]=s;f[$]=M;e9+=a9}}if(U)console.log(e9);if(U)console.log("iterations",Date.now()-k);
k=Date.now();var f4=o.slice(0);for(var $=0;$<P;$++){var aK=q.Z1.alpha(t[$*2+1],R[K[$]*2+1],y[f[$]*2+1]);
f4[B[$]]=~~(.5+255*aK)}f4=q.Ya.akX(f4,J,new ha(0,0,b,l),16,.01*.01);if(U)console.log("guided filter",Date.now()-k);
k=Date.now();if(E)for(var $=0;$<F;$++)if(o[$]==255||o[$]==0)f4[$]=o[$];var f9=J.slice(0);for(var $=0;
$<P;$++){var e0=B[$],s=I[K[$]],a9=m[$],j7=e0<<2,jb=f4[e0],hN=(jb>=250?e0:s)<<2;f9[j7]=J[hN];f9[j7+1]=J[hN+1];
f9[j7+2]=J[hN+2]}q.qR(f4,f9,3);if(U)console.log(Date.now()-k);k=Date.now();return f9};q.Z1.X3=function(x,J,o,c,E,b,l,i,F){var k=x>>>16,U=x&65535,I=k-(o>>>16),V=U-(o&65535),u=k-(E>>>16),N=U-(E&65535),e=Math.sqrt(I*I+V*V)*l,B=Math.sqrt(u*u+N*N)*i;
if(e+B>=F)return 1e9;var j=q.Z1.a2O(J,c,b);return j+e+B};q.Z1.a2O=function(x,J,o){var c=x>>>16,E=x>>>8&255,b=x&255,l=J>>>16,i=J>>>8&255,F=J&255,k=o>>>16,U=o>>>8&255,I=o&255,V=q.Z1.alpha(x,J,o),u=c-(V*l+(1-V)*k),N=E-(V*i+(1-V)*U),e=b-(V*F+(1-V)*I);
return Math.sqrt(u*u+N*N+e*e)};q.Z1.alpha=function(x,J,o){var c=x>>>16,E=x>>>8&255,b=x&255,l=J>>>16,i=J>>>8&255,F=J&255,k=o>>>16,U=o>>>8&255,I=o&255,V=l-k,u=i-U,N=F-I,e=c-k,B=E-U,j=b-I,T=V*V+u*u+N*N,a=T==0?.5:(e*V+B*u+j*N)/T;
return Math.max(0,Math.min(1,a))};q.Z1.ayX=function(x){};q.Z1.alw=function(x,J,o,c,E){var b=[],l=J-1,i=o-1;
for(var F=1;F<i;F++)for(var k=1;k<l;k++){var $=F*J+k;if(x[$]==c&&(x[$-J-1]==E||x[$-J]==E||x[$-J+1]==E||(x[$-1]==E||x[$+1]==E)||(x[$+J-1]==E||x[$+J]==E||x[$+J+1]==E)))b.push($)}return b};
q.Ya={};q.Ya.ads=function(x,J,o,c,E){var b=o.m,l=o.e,i=b*l,F=q.Ya.aAO,k=q.R(i*4),U;q.xj(k,4294967295);
var I=o,V=x,u=J,N=c;q.qR(x,k,0);U=q.Or(k,o);U=q.Or(U.tM,U.rect);I=U.rect;N=c>>>2;console.log(I,N);V=q.R(I.P());
q.z$(U.tM,V,0);q.qR(J,k,0);U=q.Or(k,o);U=q.Or(U.tM,U.rect);u=q.R(I.P());q.z$(U.tM,u,0);var e=q.Ya.a0z(V,u,I,N,E),B=e[0],j=e[1],T=new ha(0,0,I.m*2,I.e*2);
B=F(B,I,T,!0);B=F(B,T,o,!0);j=F(j,I,T,!0);j=F(j,T,o,!0);var a=q.R(i);for(var $=0;$<i;$++)a[$]=Math.max(0,Math.min(255,Math.floor(.5+(B[$]*J[$]+255*j[$]))));
return a};q.Ya.aAO=function(x,J,o,c){var E=o.m,b=o.e,l=J.m,i=J.e,F=q.Ya.p6,k=new Float32Array(E*b);for(var U=0;
U<i;U++){var I=(U+U)*E;for(var V=0;V<l;V++){if(!0||V==0||U==0||V==l-1||U==i-1)k[I]=k[I+1]=k[I+E]=k[I+E+1]=x[U*l+V];
else{k[I]=F(V+.25,U+.25,x,l,i);k[I+1]=F(V+.75,U+.25,x,l,i);k[I+E]=F(V+.25,U+.75,x,l,i);k[I+E+1]=F(V+.75,U+.75,x,l,i)}I+=2}}return k};
q.Ya.p6=function(x,J,o,c,E){x-=.499999;J-=.499999;var b=Math.floor(x),l=Math.floor(J),i=l*c+b,F=x-b,k=J-l,U=(1-k)*(1-F),I=(1-k)*F,V=k*(1-F),u=k*F;
if(o[i]==null||o[i+c+1]==null){console.log(x,J,c,E);throw"e"}return U*o[i+0]+I*o[i+1]+V*o[i+c+0]+u*o[i+c+1]};
q.Ya.a0z=function(x,J,o,c,E){var b=o.m,l=o.e,i=b*l,F=q.Ya.arD,k=q.Ya.R,U=q.JS.t4,I=q.Ya.LT,J=F(J),x=F(x),V=k(i);
U(J,V,o,c);var u=k(i);U(x,u,o,c);var N=k(i);I(J,J,N);U(N,N,o,c);var e=k(i);I(J,x,e);U(e,e,o,c);var B=k(i),j=k(i);
for(var $=0;$<i;$++){var T=V[$],a=u[$],P=N[$]-T*T,v=e[$]-T*a,R=v/(P+E),y=a-R*T;B[$]=R;j[$]=y}var t=k(i);
U(B,t,o,c);var g=k(i);U(j,g,o,c);return[t,g]};q.Ya.akX=function(x,J,o,c,E){var b=o.m,l=o.e,i=b*l,F=q.Ya.aAO,k=Date.now(),U=!1,I=o,V=x,u=J,N=c;
I=new ha(0,0,b>>>2,l>>>2);N=c>>>2;V=q.Ya.a3a(x,b,l);u=q.Ya.aCk(J,b,l);if(U)console.log(Date.now()-k);
k=Date.now();var e=q.Ya.avG(V,u,I,N,E),B=e[0],j=e[1],T=e[2],a=e[3];if(U)console.log(Date.now()-k);k=Date.now();
var P=q.R(i);for(var v=0;v<l;v++)for(var R=0;R<b;R++){var $=v*b+R,y=(v>>>2)*(b>>>2)+(R>>>2),t=$<<2,g=B[y]*J[t]+j[y]*J[t+1]+T[y]*J[t+2]+a[y]*255;
P[$]=Math.max(0,Math.min(255,~~(.5+g)))}if(U)console.log(Date.now()-k);k=Date.now();return P};q.Ya.a3a=function(x,J,o){var c=J>>>2,E=o>>>2,b=q.R(J*o);
for(var l=0;l<E;l++)for(var i=0;i<c;i++)b[l*c+i]=x[l*J+i<<2];return b};q.Ya.aCk=function(x,J,o){var c=J>>>2,E=o>>>2,b=q.R(J*o*4);
for(var l=0;l<E;l++)for(var i=0;i<c;i++){var F=l*c+i<<2,k=l*J+i<<4;b[F]=x[k];b[F+1]=x[k+1];b[F+2]=x[k+2];
b[F+3]=x[k+3]}return b};q.Ya.avG=function(x,J,o,c,E){var b=o.m,l=o.e,i=b*l,F=q.Ya.arD,k=q.Ya.R,U=q.JS.t4,I=q.Ya.LT,x=F(x),V=new q.HC(b*l);
q.f8(J,V);var J=[F(V.o),F(V.I),F(V.J)],u=q.Ya.aiH(x,J,o,c,E),N=k(i);U(x,N,o,c);var e=k(i);I(J[0],x,e);
U(e,e,o,c);var B=k(i);I(J[1],x,B);U(B,B,o,c);var j=k(i);I(J[2],x,j);U(j,j,o,c);var T=k(i),a=k(i),P=k(i),v=k(i);
for(var $=0;$<i;$++){var R=N[$],y=u.vW[$],t=u.mp[$],g=u.Jv[$],H=e[$]-y*R,_=B[$]-t*R,Y=j[$]-g*R;T[$]=u.ax4[$]*H+u.Jo[$]*_+u.at[$]*Y;
a[$]=u.Jo[$]*H+u.abc[$]*_+u.Ej[$]*Y;P[$]=u.at[$]*H+u.Ej[$]*_+u.atr[$]*Y;v[$]=R-T[$]*y-a[$]*t-P[$]*g}U(T,T,o,c);
U(a,a,o,c);U(P,P,o,c);U(v,v,o,c);return[T,a,P,v]};q.Ya.aiH=function(x,J,o,c,E){var b=o.m,l=o.e,i=b*l,F=q.Ya.R,k=q.JS.t4,U=q.Ya.LT,I={};
I.vW=F(i);k(J[0],I.vW,o,c);I.mp=F(i);k(J[1],I.mp,o,c);I.Jv=F(i);k(J[2],I.Jv,o,c);var V=F(i);U(J[0],J[0],V);
k(V,V,o,c);var u=F(i);U(J[0],J[1],u);k(u,u,o,c);var N=F(i);U(J[0],J[2],N);k(N,N,o,c);var e=F(i);U(J[1],J[1],e);
k(e,e,o,c);var B=F(i);U(J[1],J[2],B);k(B,B,o,c);var j=F(i);U(J[2],J[2],j);k(j,j,o,c);I.ax4=V;I.Jo=u;
I.at=N;I.abc=e;I.Ej=B;I.atr=j;for(var $=0;$<i;$++){var T=I.vW[$],a=I.mp[$],P=I.Jv[$],v=V[$]-T*T+E,R=u[$]-T*a,y=N[$]-T*P,t=e[$]-a*a+E,g=B[$]-a*P,H=j[$]-P*P+E,_=t*H-g*g,Y=g*y-R*H,K=R*g-t*y,f=v*H-y*y,m=y*R-v*g,C=v*t-R*R,Z=_*v+Y*R+K*y,A=1/Z;
I.ax4[$]=_*A;I.Jo[$]=Y*A;I.at[$]=K*A;I.abc[$]=f*A;I.Ej[$]=m*A;I.atr[$]=C*A}return I};q.Ya.R=function(x){return new Float32Array(x)};
q.Ya.arD=function(x){var J=x.length,o=new Float32Array(J);for(var $=0;$<J;$++)o[$]=x[$]*(1/255);return o};
q.Ya.LT=function(x,J,o){for(var $=0;$<x.length;$++)o[$]=x[$]*J[$]};q.KO={};q.KO.Tm=function(x,J,o,c){var E=x[J]-o[c],b=x[J+1]-o[c+1],l=x[J+2]-o[c+2];
return Math.sqrt(E*E+b*b+l*l)*(1/441.7)};q.KO.getSelection=function(x,J,o){var c=J*o,E=q.R(c),b=!1,l=Math.round(o*.7),i=1,F=new Uint32Array(12),k=q.R(12);
for(var U=0;U<l;U++)for(var I=0;I<J;I++){if(I<i||U<i||I>J-i-1||U>o-i-1){var $=U*J+I,V=$<<2,u=0;if(U<i)u=4;
else if(I>J-i-1)u=8;F[u]+=x[V];F[u+1]+=x[V+1];F[u+2]+=x[V+2];F[u+3]++;E[$]=255}}for(var $=0;$<12;$+=4)for(var N=0;
N<3;N++)k[$+N]=F[$+N]/F[$+3];var e=new Float32Array(c);for(var $=0;$<c;$++){var V=$*4,B=q.KO.Tm(x,V,k,0),j=q.KO.Tm(x,V,k,4),T=q.KO.Tm(x,V,k,8),a=Math.max(B,Math.max(j,T));
e[$]=B+j+T-a}q.KO.Eu(e);var P=Date.now(),v=new Float32Array(c),R=[],y=q.R(c);for(var $=0;$<3;$++){q.z$(x,y,$);
var t=new Uint16Array(c);R.push(t);q.KO.an0(y,E,J,o,t)}if(b)console.log("MBD",Date.now()-P);P=Date.now();
for(var $=0;$<c;$++)v[$]=R[0][$]+R[1][$]+R[2][$];q.KO.Eu(v);for(var $=0;$<c;$++)v[$]+=.4*e[$];var g=J>>>1,l=o>>>1,H=1/Math.sqrt(g*g+l*l);
for(var U=0;U<o;U++)for(var I=0;I<J;I++){var _=I-g,Y=U-l,K=1-Math.sqrt(_*_+Y*Y)*H;v[U*J+I]*=K}if(b)console.log("Centeredness",Date.now()-P);
P=Date.now();for(var $=0;$<c;$++)E[$]=v[$]*255;var f=Math.round(J/120),m=Math.round(f*.8);if(b)console.log(f,m);
q.hn.Pl(E,E,J,o,f+f+1,!1);if(b)console.log("erosion",Date.now()-P);P=Date.now();for(var $=0;$<c;$++)v[$]=E[$];
q.KO.Eu(v);var C=q.R(256);for(var $=0;$<256;$++)C[$]=256/(1+Math.exp(-20*($/255-.5)));for(var $=0;$<c;
$++){var Z=~~(v[$]*255+.5);E[$]=C[Z]}if(b)console.log("Simoid",Date.now()-P);P=Date.now();return E};
q.KO.Eu=function(x){var J=x.length,o=0;for(var $=0;$<J;$++)o=Math.max(o,x[$]);var c=1/o;for(var $=0;
$<J;$++)x[$]=x[$]*c};q.KO.an0=function(x,J,o,c,E){var b=o*c,l=x.slice(0),i=x.slice(0);for(var $=0;$<b;
$++)E[$]=J[$]==255?0:65535;q.KO.a1Q(x,i,l,E,o,c);q.KO.ann(x,i,l,E,o,c);q.KO.a1Q(x,i,l,E,o,c);q.KO.ann(x,i,l,E,o,c);
return E};q.KO.a1Q=function(x,J,o,c,E,b){for(var l=1;l<E;l++)q.KO.Te(l,-1,x,J,o,c);for(var i=1;i<b;i++){q.KO.Te(i*E,-E,x,J,o,c);
for(var l=1;l<E;l++){var $=i*E+l;q.KO.Te($,-1,x,J,o,c);q.KO.Te($,-E,x,J,o,c)}}};q.KO.ann=function(x,J,o,c,E,b){for(var l=E-2;
l>=0;l--)q.KO.Te(E*b-E+l,1,x,J,o,c);for(var i=b-2;i>=0;i--){q.KO.Te(i*E+E-1,E,x,J,o,c);for(var l=E-2;
l>=0;l--){var $=i*E+l;q.KO.Te($,1,x,J,o,c);q.KO.Te($,E,x,J,o,c)}}};q.KO.Te=function($,x,J,o,c,E){var b=$+x,l=J[$],i=o[b],F=c[b];
if(i<l)i=l;else if(l<F)F=l;var k=i-F;if(E[b]!=65535&&k<E[$]){E[$]=k;o[$]=i;c[$]=F}};q.Pr={};q.Pr.filter=function(x,J,o,c){var E=J.m,b=J.e,l=E*b,i=c[0],F=c[1],k=c[2],U=c[3],I=c[4],V=c[5],u=c[6],N=Date.now(),e=new Float32Array(E*b*4);
q.Pr.auX(x,E,b,e);var B=Math.ceil(i*Math.sqrt(-2*Math.log(.1))),j=new ArrayBuffer(l*4),T=new Float32Array(j),a=new Float32Array(l),P=new Float32Array(l);
for(var $=0;$<l;$++){var v=$*4;T[$]=e[v];a[$]=e[v+1];P[$]=e[v+2]}q.JS.In(T,T,J,B*1/2.4,2);q.JS.In(a,a,J,B*1/2.4,2);
q.JS.In(P,P,J,B*1/2.4,2);for(var $=0;$<l;$++){var v=$*4;e[v]=T[$];e[v+1]=a[$];e[v+2]=P[$]}var R=new Uint8Array(j);
for(var $=0;$<l;$++){var v=$*4,y=$*4,T=e[v],a=e[v+1],P=e[v+2],t=Math.sqrt((T-P)*(T-P)+4*a*a),g=(T+P+t)*.5,H=(T+P-t)*.5,_=H-P,Y=a,K=_*_+Y*Y;
if(K!=0){var f=Math.sqrt(K),m=1/f;_*=m;Y*=m}R[y]=128+127*_;R[y+1]=128+127*Y}var C=1.3*F+2,Z=U*(2/10),A=x.slice();
if(ai.mB){var d=new Float32Array([1/E,1/b]),G=ai.PW(0,E,b);G.set(A);var r=ai.PW(1,E,b);r.set(R);ai.FW(G,J);
if(I){G.bU(J);ai.filter.YA({type:ai.filter.aCX,VK:d,aAl:1/k,ahF:Z},G.DF)}G.bU(J);ai.filter.YA({type:ai.filter.ZQ,Zh:r.Hp,VK:d,adn:C,amk:2},G.DF);
if(I){G.bU(J);ai.filter.YA({type:ai.filter.a18,VK:d,aDi:new Float32Array(u),ayS:V},G.DF)}G.get(o)}else{if(I)q.Pr.aX(1/k,Z,A,E,b);
q.Pr.ZQ(A,o,R,E,b,C);if(I)q.Pr.ap2(E,b,o,u,V)}var X=l*4;for(var $=3;$<X;$+=4)o[$]=x[$]};q.Pr.ZQ=function(x,J,o,c,E,b){var l=Math.ceil(2*b),i=-1/(2*b*b),F=[],k=1;
for(var $=0;$<l+20;$++)F[$]=Math.exp($*$*i);var U=[0,0,0,0];for(var I=0;I<E;I++){for(var V=0;V<c;V++){var u=I*c+V,N=u*4,e=1,B=x[N],j=x[N+1],T=x[N+2],a=x[N+3],P=(o[N]-128)*(1/127),v=(o[N+1]-128)*(1/127),R=P,y=v,t=V==0?.51:.49,g=I==0?.51:.49;
for(var $=0;$<2;$++){var H=V+t,_=I+g,Y=0;while(Y<l){if(H<.5||c-.5<H||_<.5||E-.5<_)break;var K=~~H,f=~~_,m=f*c+K,C=m*4,Z=(o[C]-128)*(1/127),A=(o[C+1]-128)*(1/127);
if(Z*R+A*y<0){Z=-Z;A=-A}R=Z;y=A;H+=k*Z;_+=k*A;if(H<.5||c-.5<H||_<.5||E-.5<_)break;var d=~~H,G=~~_,r=G*c+d<<2;
Y+=k;var X=F[~~Y];q.D.a22(H,_,x,c,E,U);B+=U[0]*X;j+=U[1]*X;T+=U[2]*X;a+=U[3]*X;e+=X}R=-P;y=-v}var w=1/e;
J[N]=~~(.5+B*w);J[N+1]=~~(.5+j*w);J[N+2]=~~(.5+T*w);J[N+3]=~~(.5+a*w)}}};q.Pr.ap2=function(x,J,o,c,E){for(var b=0;
b<J;b++)for(var l=0;l<x;l++){var i=b*x+l<<2,F=1+q.Pr.ab4(l,b,o,x,J,c)*E;o[i]=Math.max(0,Math.min(255,o[i]*F));
o[i+1]=Math.max(0,Math.min(255,o[i+1]*F));o[i+2]=Math.max(0,Math.min(255,o[i+2]*F))}};q.Pr.ab4=function(x,J,o,c,E,b){var l=o[(J*c+Math.max(0,x-1))*4+3],i=o[(J*c+Math.min(c-1,x+1))*4+3],F=o[(Math.max(0,J-1)*c+x)*4+3],k=o[(Math.min(E-1,J+1)*c+x)*4+3],U=.7,I=(i-l)*(1/255),V=.7,u=(k-F)*(1/255),N=-I*V,e=-U*u,B=U*V,j=Math.sqrt(N*N+e*e+B*B),T=1/j,a=N*T,P=e*T,v=B*T,R=b[0]*a+b[1]*P+b[2]*v;
return R};q.Pr.aX=function(x,J,o,c,E){function b(i,k,U){return Math.max(k,Math.min(U,i))}for(var l=0;
l<E;l++)for(var i=0;i<c;i++){var F=q.Pr.ae$(i+.5,l+.5,x,J);o[(l*c+i)*4+3]=Math.max(0,Math.min(255,F*255))}};
q.Pr.ae$=function(x,J,o,c){function E(y,t,g){return(1-g)*y+g*t}var b=(x+613)*o,l=(J+117)*o,i=~~b,F=~~l,k=b-i,U=l-F,I=Math.sin(11),V=Math.cos(i)*I,u=Math.cos(i+1)*I,N=Math.cos(F)*I,e=Math.cos(F+1)*I,bz=q.Pr.hash(V,N),B=q.Pr.hash(u,N),j=q.Pr.hash(V,e),T=q.Pr.hash(u,e),a=E(bz,B,k),P=E(j,T,k),v=E(a,P,U);
v=v<.5?0:1;var R=v+c*q.Pr.hash(Math.cos(b)*I,Math.cos(l)*I);return R*(1/3)};q.Pr.hash=function(x,J){var o=Math.sin(x*11.697096+J*73.32456)*12157.47691;
return o-Math.floor(o)};q.Pr.auX=function(x,J,o,c){var E=[-1,0,1,-2,0,2,-1,0,1],b=[-1,-2,-1,0,0,0,1,2,1],l=J-1,i=o-1,F=J*4;
for(var k=1;k<i;k++)for(var U=1;U<l;U++){var $=k*J+U,I=$*4,V=q.Pr.K8(x,I,F,E),u=q.Pr.K8(x,I,F,b),N=q.Pr.K8(x,I+1,F,E),e=q.Pr.K8(x,I+1,F,b),B=q.Pr.K8(x,I+2,F,E),j=q.Pr.K8(x,I+2,F,b);
c[I]=V*V+N*N+B*B;c[I+1]=V*u+N*e+B*j;c[I+2]=u*u+e*e+j*j}q.Pr.aq_(c,J,o)};q.Pr.K8=function(x,J,o,c){return x[J-o-4]*c[0]+x[J-o]*c[1]+x[J-o+4]*c[2]+x[J-4]*c[3]+x[J]*c[4]+x[J+4]*c[5]+x[J+o-4]*c[6]+x[J+o]*c[7]+x[J+o+4]*c[8]};
q.Pr.aq_=function(x,J,o){function c(F,$,k){var U=$*4,I=k*4;F[I]=F[U];F[I+1]=F[U+1];F[I+2]=F[U+2]}var E=J-1,b=o-1;
c(x,J+1,0);c(x,2*J-2,J-1);for(var l=1;l<E;l++)c(x,J+l,l);for(var i=1;i<b;i++){c(x,i*J+1,i*J);c(x,i*J+J-2,i*J+J-1)}for(var l=1;
l<E;l++)c(x,(o-2)*J+l,(o-1)*J+l);c(x,(i-2)*J+1,(i-1)*J);c(x,(i-1)*J-2,i*J-1)};q.v5=function(){function x(k,U,I,V){var u=new Float32Array(k*k),N=k/2;
for(var e=0;e<k;e++)for(var B=0;B<k;B++){var j=B+I-N,T=e+V-N;u[e*k+B]=Math.max(0,Math.min(1,U+.5-Math.sqrt(j*j+T*T)))}return u}var J=[],c=null;
function o(k,U,I,V){var u=Math.floor(U*10),N=J[u],e=k*8,B=e>>>1;if(N==null){N=J[u]=[];var j=new ha(0,0,e,e),T=k/2/(1+.2*U),a=Math.floor(k*u*.1);
for(var P=0;P<2;P++)for(var v=0;v<2;v++){var R=x(e,T,.25+v*.5,.25+P*.5),y=0;q.JS.In(R,R,j,a);while(R[e*B+y]<.005)y++;
if(y!=0)y--;var t=2*(B-y),g=new ha(y,y,t,t),H=new Float32Array(t*t);for(var _=0;_<t;_++)for(var Y=0;
Y<t;Y++)H[_*t+Y]=R[(y+_)*e+y+Y];N.push([H,g])}}var K=Math.floor(I),f=Math.floor(V),m=I-K,C=V-f,Z=m<.5?1:0,A=C<.5?1:0;
N=N[A*2+Z];var g=N[1].clone();g.x+=K-B;g.y+=f-B;return[N[0],g]}function E(k,U,I){if(c==null){c=new Uint8Array(4e4);
for(var $=0;$<4e4;$++)c[$]=Math.min(255,~~(.5+255*q.Ea($*(1/255))))}var V=k.length;for(var $=0;$<V;$++){var u=k[$],N=~~(255*u);
U[$]=c[N]<<24|I}}function b(k,U,I,V,u){var N=U.Kc(V),e=Math.max(0,N.x-U.x),B=Math.max(0,N.x-V.x),j=Math.max(0,N.y-U.y),T=Math.max(0,N.y-V.y),a=N.m,P=N.e;
for(var $=0;$<P;$++){var v=(j+$)*U.m+e,R=(T+$)*V.m+B;for(var y=0;y<a;y++){I[R+y]+=u*k[v+y]}}}var l=-1;
function i(k,U,I,V,u){var N=Math.round(V[1]*U*I*.01),e=V[2],B=V[3],j=V[4],T=V[5],a=V[6],P=V[7],v=V[8],R=V[9],y=V[10]?V[10]:1,X=!1;
if(e!=l){J=[];l=e}var t=Date.now(),g=new ha(0,0,U,I),H=new F(V[0]);if(u)k.fill(0);var _=new Float32Array(u?k.buffer:U*I);
for(var $=0;$<N;$++){var Y=H.get()*U,K=H.get()*I,f=H.get()*B,m=H.get()*e*4,C=(H.get()+a)*Math.PI*2,Z=H.get()*e*4,A=(H.get()+2*a)*Math.PI*2;
Y+=R*(m*Math.cos(C)+Z*Math.cos(A));K+=R*(m*Math.sin(C)+Z*Math.sin(A));if(v)K=K+a*I*y;var d=o(e,f,Y,K%I),G=j,r=H.get();
if(P)G=.5+.5*j*(.5+.5*Math.sin((2*a+r)*2*Math.PI));b(d[0],d[1],_,g,G)}if(X)console.log(Date.now()-t,"add floats");
t=Date.now();var w=new Uint8Array(_.buffer);E(_,new Uint32Array(w.buffer),T.J<<16|T.I<<8|T.o);if(X)console.log(Date.now()-t,"toInt");
t=Date.now();if(!u){q.l.j6("scrn",w,g,k,g,g,1);if(X)console.log(Date.now()-t,"blendOver")}}function F(k){this.R1=123456789;
this.l9=987654321;this.F=4294967295;this.XE(k)}F.prototype.XE=function($){this.R1=123456789+$&this.F;
this.l9=987654321-$&this.F};F.prototype.get=function(){this.l9=36969*(this.l9&65535)+(this.l9>>16)&this.F;
this.R1=18e3*(this.R1&65535)+(this.R1>>16)&this.F;var k=(this.l9<<16)+(this.R1&65535)>>>0;k/=4294967296;
return k};return{Bb:i}}();q.L0={};q.L0.xu=function(x,J,o,c){var E=x[J*2],b=x[J*2+1],l=x[o*2],i=x[o*2+1],F=x[c*2],k=x[c*2+1];
return E*i+l*k+F*b-F*i-l*b-E*k};q.L0.aw7=function(x,J){var o=[],c=[],E=[],b={};for(var $=0;$<J.length;
$+=3){var l=~~($*(1/3)),i=J[$+0],F=J[$+1],k=J[$+2],U=q.L0.xu(x,i,F,k);if(U>0){var I=F;F=k;k=I}var V=b[k+"-"+F],u=b[F+"-"+i],N=b[i+"-"+k],e=[k,V,l,null],B=[F,u,l,e],j=[i,N,l,B];
e[3]=j;if(V)V[1]=e;if(u)u[1]=B;if(N)N[1]=j;b[k+"-"+i]=j;b[i+"-"+F]=B;b[F+"-"+k]=e;o[i]=B;E[$]=B;o[F]=e;
E[$+1]=e;o[k]=j;E[$+2]=j;c[l]=B}return{LI:o,a5:c,nu:E}};q.L0.abl=function(x){var J=[],o=x.a5;for(var $=0;
$<o.length;$++){var c=o[$];J.push(c[0]);c=c[3];J.push(c[0]);c=c[3];J.push(c[0])}return J};q.L0.aqh=function(x,J,o,c){var E=x[J*2],b=x[J*2+1],l=x[o*2],i=x[o*2+1],F=x[c*2],k=x[c*2+1],U=l-E,I=i-b,V=F-E,u=k-b,N=U*(E+l)+I*(b+i),e=V*(E+F)+u*(b+k),B=2*(U*(k-i)-I*(F-l));
if(Math.abs(B)<1e-5){var j=Math.min(E,l,F),T=Math.min(b,i,k),a=(Math.max(E,l,F)-j)*.5,P=(Math.max(b,i,k)-T)*.5;
return[j+a,T+P,a*a+P*P,1]}var v=(u*N-I*e)/B,R=(U*e-V*N)/B,a=v-E,P=R-b;return[v,R,a*a+P*P,0]};q.L0.azc=function(x,J,o){var c=o[1],E=o[3],b=E[3],l=c[3],i=l[3],F=o[2],k=c[2],U=o[0],I=c[0],V=E[0],u=l[0],N=q.L0.aqh(x,I,u,V),e=x[U*2]-N[0],B=x[U*2+1]-N[1],j=e*e+B*B>N[2]&&N[3]==0&&q.L0.xu(x,u,U,V)<0&&q.L0.xu(x,V,I,u)<0;
if(j){o[0]=V;c[0]=u;o[3]=b;b[3]=l;l[3]=o;c[3]=i;i[3]=E;E[3]=c;E[2]=k;l[2]=F;J.a5[k]=i;J.a5[F]=b;J.LI[I]=l;
J.LI[U]=E}return j};q.L0.aDm=function(x,J,o){var c=x[J*2]-x[o*2],E=x[J*2+1]-x[o*2+1];return Math.sqrt(c*c+E*E)};
q.L0.apE=function(x,J,o){var c=o[1],E=o[3],b=E[3],l,i,F=o[2],k,U=o[0],I=b[0],V=E[0],u;if(c){l=c[3];i=l[3];
k=c[2];u=l[0]}var N=x.length>>>1;x[2*N]=(x[2*I]+x[2*U])*.5;x[2*N+1]=(x[2*I+1]+x[2*U+1])*.5;if(!0){var e=F,B=o,j=J.a5.length,T=[N,null,e,B],a=[V,T,j,b];
T[1]=a;var P=[N,null,j,a];E[3]=T;b[3]=P;b[2]=j;J.a5[e]=E;J.a5[j]=P;J.LI[U]=E;J.LI[V]=b;J.nu.push(T,a,P)}if(c){var v=k,R=c,y=j+1;
P[1]=R,R[1]=P;var t=[N,null,v,R],g=[u,t,y,i];t[1]=g;var H=[N,B,y,g];B[1]=H;l[3]=t;i[3]=H;i[2]=y;J.a5[v]=l;
J.a5[y]=i;J.LI[I]=l;J.LI[u]=i;J.nu.push(t,g,H)}J.LI[N]=B};q.L0.adg=function(x,J){var o=0;while(!0){var c=o;
for(var $=0;$<J.nu.length;$++){var E=J.nu[$];if(E[1]==null)continue;var b=q.L0.azc(x,J,E);if(b){o++;
break}}if(c==o)break}return o!=0};q.L0.alm=function(x,J,o,c){var E=0;for(var $=0;$<c;$++){var b=null,l=0;
for(var i=0;i<J.nu.length;i++){var F=J.nu[i],k=q.L0.aDm(x,F[0],F[3][3][0])*(F[1]?1:2);if(k>l){b=F;l=k}}if(l>o){q.L0.apE(x,J,b);
E++}}return E!=0};q.L0.aiy=function(x,J){var o=[],V=0;for(var $=0;$<x.length;$++)o.push(0);for(var $=0;
$<J.nu.length;$++){var c=J.nu[$],E=c[0],b=c[3][3][0],l=x[E*2],i=x[E*2+1],F=x[b*2],k=x[b*2+1],U=l-F,I=i-k;
o[E*2]+=-U;o[E*2+1]+=-I;o[b*2]+=U;o[b*2+1]+=I}for(var $=0;$<x.length;$+=2){var u=$>>>1,N=J.LI[u],c=N,e=!0;
do{if(c[1]==null){e=!1;break}c=c[1][3]}while(c!=N);if(e){var B=.02;x[$]+=B*o[$];x[$+1]+=B*o[$+1];V+=B*(o[$]*o[$]+o[$+1]*o[$+1])}}return V};
q.L0.aa0=function(x,J,o){var c=q.O.Cg(x),E=q.L0.aw7(x,J);q.L0.adg(x,E);for(var b=0;b<300;b++){var l=!1,i=!1;
l=q.L0.alm(x,E,o,5);if(l)i=q.L0.adg(x,E);var F=q.L0.aiy(x,E);if(!l&&!i&&F<1e-4){break}}return q.L0.abl(E)};
q.bq={};q.bq.aj7=function(x){var J=x.Nk,o=x.Ur,c=x.qz,E=x.sk,b=x.gU,l=x.JY,i=x.QR,F=q.ng.Pf,T,a,P=0;
function k(bz){var e9=new Array(bz);for(var $=0;$<bz;$++)e9[$]=0;return e9}var U=o.length>>>1,I=k(J.Gu*2),V=k(J.Gu),u=k(J.Gu),N=Date.now();
for(var $=0;$<x.gv.length;$++){var e=J.anb+$,B=J.Qh*(l[$*2]+i[$*2]),j=J.Qh*(l[$*2+1]+i[$*2+1]);I[e*2]=B;
I[e*2+1]=j;V[e]=B;u[e]=j}J.awb.yK(E,J.afe.Pf(I),.01,T,a);for(var $=0;$<J.aft.nu.length;$++){var v=J.aft.nu[$],R=v[3][3][0],y=v[0],t=v[3][0],g=v[1]?v[1][3][0]:t;
if(v[1]&&R>y)continue;var H=o[R*2],_=o[R*2+1],Y=o[y*2],K=o[y*2+1],f=E[R*2],m=E[R*2+1],C=E[y*2],Z=E[y*2+1],A=E[t*2],d=E[t*2+1],G=E[g*2],r=E[g*2+1],X=[f,m,C,Z,A,d];
if(v[1])X.push(G,r);var w=F(J.az3[P],X),S=w[0],z=w[1],s=1/Math.sqrt(S*S+z*z);S*=s;z*=s;var M=Y-H,Q=K-_;
V[P]=S*M+z*Q;u[P]=-z*M+S*Q;P++}var O=new Array(U),W=new Array(U);for(var $=0;$<U;$++){O[$]=b[$*2];W[$]=b[$*2+1]}J.a24.yK(O,J.aAR.Pf(V),.5);
J.a24.yK(W,J.aAR.Pf(u),.5);for(var $=0;$<U;$++){b[$*2]=O[$];b[$*2+1]=W[$]}};q.bq.axW=function(x){var J=x.Ur,o=x.qz,c=x.gv,E=q.ng.multiply,b=Date.now(),l=q.L0.aw7(J,o),i=J.length>>>1,F=0,N=0,z=1e3;
for(var $=0;$<l.nu.length;$++)F+=l.nu[$][1]?.5:1;var k=F+c.length,U=[],I=new q.IF(k*2,i*2),V=new q.IF(k,i),u=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],e=[],B=[];
for(var $=0;$<l.nu.length;$++){var j=l.nu[$],T=j[3][3][0],a=j[0],P=j[3][0],v=j[1]?j[1][3][0]:P;if(j[1]&&T>a)continue;
var R=J[T*2],y=J[T*2+1],t=J[a*2],g=J[a*2+1],H=J[P*2],_=J[P*2+1],Y=J[v*2],K=J[v*2+1],f=[[R,y,1,0],[y,-R,0,1],[t,g,1,0],[g,-t,0,1],[H,_,1,0],[_,-H,0,1]];
if(j[1])f.push([Y,K,1,0],[K,-Y,0,1]);var m=q.ng.NB(f),C=E(linear.invert(E(m,f)),m);C.pop();C.pop();U.push(C);
var Z=t-R,A=g-y,d=u[j[1]?1:0];d=q.ng._u(d,E([[Z,A],[A,-Z]],C));var G=[T*2,T*2+1,a*2,a*2+1,P*2,P*2+1,v*2,v*2+1],r=j[1]?8:6,X=[];
for(var w=0;w<r;w++)X.push([G[w],d[0][w],d[1][w]]);X.sort(function(e9,jV){return e9[0]-jV[0]});for(var S=0;
S<2;S++){for(var w=0;w<r;w++){e[w]=X[w][0];B[w]=X[w][1+S]}I.s5(B,e,r)}if(T<a)V.s5([-1,1],[T,a],2);else V.s5([1,-1],[a,T],2);
N++}for(var $=0;$<c.length;$++){var s=c[$];I.s5([z],[s*2],1);I.s5([z],[s*2+1],1);V.s5([z],[s],1)}var M=I.NB(),Q=M.dd(M),O=V.NB(),W=O.dd(O);
return{anb:F,Gu:k,afe:M,awb:Q,aAR:O,a24:W,aft:l,az3:U,Qh:z}};q.bq.ab3=function(x,J,o,c,E){var b=new ha(0,0,J,o),l=q.R(b.P());
q.z$(x,l,3);q.round(l,70);var i=q.d6(l,b),F=[.1,.065,.035][c]*Math.max(i.m,i.e),k=E+1,U=J+k*2,I=o+k*2,V=new ha(-k,-k,U,I),u=q.R(V.P());
q.zc(l,b,u,V);var N=u.slice(0);for(var e=0;e<E;e++){for(var B=1;B<I-1;B++){for(var j=1;j<U-1;j++){var $=B*U+j;
N[$]=u[$-U]|u[$-1]|u[$]|u[$+1]|u[$+U]}}var T=N;N=u;u=T}var a=fE.wt(u,U,I,Math.round(i.P()*5e-4)),P=fE.l$(a),v=new cW(1,0,0,1,-k,-k);
for(var $=0;$<P.length;$++){var R=P[$];q.O.M(R.path.j,v,R.path.j);R.Ur=q.bq.akG(R.path);R.qz=q.O.a0$(R.Ur);
R.qz=q.L0.aa0(R.Ur,R.qz,F)}return P};q.bq.akG=function(x){var J=[],o=x.j,c=x.G.length-1,E=0,b=0;for(var l=0;
l<c;l++){var $=l*6,i=o[$+6]-o[$+0],F=o[$+7]-o[$+1],k=Math.ceil(Math.sqrt(i*i+F*F));for(var U=0;U<k;U++){var I=U/k,V=1-I,u=V*V*V*o[$+0]+3*V*V*I*o[$+2]+3*V*I*I*o[$+4]+I*I*I*o[$+6],N=V*V*V*o[$+1]+3*V*V*I*o[$+3]+3*V*I*I*o[$+5]+I*I*I*o[$+7];
J.push(u,N);E=u;b=N}}J=q.O.anW(J,1);var e=[],B=J.length;for(var $=0;$<B;$+=2){var N=J.pop(),u=J.pop();
e.push(u,N)}return e};q.bq.ahS=function(x,J,o,c){function E(t,g,H,_,Y){var K=Y[t*2]-Y[g*2],f=Y[t*2+1]-Y[g*2+1],m=Math.sqrt(K*K+f*f);
if(H[t].indexOf(g)==-1){H[t].push(g);_[t].push(m)}if(H[g].indexOf(t)==-1){H[g].push(t);_[g].push(m)}}var b=x.length>>>1,l=new Array(b);
if(o.length==0){l.fill(0);return l}var i=new Array(b),F=new Array(b);for(var $=0;$<b;$++){i[$]=[];F[$]=[]}for(var $=0;
$<J.length;$+=3){E(J[$],J[$+1],i,F,x);E(J[$],J[$+2],i,F,x);E(J[$+1],J[$+2],i,F,x)}var k=new Float64Array(b*2),U=new Uint32Array(b*2);
k.fill(1e9);var I=new Uint8Array(b);for(var V=0;V<o.length;V++){I.fill(0);var u=["---",[0,o[V]]];while(u.length!=1){var N=q.aDe.bG(u),e=N[0],B=N[1];
if(I[B]==1)continue;var j=B<<1;if(e<k[j]){k[j+1]=k[j];U[j+1]=U[j];k[j]=e;U[j]=V}else if(e<k[j+1]){k[j+1]=e;
U[j+1]=V}I[B]=1;var T=i[B],a=F[B];for(var $=0;$<T.length;$++){var P=T[$];if(I[P]!=1){q.aDe.Bh(u,[e+a[$],P])}}}}for(var $=0;
$<b;$++){var j=$<<1,v=k[j],R=k[j+1],y=1/(v+R);l[$]=(1-v*y)*c[U[j]]+(1-R*y)*c[U[j+1]]}return l};q.bq.aAV=function(x){var J={G:[],j:[]},o=[x];
while(o.length!=0){var c=o.pop(),E=c.YP;if(c.a6L instanceof Array||c.a20 instanceof Array){J.G.push("M","L","L","L","Z");
J.j.push(E[0],E[1],E[2],E[1],E[2],E[3],E[0],E[3])}else o.push(c.a6L,c.a20)}return J};q.bq.tV=function(x,J,o,c,E,b,l,i,F,k,U){var I=Math.round(k.length/3),V=new Array(I);
for(var $=0;$<I;$++)V[$]=$;V.sort(function(N,e){return F[k[N*3]]-F[k[e*3]]});for(var $=0;$<I;$++){var u=V[$]*3;
q.bq.a0M(k[u]*2,k[u+1]*2,k[u+2]*2,l,i,x,J,o,c,E,b,U)}};q.bq.a0M=function(x,J,o,c,E,b,l,i,F,k,U,I){var V=[x,J,o,1.2,1.2,1.2,0],u=[0,0,0,0],N=E[x],e=E[x+1],B=E[J],j=E[J+1],T=E[o],a=E[o+1],P=B-N,v=j-e,R=T-N,y=a-e,t=P*y-R*v+1e-9,g=1/t,H=Math.max(0,Math.min(l-1,c[x])),_=Math.max(0,Math.min(l-1,c[J])),Y=Math.max(0,Math.min(l-1,c[o])),K=Math.max(0,Math.min(i-1,c[x+1])),f=Math.max(0,Math.min(i-1,c[J+1])),m=Math.max(0,Math.min(i-1,c[o+1])),C=N<B?N<T?x:o:B<T?J:o,Z=E[C+1]+.5,A=Math.max(0,Math.floor(Math.min(N,B,T))),d=Math.min(k,Math.ceil(Math.max(N,B,T))),G=Math.max(0,Math.floor(Math.min(e,j,a))),r=Math.min(U,Math.ceil(Math.max(e,j,a))),X=1e9;
for(var w=G;w<r;w++){var S=w>Z&&X!=1e9?X:A;X=1e9;for(var z=S;z<d;z++){var s=z+.5-N,M=w+.5-e,Q=(s*y-R*M)*g,O=(P*M-s*v)*g;
if(Q>=0&&O>=0&&Q+O<=1){if(X==1e9)X=z;var W=1-Q-O,e9=H*W+_*Q+Y*O,jV=K*W+f*Q+m*O;if(I){var co=Math.floor(.5+jV)*l+Math.floor(.5+e9),dz=co<<2,eh=w*k+z<<2;
F[eh]=b[dz];F[eh+1]=b[dz+1];F[eh+2]=b[dz+2];F[eh+3]=b[dz+3]}else{q.D.a22(e9,jV,b,l,i,u);q.bq.ami(u,F,w*k+z<<2)}}else if(X!=1e9)break}}};
q.bq.ami=function(x,J,o){if(x[3]>250){J[o]=~~(.5+x[0]);J[o+1]=~~(.5+x[1]);J[o+2]=~~(.5+x[2]);J[o+3]=~~(.5+x[3])}else{var c=J[o],E=J[o+1],b=J[o+2],l=J[o+3],i=1-x[3]*(1/255);
J[o]=~~(.5+x[0]+c*i);J[o+1]=~~(.5+x[1]+E*i);J[o+2]=~~(.5+x[2]+b*i);J[o+3]=~~(.5+x[3]+l*i)}};q.bq.a0A=function(){var x=function(o,c,E,b){var l=b[0],i=b[1],F=b[2],k=o[l+0],U=o[l+1],I=o[i+0],V=o[i+1],u=o[F+0],N=o[F+1],e=I-k,B=V-U,j=u-k,T=N-U,a=c-k,P=E-U,v=e*T-j*B,R=1/(v+1e-9),y=(a*T-j*P)*R,t=(e*P-a*B)*R;
if(y>=0&&t>=0&&y+t<=1){b[3]=1-y-t;b[4]=y;b[5]=t;return 1}return 0},J=function(o,c,E,b){var l=[0,0,0,0,0,0];
for(var $=0;$<c.length;$+=3){l[0]=c[$]*2;l[1]=c[$+1]*2;l[2]=c[$+2]*2;if(x(o,E,b,l)==1)return!0}return!1};
return{a1W:x,aCB:J}}();q.D8={};q.D8.asS=function(x,J,o,c){x=x.slice(0);if(c)q.qR(c,x,3);else for(var $=0;
$<x.length;$+=4)x[$+3]=0;var E=q.R(J*o*4),b=!1;q.D.QX(x,J,o,E,[o,J,0,1,0,1,0,0]);return[q.D8.HR(x,J,o,b),q.D8.HR(E,o,J,b)]};
q.D8.M=function(x,J){var o=!1,c=x[0],E=x[1],b=c[1],l=c[2],i=c[3],F=J.m,k=J.e;if(l==F&&i==k)b=b.slice(0);
else if(i!=k){var U=q.R(l*k*4);q.D8.K9(E,k,U,o);b=q.R(l*k*4);q.D.QX(U,k,l,b,[l,k,0,1,0,1,0,0]);if(l!=F){c=q.D8.HR(b,l,k,o);
b=q.R(F*k*4);q.D8.K9(c,F,b,o)}}else if(l!=F){b=q.R(F*i*4);q.D8.K9(c,F,b,o)}for(var $=0;$<b.length;$+=4)b[$+3]=255;
return b};q.D8.HR=function(x,J,o,c){var E=Date.now(),b=new Uint16Array(J*o),k=1;q.D8.aAN(x,J,o,b);var l=q.R(J*o);
q.z$(x,l,3);for(var i=0;i<o;i++)for(var F=0;F<J;F++)b[i*J+F]+=Math.floor((65535-b[i*J+F])*l[i*J+F]*(1/255));
var U=Math.ceil(J/k),I=new Uint32Array(k),V=new Uint32Array(k),U=Math.floor(J/k);for(var u=0;u<k;u++)V[u]=u<k-1?U:J-(k-1)*U;
for(var i=0;i<o;i++){var $=i*J;for(var u=0;u<k;u++){var U=V[u];for(var F=0;F<U;F++)I[u]+=b[$+F];$+=U}}if(c){console.log(Date.now()-E,"cost");
E=Date.now()}var N=new Uint32Array(J),e=new Uint32Array(J),B=new Uint32Array(J*o);for(var F=0;F<J;F++){B[(o-1)*J+F]=b[(o-1)*J+F]}for(var i=o-2;
i>=0;i--){var j=i*J;for(var u=0;u<k;u++){var U=V[u];B[j]=b[j]+Math.min(B[j+J],B[j+J+1]);for(var F=1;
F<U-1;F++){var $=j+F;B[$]=b[$]+Math.min(B[$+J-1],Math.min(B[$+J],B[$+J+1]))}j+=U-1;B[j]=b[j]+Math.min(B[j+J-1],B[j+J]);
j++}}if(c){console.log(Date.now()-E,"Building M");E=Date.now()}function T(Y,K){return Y<K?Y:K}function a($,Y){var K=e[$],f=B[Y],m=~~(K*f*1e-4);
return m}var P=new Uint8Array(J*o),v=new Uint32Array(J);for(var $=0;$<J;$++){N[$]=$;e[$]=b[$]}for(var i=1;
i<o;i++){var R=0,j=i*J;for(var u=0;u<k;u++){var U=V[u],$=j;v[R]=a(R,$);var y=v[R]+a(R+1,$+1),t=a(R,$+1)+a(R+1,$);
v[R+1]=T(y,t);for(var F=2;F<U;F++){var $=j+F,g=v[R+F-1]+a(R+F-1,$-1),H=v[R+F-2]+a(R+F-1,$-2)+a(R+F-2,$-1);
v[R+F]=T(g,H)}var F=U-1;while(F>=2){var $=j+F,g=v[R+F-1]+a(R+F-1,$-1),H=v[R+F-2]+a(R+F-1,$-2)+a(R+F-2,$-1);
if(v[R+F]==g){P[$-J]=1;F-=1}else{P[$-J]=0;P[$-J-1]=2;F-=2}}var $=j;if(F==0){P[$-J]=1}else{if(v[R+1]==y){P[$+1-J]=1;
P[$-J]=1}else{P[$+1-J]=0;P[$-J]=2}}j+=U;R+=U}q.D8.asT(i,J,P,b,N,e,!0,E)}if(c){console.log(Date.now()-E,"Matching");
E=Date.now()}var _=b;return[UZIP.adler(x,0,x.length),x,J,o,k,V,I,N,e,P,_]};q.D8.K9=function(x,J,o,c){var E=x.slice(0),b=E.shift(),l=E.shift(),i=E.shift(),F=E.shift(),k=E.shift(),U=E.shift(),I=E.shift(),V=E.shift(),u=E.shift().slice(0),N=E.shift(),e=E.shift(),B=Date.now(),j=Math.abs(i-J),T=Math.floor(j/k),a=new Uint32Array(k),v=0,R=1e9,t=0,g=0,H=0;
for(var P=0;P<k;P++)a[P]=P<k-1?T:j-(k-1)*T;e.fill(0);for(var y=0;y<i;y++){v=Math.max(v,u[y]);R=Math.min(R,u[y])}for(var P=0;
P<k;P++){var _=U[P],T=a[P];for(var Y=0;Y<T;Y++){var K=0,f=1e9;for(var y=0;y<_;y++)if(u[g+y]<f){f=u[g+y];
K=g+y}if(J<i)u[K]=1e9;else u[K]*=1.2;if(H<i/3)t+=f;var m=V[K],C=e[m],Z=C<65280?65280:C+1;if(Z<65280)throw"e";
for(var A=0;A<F;A++){var $=A*i+m;e[$]=Z;m+=N[$]-1}H++}g+=_}if(c){console.log(Date.now()-B,"Removing best seams");
B=Date.now()}function d($,r){var X=$<<2,w=r<<2;o[X]=l[w];o[X+1]=l[w+1];o[X+2]=l[w+2];o[X+3]=l[w+3]}for(var A=0;
A<F;A++){var G=0,$=A*i;for(var y=0;y<J;y++,G++){if(J<i){while(e[$+G]==65280)G++;d(A*J+y,A*i+G)}else{d(A*J+y,A*i+G);
while(e[$+G]>=65280){e[$+G]--;y++;d(A*J+y,A*i+G)}}}}if(c){console.log(Date.now()-B,"Shifting image pixels");
B=Date.now()}};q.D8.asT=function(x,J,o,c,E,b){var l=0,$=x*J;while(l<J){if(o[$-J]==1){b[l]=b[l]+c[$];
l++;$++}else{var i=E[l];E[l]=E[l+1];E[l+1]=i;var F=b[l];b[l]=b[l+1]+c[$];b[l+1]=F+c[$+1];l+=2;$+=2}}};
q.D8.aAN=function(x,J,o,c){function E(x,$,F){var I=$<<2,V=F<<2,u=x[I]-x[V],N=x[I+1]-x[V+1],e=x[I+2]-x[V+2];
return Math.abs(u)+Math.abs(N)+Math.abs(e)}for(var b=1;b<J;b++){var l=E(x,b,b-1);c[b-1]+=l;c[b]+=l}for(var i=1;
i<o;i++){var F=i*J,l=E(x,F,F-J);c[F]+=l;c[F-J]+=l;for(var b=1;b<J;b++){var $=i*J+b,k=E(x,$,$-1),U=E(x,$,$-J);
c[$-J]+=U;c[$-1]+=k;c[$]+=U+k}}for(var i=0;i<o;i++){c[i*J]*=2;c[i*J+J-1]*=2}for(var $=0;$<c.length;$++)if(c[$]==0)c[$]=1};
q.HB=function(){function x(){return 1953e6+Math.floor(Math.random()*999999)}function J(f,m){var C=m[0]-f[0],Z=m[1]-f[1];
return C*C+Z*Z}function o(f,m,C,Z,A,d,G,r){var X=C-f,w=Z-m,S=q.O.EH(f,m,X,w,A,d,G-A,r-d),z=[f+S*X,m+S*w],s=S>0?[[[f,m],z,!1,0,1],[[A,d],z,!1,0,5]]:[[[C,Z],z,!1,0,1],[[G,r],z,!1,0,5]];
return s}function c(f,m){var C=o(f[0],f[1],f[2],f[3],f[6],f[7],f[4],f[5]),Z=o(f[0],f[1],f[6],f[7],f[2],f[3],f[4],f[5]),A=[C,Z],d=[C[0][1],Z[0][1]];
for(var $=0;$<2;$++){var G=d[1-$],r=A[$];if(J(r[0][0],G)<J(r[1][0],G)){var X=r[0];r[0]=r[1];r[1]=X}}var w=[x(),0,-1,0,[0,0],C[0],C[1],Z[0],Z[1]],S=v(w,m),z=S[1][0];
w[3]=z;w[4]=S[0][z];w[5][3]=w[6][3]=S[0].indexOf(w[5][1]);w[7][3]=w[8][3]=S[0].indexOf(w[7][1]);if((w[6][3]+1)%3!=w[7][3]){var X=w[5];
w[5]=w[7];w[7]=X;var X=w[6];w[6]=w[8];w[8]=X}for(var $=0;$<4;$++)w[5+$][4]=[1,5,7,3][$];return w}function E(f){var m=f[5],C=f[8],Z=f[6],A=m[0],d=C[0],G=Z[0],r=m[1],X=C[1],w=d[0],S=d[1],z=X[0]-w,s=X[1]-S,M=q.O.EH(w,S,z,s,G[0],G[1],r[0]-G[0],r[1]-G[1]);
return[A[0],A[1],w,S,w+M*z,S+M*s,G[0],G[1]]}function b(f,m){return f[0]==m[0]&&f[1]==m[1]}function l(f){return{1:0,5:1,7:2,3:3}[f]}function i(f,m,C){var Z=m[5+l(f)],A=Z[1],d=Z[0][0]-A[0],G=Z[0][1]-A[1],r=Math.sqrt(d*d+G*G);
d/=r;G/=r;for(var X=0;X<C.length;X++){var w=C[X];if(w[0]!=m[1]&&w[1]!=m[0])continue;for(var $=0;$<4;
$++){var S=w[5+$],z=S[0];if(!b(A,S[1]))continue;var s=z[0]-A[0],M=z[1]-A[1];r=Math.sqrt(s*s+M*M);s/=r;
M/=r;var Q=s*d+M*G;if(Math.abs(Q-1)<1e-7)return!0}}return!1}function F(f,m){q.D.M(f,m);return m}function k(f,m){var C=[];
for(var Z=0;Z<f.length;Z++){var A=f[Z],d=A[1];for(var G=0;G<d.length;G++){if(m&&m[Z].indexOf(G)==-1)continue;
var r=d[G],X=[],w=q.D.LH(E(r),new ha(0,0,1,1));for(var $=1;$<=7;$+=2){X[$]=i($,r,d)}if(!X[1]){if(!X[7])C.push([F(w,[0,0]),Z,G,0]);
C.push([F(w,[.5,0]),Z,G,1])}if(!X[3]){if(!X[1])C.push([F(w,[1,0]),Z,G,2]);C.push([F(w,[1,.5]),Z,G,3])}if(!X[5]){if(!X[3])C.push([F(w,[1,1]),Z,G,4]);
C.push([F(w,[.5,1]),Z,G,5])}if(!X[7]){if(!X[5])C.push([F(w,[0,1]),Z,G,6]);C.push([F(w,[0,.5]),Z,G,7])}}}return C}function U(f){var m=f.length-2,C=0;
for(var $=0;$<m;$+=2)C+=(f[$+2]-f[$])*(f[$+1]+f[$+3]);C+=(f[0]-f[m])*(f[m+1]+f[1]);return-C*.5}function I(f,m,C,Z){}function V(f,$){var m=f[$+2&7]-f[$&7],C=f[$+3&7]-f[$+1&7],Z=1/Math.sqrt(m*m+C*C);
return[m*Z,C*Z]}function u(f){var m=f[2];f[2]=f[6];f[6]=m;var m=f[3];f[3]=f[7];f[7]=m}function N(f,m,C,Z){if(Z==null)Z=0;
var A=m[1],d=E(m),M=null,Q,jV,co,hu,fF,s,il;if(A==0){if(U(d)<0)u(d);var G=6,r=d[7]+d[1];for(var $=0;
$<6;$+=2){var X=d[$+1]+d[$+3];if(X<r){r=X;G=$}}d=d.slice(G).concat(d.slice(0,G));var w=n.Pm.yD(d,C[0],C[1]),S=Math.sqrt(J(d,d.slice(2))),z=Math.sqrt(J(d.slice(4),d.slice(6))),s=(S+z)*.5;
return[d,new ha(0,0,s,s/w)]}for(var $=0;$<f.length&&M==null;$++){Q=f[$][1];for(var O=0;O<Q.length&&M==null;
O++)if(Q[O][0]==A)M=Q[O]}var W=N(f,M,C,Z+1),e9=W[0];W=W[1];for(var $=0;$<8;$+=2){var dz=e9[$&7],eh=e9[$+1&7],a9=e9[$+2&7],kB=e9[$+3&7];
for(var O=0;O<8;O+=2){var dc=d[O],eT=d[O+1],fv=d[O+2&7],jS=d[O+3&7],cx=Math.abs(q.O.eT(dz,eh,a9,kB,dc,eT))+Math.abs(q.O.eT(dz,eh,a9,kB,fv,jS));
if(cx<=30){jV=O;co=$}}}var bX=V(e9,co),gi=V(d,jV),cM=bX[0]-gi[0],ea=bX[1]-gi[1],a1=cM*cM+ea*ea;if(a1<.001){u(d);
jV={0:6,2:4,4:2,6:0}[jV]}while(jV!=(co+4&7)){d.unshift(d.pop());jV=jV+1&7}var w=n.Pm.yD(d,C[0],C[1]),db=q.D.LH(e9,W);
db=q.D.Mr(db);var d2=[d[jV],d[jV+1],d[jV+2&7],d[jV+3&7]];q.D.M(db,d2);var f4=q.O.Cg(d2);if(co==0||co==4){s=f4.m;
il=s/w;hu=f4.x;fF=f4.y+(co==0?-il:0)}else{il=f4.e;s=il*w;fF=f4.y;hu=f4.x+(co==6?-s:0)}return[d,new ha(hu,fF,s,il)]}function e(f,m){function C(z,s,M,Q){var O=F(z,[s,M]);
O.push(Q);return O}var Z=[];for(var A=0;A<f.length;A++){var d=f[A],G=d[1];for(var r=0;r<G.length;r++){var X=G[r],w=N(f,X,m),S=w[0],z=q.D.LH(S,new ha(0,0,1,1));
Z.push(C(z,.5,0,1));Z.push(C(z,1,.5,3));Z.push(C(z,.5,1,5));Z.push(C(z,0,.5,7));Z.push(C(z,.5,.5,[w?(w[1].m/w[1].e).toFixed(2):""].join(", ")))}}return Z}function B(f,m,C,Z){var A=[m],d=[m];
while(!0){var G=[];for(var $=0;$<f.length;$++){var r=f[$],X=!1;for(var w=0;w<A.length;w++){if(r[1]==f[A[w]][0]||r[0]==f[A[w]][1])G.push($)}}var S=A.length;
for(var $=0;$<G.length;$++){var z=G[$],r=f[z];if(d.indexOf(z)!=-1)continue;d.push(z);var s=N([[10,f]],r,Z);
if(s[1].$G(C))A.push(z)}if(S==A.length)break}return A}function j(f,m,C){var Z=C[0],A=C[1],d=m.x-f[0],G=m.y-f[1],r=q.O.EH(f[0],f[1],d,G,A[0],A[1],Z[0]-A[0],Z[1]-A[1]);
return[f[0]+r*d,f[1]+r*G]}function T(f,m,C){f=JSON.parse(JSON.stringify(f));var Z=f[m[1]][1][m[2]],A=m[3]>=8,d=m[3]&7;
if((d&1)==0)return f;var G=l(d);if(d==1||d==7){var r=Z[5+G],X=Z[5+2-G],w=Z[5+(d==1?3:1)],S=Z[5+(d==1?1:3)],z=r[1],s=j(z,C,X);
if(!A&&J(s,X[1])<J(S[0],X[1]))return f;r[0]=X[0]=s;w[0]=j(z,C,w)}else{var w=Z[5+G],z=w[1],r=Z[5+(d==3?0:2)],s=j(z,C,r);
if(!A&&J(s,r[1])>J(r[0],r[1]))return f;if(Math.sign(r[1][0]-r[0][0])!=Math.sign(r[1][0]-s[0]))return f;
w[0]=s}return f}function a(f,m,C){var Z=m[0]-f[0],A=m[1]-f[1],d=q.O.EH(C[0],C[1],-A,Z,f[0],f[1],Z,A);
return[C[0]-A*d,C[1]+Z*d]}function P(f,m,C){var Z=C[0],A=C[1],F=a(f,m,C),d=F[0],G=F[1],r=a(f,C,m),X=q.O.EH(d,G,Z-d,A-G,m[0],m[1],r[0]-m[0],r[1]-m[1]);
return[d+(Z-d)*X,G+(A-G)*X]}function v(f,m){var C=f[5][1],Z=f[7][1],A=P(C,Z,m),d=[C,Z,A];d.sort(function(X,w){return X[0]-w[0]});
if(U([d[0][0],d[0][1],d[1][0],d[1][1],d[2][0],d[2][1]])<0){var G=d[1];d[1]=d[2];d[2]=G}var r=[d.indexOf(C),d.indexOf(Z),d.indexOf(A)];
return[d,r]}function R(f,m,C){f=JSON.parse(JSON.stringify(f));var Z=m[1],A=f[Z][1][m[2]],d=m[3];if((d&1)!=1)return f;
var G=v(A,C),r=G[1][2],X=G[0][r],w=JSON.parse(JSON.stringify(A));f[Z][1].push(w);w[0]=x();w[1]=A[0];
w[2]=-10+d;w[3]=r;w[4]=X;if(d==1||d==5){w[7][3]=w[8][3]=r;w[7][1]=w[8][1]=X;if(d==5){w[5][0]=w[7][0]=A[6][0];
w[8][0]=E(A).slice(4,6)}}else{w[5][3]=w[6][3]=r;w[5][1]=w[6][1]=X;if(d==3){w[5][0]=w[7][0]=A[8][0];w[6][0]=E(A).slice(4,6)}}return f}function y(f,m,C){f=JSON.parse(JSON.stringify(f));
var Z=m[1],A=f[Z][1][m[2]],d=A[2]+10,G=d+4&7,r=d==1||d==5,X=A[5+l(r?7:1)][1],w=A[5+l(G)][0],S=A[5+l(d)][0];
A[2]=(r?90:0)+(J(w,X)<J(S,X)?180:0);var z=c(E(A),C);for(var $=5;$<9;$++)A[$]=z[$];return f}function t(f,m,C){var bz=f.length>>1,Z,A=f[2*bz-3]-C,d=f[2*bz-2]-m,G=f[2*bz-1]-C,r=!1,X=0;
for(var $=0;$<bz;$++){Z=d;A=G;d=f[2*$]-m;G=f[2*$+1]-C;if(A==G)continue;r=G>A}for(var $=0;$<bz;$++){Z=d;
A=G;d=f[2*$]-m;G=f[2*$+1]-C;if(A<0&&G<0)continue;if(A>0&&G>0)continue;if(Z<0&&d<0)continue;if(A==G&&Math.min(Z,d)<=0)return!0;
if(A==G)continue;var w=Z+(d-Z)*-A/(G-A);if(w==0)return!0;if(w>0)X++;if(A==0&&r&&G>A)X--;if(A==0&&!r&&G<A)X--;
r=G>A}return(X&1)==1}function g(f,m,C,Z,A){var d=null;for(var G=0;G<f.length;G++){var r=f[G][1];for(var X=0;
X<r.length;X++){var w=E(r[X]);if(t(w,m,C)||A&&A[0]==G&&A[1]==X&&d==null){d=[G,X];if(Z){var S=N(f,r[X],Z),z=q.D.LH(S[0],S[1]),s=[m,C];
z=q.D.Mr(z);q.D.M(z,s);d.push(s)}}}}return d}function H(f,m){for(var C=0;C<f.length;C++){var Z=f[C][1],A=m[C];
if(A.length==0)continue;var d=_(Z,A);for(var G=0;G<Z.length;G++){if(d.indexOf(Z[G][0])!=-1){Z.splice(G,1);
G--}}}for(var C=0;C<f.length;C++)if(f[C][1].length==0){f.splice(C,1);C--}return f}function _(f,m){var C=[];
for(var $=0;$<10;$++)for(var Z=0;Z<f.length;Z++){var A=f[Z];if(m.indexOf(Z)!=-1||C.indexOf(A[1])!=-1)if(C.indexOf(A[0])==-1)C.push(A[0])}return C}function Y(f){var m=D.it(f,0,f.length),C=m.split("\n").slice(1);
function Z(){return parseFloat(C.shift())}function A(){var dc=[Z(),Z()];d(1);return dc}function d(bz){for(var $=0;
$<bz;$++)C.shift()}var G=[],r=Z();for(var X=0;X<r;X++){var w=Z(),S=Z(),z=[];G.push([w,z]);for(var s=0;
s<S;s++){var M=Z(),Q=Z(),O=Z(),W=Z(),e9=A(),jV=[M,Q,O,W,e9];z.push(jV);for(var $=0;$<4;$++){var co=A(),dz=A(),eh=Z()==1,a9=Z(),kB=Z();
jV.push([co,dz,eh,a9,kB])}}}return G}function K(f){function m(S){C.push(S[0],S[1],"")}var C=["tNaF203"];
C.push(f.length);for(var Z=0;Z<f.length;Z++){C.push(f[Z][0]);var A=f[Z][1];C.push(A.length);for(var d=0;
d<A.length;d++){var G=A[d];C.push(G[0],G[1],G[2],G[3]);m(G[4]);for(var $=0;$<4;$++){var r=G[5+$];m(r[0]);
m(r[1]);C.push(r[2]?1:0,r[3],r[4])}}}var X=C.join("\n"),w=new Uint8Array(X.length);D.wZ(w,0,X);return w}return{QE:Y,gO:K,aa9:E,ahZ:c,ER:k,aiw:T,X0:e,a3R:function(f,m){return m&&(m[3]&1)==0&&f[m[1]][1].length==1},bR:function(f,m){return m&&(m[3]&1)==1},KA:N,amn:R,axO:y,amQ:H,IW:_,Pw:g,Xn:B}}();
q.ao6=function(){var x=0,J=0,c=15,b=256;function o(U,I,V,u,N,e){var B=(N-1)*I,j=e*I;return U[j+u]-U[j+V-1]-U[B+u]+U[B+V-1]}var E=Math.round(c/8),l=[];
function i(U,I){for(var V=0;V<I.length;V++){var u=I[V],N=0,e=0,B=U[u.oY],j=B.SJ,T=B.Qh,a=B.ao;for(var P=-c;
P<=c;P++)for(var v=-c;v<=c;v++){var R=v+u.agg,y=P+u.asb;if(v*v+P*P>c*c||R<0||y<0||R>=T||y>=T)continue;
var t=j[y*T+R];N+=v*t;e+=P*t}u.Ue=Math.atan2(e,N)}}function F(U,I,V,u,N){var e=~~(U+.5),B=~~(I+.5);return o(V,u,e-E,e+E,B-E,B+E)}function k(U,I,V,u,N){x=u;
J=N;if(l.length==0){var e=new q.l.ce(16200817),a=8,P=0;function B(e9){var H=e9[0]-e9[2],_=e9[1]-e9[3];
return H*H+_*_}function j(){var e9=0,jV=0;while(e9===0)e9=e.get();while(jV===0)jV=e.get();return Math.sqrt(-2*Math.log(e9))*Math.cos(2*Math.PI*jV)}var T=j,v=[];
while(P!=b){var R=Math.max(-c,Math.min(c,T()*a)),y=Math.max(-c,Math.min(c,T()*a)),t=Math.max(-c,Math.min(c,T()*a)),g=Math.max(-c,Math.min(c,T()*a)),H=R-t,_=y-g,Y=Math.sqrt(H*H+_*_);
if(Y<3||Y>12)continue;l.push(R,y,t,g);P++}}var K=20;for(var f=0;f<I.length;f++){var m=I[f],C=U[m.oY],Z=C.lr,V=C.SJ,u=C.Qh,N=C.ao,A=m.agg,d=m.asb,G=m.Ue,r=Math.cos(G),X=Math.sin(G),w=new Uint8Array(b>>>3);
m.Rx=w;for(var $=0;$<b;$++){var S=$*4,R=l[S+0],y=l[S+1],t=l[S+2],g=l[S+3],z=r*R-X*y,s=X*R+r*y,M=r*t-X*g,Q=X*t+r*g,O=F(A+z,d+s,Z,u,N),W=F(A+M,d+Q,Z,u,N);
w[$>>>3]|=(O<W?0:1)<<($&7)}}}return{a0i:i,aeG:k}}();q.a9F=function(){function x(J,o){var c=[[9]],E=Date.now(),b=[];
for(var l=0;l<J.length;l++){var i=J[l],F=i.lr,k=i.Qh,U=i.ao,u=9,a=1,m=24;if(F==null)continue;var I=new Float32Array(k*U),V=new Uint8Array(k*U),N=u>>>1,e=N>>>1,B=Math.round(u/3);
if(B!=u/3)throw"e";var j=1/(u*u),T=1.2*(u/9);for(var P=N+1;P<U-N;P+=a)for(var v=N+1;v<k-N;v+=a){var R=q.Ij(F,k,v-e,v+e,P-N,P+N)-3*q.Ij(F,k,v-e,v+e,P-N+B,P+N-B),y=q.Ij(F,k,v-N,v+N,P-e,P+e)-3*q.Ij(F,k,v-N+B,v+N-B,P-e,P+e),t=v-N+1,g=v+N-1,H=P-N+1,_=P+N-1,Y=q.Ij(F,k,t,v-1,H,P-1)+q.Ij(F,k,v+1,g,P+1,_)-q.Ij(F,k,v+1,g,H,P-1)-q.Ij(F,k,t,v-1,P+1,_),K=(y*R-.9*Y*(.9*Y))*(j*j);
I[P*k+v]=Math.abs(K);V[P*k+v]=K<0?0:1}var f=k*a;for(var P=m;P<U-m;P+=a)for(var v=m;v<k-m;v+=a){var $=P*k+v,C=I[$];
if(C<16)continue;if(I[$-a]>=C||I[$+a]>=C)continue;if(I[$-f-a]>=C||I[$-f]>=C||I[$-f+a]>=C)continue;if(I[$+f-a]>=C||I[$+f]>=C||I[$+f+a]>=C)continue;
b.push({x:~~(v*i.h1+.5),y:~~(P*i.h1+.5),agg:v,asb:P,oY:l,b:C,a6g:V[$],Rw:T})}}if(o!=null){b.sort(function(S,z){return z.b-S.b});
b=b.slice(0,o)}return b;var Z=[];for(var $=0;$<b.length;$++){var A=!0,d=b[$];for(var G=0;G<b.length;
G++){var r=b[G];if(G!=$&&r.b>d.b&&(r.oY==d.oY+1||r.oY==d.oY-1)){var X=d.x-r.x,w=d.y-r.y;if(X*X+w*w<5){A=!1;
break}}}if(A)Z.push(d)}console.log(b.length,Z.length);return Z}return{aqu:x}}();q.OW={};q.OW.ag9=function(x){var J=x.length,o=q.OW.a6T(x,!1),E=0,b=1;
throw"e";var c=[];for(var $=0;$<J;$++)c[$]=q.OW.atq(o[$]);var l=x[0][1],i=q.OW.match(o[E],o[b],c[b]);
console.log(i.length);var F=Math.max(Math.min(i.length,40),i.length*.54);F=Math.min(F,200);var k=i.slice(0,F),U=q.IT.afG(o[E],o[b],k,l.m,l.e),I=q.IT.a1b(U,[0,0,0],1),V=l.m/2,u=l.e/2,N=1/Math.max(V,u);
for(var $=0;$<1;$++){var e=k[$],B=o[E][e[0]],j=o[b][e[1]],T=q.IT.apD(I,N*(B.x-V),N*(B.y-u),N*(j.x-V),N*(j.y-u))}var a=q.IT.afI(U,l),P=[];
for(var $=0;$<2;$++){var v=a[$],R=[v[0][0],v[0][1],v[0][2],v[1][0],v[1][1],v[1][2],v[2][0],v[2][1]],y=n.Y.$v(x[$],null,R);
P.push([y.buffer,y.rect])}return[q.OW.azv(P[0],P[1],o[E],o[b],k,U,a,l)]};q.OW.uP=function(x,J){var o=x.length,c=!1,E=Date.now(),b=q.OW.a6T(x,!1,1e4);
if(c)console.log("Descriptors ready",Date.now()-E);E=Date.now();for(var $=0;$<o;$++){var l=x[$][1];for(var i=0;
i<b[$].length;i++){b[$][i].x+=l.x;b[$][i].y+=l.y}}if(c)console.log("shifted",Date.now()-E);E=Date.now();
var F=[];for(var $=0;$<o;$++)F[$]=q.OW.atq(b[$]);if(c)console.log("trees built",Date.now()-E);E=Date.now();
var k=[];for(var $=0;$<o-1;$++)for(var i=$+1;i<o;i++){var U=q.OW.match(b[$],b[i],F[i]);if(c)console.log("Matches found",$,i,U.length);
U=U.slice(0,U.length>>>1);if(U.length<10)continue;var I=q.OW.al7(b[$],b[i],U,2);k.push([$,i,U,I])}k.sort(function(g,H){return H[2].length-g[2].length});
if(c)console.log("Matches found",Date.now()-E);E=Date.now();var V=[],u=new UnionFind(o);for(var $=0;
$<k.length;$++){var N=k[$],e=u.find(N[0]),B=u.find(N[1]);if(e!=B){V.push(N);u.link(e,B)}}var j=[];for(var $=0;
$<o;$++)j[$]=[1,0,0,0,1,0,0,0];var T=[0],a=new Uint8Array(o);a[T[0]]=1;while(T.length!=0){var B=T.pop(),I=j[B],P=[];
for(var $=0;$<V.length;$++){var N=V[$],v=N[0],R=N[1];if(v==B&&a[R]==0){j[R]=q.D.hf(I,N[3]);T.push(R);
a[R]=1}if(R==B&&a[v]==0){j[v]=q.D.hf(I,q.D.Mr(N[3]));T.push(v);a[v]=1}}}if(J==null){var y=[];for(var $=0;
$<o;$++)y.push([j[$][2],$]);y.sort(function(g,H){return g[0]-H[0]});J=y[y.length>>>1][1]}var t=q.D.Mr(j[J]);
for(var $=0;$<o;$++)j[$]=q.D.hf(j[$],t);if(c)console.log("Transforms reordered",Date.now()-E);E=Date.now();
return j};q.OW.a6T=function(x,J,o){var c=[],E=!1;for(var $=0;$<x.length;$++){var b=x[$][0],l=x[$][1],i=l.m,F=l.e,k=q.R(l.P());
q.Sk(b,k);var U=Date.now(),I=q.OW.av7(k,l,!0);if(E)console.log("Pyramid built ---------------",Date.now()-U);
U=Date.now();var V=q.a9F.aqu(I,o);if(E)console.log("SURF Generation",Date.now()-U);U=Date.now();if(!J){q.ao6.a0i(I,V);
if(E)console.log("ORB Orientations",Date.now()-U);U=Date.now();q.ao6.aeG(I,V,k,i,F);if(E)console.log("ORB Descriptors",Date.now()-U);
U=Date.now()}c.push(V)}return c};q.OW.av7=function(x,J,o){var c=[],E=[x,J];q.PF(E);if(o){var b=q.Tr(x,J),l=b.rect,i=[b.tM,l];
q.PF(i)}for(var $=0;$<E.length;$++){var F=E[2*$],k=E[2*$+1],U=k.m,I=k.e,V=Math.min(U,I);if(V<30)break;
if(V<1600)c.push({SJ:F,Qh:U,ao:I,h1:1<<$,lr:q.I3(F,U,I)});if(!o)continue;var F=i[2*$],k=i[2*$+1],U=k.m,I=k.e,V=Math.min(U,I);
if(V<30)break;if(V<1600)c.push({SJ:F,Qh:U,ao:I,h1:(1<<$)*3/2,lr:q.I3(F,U,I)})}return c};q.OW.al7=function(x,J,o,c){var E=Date.now(),b,l=0,i=0,F=o.length,k=new Float64Array(2);
for(var U=0;U<3e3;U++){var I=~~(Math.random()*F),V=~~(Math.random()*F),u=~~(Math.random()*F),N=~~(Math.random()*F),f=0,m=0;
if(I==V||I==u||I==N||V==u||V==N||u==N)continue;var e=o[I],B=o[V],j=o[u],T=o[N],a=x[e[0]],P=J[e[1]],v=x[B[0]],R=J[B[1]],y=x[j[0]],t=J[j[1]],g=x[T[0]],H=J[T[1]],_=[a.x,a.y,v.x,v.y,y.x,y.y,g.x,g.y],Y=[P.x,P.y,R.x,R.y,t.x,t.y,H.x,H.y],K=q.D.aan(_,Y);
if(K[0]==0&&K[1]==0&&K[3]==0&&K[4]==0)continue;var C=F-l+2;for(var $=0;$<F&&$-f<C;$++){var Z=x[o[$][0]],A=J[o[$][1]];
q.D.vH(A.x,A.y,K,k);var d=k[0]-Z.x,G=k[1]-Z.y,r=d*d+G*G;if(r<c){f++;m+=r}}if(f>l||f==l&&m<i){b=K;l=f;
i=m}}return b};var a4=new Uint8Array(256);for(var $=0;$<256;$++){var gN=0,bz=$;while(bz!=0){bz=bz&bz-1;
gN++}a4[$]=gN}q.OW.ay7=function(x,J,o){var c=0,E=x.length;for(var $=0;$<E&&c<o;$++)c+=a4[x[$]^J[$]];
return c};q.OW.aDh=function(x,J,o,top,c){if(c[o]==1)return;var E=q.OW.ay7(x.Rx,J.Rx,top[0]);if(E<top[0]){if(E<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=E;top[3]=o}else{top[0]=E;top[1]=o}}c[o]=1};q.OW.atq=function(x){var J=[],o=[],c=[[],[]],E=4;
for(var $=0;$<x.length;$++)(x[$].a6g==0?J:o).push($);for(var b=0;b<2;b++){var l=new Array(E),i=[],F=b==0?J:o,k=F.length/256,U=[];
for(var I=0;I<32;I++){var V=new Array(256),e=0;for(var u=0;u<256;u++)V[u]=[];for(var u=0;u<F.length;
u++){var N=F[u];V[x[N].Rx[I]].push(N)}for(var u=0;u<256;u++)e+=Math.abs(V[u].length-k);U.push([e,I,V])}U.sort(function(B,j){return B[0]-j[0]});
var i=[],l=[];c[b]=[i,l];for(var $=0;$<E;$++){i.push(U[$][1]);l.push(U[$][2])}}return c};q.OW.match=function(x,J,o){var c=[],E=new Uint16Array(J.length);
E.fill(65535);var b=new Uint8Array(J.length),top=new Uint32Array(4),l=[];for(var i=0;i<x.length;i++){var F=x[i],k=F.Rx;
top.fill(1e6);b.fill(0);var U=o[F.a6g];for(var I=0;I<U[1].length;I++){var V=U[1][I][k[U[0][I]]];for(var u=0;
u<V.length;u++){var N=V[u];q.OW.aDh(F,J[N],N,top,b)}}if(top[2]<50&&top[2]<top[0]*.5){var e=E[top[3]];
if(e==65535){E[top[3]]=c.length;c.push([i,top[3],top[2]])}else if(top[2]<c[e][2]){c[e]=[i,top[3],top[2]]}}}c.sort(function(B,j){return B[2]-j[2]});
return c};q.OW.aiB=function(x){var J=new ha;for(var $=0;$<x.length;$++)J=J.k7(x[$][1]);var o=q.R(J.P()*4);
for(var $=0;$<x.length;$++)q.l.j6("norm",x[$][0],x[$][1],o,J,J,1);return[o,J]};q.OW.azv=function(x,J,o,c,E,b,l,i){var F=x[1].clone(),k=F.clone();
F.x=F.y=0;var U=J[1].clone(),I=U.clone();U.x=U.y=0;U.x=F.m;var V=F.k7(U),u=I.y-k.y,N=q.R(V.P()*4);q.St(x[0],F,N,V);
q.St(J[0],new ha(U.x,U.y+u,U.m,U.e),N,V);var e=document.createElement("canvas");e.width=V.m;e.height=V.e;
var B=e.getContext("2d");B.lineWidth=.5;B.putImageData(new ImageData(new Uint8ClampedArray(N.buffer),V.m,V.e),0,0);
if(b){var j=b[0],T=q.ng.NB(j),a=F.m,P=i.m;for(var $=0;$<E.length;$++){var v=E[$],x=o[v[0]],J=c[v[1]];
B.strokeStyle="#"+"ff0000";B.beginPath();var R=q.IT.adA(T,l[0],J,0,P),y=q.IT.adA(j,l[1],x,0,P);B.moveTo(-k.x+R[0],-k.y+R[1]);
B.lineTo(-k.x+R[2],-k.y+R[3]);B.moveTo(a-I.x+y[0],-I.y+u+y[1]);B.lineTo(a-I.x+y[2],-I.y+u+y[3]);B.stroke()}}if(E){var t=E.length;
for(var $=0;$<t;$++){var v=E[$],x=o[v[0]],J=c[v[1]];B.strokeStyle="#"+"ffff00"}}var g=new Uint8Array(B.getImageData(0,0,V.m,V.e).data.buffer);
if(!1){for(var H=0;H<2;H++){var _=H==0?o:c,Y=H*F.m;for(var $=0;$<_.length;$++){var K=_[$],f=~~K.x,m=~~K.y,C=(m*V.m+f+Y)*4;
g[C+1]=g[C+2]=K.a71*60;g[C+0]=0;g[C+3]=255}}}return[g,V]};q.stack={};q.stack.stack=function(x,J,o){var c=x.length,E=J.length;
if(c==1){J.set(x[0]);return}if(o=="avrg"||o=="stdv"||o=="summ"||o=="vari"){var b=1/c;for(var $=0;$<E;
$++){var l=0;for(var i=0;i<c;i++)l+=x[i][$];var F=~~(l*b+.5);if(o=="avrg"||($&3)==3)J[$]=F;else if(o=="summ")J[$]=255*Math.pow(Math.min(255,l)*(1/255),1/2.4);
else{var k=0;for(var i=0;i<c;i++){var U=x[i][$]-F;k+=U*U}var I=Math.sqrt(k*b)*(1/255);if(o=="stdv")J[$]=255*Math.pow(I,1/2.4);
else J[$]=255*Math.pow(I*I,1/2.4)}}}else if(o=="maxx"){for(var $=0;$<E;$++){var V=0;for(var i=0;i<c;
i++)V=Math.max(V,x[i][$]);J[$]=V}}else if(o=="minn"){for(var $=0;$<E;$++){var V=255;for(var i=0;i<c;
i++)V=Math.min(V,x[i][$]);J[$]=V}}else if(o=="medn"||o=="rang"){var u=function(j,T){return j-T},N=new Array(c),e=0,B=0;
if((c&1)==0){B=c>>>1;e=B-1}else{e=B=c>>>1}for(var $=0;$<E;$++){for(var i=0;i<c;i++)N[i]=x[i][$];N.sort(u);
if(o=="medn")J[$]=N[e]+N[B]>>>1;else J[$]=($&3)==3?N[c-1]:N[c-1]-N[0]}}else console.log(o)};q.lY={};
q.lY.adI=function(x,J,o,c){var E=Date.now(),b=new Uint32Array(J*o),l=new Uint8Array(J*o);while(!0){l.fill(0);
b.fill(0);var i=[],F=0;for(var k=0;k<o;k++){for(var U=0;U<J;U++){var $=k*J+U;if(l[$]==0){var I=i.length,V=q.lY.Br(x,J,o,U,k,l,b,I);
i.push([I,U,k,V[0],V[1],x[$]]);if(V[0]<c)F++}}}if(F==0)break;var u=i.length,N=new UnionFind(u),e=[];
for(var $=0;$<u;$++)e.push([]);for(var $=0;$<u;$++){var V=i[$],B=V[4],j=0,T=0;if(V[3]>=c)continue;var I=V[0];
for(var a=0;a<B.length;a+=2){var P=b[B[a+1]*J+B[a]],v=i[P];if(v[3]>T){T=v[3];j=P}}if(N.find(I)!=N.find(j)){N.link(I,j);
e[I].push(j);e[j].push(I)}}var R=new Uint32Array(u);R.fill(4294967295);var y=new Uint32Array(u);for(var $=0;
$<u;$++){if(R[$]!=4294967295||e[$].length==0)continue;var t=[$],g=[$],H=$,_=i[$][3];while(g.length!=0){var Y=g.pop(),K=e[Y];
for(var a=0;a<K.length;a++){var f=K[a];if(t.indexOf(f)==-1){t.push(f);g.push(f);var m=i[f];if(m[3]>_){_=m[3];
H=f}}}}for(var a=0;a<t.length;a++){R[t[a]]=H;var C=i[H];y[t[a]]=x[C[2]*J+C[1]]}}for(var k=0;k<o;k++)for(var U=0;
U<J;U++){var $=k*J+U,Z=R[b[$]];if(Z!=4294967295)x[$]=y[Z]}}};q.lY.Br=function(x,J,o,c,E,b,l,i){var F=[c,E],k=x[E*J+c],U=0,I=[];
b[E*J+c]=1;while(F.length!=0){var V=F.pop(),u=F.pop(),$=V*J+u;l[$]=i;U++;if(V!=o-1)if(x[$+J]==k){if(b[$+J]==0){F.push(u,V+1);
b[$+J]=1}}else I.push(u,V+1);if(V!=0)if(x[$-J]==k){if(b[$-J]==0){F.push(u,V-1);b[$-J]=1}}else I.push(u,V-1);
if(u!=J-1)if(x[$+1]==k){if(b[$+1]==0){F.push(u+1,V);b[$+1]=1}}else I.push(u+1,V);if(u!=0)if(x[$-1]==k){if(b[$-1]==0){F.push(u-1,V);
b[$-1]=1}}else I.push(u-1,V)}return[U,I]};q.lY.adX=function(x,J,o,c,E){var b=q.lY.as4(x.buffer,J,o).d_,l=Date.now(),i=[];
for(var $=0;$<b.length;$++){var F=b[$],k=1;for(var U=0;U<k;U++)i.push(F.xt)}var I=new Uint32Array(i),V=UPNG.quantize.getKDtree(new Uint8Array(I.buffer),c),u=[J,1,-J,-1,J+1,-J+1,-J-1,J-1,J+J,2,-J-J,-2,J+J-1,J+J+1,J+2,-J+2,-J-J+1,-J-J-1,-J-2,J-2,J+J+2,-J-J+2-J-J-2,J+J-2],N=new Uint8Array(J*o),e=x;
for(var B=0;B<o;B++)for(var j=0;j<J;j++){var $=B*J+j<<2,T=e[$]*(1/255),a=e[$+1]*(1/255),P=e[$+2]*(1/255),v=e[$+3]*(1/255),R=q.lY.kt(V,T,a,P,v,E);
if(R==null){var y=[],t=0;while(t<20){var g=B*J+j+u[t]<<2,H=e[g]*(1/255),_=e[g+1]*(1/255),Y=e[g+2]*(1/255),K=e[g+3]*(1/255),f=q.lY.kt(V,H,_,Y,K,.005);
if(f!=null){if(y.indexOf(f)==-1){y.push(f);f.u6=1}else f.u6++}t++}y.sort(function(v,P){return P.u6-v.u6});
while(y.length!=0&&y[y.length-1].u6<3)y.pop();if(y.length==0)R=q.lY.kt(V,T,a,P,v,100);else if(y.length==1)R=y[0];
else if(y.length==2){var m=y[0],C=y[1],Z=m.est.q,A=C.est.q,d=A[0]-Z[0],G=A[1]-Z[1],r=A[2]-Z[2],X=A[3]-Z[3],w=T-Z[0],S=a-Z[1],z=P-Z[2],s=v-Z[3],M=d*d+G*G+r*r+X*X,Q=w*w+S*S+z*z+s*s,O=(w*d+S*G+z*r+s*X)/M,W=Q-O*O*M;
if(W<.5)R=O<.5?m:C;else{R=q.lY.kt(V,T,a,P,v,100)}}else{var m=y[0],C=y[1],e9=y[2],Z=m.est.q,A=C.est.q,jV=e9.est.q,co=Z[0]-jV[0],dz=Z[1]-jV[1],eh=Z[2]-jV[2],a9=Z[3]-jV[3],kB=A[0]-jV[0],dc=A[1]-jV[1],eT=A[2]-jV[2],fv=A[3]-jV[3],jS=jV[0]-T,cx=jV[1]-a,bX=jV[2]-P,gi=jV[3]-v,cM=co*co+dz*dz+eh*eh+a9*a9,ea=co*kB+dz*dc+eh*eT+a9*fv,a1=jS*co+cx*dz+bX*eh+gi*a9,db=co*kB+dz*dc+eh*eT+a9*fv,d2=kB*kB+dc*dc+eT*eT+fv*fv,hu=jS*kB+cx*dc+bX*eT+gi*fv,fF=1/(ea*db-cM*d2),O=(d2*a1-hu*ea)*fF,il=(hu*cM-a1*db)*fF,f4=1-O-il,aK=Math.max(O,il,f4);
if(aK==O)R=m;else if(aK==il)R=C;else R=e9}}N[$>>2]=R.ind}return{qz:N,d_:V[1]}};q.lY.as4=function(x,J,o){var c=[],E={},b=J-1,l=o-1,i=0,F=new Uint32Array(x),k=[-J-1,-J,-J+1,-1,1,J-1,J,J+1,J+J,2,-J-J,-2,J+J-1,J+J+1,J+2,-J+2,-J-J+1,-J-J-1,-J-2,J-2,J+J+2,-J-J+2-J-J-2,J+J-2];
for(var U=1;U<l;U++)for(var I=1;I<b;I++){var V=U*J+I,u=F[V],N=!0;for(var $=0;$<8;$++)N=N&&F[V+k[$]]==u;
if(N){i++;var e=E[u];if(e==null){E[u]=c.length;c.push({xt:u,V7:1})}else c[e].V7++}}return{d_:c,auk:i}};
q.lY.kt=function(x,J,o,c,E,b){var l=UPNG.quantize.getNearest(x[0],J,o,c,E);return q.lY.azG(l,J,o,c,E)<b?l:null};
q.lY.azG=function(x,J,o,c,E){var b=x.est.q,l=J-b[0],i=o-b[1],F=c-b[2],k=E-b[3];return l*l+i*i+F*F+k*k};
(function(){q.lY.vU=function(i,F,k,U,I){var V=i.Pv,u=F*k,N=i.es,e=i.qz,B=c(U,e,V,u),j=new UnionFind(V),y=0;
for(var T=1;T<k;T++)for(var a=1;a<F;a++){var $=T*F+a,P=e[$],v=0;if((v=e[$-1])!=P&&B[v]==B[P]&&x(N,0,P*6,v*6)<I)j.link(P,v);
if((v=e[$-F])!=P&&B[v]==B[P]&&x(N,0,P*6,v*6)<I)j.link(P,v)}var R=new Uint16Array(V);R.fill(65535);var t=new Uint16Array(V);
for(var $=0;$<V;$++){var g=j.find($);if(R[g]==65535)R[g]=y++;t[$]=R[g]}var H=new Uint16Array(u);for(var $=0;
$<u;$++)H[$]=t[e[$]];return{qz:H,Pv:y}};q.lY.Q0=function(i,F,k){var U=q.R(F),I=i.length;for(var $=0;
$<I;$++){var V=k[$];if(V==0||V==255){var u=i[$],N=2-(V>>>7),e=U[u]=U[u]|N;if(e==3)return u}}return-1};
function x(i,F,k,U){var I=1/i[k+5],V=1/i[U+5],u=i[k]*I-i[U]*V,N=i[k+1]*I-i[U+1]*V,e=i[k+2]*I-i[U+2]*V,B=i[k+3]*I-i[U+3]*V,j=i[k+4]*I-i[U+4]*V,T=Math.sqrt(u*u+N*N+e*e),a=Math.sqrt(B*B+j*j);
return~~(T+F*a+.5)}function J(i,F){var $=0,k=i.length;while($!=k&&i[$]!=F)$+=2;return $==k?-1:$}function o(i,$){if($==i.length-2){i.pop();
i.pop()}else{i[$+1]=i.pop();i[$]=i.pop()}}q.lY.azU=function(i,F,k,U,I){var V=new Uint32Array(I*4400),u=[];
for(var $=0;$<I;$++)u.push([]);for(var N=0;N<k;N++)for(var e=0;e<F;e++){var $=N*F+e,B=$<<2,j=U[$],T=0,a=i[B]>>>4,P=i[B+1]>>>4,v=i[B+2]>>>4;
V[j*4400+(a<<8|P<<4|v)]++;V[j*4400+4096]++;V[j*4400+4100+(a<<4|P)]++;V[j*4400+4360+a]++;if(e!=0&&(T=U[$-1])!=j&&J(u[j],T)==-1){u[j].push(T,0);
u[T].push(j,0)}if(N!=0&&(T=U[$-F])!=j&&J(u[j],T)==-1){u[j].push(T,0);u[T].push(j,0)}}for(var $=0;$<I;
$++){var v=u[$];for(var R=0;R<v.length;R+=2)v[R+1]=l(V,$,v[R])}return[V,u]};function c(i,F,k,U){var I=q.R(k);
for(var $=0;$<U;$++){var V=i[$];if(V==0||V==255)I[F[$]]=2-(V>>>7)}return I}q.lY.ah6=function(i,F,k,U,I,V,u){var N=F*k,e=u[0],B=u[1],j=new UnionFind(U),T=c(I,i,U,N),a=-1,P=!0,v=0;
for(var $=0;$<U;$++)if(T[$]==1){if(a==-1)a=$;else j.link($,a)}if(a==-1){for(var $=0;$<N;$++)V[$]=I[$]==255?255:0;
return}while(P){while(P){P=!1;for(var $=0;$<U;$++){if(T[$]==0){var R=E(B[$]);if(T[R]==1){T[$]=T[R];P=!0;
j.link($,R)}}}}P=!0;v=0;while(P){P=!1;for(var $=0;$<U;$++){if(T[$]==0){var R=E(B[$]);if(T[R]==0){var y=$*4400,t=R*4400;
for(var g=0;g<4400;g+=2){e[y+g]+=e[t+g];e[y+g+1]+=e[t+g+1]}b(B,e,$,R);v++;T[R]=3;P=!0;j.link($,R)}}}}P=v!=0}var H=j.find(a);
for(var $=0;$<U;$++)T[$]=j.find($)==H?255:0;for(var $=0;$<N;$++){V[$]=T[i[$]]}for(var $=0;$<N;$++){var R=I[$];
if(R==0||R==255)V[$]=R}};function E(i){var F=0,k=0,U=i.length;for(var I=0;I<U;I+=2){var V=i[I+1];if(V>k){k=V;
F=I}}return i[F]}function b(i,F,k,U){var I=i[k],V=i[U];o(I,J(I,U));o(V,J(V,k));for(var $=0;$<V.length;
$+=2){var u=V[$],N=i[u];o(N,J(N,U));if(J(N,k)==-1){N.push(k,0);I.push(u,0)}}for(var $=0;$<I.length;$+=2){var u=I[$],N=i[u],e=l(F,k,u);
I[$+1]=e;N[J(N,k)+1]=e}}function l(i,F,k){var U=0,I=4096,V=F*4400,u=k*4400;for(var N=0;N<16;N++){if(i[V+4360+N]==0||i[u+4360+N]==0)continue;
for(var e=0;e<16;e++){var B=N<<4|e;if(i[V+4100+B]==0||i[u+4100+B]==0)continue;var j=V+(B<<4),T=u+(B<<4);
for(var $=0;$<16;$++)U+=Math.sqrt(i[j+$]*i[T+$])}}var a=U/Math.sqrt(i[V+I]*i[u+I]);return~~(999.99999*a)}}());
q.lY.HL=function(){var x,J,o,l=0,i=0;function c(u,N,e){var B=[],j=e,T=e,a=e>>>2;for(var P=0;P<N;P++)for(var v=0;
v<u;v++){var R=~~((v+.5)*j),y=~~((P+.5)*T),t=1e9,g=Math.max(0,R-a),H=Math.min(J,R+a+1),_=Math.max(0,y-a),Y=Math.min(o,y+a+1);
for(var K=_;K<Y;K++)for(var f=g;f<H;f++){var m=E(f,K);if(m<t){R=f;y=K;t=m}}B.push(R,y)}return B}function E(u,N){var e=(N*J+u)*4,B=J*4,j=b(e-4,e)+b(e,e+4),T=b(e-B,e)+b(e,e+B);
return j+T}function b(u,N){var e=x[u]-x[N],B=x[u+1]-x[N+1],j=x[u+2]-x[N+2];return e*e+B*B+j*j}function F(u,N,e,B){i++;
if(B<l)l=B;u[B].push(N,e)}function k(u){i--;while(u[l].length==0)l++}function U(u,N,e,B,j){var T=(e*J+N)*4,a=B[j+5],P=1/a,v=x[T]*a-B[j],R=x[T+1]*a-B[j+1],y=x[T+2]*a-B[j+2],t=N*a-B[j+3],g=e*a-B[j+4],H=Math.sqrt(v*v+R*R+y*y),_=Math.sqrt(t*t+g*g);
return~~((H+u*_)*P+.5)}function I(u,N,e,B,j){x=u;J=N;o=e;l=0;i=0;var T=J*o,a=Math.round(Math.min(J,o)/(B?B:30));
if(a==0)a=1;var P=(j?j:30)/a,v=Math.floor(J/a),R=Math.floor(o/a),y=new Uint16Array(T);for(var $=0;$<T;
$++)y[$]=65535;var t=c(v,R,a),g=t.length>>>1;if(g>65535)throw g;var H=new Uint32Array(g*6),_=[];for(var $=0;
$<1e3+o;$++)_.push([]);var Y=1e3*700/(J*o),K=Math.floor(R*Y);K=Math.min(R,Math.max(4,K));var H=new Uint32Array(g*6);
for(var f=0;f<R;f+=K){var m=Math.min(f+K,R);for(var C=f;C<m;C++)for(var Z=0;Z<v;Z++){var $=C*v+Z;F(_,t[$*2+1]<<16|t[$*2],$,0)}var A=Math.min(o,m*a);
if(f+K>=R)A=o;V(H,_,y,P,A)}x=null;return{qz:y,Pv:g,es:H,agh:P}}function V(u,N,e,B,j){while(i!=0){k(N);
var T=N[l].pop(),a=N[l].pop(),P=a>>>16,v=a&65535,$=P*J+v;if(e[$]==null)throw"e";if(e[$]==65535){var R=T*6,y=$<<2;
e[$]=T;u[R]+=x[y];u[R+1]+=x[y+1];u[R+2]+=x[y+2];u[R+3]+=v;u[R+4]+=P;u[R+5]++;if(P!=j-1&&e[$+J]==65535)F(N,P+1<<16|v,T,U(B,v,P+1,u,R));
if(P!=0&&e[$-J]==65535)F(N,P-1<<16|v,T,U(B,v,P-1,u,R));if(v!=0&&e[$-1]==65535)F(N,P<<16|v-1,T,U(B,v-1,P,u,R));
if(v!=J-1&&e[$+1]==65535)F(N,P<<16|v+1,T,U(B,v+1,P,u,R))}}}I.cl=function(u,N,e,B,j,T){x=u;J=N;o=e;var a=B.Pv=B.Pv+1,P=B.qz,v=B.es,R=B.es=new Uint32Array(a*6);
R.set(v,0);var y=P[j[1]*J+j[0]];for(var $=0;$<P.length;$++)if(P[$]==y)P[$]=65535;for(var $=0;$<6;$++)R[y*6+$]=0;
var t=[];for(var $=0;$<1e3+o;$++)t.push([]);for(var $=0;$<j.length;$+=2)F(t,j[$+1]<<16|j[$],y,0);for(var $=0;
$<T.length;$+=2)F(t,T[$+1]<<16|T[$],a-1,0);V(R,t,P,B.agh,o);x=null};return I}();q.ag6={};q.ag6.ap$=function(){var x=11,J=7,o=x>>>1,bz=J>>>1,c=2,E=2e3/c,b=[],i=null,F="";
function l(U,I,V){var u=(U[I+0]-U[V+0])*(1/255),N=(U[I+1]-U[V+1])*(1/255),e=(U[I+2]-U[V+2])*(1/255),B=(U[I+3]-U[V+3])*(1/255),j=u*u*.125+N*N*.25+e*e*.5+B*B;
return b[~~(j*E)]}function k(U,I,V,u,N,e){var B=Date.now(),j=q.R(I*V);q.Sk(U,j);var T=UZIP.adler(j,0,I*V);
if(T!=F){var a=q.I3(j,I,V);i=q.R(I*V*4);F=T;var P=[1,1/9,1/25,1/49,1/81];for(var v=0;v<V;v++)for(var R=0;
R<I;R++)for(var $=0;$<4;$++){var y=Math.max(1,R-$),t=Math.min(I-1,R+$),g=Math.max(1,v-$),H=Math.min(V-1,v+$),_=q.Ij(a,I,y,t,g,H);
if(isNaN(_))throw R+","+v+","+$+","+_;i[(v*I+R)*4+$]=_*P[$]}}if(ai.mB){var Y=ai.PW(0,I,V);Y.set(U);var K=ai.PW(1,I,V);
K.set(i);var f=ai.PW(2,I,V);ai.FW(f);ai.filter.YA({type:ai.filter.av0,VK:new Float32Array([1/I,1/V]),aAs:K.Hp,aB8:N,agl:e},Y.Hp);
f.get(u)}else{for(var $=0;$<2e3;$++)b[$]=Math.exp(-($/2e3)*c*(100+(1-N)*(1-N)*1e4));var m=bz+2;for(var v=m;
v<V-m;v++)for(var R=m;R<I-m;R++){var C=0,Z=0,A=0,d=0;for(var G=0;G<x;G++)for(var r=0;r<x;r++){var X=R+r-o,w=v+G-o;
if(X==R&&w==v||X<m||w<m||X>=I-m||w>=V-m)continue;var S=l(i,(v*I+R)*4,(w*I+X)*4),z=w*I+X<<2;C+=S*U[z+0];
Z+=S*U[z+1];A+=S*U[z+2];d+=S}if(d==0){continue}var s=1/d,M=(v*I+R)*4;u[M+0]=~~((1-e)*s*C+e*u[M+0]);u[M+1]=~~((1-e)*s*Z+e*u[M+1]);
u[M+2]=~~((1-e)*s*A+e*u[M+2])}}}return k}();q.a5_=function(){var x=6,J=x>>>1,o=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],c=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function E(e,B){var j=!1,T=e.length,a=B[0],y=5,g=0,H=0;for(var $=1;$<T;$++)a=a.k7(B[$]);if((a.m&1)!=0)a.m++;
if((a.e&1)!=0)a.e++;var P=a.m,v=a.e,R=Math.max(P,v);while(R>>>y>8&&y<10)y++;var t=1<<y;if(P%t!=0)g=t-P%t;
if(v%t!=0)H=t-v%t;a.wI(g>>>1,H>>>1);P=a.m;v=a.e;if(P%t!=0||v%t!=0)throw"e";var _=Date.now(),Y=[],K=q.R(a.P()),f=[],m=P*v,C=new Float32Array(P*v*2);
for(var $=0;$<T;$++){var Z=B[$],A=q.R(Z.P());q.Sk(e[$],A);K.fill(0);q.zc(A,Z,K,a);Y.push(K.slice(0));
var d=Z.x-a.x,G=Z.y-a.y,r=d+Z.m-2,X=G+Z.e;for(var w=0;w<Z.e;w++){var S=(w+G)*P;for(var z=0;z<d;z++)K[S+z]=K[S+d];
for(var z=r;z<P;z++)K[S+z]=K[S+r-1]}for(var z=0;z<P;z++){for(var w=0;w<G;w++)K[w*P+z]=K[G*P+z];for(var w=X;
w<v;w++)K[w*P+z]=K[(X-1)*P+z]}var s=new Float32Array(P*v*2);f.push(s);for(var M=0;M<m;M++)s[M*2]=K[M]*(1/255);
F(s,C,P,v,y);b(s,P,v,y)}if(j)console.log("to gray, decompose",Date.now()-_);_=Date.now();var Q=q.R(P*v);
for(var w=0;w<v;w++)for(var z=0;z<P;z++){var O=0,W=0,e9=w*P+z<<1;for(var $=0;$<T;$++){var jV=f[$],co=jV[e9],dz=jV[e9+1],eh=co*co+dz*dz;
if(eh>W){W=eh;O=$}}Q[e9>>>1]=O}if(j)console.log("max abs value",Date.now()-_);_=Date.now();l(Q,P,v,y);
i(Q,P,v);if(j)console.log("denoise",Date.now()-_);_=Date.now();var a9=C.slice(0);for(var w=0;w<v;w++)for(var z=0;
z<P;z++){var $=w*P+z,e9=$<<1,kB=f[Q[$]];a9[e9]=kB[e9];a9[e9+1]=kB[e9+1]}k(a9,C,P,v,y);if(j)console.log("compose",Date.now()-_);
_=Date.now();for(var M=0;M<m;M++){var eh=a9[M*2]*255,O=0,W=1e9;for(var $=0;$<T;$++){var dc=Math.abs(Y[$][M]-eh);
if(dc<W){W=dc;O=$}Y[$][M]=0}Y[O][M]=255}if(j)console.log("toRGB",Date.now()-_);_=Date.now();return[Y,a]}function b(e,B,j,T){var a=B>>>T,P=j>>>T,v=1e-4;
for(var R=0;R<j;R++)for(var y=0;y<B;y++){if(y<a&&R<P)continue;var t=(R*B+y)*2,g=e[t],H=e[t+1],_=g*g+H*H;
if(_<v)g=H=0;else{var Y=(_-v)/_;g*=Y;H*=Y}e[t]=g;e[t+1]=H}}function l(e,B,j,T){for(var a=0;a<T;a++){var P=B>>>a,v=j>>>a,R=P>>>1,y=v>>>1;
for(var t=0;t<y;t++)for(var g=0;g<R;g++){var H=t*B+R+g,_=(t+y)*B+R+g,Y=(t+y)*B+g,K=e[H],f=e[_],m=e[Y];
if(K==f==m){}else if(K==f)e[Y]=K;else if(f==m)e[H]=f;else if(K==m)e[_]=K}}}function i(e,B,j){for(var T=1;
T<j-1;T++)for(var a=1;a<B-1;a++){var $=T*B+a,P=e[$-B],v=e[$-1],R=e[$],y=e[$+1],t=e[$+B],g=P==v&&P==y||P==y&&y==t||y==t&&v==t||P==v&&t==v;
if(g)e[$]=P==v?P:v==y?v:P;else if(R>P&&R>v&&R>y&&R>t)e[$]=P+v+y+t>>>2;else if(R<P&&R<v&&R<y&&R<t)e[$]=P+v+y+t>>>2}}function F(e,B,j,T,a){for(var $=0;
$<a;$++){var P=j>>>$,v=T>>>$;U(e,B,j,T,P,v)}}function k(e,B,j,T,a){for(var $=a-1;$>=0;$--){var P=j>>$,v=T>>$;
I(e,B,j,T,P,v)}}function U(e,B,j,T,a,P){u(e,B,j,T,a,P,!0);u(B,e,j,T,a,P,!1)}function I(e,B,j,T,a,P){N(e,B,j,T,a,P,!0);
N(B,e,j,T,a,P,!1)}function V(e,B,j,T,a,P){var v=j*T+B<<1;e[v]=a;e[v+1]=P}function u(e,B,j,T,a,P,v){var gN=v?a:P,R=v?P:a,y=R>>>1;
for(var t=0;t<gN;t++){for(var g=0;g<R;g+=2){var H=0,_=0,Y=0,K=0,f=g>>>1;for(var m=0;m<6;m++){var C=g+m-3;
if(C<0)C=R+C;if(C>=R)C=C-R;var Z=(v?C*j+t:t*j+C)<<1,A=e[Z],d=e[Z+1],G=o[m],r=c[m];H+=A*G[0]-d*G[1];_+=d*G[0]+A*G[1];
Y+=A*r[0]-d*r[1];K+=d*r[0]+A*r[1]}if(v){V(B,t,f,j,H,_);V(B,t,f+y,j,Y,K)}else{V(B,f,t,j,H,_);V(B,f+y,t,j,Y,K)}}}}function N(e,B,j,T,a,P,v){var gN=v?a:P,R=v?P:a,y=R>>>1,t,g,H,_;
for(var Y=0;Y<gN;Y++){for(var K=0;K<R;K++){var f=0,m=0;for(var C=K+3&1;C<6;C+=2){var Z=K-C+3>>1;if(Z<0)Z=y+Z;
if(Z>=y)Z=Z-y;if(v){t=Y;g=Z;H=Y;_=Z+y}else{g=Y;t=Z;_=Y;H=Z+y}var A=g*j+t<<1,d=_*j+H<<1,G=e[A],r=e[A+1],X=e[d],w=e[d+1],S=o[C],z=c[C];
f+=G*S[0]+X*z[0];f+=r*S[1]+w*z[1];m+=r*S[0]+w*z[0];m-=G*S[1]+X*z[1]}if(v)V(B,Y,K,j,f,m);else V(B,K,Y,j,f,m)}}}return{Pl:E}}();
var fE=function(){function x(){this.P=0;this.ET=0;this.pk={};this.G5=[];this.Sh=1e5;this.An=1e5;this.rI=-1;
this.AW=-1;this.color=0}function J(bz){this.lH=bz;this.xc=new Array(bz);this.xt=new Array(bz*6);this.az2=0;
this.wu=new Array(bz*2);this.alpha=new Array(bz);this.Ll=new Array(bz);this.KC=new Array(bz)}function o(E,b,l,i){function F(B,j,E,b){return E[b*j+B]}function k($){var y=E.length;
while($<y&&E[$]==0)$++;return $<y?$:-1}function U(B,j,y){for(var $=2;$<5;$++){var t=0;for(var g=-$+1;
g<=$-1;g++){t+=F(B+g,j+$-1,E,b)==y?1:-1;t+=F(B+$-1,j+g-1,E,b)==y?1:-1;t+=F(B+g-1,j-$,E,b)==y?1:-1;t+=F(B-$,j+g,E,b)==y?1:-1}if(t>0)return 1;
else if(t<0)return 0}return 0}function I(y,N){var e=new x,B=y,j=N,t=0,g=1,H;e.color=E[N*b+y];e.sign=F(y,N,E,b)==e.color?"+":"-";
while(1){e.G5.push(B,j);if(B>e.rI)e.rI=B;if(B<e.Sh)e.Sh=B;if(j>e.AW)e.AW=j;if(j<e.An)e.An=j;e.ET++;B+=t;
j+=g;e.P-=B*g;if(B==y&&j==N)break;var _=F(B+(t+g-1>>1),j+(g-t-1>>1),E,b)==e.color,Y=F(B+(t-g-1>>1),j+(g+t-1>>1),E,b)==e.color;
if(Y&&!_){if(i.Sw=="right"||i.Sw=="black"&&e.sign=="+"||i.Sw=="white"&&e.sign=="-"||i.Sw=="majority"&&U(B,j,e.color)||i.Sw=="minority"&&!U(B,j,e.color)){H=t;
t=-g;g=H}else{H=t;t=g;g=-H}}else if(Y){H=t;t=-g;g=H}else if(!_){H=t;t=g;g=-H}}return e}var V=0,u=[];
while(!0){var V=k(V);if(V==-1)break;var N=Math.floor(V/b),e=I(V-N*b,N);for(var $=0;$<e.G5.length-2;$+=2){var B=e.G5[$],j=e.G5[$+1],T=j*b+B;
if(B==e.G5[$+2]&&j+1==e.G5[$+3]&&E[T]!=0)fE.fill(T,E,b,0)}if(e.P>i.a1U)u.push(e)}for(var $=0;$<u.length;
$++)u[$].parent=-1;var a=Date.now();for(var $=1;$<u.length;$++){var P=u[$];for(var v=$-1;v>=0;v--){var R=u[v];
if(P.Sh<R.Sh||P.rI>R.rI||P.An<R.An||P.AW>R.AW)continue;if(!fE.GY(R.G5,P.G5[0]+.5,P.G5[1]+.5))continue;
P.parent=v;break}}return u}function c(E,b){function l(t,g,H,_,Y){this.x=t;this.y=g;this.FK=H;this.fg=_;
this.k0=Y}function i(t,bz){return(bz+t)%bz}function F(t,g,H,_){return t*_-H*g}function k(t,g,H,_){return t*H+g*_}function U(t,g,H){if(t<=H)return t<=g&&g<H;
else return t<=g||g<H}function I(t,g,H){var _=0;_+=g*t[0]*g;_+=g*t[1]*H;_+=g*t[2];_+=H*t[3]*g;_+=H*t[4]*H;
_+=H*t[5];_+=t[6]*g;_+=t[7]*H;_+=t[8];return _}function V(t,g,H){return g+t*(H-g)}function u(t,g,H,_){var Y=Math.sign(H-t),K=-Math.sign(_-g);
return Y*(H-t)-K*(_-g)}function N(t,g){return Math.sqrt(t*t+g*g)}function e(t,g,H,_,Y){var K=1-t;return K*K*K*g+3*(K*K*t)*H+3*(t*t*K)*_+t*t*t*Y}function B(t,g,H,_,Y,K,f,m){var C=F(t,g,f,m),Z=F(H,_,f,m),A=F(Y,K,f,m),d=C-2*Z+A,G=-2*C+2*Z,r=C,X=G*G-4*d*r;
if(d==0||X<0)return-1;var w=Math.sqrt(X),S=(-G+w)/(2*d),z=(-G-w)/(2*d);if(S>=0&&S<=1)return S;else if(z>=0&&z<=1)return z;
else return-1}function j(y){var $,t,g;y.Z7=y.G5[0];y.aoG=y.G5[1];y.jo=[];var H=y.jo;H.push(new l(0,0,0,0,0));
for($=0;$<y.ET;$++){t=y.G5[$<<1]-y.Z7;g=y.G5[($<<1)+1]-y.aoG;H.push(new l(H[$].x+t,H[$].y+g,H[$].FK+t*g,H[$].fg+t*t,H[$].k0+g*g))}}function T(y){var bz=y.ET,t=y.G5,g,H=new Array(bz),_=new Array(bz),Y=new Array(4),K,f,m,C,Z,A,d,G,r,X,w,$,S,z,s,M,Q,O,W=0;
y.lo=new Array(bz);for($=bz-1;$>=0;$--){if(t[$<<1]!=t[W<<1]&&t[($<<1)+1]!=t[(W<<1)+1])W=$+1;_[$]=W}for($=bz-1;
$>=0;$--){var e9=i($+1,bz)<<1;Y[0]=Y[1]=Y[2]=Y[3]=0;g=(3+3*(t[e9]-t[$<<1])+(t[e9+1]-t[($<<1)+1]))/2;
Y[g]++;K=0;f=0;m=0;C=0;W=_[$];z=$;while(1){w=0;g=(3+3*Math.sign(t[W*2]-t[z*2])+Math.sign(t[W*2+1]-t[z*2+1]))/2;
Y[g]++;if(Y[0]&&Y[1]&&Y[2]&&Y[3]){H[$]=z;w=1;break}r=t[W*2]-t[$*2];X=t[W*2+1]-t[$*2+1];if(F(K,f,r,X)<0||F(m,C,r,X)>0){break}if(Math.abs(r)<=1&&Math.abs(X)<=1){}else{Z=r+(X>=0&&(X>0||r<0)?1:-1);
A=X+(r<=0&&(r<0||X<0)?1:-1);if(F(K,f,Z,A)>=0){K=Z;f=A}Z=r+(X<=0&&(X<0||r<0)?1:-1);A=X+(r>=0&&(r>0||X<0)?1:-1);
if(F(m,C,Z,A)<=0){m=Z;C=A}}z=W;W=_[z];if(!U(W,$,z)){break}}if(w==0){d=Math.sign(t[W*2]-t[z*2]);G=Math.sign(t[W*2+1]-t[z*2+1]);
r=t[z*2]-t[$*2];X=t[z*2+1]-t[$*2+1];s=F(K,f,r,X);M=F(K,f,d,G);Q=F(m,C,r,X);O=F(m,C,d,G);S=1e7;if(M<0){S=Math.floor(s/-M)}if(O>0){S=Math.min(S,Math.floor(-Q/O))}H[$]=i(z+S,bz)}}S=H[bz-1];
y.lo[bz-1]=S;for($=bz-2;$>=0;$--){if(U($+1,H[$],S)){S=H[$]}y.lo[$]=S}for($=bz-1;U(i($+1,bz),S,y.lo[$]);
$--){y.lo[$]=S}}function a(y){function t(y,$,g){var bz=y.ET,r=y.G5,X=y.jo,w,S,z,s,M,_,Q,O,G,W,e9,jV,co,dz,eh=0;
if(g>=bz){g-=bz;eh=1}if(eh==0){w=X[g+1].x-X[$].x;S=X[g+1].y-X[$].y;s=X[g+1].fg-X[$].fg;z=X[g+1].FK-X[$].FK;
M=X[g+1].k0-X[$].k0;_=g+1-$}else{w=X[g+1].x-X[$].x+X[bz].x;S=X[g+1].y-X[$].y+X[bz].y;s=X[g+1].fg-X[$].fg+X[bz].fg;
z=X[g+1].FK-X[$].FK+X[bz].FK;M=X[g+1].k0-X[$].k0+X[bz].k0;_=g+1-$+bz}e9=(r[$<<1]+r[g<<1])/2-r[0];jV=(r[($<<1)+1]+r[(g<<1)+1])/2-r[1];
dz=r[g<<1]-r[$<<1];co=-(r[(g<<1)+1]-r[($<<1)+1]);Q=(s-2*w*e9)/_+e9*e9;O=(z-w*jV-S*e9)/_+e9*jV;G=(M-2*S*jV)/_+jV*jV;
W=co*co*Q+2*co*dz*O+dz*dz*G;return Math.sqrt(W)}var $,g,H,_,bz=y.ET,Y=new Array(bz+1),K=new Array(bz+1),f=new Array(bz),m=new Array(bz+1),C=new Array(bz+1),Z=new Array(bz+1),A,d,G;
for($=0;$<bz;$++){G=i(y.lo[i($-1,bz)]-1,bz);if(G==$){G=i($+1,bz)}if(G<$){f[$]=bz}else{f[$]=G}}g=1;for($=0;
$<bz;$++){while(g<=f[$]){m[g]=$;g++}}$=0;for(g=0;$<bz;g++){C[g]=$;$=f[$]}C[g]=bz;H=g;$=bz;for(g=H;g>0;
g--){Z[g]=$;$=m[$]}Z[0]=0;Y[0]=0;for(g=1;g<=H;g++){for($=Z[g];$<=C[g];$++){d=-1;for(_=C[g-1];_>=m[$];
_--){A=t(y,_,$)+Y[_];if(d<0||A<d){K[$]=_;d=A}}Y[$]=d}}y.aqX=H;y.afV=new Array(H);for($=bz,g=H-1;$>0;
g--){$=K[$];y.afV[g]=$}}function P(y){function t(y,$,A,f,m,a9){var bz=y.ET,kB=y.jo,dc=0,G;while(A>=bz){A-=bz;
dc+=1}while($>=bz){$-=bz;dc-=1}while(A<0){A+=bz;dc-=1}while($<0){$+=bz;dc+=1}var eT=kB[A+1].x-kB[$].x+dc*kB[bz].x,fv=kB[A+1].y-kB[$].y+dc*kB[bz].y,jS=kB[A+1].fg-kB[$].fg+dc*kB[bz].fg,cx=kB[A+1].FK-kB[$].FK+dc*kB[bz].FK,bX=kB[A+1].k0-kB[$].k0+dc*kB[bz].k0,d=A+1-$+dc*bz;
f[a9]=eT/d;f[a9+1]=fv/d;var gi=(jS-eT*eT/d)/d,cM=(cx-eT*fv/d)/d,ea=(bX-fv*fv/d)/d,a1=(gi+ea+Math.sqrt((gi-ea)*(gi-ea)+4*cM*cM))/2;
gi-=a1;ea-=a1;if(Math.abs(gi)>=Math.abs(ea)){G=Math.sqrt(gi*gi+cM*cM);if(G!=0){m[a9]=-cM/G;m[a9+1]=gi/G}}else{G=Math.sqrt(ea*ea+cM*cM);
if(G!=0){m[a9]=-ea/G;m[a9+1]=cM/G}}if(G==0){m[a9]=m[a9+1]=0}}var g=y.aqX,H=y.afV,bz=y.ET,_=y.G5,Y=y.Z7,K=y.aoG,f=new Array(g*2),m=new Array(g*2),C=new Array(g),Z=new Array(3),$,A,d,G,S,z,s,M,Q,O,W;
y.pk=new J(g);for($=0;$<g;$++){A=H[i($+1,g)];A=i(A-H[$],bz)+H[$];f[$<<1]=0;f[($<<1)+1]=0;m[$<<1]=0;m[($<<1)+1]=0;
t(y,H[$],A,f,m,$<<1)}for($=0;$<g;$++){C[$]=[0,0,0,0,0,0,0,0,0];var r=m[$<<1]*m[$<<1]+m[($<<1)+1]*m[($<<1)+1],X=1/r;
if(r!=0){Z[0]=m[($<<1)+1];Z[1]=-m[$<<1];Z[2]=-Z[1]*f[($<<1)+1]-Z[0]*f[$<<1];for(G=0;G<3;G++){C[$][G*3+0]=Z[G]*Z[0]*X;
C[$][G*3+1]=Z[G]*Z[1]*X;C[$][G*3+2]=Z[G]*Z[2]*X}}}var w=[0,0,0,0,0,0,0,0,0];for($=0;$<g;$++){w[0]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=0;
var e9=_[H[$]<<1]-Y,jV=_[(H[$]<<1)+1]-K,co=0,dz=0;A=i($-1,g);for(G=0;G<9;G+=3){w[G+0]=C[A][G+0]+C[$][G+0];
w[G+1]=C[A][G+1]+C[$][G+1];w[G+2]=C[A][G+2]+C[$][G+2]}while(1){var eh=w[0]*w[4]-w[1]*w[3];if(eh!=0){co=(-w[2]*w[4]+w[5]*w[0])/eh;
dz=(w[2]*w[3]-w[5]*w[0])/eh;break}if(w[0]>w[4]){Z[0]=-w[1];Z[1]=w[0]}else if(w[4]){Z[0]=-w[4];Z[1]=w[3]}else{Z[0]=1;
Z[1]=0}var r=Z[0]*Z[0]+Z[1]*Z[1],X=1/r;Z[2]=-Z[1]*jV-Z[0]*e9;for(G=0;G<3;G++){w[G*3+0]+=Z[G]*Z[0]*X;
w[G*3+1]+=Z[G]*Z[1]*X;w[G*3+2]+=Z[G]*Z[2]*X}}S=Math.abs(co-e9);z=Math.abs(dz-jV);if(S<=.5&&z<=.5){y.pk.wu[$<<1]=co+Y;
y.pk.wu[($<<1)+1]=dz+K;continue}s=I(w,e9,jV);Q=e9;O=jV;if(w[0]!=0){for(W=0;W<2;W++){dz=jV-.5+W;co=-(w[1]*dz+w[2])/w[0];
S=Math.abs(co-e9);M=I(w,co,dz);if(S<=.5&&M<s){s=M;Q=co;O=dz}}}if(w[4]!=0){for(W=0;W<2;W++){co=e9-.5+W;
dz=-(w[3]*co+w[5])/w[4];z=Math.abs(dz-jV);M=I(w,co,dz);if(z<=.5&&M<s){s=M;Q=co;O=dz}}}for(G=0;G<2;G++){for(d=0;
d<2;d++){co=e9-.5+G;dz=jV-.5+d;M=I(w,co,dz);if(M<s){s=M;Q=co;O=dz}}}y.pk.wu[$<<1]=Q+Y;y.pk.wu[($<<1)+1]=O+K}}function v(y){var t=y.pk.lH,g=y.pk,$,H,_,Y,K,f,m,C,Z;
for($=0;$<t;$++){H=i($+1,t);_=i($+2,t);var A=g.wu[$<<1],d=g.wu[($<<1)+1],G=g.wu[_<<1],r=g.wu[(_<<1)+1],X=g.wu[H<<1],w=g.wu[(H<<1)+1],S=V(.5,G,X),z=V(.5,r,w);
K=u(A,d,G,r);if(K!=0){Y=F(X-A,w-d,G-A,r-d)/K;Y=Math.abs(Y);f=Y>1?1-1/Y:0;f=f*(1/.75)}else{f=4/3}g.Ll[H]=f;
var s=3*H<<1;if(f>=b.aAG){g.xc[H]=0;g.xt[s+0]=g.xt[s+1]=0;g.xt[s+2]=X;g.xt[s+3]=w;g.xt[s+4]=S;g.xt[s+5]=z}else{if(f<.55){f=.55}else if(f>1){f=1}var M=.5+.5*f;
g.xc[H]=1;g.xt[s]=V(M,A,X);g.xt[s+1]=V(M,d,w);g.xt[s+2]=V(M,G,X);g.xt[s+3]=V(M,r,w);g.xt[s+4]=S;g.xt[s+5]=z}g.alpha[H]=f;
g.KC[H]=.5}g.a9i=1}function R(y){function t(){this.zB=0;this.SZ=0;this.nB=0;this.mO=0;this.mt=0;this.vB=0;
this.Rw=0;this.alpha=0}function g(y,$,A,d2,hu,Q,O){var _=y.pk.lH,fF=y.pk.xt,il=y.pk.wu;if($==A)return 1;
var f4=$,X=i($+1,_),aK=i(f4+1,_),cx=il[$<<1],bX=il[($<<1)+1],f9=il[X<<1],e0=il[(X<<1)+1],j7=Q[aK];if(j7==0)return 1;
var jb=N(cx-f9,bX-e0);for(f4=aK;f4!=A;f4=aK){var aK=i(f4+1,_),hN=i(f4+2,_),fe=il[aK<<1],hn=il[(aK<<1)+1],a3=il[hN<<1],bH=il[(hN<<1)+1];
if(Q[aK]!=j7)return 1;if(Math.sign(F(f9-cx,e0-bX,a3-fe,bH-hn))!=j7)return 1;if(k(f9-cx,e0-bX,a3-fe,bH-hn)<jb*N(fe-a3,hn-bH)*-.999847695156)return 1}var jB=i($,_)*3+2<<1,jH=i($+1,_)<<1,dL=i(A,_)<<1,aq=i(A,_)*3+2<<1,a9=fF[jB],kB=fF[jB+1],is=il[jH],dh=il[jH+1],j_=il[dL],cH=il[dL+1],bK=fF[aq],eC=fF[aq+1],W=il[0],e9=il[1];
jB=A*3+2<<1;var fp=fF[jB],jq=fF[jB+1],w=O[A]-O[$];w-=F(fp-W,jq-e9,fp-W,jq-e9)/2;if($>=A){w+=O[_]}var az=is-a9,de=dh-kB,g3=j_-a9,hJ=cH-kB,kc=bK-a9,bc=eC-kB,kd=F(az,de,g3,hJ),jR=F(az,de,kc,bc),im=F(g3,hJ,kc,bc),dO=kd+im-jR;
if(jR==kd)return 1;var M=im/(im-dO),s=jR/(jR-kd),jd=jR*M/2;if(jd==0)return 1;var gJ=w/jd,S=2-Math.sqrt(4-gJ/.3);
d2.SZ=V(M*S,a9,is);d2.nB=V(M*S,kB,dh);d2.mO=V(s*S,bK,j_);d2.mt=V(s*S,eC,cH);d2.alpha=S;d2.vB=M;d2.Rw=s;
is=d2.SZ;dh=d2.nB;j_=d2.mO;cH=d2.mt;d2.zB=0;for(f4=i($+1,_);f4!=A;f4=aK){aK=i(f4+1,_);var iA=il[f4<<1],gj=il[(f4<<1)+1],fe=il[aK<<1],hn=il[(aK<<1)+1];
M=B(is-a9,dh-kB,j_-is,cH-dh,bK-j_,eC-cH,fe-iA,hn-gj);if(M<-.5)return 1;var jG=e(M,a9,is,j_,bK),eG=e(M,kB,dh,cH,eC),jb=N(fe-iA,hn-gj);
if(jb==0)return 1;var el=F(fe-iA,hn-gj,jG-iA,eG-gj)/jb;if(Math.abs(el)>hu)return 1;if(k(fe-iA,hn-gj,jG-iA,eG-gj)<0||k(iA-fe,gj-hn,jG-fe,eG-hn)<0){return 1}d2.zB+=el*el}for(f4=$;
f4!=A;f4=aK){aK=i(f4+1,_);var jB=f4*3+2<<1,jH=aK*3+2<<1,gp=fF[jB],ar=fF[jB+1],jY=fF[jH],fH=fF[jH+1];
M=B(is-a9,dh-kB,j_-is,cH-dh,bK-j_,eC-cH,jY-gp,fH-ar);if(M<-.5)return 1;var jG=e(M,a9,is,j_,bK),eG=e(M,kB,dh,cH,eC),jb=N(jY-gp,fH-ar);
if(jb==0)return 1;var el=F(jY-gp,fH-ar,jG-gp,eG-ar)/jb,iH=F(jY-gp,fH-ar,il[aK<<1]-gp,il[(aK<<1)+1]-ar)/jb;
iH*=.75*y.pk.alpha[aK];if(iH<0){el=-el;iH=-iH}if(el<iH-hu)return 1;if(el<iH){d2.zB+=(el-iH)*(el-iH)}}return 0}var H=y.pk,_=H.lH,Y=H.wu,K=new Array(_+1),f=new Array(_+1),m=new Array(_+1),C=new Array(_+1),Z,$,A,d,G=new t,r,X,w,S,z,s,M,Q=new Array(_),O=new Array(_+1);
for($=0;$<_;$++){if(H.xc[$]=="CURVE"){var W=Y[i($-1,_)<<1],e9=Y[(i($-1,_)<<1)+1],jV=Y[$<<1],co=Y[($<<1)+1],dz=Y[i($+1,_)<<1],eh=Y[(i($+1,_)<<1)+1];
Q[$]=Math.sign(F(jV-W,co-e9,dz-jV,eh-co))}else{Q[$]=0}}w=0;O[0]=0;var a9=H.wu[0],kB=H.wu[1];for($=0;
$<_;$++){X=i($+1,_);if(H.xc[X]=="CURVE"){S=H.alpha[X];var dc=$*3+2<<1,eT=X*3+2<<1,fv=H.xt[dc],jS=H.xt[dc+1],cx=Y[X<<1],bX=Y[(X<<1)+1],gi=H.xt[eT],cM=H.xt[eT+1];
w+=.3*S*(4-S)*F(cx-fv,bX-jS,gi-fv,cM-jS)/2;w+=F(fv-a9,jS-kB,gi-a9,cM-kB)/2}O[$+1]=w}K[0]=-1;f[0]=0;m[0]=0;
for(A=1;A<=_;A++){K[A]=A-1;f[A]=f[A-1];m[A]=m[A-1]+1;for($=A-2;$>=0;$--){d=g(y,$,i(A,_),G,b.arL,Q,O);
if(d){break}if(m[A]>m[$]+1||m[A]==m[$]+1&&f[A]>f[$]+G.zB){K[A]=$;f[A]=f[$]+G.zB;m[A]=m[$]+1;C[A]=G;G=new t}}}Z=m[_];
z=new J(Z);s=new Array(Z);M=new Array(Z);A=_;for($=Z-1;$>=0;$--){var ea=i(A,_),a1=$*3+0<<1,db=ea*3+0<<1;
if(K[A]==A-1){z.xc[$]=H.xc[ea];z.xt[a1]=H.xt[db];z.xt[a1+1]=H.xt[db+1];z.xt[a1+2]=H.xt[db+2];z.xt[a1+3]=H.xt[db+3];
z.xt[a1+4]=H.xt[db+4];z.xt[a1+5]=H.xt[db+5];z.wu[$<<1]=H.wu[ea<<1];z.wu[($<<1)+1]=H.wu[(ea<<1)+1];z.alpha[$]=H.alpha[ea];
z.Ll[$]=H.Ll[ea];z.KC[$]=H.KC[ea];s[$]=M[$]=1}else{z.xc[$]="CURVE";z.xt[a1]=C[A].SZ;z.xt[a1+1]=C[A].nB;
z.xt[a1+2]=C[A].mO;z.xt[a1+3]=C[A].mt;z.xt[a1+4]=H.xt[db+4];z.xt[a1+5]=H.xt[db+5];z.wu[$<<1]=V(C[A].Rw,H.xt[db+4],Y[ea<<1]);
z.wu[($<<1)+1]=V(C[A].Rw,H.xt[db+5],Y[(ea<<1)+1]);z.alpha[$]=C[A].alpha;z.Ll[$]=C[A].alpha;s[$]=C[A].Rw;
M[$]=C[A].vB}A=K[A]}for($=0;$<Z;$++){X=i($+1,Z);z.KC[$]=s[$]/(s[$]+M[X])}z.a9i=1;y.pk=z}for(var $=0;
$<E.length;$++){var y=E[$];j(y);T(y);a(y);P(y);v(y);if(b.a0W)R(y)}}return{asy:o,afJ:c}}();fE.wt=function(x,J,o,c){var E={Sw:"minority",a1U:c,a0W:!0,aAG:1,arL:.2},b=fE.asy(x,J,o,E);
fE.afJ(b,E);return b};fE.l$=function(x){var J=[];for(var $=0;$<x.length;$++){var o=x[$],c=o.pk,E=["M"],b=[c.xt[(c.lH-1)*6+4],c.xt[(c.lH-1)*6+5]];
for(var l=0;l<c.lH;l++){var i=l*6;if(c.xc[l]==1){E.push("C");for(var F=0;F<6;F++)b.push(c.xt[i+F])}else if(c.xc[l]==0){E.push("L");
for(var F=2;F<4;F++)b.push(c.xt[i+F])}}E.push("Z");J.push({parent:o.parent,color:o.color,path:{j:b,G:E}})}return J};
fE.GY=function(x,J,o){var bz=x.length>>1,c,E=x[2*bz-3]-o,b=x[2*bz-2]-J,l=x[2*bz-1]-o,i=l>E,F=0;for(var $=0;
$<bz;$++){c=b;E=l;b=x[2*$]-J;l=x[2*$+1]-o;if(E==l)continue;i=l>E}for(var $=0;$<bz;$++){c=b;E=l;b=x[2*$]-J;
l=x[2*$+1]-o;if(E<0&&l<0)continue;if(E>0&&l>0)continue;if(c<0&&b<0)continue;if(E==l&&Math.min(c,b)<=0)return!0;
if(E==l)continue;var k=c+(b-c)*-E/(l-E);if(k==0)return!0;if(k>0)F++;if(E==0&&i&&l>E)F--;if(E==0&&!i&&l<E)F--;
i=l>E}return(F&1)==1};fE.fill=function(x,J,o,c){var E=J[x],b=[x],l=0;while(l<b.length){var i=b[l];l++;
J[i]=c;if(J[i-o]==E){b.push(i-o);J[i-o]=254}if(J[i-1]==E){b.push(i-1);J[i-1]=254}if(J[i+1]==E){b.push(i+1);
J[i+1]=254}if(J[i+o]==E){b.push(i+o);J[i+o]=254}}};var gT=function(){function x(i){return Math.max(0,Math.min(1,i))}function J(i,F){var k=F<0?-F:F;
if(i>1)i=.99;i=i*.99;var U=Math.pow(k/5,.16),I=Math.pow(2,k<1?k:1+(k-1)*.8);if(F<0)I=1/I;i=U*(1-Math.pow(1-i,I))+(1-U)*i;
return i}function o(i,F){var k=F/100;i=i*.99;i=k*(.5-.5*Math.cos(i*Math.PI))+(1-k)*i;return i}var c=q.Dk.ac8(1,1,1,-.3),E=q.Dk.Mr(c);
function b(i,F,k,U,I,V,u){var N=i[k],e=i[k+1],B=i[k+2],j=q.Dk.Kg(c,[N,e,B,1]);N=j[0];e=j[1];B=j[2];N=J(N,U);
e=J(e,U);B=J(B,U);var j=q.Dk.Kg(E,[N,e,B,1]);N=j[0];e=j[1];B=j[2];N=x(N);e=x(e);B=x(B);N=o(N,I);e=o(e,I);
B=o(B,I);var T=ji.auv(N,e,B,V);N=T[0];e=T[1];B=T[2];N=x(N);e=x(e);B=x(B);if(u){var a=new Uint8Array(4);
a[0]=~~(.5+N*255);a[1]=~~(.5+e*255);a[2]=~~(.5+B*255);dv.fa(u,a,a,new ha(0,0,1,1));N=a[0]/255;e=a[1]/255;
B=a[2]/255}F[k]=N;F[k+1]=e;F[k+2]=B}function l(i,F,k,U,I,V){var u=I.Temp?I.Temp.v:0,N=I.Tint?I.Tint.v:0,e=I.Ex12?I.Ex12.v:0,B=I.Cr12?I.Cr12.v:0,j=I.Vibr?I.Vibr.v:0,T=I.Strt?I.Strt.v:0,a=ji.LH(u,N),P=null;
e+=a.aBu;if(j!=0||T!=0)P=dv.SR("vibA",{Strt:I.Strt,vibrance:I.Vibr});var v=Date.now();if(V){var R=Math.pow(2,e),y=i.length;
e=0;var t=new Float32Array(4e3);for(var $=0;$<4e3;$++){var g=$*(1/1e3);g=q.Ea(g);g*=R;g=q.cW(g);g=x(g);
t[$]=g}for(var $=0;$<y;$+=3){U[$]=t[~~(i[$]*1e3)];U[$+1]=t[~~(i[$+1]*1e3)];U[$+2]=t[~~(i[$+2]*1e3)]}console.log(Date.now()-v,"Exposure normalizing");
v=Date.now()}else U.set(i);if(e!=0||B!=0||u!=0||N!=0||P){var H=17,_=1/(H-1),Y=H*H*H,K=new Array(Y*3);
for(var f=0;f<H;f++)for(var m=0;m<H;m++)for(var C=0;C<H;C++){var $=f*H*H+m*H+C,Z=$*3;K[Z]=f*_;K[Z+1]=m*_;
K[Z+2]=C*_}for(var $=0;$<Y;$++)b(K,K,$*3,e,B,a,P);console.log(Date.now()-v,"making LUT");v=Date.now();
ICC.U.applyLUTFloat(K,H,U,U);console.log(Date.now()-v,"applying LUT");v=Date.now()}}return l}();function ac(){}ac.QE=function(x,J){var o=new Uint8Array(x),c=0,E=J.split("/").pop().split(".")[0];
function b(B){for(var $=0;$<B.length;$++)B[$].v.Nm.v=E+"/"+B[$].v.Nm.v.split("/").pop()}var l={I2:[],Uc:[],list:[]},i=D.ht(o,c);
c+=2;if(i<=2){l=ac.as5(o);b(l.list);return l}var F=D.ht(o,c);c+=2;var k=D.it(o,c,8);c+=8;var U=D.s(o,c);
c+=4;if(U>0)l.I2=ac.apn(o,c,U,F,i);c+=U;var I=D.it(o,c,8);c+=8;var V=D.s(o,c);c+=4;if(V>0)l.Uc=am.cb(o,c,V);
c+=V;var u=D.it(o,c,8);c+=8;var N=D.s(o,c);c+=4;if(N>0){var e={};iW.OX(o,e,c+4);l.list=e.Brsh.v}c+=N;
var B=l.list;for(var $=0;$<B.length;$++){aR.gk.check(B[$].v)}b(B);return l};ac.Bw=function(x,J){x.v.Nm.v=J};
ac.as5=function(x){var J={I2:[],Uc:[],list:[]},o=0,c=D.ht(x,o);o+=2;var E=D.ht(x,o);o+=2;for(var $=0;
$<E;$++){var b=D.ht(x,o);o+=2;var l=D.s(x,o);o+=4;var i=o;if(b==2){var F={};J.I2.push(F);var k=D.s(x,i);
i+=4;var U=D.ht(x,i);i+=2;if(c==2){var I=D.tP(x,i);i+=4+I.length*2+2}F.id=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f";
i++;i+=8;F.By=D.eI(x,i);i+=16;var V=D.ht(x,i);i+=2;var u=x[i];i++;var N=j0.W9(!1,V,x,F.By.m,F.By.e,i,u);
ac.acd(F,N);var e=aR.iY(F.id),B=e.Brsh.v;B.Dmtr.v.val=F.By.m;B.Spcn.v.val=U;J.list.push({t:"Objc",v:e})}o+=l}return J};
ac.iN=function(x){var J=new ih,o=0,c=0;D.ZY(J,o,6);o+=2;D.ZY(J,o,2);o+=2;var E={},b=[],l={},i=[];for(var $=0;
$<x.list.length;$++){var F=x.list[$].v,k=F.Brsh.v;if(k.classID=="sampledBrush")E[k.sampledData.v]=!0;
if(F.Txtr)l[F.Txtr.v.Idnt.v]=!0}for(var $=0;$<x.I2.length;$++)if(E[x.I2[$].id])b.push(x.I2[$]);for(var $=0;
$<x.Uc.length;$++)if(E[x.Uc[$].id])i.push(x.Uc[$]);D.qN(J,o,"8BIMsamp");o+=8;o+=4;c=o;o=ac.ahr(J,o,b);
D.pW(J,c-4,o-c);D.qN(J,o,"8BIMpatt");o+=8;o+=4;c=o;o=am.HH(J,o,i);D.pW(J,c-4,o-c);var U=JSON.parse(JSON.stringify(x.list));
for(var $=0;$<U.length;$++)U[$].v.Nm.v=U[$].v.Nm.v.split("/").pop();var I={classID:"null",Brsh:{t:"VlLs",v:U}};
D.qN(J,o,"8BIMdesc");o+=8;o+=4;c=o;D.pW(J,o,16);o+=4;o+=iW.rM(J,I,o);D.pW(J,c-4,o-c);return J.data.slice(0,o).buffer};
ac.apn=function(x,J,o,c,E){var b=D.s,l=D.eI,i=J+o,F=[];while(J<i){var k={};F.push(k);var U=b(x,J);J+=4;
var I=J,V=D.NH(x,J);J+=V.length;k.id=V.XW;if(c==1){J+=9;k.By=l(x,J);J+=16}else{J+=7;var u=b(x,J);J+=4;
k.By=l(x,J);J+=16;var N=b(x,J);J+=4;J+=N*4;var e=b(x,J);J+=4;var B=b(x,J);J+=4;var j=l(x,J);J+=16}var T=D.ht(x,J);
J+=2;var a=x[J];J+=1;var P=j0.W9(!1,T,x,k.By.m,k.By.e,J,a);ac.acd(k,P);if(U%4!=0)U+=4-U%4;J=I+U}return F};
ac.acd=function(x,J){var o=x.By.clone();o.x=o.y=0;x.Gc=[J,o]};ac.ahr=function(x,J,o){var c=D.pW,E=D.Vu;
for(var $=0;$<o.length;$++){var b=o[$],l=J+4,F=56,U=1;J+=4;D.ku(x,J,b.id);J+=b.id.length+2;x.Qy(J,1);
x.data[J]=1;J+=3;c(x,J,3);J+=4;var i=J;J+=4;E(x,J,b.By);J+=16;c(x,J,F);J+=4;J+=F*4;c(x,J-4,1);var k=J;
J+=4;c(x,J,8);J+=4;E(x,J,b.By);J+=16;D.ZY(x,J,8);J+=2;x.Qy(J,1);x.data[J]=U;J++;var I=b.Gc[0];x.Qy(J,b.By.P()*2);
J=j0.x7(!1,I,x.data,b.By.m,b.By.e,J,U);x.Qy(J,8);J+=8;var V=J-l;c(x,l-4,V);c(x,i,V-49);c(x,k,V-305);
if(V%4!=0)J+=4-V%4}return J};function fB(){}fB.QE=function(x,J){var o=new Uint8Array(x),c=[],E=0,b=D.ht(o,E);
E+=2;if(b!=4){throw"Unknown version of curves: "+b}var l=D.ht(o,E);E+=2;for(var $=0;$<l;$++){var i=fB.a0I(o,E);
E+=2+2*i.length;c.push(i)}if(E!=o.length){var F=D.it(o,E,4);E+=4;var k=D.ht(o,E);E+=2;var U=D.ht(o,E);
E+=2;if(U!=0)throw"extra curves for channels"}var I=fB.aa6(c,0);I.presetKind={t:"long",v:3};I.presetFileName={t:"TEXT",v:J.split("/").pop().split(".")[0]};
return[I]};fB.nv=function(x,J,o){var c=J,E=[],b=x[J];J+=3;var l=D.s(x,J);J+=4;for(var $=0;$<4;$++){var i=l>>>$&1;
if(i){if(b==0){var F=fB.a0I(x,J);J+=2+2*F.length}else{var F=fB.avO(x,J);J+=256}E.push(F)}else E.push(b==0?[0,0,255,255]:fB.ana())}var k=fB.aa6(E,b);
return k};fB.aa6=function(x,J){var o=fn.Bt("curv");for(var $=0;$<4;$++){if(J==0){var c=x[$],E=[];for(var b=0;
b<c.length;b+=2)E.push(q._8.Ji(c[b],c[b+1],!0));fB.Fa(o,$,E)}else fB.Fa(o,$,x[$])}return o};fB.nU=function(x,J,o){var c=[];
for(var $=0;$<4;$++){var E=fB.Ne(o,$);if(E.length==256)c.push(E);else{var b=[];for(var l=0;l<E.length;
l++)b.push(E[l].v.Hrzn.v,E[l].v.Vrtc.v);c.push(b)}}var i=J,F=c[0].length==256?1:0;x.Qy(J,3);x.data[J]=F;
x.data[J+1]=0;x.data[J+2]=1;J+=3;D.pW(x,J,15);J+=4;for(var $=0;$<4;$++){var k=c[$];if(F==0){fB.aju(x,J,k);
J+=2+2*k.length}else{fB.amL(x,J,k);J+=256}}return J-i};fB.ana=function(){var x=[];for(var $=0;$<256;
$++)x.push($);return x};fB.Fa=function(x,J,o){var c=bF.vE("CrvA",J);if(o.length<256)c.Crv={t:"VlLs",v:o};
else{c.Mpng={t:"VlLs",v:[]};for(var $=0;$<256;$++)c.Mpng.v[$]={t:"long",v:o[$]}}c={t:"Objc",v:c};var E=x.Adjs.v,b=bF.q_(E,J);
if(b==-1)E.push(c);else E[b]=c};fB.Ne=function(x,J){var o=x.Adjs.v,c=bF.q_(o,J);if(c==-1){if(o.length==0||o[0].v.Crv)return[q._8.Ji(0,0,!0),q._8.Ji(255,255,!0)];
if(o[0].v.autoMachineLearning||o[0].v.AuCo)return[q._8.Ji(0,0,!0),q._8.Ji(128,160,!0),q._8.Ji(255,255,!0)];
var E=[];for(var $=0;$<256;$++)E.push($);return E}var b=o[c].v;if(b.Crv)return b.Crv.v;if(b.Mpng){var E=[];
for(var $=0;$<256;$++)E.push(b.Mpng.v[$].v);return E}return[q._8.Ji(0,0,!0),q._8.Ji(255,255,!0)]};fB.a0I=function(x,J){var o=[],c=D.ht(x,J);
J+=2;for(var E=0;E<c;E++){var b=D.ht(x,J);J+=2;var l=D.ht(x,J);J+=2;o.push(l,b)}return o};fB.aju=function(x,J,o){var c=o.length/2;
D.ZY(x,J,c);J+=2;for(var E=0;E<c;E++){D.ZY(x,J,o[E*2+1]);J+=2;D.ZY(x,J,o[E*2+0]);J+=2}};fB.avO=function(x,J){var o=[];
for(var $=0;$<256;$++)o.push(x[J+$]);return o};fB.amL=function(x,J,o){x.Qy(J,256);for(var $=0;$<256;
$++)x.data[J+$]=o[$]};function eZ(){}eZ.nv=function(x,J,o){var c={},E=D.ht(x,J);J+=2;c.Lc=x[J]==1;J++;
J++;c.xd=[D.RP(x,J),D.RP(x,J+2),D.RP(x,J+4)];J+=6;c.Hy=[D.RP(x,J),D.RP(x,J+2),D.RP(x,J+4)];J+=6;c.LV=[];
for(var $=0;$<6;$++){var b={};b.hX=[D.RP(x,J),D.RP(x,J+2),D.RP(x,J+4),D.RP(x,J+6)];J+=8;b.Wj=[D.RP(x,J),D.RP(x,J+2),D.RP(x,J+4)];
J+=6;c.LV.push(b)}var l=fn.Bt("hue2"),i=c;if(l.Clrz==null)l.Clrz={t:"bool",v:!1};l.Clrz.v=i.Lc;for(var $=0;
$<7;$++){var F=$==0?i.Lc?i.xd:i.Hy:i.LV[$-1];eZ.Fa(l,$,F)}return l};eZ.a5G=function(x){return{classID:"Hst2",H:{t:"long",v:x[0]},Strt:{t:"long",v:x[1]},Lght:{t:"long",v:x[2]}}};
eZ.q_=function(x,J){for(var $=0;$<x.length;$++){var o=x[$].v.LclR;if(J==0&&o==null||o!=null&&o.v==J)return $}return-1};
eZ.Fa=function(x,J,o){var c=J==0?o:o.Wj,E=eZ.a5G(c);if(J!=0){var b=o.hX;E.LclR={t:"long",v:J},E.BgnR={t:"long",v:b[0]};
E.BgnS={t:"long",v:b[1]};E.EndS={t:"long",v:b[2]};E.EndR={t:"long",v:b[3]}}E={t:"Objc",v:E};var l=x.Adjs.v,i=eZ.q_(l,J);
if(i==-1)l.push(E);else l[i]=E};eZ.Ne=function(x,J){var o=x.Adjs.v,c=eZ.q_(o,J);if(c==-1){if(J==0)return[0,0,0];
else return[{hX:[315,345,15,45],Wj:[0,0,0]},{hX:[15,45,75,105],Wj:[0,0,0]},{hX:[75,105,135,165],Wj:[0,0,0]},{hX:[135,165,195,225],Wj:[0,0,0]},{hX:[195,225,255,285],Wj:[0,0,0]},{hX:[255,285,315,345],Wj:[0,0,0]}][J-1]}var E=o[c].v,b=[E.H.v,E.Strt.v,E.Lght.v];
if(J==0)return b;return{Wj:b,hX:[E.BgnR.v,E.BgnS.v,E.EndS.v,E.EndR.v]}};eZ.nU=function(x,J,o){var c={Lc:o.Clrz?o.Clrz.v:!1,LV:[]};
c.xd=c.Hy=eZ.Ne(o,0);for(var $=1;$<7;$++)c.LV.push(eZ.Ne(o,$));var E=2+2+12+6*14,b=x.data;x.Qy(J,E);
D.uX(b,J,2);J+=2;b[J]=c.Lc?1:0;J++;J++;D.NN(b,J+0,c.xd[0]);D.NN(b,J+2,c.xd[1]);D.NN(b,J+4,c.xd[2]);J+=6;
D.NN(b,J+0,c.Hy[0]);D.NN(b,J+2,c.Hy[1]);D.NN(b,J+4,c.Hy[2]);J+=6;for(var $=0;$<6;$++){var l=c.LV[$].hX,i=c.LV[$].Wj;
D.NN(b,J+0,l[0]);D.NN(b,J+2,l[1]);D.NN(b,J+4,l[2]);D.NN(b,J+6,l[3]);J+=8;D.NN(b,J+0,i[0]);D.NN(b,J+2,i[1]);
D.NN(b,J+4,i[2]);J+=6}return E};function bF(){}bF.QE=function(x){var J=new Uint8Array(x),o=2,c=[];for(var $=0;
$<29;$++){var E=[];c.push(E);for(var b=0;b<5;b++)E.push(D.ht(J,o+$*10+b*2))}o+=29*10;if(o<J.length){var l=D.it(J,o,4);
o+=4;var i=D.ht(J,o);o+=2;var F=D.ht(J,o);o+=2;var k=F-29;for(var $=0;$<k;$++){var E=[];c.push(E);for(var b=0;
b<5;b++)E.push(D.ht(J,o+$*10+b*2))}}var U=fn.Bt("levl");for(var $=0;$<4;$++)bF.Fa(U,$,c[$]);return U};
bF.vE=function(x,$){var J=["Cmps","Rd","Grn","Bl"],o={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:J[$]}}]};
return{classID:x,Chnl:o}};bF.q_=function(x,J){var o={Cmps:0,Rd:1,Grn:2,Bl:3};for(var $=0;$<x.length;
$++){var c=x[$].v,E=o[c.Chnl.v[0].v.enum];if(E==J)return $}return-1};bF.Fa=function(x,J,o){var c=bF.vE("LvlA",J);
c.Inpt={t:"VlLs",v:[{t:"long",v:o[0]},{t:"long",v:o[1]}]};c.Otpt={t:"VlLs",v:[{t:"long",v:o[2]},{t:"long",v:o[3]}]};
c.Gmm={t:"doub",v:o[4]/100};c={t:"Objc",v:c};var E=x.Adjs.v,b=bF.q_(E,J);if(b==-1)E.push(c);else E[b]=c};
bF.Ne=function(x,J){var o=[0,255,0,255,100],c=x.Adjs.v,E=bF.q_(c,J);if(E==-1)return o;var b=c[E].v;if(b.Inpt){o[0]=b.Inpt.v[0].v;
o[1]=b.Inpt.v[1].v}if(b.Otpt){o[2]=b.Otpt.v[0].v;o[3]=b.Otpt.v[1].v}if(b.Gmm){o[4]=Math.round(b.Gmm.v*100)}return o};
bF.iN=function(x,J){var o=[],c=0;for(var $=0;$<4;$++)o.push(bF.Ne(J,$));while(o.length<29)o.push([0,255,0,255,100]);
x.Qy(0,2+10*29);D.uX(x.data,c,2);c+=2;for(var $=0;$<29;$++){var E=o[$];for(var b=0;b<5;b++)D.uX(x.data,c+$*10+b*2,E[b])}c+=29*10;
if(o.length==29)return c;x.Qy(c,8+10*(o.length-29));D.wZ(x.data,c,"Lvls");c+=4;D.uX(x.data,c,3);c+=2;
D.uX(x.data,c,o.length);c+=2;var l=o.length-29;for(var $=0;$<l;$++){var E=o[29+$];for(var b=0;b<5;b++)D.uX(x.data,c+$*10+b*2,E[b])}c+=10*l;
return c};function aF(){}aF.QE=function(x,J){var o=new Uint8Array(x),c=2,E=J.split("/").pop().split(".")[0],b={ZI:[],W0:[]},l=D.it(o,c,4);
c+=4;var i=D.ht(o,c);c+=2;var F=D.s(o,c);c+=4;b.ZI=am.cb(o,c,F);c+=F;var k=D.s(o,c);c+=4;for(var $=0;
$<k;$++){var U=D.s(o,c);c+=4;var I=c,V={OA:{},oe:{}};b.W0.push(V);c+=4;c+=iW.OX(o,V.OA,c);V.OA.Nm.v=E+"/"+V.OA.Nm.v.split("=").pop();
c+=4;c+=iW.OX(o,V.oe,c);c=I+U;var u=V.oe.blendOptions,N=V.oe.Lefx;if(u&&Object.keys(u.v).length>1){}if(N){if(N.v.masterFXSwitch==null)N.v.masterFXSwitch={t:"bool",v:!0};
ie.Vn(N.v)}}return b};aF.Bw=function(x,J){x.OA.Nm.v=J};aF.iN=function(x){var J=new ih,o=0;D.ZY(J,o,2);
o+=2;D.qN(J,o,"8BSL");o+=4;D.ZY(J,o,3);o+=2;var c=o;o+=4;o=am.HH(J,o,x.ZI);D.pW(J,c,o-c-4);var E=x.W0.length;
D.pW(J,o,E);o+=4;for(var $=0;$<E;$++){o+=4;var b=o,l=x.W0[$];D.pW(J,o,16);o+=4;var i=l.OA.Nm.v;l.OA.Nm.v=l.OA.Nm.v.split("/").pop();
o+=iW.rM(J,l.OA,o);l.OA.Nm.v=i;var F=l.oe.Lefx;if(F){l.oe.Lefx=JSON.parse(JSON.stringify(F));ie.h3(l.oe.Lefx.v)}D.pW(J,o,16);
o+=4;o+=iW.rM(J,l.oe,o);if(F)l.oe.Lefx=F;D.pW(J,b-4,o-b)}return J.data.slice(0,o).buffer};function dC(){}dC.nv=function(x,J,o){var c=D.ht(x,J);
J+=2;var E={};E.eZ=D.ht(x,J)==1;J+=2;E.BI=[];for(var $=0;$<10;$++){var b=[];E.BI.push(b);for(var l=0;
l<4;l++)b.push(D.RP(x,J+l*2));J+=8}var i=fn.Bt("selc");i.Mthd.v.CrcM=E.eZ?"Absl":"Rltv";for(var $=1;
$<10;$++)dC.Fa(i,$-1,E.BI[$]);return i};dC.Kq="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
dC.vE=function(x,$){var J=["Cmps","Rd","Grn","Bl"],o={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:J[$]}}]};
return{classID:x,Chnl:o}};dC.q_=function(x,J){var o=dC.Kq;for(var $=0;$<x.length;$++){var c=x[$].v,E=o.indexOf(c.Clrs.v.Clrs);
if(E==J)return $}return-1};dC.Fa=function(x,J,o){var c=["Cyn","Mgnt","Ylw","Blck"],E={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:dC.Kq[J]}}};
for(var b=0;b<4;b++)E[c[b]]={t:"UntF",v:{type:"#Prc",val:o[b]}};E={t:"Objc",v:E};var l=x.ClrC.v,i=dC.q_(l,J);
if(i==-1)l.push(E);else l[i]=E};dC.Ne=function(x,J){var o=[0,0,0,0],c=x.ClrC.v,E=dC.q_(c,J);if(E==-1)return o;
var b=["Cyn","Mgnt","Ylw","Blck"];for(var $=0;$<4;$++)if(c[E].v[b[$]])o[$]=c[E].v[b[$]].v.val;return o};
dC.nU=function(x,J,o){var c={eZ:o.Mthd.v.CrcM=="Absl",BI:[[0,0,0,0]]};for(var $=0;$<9;$++)c.BI.push(dC.Ne(o,$));
x.Qy(J,84);D.uX(x.data,J,1);J+=2;D.uX(x.data,J,c.eZ?1:0);J+=2;for(var $=0;$<10;$++){var E=c.BI[$];for(var b=0;
b<4;b++)D.NN(x.data,J+b*2,E[b]);J+=8}return 84};function fV(){}fV.Bt=function(){return{YP:new ha(0,0,50,50),OA:"",W4:"play",$:q.p.MP.q$([.1,.1,.9,.5,.1,.9],0)}};
fV.QE=function(x,J){x=new Uint8Array(x);var o=0,c=[],E=J.split("/").pop().split(".")[0],b=Date.now(),l=D.it(x,0,4);
o+=4;var i=D.s(x,o);o+=4;var F=D.s(x,o);o+=4;for(var $=0;$<F;$++){var k=D.tP(x,o);o+=k.length*2+4+2;
if((k.length&1)==0)o+=2;o=fV.a91(x,o,k,c);c[$].W4=E+"/"+c[$].W4}return c};fV.a91=function(x,J,o,c){var E=D.s(x,J);
J+=4;var b=D.s(x,J);J+=4;var l=J,i=D.NH(x,l).XW;l+=i.length+1;var F=D.eI(x,l);l+=16;var k=fV.vr(x,l,b-(l-J)),U=q.p.Uz(k),I=q.O.Cg(U),V=1/I.m,u=1/I.e;
q.p.Sp(k,new cW(V,0,0,u,-I.x*V,-I.y*u));c.push({W4:o,OA:i,$:k,YP:F});J+=b;return J};fV.Bw=function(x,J){x.W4=J};
fV.iN=function(x){var J=new ih,o=0;D.qN(J,o,"cush");o+=4;D.pW(J,o,2);o+=4;D.pW(J,o,x.length);o+=4;for(var $=0;
$<x.length;$++){var c=x[$],E=c.W4.split("/").pop()+"\0";D.b2(J,o,E);o+=4+E.length*2;if((E.length&1)==1)o+=2;
D.pW(J,o,1);o+=4;o+=4;var b=o;D.ku(J,o,c.OA);o+=c.OA.length+1;D.Vu(J,o,c.YP);o+=16;J.Qy(o,c.$.length*26);
fV.CD(J.data,o,c.$,1,1);o+=c.$.length*26;var l=o-b;if((l&3)!=0)l+=4-(l&3);D.pW(J,b-4,l);o=b+l}return J.data.slice(0,o).buffer};
fV.afo=function(x){var J=[];for(var $=0;$<x.length;$++){var o=x[$],c=o.type,E={type:c};J.push(E);if(c==6){}else if(c==8)E.all=o.all;
else if(c==0||c==3){E.length=o.length;E.frule=o.sm;E.third=o.tX;E.prmA=o.hu;E.prmB=o.Ab}else{E.c=[o.HN.x,o.HN.y,o.L.x,o.L.y,o.Dq.x,o.Dq.y]}}return J};
fV.acN=function(x){var J=[];for(var $=0;$<x.length;$++){var o=x[$],c=o.type,E={type:c};J.push(E);if(c==6){}else if(c==8)E.all=o.all;
else if(c==0||c==3){E.length=o.length;E.sm=o.frule;E.tX=o.third;E.hu=o.prmA;E.Ab=o.prmB}else{var b=o.c;
E.HN=new ck(b[0],b[1]);E.L=new ck(b[2],b[3]);E.Dq=new ck(b[4],b[5])}}return J};fV.vr=function(x,J,o,c,E){if(c==null)c=1;
if(E==null)E=1;function b(e,B,j){var T=D.avl(e,B)*j,a=Math.round(T);return Math.abs(T-a)<1e-6?a:T}var l=D.RP,i=[],F=Math.floor(o/26);
for(var $=0;$<F;$++){var k=J+$*26,U={},I=0;i.push(U);U.type=l(x,k);k+=2;if(U.type==6){I=24}if(U.type==8){U.all=l(x,k);
k+=2;I=22}if(U.type==0||U.type==3){U.length=l(x,k);k+=2;U.sm=l(x,k);k+=2;U.tX=l(x,k);k+=2;U.hu=D.s(x,k);
k+=4;U.Ab=D.s(x,k);k+=4;I=10}if(U.type==1||U.type==2||U.type==4||U.type==5){var V,u;u=b(x,k,E);k+=4;
V=b(x,k,c);k+=4;U.HN=new ck(V,u);u=b(x,k,E);k+=4;V=b(x,k,c);k+=4;U.L=new ck(V,u);u=b(x,k,E);k+=4;V=b(x,k,c);
k+=4;U.Dq=new ck(V,u);I=0}for(var N=0;N<I;N++)if(x[k+N]!=0){console.log("Unexpected non-zero byte!",U,N,x[k+N])}}return i};
fV.CD=function(x,J,o,c,E){var b=D.NN,l=D.ae_,i=o.length;for(var $=0;$<i;$++){var F=J+$*26,k=o[$];b(x,F,k.type);
F+=2;if(k.type==6){}if(k.type==8)b(x,F,k.all);if(k.type==0||k.type==3){b(x,F,k.length);F+=2;b(x,F,k.sm);
F+=2;b(x,F,k.tX);F+=2}if(k.type==1||k.type==2||k.type==4||k.type==5){l(x,F,k.HN.y/E);F+=4;l(x,F,k.HN.x/c);
F+=4;l(x,F,k.L.y/E);F+=4;l(x,F,k.L.x/c);F+=4;l(x,F,k.Dq.y/E);F+=4;l(x,F,k.Dq.x/c);F+=4}}};function io(){}io.QE=function(x){var J=new Uint8Array(x),o=[],c=0;
if(D.it(J,0,4)=="ASEF")o=io.aDB(J);else{c=io.a2J(J,c,o);if(c+3<J.length){o=[];c=io.a2J(J,c,o)}}return o};
io.aDB=function(x){var J=[],o=8,c=D.s(x,o),E,b=null,l,i,F,k;o+=4;for(var U=0;U<c;U++){var I=D.ht(x,o);
o+=2;var V=D.s(x,o);o+=4;var u=o+V;if(I==49153||I==1){var N=D.ht(x,o);o+=2;var e=D.$Q(x,o,N-1);o+=N*2;
if(I==1)E=e;else b=e}if(I==1){var B=D.it(x,o,4);o+=4;l=D.RW(x,o);o+=4;i=D.RW(x,o);o+=4;F=D.RW(x,o);o+=4;
if(B=="RGB "){}else if(B=="CMYK"){k=D.RW(x,o);o+=4;var j=UDOC.C.cmykToRgb([l,i,F,k]);l=j[0];i=j[1];F=j[2]}else alert("Unknown color space: "+B);
J.push({o:l*255,I:i*255,J:F*255,aR:(b?b+" : ":"")+E})}o=u}return J};io.a2J=function(x,J,o){var c=D.ht,E=D.RP,b=c(x,J);
J+=2;var l=c(x,J);J+=2;for(var $=0;$<l;$++){var i=io.vp(x,J);J+=10;if(b==2){i.aR=D.tP(x,J);J+=4+i.aR.length*2+2}o.push(i)}return J};
io.vp=function(x,J){var o=D.ht,c=D.RP,E=o(x,J),u=null;J+=2;var b=o(x,J);J+=2;var l=o(x,J);J+=2;var i=o(x,J);
J+=2;var F=o(x,J);J+=2;var k=1/65535,U=255/65535,I=100/65535,V=255/1e4;if(E==0)u={o:b*U,I:l*U,J:i*U};
else if(E==1){u=q.qf(b*k,l*k,i*k);u.o*=255;u.I*=255;u.J*=255}else if(E==2)u=q.r.fL({classID:"CMYC",Cyn:{t:"doub",v:100-b*I},Mgnt:{t:"doub",v:100-l*I},Ylw:{t:"doub",v:100-i*I},Blck:{t:"doub",v:100-F*I}});
else if(E==7){var N=q.ab(b/100,c(x,J-6)/100,c(x,J-4)/100);u=N}else if(E==8){u={o:255-b*V,I:255-l*V,J:255-i*V}}else if(E==18){var e=255*b/16384;
u={o:e,I:e,J:e}}else{throw E}return u};io.iN=function(x){var J=new ih,o=0,c=D.ZY;c(J,o,2);o+=2;c(J,o,x.length);
o+=2;for(var $=0;$<x.length;$++){var E=x[$];J.Qy(o,10);io.DP(J.data,o,E);o+=10;var b=(E.aR?E.aR:"")+"\0";
D.b2(J,o,b);o+=4+b.length*2}return J.data.slice(0,o).buffer};io.Bw=function(x,J){x.aR=J};io.DP=function(x,J,o){var c=65535/255,E=D.uX;
E(x,J,0);E(x,J+2,Math.round(o.o*c));E(x,J+4,Math.round(o.I*c));E(x,J+6,Math.round(o.J*c));E(x,J+8,0)};
function cY(){}cY.QE=function(x){var J=new Uint8Array(x),o=4,c={};c.wd=D.tP(J,o);o+=4+c.wd.length*2+2;
c.exp=J[o++]==1;c.T3=[];var E=D.s(J,o);o+=4;for(var $=0;$<E;$++){var b={};c.T3.push(b);b.cD=D.ht(J,o);
o+=2;b.shift=J[o++]==1;b.a28=J[o++]==1;b.color=D.ht(J,o);o+=2;b.wd=D.tP(J,o);o+=4+b.wd.length*2+2;b.exp=J[o++]==1;
b.T3=[];var l=D.s(J,o);o+=4;for(var i=0;i<l;i++){var F={};b.T3.push(F);F.exp=J[o++]==1;F.T=J[o++]==1;
F.ajx=J[o++]==1;F.aCm=J[o++];var k=D.it(J,o,4);o+=4;if(k=="TEXT"){F.bV=cY.aoZ(J,o);o+=4+F.bV.length}else if(k=="long"){F.bV=D.it(J,o,4);
o+=4}else throw"e";F.Kp=cY.aoZ(J,o);o+=4+F.Kp.length;var U=D.du(J,o);o+=4;if(U==-1){F.Rx={};var I=iW.OX(J,F.Rx,o);
o+=I}}}console.log(c);var V=new Uint8Array(cY.iN(c));for(var $=0;$<V.length;$++)if(V[$]!=J[$]&&D.it(J,$+1,4)!="None"){console.log(J.length,V.length);
var u=4*($>>>2)-16;console.log(D.f$(J,u,64));console.log(D.f$(V,u,64));console.log(J.slice(u,u+64));
console.log(V.slice(u,u+64));throw"i"}return[c]};cY.aoZ=function(x,J){var o=D.s(x,J);return D.it(x,J+4,o)};
cY.abe=function(x,J,o){D.pW(x,J,o.length);D.qN(x,J+4,o)};cY.iN=function(x){var J=new ih,o=0;D.pW(J,o,16);
o+=4;D.b2(J,o,x.wd+"\0");o+=4+x.wd.length*2+2;J.Qy(o,1);J.data[o++]=x.exp?1:0;var c=x.T3.length;D.pW(J,o,c);
o+=4;for(var $=0;$<c;$++){var E=x.T3[$];D.ZY(J,o,E.cD);o+=2;J.Qy(o,2);J.data[o++]=E.shift?1:0;J.data[o++]=E.a28?1:0;
D.ZY(J,o,E.color);o+=2;D.b2(J,o,E.wd+"\0");o+=4+E.wd.length*2+2;J.Qy(o,1);J.data[o++]=E.exp?1:0;var b=E.T3.length;
D.pW(J,o,b);o+=4;for(var l=0;l<b;l++){var i=E.T3[l];J.Qy(o,4);J.data[o++]=i.exp?1:0;J.data[o++]=i.T?1:0;
J.data[o++]=i.ajx?1:0;J.data[o++]=i.aCm;var F="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(i.bV)!=-1;
D.qN(J,o,F?"long":"TEXT");o+=4;if(!F){cY.abe(J,o,i.bV);o+=4+i.bV.length}else{D.qN(J,o,i.bV);o+=4}cY.abe(J,o,i.Kp);
o+=4+i.Kp.length;D.Qo(J,o,i.Rx?-1:0);o+=4;if(i.Rx){var k=iW.rM(J,i.Rx,o);o+=k}}}return J.data.slice(0,o).buffer};
function fZ(){}fZ.QE=function(x){var J=new Uint8Array(x),o=0,c=D.s(J,o),F;o+=4;var E=D.it(J,o,8);o+=8;
var b=D.ZR(J,o);o+=4;var l=D.ZR(J,o);o+=4;var i=D.ZR(J,o);o+=4;console.log(b,l,i);if(c==2){F=new Float32Array(x,32,x.byteLength-32>>>2)}else if(c==3||c==4){F=new Float32Array(l*i*2);
var k=0,U=0,I=!0;o=c==3?32:16+8+40;while(o<J.length){var V=D.ZR(J,o);o+=4;if(I)U+=V;else{for(var $=0;
$<V;$++){F[k+U+$<<1]=D.iu(J,o);F[(k+U+$<<1)+1]=D.iu(J,o+4);o+=8}U+=V}I=!I;if(V!=0&&U==l){k+=l;U=0;I=!0;
if(k==l*i)break}}}else throw"unknown Mesh version: "+c;return{Qh:l,ao:i,map:F}};fZ.gO=function(x){var J=x.Qh,o=x.ao,c=x.map,E=new Uint8Array(32+o*J*8+o*8),b=0,l=0;
D.lO(E,b,3);b+=4;D.wZ(E,b,"yfqLhseM");b+=8;D.pF(E,b,2);b+=4;D.pF(E,b,J);b+=4;D.pF(E,b,o);b+=4;D.pF(E,b,0);
b+=4;D.pF(E,b,1);b+=4;for(var i=0;i<o;i++){D.pF(E,b,0);b+=4;D.pF(E,b,J);b+=4;for(var F=0;F<J;F++){D.to(E,b,c[l]);
D.to(E,b+4,c[l+1]);l+=2;b+=8}}return E.buffer};function eO(){}eO.QE=function(x){var J=new Uint8Array(x),o=0,c=D.it(J,o,4);
o+=4;var E=D.ht(J,o);o+=2;var b=D.s(J,o);o+=4;var l=[];for(var $=0;$<b;$++){var i=D.s(J,o);o+=4;var F={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
l.push(F);var k=D.tP(J,o);F.Nm.v=k;o+=4+k.length*2+2;var U=D.ht(J,o);o+=2;var I=D.ht(J,o);o+=2;for(var V=0;
V<I;V++){var u=q._8.Ji(0,0,!0);u.v.Vrtc.v=D.ht(J,o);o+=2;u.v.Hrzn.v=D.ht(J,o);o+=2;F.Crv.v.push(u)}if(i==1){}else if(i==2){for(var V=0;
V<I;V++){F.Crv.v[V].v.Cnty.v=J[o]==1;o+=1}}else throw"error";var N=D.s(J,o);o+=4;var e=D.s(J,o);o+=4}return l};
eO.Bw=function(x,J){x.Nm.v=J};eO.iN=function(x){var J=new ih,o=0;D.qN(J,o,"8BFS");o+=4;D.ZY(J,o,1);o+=2;
D.pW(J,o,x.length);o+=4;for(var $=0;$<x.length;$++){D.pW(J,o,2);o+=4;var c=x[$];D.b2(J,o,c.Nm.v+"\0");
o+=4+c.Nm.v.length*2+2;D.ZY(J,o,2);o+=2;var E=c.Crv.v.length;D.ZY(J,o,E);o+=2;for(var b=0;b<E;b++){var l=c.Crv.v[b];
D.ZY(J,o,l.v.Vrtc.v);o+=2;D.ZY(J,o,l.v.Hrzn.v);o+=2}J.Qy(o,E);for(var b=0;b<E;b++){J.data[o]=c.Crv.v[b].v.Cnty.v;
o++}D.pW(J,o,0);o+=4;D.pW(J,o,0);o+=4}return J.data.slice(0,o).buffer};function am(){}am.QE=function(x,J){var o=new Uint8Array(x),c=4,E=J.split("/").pop().split(".")[0],b=D.ht(o,c);
c+=2;var l=D.s(o,c);c+=4;var i=[];for(var $=0;$<l;$++){var F={};i.push(F);c=am.aAB(o,c,F);F.name=E+"/"+F.name.split("=").pop()}return i};
am.Bw=function(x,J){x.name=J};am.iN=function(x){var J=new ih,o=0;D.qN(J,o,"8BPT");o+=4;D.ZY(J,o,1);o+=2;
D.pW(J,o,x.length);o+=4;for(var $=0;$<x.length;$++){var c=x[$],E=c.name;c.name=c.name.split("/").pop();
o=am.a9c(J,o,c);c.name=E}return J.data.slice(0,o).buffer};am.cb=function(x,J,o){var c=J+o,E=[];while(J<c){var b={},l=D.s(x,J);
J+=4;var i=J;J=am.aAB(x,J,b);if(!b.Gc[1].Kx())E.push(b);if(l%4!=0)l+=4-l%4;J=i+l}return E};am.HH=function(x,J,o){for(var $=0;
$<o.length;$++){var c=o[$];J+=4;var E=J;J=am.a9c(x,J,c);var b=J-E;D.pW(x,E-4,b);if(b%4!=0)E+=4-b%4;J=E+b}return J};
am.aAB=function(x,J,o){var c=D.s(x,J);J+=4;if(c!=1)alert("Unknown version of pattern");var E=D.s(x,J);
J+=4;if(E!=1&&E!=2&&E!=3)console.log("Unsupported mode of pattern: "+E);var b=D.ht(x,J);J+=2;var l=D.ht(x,J);
J+=2;var i=new ha(0,0,l,b);o.name=D.tP(x,J);J+=4+2*o.name.length+2;var F=x[J];J++;o.id=D.it(x,J,F);J+=o.id.length;
var k=-1;if(E==2){k=J;J+=3*256+4}var U=new q.HC(l*b);J=am.aaX(x,J,U);if(E==2){for(var $=0;$<U.o.length;
$++){var I=3*U.o[$];U.o[$]=x[k+I+0];U.I[$]=x[k+I+1];U.J[$]=x[k+I+2]}}var V=q.R(i.P()*4);q.rL(U,V);o.Gc=[V,i];
return J};am.a9c=function(x,J,o){var c=o.Gc[0],E=o.Gc[1];D.pW(x,J,1);J+=4;D.pW(x,J,3);J+=4;D.ZY(x,J,E.e);
J+=2;D.ZY(x,J,E.m);J+=2;D.b2(x,J,o.name+"\0");J+=4+2*o.name.length+2;D.lP(x,J,o.id.length);J++;D.qN(x,J,o.id);
J+=o.id.length;var b=new q.HC(E.P());q.f8(c,b);J=am.atQ(x,J,b,E);return J};am.aaX=function(x,J,o){var c=J,E={By:null,U:[],axQ:null,fD:null},b=D.s(x,J);
J+=4;var l=D.s(x,J);J+=4;E.By=D.eI(x,J);J+=16;var i=D.s(x,J);J+=4;for(var $=0;$<i+2;$++){var F=D.s(x,J);
J+=4;if(F==0)continue;var k=D.s(x,J);J+=4;if(k==0)continue;var U=D.s(x,J);J+=4;var I=D.eI(x,J);J+=16;
var V=D.ht(x,J);J+=2;var u=x[J];J++;var N=j0.W9(!1,U,x,I.m,I.e,J,u);if($<i)E.U.push(N);if($==i)E.axQ=N;
if($==i+1)E.fD=N;J+=k-23}if(!E.By.Kx()){if(E.U[0])o.o=E.U[0];if(E.U[1])o.I=E.U[1];else o.I=E.U[0].slice(0);
if(E.U[2])o.J=E.U[2];else o.J=E.U[0].slice(0);if(E.fD)o.V=E.fD;else o.V.fill(255)}return J};am.atQ=function(x,J,o,c){var E=J,b={By:c,U:[o.o,o.I,o.J],axQ:null,fD:o.V};
D.pW(x,J,3);J+=4;D.pW(x,J,0);J+=4;D.Vu(x,J,c);J+=16;D.pW(x,J,24);J+=4;for(var $=0;$<24+2;$++){var l=J,i=$<3||$==25?1:0;
D.pW(x,J,i);J+=4;if(i==0)continue;D.pW(x,J,0);J+=4;D.pW(x,J,8);J+=4;D.Vu(x,J,c);J+=16;D.ZY(x,J,8);J+=2;
D.lP(x,J,1,1);J++;var F=$<3?b.U[$]:b.fD;x.Qy(J,c.P()+2);J=j0.x7(!1,F,x.data,c.m,c.e,J,1);D.pW(x,l+4,J-l-8)}D.pW(x,E+4,J-E-8);
return J};function bx(){}bx.QE=function(x,J){var o=new Uint8Array(x),E=0;if(o[0]==71)return bx.aC$(o);
var c=J.split("/").pop().split(".")[0],b=D.it(o,E,4);E+=4;var l=D.ht(o,E);E+=2;var i=[];if(l<=3){var F=D.ht(o,E);
E+=2;for(var $=0;$<F;$++){var k=o[E++],U=D.it(o,E,k);E+=k;var I=bx.ayE(o,E,U),V=I[0];E=I[1];i.push(V)}}else{var I={},u=iW.OX(o,I,E+4),N=I.GrdL.v;
for(var $=0;$<N.length;$++)i[$]=N[$].v.Grad.v}for(var $=0;$<i.length;$++){var e=i[$].Nm.v.split("/").pop().split("=").pop();
i[$].Nm.v=c+"/"+e}return i};bx.Bw=function(x,J){x.Nm.v=J};bx.iN=function(x){var J=new ih,o=0;D.qN(J,o,"8BGR");
o+=4;D.ZY(J,o,5);o+=2;D.pW(J,o,16);o+=4;var c={classID:"null",GrdL:{t:"VlLs",v:[]}},E=c.GrdL.v;for(var $=0;
$<x.length;$++){var b=JSON.parse(JSON.stringify(x[$]));b.Nm.v=b.Nm.v.split("/").pop();E[$]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:b}}}}o+=iW.rM(J,c,o);
return J.data.slice(0,o).buffer};bx.ayE=function(x,J,o){var c={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:o},Trns:{t:"VlLs",v:[]}},E=D.ht(x,J);
J+=2;if(E==0)throw"e";for(var $=0;$<E;$++){var b=D.s(x,J),l=D.s(x,J+4),i=io.vp(x,J+8),F={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:i.o},Grn:{t:"doub",v:i.I},Bl:{t:"doub",v:i.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:b},Mdpn:{t:"long",v:l}}};
c.Clrs.v.push(F);J+=20}var k=D.ht(x,J);J+=2;for(var $=0;$<k;$++){var b=D.s(x,J),l=D.s(x,J+4),U=D.ht(x,J+8),F={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*U/255)}},Lctn:{t:"long",v:b},Mdpn:{t:"long",v:l}}};
c.Trns.v.push(F);J+=10}var I=D.ht(x,J);J+=2;c.Intr.v=I==2?D.ht(x,J):4096;J+=2;var V=D.ht(x,J);J+=2;return[c,J]};
bx.aCv=function(x,J,o){var c=o.Clrs.v.length;D.ZY(x,J,c);J+=2;for(var $=0;$<c;$++){var E=o.Clrs.v[$];
D.pW(x,J,E.v.Lctn.v);D.pW(x,J+4,E.v.Mdpn.v);D.ZY(x,J+8,0);var b=q.r.qP(q.r.fL(E.v.Clr.v)),l=[b.Rd.v,b.Grn.v,b.Bl.v,0];
for(var i=0;i<4;i++)D.ZY(x,J+10+i*2,Math.round(65535*(l[i]/255)));J+=20}var F=o.Trns.v.length;D.ZY(x,J,F);
J+=2;for(var $=0;$<F;$++){var E=o.Trns.v[$];D.pW(x,J,E.v.Lctn.v);D.pW(x,J+4,E.v.Mdpn.v);D.ZY(x,J+8,Math.round(255*E.v.Opct.v.val/100));
J+=10}D.ZY(x,J,2);J+=2;D.ZY(x,J,o.Intr.v);J+=2;D.ZY(x,J,32);J+=2;return J};bx.aC$=function(x){var J=D.cA(x,0,x.length).split("\n"),o=parseFloat(J[2]),c=[],E=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]).Grad.v;
E.Intr.v=0;E.Nm.v=J[1];for(var $=0;$<o;$++){var b=J[3+$].split(" ").map(parseFloat),l=b[11],i=b[12];
c.push([b[0],b.slice(3,6),b[6]]);if(i!=0){var F=q.tu(b[3],b[4],b[5]),k=q.tu(b[7],b[8],b[9]),U=F.ao,I=k.ao;
if(i==1&&U>I)I++;if(i==2&&U<I)U++;var V=Math.round(Math.abs(I-U)*7);if(V>1)for(var u=0;u<V;u++){var N=1-(u+1)/(V+1),e=1-N,B=q.qf(N*U+e*I,N*F.Rw+e*k.Rw,N*F.fz+e*k.fz);
c.push([N*b[0]+e*b[2],[B.o,B.I,B.J],N*b[6]+e*b[10]])}}c.push([b[2],b.slice(7,10),b[10]])}c.sort(function(j,T){return j[0]-T[0]});
q.r.p3(c,E);return[E]};function eX(){}eX.QE=function(x){var J=new Uint8Array(x),o=[],c=[],E=[],b=[],l=[],i=0,F=D.it(J,i,4);
i+=4;var k=D.s(J,i);i+=4;var U=D.s(J,i);i+=4;while(i<J.length){var I=D.it(J,i,4);i+=4;var V=D.it(J,i,4);
i+=4;var u=D.s(J,i);i+=4;if(V=="tppa"){c=am.cb(J,i,u);i+=u}else if(V=="tpbd"){E=ac.apn(J,i,u,1,1);i+=u}else if(V=="tptp"){var N=D.s(J,i);
i+=4;for(var $=0;$<N;$++){var e=D.tP(J,i);i+=6+e.length*2;i+=4;var B={};i+=iW.OX(J,B,i);o.push([e,B])}while((i&3)!=0)i++}else if(V=="tpsh"){var j=i,T=J.slice(i,i+u);
while(i<j+u){var a=D.s(J,i);i+=4;i=fV.a91(J,i,"Shape",b)}i=j+u}else if(V=="tpst"){var j=i;i+=4;while(i<j+u){var P=D.s(J,i);
i+=4;var v=i,R=D.s(J,i);i+=4;var B={OA:{},oe:{}};l.push(B);i+=4;i+=iW.OX(J,B.OA,i);i+=4;i+=iW.OX(J,B.oe,i);
i=v+P;var y=B.oe.Lefx;if(y){if(y.v.masterFXSwitch==null)y.v.masterFXSwitch={t:"bool",v:!0};ie.Vn(y.v)}}i=j+u}else{console.log(J.slice(i-8,i+64));
console.log(D.it(J,i-8,64));throw V}}return{I2:E,Uc:c,list:o,age:b,W0:l}};eX.Bw=function(x,J){x[0]=J};
eX.iN=function(x){var J=new ih,o=0;D.qN(J,o,"8BTP");o+=4;D.pW(J,o,3);o+=4;D.pW(J,o,1);o+=4;var c=[x.Uc,x.I2,x.list];
for(var $=0;$<3;$++){if(c[$].length==0)continue;D.qN(J,o,"8BIM");o+=4;var E=["tppa","tpbd","tptp"][$];
D.qN(J,o,E);o+=4;var b=o;o+=4;if(E=="tppa"){o=am.HH(J,o,x.Uc)}else if(E=="tpbd"){o=ac.ahr(J,o,x.I2)}else if(E=="tptp"){D.pW(J,o,x.list.length);
o+=4;for(var l=0;l<x.list.length;l++){var i=x.list[l];D.b2(J,o,i[0]+"\0");o+=6+i[0].length*2;D.pW(J,o,16);
o+=4;o+=iW.rM(J,i[1],o)}}D.pW(J,b,o-b-4);while((o&3)!=0)o++;J.Qy(o,0)}return J.data.slice(0,o).buffer};
function f2(){}f2.QE=function(x,J){var o=new Uint8Array(x),c;if(D.s(o,0)==o.length)c="icc";else if(o[0]=="<".charCodeAt(0))c="look";
else if(D.C8(o,"LUT_3D_SIZE")!=-1)c="cube";else c="3DL";if(c!="icc"){var E=f2.a1K(o,c),b=f2.a50(E[0],E[1]);
o=b}var l=[];for(var $=0;$<o.length;$++)l.push(o[$]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:J?J:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:l}}]};
f2.iN=function(x){var J=x[0],o=new Uint8Array(J.profile.v);return o.buffer};f2.Bw=function(x,J){x.Nm.v=J};
f2.a50=function(x,J){var o=new ih,c=128;o.Qy(0,128);var E=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var $=0;$<E.length;$++)o.data[$]=E[$];var b=["desc","A2B0"],l=b.length,i=128+4+l*12;D.pW(o,c,l);
c+=4;for(var F=0;F<l;F++){var k=b[F];D.qN(o,c,k);c+=4;D.pW(o,c,i);c+=4;var U=i;if(k=="desc"){D.qN(o,U,"mluc");
U+=4;U+=4;D.pW(o,U,1);U+=4;D.pW(o,U,12);U+=4;D.qN(o,U,"enUS");U+=4;var I="ICC by Photopea\0",V=I.length*2+2;
D.pW(o,U,V);U+=4;D.pW(o,U,28);U+=4;o.Qy(U,V);for(var $=0;$<I.length;$++)o.data[U+$*2+1]=I.charCodeAt($);
U+=V}if(k=="A2B0"){D.qN(o,U,"mAB ");U+=4;U+=4;o.Qy(U,4);o.data[U]=3;o.data[U+1]=3;U+=4;o.Qy(U,4*5);U+=4*3;
D.pW(o,U,U+8-i);U+=4;U+=4;o.Qy(U,20);o.data[U]=x;o.data[U+1]=x;o.data[U+2]=x;U+=16;o.data[U]=2;U+=4;
var u=x*x*x*3;o.Qy(U,u*2);for(var $=0;$<u;$++)D.uX(o.data,U+$*2,Math.max(0,Math.min(65535,Math.round(J[$]*65535))));
U+=u*2}var N=U-i;while((N&3)!=0)N++;D.pW(o,c,N);c+=4;i+=N}D.pW(o,0,i);return o.data.slice(0,i)};f2.a1K=function(x,J){J="LUTFormat"+J.toUpperCase();
var o=[],c=0,E=D.cA(x,0,x.length),b="";for(var $=0;$<x.length&&b=="";$++){if(x[$]==10)b="\n";else if(x[$]==13){b="\r";
if(x[$+1]==10)b+="\n"}}if(J=="LUTFormatCUBE"){var l=E.split(b);for(var $=0;$<l.length;$++){if(l[$]==""||l[$][0]=="#")continue;
var i=l[$].split(" "),F=i[0];if(F=="LUT_3D_SIZE"){c=parseInt(i[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(F)!=-1)continue;
o.push(parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2]))}o=f2.ajU(c,o)}else if(J=="LUTFormat3DL"){var l=E.split(b),k=1/4095;
for(var $=0;$<l.length;$++){var U=l[$];if(U==""||U=="3DMESH"||U.startsWith("Mesh")||U[0]=="#")continue;
var i=U.split(" "),F=i[0];if(c==0){c=i.length;continue}o.push(parseFloat(i[0])*k,parseFloat(i[1])*k,parseFloat(i[2])*k)}}else if(J=="LUTFormatLOOK"){var I=new DOMParser,V=I.parseFromString(E,"text/xml"),u=V.getElementsByTagName("LUT")[0],N=u.children[0].textContent;
c=parseInt(JSON.parse(N));var e=u.children[1].textContent;e=e.replace(/"/g,"").replace(/\s/g,"");var B=3*c*c*c,j=B*4,T=new Uint8Array(j);for(var $=0;$<j;$++){var a=e.charCodeAt($*2),P=e.charCodeAt($*2+1),v=a<58?a-48:a-55,R=P<58?P-48:P-55;T[$]=(v<<4)+R}for(var $=0;$<B;$++)o.push(D.iu(T,$<<2));o=f2.ajU(c,o)}else throw J;return[c,o]};f2.ahp=function(x,J,o){var c=["#Created by www.Photopea.com","TITLE \""+o+"\"","","#LUT size","LUT_3D_SIZE "+J,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],E=6;
for(var $=0;$<x.length;$+=3){c.push(x[$].toFixed(E)+" "+x[$+1].toFixed(E)+" "+x[$+2].toFixed(E))}c.push("");
return D.Ey(c.join("\n")).buffer};f2.ajU=function(x,J){var o=[],c=x*x*x;for(var $=0;$<c;$++)o.push(0,0,0);
for(var E=0;E<x;E++)for(var b=0;b<x;b++)for(var l=0;l<x;l++){var $=3*(l+b*x+E*x*x),i=3*(E+b*x+l*x*x);
o[i]=J[$];o[i+1]=J[$+1];o[i+2]=J[$+2]}return o};function iW(){}iW.OX=function(x,J,o,c,E){var b=o,l;if(E==null)E=0;
var i=D.s(x,o);if(i==0){l="";o+=4}else{l=D.tP(x,o);o+=4+2*l.length+2}if(l!="")J.__name=l;J.classID=iW.k3(x,o);
if(c)console.log("\t".repeat(E),"- reading descriptor",J.classID,o);o+=iW.v4(x,o);var F=D.du(x,o);o+=4;
for(var $=0;$<F;$++){var k=iW.k3(x,o);o+=iW.v4(x,o);var U=iW.acK(x,o,c,E);J[k]=U;o+=U.size;delete U.size}return o-b};
iW.rM=function(x,J,o,c){var E=o,b=J.__name;if(b==null)b="";b+="\0";D.b2(x,o,b);o+=4+2*b.length;iW.pY(x,o,J.classID);
o+=iW.v4(x.data,o);D.Qo(x,o,Object.keys(J).length-1-(J.__name==null?0:1));o+=4;for(var l in J){if(l=="classID")continue;
if(l=="__name")continue;iW.pY(x,o,l);o+=iW.v4(x.data,o);o+=iW.aa_(x,o,J[l])}return o-E};iW.acK=function(x,J,o,c){var E=J,b=D.it(x,J,4);
J+=4;var l={size:0,t:b,v:null};if(o)console.log("\t".repeat(c),"reading key",b,E);switch(b){case"obj ":case"VlLs":l.v=[];
var i=D.s(x,J);J+=4;for(var $=0;$<i;$++){var F=iW.acK(x,J,o,c+1);J+=F.size;delete F.size;l.v.push(F)}break;
case"UntF":l.v={type:D.it(x,J,4),val:D.m0(x,J+4)};J+=12;break;case"doub":l.v=D.m0(x,J);J+=8;break;case"bool":l.v=x[J]==1;
J+=1;break;case"long":l.v=D.du(x,J);J+=4;break;case"comp":l.v=D.du(x,J+4);J+=8;break;case"Objc":l.v={};
var k=iW.OX(x,l.v,J,o,c+1);J+=k;break;case"TEXT":var U=D.s(x,J);if(U==0){l.v="";J+=4}else{l.v=D.tP(x,J);
J+=4+l.v.length*2+2}break;case"enum":var I=iW.k3(x,J);J+=iW.v4(x,J);var V=iW.k3(x,J);J+=iW.v4(x,J);l.v={};
l.v[I]=V;break;case"tdta":var u=D.du(x,J);J+=4;l.v=[];for(var $=0;$<u;$++)l.v.push(x[J+$]);J+=u;break;
case"ObAr":var N=D.s(x,J);J+=4;var e=D.tP(x,J);J+=4+2*e.length+2;if(e!="")throw e;var B=iW.k3(x,J);J+=4+Math.max(4,B.length);
l.v={classID:B,arr:[]};var j=D.s(x,J);J+=4;for(var $=0;$<j;$++){var B=iW.k3(x,J);J+=4+Math.max(4,B.length);
var I=D.it(x,J,4);J+=4;var T=D.it(x,J,4);J+=4;var a={id:B,type:I,uID:T,arr:[]};l.v.arr.push(a);var P=D.s(x,J,4);
J+=4;for(var v=0;v<P;v++){var R=D.m0(x,J);J+=8;a.arr.push(R)}}break;case"Pth ":var y=J,u=D.s(x,J);J+=4;
var t=D.it(x,J,4);J+=4;var g=D.ZR(x,J);J+=4;var H=D.avu(x,J);J+=4+H.length*2;l.v={sig:t,pth:H};break;
case"Clss":case"type":case"rele":var H=D.tP(x,J);J+=4+H.length*2+2;var _=iW.k3(x,J);J+=4+Math.max(4,_.length);
l.v={classID:_};if(H!="")l.v.__name=H;if(b=="rele"){l.v.val=D.du(x,J);J+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var Y=iW.gZ[b],H=D.tP(x,J);
J+=4+H.length*2+2;if(H.length!=0){console.log(b,H);throw"e"}l.v={};for(var $=0;$<Y.length;$++){var _=iW.k3(x,J);
J+=4+Math.max(4,_.length);l.v[Y[$]]=_}if(b=="name"){var H=D.tP(x,J);J+=4+H.length*2+2;l.v.val=H}if(b=="indx"||b=="Idnt"){l.v.val=D.s(x,J);
J+=4}break;case"alis":var u=D.s(x,J);J+=4;l.v=D.it(x,J,u);J+=u;break;default:{console.log("unknown oskey: "+b+", "+E);
throw"e";return l}}if(o){console.log("\t".repeat(c),l.v);console.log("\t".repeat(c),"======",J)}l.size=J-E;
return l};iW.gZ={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
iW.aa_=function(x,J,o){var c=J,E=o.t;o=o.v;D.qN(x,J,E);J+=4;switch(E){case"obj ":case"VlLs":D.Qo(x,J,o.length);
J+=4;for(var b=0;b<o.length;b++){var l=iW.aa_(x,J,o[b]);J+=l}break;case"UntF":D.qN(x,J,o.type);D.iV(x,J+4,o.val);
J+=12;break;case"doub":D.iV(x,J,o);J+=8;break;case"bool":D.lP(x,J,o?1:0,1);J+=1;break;case"long":D.Qo(x,J,o);
J+=4;break;case"comp":D.Qo(x,J+4,o);J+=8;break;case"Objc":var l=iW.rM(x,o,J);J+=l;break;case"TEXT":D.b2(x,J,o+"\0");
J+=4+o.length*2+2;break;case"enum":var i=Object.keys(o)[0],F=o[i];iW.pY(x,J,i);J+=iW.v4(x.data,J);iW.pY(x,J,F);
J+=iW.v4(x.data,J);break;case"tdta":D.pW(x,J,o.length);J+=4;D.w6(x,J,o);J+=o.length;break;case"ObAr":D.pW(x,J,o.arr[0].arr.length);
J+=4;D.b2(x,J,"\0");J+=6;iW.pY(x,J,o.classID);J+=4+Math.max(4,o.classID.length);D.pW(x,J,o.arr.length);
J+=4;for(var $=0;$<o.arr.length;$++){var k=o.arr[$];iW.pY(x,J,k.id);J+=4+Math.max(4,k.id.length);D.qN(x,J,k.type);
J+=4;D.qN(x,J,k.uID);J+=4;D.pW(x,J,k.arr.length);J+=4;for(var b=0;b<k.arr.length;b++){D.iV(x,J,k.arr[b]);
J+=8}}break;case"Pth ":var U=o.pth.length*2+4+8;D.pW(x,J,U);J+=4;D.qN(x,J,o.sig);J+=4;D.y8(x,J,U);J+=4;
D.aoy(x,J,o.pth);J+=o.pth.length*2+4;break;case"Clss":case"type":case"rele":var I=o.__name;if(I==null)I="";
D.b2(x,J,I+"\0");J+=4+I.length*2+2;var V=o.classID;iW.pY(x,J,V);J+=4+Math.max(4,V.length);if(E=="rele"){D.Qo(x,J,o.val);
J+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var u=iW.gZ[E];D.pW(x,J,1);J+=6;for(var $=0;
$<u.length;$++){var V=o[u[$]];iW.pY(x,J,V);J+=4+Math.max(4,V.length)}if(E=="name"){D.b2(x,J,o.val+"\0");
J+=4+o.val.length*2+2}if(E=="indx"||E=="Idnt"){D.pW(x,J,o.val);J+=4}break;case"alis":var U=o.length;
D.pW(x,J,U);J+=4;D.qN(x,J,o);J+=U;break;default:console.log("unknown oskey: "+E);J=c;break}return J-c};
iW.k3=function(x,J){var o=D.du(x,J);if(o>1e3)throw"e";if(o==0)o=4;return D.it(x,J+4,o).trim()};iW.v4=function(x,J){var o=D.du(x,J);
return o==0?8:4+o};iW.pY=function(x,J,o){var c="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),E=4<o.length||c.indexOf(o)!=-1;
D.Qo(x,J,E?o.length:0);D.qN(x,J+4,o);if(o.length<4&&!E){var b="";for(var $=o.length;$<4;$++)b+=" ";D.qN(x,J+4+o.length,b)}};
iW.a97=function(x){var J={};for(var o in x){if(o=="classID")J[o]=x[o];else if(o=="__name")J[o]=x[o];
else J[o]=iW.aye(x[o])}return J};iW.aye=function(x){if(x.vB=="Objc")return iW.a97(x.v);else if(x.vB=="VlLs"){var J=[];
for(var $=0;$<x.v.length;$++)J.push(iW.aye(x.v[$]));return J}else if(x.vB=="UntF")return x.v.val;else return x.v};
function ie(){}ie.a1k=function(x,J,o,c,E,b){while(J<o){var l=D.it(x,J,4);J+=4;if(l!="8BIM"&&l!="8B64"){console.log("layer information signature error! "+l,"PSB = "+E);
alert("Error in PSD file: wrong signature.");return o}var i=D.it(x,J,4);J+=4;var F=D.s(x,J);J+=4;var k=E&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(i)!=-1;
if(k){F=F<<32|D.du(x,J);J+=4}var U=["lrFX","PlLd"];if(U.indexOf(i)!=-1){if(F%4!=0)F+=4-F%4;J+=F;continue}switch(i){case"iOpa":c[i]=x[J];
break;case"brst":c[i]=[1,1,1];for(var $=0;$<F;$+=4)c[i][D.s(x,J+$)]=0;break;case"knko":c[i]=x[J];break;
case"infx":c[i]=x[J];break;case"clbl":c[i]=x[J];break;case"lmgm":c[i]=x[J];break;case"vmgm":c[i]=x[J];
break;case"fcmy":c[i]=x[J];break;case"lyid":c[i]=D.s(x,J);break;case"lsct":c[i]={type:D.s(x,J)};if(F>=12)c[i].n5=D.it(x,J+8,4);
break;case"lsdk":c.lsct={type:D.s(x,J)};break;case"lyvr":c[i]=D.s(x,J);break;case"lnsr":var I={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
c[i]=D.it(x,J,4);break;case"lspf":c[i]=D.s(x,J);break;case"lclr":c[i]=D.ht(x,J);break;case"luni":c[i]=D.bi(x,J);
break;case"fxrp":c[i]=new ck(D.m0(x,J),D.m0(x,J+8));break;case"artb":case"artd":c[i]={};iW.OX(x,c[i],J+4);
break;case"SoCo":c[i]={};iW.OX(x,c[i],J+4);break;case"GdFl":c[i]={};iW.OX(x,c[i],J+4);ie.aH(c[i],i);
break;case"PtFl":c[i]={};iW.OX(x,c[i],J+4);ie.aH(c[i],i);break;case"CgEd":c[i]={};iW.OX(x,c[i],J+4);
break;case"brit":var V=c.brit=fn.Bt("brit"),u={};V.Brgh.v=D.RP(x,J);V.Cntr.v=D.RP(x,J+2);V.useLegacy.v=!0;
break;case"levl":var N=x.buffer.slice(J,J+F);c[i]=bF.QE(N);break;case"curv":c[i]=fB.nv(x,J,F);break;
case"expA":var e=D.ht(x,J),B=c[i]=fn.Bt("expA");B.Exps.v=D.RW(x,J+2);B.Ofst.v=D.RW(x,J+6);B.gammaCorrection.v=D.RW(x,J+10);
break;case"vibA":c[i]={};iW.OX(x,c[i],J+4);break;case"hue2":c[i]=eZ.nv(x,J,F);break;case"blnc":var B=c[i]=fn.Bt(i);
B.PrsL.v=x[J+18]==1;var j=["ShdL","MdtL","HghL"];for(var $=0;$<3;$++)for(var T=0;T<3;T++)B[j[$]].v[T].v=D.RP(x,J+$*6+T*2);
break;case"blwh":var a={};iW.OX(x,a,J+4);var B=fn.Bt(i),P="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var $=0;$<P.length;$++){B[P[$]]=a[P[$]];delete a[P[$]]}c[i]=B;break;case"phfl":var B=c[i]=fn.Bt(i),v=B.Clr.v,e=D.ht(x,J);
if(e==3){var R=[D.s(x,J+2),D.s(x,J+6),D.s(x,J+10)],y=32768,t=q.oj(R[0]/y,R[1]/y,R[2]/y);v.Lmnc.v=t.FQ;
v.A.v=t.V;v.B.v=t.J}if(e==2){var g=D.ht(x,J+2);if(g!=7)throw"e";v.Lmnc.v=D.RP(x,J+4)/100;v.A.v=D.RP(x,J+6)/100;
v.B.v=D.RP(x,J+8)/100}var H=J+2+(e==3?12:10);B.Dnst.v=D.s(x,H);H+=4;B.PrsL.v=x[H]==1;break;case"mixr":var _={rQ:D.ht(x,J+2)==1,b:[]};
for(var $=0;$<20;$++)_.b.push(D.RP(x,J+4+$*2));c[i]=dv.at_(_);break;case"clrL":case"rplc":c[i]={};iW.OX(x,c[i],J+6);
break;case"nvrt":c[i]={};break;case"post":c[i]=fn.Bt("post");c[i].Lvls.v=D.ht(x,J);break;case"thrs":c[i]=fn.Bt("thrs");
c[i].Lvl.v=D.ht(x,J);break;case"grdm":var Y=J,K=D.ht(x,Y);Y+=2;var f=x[Y]==1,m=x[Y+1]==1;Y+=2;var C=D.it(x,Y,4);
if(C=="Perc"||C=="Gcls"||C=="Lnr "||C=="\0\0\x0B\x1D")Y+=4;var Z=D.bi(x,Y);Y+=4+Z.length*2;var A=bx.ayE(x,Y,Z),d=A[0];
Y=A[1];var G=D.ht(x,Y);Y+=2;var r=D.s(x,Y);Y+=4;var X=D.ht(x,Y)==1;Y+=2;var w=D.ht(x,Y)==1;Y+=2;var S=D.s(x,Y);
Y+=4;var z=D.ht(x,Y);Y+=2;var s=[],M=[];for(var $=0;$<4;$++){s.push({t:"long",v:~~(D.ht(x,Y+$*2)*100/32768)});
M.push({t:"long",v:~~(D.ht(x,Y+$*2+8)*100/32768)})}Y+=16;var Q=D.ht(x,Y);Y+=2;if(G==1)d={classID:"Grdn",Nm:{t:"TEXT",v:Z},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:X},VctC:{t:"bool",v:w},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:r},Smth:{t:"long",v:S},Mnm:{t:"VlLs",v:s},Mxm:{t:"VlLs",v:M}};
var O=fn.Bt("grdm");O.Rvrs.v=f;O.Grad.v=d;c[i]=O;break;case"selc":c[i]=dC.nv(x,J,F);break;case"vmsk":case"vsms":var W=c.vmsk=new h._b,e9=D.du(x,J+4),jV=(e9>>0&1)==1;
W.uM=(e9>>1&1)==0;W.isEnabled=(e9>>2&1)==0;W.$=fV.vr(x,J+8,F-8,b.m,b.e);break;case"shmd":c[i]={};var co=D.s(x,J),H=J+4;
for(var $=0;$<co;$++){var l=D.it(x,H,4);H+=4;var dz=D.it(x,H,4);H+=4;var eh=x[H];H++;if(Math.max(x[H],x[H+1])!=0)throw"e";
H+=3;var a9=D.s(x,H);H+=4;if(dz=="cust"||dz=="cmls"||dz=="extn"||dz=="mlst"){var kB=D.s(x,H);if(kB!=16)H+=4;
if(D.s(x,H)==16){var a={};iW.OX(x,a,H+4,!1);c[i][dz]=a;if(dz=="cmls")n.D4.a5c(c[i][dz])}}else{console.log("unknown shmd key: "+dz+", size: "+a9)}H+=a9}break;
case"shpa":var e=D.s(x,J),dc=D.s(x,J+4);if(dc!=0)console.log("some patterns present!");break;case"TySh":var eT=c[i]={},e=D.ht(x,J);
eT.M=D.Sr(x,J+2);var fv=D.ht(x,J+2+48);eT.kQ={};try{var jS=iW.OX(x,eT.kQ,J+56)}catch(j4){c[i]=null;break}var cx=iv.a04();
for(var bX in cx)if(eT.kQ[bX]==null)eT.kQ[bX]=cx[bX];eT.Ma={};var gi=iW.OX(x,eT.Ma,J+56+jS+6);eT.Ca=D.aiR(x,J+56+jS+6+gi);
eT.TC=bP.QE(eT.kQ.EngineData.v);iv.a7W(eT.TC.EngineDict.StyleRun.RunArray);if(eT.TC.ResourceDict==null)eT.TC.ResourceDict=JSON.parse(JSON.stringify(eT.TC.DocumentResources));
delete eT.kQ.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var cM=D.s(x,J),ea=D.s(x,J+4);c.lmfx={};
var jS=iW.OX(x,c.lmfx,J+8);ie.Vn(c.lmfx);break;case"FMsk":c[i]=D.sH(x,J,F);break;case"Txt2":c[i]={};
c[i].raw=D.sH(x,J,F);c[i].i5=cL.QE(c[i].raw);break;case"Patt":c[i]=am.cb(x,J,F);break;case"SoLd":var a1=D.it(x,J,4),db=D.s(x,J+4),d2=D.s(x,J+8),hu=c[i]={},fF=iW.OX(x,hu,J+12),il=hu.warp,f4=hu.quiltWarp;
if(f4==null)f4=hu.quiltWarp=q.Oq.aiQ(il);delete hu.warp;var aK=f4.v.warpStyle.v.warpStyle,f9=f4.v.warpValues;
if(aK!="warpCylinder"&&f9){f4.v.warpValue={t:"doub",v:f9.v[0].v};delete f4.v.warpValues}if(hu.nonAffineTransform==null)hu.nonAffineTransform=JSON.parse(JSON.stringify(hu.Trnf));
if(hu.Impr==null)hu.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var db=D.s(x,J);
c[i]={};var fF=iW.OX(x,c[i],J+4);break;case"vscg":var dz=D.it(x,J,4),db=D.s(x,J+4);c[dz]={};var fF=iW.OX(x,c[dz],J+8);
ie.aH(c[dz],dz);break;case"vogk":var e0=D.s(x,J),db=D.s(x,J+4);c[i]={};var fF=iW.OX(x,c[i],J+8);c[i]=c[i].keyDescriptorList.v;
for(var $=0;$<c[i].length;$++){var j7=c[i][$].v;if(!q.WE.B8(j7))continue;if(j7.keyOriginBoxCorners==null){var jb=q.WE.mr(j7);
j7.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var hN=[jb[0],jb[1],jb[2],jb[1],jb[2],jb[3],jb[0],jb[3]];
if(j7.keyOriginType.v==4)hN=q.WE.ay6(q.WE.cG(j7),j7.keyOriginLineWeight.v);q.WE.hB(j7,"keyOriginBoxCorners",hN)}}break;
case"lnk2":case"lnkD__":case"lnk3__":c[i]=[];var Y=J;while(Y<J+F){var fe=new h.dJ;c[i].push(fe);var hn=D.Dv(x,Y);
Y+=8;var a3=Y;fe.type=D.it(x,Y,4);Y+=4;if(fe.type!="liFD"){alert("Unknown Linked Layer type: "+fe.type);
break;throw fe.type}fe.ZA=D.s(x,Y);Y+=4;var bH=D.NH(x,Y);Y+=1+bH.XW.length;fe.UU=bH.XW;fe.C0=D.tP(x,Y);
Y+=4+fe.C0.length*2+2;fe.lZ=D.it(x,Y,4);Y+=4;fe.ax=D.it(x,Y,4);Y+=4;var jB=D.Dv(x,Y);Y+=8;fe.open=x[Y];
Y+=1;if(fe.open!=0){var jH={},jS=iW.OX(x,jH,Y+4);if(jS%4!=0)jS+=4-jS%4;console.log(jH);Y+=jS+4}fe.open=0;
fe.raw=D.sH(x,Y,jB);Y=a3+hn;if(hn%4!=0)Y+=4-hn%4}break;case"FEid":var Y=J;c[i]=[];var dL=Y+F,e=D.s(x,Y);
Y+=4;while(Y<dL){Y+=4;var hn=D.s(x,Y);Y+=4;var A={};c[i].push(A);A.id=D.NH(x,Y).XW;Y+=A.id.length+1;
var e=D.s(x,Y);Y+=4;Y+=4;var aq=D.s(x,Y);Y+=4;A.rect=D.eI(x,Y);Y+=16;var is=D.s(x,Y);Y+=4;var dh=D.s(x,Y);
Y+=4;var j_=new q.HC(0);for(var $=0;$<dh+2;$++){var cH=D.s(x,Y);Y+=4;if(cH!=0){Y+=4;var bK=D.s(x,Y),eC=null;
Y+=4;if($<3||$==25)eC=j0.dN(!0,is,x,A.rect.m,A.rect.e,Y,bK);if($==0)j_.o=eC;if($==1)j_.I=eC;if($==2)j_.J=eC;
if($==25)j_.V=eC;Y+=bK}}A.buffer=q.R(A.rect.P()*4);q.rL(j_,A.buffer);var fp=x[Y];Y++;if(fp!=0){A.F=new h.Tj;
A.F.rect=D.eI(x,Y);Y+=16;Y+=4;var jq=D.s(x,Y);Y+=4;A.F.channel=j0.dN(!0,is,x,A.F.rect.m,A.F.rect.e,Y,jq);
A.F.color=255;A.F.xz();Y+=jq}if(hn%4!=0)Y+=4-hn%4}break;case"Lr16":aG.Xs(b,x,J);break;case"Anno":c[i]=[];
var az=J,de=J+4,dc=D.s(x,de);de+=4;for(var $=0;$<dc;$++){var hn=D.s(x,de);de+=4;var g3=D.it(x,de,4);
de+=4;if(g3!="txtA")throw g3;var hJ=x[de++],kc=x[de++],bc=D.ht(x,de);de+=2;var kd=D.eI(x,de);de+=16;
var jR=D.eI(x,de);de+=16;var v=io.vp(x,de);de+=10;var im=D.NH(x,de);de+=im.length;var dO=D.NH(x,de);
de+=dO.length;var jd=D.NH(x,de);de+=jd.length;var gJ=D.s(x,de);de+=4;var iA=D.it(x,de,4);de+=4;var gj=D.s(x,de);
de+=4;var jG=D.$Q(x,de+2,gj-2>>1);de+=gj;c[i].push([kd.x,kd.y,v,im.XW,jG])}break;default:break}var eG="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(eG.indexOf(i)==-1)if(F%4!=0)console.log("size not multiple of 4!!!",i);if(i!="luni"&&i!="TySh"&&i!="tySh"&&i!="lfx2"&&i!="iOpa")if(F%4!=0)F+=4-F%4;
J+=F}var u=c.CgEd;if(u){var V=c.brit;if(V){V.Brgh.v=u.Brgh?u.Brgh.v:0;V.Cntr.v=u.Cntr?u.Cntr.v:0;V.useLegacy.v=u.useLegacy?u.useLegacy.v:0}delete c.CgEd}var el=[];
for(var $=0;$<el.length;$++)delete c[el[$]];return J};ie.ave=function(x,J,o,c,E){if(o.SoLd){var b={};
for(var l in o){if(l=="SoLd")b.PlLd={};b[l]=o[l]}o=b}for(var i in o)if(o[i]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+i+"\" tag was present with a null value.");delete o[i]}for(var i in o){var F=c&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(i)!=-1,U=0;
D.qN(x,J,F?"8B64":"8BIM");J+=4;var k=J;D.qN(x,J,i);J+=4;D.Qo(x,J,0);J+=F?8:4;switch(i){case"iOpa":D.lP(x,J,o[i],1);
U=4;break;case"brst":U=0;for(var $=0;$<3;$++)if(o[i][$]==0){D.pW(x,J+U,$);U+=4}break;case"knko":D.lP(x,J,o[i],1);
U=4;break;case"infx":D.lP(x,J,o[i],1);U=4;break;case"clbl":D.lP(x,J,o[i],1);U=4;break;case"lmgm":D.lP(x,J,o[i],1);
U=4;break;case"vmgm":D.lP(x,J,o[i],1);U=4;break;case"fcmy":D.lP(x,J,o[i],1);U=4;break;case"lyid":D.pW(x,J,o[i]);
U=4;break;case"lsct":D.pW(x,J,o[i].type);U=4;if(o[i].n5){D.qN(x,J+4,"8BIM");D.qN(x,J+8,o[i].n5);U=12}break;
case"lyvr":D.pW(x,J,o[i]);U=4;break;case"lnsr":D.qN(x,J,o[i]);U=4;break;case"lspf":D.pW(x,J,o[i]);U=4;
break;case"lclr":D.ZY(x,J,o[i]);U=8;break;case"luni":D.b2(x,J,o[i]);U=4+2*o[i].length;break;case"fxrp":D.iV(x,J,o[i].x);
D.iV(x,J+8,o[i].y);U=16;break;case"artb":case"artd":D.pW(x,J,16);U=iW.rM(x,o[i],J+4)+4;break;case"SoCo":D.pW(x,J,16);
U=iW.rM(x,o[i],J+4)+4;break;case"GdFl":D.pW(x,J,16);U=iW.rM(x,o[i],J+4)+4;break;case"PtFl":D.pW(x,J,16);
U=iW.rM(x,o[i],J+4)+4;break;case"CgEd":var I={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},V=I,u=o[i];
V.Brgh.v=u.Brgh.v;V.Cntr.v=u.Cntr.v;V.useLegacy.v=u.useLegacy.v;D.pW(x,J,16);U=iW.rM(x,I,J+4)+4;break;
case"brit":x.Qy(J,8);U=8;break;case"levl":var N=new ih;U=bF.iN(N,o[i]);D.w6(x,J,N.data);break;case"curv":U=fB.nU(x,J,o[i]);
break;case"expA":U=14;x.Qy(J,14);D.uX(x.data,J,1);D.qL(x.data,J+2,o[i].Exps?o[i].Exps.v:0);D.qL(x.data,J+6,o[i].Ofst?o[i].Ofst.v:0);
D.qL(x.data,J+10,o[i].gammaCorrection?o[i].gammaCorrection.v:1);break;case"vibA":D.pW(x,J,16);U=iW.rM(x,o[i],J+4)+4;
break;case"hue2":U=eZ.nU(x,J,o[i]);break;case"blnc":U=19;x.Qy(J,U);var e=["ShdL","MdtL","HghL"];for(var $=0;
$<3;$++){var B=o[i][e[$]].v;for(var j=0;j<3;j++)B.push(D.NN(x.data,J+$*6+j*2,B[j].v))}x.data[J+18]=o[i].PrsL.v?1:0;
break;case"blwh":var I={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},T="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var $=0;$<T.length;$++){I[T[$]]=o[i][T[$]]}D.pW(x,J,16);U=iW.rM(x,I,J+4)+4;break;case"phfl":D.ZY(x,J,2);
var a=o[i].Clr.v;D.ZY(x,J+2,7);D.ZY(x,J+4,Math.round(a.Lmnc.v*100));D.ZY(x,J+6,Math.round(a.A.v*100));
D.ZY(x,J+8,Math.round(a.B.v*100));D.ZY(x,J+10,0);var P=J+2+10;x.Qy(P,5);D.lO(x.data,P,o[i].Dnst.v);P+=4;
x.data[P]=o[i].PrsL.v?1:0;P++;U=P-J;break;case"mixr":U=44;x.Qy(J,U);var v=dv.px(o[i]);D.uX(x.data,J,1);
D.uX(x.data,J+2,v.rQ?1:0);for(var $=0;$<20;$++)D.NN(x.data,J+4+$*2,v.b[$]);break;case"clrL":case"rplc":D.ZY(x,J,1);
D.pW(x,J+2,16);U=iW.rM(x,o[i],J+6)+6;break;case"nvrt":U=0;break;case"post":D.ZY(x,J,o[i].Lvls.v);U=2;
break;case"thrs":D.ZY(x,J,o[i].Lvl.v);U=2;break;case"grdm":var R=o[i].Rvrs?o[i].Rvrs.v:!1,y=!1,t=867527939,g=!1,H=!1,_=2048,Y=[0,0,0,0],K=[32768,32768,32768,32768],f=o[i].Grad.v,m,C,Z=f.Clrs==null?1:0;
if(Z==0){m=f;C=JSON.parse(bs.lC.acO).v}else{m=fn.Bt("grdm").Grad.v;C=f}x.Qy(J,4);D.uX(x.data,J,1);x.data[J+2]=R?1:0;
x.data[J+3]=y?1:0;var A=J+4;D.b2(x,A,f.Nm.v);A+=4+f.Nm.v.length*2;A=bx.aCv(x,A,m);D.ZY(x,A,Z);A+=2;D.pW(x,A,C.RndS.v);
A+=4;D.ZY(x,A,C.ShTr.v?1:0);A+=2;D.ZY(x,A,C.VctC.v?1:0);A+=2;D.pW(x,A,C.Smth.v);A+=4;D.ZY(x,A,3);A+=2;
for(var $=0;$<4;$++)D.ZY(x,A+$*2,Y[$]);A+=8;for(var $=0;$<4;$++)D.ZY(x,A+$*2,K[$]);A+=8;A+=2;U=A-J;break;
case"selc":U=dC.nU(x,J,o[i]);break;case"FMsk":D.w6(x,J,o[i]);U=o[i].length;break;case"Txt2":var d=new ih,G=cL.gO(o[i].i5,d),r=q.R(G,!0);
for(var $=0;$<G;$++)r[$]=d.data[$];D.w6(x,J,r);U=r.length;break;case"vmsk":var X=o[i],w=0;D.pW(x,J,3);
if(!X.uM)w+=1<<1;if(!X.isEnabled)w+=1<<2;D.pW(x,J+4,w);U=8;var S=X.$.length;x.Qy(J+8,S*26);fV.CD(x.data,J+8,X.$,E.m,E.e);
U+=S*26;break;case"shmd":D.pW(x,J,Object.keys(o[i]).length);var P=J+4;for(var z in o[i]){D.qN(x,P,"8BIM");
P+=4;D.qN(x,P,z);P+=4;D.pW(x,P,0);P+=4;D.pW(x,P,0);P+=4;D.pW(x,P,16);P+=4;var s=iW.rM(x,o[i][z],P);if(s%4!=0)s+=4-s%4;
D.pW(x,P-8,s+4);P+=s}U=P-J;break;case"TySh":var P=J;D.eC(x,P,1);P+=2;var M=o[i],d=new ih;M.TC.DocumentResources=JSON.parse(JSON.stringify(M.TC.ResourceDict));
var G=bP.gO(M.TC,d),r=q.R(G,!0);for(var $=0;$<G;$++)r[$]=d.data[$];M.kQ.EngineData={t:"tdta",v:r};var Q=M.TC.EngineDict.Editor.Text;
M.kQ.Txt.v=Q.substring(0,Q.length-1);D.acs(x,P,M.M);P+=48;D.eC(x,P,50);P+=2;D.pW(x,P,16);P+=4;P+=iW.rM(x,M.kQ,P);
D.eC(x,P,1);P+=2;D.pW(x,P,16);P+=4;P+=iW.rM(x,M.Ma,P);D.azr(x,P,M.Ca);P+=16;U=P-J;break;case"lmfx":D.pW(x,J,0);
D.pW(x,J+4,16);var I=JSON.parse(JSON.stringify(o[i])),O=!1;ie.h3(I);for(var $=0;$<bs.x0.length;$++)if(I[bs.x0[$]]!=null)O=!0;
D.qN(x,k,O?"lmfx":"lfx2");U=iW.rM(x,I,J+8)+8;break;case"Patt":var P=am.HH(x,J,o[i]);U=P-J;break;case"PlLd":var W=J;
x.Qy(J,60);var B=o.SoLd;D.qN(x,J,"plcL");D.pW(x,J+4,3);var e9=x.data[J+8]=B.Idnt.v.length;D.qN(x,J+9,B.Idnt.v);
var P=J+9+e9,jV=[1,1,16,2];for(var $=0;$<4;$++)D.pW(x,P+$*4,jV[$]);P+=16;jV=n.Y.AX(B.nonAffineTransform);
for(var $=0;$<8;$++)D.iV(x,P+$*8,jV[$]);P+=64;D.pW(x,P,0);D.pW(x,P+4,16);var co=q.Oq.a76(B.quiltWarp).v;
P+=8+iW.rM(x,co,P+8);U=P-J;break;case"SoLd":var B=o[i],dz=B.quiltWarp;B.warp=q.Oq.a76(dz);if(q.Oq.np(dz.v)==16)delete B.quiltWarp;
D.qN(x,J,"soLD");D.pW(x,J+4,4);D.pW(x,J+8,16);U=iW.rM(x,B,J+12)+12;B.quiltWarp=dz;delete B.warp;break;
case"vstk":case"pths":D.pW(x,J,16);U=iW.rM(x,o[i],J+4)+4;break;case"vscg__":D.qN(x,J,o[i].key);D.pW(x,J+4,16);
U=iW.rM(x,o[i].b,J+8)+8;break;case"vogk":D.pW(x,J,1);D.pW(x,J+4,16);q.WE.a1f(o[i]);for(var $=0;$<o[i].length;
$++){var eh=o[i][$].v.keyOriginResolution;if(eh)eh.v=E.yV}var a9={classID:"null",keyDescriptorList:{t:"VlLs",v:o[i]}};
U=iW.rM(x,a9,J+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var A=J;for(var $=0;$<o[i].length;$++){var kB=o[i][$],dc=A;
D.nY(x,A,0);A+=8;D.qN(x,A,kB.type);A+=4;D.pW(x,A,kB.ZA);A+=4;x.Qy(A,1);x.data[A]=kB.UU.length;A++;D.qN(x,A,kB.UU);
A+=kB.UU.length;D.b2(x,A,kB.C0+"\0");A+=4+kB.C0.length*2+2;D.qN(x,A,kB.lZ);A+=4;D.qN(x,A,kB.ax);A+=4;
D.nY(x,A,kB.raw.length);A+=8;x.Qy(A,1);x.data[A]=kB.open;A++;D.w6(x,A,kB.raw);A+=kB.raw.length;D.pW(x,A,1);
A+=4;A+=11;var eT=A-dc-8;D.nY(x,dc,eT);if(eT%4!=0){x.Qy(A,4-eT%4);A+=4-eT%4}}U=A-J;break;case"FEid":var A=J;
D.pW(x,A,3);A+=4;for(var fv=0;fv<o[i].length;fv++){var jS=o[i][fv];A+=4;var cx=A;A+=4;D.ku(x,A,jS.id);
A+=jS.id.length+1;D.pW(x,A,1);A+=4;var bX=q.R(jS.rect.P()),gi=jS.rect,cM=q.R(gi.P());A+=4;var ea=A;A+=4;
D.Vu(x,A,gi);A+=16;D.pW(x,A,8);A+=4;D.pW(x,A,24);A+=4;for(var $=0;$<24+2;$++){var a1=-1;if($==0)a1=0;
if($==1)a1=1;if($==2)a1=2;if($==25)a1=3;D.pW(x,A,a1!=-1?1:0);A+=4;if(a1!=-1){q.z$(jS.buffer,bX,a1);q.zc(bX,jS.rect,cM,gi);
A+=4;var db=A;A+=4;x.Qy(A,gi.P()+2);A=j0.RG(!0,cM,x.data,gi.m,gi.e,A,3);D.pW(x,db,A-(db+4))}}D.pW(x,ea,A-(ea+4));
x.Qy(A,1);x.data[A]=jS.F?1:0;A++;if(jS.F!=null){var d2=gi,hu=q.R(d2.P());hu.fill(jS.F.color);q.zc(jS.F.channel,jS.F.rect,hu,d2);
D.Vu(x,A,d2);A+=16;A+=4;var fF=A;A+=4;x.Qy(A,d2.P()+2);A=j0.RG(!0,hu,x.data,d2.m,d2.e,A,3);D.pW(x,fF,A-(fF+4))}var eT=A-(cx+4);
D.pW(x,cx,eT);if(eT%4!=0)A+=4-eT%4}U=A-J;break;case"Anno":var il=J,f4=o[i].length;D.ZY(x,il,2);D.ZY(x,il+2,1);
il+=4;D.pW(x,il,f4);il+=4;for(var $=0;$<f4;$++){var aK=o[i][$],f9=aK[0],e0=aK[1],j7=il;il+=4;D.qN(x,il,"txtA");
il+=4;x.Qy(il,2);x.data[il]=1;x.data[il+1]=28;il+=2;D.ZY(x,il,1);il+=2;D.Vu(x,il,new ha(f9,e0,17,21));
il+=16;D.Vu(x,il,new ha(f9+8,e0+10,241,141));il+=16;x.Qy(il,10);io.DP(x.data,il,aK[2]);il+=10;il+=D.ku(x,il,aK[3]);
il+=D.ku(x,il,"");il+=D.ku(x,il,"D:20211012120233+01'00'");var jb=aK[4].length*2;D.pW(x,il,12+2+jb);
il+=4;D.qN(x,il,"txtC");il+=4;D.pW(x,il,2+jb);il+=4;x.Qy(il,2);x.data[il]=254;x.data[il+1]=255;il+=2;
D.aBY(x,il,aK[4]);il+=jb;D.pW(x,j7,il-j7)}U=il-J;break;default:console.log("unknown layer tag: "+i+", size: "+U);
J-=12;continue}var hN=["Txt2","artd","extd","pths"];if(hN.indexOf(i)==-1)if(U%4!=0)U+=4-U%4;if(F)D.nY(x,J-8,U);
else D.pW(x,J-4,U);if(i!="luni"&&i!="TySh")if(U%4!=0)U+=4-U%4;J+=U}return J};ie.Vn=function(x){for(var $=0;
$<bs.order.length;$++){var J=bs.order[$],o=bs.x0[$];if(x[o]==null)x[o]={t:"VlLs",v:[]};if(x[J]!=null){x[o].v.push(x[J]);
delete x[J]}var c=[];for(var E=0;E<x[o].v.length;E++){var b=x[o].v[E];if(b.v.present==null||b.v.present.v==!0)c.push(b)}x[o].v=c}};
ie.h3=function(x){for(var $=0;$<bs.order.length;$++){var J=bs.order[$],o=bs.x0[$],c=x[o].v.length;if(c==0){delete x[o];
continue}if(c==1){x[J]=x[o].v[0];delete x[o];continue}}};ie.aH=function(x,J){if(J=="GdFl"){if(x.Angl==null)x.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(x.Algn==null)x.Algn={v:!0,t:"bool"};if(x.Scl==null)x.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(x.Ofst==null)x.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(x.Rvrs==null)x.Rvrs={v:!1,t:"bool"};if(x.Dthr==null)x.Dthr={v:!1,t:"bool"}}if(J=="PtFl"){if(x.Algn==null)x.Algn={v:!0,t:"bool"};
if(x.Angl==null)x.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(x.Scl==null)x.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(x.phase==null)x.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};ie.clone=function(x,J){var o={};
if(x=="TySh"){o.M=J.M.clone();o.kQ=JSON.parse(JSON.stringify(J.kQ));o.Ma=JSON.parse(JSON.stringify(J.Ma));
o.Ca=J.Ca.clone();o.TC=JSON.parse(JSON.stringify(J.TC));if(J.add)o.add={vmsk:J.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(J.add.vogk))};
return o}else if(x=="fxrp")return J.clone();else if(x=="vmsk")return J.clone();else return JSON.parse(JSON.stringify(J))};
function jv(x,J){}jv.QE=function(x,J,o,c){c=jv.asv(x,J,o,c);return c};jv.gO=function(x,J,o,c,E){c=jv.a2l(x,J,o,c,E);
return c};jv.asv=function(x,J,o,c){var E=c;x.rect=D.eI(o,c);c+=16;var b=D.ht(o,c);c+=2;x._Z=[];var l=J.Jf;
for(var $=0;$<b;$++){x._Z[$]={id:D.RP(o,c),length:(l?D.Dv:D.s)(o,c+2)};c+=l?10:6}var i=D.it(o,c,4);c+=4;
if(i!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(i));alert("Error in Photoshop file: wrong signature.");
throw"e"}x.n5=D.it(o,c,4);c+=4;x.opacity=o[c];c+=1;x.$j=o[c]==1;c+=1;x.Il=o[c];c+=1;if(o[c]!=0)console.log("error in filler!");
c+=1;var F=D.s(o,c);c+=4;var k=c;c=jv.ad0(x,o,c);c=jv.a0F(x,o,c);var U=D.NH(o,c);x.name=U.XW;c+=U.length;
if(U.length%4!=0)c+=4-U.length%4;c=ie.a1k(o,c,k+F,x.add,l,J);if(x.add.lsct){if(x.add.lsct.n5)x.n5=x.add.lsct.n5;
x.add.lsct=x.add.lsct.type}return c};jv.a2l=function(x,J,o,c,E){var b=c;D.Vu(o,c,x.rect);c+=16;var l=J.add.fcmy==1,i=x.ayT(l);
D.ZY(o,c,i.length);c+=2;var F=J.Jf;E.push(c);for(var $=0;$<i.length;$++){D.eC(o,c,i[$]);if(F)D.nY(o,c+2,0);
else D.pW(o,c+2,0);c+=F?10:6}D.qN(o,c,"8BIM");c+=4;D.qN(o,c,x.n5);c+=4;D.lP(o,c,x.opacity,1);c+=1;D.lP(o,c,x.$j?1:0,1);
c+=1;D.lP(o,c,x.Il,1);c+=1;D.lP(o,c,0,1);c+=1;var k=c;D.pW(o,c,0);c+=4;var U=c;c=jv.ayZ(x,o,c);c=jv.a9U(x,o,c);
var I=D.ku(o,c,x.name.slice(0,255));c+=I;if(I%4!=0)c+=4-I%4;if(x.add.lsct){x.add.lsct={type:x.add.lsct};
if(x.n5=="pass"){x.add.lsct.n5="pass";x.n5="norm"}}if(x.n5=="pass")x.add.lsct={type:x.add.lsct,n5:"pass"};
if(x.add.brit)x.add.CgEd=x.add.brit;c=ie.ave(o,c,x.add,F,J);delete x.add.CgEd;if(x.add.lsct){if(x.add.lsct.n5)x.n5=x.add.lsct.n5;
x.add.lsct=x.add.lsct.type}var V=c-U;D.pW(o,k,V);return c};jv.ad0=function(x,J,o){var c=D.s(J,o);o+=4;
if(c==0)return o;var E=o;x.F=new h.Tj;x.F.rect=D.eI(J,o);o+=16;x.F.color=J[o];o+=1;var b=jv.aCp(x.F,J,o);
o+=1;if(b){var l=!1,i=255,F=0,k=255,U=0;for(var $=0;$<x._Z.length;$++)if(x._Z[$].id==-3)l=!0;if(l){x.Ie=jv.a8x(J,o);
o+=18}var I=o,V=J[o];o++;if(V>>0&1){i=J[o];o++}if(V>>1&1){F=D.m0(J,o);o+=8}if(V>>2&1){k=J[o];o++}if(V>>3&1){U=D.m0(J,o);
o+=8}if((o-I&1)==1)o++;x.iK=[i,F,k,U]}else{if(c==20)o+=2;else{x.Ie=jv.a8x(J,o);o+=18}}return E+c};jv.ayZ=function(x,J,o){D.pW(J,o,0);
o+=4;if(x.F==null)return o;var c=x.Da(),E=x.add.vmsk,b=o,l=!0;D.pW(J,o,0);D.Vu(J,o,x.F.rect);o+=16;D.lP(J,o,x.F.color);
o+=1;jv.aac(x.F,J,o,l);o+=1;if(l){if(x.Ie){jv.at0(J,o,x.Ie);o+=18}var i=o;D.lP(J,o,E?15:3);o+=1;D.lP(J,o,c?c.lA:255);
o+=1;D.iV(J,o,c?c._M:0);o+=8;if(E){D.lP(J,o,E?E.lA:255);o+=1;D.iV(J,o,E?E._M:0);o+=8}if((o-i&1)==1)o++}D.pW(J,b-4,o-b);
return o};jv.a8x=function(x,J){var o=new h.Tj;jv.aCp(o,x,J);J+=1;o.color=x[J];J+=1;o.rect=D.eI(x,J);
J+=16;return o};jv.at0=function(x,J,o){jv.aac(o,x,J,!1);J+=1;D.lP(x,J,o.color);J+=1;D.Vu(x,J,o.rect);
J+=16};jv.aCp=function(x,J,o){var c=J[o];x.uM=(c>>0&1)==0;x.isEnabled=(c>>1&1)==0;x.sV=(c>>3&1)==1;return c>>4&1};
jv.aac=function(x,J,o,c){var E=0;if(!x.uM)E+=1<<0;if(!x.isEnabled)E+=1<<1;if(x.sV)E+=1<<3;if(c)E+=1<<4;
D.lP(J,o,E)};jv.a0F=function(x,J,o){var c=D.s(J,o);o+=4;for(var $=0;$<c;$++)x.v9[$]=J[o+$];return o+c};
jv.a9U=function(x,J,o){D.pW(J,o,x.v9.length);o+=4;J.Qy(o,40);for(var $=0;$<40;$++){J.data[o+$]=x.v9[$]}return o+40};
function j0(){}j0.QE=function(x,J,o,c){c=j0.adF(J,J.Jf,J.Tp,J.ZB,x,o,c);return c};j0.iN=function(x,J,o,c,E,b,l){c=j0.aoX(x,J,o,c,E,b,l);
return c};j0.adF=function(x,J,o,c,E,b,l){var i=E._Z,F={},k=l;for(var $=0;$<i.length;$++){var U=i[$],I=U.id,V=U.length,u;
if(I==-2&&E.F==null)I=-1;if(I==-3)u=E.Ie.rect;else if(I==-2)u=E.F.rect;else u=E.rect;var N=j0.dN(J,o,b,u.m,u.e,l,V);
l+=V;if(I==-3)E.Ie.channel=N;else if(I==-2)E.F.channel=N;else F["c"+I]=N}var e=new q.HC(0);e.V=null;
if(c==3){e.o=F.c0;e.I=F.c1;e.J=F.c2;e.V=F["c-1"]}else if(c==1){e.o=F.c0;e.I=F.c0;e.J=F.c0;e.V=F["c-1"]}else if(c==4){var B=x.gx.r1039,j=null,T=F.c0,a=F.c1,P=F.c2,v=F.c3;
if(B){var j=B.a2v,R=17;if(j==null){var y=ICC.R(B.buffer);if(y.header.spaceIn=="RGB "){}else j=B.a2v=ICC.U.sampleLUT(y,R)}}if(j){var t={o:T,I:a,J:P,V:v},g=q.R(T.length*4);
q.rL(t,g);q.Mr(g);ICC.U.applyLUT4(j,R,g,g);q.f8(g,t)}else{for(var $=0;$<T.length;$++){var H=1-T[$]*(1/255),_=1-a[$]*(1/255),Y=1-P[$]*(1/255),K=1-v[$]*(1/255),f=q.dk([H,_,Y,K]);
T[$]=Math.floor(.5+f[0]*255);a[$]=Math.floor(.5+f[1]*255);P[$]=Math.floor(.5+f[2]*255)}}e.o=T;e.I=a;
e.J=P;e.V=F["c-1"]}if(e.o==null)e.o=q.R(0);if(e.V==null&&e.o!=null){e.V=e.o.slice(0);e.V.fill(255)}if(e.I==null)e.I=e.o.slice(0);
if(e.J==null)e.J=e.o.slice(0);E.buffer=q.R(Math.max(0,E.rect.P()*4));q.rL(e,E.buffer);return l};j0.aoX=function(x,J,o,c,E,b,l){var i=J.ayT(l),F=J.buffer,k=new q.HC(J.rect.P());
if(l){var U=k.V.slice(0);q.z$(F,U,3);F=F.slice(0);q.anK(F);q.f8(F,k);k.aj9=k.V;k.V=U}else q.f8(F,k);
for(var $=0;$<i.length;$++){var I=i[$],V,u;if(I==-3)V=J.Ie.rect;else if(I==-2)V=J.F.rect;else V=J.rect;
if(I==-3)u=J.Ie.channel;if(I==-2)u=J.F.channel;if(I==-1)u=k.V;if(I==0)u=k.o;if(I==1)u=k.I;if(I==2)u=k.J;
if(I==3)u=k.aj9;o.Qy(c,V.P()*3+4);var N=c;c=j0.RG(x,u,o.data,V.m,V.e,c,b[1]?3:1);var e=c-N;if(x)D.aiS(o.data,E+$*10+2,e);
else D.lO(o.data,E+$*6+2,e)}return c};j0.dN=function(x,J,o,c,E,b,l){var i=D.ht(o,b);b+=2;return j0.W9(x,J,o,c,E,b,i,l-2)};
j0.RG=function(x,J,o,c,E,b,l){D.NN(o,b,l);b+=2;b=j0.x7(x,J,o,c,E,b,l);return b};j0.W9=function(x,J,o,c,E,b,l,i){var F,k=c*E*(J>>>3),U=k&3,I=k+(U==0?0:4-U);
if(i<=0){return q.R(I)}if(l>3){console.log("unknown compression: "+l,c,E,c*E,i);l=0}if(l==0){if(b+I<=o.length)F=o.slice(b,b+I);
else{F=q.R(k);for(var $=0;$<k;$++)F[$]=o[b+$]}b+=k}else if(l==1){F=q.R(k);var V=x?4:2,N=j0.a4L(o,F,c,E,b,b+V*E,V);
b+=V*E+N}else if(l==2||l==3){var e=new Uint8Array(o.buffer,b+2,i-6),B=q.R(I);UZIP.inflateRaw(e,B);if(l==3){if(J==8)for(var j=0;
j<E;j++){var T=j*c+1,a=T+c-1,P=B[T-1];for(var v=T;v<a;v++){P+=B[v];B[v]=P&255}}else for(var j=0;j<E;
j++){var T=j*c+1,a=T+c-1,P=B[2*T-2]<<8|B[2*T-1];for(var v=T;v<a;v++){var R=v<<1;P+=B[R]<<8|B[R+1];B[R]=P>>>8;
B[R+1]=P&255}}}if(B.length==I)F=B;else{F=q.R(I);for(var $=0;$<B.length;$++)F[$]=B[$]}}if(J==16){var y=q.R(c*E);
for(var $=0;$<k;$+=2)y[$>>>1]=F[$];F=y}return F};j0.x7=function(x,J,o,c,E,b,l){var i=c*E;if(l==0)for(var $=0;
$<i;$++)o[b++]=J[$];else if(l==1){var F=x?4:2,k=j0.aC1(J,o,c,E,b,b+F*E,F);b+=F*E+k}else if(l==2||l==3){if(l==3){var U=new Uint8Array(J.length);
for(var I=0;I<E;I++){var V=I*c+1,u=V+c-1,N=J[V-1];U[V-1]=N;for(var e=V;e<u;e++){U[e]=J[e]+(256-N)&255;
N=J[e]}}J=U}o[b]=120;o[b+1]=156;b+=2;var B=pako.deflateRaw(J,{af_:4});D.a8V(o,b,B);b+=B.length+4}else console.log("Unknown compression: "+l);
return b};j0.a4L=function(x,J,o,c,E,b,l){if(!(x instanceof Uint8Array)||!(J instanceof Uint8Array))throw"e";
var i=b,F=c|0;if(l==2)for(var $=0;$<F;$++){var k=D.ht(x,E+($<<1));j0.XB(x,b,k,J,$*o,o);b+=k}else for(var $=0;
$<F;$++){var k=D.s(x,E+($<<2));j0.XB(x,b,k,J,$*o,o);b+=k}return b-i};j0.aC1=function(x,J,o,c,E,b,l){var i=b;
if(l==2)for(var $=0;$<c;$++){var F=j0.ayj(x,$*o,o,J,b);D.uX(J,E+$*2,F);b+=F}else for(var $=0;$<c;$++){var F=j0.ayj(x,$*o,o,J,b);
D.lO(J,E+$*4,F);b+=F}return b-i};j0.ayj=function(x,J,bz,o,c){var E,b,l,i,F,gN,k;i=J+bz;for(l=J,b=c;bz>0;
l=E,bz-=gN){k=bz<128?bz:128;if(l<=i-3&&x[l+1]==x[l+0]&&x[l+2]==x[l+0]){for(E=l+3;E<l+k&&x[E]==x[l+0];
)++E;gN=E-l;o[b++]=1+256-gN;o[b++]=x[l+0]}else{for(E=l;E<l+k;)if(E<=i-3&&x[E+1]==x[E+0]&&x[E+2]==x[E+0])break;
else++E;gN=E-l;o[b++]=gN-1;for(var $=0;$<gN;$++)o[b+$]=x[l+$];b+=gN}}return b-c};j0.XB=function(x,J,o,c,E,b){for(var l=0;
l<o;){var bz=x[J++];if(bz>=128){var i=x[J++],F=E+(257-bz);c.fill(i,E,F);E=F;l+=2}else{for(var $=0;$<=bz;
$++)c[E+$]=x[J+$];J+=bz+1;E+=bz+1;l+=1+1+bz}}};function aG(){}aG.$x=function(x,J,o){return;var c="",E=J;
while(E!=0){var b=E%1e3+"";while(b.length<3)b="0"+b;c=(c==""?b:b+" ")+c;E=Math.floor(E/1e3)}while(c.startsWith("0")&&c!="0")c=c.slice(1);
while(c.length<11)c=" "+c;console.log("===",c,"\t".repeat(x),": "+o)};aG.arG=function(x){var J={gx:{}},c=0,E=0,i;
J.Jf=!1;J.Tp=8;var o=new Uint8Array(x);E=aG.b$(J,o,c);c=E;E=aG.atg(J,o,c);c=E;var b=D.s(o,c);c+=4+b;
var l=J.Jf?8:4;if(J.Jf)i=D.Dv(o,c);else i=D.s(o,c);c+=l+i;E=aG.afz(J,o,c);return[{XO:new ha(0,0,J.m,J.e),data:J.buffer.buffer}]};
aG.QE=function(x,J){J.Jf=!1;J.Tp=8;var o=new Uint8Array(x),c=0,E=0,l=0,z,fv=!1,jS=!0,cx=!1,bX=0,eG=0;
E=aG.b$(J,o,c);aG.$x(0,E-c,"PSD Header");c=E;E=aG.atg(J,o,c);aG.$x(0,E-c,"Color Mode Data");c=E;E=aG.a5f(J,o,c);
aG.$x(0,E-c,"Image Resources");c=E;E=aG.aew(J,o,c);aG.$x(0,E-c,"Layer And Mask Info");c=E;E=aG.afz(J,o,c);
aG.$x(0,E-c,"Merged Image");c=E;if(J.B.length==0){var b=J._I();b.Yq("Background");J.B.push(b);b.buffer=J.buffer.slice(0);
b.rect=new ha(0,0,J.m,J.e)}for(var $=0;$<J.B.length;$++){var E=J.B[$],i=E.add.lsct;if(i==es.qF)l++;else if(i==es.tI||i==es.tm)l--}while(l<0){J.B.unshift(J.Tv());
l++}if(J.gx.r1005){J.yV=D.LA(J.gx.r1005,0)}if(J.gx.r1026){var o=J.gx.r1026;for(var $=0;$<o.length;$+=2){var E=J.B[$>>>1];
if(E)E.vc=D.ht(o,$)}}if(J.gx.r1072){var o=J.gx.r1072;for(var $=0;$<o.length;$++){var E=J.B[$];if(E)E.yG=o[$]==1}}if(J.gx.r1032){J.Kt=aG.atR(J.gx.r1032,0)}delete J.gx.r1036;
J.aV(J.gx.r1039);if(J.gx.r1050){var F=D.s,k=J.gx.r1050,U=D.s(k,0);if(U==6){var I=4,V=D.eI(k,I);I+=16;
var u=D.bi(k,I);I+=4+u.length*2;var N=F(k,I);I+=4;var e=J.IL;for(var $=0;$<N;$++){var B=n.XN.xO(),T;
e.push(B);B=B.v;B.sliceID.v=F(k,I);I+=4;B.groupID.v=F(k,I);I+=4;var j=F(k,I);I+=4;if(j==1){T=F(k,I);
I+=4}var u=D.bi(k,I);I+=4+u.length*2;var a=F(k,I);I+=4;var P=[F(k,I),F(k,I+4),F(k,I+8),F(k,I+12)];I+=16;
n.XN.OH(e,e.length-1,P);var v=B.url.v=D.bi(k,I);I+=4+v.length*2;var R=B.null.v=D.bi(k,I);I+=4+R.length*2;
var y=B.Msge.v=D.bi(k,I);I+=4+y.length*2;var t=B.altTag.v=D.bi(k,I);I+=4+t.length*2;B.cellTextIsHTML.v=k[I]==1;
I++;var g=B.cellText.v=D.bi(k,I);I+=4+g.length*2;var H=F(k,I);I+=4;var _=F(k,I);I+=4;var Y=k.slice(I,I+4);
I+=4;if(j!=2)e.pop()}}else if(U==8){var K={};iW.OX(k,K,8,!1);var k=J.IL=K.slices.v;for(var $=0;$<k.length;
$++){if(k[$].v.origin.v.ESliceOrigin!="userGenerated"){k.splice($,1);$--}}}}if(J.gx.r1058){var f=J.gx.r1058,m=UTIF.decode(f.buffer,{parseMN:!1,debug:!1});
eK.Bc(m[0],J.TP);delete J.gx.r1058}if(J.gx.r1060){var C=D.cA(J.gx.r1060);eK.zE(C,J.TP);delete J.gx.r1060}if(J.gx.r1065){var o=J.gx.r1065;
J.Ib={};iW.OX(o,J.Ib,4,!1)}if(J.gx.r1069){var o=J.gx.r1069,Z=[];for(var $=2;$<o.length;$+=4){var T=D.s(o,$);
for(var A=0;A<J.B.length;A++){var E=J.B[A];if(E.add.lyid==T&&E.add.lsct!=3&&Z.indexOf(A)==-1)Z.push(A)}}J.g=Z}if(J.gx.r1073){var o=J.gx.r1073,I=0,d=D.du(o,I);
I+=4;var G=D.du(o,I);I+=4;for(var $=0;$<G;$++){J.Eb.push({y:d>=2?D.RW(o,I+2):D.LA(o,I+2),x:d>=2?D.RW(o,I+6):D.LA(o,I+6)});
I+=14}delete J.gx.r1073}if(J.gx.r1025){var r=J.gx.r1025;delete J.gx.r1025;var X=fV.vr(r,0,r.length,J.m,J.e),w=new h._b;
w.$=X;J.yB[0]=hk.qd("Working Path",{vmsk:w})}var S=J.add.pths;delete J.add.pths;var s=J.gx.r3000;if(s){z={};
iW.OX(s,z,4,!1);delete J.gx.r3000}if(S){var M=S.pathSymmetrySelectedPath;if(M){var Q=S.pathList.v[M.v].v,O=Q.pathUnicodeName.v;
J.Yb=O.startsWith("Tile Symmetry")}}for(var W=0;W<=997;W++){var e9="r"+(2e3+W),r=J.gx[e9];if(r==null)break;
var X=fV.vr(r,0,r.length,J.m,J.e),O="Path "+W;if(S){var jV=S.pathList.v[W].v;O=jV.pathUnicodeName.v;
if(O=="Tile Symmetry 1")continue}var co=z?z.keyRootDescriptorList.v[W].v.keyDescriptorList.v:h.pw(X),w=new h._b;
w.$=X;J.yB.push(hk.qd(O,{vmsk:w,vogk:co}));delete J.gx[e9]}delete J.Jf;if(J.gx.r4000){J.HB=q.HB.QE(J.gx.r4000)}var dz=J.gx.r7000,eh=J.gx.r7001;
if(dz){var a9=D.cA(dz);J.Jr=aG.acQ(a9)}if(eh){var a9=D.cA(eh);J.V8=aG.anp(a9)}delete J.gx.r7000;delete J.gx.r7001;
var kB=new ha(0,0,J.m,J.e),dc=J.add.Txt2,eT=dc;if(eT){eT=eT.i5;if(eT._DocumentResources==null)eT=dE.alk(eT)}var gi=-1;
for(var $=0;$<J.B.length;$++){var E=J.B[$],cM=E.add.lsct,ea=E.add.vmsk,a1=E.Da();if(cM==es.qF){bX++;
E.add.lspf=0}else if(cM==es.tI||cM==es.tm)bX--;if(E.name==""){E.name="Layer "+($+1);cx=!0}if(cx&&E.Zk()&&E.n5=="norm")E.n5="pass";
if(E.AD()&&E.O5(J)==null)delete E.add.SoLd;if(E.AD()&&E.O5(J).F){var db=E.O5(J);db.F.isEnabled=E.add.SoLd.filterFX.v.filterMaskEnable.v}if(ea&&E.A0()){var d2=bs.Ao.Bt(!0);
if(E.add.vstk==null)E.add.vstk=JSON.parse(JSON.stringify(d2));else{var hu="strokeStyleLineDashSet";if(E.add.vstk[hu]==null)E.add.vstk[hu]=JSON.parse(JSON.stringify(d2[hu]))}E.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
E.add.vstk.strokeStyleResolution.v=J.yV}if(ea&&(E.add.vogk==null||q.p.Dd(ea.$)!=E.add.vogk.length))E.pw();
if(!1){var fF=E.add.vogk,il=!0;for(var f4=0;f4<fF.length;f4++){var aK=fF[f4].v.keyShapeInvalidated;if(aK==null||aK.v==!1)il=!1}if(il)E.pw()}if(E.add.SoLd&&E.rect.Kx()){console.log("redrawing smart instance");
E.aW(J,null,null,!0)}if(a1==null&&E.F!=null){if(E.F.sV==!1){E.F.sV=!0;E.Ie=E.F.clone()}}a1=E.Da();if(E.iK){var d2=E.iK,w=ea;
if(a1){a1.lA=d2[0];a1._M=d2[1]}if(w){w.lA=d2[2];w._M=d2[3]}E.iK=null}if(a1!=null&&ea!=null&&(a1._M+ea._M!=0||a1.lA+ea.lA!=2*255))E.vl(J);
else if(ea!=null&&!E.A0())E.vl();else if(a1&&a1.lA!=255&&E.A0())E.vl(J);var f9=E.add.artb;if(f9&&f9.artboardBackgroundType==null)f9.artboardBackgroundType={t:"long",v:1};
if(f9&&bX!=0)delete E.add.artb;var e0=E.add.vstk;if(E.A0()&&(E.rect.Kx()||ea&&ea._M!=0||e0&&!e0.fillEnabled.v&&(!e0.strokeEnabled.v||e0.strokeStyleLineWidth.v.val==0)))E.NU(J);
if(E.add.TySh){fv=!0;if(!E.rect.Kx())jS=!1}if(E.add.TySh&&eT){gi++;var j7=E.add.TySh.TC,jb=iv.C9(j7),hN=eT._DocumentObjects._TextObjects;
if(hN.length<=gi){console.log("Txt2 incomplete");continue}var fe=hN[gi]._Model,hn=fe._StyleRun?fe._StyleRun._RunArray:[],a3=j7.EngineDict.StyleRun.RunArray;
for(var bH=0;bH<a3.length;bH++){var jB=a3[bH].StyleSheet.StyleSheetData;if(hn[bH]==null)continue;var jH=hn[bH]._RunData._StyleSheet._Features;
if(jH&&jH._BaselineDirection)jB.BaselineDirection=parseInt(jH._BaselineDirection.slice(1));if(jH&&jH._FillBackgroundFlag)jB._FillBackgroundFlag=jH._FillBackgroundFlag;
if(jH&&jH._FillBackgroundColor){var dL=jH._FillBackgroundColor,aq=dL._Color._Values.slice(0);for(var A=0;
A<4;A++)aq[A]=parseFloat(aq[A].slice(1));jB._FillBackgroundColor={Type:1,Values:aq}}if(jH&&jH._LineWidth)jB._LineWidth=parseFloat(jH._LineWidth.slice(1))}var is=j7.EngineDict.ParagraphRun.RunArray,dh=fe._ParagraphRun._RunArray;
if(dh==null)dh=[];var j_=Math.min(dh.length,is.length);for(var A=0;A<j_;A++){var cH=is[A].ParagraphSheet.Properties,bK=eT._DocumentResources._ParagraphSheetSet._Resources,eC=dh[A]._RunData._ParagraphSheet;
if(typeof eC=="string")eC=bK[parseInt(eC.slice(1))]._Resource;var fp=eC._Parent==null?eC:bK[parseInt(eC._Parent.slice(1))]._Resource;
eC=eC._Features;fp=fp._Features;var jq=eC._ParagraphDirection;if(jq==null)jq=fp._ParagraphDirection;
if(jq)cH._Direction=parseInt(jq.slice(1));if(eC._ComposerEngine)cH._ComposerEngine=parseInt(eC._ComposerEngine.slice(1))}if(fe._AlternateGlyphRun){var dh=fe._AlternateGlyphRun._RunArray,j_=dh.length,az=j7.EngineDict.AlternateGlyphRun=iv.aqo();
for(var A=0;A<j_;A++){var eC=dh[A],de={},g3=eC._RunData._AlternateGlyphSheet;if(g3)de.Glyph=parseInt(g3._Glyph.slice(1));
az.RunArray.push(de);az.RunLengthArray.push(parseInt(eC._Length.slice(1)))}}var hJ=eT._DocumentResources,kc=hJ._TextFrameSet._Resources,bc=kc[gi]._Resource,kd=bc._Data,jR=new cW(1,0,0,1,0,0);
if(bc._0){var im=parseFloat(bc._0[0].slice(1)),dO=parseFloat(bc._0[1].slice(1));jR.translate(im,dO)}if(jb){jR.translate(jb[0],jb[1]);
iv.UC(j7,[0,0,jb[2]-jb[0],jb[3]-jb[1]])}else{if(bc._Bezier&&bc._Bezier._Points){var X=bc._Bezier._Points,im=parseFloat(X[0].slice(1)),dO=parseFloat(X[1].slice(1));
if(im!=0||dO!=0){jR.translate(im,dO)}}}if(bc._Data&&bc._Data._FrameMatrix){var jd=bc._Data._FrameMatrix;
jd=jd.map(function(ar){return parseFloat(ar.slice(1))});jR.concat(new cW(jd[0],jd[1],jd[2],jd[3],jd[4],jd[5]))}jR.concat(E.add.TySh.M);
E.add.TySh.M=jR;var a=kd._Type?parseInt(kd._Type.slice(1)):0;if(a==2||a==1&&kd._PathData&&kd._PathData._Spacing=="i-3")if(bc._Bezier){var gJ=function(ar){return parseFloat(ar.slice(1))},X=bc._Bezier._Points.map(gJ);
if(jb)q.O.M(X,new cW(1,0,0,1,-jb[0],-jb[1]),X);var iA=kd._PathData?kd._PathData._Reversed:!1,gj=kd._TextOnPathTRange;
if(gj==null)gj=["f-3","f-3"];j7.Curve={Points:X,TextOnPathTRange:gj.map(gJ),Reversed:iA==null?!1:iA};
E.add.TySh.add={vmsk:new h._b,vogk:null};iv.ww(E.add.TySh)}if(kd._LineOrientation=="i2")j7._LineOrientation=2}}n.D4.E3(J,!0);
var jG={},el=[];for(var $=0;$<J.B.length;$++){var gp=J.B[$].add.lyid;if(gp==null)continue;var eG=Math.max(eG,gp);
if(jG[gp]!=null)el.push($);else jG[gp]=!0}for(var $=0;$<el.length;$++)J.B[el[$]].add.lyid=eG+1+$};aG.atR=function(x,J){var o=D.s(x,J+12),c=[];
for(var $=0;$<o;$++){var E=x[J+16+$*5+4],b=D.du(x,J+16+$*5)/32;c.push([E,b])}return c};aG.acQ=function(x){var J=new DOMParser,o=J.parseFromString(x,"text/xml").firstChild.children[0],c=o.getElementsByTagName("variables");
if(c.length==0)return[];c=c[0].children;var E=[],b="varName trait docRef placementMethod align valign clip".split(" ");
for(var l=0;l<c.length;l++){var i=c[l],F={};E.push(F);for(var k=0;k<b.length;k++){var U=b[k],I=i.getAttribute(U);
if(I==null)continue;F[U]=I}}return E};aG.anp=function(x){var J=new DOMParser,o=J.parseFromString(x,"text/xml").firstChild.children,c=[[]];
if(o==null)return c;for(var $=0;$<o.length;$++){var E=o[$],b=[];c.push(b);for(var l=0;l<E.children.length;
l++){var i=E.children[l];if($==0)c[0].push(i.tagName);b.push(i.textContent)}}return c};aG.gO=function(x,J,o){n.D4.wf(x);
n.D4.E3(x,!1);x.Jf=o[3]==!0;var c=[],E=[],B=0,T=1,N=16,eT=0;for(var $=0;$<x.B.length;$++){var b=x.B[$];
if(b.AD()&&b.O5(x).F){b.add.SoLd.filterFX.v.filterMaskEnable.v=b.O5(x).F.isEnabled}if(b.add.TySh){var l=b.add.TySh.TC,i=iv.hT(l);
b.add.TySh.kQ.TextIndex={t:"long",v:c.length};c.push(l);if(i==2)iv.PL(b.add.TySh)}var F=b.add.vstk;if(F)F.strokeStyleResolution.v=x.yV;
if(b.A0()||o[2]&&b.add.SoLd){E[$]=[b.rect,b.buffer];b.rect=new ha;b.buffer=q.R(0);if(b.add.SoLd){var k=b.O5(x);
if(k!=null){E[$].push(k.buffer);k.buffer=q.R(k.buffer.length)}}}}if(c.length>0){var U=x.add.Txt2?x.add.Txt2.i5:null;
if(x.add.Txt2==null)x.add.Txt2={};x.add.Txt2.i5=c9.aas(c,null,U)}var I=[x.add.lnk2,x.add.FEid,x.add.Patt],V=x.a63(x.B);
x.aer(V);x.gx.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);D.abC(x.gx.r1005,0,x.yV);D.abC(x.gx.r1005,8,x.yV);
if(x.Eb.length>0){var u=x.Eb;x.gx.r1073=new Uint8Array(8+u.length*14);D.kH(x.gx.r1073,0,3);D.kH(x.gx.r1073,4,u.length);
for(var $=0;$<u.length;$++){var N=8+14*$;D.NN(x.gx.r1073,N,14);D.qL(x.gx.r1073,N+2,u[$].y);D.qL(x.gx.r1073,N+6,u[$].x);
D.NN(x.gx.r1073,N+10,-1);D.NN(x.gx.r1073,N+12,8)}}if(x.kU()){x.gx.r1022=new Uint8Array([0,3+x._w.length-1,0])}else delete x.gx.r1022;
var e=new Uint8Array(x.B.length*2),j=new Uint8Array(x.B.length);for(var $=0;$<x.B.length;$++){var b=x.B[$],a=b.vc,P=b.yG?1:0;
D.uX(e,$*2,a);j[$]=P;if(a>B)B=a;if(P==0)T=0}if(B>0)x.gx.r1026=e;if(T<1)x.gx.r1072=j;var v=x.Kt,R=v.length,y=x.gx.r1032=q.R(16+5*R,!0);
D.lO(y,0,1);D.lO(y,4,576);D.lO(y,8,576);D.lO(y,12,R);for(var $=0;$<R;$++){D.kH(y,N,Math.round(v[$][1]*32));
y[N+4]=v[$][0];N+=5}if(o[4]!=!0){var t=[x.buffer,new ha(0,0,x.m,x.e)],g=0;q.mw(t);while(t[g+1].P()>200*200)g+=2;
var H=hR.rb("jpg"),_=t[g+1],Y=new Uint8Array(H.Jy([[t[g].buffer]],_.m,_.e)),y=x.gx.r1036=new Uint8Array(28+Y.length);
D.lO(y,0,1);D.lO(y,4,_.m);D.lO(y,8,_.e);D.lO(y,12,_.m*3);D.lO(y,16,_.P()*3);D.lO(y,20,Y.length);D.uX(y,24,24);
D.uX(y,26,1);y.set(Y,28)}var K=q._6(x.buffer);if(x.add.fcmy)K=!1;var f=[];if(K)f.push({name:"Transparency",xK:{o:255,I:0,J:0},wS:100,jP:1});
f=f.concat(x._w);delete x.gx.r1045;delete x.gx.r1006;delete x.gx.r1077;var m=new ih;N=0;var C=new Uint8Array(4+f.length*13);
C[3]=1;for(var $=0;$<f.length;$++){var Z=f[$],A=Z.name+"\0";D.b2(m,N,A);N+=4+A.length*2;var d=4+$*13;
io.DP(C,d,Z.xK);C[d+11]=Z.wS;C[d+12]=Z.jP}if(N!=0)x.gx.r1045=m.data.slice(0,N);x.gx.r1077=C;for(var $=0;
$<x.IL.length;$++)x.IL[x.IL.length-$-1].v.sliceID.v=2+$*3;var G={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:x.IL}},m=new ih;
D.pW(m,0,8);D.pW(m,4,16);var r=iW.rM(m,G,8);x.gx.r1050=m.data.slice(0,r+8);var m=new ih;D.pW(m,0,16);
var r=iW.rM(m,x.Ib,4);x.gx.r1065=m.data.slice(0,r+4);var X=x.g;y=x.gx.r1069=q.R(2+X.length*4,!0);D.uX(y,0,X.length);
for(var $=0;$<X.length;$++)D.lO(y,2+4*$,x.B[X[$]].add.lyid);delete x.gx.r1058;delete x.gx.r1060;if(Object.keys(x.TP).length!=0){var w=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
eK.wY(x.TP,w[0],o[0]&&o[1]);x.gx.r1058=new Uint8Array(UTIF.encode(w));var S=eK.J4(x.TP);x.gx.r1060=D.Ey(S)}var z=[],s=[],M=x.yB.slice(0);
if(x.Yb){var Q=fV.acN([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),O=new h._b;
O.$=Q;M.push(hk.qd("Tile Symmetry 1",{vmsk:O,vogk:h.pw(Q)}))}for(var $=0;$<M.length;$++){var W=M[$],Q=W.add.vmsk.$;
if($==0&&Q.length==2)continue;var e9=q.R(Q.length*26);fV.CD(e9,0,Q,x.m,x.e);var jV=$==0?1025:2e3+$-1;
x.gx["r"+jV]=e9;if($!=0){var co={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:W.name}};if(W.name=="Tile Symmetry 1")co.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
z.push({t:"Objc",v:co});s.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:W.add.vogk}}})}}if(z.length!=0){x.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:z}};
if(x.Yb)x.add.pths.pathSymmetrySelectedPath={t:"long",v:z.length-1};s={classID:"null",keyRootDescriptorList:{t:"VlLs",v:s}};
var m=new ih;D.pW(m,0,16);var r=iW.rM(m,s,4);x.gx.r3000=m.data.slice(0,r+4)}else{delete x.add.pths;delete x.gx.r3000}if(x.HB&&x.HB.length!=0){x.gx.r4000=q.HB.gO(x.HB)}if(x.Jr.length!=0){var dz="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var $=0;$<x.Jr.length;$++){var eh=x.Jr[$],a9=[];for(var jV in eh)a9.push(jV+"=\""+eh[jV]+"\"");dz+="<variable "+a9.join(" ")+">\n</variable>\n"}dz+="</variables>\n</variableSet>\n</variableSets>";
x.gx.r7000=D.Ey(dz)}if(x.V8.length!=0){var dz="<sampleDataSets psdPath=\""+x.name+"\">\n";for(var $=1;
$<x.V8.length;$++){var kB=x.V8[$];dz+="<sampleDataSet dataSetName=\"Data Set "+$+"\">\n";for(var dc=0;
dc<kB.length;dc++)dz+="<"+x.V8[0][dc]+">"+kB[dc].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+x.V8[0][dc]+">\n";
dz+="</sampleDataSet>\n"}dz+="</sampleDataSets>";x.gx.r7001=D.Ey(dz)}eT=aG.asW(x,J,eT,3+f.length);eT=aG.a11(x,J,eT);
eT=aG.auW(x,J,eT);eT=aG.a9_(x,J,eT,o,K);eT=aG.ad$(x,J,eT,o[0],K);var fv=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var $=0;$<fv.length;$++)delete x.gx["r"+fv[$]];for(var $=0;$<x.B.length;$++){var b=x.B[$];if(b.A0()||o[2]&&b.add.SoLd){b.rect=E[$][0];
b.buffer=E[$][1];if(E[$][2]){var k=b.O5(x);E[$].push(k.buffer);k.buffer=E[$][2]}}}x.aer(I);n.D4.E3(x,!0);
delete x.Jf;return eT};aG.b$=function(x,J,o){var c=D.it(J,o,4);o+=4;if(c!="8BPS")alert("invalid header signature: "+c);
var E=D.ht(J,o);o+=2;x.Jf=E==2;if(E!=1&&E!=2)alert("invalid version: "+E);o+=6;x.iA=D.ht(J,o);o+=2;x.e=D.du(J,o);
o+=4;x.m=D.du(J,o);o+=4;x.Tp=D.ht(J,o);o+=2;x.ZB=D.ht(J,o);o+=2;return o};aG.asW=function(x,J,o,c){var E=x.add.fcmy==1;
J.Qy(0,64);D.wZ(J.data,o,"8BPS");o+=4;D.uX(J.data,o,x.Jf?2:1);o+=2;D.lO(J.data,o,0);o+=4;D.uX(J.data,o,0);
o+=2;D.uX(J.data,o,c+(E?1:0));o+=2;D.kH(J.data,o,x.e);o+=4;D.kH(J.data,o,x.m);o+=4;D.uX(J.data,o,8);
o+=2;D.uX(J.data,o,E?4:3);o+=2;return o};aG.atg=function(x,J,o){var c=D.du(J,o);o+=4;if(c!=0)x.Wc=J.slice(o,o+c);
o+=c;return o};aG.a11=function(x,J,o){D.Qo(J,o,0);o+=4;return o};aG.a5f=function(x,J,o){var c=D.s(J,o),E=0;
o+=4;var b=[];while(E<c){var l=D.it(J,o+E,4);E+=4;var i=D.ht(J,o+E);E+=2;var F=D.NH(J,o+E);E+=F.length;
if(l=="MeSa"&&(i==7e3||i==7001)){}else if(l!="8BIM"){b.push(i);console.log("Unknown Image Resources signature: "+l+", ID: "+i)}var k=D.s(J,o+E);
E+=4;if(x.gx["r"+i]!=null)console.log("--- two resources with same ID");x.gx["r"+i]=D.sH(J,o+E,k);E+=k+(k&1)}for(var $=0;
$<b.length;$++)delete x.gx["r"+b[$]];return o+c};aG.auW=function(x,J,o){var c=o,l=0;o+=4;var E=[];for(var b in x.gx){E.push(parseInt(b.slice(1)))}E.sort(function(I,V){return I-V});
for(var $=0;$<E.length;$++){var i=E[$];D.qN(J,o+l,i==7e3||i==7001?"MeSa":"8BIM");l+=4;D.ZY(J,o+l,i);
l+=2;var F=D.ku(J,o+l,"");l+=F;var k=x.gx["r"+i],U=k.length;D.pW(J,o+l,U);l+=4;D.w6(J,o+l,k);l+=U;if(U%2==1)l++}D.pW(J,c,l);
return o+l};aG.aew=function(x,J,o){var c=o,E,b,l=x.Jf?8:4;if(x.Jf)E=D.Dv(J,o);else E=D.s(J,o);o+=l;if(E==0)return c+l;
b=aG.axd(x,J,o);aG.$x(1,b-o,"Layer Info");o=b;b=aG.a5v(x,J,o);aG.$x(1,b-o,"Global Layer Mask Info");
o=b;b=ie.a1k(J,o,c+l+E,x.add,x.Jf,x);aG.$x(1,b-o,"Project Add Info");o=b;return c+l+E};aG.a9_=function(x,J,o,c,E){var b=o;
D.pW(J,o,0);o+=4;if(x.Jf){D.pW(J,o,0);o+=4}o=aG.a2$(x,J,o,c,E);o=aG.alW(x,J,o);o=ie.ave(J,o,x.add,x.Jf,x);
if(x.Jf)D.nY(J,b,o-b-8);else D.pW(J,b,o-b-4);return o};aG.axd=function(x,J,o){var c,E=x.Jf?8:4;if(x.Jf)c=D.Dv(J,o);
else c=D.s(J,o);o+=E;if(c!=0)aG.Xs(x,J,o);return o+c};aG.Xs=function(x,J,o){var c=D.RP(J,o);o+=2;var E=Math.abs(c);
for(var $=0;$<E;$++){var b=new h;o=jv.QE(b,x,J,o);x.B[$]=b}var l=new ha(0,0,x.m,x.e);for(var $=0;$<E;
$++){var i=x.B[$],F=i.Da(),k=j0.QE(i,x,J,o);if(k-o>8)aG.$x(2,k-o,"Lay: "+i.getName());o=k;aG.av8(i,l);
if(F)aG.av8(F,l)}};aG.av8=function(x,J){};aG.a2$=function(x,J,o,c,E){var b=o,l=x.Jf;o+=l?8:4;o=aG.aaZ(x,J,o,c,E);
var i=o-b-(l?8:4);if(i%2!=0)i++;if(l)D.nY(J,b,i);else D.pW(J,b,i);return b+i+(l?8:4)};aG.aaZ=function(x,J,o,c,E){var b=x.B.length;
D.eC(J,o,E?-b:b);o+=2;var l=[];for(var $=0;$<b;$++)o=jv.gO(x.B[$],x,J,o,l);for(var $=0;$<b;$++)o=j0.iN(x.Jf,x.B[$],J,o,l[$],c,x.add.fcmy==1);
return o};aG.a5v=function(x,J,o){var c=D.s(J,o);o+=4;o+=c;return o};aG.alW=function(x,J,o){var c=D.pW(J,o,0);
o+=4;return o};aG.afz=function(x,J,o){var c=x.ZB,E="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),b=[1,1,1,3,4,1,1,3],l,e;
if(c!=3){if(c==1||c==2||c==4)console.log("Project will be converted from "+E[c]+" to "+E[3]+" mode.");
else{alert("Color mode "+E[c]+" is not supported yet :(")}if(c==4)x.add.fcmy=1}if(x.gx.r1045){l=[];var i=x.gx.r1045,F=0;
while(F<i.length){var k=D.tP(i,F);l.push(k);F+=4+2+k.length*2}}var U=b[c]+(l==null||l[0]=="Transparency"?1:0),I=x.m,V=x.e,u=I*V,N=D.ht(J,o);
o+=2;x.buffer=q.R(u*4);q.xj(x.buffer,4278190080);var B=o;for(var j=0;j<x.iA;j++){if(N==0){e=j0.W9(x.Jf,x.Tp,J,I,V,o,N);
o+=u*(x.Tp>>>3)}else if(N==1){e=q.R(u);var T=x.Jf?4:2;if(j==0)o+=x.iA*V*T;o+=j0.a4L(J,e,I,V,B+j*V*T,o,T)}else{console.log("unknown compression of image data: ",N);
return}if(j<U){q.qR(e,x.buffer,j);if(x.iA==1&&j==0){q.qR(e,x.buffer,1);q.qR(e,x.buffer,2)}}else{var a=new h.Tj,P=j-U,v=j-b[x.ZB];
a.name=l?l[v]:"Alpha";if(a.name=="Quick Mask"){a.AH=!0;x.X7.push(P)}a.rect=new ha(0,0,I,V);a.channel=e;
a.color=0;a.xz();x._w[P]=a;if(x.gx.r1077){var i=x.gx.r1077.slice(4+v*13);a.xK=io.vp(i,0);a.wS=i[11];
a.jP=i[12];if(a.jP==2)a.AH=!0}}}x.iA=4;if(x.ZB==2)for(var $=0;$<u;$++){var R=$*4,y=x.buffer[R];x.buffer[R]=x.Wc[0+y];
x.buffer[R+1]=x.Wc[256+y];x.buffer[R+2]=x.Wc[512+y]}return o};aG.ad$=function(x,J,o,c,E){var b=1,l=16,i=x.m,F=x.e,U,I;
D.ZY(J,o,b);o+=2;var k=i*F;if(!c){I=new q.HC(i*F);q.f8(x.buffer,I);var V=I.o,u=I.I,N=I.J,e=I.V;for(var $=0;
$<k;$++){var B=e[$]*(1/255);V[$]=~~(V[$]*B+255*(1-B));u[$]=~~(u[$]*B+255*(1-B));N[$]=~~(N[$]*B+255*(1-B))}}else U=q.R(k);
var j=[U,U,U];if(!c)j=[I.o,I.I,I.J];if(x.add.fcmy==1){var T=U;if(!c){T=q.R(k);T.fill(255)}j.push(T)}if(E)j.push(c?U:I.V);
for(var $=0;$<x._w.length;$++){j.push(x._w[$].Dy(new ha(0,0,x.m,x.e)))}var a=o;for(var P=0;P<j.length;
P++){J.Qy(o,i*F+4);U=j[P];if(b==0||b==2||b==3)o=j0.x7(x.Jf,U,J.data,i,F,o,b);else{var v=x.Jf?4:2;if(P==0)o+=j.length*F*v;
var R=o;o+=j0.aC1(U,J.data,i,F,a+P*F*v,o,v)}}return o};function bP(){}bP.QE=function(x){var J={};bP._2(x,J,0,0);
return J};bP.gO=function(x,J){var o=0;o=bP.W1(x,J,o,0);return o};bP._2=function(x,J,o,c){while(x[o]!="<".charCodeAt(0))o++;
o+=2;while(!0){if(x[o]=="/".charCodeAt(0)){o++;var E=D.indexOf(x," ".charCodeAt(0),o,o+50),b=D.indexOf(x,"\n".charCodeAt(0),o,o+50);
if(b==-1)b=Infinity;if(E==-1)E=Infinity;var l=Math.min(b,E),i=D.it(x,o,l-o),F=bP.OL(x,l+1,c+1,i);J[i]=F.b;
o=l+1;o+=F.size}else if(x[o]==">".charCodeAt(0)){o+=2;break}else{var k=x[o];if(k==10||k==9||k==32)o++;
else{console.log("unknown byte: "+k+", char: "+String.fromCharCode(k),o);o++}}}return o};bP.W1=function(x,J,o,c){D.qN(J,o,"<<\n");
o+=3;var E=bP.aCA;for(var b in x){D.lP(J,o,"\t".charCodeAt(0),c+1);o+=c+1;D.qN(J,o,"/"+b);o+=1+b.length;
if(E(x[b])||x[b]instanceof Array){D.qN(J,o," ");o++}else{D.qN(J,o,"\n");o++;D.lP(J,o,"\t".charCodeAt(0),c+1);
o+=c+1}o=bP.PG(x[b],J,o,c+1);D.qN(J,o,"\n");o++}D.lP(J,o,"\t".charCodeAt(0),c);o+=c;D.qN(J,o,">>");o+=2;
return o};bP.OL=function(x,J,o,c){var E=J,b={size:0,b:0};while(!0){while(x[J]==" ".charCodeAt(0)||x[J]=="\t".charCodeAt(0)||x[J]=="\n".charCodeAt(0))J++;
if(x[J]=="<".charCodeAt(0)){b.b={};J=bP._2(x,b.b,J,o+1);break}else if(x[J]=="(".charCodeAt(0)){J+=3;
var l=J;while(!0){if(x[l-1]!="\\".charCodeAt(0)&&x[l]==")".charCodeAt(0)&&(x[l+1]=="\n".charCodeAt(0)||x[l+1]==" ".charCodeAt(0)))break;
else l++}b.b=D.a4D(x,J,l);J=l+2;break}else if(x[J]=="[".charCodeAt(0)){J++;b.b=[];while(x[J]==" ".charCodeAt(0)||x[J]=="\t".charCodeAt(0)||x[J]=="\n".charCodeAt(0))J++;
while(x[J]!="]".charCodeAt(0)){var i=bP.OL(x,J,o+1,c);b.b.push(i.b);J+=i.size;while(x[J]==" ".charCodeAt(0)||x[J]=="\t".charCodeAt(0)||x[J]=="\n".charCodeAt(0))J++}J++;
break}else{var F=D.indexOf(x," ".charCodeAt(0),J,J+50),k=D.indexOf(x,"\n".charCodeAt(0),J,J+50);if(k==-1)k=Infinity;
if(F==-1)F=Infinity;var U=D.it(x,J,Math.min(F,k)-J).trim(),I=parseFloat(U);if(!isNaN(I)){b.b=parseFloat(U);
J=Math.min(F,k)+1;break}else if(U=="true"||U=="false"){b.b=U=="true";J=Math.min(F,k)+1;break}else if(U=="null"||U=="NaN"||U=="undefined"){b.b=0;
J=Math.min(F,k)+1;break}else{console.log("unknown identifier: "+U);throw"e"}J=Math.min(F,k)+1}}b.size=J-E;
return b};bP.PG=function(x,J,o,c){if(x instanceof Array){var E=x.length==0||typeof x[0]=="number";if(E){D.qN(J,o,"[ ");
o+=2;for(var $=0;$<x.length;$++){var b=x[$]+" ";D.qN(J,o,b);o+=b.length}D.qN(J,o,"]");o+=1}else{D.qN(J,o,"[\n");
o+=2;for(var $=0;$<x.length;$++){D.lP(J,o,"\t".charCodeAt(0),c);o+=c;o=bP.PG(x[$],J,o,c);D.qN(J,o,"\n");
o++}D.lP(J,o,"\t".charCodeAt(0),c);o+=c;D.qN(J,o,"]");o+=1}}else if(x instanceof Object){o=bP.W1(x,J,o,c)}else if(typeof x=="string"){D.qN(J,o,"(");
o++;D.lP(J,o,254);o++;D.lP(J,o,255);o++;o=D.ao1(J,o,x);D.qN(J,o,")");o+=1}else{var b=x+"";D.qN(J,o,b);
o+=b.length}return o};bP.aCA=function(x){var J=typeof x;return J=="string"||J=="number"||J=="boolean"};
function cL(){}cL.QE=function(x){var J={};cL.aBT(x,J,0,0);return J};cL.gO=function(x,J){var o=0;D.qN(J,o," ");
o++;o=cL.agj(x,J,o,0);o--;J.Qy(o,2);J.data[o]=J.data[o+1]=0;o+=2;return o};cL._2=function(x,J,o,c){while(x[o]!="<".charCodeAt(0)){o++;
console.log("šipka")}o+=2;o=cL.aBT(x,J,o,c);return o};cL.W1=function(x,J,o,c){D.qN(J,o,"<< ");o+=3;o=cL.agj(x,J,o,c);
D.qN(J,o,">>");o+=2;return o};cL.ts=function(x){return x==9||x==10||x==32};cL.aBT=function(x,J,o,c){while(!0){while(cL.ts(x[o])||x[o]==0)o++;
if(o>=x.length)break;if(x[o]=="/".charCodeAt(0)){o++;var E=o;while(!cL.ts(x[E]))E++;var b=D.it(x,o,E-o);
o=E+1;var l=cL.OL(x,o,c,b);J["_"+b]=l.b;o+=l.size}else if(x[o]==">".charCodeAt(0)){o+=2;break}else{var i=x[o];
console.log(D.it(x,o,o+100));console.log("unknown byte: "+i+", char: "+String.fromCharCode(i)+", offset: "+o);
o++;throw"e";return-1}}return o};cL.agj=function(x,J,o,c){for(var E in x){var b=E.substring(1,E.length);
D.qN(J,o,"/"+b);o+=1+b.length;D.qN(J,o," ");o++;o=cL.PG(x[E],J,o,c+1,b);D.qN(J,o," ");o++}return o};
cL.OL=function(x,J,o,c){var E=J,b={type:"",size:0,b:0};while(cL.ts(x[J]))J++;if(x[J]=="<".charCodeAt(0)){b.type="Object";
b.b={};J=cL._2(x,b.b,J,o+1)}else if(x[J]=="(".charCodeAt(0)){b.type="String";J++;if(x[J]==")".charCodeAt(0)){b.b="e";
J++}else if(x[J]==254&&x[J+1]==255){J+=2;var l=J,i=0;while(!0){if(x[l]==")".charCodeAt(0)&&x[l-1]!="\\".charCodeAt(0))break;
else l+=1}b.b="s"+D.a4D(x,J,l);J=l+2}else{var l=J;while(x[l]!=")".charCodeAt(0))l++;b.b="s"+D.it(x,J,l-J);
J=l+1}}else if(x[J]=="[".charCodeAt(0)){J++;b.b=[];b.type="Array";while(cL.ts(x[J]))J++;while(x[J]!="]".charCodeAt(0)){var F=cL.OL(x,J,o+1,c);
if(F==-1)return-1;b.b.push(F.b);J+=F.size;delete F.size;while(cL.ts(x[J]))J++}J++}else{var k=J;while(!cL.ts(x[k]))k++;
var U=D.it(x,J,k-J),I=parseFloat(U);if(!isNaN(I)&&U.indexOf(".")!=-1){b.type="Float";var V=parseFloat(U);
b.b="f"+V}else if(!isNaN(I)&&U.indexOf(".")==-1){b.type="Integer";b.b="i"+parseInt(U)}else if(U=="true"||U=="false"){b.type="Boolean";
b.b=U=="true"}else if(U.charAt(0)=="/"){b.type="BString";b.b=U}else if(U=="NaN"||U=="undefined"){b.type="Float";
b.b="f0"}else{console.log("unknown value",JSON.stringify(U));throw"e"}J=k+1}b.size=J-E;return b};cL.aku=function(x){if(x==Math.round(x))return x+".0";
var J=x.toFixed(5);while(J.endsWith("0")&&J[J.length-2]!=".")J=J.slice(0,J.length-1);if(0<x&&x<1)J=J.slice(1);
if(-1<x&&x<0)J="-"+J.slice(2);return J};cL.PG=function(x,J,o,c,E){var b=typeof x=="string"?x.charAt(0):"";
if(x instanceof Array){D.qN(J,o,"[ ");o+=2;for(var $=0;$<x.length;$++){o=cL.PG(x[$],J,o,c,"");D.qN(J,o," ");
o++}D.qN(J,o,"]");o+=1}else if(x instanceof Object){o=cL.W1(x,J,o,c)}else if(b=="e"){D.qN(J,o,"()");
o+=2}else if(b=="s"){D.qN(J,o,"(");o++;if(E=="97"){D.qN(J,o,x.slice(1));o+=x.length-1}else{D.lP(J,o,254);
o++;D.lP(J,o,255);o++;o=D.ao1(J,o,x.slice(1))}D.qN(J,o,")");o++}else if(b=="/"){D.qN(J,o,x);o+=x.length}else if(b=="f"){var l=parseFloat(x.substring(1)),i=cL.aku(l);
D.qN(J,o,i);o+=i.length}else if(b=="i"){D.qN(J,o,x.substring(1));o+=x.length-1}else{var i=x+"";D.qN(J,o,i);
o+=i.length}return o};function D(){}D.a9I=function(bz){var x="";for(var $=3;$>=0;$--)x+=String.fromCharCode(bz>>$*8&255);
return x};D.auZ=function(x){var bz=0;for(var $=x.length-1;$>=0;$--)bz|=x.charCodeAt($)<<(3-$)*8;return bz};
D.indexOf=function(x,J,o,c){if(o==null)o=0;if(c==null)c=x.length;c=Math.min(c,x.length);for(var $=o;
$<c;$++)if(x[$]==J)return $;return-1};D.C8=function(x,J,o){if(o==null)o=0;var c=J.length,E=x.length-c;
if(typeof J=="string"){var b=[];for(var $=0;$<c;$++)b.push(J.charCodeAt($));J=b}if(J.length>0){var l=J[0];
for(var $=o;$<E;$++)if(x[$]==l){var i=!0;for(var F=1;F<c;F++)if(J[F]!=x[$+F]){i=!1;break}if(i)return $}}return-1};
D.a4D=function(x,J,o){var c=[],b="";while(J<o){var E=x[J++];if(E=="\\".charCodeAt(0))c.push(x[J++]);
else c.push(E)}for(var $=0;$<c.length;$+=2)b+=String.fromCharCode(c[$]<<8|c[$+1]);return b};D.an6=function(x,J,o){var c=new Uint8Array(2);
for(var $=0;$<o.length;$++){D.uX(c,0,o.charCodeAt($));if(c[0]==")".charCodeAt(0)||c[0]=="(".charCodeAt(0)||c[0]=="\\".charCodeAt(0)){x[J]="\\".charCodeAt(0);
J++}x[J]=c[0];J++;if(c[1]==")".charCodeAt(0)||c[1]=="(".charCodeAt(0)||c[1]=="\\".charCodeAt(0)){x[J]="\\".charCodeAt(0);
J++}x[J]=c[1];J++}return J};D.ao1=function(x,J,o){x.Qy(J,4*o.length);return D.an6(x.data,J,o)};D.Gp=function(x,J,o){var c="";
for(var $=0;$<o;$++){var E=x[J++]|x[J++]<<8;c+=String.fromCharCode(E)}return c};D.$Q=function(x,J,o){var c="";
for(var $=0;$<o;$++){var E=x[J++]<<8|x[J++];c+=String.fromCharCode(E)}return c};D.aqq=function(x,J,o){for(var $=0;
$<o.length;$++){var c=o.charCodeAt($);D.K7(x,J+2*$,c)}};D.a9X=function(x,J,o){for(var $=0;$<o.length;
$++){var c=o.charCodeAt($);D.uX(x,J+2*$,c)}};D.aBY=function(x,J,o){x.Qy(J,2*o.length);D.a9X(x.data,J,o)};
D.abn=function(x,$,J){var o=[],c=0,E=0;J+=$;while($<J){c=x[$++];if((c&128)==0)E=c;else if((c&224)==192){E=(c&31)<<6;
c=x[$++];E|=c&63}else if((c&240)==224){E=(c&15)<<12;c=x[$++];E|=(c&63)<<6;c=x[$++];E|=c&63}else if((c&248)==240){E=(c&7)<<18;
c=x[$++];E|=(c&63)<<12;c=x[$++];E|=(c&63)<<6;c=x[$++];E|=c&63}else throw"e";o.push(E)}return o};D.axi=window.TextDecoder?new window.TextDecoder("utf8"):null;
D.cA=function(x,J,o){if(J==null)J=0;if(o==null)o=x.length;if(D.axi&&J==0&&o==x.length)return D.axi.decode(x);
var c=D.abn(x,J,o),E=c.length;for(var $=0;$<E;$++)c[$]=String.fromCharCode(c[$]);return c.join("")};
D.aaR=window.TextEncoder?new window.TextEncoder("utf8"):null;D.Ey=function(x){if(D.aaR)return D.aaR.encode(x);
var J=new Uint8Array(x.length*4),o=D.D$(x,J,0);return J.slice(0,o)};D.D$=function(x,J,o){var c=x.length,$=0;
for(var E=0;E<c;E++){var b=x.charCodeAt(E);if((b&4294967295-(1<<7)+1)==0){J[o+$]=b;$++}else if((b&4294967295-(1<<11)+1)==0){J[o+$]=192|b>>6;
J[o+$+1]=128|b>>0&63;$+=2}else if((b&4294967295-(1<<16)+1)==0){J[o+$]=224|b>>12;J[o+$+1]=128|b>>6&63;
J[o+$+2]=128|b>>0&63;$+=3}else if((b&4294967295-(1<<21)+1)==0){J[o+$]=240|b>>18;J[o+$+1]=128|b>>12&63;
J[o+$+2]=128|b>>6&63;J[o+$+3]=128|b>>0&63;$+=4}else throw"e"}return $};D.Mj=function(x,J){var o=D.s(x,J),c=D.cA(x,J+4,o-1);
return{Rw:c,dg:4+o}};D.avu=function(x,J){var o=D.ZR(x,J),c=D.Gp(x,J+4,o);return c};D.bi=function(x,J){var o=D.s(x,J),c=D.$Q(x,J+4,o);
return c};D.tP=function(x,J){var o=D.s(x,J),c=D.$Q(x,J+4,o-1);return c};D.aAT=function(x,J,o){D.pF(x,J,o.length);
J+=4;D.aqq(x,J,o)};D.aaL=function(x,J,o){D.lO(x,J,o.length);J+=4;D.a9X(x,J,o)};D.b2=function(x,J,o){x.Qy(J,4+2*o.length);
D.aaL(x.data,J,o)};D.aoy=function(x,J,o){x.Qy(J,4+2*o.length);D.aAT(x.data,J,o)};D.f$=function(x,J,o){var c=[];
for(var $=0;$<o;$++)c.push(String.fromCharCode(x[J+$]));return c};D.apx=function(x,J,o){var c=!1,E=x.length-o.length;
for(var $=J;$<E;$++){for(var b=0;b<o.length;b++){if(x[$+b]!=o.charCodeAt(b))break;if(b==o.length-1)return $}}};
D.it=function(x,J,o){var c="";for(var $=0;$<o;$++)c+=String.fromCharCode(x[J+$]);return c};D.wZ=function(x,J,o){for(var $=0;
$<o.length;$++)x[J+$]=o.charCodeAt($)};D.qN=function(x,J,o){x.Qy(J,o.length);D.wZ(x.data,J,o)};D.ayo=function(x,J,o){var c="";
for(var $=0;$<o;$++){var E=x[J+$];if(E<10)c+="  ";else if(E<100)c+=" ";c+=E+", "}return c};D.ht=function(x,J){return x[J]<<8|x[J+1]};
D.uX=function(x,J,bz){x[J]=bz>>8&255;x[J+1]=bz&255};D.ZY=function(x,J,bz){x.Qy(J,4);D.uX(x.data,J,bz)};
D.LA=function(x,J){var o=D.ht(x,J),c=D.ht(x,J+2);return o+c*(1/65536)};D.abC=function(x,J,bz){var o=Math.floor(bz),c=Math.floor((bz-o)*65536);
D.uX(x,J,o);D.uX(x,J+2,c)};D._K=function(x,J){return x[J+1]<<8|x[J]};D.K7=function(x,J,bz){x[J+1]=bz>>8&255;
x[J]=bz&255};D.YG=function(x,J,bz){x.Qy(J,4);D.K7(x.data,J,bz)};D.RP=function(x,J){D.Co[0]=x[J+1];D.Co[1]=x[J];
return D.Zn[0]};D.wG=function(x,J){D.Co[0]=x[J];D.Co[1]=x[J+1];return D.Zn[0]};D.NN=D.uX;D.eC=D.ZY;D.du=function(x,J){D.Pd[0]=x[J+3];
D.Pd[1]=x[J+2];D.Pd[2]=x[J+1];D.Pd[3]=x[J];return D.BQ[0]};D.kH=function(x,J,bz){D.BQ[0]=bz;x[J+3]=D.Pd[0];
x[J+2]=D.Pd[1];x[J+1]=D.Pd[2];x[J+0]=D.Pd[3]};D.Qo=function(x,J,bz){x.Qy(J,4);D.kH(x.data,J,bz)};D.Li=function(x,J,o,c){o[c+0]=x[J+0];
o[c+1]=x[J+1];o[c+2]=x[J+2];o[c+3]=x[J+3]};D.ZR=function(x,J){D.Li(x,J,D.Pd,0);return D.afF[0]};D.pF=function(x,J,bz){D.afF[0]=bz;
D.Li(D.Pd,0,x,J)};D.y8=function(x,J,bz){x.Qy(J,4);D.pF(x.data,J,bz)};D.rv=function(x,J){D.Li(x,J,D.Pd,0);
return D.BQ[0]};D.aqV=function(x,J,bz){D.BQ[0]=bz;D.Li(D.Pd,0,x,J)};D.aab=function(x,J,bz){x.Qy(J,4);
D.aqV(x.data,J,bz)};D.s=function(x,J){var o=x[J]*(256*256*256)+(x[J+1]<<16|x[J+2]<<8|x[J+3]);return o};
D.lO=function(x,J,bz){x[J]=bz>>24&255;x[J+1]=bz>>16&255;x[J+2]=bz>>8&255;x[J+3]=bz>>0&255};D.pW=function(x,J,bz){x.Qy(J,4);
D.lO(x.data,J,bz)};D.Dv=function(x,J){return D.s(x,J)<<32|D.s(x,J+4)};D.aiS=function(x,J,bz){D.lO(x,J,bz>>16>>16);
D.lO(x,J+4,bz&4294967295)};D.nY=function(x,J,bz){x.Qy(J,8);D.aiS(x.data,J,bz)};D.m0=function(x,J){var o=new Uint8Array(8);
for(var $=0;$<8;$++)o[$]=x[J+7-$];var c=new Float64Array(o.buffer);return c[0]};D.jR=function(x,J){var o=new Uint8Array(8);
for(var $=0;$<8;$++)o[$]=x[J+$];var c=new Float64Array(o.buffer);return c[0]};D.kb=function(x,J,bz){var o=new Float64Array(1);
o[0]=bz;var c=new Uint8Array(o.buffer);for(var $=0;$<4;$++){var E=c[$];c[$]=c[7-$];c[7-$]=E}for(var $=0;
$<8;$++)x[J+$]=c[$]};D.iV=function(x,J,bz){x.Qy(J,8);D.kb(x.data,J,bz)};D.RW=function(x,J){D.Pd[0]=x[J+3];
D.Pd[1]=x[J+2];D.Pd[2]=x[J+1];D.Pd[3]=x[J+0];return D.$V[0]};D.iu=function(x,J){D.Pd[0]=x[J+0];D.Pd[1]=x[J+1];
D.Pd[2]=x[J+2];D.Pd[3]=x[J+3];return D.$V[0]};D.qL=function(x,J,bz){D.$V[0]=bz;x[J+0]=D.Pd[3];x[J+1]=D.Pd[2];
x[J+2]=D.Pd[1];x[J+3]=D.Pd[0]};D.aB6=function(x,J,bz){x.Qy(J,4);D.qL(x.data,J,bz)};D.to=function(x,J,bz){D.$V[0]=bz;
x[J+0]=D.Pd[0];x[J+1]=D.Pd[1];x[J+2]=D.Pd[2];x[J+3]=D.Pd[3]};D.a9S=function(x,J,bz){x.Qy(J,4);D.to(x.data,J,bz)};
D.avl=function(x,J){var o=D.du(x,J),c=o*(1/(1<<24));return c};D.ae_=function(x,J,o){var c=Math.floor(o*(1<<24));
D.kH(x,J,c)};D.asY=function(x,J,o){x.Qy(J,4);D.ae_(x.data,J,o)};D.NH=function(x,J){var o=x[J],c=D.it(x,J+1,o);
o+=1-o%2;return{XW:c,length:o+1}};D.axY=function(x,J,o){var c=o.length;x[J]=c;D.wZ(x,J+1,o);if(c%2==0){x[J+1+c]=0;
++c}return c+1};D.ku=function(x,J,o){x.Qy(J,o.length+2);return D.axY(x.data,J,o)};D.Sr=function(x,J){var o=new cW;
o.V=D.m0(x,J+0*8);o.J=D.m0(x,J+1*8);o.xt=D.m0(x,J+2*8);o.Lu=D.m0(x,J+3*8);o.Iw=D.m0(x,J+4*8);o.s7=D.m0(x,J+5*8);
return o};D.ja=function(x,J,o){D.kb(x,J+0*8,o.V);D.kb(x,J+1*8,o.J);D.kb(x,J+2*8,o.xt);D.kb(x,J+3*8,o.Lu);
D.kb(x,J+4*8,o.Iw);D.kb(x,J+5*8,o.s7)};D.acs=function(x,J,o){x.Qy(J,48);D.ja(x.data,J,o)};D.aiR=function(x,J){var o=D.RW(x,J),c=D.RW(x,J+4),E=D.RW(x,J+8),b=D.RW(x,J+12);
return new ha(o,c,E-o,b-c)};D.aCf=function(x,J,o){D.qL(x,J,o.x);D.qL(x,J+4,o.y);D.qL(x,J+8,o.x+o.m);
D.qL(x,J+12,o.y+o.e)};D.azr=function(x,J,o){x.Qy(J,16);D.aCf(x.data,J,o)};D.eI=function(x,J){var o=D.du(x,J),c=D.du(x,J+4),E=D.du(x,J+8),b=D.du(x,J+12);
return new ha(c,o,b-c,E-o)};D.a5O=function(x,J,o){D.kH(x,J,o.y);D.kH(x,J+4,o.x);D.kH(x,J+8,o.y+o.e);
D.kH(x,J+12,o.x+o.m)};D.Vu=function(x,J,o){x.Qy(J,16);D.a5O(x.data,J,o)};D.sH=function(x,J,o){var c=new Uint8Array(o);
for(var $=0;$<o;$++)c[$]=x[J+$];return c};D.a8V=function(x,J,o){x.set(o,J)};D.w6=function(x,J,o){x.Qy(J,o.length);
D.a8V(x.data,J,o)};D.amW=function(x,J,o,bz){if(!bz)bz=1;for(var $=0;$<bz;$++)x[J+$]=o};D.lP=function(x,J,o,bz){if(!bz)bz=1;
x.Qy(J,bz);D.amW(x.data,J,o,bz)};D.Zn=new Int16Array(1);D.Co=new Uint8Array(D.Zn.buffer);D.BQ=new Int32Array(1);
D.afF=new Uint32Array(D.BQ.buffer);D.Pd=new Uint8Array(D.BQ.buffer);D.$V=new Float32Array(D.BQ.buffer);
function dM(){}dM.QE=function(x,J){var o=new Uint8Array(x),c=0,E=D.it(o,c,9),i=4,F=100;c+=9;var b=D.it(o,c,4);
c+=4;c++;J.m=D.s(o,c);c+=4;J.e=D.s(o,c);c+=4;var l=D.s(o,c);c+=4;if(l!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(b)==-1){F=D.s(o,c);c+=4;if(parseInt(b.slice(1))>=7){F=F}else alert("Unknown XCF version: "+b);
i=8}var k={};c=dM.ps(o,c,k);var U=[];c=dM.Fn(o,c,U,i);var I=[];c=dM.Fn(o,c,I,i);J._f=0;for(var $=0;$<U.length;
$++)dM.a6a(o,U[$],J,k,i,F);while(J._f>0){J.B.push(J.Tv());J._f--}J.B.reverse();delete J._f;J.buffer=q.R(J.m*J.e*4);
if(J.B.length==0)console.log("No layers!!!");for(var $=0;$<I.length;$++){var V=dM.a1T(o,I[$],k,i,F);
if(V.Sy[af.aBg])J.u={channel:V.SJ,rect:new ha(0,0,J.m,J.e)}}};dM.a6a=function(x,J,o,c,E,b){var l=o._I(),i=D.s(x,J),I=0;
J+=4;var F=D.s(x,J);J+=4;l.rect=new ha(0,0,i,F);var k=D.s(x,J);J+=4;var U=D.Mj(x,J);J+=U.dg;l.Yq(U.Rw);
var V={};J=dM.ps(x,J,V);if(V[af.apg]){var u=V[af.apg];I=u.length/4-1}if(V[af.iW]){l.rect.x=D.du(V[af.iW],0);
l.rect.y=D.du(V[af.iW],4)}if(V[af.aAw]){l.opacity=D.s(V[af.aAw],0)}if(V[af.a96]){l.add.lsct=es.tI;l.Il=24}if(V[af.aeN]){var N=D.s(V[af.aeN],0);
l.n5=af.aoo[N];if(l.Zk()&&l.n5=="norm")l.n5="pass"}if(V[af.a3$]){if(D.s(V[af.a3$],0)==0)l.Il+=2}if(V[af.ap4]){var e=D.s(V[af.ap4],0);
l.add.lsct=e&1==1?es.tI:es.tm}if(V[af.wj]){var B=V[af.wj];for(var j in B){var T=B[j];if(j=="gimp-text-layer"){var a=dM.a8J(T),P=a.text,v=a.font,R=a.color,y=a["font-size"];
if(P==null&&a.markup){var t=new DOMParser,g=t.parseFromString(a.markup,"image/svg+xml");while(g.firstChild!=null&&g.firstChild.tagName!=null){g=g.firstChild;
var H=g.getAttribute("font"),_=g.getAttribute("foreground"),Y=g.getAttribute("size");if(H!=null)v=H;
if(_!=null){_=CSS.vp(_);R=[1,_.o/255,_.I/255,_.J/255]}if(Y!=null){y=""+parseFloat(Y)/245}}P=g.textContent}l.add.lnsr="rend";
l.add.TySh=iv.hK(0,0);l.add.TySh.Ca=new ha(0,0,100,100);l.add.TySh.M=new cW(1,0,0,1,l.rect.x,l.rect.y);
var K=l.add.TySh.TC;iv.Jq(K,0,P);var f=iv.eU(K,0,0),m=a.justify,C=a["line-spacing"];if(R)f.kJ.FillColor={Type:1,Values:[1,parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3])]};
if(y){y=Math.round(parseFloat(y));f.kJ.FontSize=y;l.add.TySh.M.s7+=Math.min(17,y*.17)}if(C){C=Math.round(parseFloat(C)+f.kJ.FontSize*1.2);
f.kJ.Leading=C;f.kJ.AutoLeading=!1}if(m)f.zR.Justification=["left","right","center","fill"].indexOf(m);
if(v&&v!="Sans-serif"){var Z=v.toLowerCase(),A="bold italic semi extra regular condensed light".split(" "),d=Z.length;
for(var $=0;$<A.length;$++){var G=Z.indexOf(A[$]);if(G!=-1&&G<d&&Z[G-1]==" ")d=G}if(d!=Z.length)v=v.slice(0,d-1).split(" ").join("")+"-"+v.slice(d).split(" ").join("");
iv.UE(f,v)}iv.oO(K,0,P.length,f);var r=a["box-width"],X=a["box-height"],w=r?parseFloat(r):l.rect.m,S=X?parseFloat(X):l.rect.e;
iv.Ag(K,1);iv.UC(K,[0,0,Math.ceil(w),Math.ceil(S)])}else console.log("Unknown property "+j)}}while(o._f>I){o.B.push(o.Tv());
o._f--}o._f=I;if(l.add.lsct==es.tI||l.add.lsct==es.tm)o._f++;var z=E==4?D.s:D.Dv,s=z(x,J);J+=E;var M=z(x,J);
J+=E;if(l.xm()){l.buffer=q.R(l.rect.P()*4);var Q=new q.HC(l.rect.P());dM.arK(x,s,Q,c,E,b);q.rL(Q,l.buffer)}if(M!=0){l.F=new h.Tj;
var O=dM.a1T(x,M,c,E,b);l.F.channel=O.SJ;l.F.rect=l.rect.clone();if(V[af.awv])l.F.isEnabled=D.s(V[af.awv],0)==1;
l.F.color=l.F.channel[0];l.F.xz()}if(l.Zk())l.rect=new ha;o.B.push(l)};dM.a8J=function(x){var J="("+D.cA(x,0,x.length-1)+")",o=[],c={};
dM.a2t(J,1,o);dM.asm(o,c);return c};dM.asm=function(x,J){for(var $=0;$<x.length;$++){var o=x[$],c=o[0];
if(o.length==2)J[c]=o[1];else J[c]=o.slice(1)}};dM.a2t=function(x,J,o){while(!0){if(J>=x.length)throw"e";
var c=x.charAt(J);J++;if(c=="("){var E=[];J=dM.a2t(x,J,E);o.push(E)}else if(c==" "||c=="\n"||c=="\r"){}else if(c==")")return J;
else if(c=="\""){var b=J;while(!0){var l=x[J];J++;if(l=="\"")break;if(l=="\\")J++}o.push(JSON.parse(x.slice(b-1,J)))}else{var b=J-1;
while(x[J]!=" "&&x[J]!=")")J++;o.push(x.slice(b,J))}}};dM.a1T=function(x,J,o,c,E){var b=D.s(x,J);J+=4;
var l=D.s(x,J);J+=4;var i=D.Mj(x,J);J+=i.dg;var F={};J=dM.ps(x,J,F);var k=new q.HC(b*l),U=c==4?D.s:D.Dv,I=U(x,J);
J+=c;dM.arK(x,I,k,o,c,E);return{SJ:k.o,Sy:F}};dM.arK=function(x,J,o,c,E,b){var l=D.s(x,J);J+=4;var i=D.s(x,J);
J+=4;var F=D.s(x,J);J+=4;var k=E==4?D.s:D.Dv,U=k(x,J);J+=E;dM.aiK(x,U,o,c,F,E,b)};dM.aiK=function(x,J,o,c,E,b,l){var i=D.s(x,J),U=0,$=0;
J+=4;var F=D.s(x,J);J+=4;var k=new ha(0,0,i,F);if(l==100||l==150)U=1;else if(l==200||l==250)U=2;else if(l==300||l==350)U=4;
else if(l==500||l==550)U=2;else if(l==600||l==650)U=4;else if(l==700||l==750)U=8;else{alert("unsupported bit depth "+l);
throw"e"}var I=E/U,U=Math.round(E/I),V=[];J=dM.Fn(x,J,V,b);var u=new q.HC(64*64*U),N=new ha,e=c[af.a5p][0],B=[u.o,u.I,u.J,u.V];
if(I==3)u.V.fill(255);var j=Date.now();if(V.length!=0)for(var T=0;T<F;T+=64)for(var a=0;a<i;a+=64){var P=Math.min(i-a,64),v=Math.min(F-T,64),R=P*v;
N.DQ(a,T,P,v);dM.aub(x,V[$++],R*U,e,I,B);if(l==100||l==150){}else if(l==250){for(var y=0;y<I;y++){var t=B[y];
for(var g=0;g<R;g++){var H=t[g]<<8|t[R+g];t[g]=Math.min(H>>>8,255)}}}else if(l==600){var _=dM.ajO(),Y=new Uint32Array(1),K=new Float32Array(Y.buffer);
for(var y=0;y<I;y++){var t=B[y];for(var g=0;g<R;g++){Y[0]=t[g]<<24|t[R+g]<<16|t[(R<<1)+g]<<8|t[(R<<1)+R+g]<<0;
var f=K[0];if(f<0)f=0;else if(f>1)f=1;t[g]=_[~~(.5+f*1e3)]}}}else console.log("unknown data format",l);
q.Ei(u,N,o,k)}};dM.ajO=function(){var x=dM.agO;if(x!=null)return x;x=dM.agO=new Uint8Array(1001);for(var $=0;
$<1001;$++)x[$]=~~(.49+255*q.cW($*.001));return x};dM.aub=function(x,J,o,c,E,b){if(c==1){for(var l=0;
l<E;l++){var i=b[l],F=0;while(F<o){var bz=x[J];J++;if(bz<127){var k=x[J];J++;bz++;for(var $=0;$<bz;$++)i[F+$]=k}else if(bz==127){var U=x[J];
J++;var I=x[J];J++;var k=x[J];J++;bz=U<<8|I;for(var $=0;$<bz;$++)i[F+$]=k}else if(bz==128){var U=x[J];
J++;var I=x[J];J++;bz=U<<8|I;for(var $=0;$<bz;$++)i[F+$]=x[J+$];J+=bz}else{bz=256-bz;for(var $=0;$<bz;
$++)i[F+$]=x[J+$];J+=bz}F+=bz}}}else if(c==2){var V=pako.inflate(x.slice(J)),u=Math.round(V.length/o);
for(var $=0;$<o;$++){var N=$*u;b[0][$]=V[N];b[1][$]=V[N+1];b[2][$]=V[N+2];b[3][$]=u==3?255:V[N+3]}}else alert("Unknown compression "+c)};
dM.Fn=function(x,J,o,c){var E=c==4?D.s:D.Dv;while(!0){var b=E(x,J);J+=c;if(b==0)break;else o.push(b)}return J};
dM.ps=function(x,J,o){while(!0){var c=D.s(x,J);J+=4;var E=D.s(x,J);J+=4;if(c==af.a7u)break;else if(c==af.wj)o[c]=dM.a2x(x,J,J+E);
else o[c]=D.sH(x,J,E);J+=E}return J};dM.a2x=function(x,J,o){var c={};while(J<o){var E=D.Mj(x,J);J+=E.dg;
var b=D.s(x,J);J+=4;if(b!=1)console.log("unknown flags",b);var l=D.s(x,J);J+=4;c[E.Rw]=D.sH(x,J,l);J+=l}return c};
var af={a7u:0,awR:1,anN:2,aiU:3,aBg:4,asR:5,aAw:6,aeN:7,a3$:8,atv:9,a1t:10,awv:11,aCC:12,akf:13,afa:14,iW:15,ai9:16,a5p:17,avr:18,aBn:19,ai6:20,wj:21,ae6:22,ahg:23,afs:24,aeI:25,a8T:26,a1G:27,aaa:28,a96:29,apg:30,ap4:31,a9O:32,ag0:33,ape:34,ar6:35,a5$:36,aBc:37,a7k:38,aoW:0,at7:1,a7f:2,alM:3,ae7:1,azR:2,a1o:0,axs:1,aor:1};
af.aoo="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var jt=function(){var x=!1,J,o,j=0,P;function c(){var y=D.it(J,o,4);o+=4;return y[3]+y[2]+y[1]+y[0]}function E(){var y=D.it(J,o,4);
o+=4;return y}function b(){var y=J[o];o+=1;return y}function l(){var y=D._K(J,o);o+=2;return y}function i(){var y=D.ZR(J,o);
o+=4;return y}function F(){var y=D.rv(J,o);o+=4;return y}function k(){var y=D.ZR(J,o);o+=8;return y}function U(){var y=D.iu(J,o);
o+=4;return y}function I(){var y=D.jR(J,o);o+=8;return y}function V(){var y=D._K(J,o),t=D.cA(J,o+2,y);
o+=2+y;return t}function u(){var y=D.ZR(J,o),t=D.cA(J,o+4,y);o+=4+y;return t}function N(y){o=y;var t=[];
while(o!=0){var g=E();if(g!="#FT4"&&g!="#FT3"&&g!="#FT2")throw g;var H=k(),_=k(),Y=k(),K=k(),f=k(),m=i(),C=i(),Z=i(),A=l(),d=b(),G={};
t.push(G);for(var $=0;$<m;$++){var r=i(),X=b();if(X!=0&&X!=1&&X!=2)throw X;var w=[];if(X==0||X==1){var S=k(),z=k(),s=k(),M=i(),Q=b(),O=i(),W=g!="#FT4"?0:i(),e9=null;
if(g=="#FAT"||g=="#FT2"){switch(Q){case 1:Q=1;break;case 2:Q=65;break;case 3:Q=129;break;case 4:Q=193;
break;default:Q=0;break}}if(X==0)e9=V();w=[S,z,s,Q,e9]}G["i"+r]=[X,w]}for(var $=0;$<A;$++){var jV=l(),co=l(),dz=k(),eh=D.it(J,o,jV);
o+=jV}o=H}t.reverse();for(var a9=1;a9<t.length;a9++){var G=t[a9],kB=t[a9]=JSON.parse(JSON.stringify(t[a9-1]));
for(var dc in G){var eT=G[dc];if(eT[0]==0)kB[dc]=eT;else if(eT[0]==1){eT[1][4]=kB[dc][1][4];kB[dc]=eT}else if(eT[0]==2)delete kB[dc]}}var fv=t.pop(),jS=[];
for(var dc in fv)jS.push(fv[dc][1]);jS.sort(function(cx,bX){return cx[0]-bX[0]});return jS}function e(y,t,g,H){while(o<J.length){var _=b(),m=null;
if(_==0){if(H){var Y=b();if(Y!=2){var K=c()}if(Y==0)o+=4;H=!1;continue}else{break}}var f=c();if(x)console.log("  ".repeat(t),_,_&127,f,y._type);
if(_>127)m=B(_,t,g);else m=T(_,t,g);if(x)console.log("  ".repeat(t),m);y[f]=m}}function B(y,t,g){var H=[];
y=y&127;if(y==43)o+=4;var _=i();if(y==50){var Y=c(),K=l();if(K!=1)throw"e";for(var $=0;$<_;$++){var f={_status:"NotShared",_type:Y};
H.push(f);var m=b();if(m!=1)throw m;e(f,t+1,g)}}else if(y==41){if(_>8)throw _;for(var $=0;$<_;$++)H.push((J[o]>>>$&1)==1);
o++}else for(var $=0;$<_;$++){H.push(T(y,t,g,$!=0));if(y==42)y=2}return H}function T(y,t,g,H){var _=null;
if(y==49){_={};var Y=b();if(Y!=0){var K=i();if(g==null){_._id=K;_._status=["Shared","Link"][Y-1]}if(g&&Y==2)_=g[K];
if(Y==1){if(g)g[K]=_;var f=b(),m=!1;if(f>1)throw f;_._type=c();if(x)console.log("  ".repeat(t),"new",_._type,f,o);
if(f==0){while(!0){var C=l();if(C!=0&&C!=1&&C!=2&&C!=3&&C!=4)throw C;if(J[o]!=0){m=!0;break}var Z=l();
if(Z==512)break;var A=c();if(Z==256)break}}e(_,t+1,g,m)}}}else if(y==50){_={_status:"NotShared"};if(b()==1){_._type=c();
o+=2;e(_,t+1,g)}}else if(y==1)_={type:"byte",value:b()};else if(y==2)_={type:"uint16",value:l()};else if(y==3)_={type:"uint32",value:i()};
else if(y==4)_={type:"uint64",value:k()};else if(y==7)_={type:"int32",value:F()};else if(y==8)_={type:"int64",value:k()};
else if(y==9)_={type:"float32",value:U()};else if(y==10)_={type:"float64",value:I()};else if(y==21)_={type:"Vec2i",value:[i(),i()]};
else if(y==23)_={type:"Vec4i",value:[i(),i(),i(),i()]};else if(y==33)_={type:"Vec4f",value:[U(),U(),U(),U()]};
else if(y==36)_={type:"Vec2",value:[I(),I()]};else if(y==38)_={type:"Vec4",value:[I(),I(),I(),I()]};
else if(y==40)_={type:"Vec6",value:[I(),I(),I(),I(),I(),I()]};else if(y==41)_={type:"bool",value:b()!=0};
else if(y==42)_={type:"Enum",value:i()};else if(y==43)_={type:"string",value:u()};else if(y==44){if(H!=!0)j=l();
_={type:"curv16",value:[I(),j==12?[b(),b(),b(),b()]:[i(),i()]]}}else if(y==45){var d=i();_={type:"buff",value:J.slice(o,o+d)};
o+=d}else if(y==47){_={type:"uint32",value:i()}}else if(y==48){var G=[],r=l();if(r!=1)throw r;while(!0){if(J[o]==135){var X=B(b(),t+1,g),w=B(b(),t+1,g),S=B(b(),t+1,g);
G.push([X,w,S])}else{var z=1;if(J[o]==3){b();z=i()}for(var $=0;$<z;$++){if(b()!=41)throw"e";var K=b();
if(K!=0&&K!=1)throw K;if(b()!=172)throw"e";var s=i(),M=l(),Q=[];G.push(Q);if(M!=18)throw M;if(s>4e3)throw s;
for(var O=0;O<s;O++)Q.push([I(),I(),b(),b()])}}if(J[o]==0){o++;break}}_={type:"curve",value:G}}else if(y==51){_={type:"EmbeddedData"};
_[c()]=u()}else if(y==52)_={type:"uint32",value:i()};else if(y==56)_={type:"Color32",value:[b(),b(),b(),b()]};
else if(y==60)_={type:"ColorGRAY",value:[U(),U()]};else if(y==68)_={type:"ColorRGBA",value:[U(),U(),U(),U()]};
else if(y==72)_={type:"ColorCMYK",value:[U(),U(),U(),U(),U()]};else{throw y}return y==49||y==50||y==51?_:_.value}function a(y){var t=0,g=y.length;
for(var $=0;$<g;$++)y[$]=t=t+y[$]&255}function v(y){J=y;o=4;var t=i(),g=E();if(g!="nsrP")throw g;var g=E();
if(g!="#Inf")throw g;var H=k();P=k();var _=k(),Y=k(),K=k(),f=i(),m=i(),g=E();if(g!="Prot")throw g;var f=i(),C=N(H),Z={},A=Date.now();
for(var d=0;d<C.length;d++){var G=C[d],r=G[3],s=null;o=G[0];var g=E();if(g!="#Fil")throw g;var X=r>>>5&1,w=r&3,S=r&192;
switch(S){case 64:S=1;X=0;break;case 128:S=2;break;case 192:S=3;break;default:S=0;X=0}var z=new Uint8Array(J.buffer,o,G[2]);
if(w==0)s=z;else if(w==1)s=pako.inflate(z);else if(w==2)s=hR.gp.Nd(z,G[1]);else throw w;if(X==0){if(S==1)a(s);
if(S==2)throw"e"}else if(X==1){if(S==2)a(s);else throw S}else throw X;Z[G[4]]=s}return Z}function R(y){var t=v(new Uint8Array(y));
J=t["doc.dat"];o=16;var g={};e(g,0,[]);return[t,g,P]}return{adQ:R}}();function ax(){}ax.QE=function(){function x(u,N){var e=Date.now(),B=jt.adQ(u),j=B[0],T=B[1],a=B[2],P=T.DocR,v=P.DfSz,R=P.Chld;
if(R.length!=1)console.log(R);var y=R[0],t=y.SprB;R=y.Chld;N.m=~~t[2];N.e=~~t[3];N.buffer=q.R(N.m*N.e*4);
var g=[0,{}];for(var $=0;$<R.length;$++)E(R[$],N,j,new cW,g,0);N.Zy(g[0]);console.log(Date.now()-e,"Document created");
e=Date.now()}function J(u){return new cW(u[0],u[3],u[1],u[4],u[2],u[5])}function o(u,N){var e=N.Xfrm;
e=e?J(e):new cW;e.concat(u);return e}function c(u){var N={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[u];
return N?N:"norm"}function E(u,N,e,B,j,T){var a=u._type,P=u.Chld,v=N._I();v.Yq(u.Desc==null||u.Desc==""?a=="Grup"?"Folder":"Layer":u.Desc);
v.Ut(u.Visi);v.opacity=Math.round(255*u.Opac);if(u.FOpc!=1)v.add.iOpa=Math.round(255*u.FOpc);var R=u.Blnd;
if(R!=null)v.n5=c(R);var y=o(B,u),t=a=="ShpN"||a=="PCrv";if(P){N.B.push(N.Tv());v.add.lsct=es.tI;v.n5="pass";
v.Il=24;if(a=="ShpN"){var g=u.ShpB;v.dZ(new ha(g[0]+y.Iw,g[1]+y.s7,g[2]-g[0],g[3]-g[1]));j[0]++;v.add.artb.Clr={t:"Objc",v:q.r.qP({o:255,I:255,J:255})}}for(var $=0;
$<P.length;$++)E(P[$],N,e,y,j,T+1)}else if(a=="Rstr"||a=="ImgN"||a=="MRst"){var H=u.Bitm,_=H.Bckg,Y=Date.now(),K;
if(_==null){K=k(H,e,j[1]);v.rect=K[2].clone();v.buffer=K[1].slice(0);v.rect.x+=y.Iw;v.rect.y+=y.s7}if(_||y.z1()!=1){var f,m=0,C=0;
if(_){var Z=e[_.Data],A=D.C8(Z,"ataD")+4,d=D.ZR(Z,A);A+=4;f=Z.slice(A,A+d)}else{m=v.rect.x-y.Iw;C=v.rect.y-y.s7;
if(K[3]==null)K[3]=new Uint8Array(hR.rb("PNG").Jy([[v.buffer.buffer]],v.rect.m,v.rect.e));f=K[3].slice(0)}var G=N.cv(f,v.getName(),0,0);
G.Il=v.Il;G.opacity=v.opacity;v=G;var r=new cW;r.translate(m,C);r.concat(y);var X=v.rect.clone();X.x=X.y=0;
var w=q.O.ny(X).j;q.O.M(w,r,w);v.add.SoLd.Trnf=n.Y.AA(w);v.add.SoLd.nonAffineTransform=n.Y.AA(w);v.aW(N,!1)}}else if(a=="TxtA"||a=="TxtF"){v.add.lnsr="rend";
v.add.TySh=iv.hK(0,0);v.add.TySh.Ca=new ha(0,0,100,100);var S=u.TxtH.FrmB,z=1,s=1,M=v.add.TySh.M=new cW,jV=0;
M.translate(S[0],S[1]);M.concat(y);if(a=="TxtF"){var Q=Math.atan2(-M.J,M.V);M.rotate(-Q);z=M.V;s=M.Lu;
M.Lu=M.V=1;M.rotate(Q)}var O=v.add.TySh.TC,W=u.StSt,e9=W.Blok;if(e9.length!=1)throw"e";for(var co=0;
co<e9.length;co++){var dz=e9[co],eh=jV,a9=0,kB=dz.Glyp.Utf8;if(kB==null)continue;kB=kB.replace(/\u2028/g,"\n");
kB=kB.replace(/\u2029/g,"\n");kB=kB.slice(0,kB.length-1);if(kB=="")continue;v.Yq(kB.slice(0,255));iv.Jq(O,jV,kB);
jV+=kB.length;var dc=dz.GAtt.Runs,eT=dz.PAtt.Runs[0],fv=eT.Item.Ints[0];for(var jS=0;jS<dc.length;jS++){var cx=dc[jS],bX=cx.Indx,gi=cx.Item,cM=gi.Objs,ea=iv.eU(O,eh,1);
ea.zR.Justification=fv==0?0:fv==1?2:1;iv.UE(ea,gi.DFnt.Post);ea.kJ.FontSize=gi.Doub[0];for(var $=0;$<cM.length;
$++){var a1=cM[$];if(a1._type=="FDsc"){var db=a1.FDeF;if(db._type=="FilS"){var d2=F(db.Colr);ea.kJ.FillColor={Type:1,Values:[1,d2[0],d2[1],d2[2]]}}}}iv.oO(O,eh+a9,eh+Math.min(bX,kB.length),ea);
a9=bX}}iv.Ag(O,1);iv.UC(O,[0,0,Math.round((S[2]-S[0])*z),Math.round((S[3]-S[1])*s*1.2)]);N.C6=!0}else if(t){v.Il|=16;
var hu=v.add.vstk=bs.Ao.Bt(!0),fF=v.add.vmsk=b(u);q.p.Sp(fF.$,y);if(u.BFFl){var il=u.BFFl[0].FDeF,f4=il._type;
if(f4=="FilS")v.add.SoCo={classID:"null",Clr:i(il.Colr)};else if(f4=="FilG"){var aK=v.add.GdFl=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]);
l(il,aK)}else if(f4=="FilN"){v.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:0,I:0,J:0})}};hu.fillEnabled.v=!1}else console.log(f4)}if(u.LILn){var f9=u.LILn[0].LDeL,e0=f9.Wght;
if(e0!=0){hu.strokeEnabled.v=!0;hu.strokeStyleLineWidth.v.val=e0;var il=u.LIFl[0].FDeF,f4=il._type;if(f4=="FilS")hu.strokeStyleContent.v.Clr=i(il.Colr);
else if(f4=="FilN")hu.strokeEnabled.v=!1}}v.pw();v.vl(N)}else console.log(a);var jb=u.AdCh,hN=[];if(jb)for(var $=0;
$<jb.length;$++){var fe=jb[$],hn=fe._type;if(hn=="ShpN"||hn=="PCrv"){var fF=v.add.vmsk=b(fe),a3=o(y,fe);
q.p.Sp(fF.$,a3);v.pw();v.vl(N)}else if(fe.AdjP){var bH=fe.AdjP,jB=bH._type,jH={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[jB];
if(jH==null){console.log(bH);continue}var dL=fn.Xb(jH,{});hN.push(dL);var aq=dL.v.Fltr.v;if(jB=="LevP"){var is=bF.Ne(aq,0);
is[0]=bH.OutB*255;is[1]=bH.OutW*255;bF.Fa(aq,0,is)}else if(jB=="WhBP"){var is=bF.Ne(aq,2);is[4]=100+bH.WBTi*20;
bF.Fa(aq,2,is);var is=bF.Ne(aq,3);is[4]=100+bH.WBTi*200;bF.Fa(aq,3,is)}else if(jB=="HSSP"){var is=eZ.Ne(aq,0);
is[0]=Math.round(bH.HueA*256);is[1]=Math.round(bH.SatA*256);is[2]=Math.round(bH.LumA*256);eZ.Fa(aq,0,is)}else if(jB=="RecP"){aq.Clrz.v=!0;
var is=eZ.Ne(aq,0);is[0]=Math.round(bH.RecH*100);is[1]=Math.round(bH.RecS*100);is[2]=Math.round(bH.RecL*100);
eZ.Fa(aq,0,is)}else if(jB=="B&CP"){aq.Brgh.v=Math.round(bH.Brig*100);aq.Cntr.v=Math.round(bH.Ctrs*100-100)}else if(jB=="PosP"){aq.Lvls.v=bH.Post}else if(jB=="VibP"){aq.vibrance.v=bH.Vibr-100;
aq.Strt.v=Math.round(bH.Satu*100)}else if(jB=="ExpP"){aq.Exps.v=bH.Expo;aq.gammaCorrection.v=bH.Gamm/2.2}else if(jB=="ThrP"){aq.Lvl.v=Math.round(bH.Thre*255)}else if(jB=="CrvP"){var dh=bH.Mast["Cnt "],j_=bH.Mast.Vals,is=fB.Ne(aq,0),cH=is[0];
for(var bK=0;bK<dh;bK++){var eC=is[bK]=JSON.parse(JSON.stringify(cH));eC.v.Hrzn.v=Math.round(j_[bK]*255);
eC.v.Vrtc.v=Math.round(j_[4+bK]*255)}fB.Fa(aq,0,is)}}else console.log(fe)}if(hN.length!=0&&v.add.SoLd){v.add.SoLd.filterFX=fn.kN();
N.ie({id:v.add.SoLd.placed.v,rect:new ha,buffer:q.R(1),F:new h.Tj});v.add.SoLd.filterFX.v.filterFXList.v=hN;
v.aW(N,!1)}var fp=u.FiEf;if(fp&&fp.length!=0){var jq=v.add.lmfx=JSON.parse(bs.default);for(var $=0;$<bs.order.length;
$++)jq[bs.x0[$]]={t:"VlLs",v:[]};for(var az=0;az<fp.length;az++){var de=fp[az],g3=de._type,hJ={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[g3],aK=hJ?JSON.parse(bs.Kl[bs.order.indexOf(hJ)]):null;
if(g3=="ColO"){aK.Clr=i(de.Colr)}else if(g3=="GrdO"){l(de.GrFl.FDeF,aK)}else if(g3=="Shad"||g3=="InnS"||g3=="OutG"||g3=="InnG"){aK.Clr=i(de.Colr);
aK.blur.v.val=Math.round(de.Radi/2.4);if(de.Offs!=null){aK.Dstn.v.val=de.Offs;aK.lagl.v.val=Math.round(180-de.Angl*180/Math.PI);
aK.uglg.v=!1}}else if(g3=="Strk"){aK.Clr=i(de.Colr);aK.Sz.v.val=Math.round(de.Radi)}else if(g3=="PhgB"||g3=="BevE"){aK.blur.v.val=Math.round(de.Radi);
if(g3=="BevE")aK.bvlS.v.BESl="PlEb"}else if(g3=="Gaus"){if(t&&de.Enab){v.add.vmsk._M=de.Radi/2.4;v.add.vmsk.op=!0;
v.pw();v.vl(N)}}if(hJ){aK.enab.v=de.Enab;if(aK.Md&&de.BlnM!=null)aK.Md.v.BlnM=iP.V0(c(de.BlnM));if(aK.Opct&&de.Opac!=null)aK.Opct.v.val=Math.round(de.Opac*100);
var kc=bs.x0[bs.order.indexOf(hJ)];jq[kc].v.unshift({t:"Objc",v:aK})}}}N.B.push(v)}function b(u){var N=new h._b,e=u._type;
if(e=="PCrv"){var B=u.Crvs.Data,j=[],T=[];for(var $=0;$<B.length;$++){var a=B[$],P=a.length%3;if(P!=1){a=P==2?a[0][2]!=0?a.slice(0,a.length-1):a.slice(1):a.slice(1,a.length-1)}for(var v=0;
v<a.length;v++){var R=a[v],y=R[2];if(y!=0)j.push(v==0?"M":"C");T.push(R[0],R[1])}}N.$=q.O.XR({j:T,G:j},!0)}else{var t=u.ShpB,g=u.Shpe,H=g._type,_=t[2]-t[0];
if(H=="ShpE"){N.$=q.p.MP.yr(t[0],t[1],t[2]-t[0],t[3]-t[1])}else if(H=="ShNR"){var Y=[0,0,0,0];if(g.CTyp){Y=g.ShCR.slice(0);
for(var $=0;$<4;$++)Y[$]*=t[2]-t[0]}N.$=q.p.MP.Rect(t[0],t[1],t[2]-t[0],t[3]-t[1],Y)}else if(H=="ShpT"){N.$=q.O.XR({G:["M","L","L","Z"],j:[t[0],t[3],t[2],t[3],t[0]+_*.5,t[1]]},!0)}else if(H=="ShTz"){N.$=q.O.XR({G:["M","L","L","L","Z"],j:[t[0]+_*g.PosL,t[1],t[0]+_*g.PosR,t[1],t[2],t[3],t[0],t[3]]},!0)}else{console.log("--",H);
N.$=q.p.MP.Rect(t[0],t[1],t[2]-t[0],t[3]-t[1],[0,0,0,0])}}return N}function l(u,N){var e=u.Grad,B=e.Cols;
N.Type.v.GrdT=u.Type==0?"Lnr":"Rdl";var j=[];for(var $=0;$<B.length;$++){var T=F(B[$]);j.push([e.Posn[$][0],T])}N.Grad.v.Intr.v=0;
q.r.p3(j,N.Grad.v);var a=e.Posn,P=new ck(a[0][0],a[0][1]),v=new ck(a[1][0],a[1][1]);if(u.Type==0)P=new ck((P.x+v.x)/2,(P.y+v.y)/2);
q.r.Bk(P,v,new ha(0,0,1,1),N)}function i(u){var N=F(u);return{t:"Objc",v:q.r.qP({o:N[0]*255,I:N[1]*255,J:N[2]*255})}}function F(u){var N=u._col,e=u._type;
if(e=="HSLA"){var B=q.zw(N[0],N[1],N[2]);return[B.o,B.I,B.J,N[3]]}else if(e=="RGBA")return N;else if(e=="CMYK")return q.dk(N);
else if(e=="GRAY")return[N[0],N[1],N[2]];else{console.log(N);throw e}}function k(u,N,e){var B=u.Frmt,Y="";
if(B!=0&&B!=1&&B!=4&&B!=6)throw B;var j=u.BmpW,T=u.BmpH,a=B==1?128:256,P=B==4?5:B==0||B==1?4:1,v=Math.ceil(j/a),R=Math.ceil(T/256),y=new ha(0,0,v,R),t=new ha;
for(var $=0;$<P;$++){var g=new Uint8Array(u["Sta"+($+1)]),H=q.d6(g,y);t=t.k7(H)}var _=[];for(var $=0;
$<P;$++){var g=new Uint8Array(u["Sta"+($+1)]),K=q.R(t.P());q.zc(g,y,K,t);_[$]=[];for(var f=0;f<K.length;
f++)_[$][f]=K[f];Y+=JSON.stringify(_[$])+","+JSON.stringify(u["Idx"+($+1)])+","}if(e[Y]==null){var m=t.m*a,C=t.e*256,Z=new Array(P);
for(var $=0;$<P;$++){var g=Z[$]=new Uint8Array(m*C);U(g,u["Idx"+($+1)],_[$],N,m,C,a)}var A=q.R(m*C*4);
if(B==0||B==1)q.rL({o:Z[0],I:Z[1],J:Z[2],V:Z[3]},A);else if(B==4){for(var $=0;$<Z[0].length;$++){var d=$*4,G=Z[0][$]*(1/255),r=Z[1][$]*(1/255),X=Z[2][$]*(1/255),w=Z[3][$]*(1/255),S=UDOC.C.cmykToRgb([G,r,X,w]);
A[d]=S[0]*255;A[d+1]=S[1]*255;A[d+2]=S[2]*255;A[d+3]=Z[4][$]}}else{A.fill(255);q.Qz(Z[0],A)}var z=new ha(0,0,m,C),s={buffer:A,rect:z};
q.Ir(s);e[Y]=[s.rect,s.buffer]}var H=e[Y][2]=e[Y][0].clone();H.x+=t.x*a;H.y+=t.y*256;return e[Y]}function U(u,N,e,B,j,T,a){var P=0,v=j>>>(a==256?8:7),R=T>>>8;
for(var y=0;y<R;y++)for(var t=0;t<v;t++){var g=t*a,H=y*256,_=y*v+t,Y=H*j+g,K=e[_];if(K<=1)I(u,Y,0,j,a,256);
else if(K==2)I(u,Y,4294967295,j,a,256);else if(K==4){var f=N[P];P++;var m=B[f.Data.DatI],C=f.Rect;if(C==null)C=[0,0,a,256];
I(u,Y,0,j,a,256);V(u,(H+C[1])*j+g+C[0],m,C[1]*a+C[0],j,a,C[2]-C[0],C[3]-C[1])}else console.log(K)}}function I(u,N,e,B,j,T){var a=N+B*T;
for(;N<a;N+=B){var P=N+j;for(var v=N;v<P;v++){u[v]=e}}}function V(u,N,e,B,j,T,a,P){var v=N+j*P,R=B+T*P;
for(;N<v&&B<R;N+=j,B+=T){for(var $=0;$<a;$++)u[N+$]=e[B+$]}}return x}();function iX(){}iX.QE=function(x,J){var o=iX,c=fx.parse(x),b=0;
if(c.pages.length>1)console.log(c.pages.length,"pages");var E=[],l=new ha;for(var i=0;i<c.pages.length;
i++){var F=c.pages[i],k=F.layers,U=o.Cg(k,i),V=!1;if(U.P()>8e3*8e3||U.m>3e4||U.e>3e4){o.auB(k,!0);var I=o.Cg(k,i);
if(I.P()>=U.P())o.auB(k,!1)}U=o.Cg(k,i);for(var u=0;u<k.length;u++){var N=k[u];if(o.uu(N)=="artboard")V=!0}if(!V){console.log("no artboard");
var e={};for(var B in F)e[B]=F[B];e._class="group";F.layers=[e]}E.push(U.clone());if(U.Kx())continue;
U.x=0;U.y=b;b+=U.e+200;l=l.k7(U)}var j={};if(c.foreignSymbols)for(var $=0;$<c.foreignSymbols.length;
$++){var T=c.foreignSymbols[$].symbolMaster;j[T.symbolID]={S1:T}}o.aru(c.pages,j,J);for(var a in j){var N=j[a].S1,P=o.ab1(N.layers)}var v=iX.tW(l,8192*8192);
J.C6=!0;J.m=Math.round(l.m/v);J.e=Math.round(l.e/v);J.buffer=q.R(J.m*J.e*4);J.Zy(c.pages[0].layers.length);
J.Qr={};J.Ku=[];b=0;for(var i=0;i<c.pages.length;i++){var R=c.pages[i],U=E[i],y=new cW(v,0,0,v,U.x,U.y-b);
o.VA(R.layers,J,y,c,j,{},[]);b+=U.e+200}delete J.Qr;delete J.Ku;if(v!=1)alert("File scaled down "+v+"x");
J.ahK()};iX.a0J=0;iX.uu=function(x){return x._class?x._class:x.$class};iX.tW=function(x,J){var o=1;while(Math.round(x.m/o)*Math.round(x.e/o)>J||Math.max(Math.round(x.m/o),Math.round(x.e/o))>3e4)o++;
if(o!=1&&!window.confirm("Your image is quite large ("+x.m+" x "+x.e+" px).\n"+"Press OK to scale it down "+o+"x, or Cancel to keep the size."))o=1;
return o};iX.Cg=function(x,J){var o=[],c=iX;for(var E=0;E<x.length;E++){var b=x[E],l=c.eI(b.frame);if(J==0||c.uu(b)=="artboard")o.push(l)}return q.rect.pD(o)};
iX.auB=function(x,J){var o=[],c=iX;for(var E=0;E<x.length;E++){var b=x[E],l=c.eI(b.frame);l.m+=150;l.e+=150;
o.push(l)}var i=q.rect.pD(o);q.rect.aev(o,J);var F=q.rect.pD(o);if(F.P()*1.5<i.P()||i.m>3e4&&F.m<=3e4||i.e>3e4&&F.e<=3e4){alert("Re-arranging artboards");
for(var E=0;E<x.length;E++){var k=o[E],b=x[E],U=b.frame;U.x=k.x;U.y=k.y}}};iX.aru=function(x,J,o){var c=iX;
for(var E=0;E<x.length;E++){var b=x[E],l=c.uu(b);if(["page","artboard","group"].indexOf(l)!=-1)c.aru(b.layers,J,o);
else if(l=="symbolMaster")J[b.symbolID]={S1:b}}};iX.ab1=function(x){var J=iX;for(var o=0;o<x.length;
o++){var c=x[o],E=J.uu(c),b=null;if(["page","artboard","group"].indexOf(E)!=-1)b=J.ab1(c.layers);if(E=="symbolMaster"||E=="symbolInstance")b=c;
if(b!=null)return b}return null};iX.VA=function(x,J,o,c,E,b,l){var i=iX,F=[];for(var k=0;k<x.length;
k++){var U=x[k],I=U.frame?i.eI(U.frame):null,V=U.style,j="",y=null,t=!1;if(V==null){console.log("no styles")}var u=i.a0x(U,o),N=i.uu(U),e=N=="shapeGroup"||N=="shapePath"||N=="rectangle"||N=="oval"||N=="triangle"||N=="polygon",B=["page","artboard","group"].indexOf(N)!=-1;
if(N=="shapeGroup"){for(var $=0;$<U.layers.length;$++)if(i.uu(U.layers[$])=="shapeGroup")B=!0}var T=U.exportOptions;
if(T){var a=T.exportFormats;if(a==null)a=T.sizes;if(N!="artboard"&&(a&&a.length!=0)){var P=a[0].scale}}var v=J._I();
v.Ut(U.isVisible);var R=U.name;if(!(typeof R=="string"))R=N;v.Yq(j+R.slice(0,250));if(V!=null)y=i.aCQ(c,J,V,I,u,v.getName(),e||N=="artboard"||B);
if(N=="rectangle"&&V&&V.fills&&V.fills[0]){var g=V.fills[0];if(g.fillType==4&&g.patternFillType>1&&g.image!=null)t=!0}if(U.shouldBreakMaskChain){while(F.length!=0)i.abu(F.pop(),J)}if(B){v.add.lsct=U.layerListExpandedType==2?es.tI:es.tm;
v.n5="pass";v.Il=24;v.Ut(U.isVisible);J.B.push(J.Tv());if(N=="artboard"){var H=I.clone(),_=u.z1();H.x=-Math.floor(u.Iw/_);
H.y=-Math.floor(u.s7/_);H.m=Math.floor(H.m/_);H.e=Math.floor(H.e/_);v.dZ(H);var Y=U.backgroundColor,K=Y?{o:255*Y.red,I:255*Y.green,J:255*Y.blue}:{o:255,I:255,J:255};
v.add.artb.Clr={t:"Objc",v:q.r.qP(K)};v.add.artb.artboardBackgroundType={t:"long",v:4}}i.VA(U.layers,J,u,c,E,b,l)}else if(e&&!t){var f=y!=null&&y.frameFXMulti.v.length==1;
v.add.vmsk=new h._b;v.add.vstk=bs.Ao.Bt(!0,f);var m=V?V.fills:null,C=V?i.adK(c,m,I,u,v.getName(),J,i.P$(l,U.do_objectID+"_image")):[];
if(C.length==0){if(f)v.add.vstk.fillEnabled.v=!1;else v.add.iOpa=0;v.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:0,I:0,J:0})}}}else{var Z=C[0],A=null,d=null;
if(Z.type=="SoFi"){A="SoCo";d=bs.MA}if(Z.type=="GrFl"){A="GdFl";d=bs.Xp}if(Z.type=="patternFill"){A="PtFl";
d=bs.X2}if(A!=null){v.add[A]={classID:"null"};for(var $=0;$<d.length;$++){var G=d[$];v.add[A][G]=Z.b.v[G]}var r=Z.b.v.Opct.v.val;
if(f&&r==0)v.add.vstk.fillEnabled.v=!1;else v.add.iOpa=Math.round(255*r/100)}}v.Il|=16;v.add.vmsk.$=i.KN(U.layers?U.layers:[U],U.layers?u:o);
var X=V?V.blur:null;if(X&&X.isEnabled&&X.type<=1)v.add.vmsk._M=X.radius;if(v.add.vmsk.$.length==2){console.log("shape with no content:",v.getName())}if(f){var w=y.frameFXMulti.v[0].v,S=v.add.vstk,z=V.borders[0];
y.frameFXMulti.v=[];cI.auo(w,S);var s=V.borderOptions,M=V.miterLimit;if(s)bs.Ao.write(S,{lcap:s.lineCapStyle,ljoin:s.lineJoinStyle,dash:s.dashPattern,mlimit:M},1)}v.pw();
v.vl(J)}else if(N=="bitmap"||t){if(!t&&U.image==null)continue;var Q=t?V.fills[0]:null,O=t?Q.image.bdata:U.image.bdata,W=J.cv(O,v.getName(),0,0);
W.Il=v.Il;v=W;var X=V?V.blur:null,e9=V?V.colorControls:null;if(X||e9){v.add.SoLd.filterFX=fn.kN();J.ie({id:v.add.SoLd.placed.v,rect:new ha,buffer:q.R(1),F:new h.Tj});
var m=v.add.SoLd.filterFX.v.filterFXList.v;if(X){var jV=fn.Xb("GsnB",{});jV.v.enab.v=X.isEnabled;jV.v.Fltr.v.Rds.v.val=X.radius;
m.push(jV)}if(e9){var co=e9.brightness,dz=e9.contrast,eh=e9.hue,a9=e9.saturation;if(eh!=0||a9!=1){var jV=fn.Xb("hue2",{});
jV.v.enab.v=e9.isEnabled;eZ.Fa(jV.v.Fltr.v,0,[Math.round(eh*180/Math.PI),Math.round((a9-1)*100),0]);
m.push(jV)}if(co!=0||dz!=1){var jV=fn.Xb("brit",{});jV.v.enab.v=e9.isEnabled;dz=dz-1;if(dz>0)dz/=2;var kB=jV.v.Fltr.v;
kB.Brgh.v=Math.round(co*255);kB.Cntr.v=Math.round(dz*255);kB.useLegacy.v=!0;m.push(jV)}}}if(t){var dc=Q.patternFillType;
if(dc==3){var eT=v.rect.m/v.rect.e,fv=I.m/I.e;if(eT<fv){u.translate(-(I.m*(1-eT/fv))/2,0);u.scale(fv/eT,1)}else{u.translate(0,-(I.e*(1-fv/eT))/2);
u.scale(1,eT/fv)}}}I.x=I.y=0;var jS=q.O.ny(I).j;u.Mr();q.O.M(jS,u,jS);v.add.SoLd.Trnf=n.Y.AA(jS);v.add.SoLd.nonAffineTransform=n.Y.AA(jS);
v.aW(J,!1)}else if(N=="text"){if(U.attributedString==null)continue;var cx=u.clone(),bX,gi,d2=0;cx.Mr();
cx.V=cx.Lu=Math.min(cx.V,cx.Lu);v.add.lnsr="rend";v.add.TySh=iv.hK(0,0);v.add.TySh.Ca=new ha(0,0,I.m,I.e);
v.add.TySh.M=cx;var cM=U.attributedString;if(cM.archivedAttributedString)cM=cM.archivedAttributedString;
var ea=cM.NSString;if(ea==null)ea=cM.string;if(ea==null)ea="";if(ea["NS.string"])ea=ea["NS.string"];
if(b[U.do_objectID]!=null)ea=b[U.do_objectID];var a1=i.P$(l,U.do_objectID+"_stringValue");if(a1)ea=a1.value;
if(cM.attributes!=null){bX=[];gi=[];var db=cM.attributes;for(var $=0;$<db.length;$++){bX.push(db[$].length,$);
gi.push(db[$].attributes)}}else if(cM.NSAttributeInfo==null){bX=[ea.length,0];gi=[cM.NSAttributes]}else{bX=cM.NSAttributeInfo["NS.data"];
gi=cM.NSAttributes;bX=iX.apc(bX,gi)}for(var $=0;$<bX.length;$+=2)d2+=bX[$];if(d2!=ea.length){while(d2>ea.length){bX[bX.length-2]--;
d2--;if(bX[bX.length-2]==0){bX.pop();bX.pop()}}bX[bX.length-2]+=ea.length-d2}ea=ea.replace(/\u2028/g,"\n");
ea=ea.replace(/\u2029/g,"\n");ea=ea.replace(/\r/g,"\n");var hu=v.add.TySh.TC;iv.Jq(hu,0,ea);if(ea!=""){var fF=U.textBehaviour,il=V.textStyle,f4=il?il.verticalAlignment:0,aK=i.a39(hu,bX,gi,ea),_=cx.z1(),e0=iv.eU(hu,0,1),fe=0;
if(e0.kJ.Font){var j7=e0.SY[e0.kJ.Font].Name;if(j7=="FontAwesome"||j7=="Ionicons")aK*=.87}var jb=e0.kJ.AutoLeading?0:e0.kJ.Leading*.6,a3=Math.max(aK,jb)*_,bH=I.m,jB=I.e;
if(fF==0){iv.Ag(hu,0);var jH=iv.$Z(e0.zR);if(jH==1)fe=bH*_;if(jH==2)fe=bH*_*.5;if(f4==0)a3*=1;else a3*=.9}else{iv.Ag(hu,1);
iv.UC(hu,[0,0,Math.round(bH),Math.round(jB)]);if(fF==2&&f4==0)a3=a3*.2;else if(fF==2&&f4==1){a3=_*.5*(jB-e0.kJ.FontSize)}else if(fF==1&&f4==0)a3=a3*.2;
else a3=a3*.35}v.add.TySh.M.translate(fe,a3)}}else if(N=="symbolInstance"||N=="symbolMaster"){var dL=U.symbolID;
if(b[U.do_objectID])dL=b[U.do_objectID].symbolID;var aq=i.P$(l,U.do_objectID+"_symbolID");if(aq)dL=aq.value;
if(dL=="")continue;var is={};for(var G in b)is[G]=b[G];if(U.overrides)for(var G in U.overrides)is[G]=U.overrides[G];
var dh=l.slice(0);if(U.overrideValues)dh=dh.concat(U.overrideValues);var j_=E[dL];if(j_==null){console.log("Unknown master master",U.symbolID);
continue}var cH=iX.eI(j_.S1.frame),bK=cH.m/I.m,eC=cH.e/I.e,fp=u.clone();fp.scale(bK,eC);v.add.lsct=es.tm;
v.n5="pass";v.Il=24;v.Ut(U.isVisible);J.B.push(J.Tv());var jq=j_.S1;if(J.Ku.indexOf(jq)==-1){J.Ku.push(jq);
i.VA(jq.layers,J,fp,c,E,is,dh);J.Ku.pop()}}else if(N=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+N,U);continue}if(V&&V.contextSettings){var az=V.contextSettings,de=az.blendMode;
if(de<i.Na.length){v.n5=iP.f5[iP.$l.indexOf(i.Na[de])];if(B&&v.n5=="norm")v.n5="pass"}v.opacity=Math.round(v.opacity*az.opacity)}if(y!=null){v.add.lmfx=y}J.B.push(v);
if(U.hasClippingMask&&x.length>1){F.push(v);J.B.push(J.Tv())}}while(F.length!=0)i.abu(F.pop(),J)};iX.P$=function(x,J){for(var $=0;
$<x.length;$++)if(x[$].overrideName.startsWith(J))return x[$]};iX.apc=function(x,J){var o=0,c=[];while(o+1<x.length){var E=x[o];
o++;if(E>127){E+=128*(x[o]-1);o++;if(x[o-1]>127){E+=128*(x[o]-1);o++}}var b=x[o];o++;c.push(E,b)}return c};
iX.a39=function(x,J,o,c){var E=iX,b=0,U=0,I=0;for(var $=0;$<c.length;$++){var l=c.charCodeAt($),i=1473<=l&&l<=1479||1488<=l&&l<=1514||1520<=l&&l<=1524,F=1569<=l&&l<=1594||1600<=l&&l<=1749;
if(i||F)b++}var k=b>c.length/2;for(var $=0;$<J.length;$+=2){var V=J[$],v=14,R="DejaVuSans";if(V==0)continue;
var u=J[$+1],N=o[u],e=iv.eU(x,U,U+V-1),B=N.NSColor;if(B==null){var B=N.MSAttributedStringColorDictionaryAttribute;
if(B==null)B=N.MSAttributedStringColorAttribute;if(B==null)B="0 0 0";else B=[B.red,B.green,B.blue].join(" ")}else if(E.uu(B)=="MSArchivedColor")B=B.dr+" "+B.dg+" "+B.db;
else if(B.NSRGB){B=B.NSRGB;B=D.it(B,0,B.length-1)}else if(B.NSCMYK){B=B.NSCMYK;B=D.it(B,0,B.length-1);
B=B.split(" ").map(parseFloat);var j=1-B[0],T=1-B[1],a=1-B[2],P=1-B[3];B=j*P+" "+T*P+" "+a*P}else if(B.NSWhite){B="1 1 1"}B=B.split(" ");
e.kJ.FillColor={Type:1,Values:[1,parseFloat(B[0]),parseFloat(B[1]),parseFloat(B[2])]};var y=N.MSAttributedStringFontAttribute;
if(N.NSFont){v=N.NSFont.NSSize;R=N.NSFont.NSName}else if(y){if(y.attributes){y=y.attributes;v=y.size;
R=y.name}else{var t=y.NSFontDescriptorAttributes;if(t==null)t=y.UIFontDescriptorAttributes;y=t;v=y.NSFontSizeAttribute;
R=y.NSFontNameAttribute}if(R==null)R="DejaVuSans"}var I=Math.max(I,v);e.kJ.FontSize=Math.round(v);iv.UE(e,R);
var g=N.NSKern;if(g==null)g=N.kerning;if(g!=null)e.kJ.Tracking=Math.round(1e3*g/v);if(N.NSUnderline!=null)e.kJ.Underline=N.NSUnderline>0;
var H=N.NSStrikethrough;if(H==null)H=N.strikethroughStyle;if(H!=null)e.kJ.Strikethrough=H>0;if(N.MSAttributedStringTextTransformAttribute==1)e.kJ.FontCaps=2;
var _=N.NSParagraphStyle;if(_==null)_=N.paragraphStyle;if(_){var Y=_.paragraphSpacing;if(Y!=null){e.zR.SpaceAfter=Y}var K=_.NSAlignment;
if(K==null)K=_.alignment;if(K!=null){var f=0;if(!1){}else if(K==1)f=1;else if(K==2)f=2;else if(K==4)f=0;
else{f=K;console.log("unknown align",K)}if(k&&f<2)f=1-f;e.zR.Justification=f}var m=_.NSMinLineHeight;
if(m==null)m=_.minimumLineHeight;if(m!=null){e.kJ.AutoLeading=!1;e.kJ.Leading=m}}e.zR._Direction=k?1:0;
iv.oO(x,U,U+V,e);U+=V}return I};iX.aCQ=function(x,J,o,c,E,b,l){var i=iX,F=JSON.parse(bs.default),k=!1;
for(var $=0;$<bs.order.length;$++)F[bs.x0[$]]={t:"VlLs",v:[]};var U=o.fills,I=i.adK(x,U,c,E,b,J);for(var V=0;
V<2;V++){var u=o[["shadows","innerShadows"][V]];if(u==null)continue;var N=["DrSh","IrSh"][V],e=bs.x0[bs.order.indexOf(N)];
for(var $=0;$<u.length;$++){var B=u[$];if(!B.isEnabled)continue;var j=B.contextSettings;if(j&&j.opacity==0||B.color.alpha==0)continue;
var T=JSON.parse(bs.Kl[bs.order.indexOf(N)]);F[e].v.unshift({t:"Objc",v:T});k=!0;T.Clr.v=i.vp(B.color);
T.blur.v.val=Math.round(B.blurRadius/E.z1());var a=E.clone();a.Iw=a.s7=0;a.Mr();var P=a.iI(new ck(B.offsetX,B.offsetY)),v=Math.sqrt(P.x*P.x+P.y*P.y);
T.Dstn.v.val=Math.round(v);T.lagl.v.val=Math.round(Math.atan2(P.y,-P.x)*(180/Math.PI));if(T.layerConceals)T.layerConceals.v=I.length!=0;
i._v(B,T)}}var R=o.borders;if(R!=null&&(I.length==0||o.blur==null||!o.blur.isEnabled))for(var $=0;$<R.length;
$++){var y=R[$];if(!y.isEnabled)continue;var T=JSON.parse(bs.Kl[bs.order.indexOf("FrFX")]),e=bs.x0[bs.order.indexOf("FrFX")];
F[e].v.unshift({t:"Objc",v:T});k=!0;T.Clr.v=i.vp(y.color);if(y.fillType!=0&&y.gradient){var t=i.Q8(y.gradient,c,E,b),g=["Type","Angl","Ofst","Scl"];
for(var $=0;$<g.length;$++)T[g[$]]=t[g[$]];T.Grad.v=t.Grad.v;T.PntT.v.FrFl="GrFl"}T.Sz.v.val=Math.round(y.thickness/E.z1());
T.Styl.v.FStl=["CtrF","InsF","OutF"][y.position];i._v(y,T)}for(var $=l?1:0;$<I.length;$++){var H=I[$],e=bs.x0[bs.order.indexOf(H.type)];
F[e].v.unshift(H.b);k=!0}return k?F:null};iX.adK=function(x,J,o,c,E,b,l){if(J==null)return[];var i=iX,F=[];
for(var $=0;$<J.length;$++)if(J[$].isEnabled)F.push(J[$]);J=F;var k=[];for(var $=0;$<J.length;$++){var U=J[$],I=null,V=null;
if(U.fillType==0){I="SoFi";var u=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);V={t:"Objc",v:u};V.v.Clr.v=i.vp(U.color)}else if(U.fillType==1){I="GrFl";
V={t:"Objc",v:i.Q8(U.gradient,o,c,E)}}else if(U.fillType==4&&U.image!=null){var N=U.image;if(l)N=l.value;
var e=hR.M1(N.bdata.buffer);if(e=="fpng")e="png";if(e!=null&&e!="pdf"&&e!="eps"){var B,R=0,y=0,t=0;if(b.Qr[N.key])B=b.Qr[N.key];
else{var j=hR.rb(e).zu(N.bdata)[0],T=j.XO.clone();B={};B.id=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f";B.name="someImage";
B.Gc=[new Uint8Array(j.data),T];b.K0(B);b.Qr[N.key]=B}var a=B.Gc[1],u=JSON.parse(bs.Kl[bs.order.indexOf("patternFill")]);
I="patternFill";V={t:"Objc",v:u};var P=U.patternFillType,v=U.patternTileScale;u.Algn.v=!0;u.Ptrn.v.Idnt.v=B.id;
if(P==0){R=v*a.m/Math.min(a.m,a.e);y=-c.Iw;t=-c.s7}else{R=Math.max(o.m/a.m,o.e/a.e);y=-c.Iw-(a.m*R-o.m)/2;
t=-c.s7-(a.e*R-o.e)/2}u.Scl.v.val=100*R*(1/c.z1());u.phase.v.Hrzn.v=Math.round(y/c.z1());u.phase.v.Vrtc.v=Math.round(t/c.z1())}}else if(U.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",U.fillType);
if(I!=null){i._v(U,V.v);k.push({type:I,b:V})}}return k};iX.aiz=function(x){var J=iX,o=new ha(0,0,1,1);
x=x.slice(0);while(!0){var c=!1;for(var $=0;$<x.length-1;$++){var E=x[$],b=x[$+1],l=null,i=E.contextSettings;
if(E.fillType==0&&(i==null||i.opacity==1&&i.blendMode==0)&&E.color.alpha==1){var F="norm",k=1,i=b.contextSettings;
if(i){k=i.opacity;F=iP.Am(J.Na[i.blendMode])}if(b.fillType==0){l=JSON.parse(JSON.stringify(b));J.avd(l.color,E.color,l.color,o,F,k)}if(b.fillType==1){l=JSON.parse(JSON.stringify(b));
var U=l.gradient.stops;for(var I=0;I<U.length;I++)J.avd(U[I].color,E.color,U[I].color,o,F,k)}if(l!=null&&l.contextSettings){var i=l.contextSettings;
i.opacity=1;i.blendMode=0}}if(l!=null){x.splice($,0,l);c=!0;break}}if(!c||x.length<2)break}return x};
iX.avd=function(x,J,o,c,E,b){var l=iX,i=q.R(4);l.aBN(x,i);var F=q.R(4);l.aBN(J,F);q.l.j6(E,i,c,F,c,c,b);
l.a3k(F,o)};iX.aBN=function(x,J){J[0]=255*x.red;J[1]=255*x.green;J[2]=255*x.blue;J[3]=255*x.alpha};iX.a3k=function(x,J){J.red=x[0]/255;
J.green=x[1]/255;J.blue=x[2]/255;J.alpha=x[3]/255};iX.abu=function(x,J){x=x.clone();x.Il=24;x.Yq("Mask by "+x.getName());
J.B.push(x);x.add.lsct=es.tI;x.add.lyid=J.gI();delete x.add.lmfx;delete x.add.SoCo;delete x.add.GdFl;
delete x.add.PtFl;delete x.add.iOpa;if(x.add.vmsk)x.add.vmsk.op=!0;x.pw();x.vl(J);if((x.Il&16)==16)x.Il-=16;
if((x.Il&2)==2)x.Il-=2;x.n5="pass";x.opacity=255};iX.Na="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
iX.Q8=function(x,J,o,c){o=o.clone();o.Mr();o.Iw=o.s7=0;var E=o.z1(),V=0,u=0;o.scale(1/E,1/E);var b=iX,l=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),i=l.Grad.v;
i.Intr.v=0;if(x==null)return l;var F=x.gradientType,k=b.PJ(x.from),U=b.PJ(x.to);k.offset(-.5,-.5);U.offset(-.5,-.5);
k=o.iI(k);U=o.iI(U);var I=Math.atan2(-(U.y-k.y),U.x-k.x);l.Type.v.GrdT=["Lnr","Rdl","Angl"][F];l.Scl.v.val=100*ck.q6(k,U);
if(F==0){l.Angl.v.val=180/Math.PI*I;l.Scl.v.val=100*ck.q6(k,U);V=(k.x+U.x)/2;u=(k.y+U.y)/2}if(F==1){l.Scl.v.val=200*ck.q6(k,U);
V=k.x;u=k.y}if(F==2){l.Angl.v.val=180/Math.PI*(I-Math.PI/2)}var N=l.Ofst.v;N.Hrzn.v.val=V*100;N.Vrtc.v.val=u*100;
var e=[];for(var $=0;$<x.stops.length;$++){var B=x.stops[$],j=B.color;e.push([B.position,j?[j.red,j.green,j.blue]:[0,0,0],j.alpha])}q.r.p3(e,i);
return l};iX._v=function(x,J){var o=iX,c=1,E=x.contextSettings;if(E!=null){J.Md.v.BlnM=o.Na[E.blendMode];
c*=E.opacity}else J.Md.v.BlnM=o.Na[0];J.enab.v=x.isEnabled;if(J.uglg!=null)J.uglg.v=!1;if(x.color!=null)c*=x.color.alpha;
J.Opct.v.val=Math.round(c*100)};iX.vp=function(x){return q.r.qP(x?{o:x.red*255,I:x.green*255,J:x.blue*255}:{o:0,I:0,J:0})};
iX.KN=function(x,J){var o=iX,c=[{type:6},{type:8,all:0}];for(var E=0;E<x.length;E++){var b=x[E],l=b.booleanOperation,i=0,F=b._class,N=!1;
if(F=="group"||F=="text"||F=="symbolInstance"||F=="slice"){console.log(F+" inside ShapeGroup");continue}if(l==-1)i=0;
else if(l==0)i=1;else if(l==1)i=2;else if(l==2)i=3;else if(l==3)i=0;if(E==0)i=1;var k=iX.eI(b.frame),U=o.a0x(b,J),I=b.path?b.path:b,V=[{type:0,length:0,sm:i,tX:2,hu:0,Ab:0}],u=I.points;
for(var $=0;$<u.length;$++){var e=u[$],B=o.PJ(e.curveTo),j=o.PJ(e.point),T=o.PJ(e.curveFrom);N=N||e.hasCurveFrom&&!T.U5(j)||e.hasCurveTo&&!B.U5(j)}var a=[];
if(!N){var P=[],bz=u.length;if(bz==0)continue;for(var $=0;$<bz;$++){a[$]=u[$].cornerRadius;var e=o.PJ(u[$].point);
P.push(e.x,e.y)}U.scale(1/k.m,1/k.e);U.Mr();q.O.M(P,U,P);V=q.p.MP.q$(P,a).slice(2);V[0].sm=i}else{var v=u.length;
V[0].length=v;for(var $=0;$<v;$++){var e=u[$],R=e.curveMode,y=o.PJ(e.point);V[1+$]={type:R==2||R==4?1:2,HN:e.hasCurveTo?o.PJ(e.curveTo):y.clone(),L:y,Dq:e.hasCurveFrom?o.PJ(e.curveFrom):y.clone()}}U.scale(1/k.m,1/k.e);
U.Mr();q.p.Sp(V,U);var a=[];for(var $=0;$<v;$++){var e=u[$],R=e.curveMode,t=e.cornerRadius;if(R==1&&t!=0)a.push(t);
else a.push(0)}}if(!I.isClosed)for(var $=0;$<V.length;$++)V[$].type+=3;c=c.concat(V);var g=o.uu(b);if(U.J==0&&U.xt==0){var H=U.Iw,_=U.s7,Y=H+U.V,K=_+U.Lu,f=[H,_,Y,K]}}return c};
iX.a0x=function(x,J){var o=J.clone(),c=x.frame?iX.eI(x.frame):null;if(c)o.translate(-c.x-c.m/2,-c.y-c.e/2);
if(x.isFlippedHorizontal)o.scale(-1,1);if(x.isFlippedVertical)o.scale(1,-1);o.rotate(-x.rotation*(Math.PI/180));
if(c)o.translate(c.m/2,c.e/2);return o};iX.PJ=function(x){x=x.slice(1,x.length-1).split(",");return new ck(parseFloat(x[0]),parseFloat(x[1]))};
iX.eI=function(x){return new ha(x.x,x.y,x.width,x.height)};iX.a5O=function(x){return{_class:"rect",constrainProportions:!1,x:x.x,y:x.y,width:x.m,height:x.e}};
function hq(){}hq.QE=function(x,J){var o=Date.now(),c=hq,E=UZIP.parse(x),b=JSON.parse(D.cA(E.manifest)),l=JSON.parse(D.cA(E["resources/graphics/graphicContent.agc"])).resources,i=[],F=[],k=b.children;
for(var $=0;$<k.length;$++){var U=k[$];if(U.name=="artwork"){var I=U.children;for(var V=0;V<I.length;
V++){var u=I[V],N=JSON.parse(D.cA(E["artwork/"+u.path+"/graphics/graphicContent.agc"])),e=N.children;
if(e.length==0){}else if(e.length==1){if(u["uxdesign#bounds"]){u._node=e[0];i.push(u)}}else{var B=e[0],j=B.transform,T=B.shape;
if(T==null)T={x:0,y:0,width:1e3,height:1e3};if(T.type=="path"){var a=q.O.ql(Typr.U.SVGToPath(T.path).crds);
T={x:a.x,y:a.y,width:a.m,height:a.e}}T=JSON.parse(JSON.stringify(T));if(j){T.x+=j.tx;T.y+=j.ty}u["uxdesign#bounds"]=T;
u._node={type:"artboard",artboard:{children:e}};F.push(u)}}}}if(i.length==0)i=F;var P=[],v=new ha;for(var $=0;
$<i.length;$++){var u=i[$],R=iX.eI(u["uxdesign#bounds"]);P.push(R);v=v.k7(R)}var y=iX.tW(v,8192*8192);
J.C6=!0;J.m=Math.round(v.m/y);J.e=Math.round(v.e/y);J.buffer=q.R(J.m*J.e*4);J.Zy(i.length);var t=new cW(y,0,0,y,v.x,v.y);
J.Qr={};for(var $=0;$<i.length;$++){var u=i[$],R=iX.eI(u["uxdesign#bounds"]),g=u._node,H=t.clone(),_=R.clone(),Y=H.z1();
H.translate(-R.x,-R.y);_.x=-Math.floor(H.Iw/Y);_.y=-Math.floor(H.s7/Y);_.m=Math.floor(_.m/Y);_.e=Math.floor(_.e/Y);
H.translate(R.x,R.y);hq.ac(g,J,H,l,E,_);var K=J.B[J.B.length-1];K.Yq(u.name);K.dZ(_);if($!=i.length-1)K.add.lsct=es.tm}delete J.Qr};
hq.Sr=function(x){if(x==null)return new cW;return new cW(x.a,x.b,x.c,x.d,x.tx,x.ty)};hq.ac=function(x,J,o,c,E,b){var l=hq,i=x.type,F=x[i],k=x.style,U=l.Sr(x.transform),N,e="none",B,j="none",T,a;
U.Mr();var I=o.clone();I.concat(U);var V=J._I(),u=x.name;V.Yq(u?u.slice(0,250):"Layer");if(x.visible!=null)V.Ut(x.visible);
if(k){N=k.stroke;e=N?N.type:"none";B=k.fill;j=B?B.type:"none";T=k.filters;a=k.clipPath;if(a&&c.clipPaths[a.ref])a=c.clipPaths[a.ref].children;
else a=null;if(k.opacity!=null)V.opacity=Math.round(255*k.opacity);if(j=="solid"&&B.color.alpha)V.opacity=Math.round(V.opacity*B.color.alpha);
if(T){V.add.lmfx=l.axP(T);for(var $=0;$<T.length;$++)if(T[$].type=="uxdesign#blur"){var P=T[$],v=P.params,R=v.brightnessAmount;
if(R==null)R=0;R=Math.abs(R/100);if((P.visible==null||P.visible==!0)&&v.backgroundEffect)V.opacity=Math.round(V.opacity*(R+(1-R)*v.fillOpacity))}}if(j=="pattern"&&B.pattern.meta.ux.uid=="")j="none"}if(a==null&&x.meta&&x.meta.ux&&x.meta.ux.clipPathResources)a=x.meta.ux.clipPathResources.children;
if(i=="artboard"||i=="group"){if(a){var y=a[0],t=y.shape,g=t!=null&&t.type=="rect"&&t.width*t.height>4e6;
if(y.type!="text"&&!g){if(t){var U=l.Sr(y.transform);U.Mr();var H=I.clone();H.concat(U);V.add.vmsk=new h._b;
V.add.vmsk.$=l.KN(t);H=H.clone();H.Mr();q.p.Sp(V.add.vmsk.$,H);V.pw();V.vl(J)}}else if(!g)alert("Clipping by text has been ignored")}V.add.lsct=es.tI;
V.n5="pass";V.Il=24;if(x.visible!=null)V.Ut(x.visible);J.B.push(J.Tv());var _=F.children,Y=B;if(Y)Y=Y.color;
if(Y)Y=Y.value;if(B){if(i=="artboard"&&j=="solid"){V.dZ(new ha(0,0,10,10));V.add.artb.Clr={t:"Objc",v:q.r.qP({o:Y.r,I:Y.g,J:Y.b})};
V.add.artb.artboardBackgroundType={t:"long",v:4}}else{var K=J._I();K.Yq("BACKGROUND");K.Il|=16;K.add.vstk=bs.Ao.Bt();
K.add.vmsk=new h._b;K.add.vmsk.$=l.KN({type:"rect",x:b.x,y:b.y,width:b.m,height:b.e});l.qM(B,j,I,b,b,K,J,c,E);
K.pw();K.vl(J);J.B.push(K)}}for(var $=0;$<_.length;$++){hq.ac(_[$],J,I,c,E,b)}}else if(i=="shape"&&(F.type=="rect"&&(F.r==null||F.r==0)||F.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(F.path)))&&j=="pattern"&&(Math.abs(F.width/F.height-B.pattern.width/B.pattern.height)<.01||k.fill.pattern.meta.ux.scaleBehavior=="fill")){var f=B.pattern,m=f.meta.ux,C=m.uid,Z=E["resources/"+C];
if(Z==null){console.log(f);return}var A=J.cv(Z,V.getName(),0,0);A.Il=V.Il;A.opacity=V.opacity;V=A;var d=q.p.d5(l.KN(F),null),G=q.O.ny(new ha(0,0,f.width,f.height)).j,r=new cW;
r.scale(f.width/d.m,f.height/d.e);if(m.offsetX)r.translate(-m.offsetX*f.width,0);if(m.offsetY)r.translate(0,-m.offsetY*f.height);
I.concat(r);I.Mr();q.O.M(G,I,G);V.add.SoLd.Trnf=n.Y.AA(G);V.add.SoLd.nonAffineTransform=n.Y.AA(G);V.aW(J,!1)}else if(i=="shape"){V.Il|=16;
V.add.vstk=bs.Ao.Bt();V.add.vmsk=new h._b;V.add.vmsk.$=l.KN(F);var d=q.p.d5(V.add.vmsk.$,null),H=I.clone();
H.Mr();q.p.Sp(V.add.vmsk.$,H);var X=q.p.d5(V.add.vmsk.$,null);if(e=="none"){}else{var w=N.color.value,S,z;
S="SoFi";var s=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);z={t:"Objc",v:s};z.v.Clr.v=q.r.qP({o:w.r,I:w.g,J:w.b});
var M=N.align,Q=N.cap;if(M==null)M="center";var O=V.add.vstk;O.strokeEnabled.v=!0;O.strokeStyleLineWidth.v.val=N.width;
if(M)O.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bs.Ao.lS[["inside","center","outside"].indexOf(M)];
if(Q)O.strokeStyleLineCapType.v.strokeStyleLineCapType=bs.Ao.Kd[["butt","round","square"].indexOf(Q)];
var W=["SoFi","GrFl","patternFill"].indexOf(S),e9=[bs.MA,bs.Xp,bs.X2][W];O.strokeStyleContent.v={classID:bs.Ao.Ce[0]};
var jV=O.strokeStyleContent.v={classID:bs.Ao.Ce[W]};for(var $=0;$<e9.length;$++)jV[e9[$]]=z.v[e9[$]]}if(T)for(var $=0;
$<T.length;$++)if(T[$].type=="uxdesign#blur"&&T[$].visible){var co=T[$];V.add.vmsk._M=co.params.blurAmount}l.qM(B,j,I,d,X,V,J,c,E);
V.pw();V.vl(J)}else if(i=="text"&&x.text){var dz=x.text,eh=dz.frame,a9=k.font,kB=k.textAttributes,U=I.clone(),bX=0;
U.Mr();V.add.lnsr="rend";V.add.TySh=iv.hK(0,0);V.add.TySh.Ca=new ha(0,0,100,100);V.add.TySh.M=U;var dc=V.add.TySh.TC,eT=dz.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
iv.Jq(dc,0,eT);if(eT!=""){var fv=iv.eU(dc,0,1),jS=a9.postscriptName;if(jS==null)jS=a9.family;iv.UE(fv,jS);
fv.kJ.FontSize=Math.round(a9.size);if(B){var w=B.color.value;fv.kJ.FillColor={Type:1,Values:[1,w.r/255,w.g/255,w.b/255]}}if(kB){if(kB.paragraphAlign)fv.zR.Justification=["left","right","center"].indexOf(kB.paragraphAlign);
if(kB.letterSpacing)fv.kJ.Tracking=Math.round(kB.letterSpacing);if(kB.lineHeight){fv.kJ.AutoLeading=!1;
fv.kJ.Leading=Math.round(kB.lineHeight)}}iv.oO(dc,0,eT.length,fv)}var cx=x.meta.ux.rangedStyles;if(cx)for(var $=0;
$<cx.length;$++){var F=cx[$],gi=Math.min(F.length,eT.length-bX);if($==cx.length-1)gi=eT.length-bX;var fv=iv.eU(dc,bX,bX+gi),jS=F.postscriptName;
if(jS==null)jS=F.family;if(jS!=null)iv.UE(fv,jS);var cM=F.textScript,a1=F.underline,db=F.fontSize,P=F.fill,hu=F.textTransform;
if(cM&&cM!="none")fv.kJ.FontBaseline=cM=="superscript"?1:2;if(a1!=null)fv.kJ.Underline=a1;if(db!=null)fv.kJ.FontSize=Math.round(db);
if(hu!=null)fv.kJ.FontCaps=hu=="uppercase"?2:0;if(hu=="lowercase"){iv.mS(dc,bX,bX+gi);iv.Jq(dc,bX,eT.slice(bX,bX+gi).toLowerCase())}if(P!=null){var il=P.value;
fv.kJ.FillColor={Type:1,Values:[1,(il>>>16&255)/255,(il>>>8&255)/255,(il>>>0&255)/255]}}iv.oO(dc,bX,bX+gi,fv);
bX+=gi}if(eh.type=="area"||eh.type=="autoHeight"){var f4=eh.width,aK=eh.height;iv.Ag(dc,1);iv.UC(dc,[0,0,f4,aK!=null?aK:f4*2])}}else if(i=="syncRef"){var j7=x.syncSourceGuid,jb=c.meta.ux.symbols,hN=l.AC(jb,j7);
if(hN){var fe=I.clone();fe.concat(l.Sr(hN.transform));hq.ac(hN,J,fe,c,E,b)}return}else console.log(i,x);
J.B.push(V)};hq.AC=function(x,J){for(var $=0;$<x.length;$++){var o=x[$],c=o.group;if(o.id==J)return o;
if(c){var E=hq.AC(c.children,J);if(E)return E}}return null};hq.KN=function(x){var J=x.type,o=[{type:6},{type:8,all:0}];
if(J=="rect"){var c=x.r,E=x.x,b=x.y,l=x.width,i=x.height;o=q.p.MP.Rect(E,b,l,i,c?c:0)}else if(J=="circle"){var c=x.r;
o=q.p.MP.yr(x.cx-c,x.cy-c,2*c,2*c)}else if(J=="ellipse"){var F=x.rx,k=x.ry;o=q.p.MP.yr(x.cx-F,x.cy-k,2*F,2*k)}else if(J=="path"||J=="compound"){var U=Typr.U.SVGToPath(x.path);
o=q.O.XR({G:U.cmds,j:U.crds},!1)}else if(J=="line"){var I=x.x1,V=x.x2,u=x.y1,N=x.y2;o=q.p.MP.q$([I,u,V,N],0,!0)}else if(J=="polygon"){var e=x.points,B=[];
for(var $=0;$<e.length;$++)B.push(e[$].x,e[$].y);o=o.concat(q.p.MP.q$(B,0,!1).slice(2))}else console.log(J,x);
return o};hq.axP=function(x){var J=JSON.parse(bs.default);for(var $=0;$<bs.order.length;$++)J[bs.x0[$]]={t:"VlLs",v:[]};
for(var $=0;$<x.length;$++){var o=x[$],c=o.type,E=o.params,b=o.visible;if(c=="dropShadow"){var l=bs.x0[bs.order.indexOf("DrSh")],i=JSON.parse(bs.Kl[bs.order.indexOf("DrSh")]);
J[l].v.unshift({t:"Objc",v:i});var F=E.dropShadows;if(F.length!=1)throw"e";var k=F[$],U=k.color,I=U.value,V=k.dx,u=k.dy;
i.Clr.v=q.r.qP({o:I.r,I:I.g,J:I.b});i.Opct.v.val=Math.round((U.alpha!=null?U.alpha:1)*100);i.uglg.v=!1;
i.enab.v=b!=null?b:!0;i.lagl.v.val=Math.round(180/Math.PI*Math.atan2(u,-V));i.Dstn.v.val=Math.round(Math.sqrt(V*V+u*u));
i.blur.v.val=Math.round(k.r*2.3)}}return J};hq.qM=function(x,J,o,c,E,b,l,i,F){var k=hq;b.add.vstk.fillEnabled.v=J!="none";
if(J=="none"){b.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:0,I:0,J:0})}}}else{var U,I,V;if(J=="solid"){var u=x.color.value;
U="SoCo";I=bs.MA;var N=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);V={t:"Objc",v:N};V.v.Clr.v=q.r.qP({o:u.r,I:u.g,J:u.b})}else if(J=="gradient"){U="GdFl";
I=bs.Xp;var N=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),e=N.Grad.v,P,v,R;e.Intr.v=0;var B=x[J],j=B.ref?i.gradients[B.ref]:B.meta.ux.gradientResources,T=["linear","radial","angular"].indexOf(j.type),a=j.stops;
N.Type.v.GrdT=["Lnr","Rdl","Angl"][T];if(T==0){var P=new ck(B.x1,B.y1),v=new ck(B.x2,B.y2);P.x=v.x+.5*(P.x-v.x);
P.y=v.y+.5*(P.y-v.y)}else{var P=new ck(B.cx,B.cy),v=new ck(B.cx+B.r,B.cy)}R=E;if(B.units=="objectBoundingBox"){var y=new cW(c.m,0,0,c.e,c.x,c.y);
P=y.iI(P);v=y.iI(v)}var y=k.Sr(B.transform);P=y.iI(P);v=y.iI(v);y=o.clone();y.Mr();P=y.iI(P);v=y.iI(v);
q.r.Bk(P,v,R,N);var t=[];for(var $=0;$<a.length;$++){var g=a[$],H=g.color,u=H.value,_=H.alpha;if(_==null)_=1;
t.push([g.offset,[u.r/255,u.g/255,u.b/255],_])}q.r.p3(t,e);V={t:"Objc",v:N}}else if(J=="pattern"){U="PtFl";
I=bs.X2;var N=JSON.parse(bs.Kl[bs.order.indexOf("patternFill")]),G;V={t:"Objc",v:N};var Y=x[J],K=Y.meta.ux,f=K.uid,m=F["resources/"+f].buffer,C=K.flipX,Z=K.flipY,A=f+C+Z,d=hR.M1(m);
if(l.Qr[A])G=l.Qr[A];else{var r=new ha(0,0,Y.width,Y.height),X;if(r.Kx()||d==null){r=new ha(0,0,1,1);
X=new ArrayBuffer(4)}else{var w=hR.rb(d);if(w.gi){var S=new hk;w.zu(m,S);X=S.or().buffer}else{try{var z=w.zu(m)[0];
X=z.data;r=z.XO}catch(j4){X=new ArrayBuffer(r.P()*4)}}}G={};G.id=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f";
G.name="someImage";G.Gc=[new Uint8Array(X),r];if(C)q.D.sI(G.Gc[0].slice(0),G.Gc[0],r.m,r.e);if(Z)q.D.ahx(G.Gc[0].slice(0),G.Gc[0],r.m,r.e);
l.K0(G);l.Qr[A]=G}var s=o.clone();s.Mr();s.translate(c.x,c.y);var M=c.m,Q=c.e,O=G.Gc[1].m,W=G.Gc[1].e,e9=Math.max(M/O,Q/W);
if(K.scale)e9*=K.scale;var jV=new cW;jV.translate(-O/2,-W/2);jV.scale(1/O,1/W);if(K.offsetX!=null)jV.translate(K.offsetX,K.offsetY);
jV.scale(O,W);jV.scale(e9,e9);jV.translate(M/2,Q/2);jV.concat(s);cI.a26(G,N,0,0,1e3,jV)}else console.log(J);
if(U!=null){b.add[U]={classID:"null"};for(var $=0;$<I.length;$++){var co=I[$];b.add[U][co]=V.v[co]}}}};
function gw(){}gw.QE=function(x,J,o){if(o&&o[0]==null)o=null;x=new Uint8Array(x);var c,a=1;if(x[0]==255&&x[1]==254)c=D.Gp(x,2,(x.length>>>1)-1);
else c=D.cA(x,0,x.length);var E=new DOMParser,b=E.parseFromString(c,"image/svg+xml"),l=b.getElementsByTagName("style")[0];
if(l)l=Typr.U.SVG.cssMap(l.textContent);else l={};var i=b.firstChild;while(i.tagName!="svg")i=i.nextSibling;
var F=new ha(0,0,100,100),k=i.getAttribute("viewBox"),U=i.getAttribute("width"),I=i.getAttribute("height"),V=U!=null?parseFloat(U):parseFloat(I),u=I!=null?parseFloat(I):parseFloat(U);
if(k){var N=gw.amg(k);F.x=N[0];F.y=N[1];F.m=N[2];F.e=N[3];if(U!=null){var e=N[2]/N[3],B=V/u;if(B>e){var j=N[3]*B-F.m;
F.x-=j/2;F.m+=j}if(B<e){var T=N[2]/B-F.e;F.y-=T/2;F.e+=T}}}else if(U!=null||I!=null){F.m=V;F.e=u}F=q.O.uS(F);
while(o&&Math.max(F.m*a,F.e*a)<Math.max(o[0],o[1]))a++;while(o==null&&Math.max(F.m,F.e)*a>8192)a*=.5;
J.C6=!0;J.m=~~(F.m*a);J.e=~~(F.e*a);var P=new cW(a,0,0,a,-F.x*a,-F.y*a),v={oe:gw.gl(i),apz:l,UN:0};gw.Xs(b,i.children,J,P,v,new cW,0);
if(J.B.length==0){var R=J._I();R.Yq("Layer");J.B.push(R)}};gw.amg=function(x){var J=" ";if(x.indexOf(",")!=-1)J=",";
return x.split(J).map(parseFloat)};gw.Xs=function(x,J,o,c,E,b,l,i){var F=gw,k=["display","opacity","fill-opacity","filter","clip-path"],U=0;
for(var I=0;I<J.length;I++){var V=J[I],u=V.tagName,N=V.getAttribute("id"),j=13,R=1,g="clip-path",H=null,d=0;
if(N==null)N=V.getAttribute("data-name");var e=F.gl(V,E.apz);for(var B in E.oe)if(k.indexOf(B)==-1&&e[B]==null)e[B]=E.oe[B];
if(e["font-size"])j=F.ep(e["font-size"],j);if(V.getAttribute("dx"))c.Iw+=F.ep(V.getAttribute("dx"),j);
if(V.getAttribute("dy"))c.s7+=F.ep(V.getAttribute("dy"),j);var T=F.Jm(V);T.concat(c);var a=V.getAttribute("visibility"),P=e.display,v=o._I();
if(a=="hidden"||P=="none")v.Ut(!1);v.Yq(N!=null?N.split(":::")[0]:"Layer");if(e.opacity)R*=parseFloat(e.opacity);
if(e["fill-opacity"]){var y=parseFloat(e["fill-opacity"]);if(y!=0)R*=y}v.opacity=Math.round(255*R);if(e["mix-blend-mode"]){var t=iP.Cf.indexOf(e["mix-blend-mode"]);
if(t!=-1)v.n5=iP.f5[t]}if(V.getAttribute(g)==null)g="mask";if(V.getAttribute(g)!=null||e["clip-path"]){var _=V.getAttribute(g);
if(_==null)_=e["clip-path"];_=_.slice(4,_.length-1);var Y=x.getElementById(_.slice(1));if(Y){var K=Y.children;
H=o._I();H.Yq("Clip-Path"+(N?": "+N:""));H.add.lsct=l<2?es.tI:es.tm;H.n5="pass";H.Il=24;var f=H.add.vmsk=new h._b;
o.B.push(o.Tv());var m=[];if(Y.getAttribute(g)){var _=Y.getAttribute(g);_=_.slice(4,_.length-1);m=x.getElementById(_.slice(1)).children}for(var $=0;
$<K.length;$++){var C=F.Jm(K[$]);C.concat(T);var Z=F.KN(o,x,K[$],!1).slice(2);q.p.Sp(Z,C);f.$=f.$.concat(Z)}for(var $=0;
$<m.length;$++){var C=F.Jm(K[$]);C.concat(T);var Z=F.KN(o,x,m[$],!1).slice(2);for(var A=0;A<Z.length;
A++)if(Z[$].sm!=null)Z[$].sm=3;q.p.Sp(Z,C);f.$=f.$.concat(Z)}H.pw();H.vl();l++}}if(e.filter&&e.filter!="none"){var G=e.filter,X,w,S,s=!1,M=!1,Q=!1;
G=G.slice(5,G.length-1);var r=x.getElementById(G),z=[0,0,0,.5],O=T.z1();if(r)for(var $=0;$<r.children.length;
$++){var W=r.children[$];if(W.tagName=="feGaussianBlur"){s=!0;X=parseFloat(W.getAttribute("stdDeviation"))*O}if(W.tagName=="feColorMatrix"){var e9=W.getAttribute("values");
if(e9){e9=e9.split(" ").map(parseFloat);z=[e9[4],e9[9],e9[14],e9[18]]}}if(W.tagName=="feComposite"){Q=!0}if(W.tagName=="feOffset"){M=!0;
var jV=W.getAttribute("dx"),co=W.getAttribute("dy");w=parseFloat(jV?jV:0)*O;S=parseFloat(co?co:0)*O}}if(s&&(Q||M)){var dz=Q?"IrSh":"DrSh";
if(dz=="IrSh"){v.add.iOpa=0}var eh=JSON.parse(bs.Kl[bs.order.indexOf(dz)]);eh.blur.v.val=Math.round(X*2.4);
var a9=Math.sqrt(w*w+S*S);eh.uglg.v=!1;eh.Dstn.v.val=Math.round(a9);eh.lagl.v.val=Math.round(Math.atan2(S,-w)*(180/Math.PI));
eh.Clr.v=q.r.qP({o:z[0]*255,I:z[1]*255,J:z[2]*255});eh.Opct.v.val=Math.round(z[3]*100);F.a7Q(v,bs.x0[bs.order.indexOf(dz)],eh)}else if(s)d=X}if(u=="g"||u=="a"||u=="svg"||u=="switch"||(u=="text"||u=="textPath")&&V.children.length>0||u=="symbol"&&i){if(u=="text")b=F.y0(V,b);
var kB=V.getAttribute("viewBox"),dc=V.getAttribute("width"),eT=V.getAttribute("height");if(kB&&dc&&eT){var fv=gw.amg(kB),jS=F.y0(V),cx=new cW;
cx.translate(-fv[0],-fv[1]);cx.scale(parseFloat(dc)/fv[2],parseFloat(eT)/fv[3]);cx.translate(jS.Iw,jS.s7);
cx.concat(T);T=cx}var bX=V.children.length,gi=E.oe;E.oe=e;var cM=E.UN;E.UN=Math.max(E.UN,d);var ea=u!="text"&&u!="textPath"||bX>1;
if(ea){var a1=v.kR();v.add.lsct=l<2&&a1&&(N==null||!N.endsWith(":::"))?es.tI:es.tm;v.n5="pass";v.Il=24;
v.Ut(a1);o.B.push(o.Tv())}F.Xs(x,V.children,o,T,E,b,l+1);if(ea)o.B.push(v);else{var db=o.B[o.B.length-1];
db.opacity=v.opacity;db.n5=v.n5}E.UN=cM;E.oe=gi}else if(u=="use"){var cx=F.y0(V);cx.concat(T);var d2=F.NQ(V),hu=x.getElementById(d2.slice(1));
if(hu){var gi=E.oe;E.oe=e;if(e.filter)hu.setAttribute("filter",e.filter);F.Xs(x,[hu],o,cx,E,b,l+1,!0);
E.oe=gi}}else if(u=="path"||u=="rect"||u=="circle"||u=="ellipse"||u=="polygon"||u=="polyline"||u=="line"){v.Il|=16;
var f=v.add.vmsk=new h._b,fF=e.fill,il=fF=="none"||e["fill-opacity"]&&parseFloat(e["fill-opacity"])==0;
f.$=F.KN(o,x,V,e["fill-rule"]=="evenodd",il);q.p.Sp(f.$,T);var f4=q.p.d5(f.$),aK=e.stroke,f9=e["stroke-width"],e0=e["stroke-dasharray"],j7=e["stroke-linejoin"];
if(j7==null)j7="miter";var jb=e["stroke-linecap"];if(jb==null)jb="butt";var hN=e["paint-order"],fe=!(aK==null||aK=="none"||aK=="null"),hn=v.add.vstk=bs.Ao.Bt(null,fe);
if(fe){var a3=F.ai4(x,aK,T,f4,o),bH=["SoFi","GrFl","patternFill"].indexOf(a3.type),jB=a3.b.v.Opct.v,aq=1;
if(jB.val!=100){v.opacity=Math.round(v.opacity*jB.val/100);jB.val=100}var jH=[bs.MA,bs.Xp,bs.X2][bH],dL=hn.strokeStyleContent.v={classID:bs.Ao.Ce[bH]};
for(var $=0;$<jH.length;$++)dL[jH[$]]=a3.b.v[jH[$]];f9=f9?parseFloat(f9):1;if(hN&&hN.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){aq=2;
f9/=2}var is={ljoin:["miter","round","bevel"].indexOf(j7),lcap:["butt","round","square"].indexOf(jb),lwidth:f9};
if(e0!=null&&e0!="none")is.dash=e0.split(",").map(parseFloat);bs.Ao.write(hn,is,T.z1());hn.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bs.Ao.lS[aq];
hn.strokeStyleOpacity.v.val=100*(e["stroke-opacity"]?parseFloat(e["stroke-opacity"]):1)}v.add.vstk.fillEnabled.v=!il;
if(il){v.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:0,I:0,J:0})}}}else{var a3=F.ai4(x,fF,T,f4,o),dh=null,j_=null;
if(a3.type=="SoFi"){dh="SoCo";j_=bs.MA}if(a3.type=="GrFl"){dh="GdFl";j_=bs.Xp}if(a3.type=="patternFill"){dh="PtFl";
j_=bs.X2}if(dh!=null){var jB=a3.b.v.Opct.v;if(jB.val!=100){v.opacity=Math.round(v.opacity*jB.val/100);
jB.val=100}v.add[dh]={classID:"null"};for(var $=0;$<j_.length;$++){var B=j_[$];v.add[dh][B]=a3.b.v[B]}}}var cH=Math.max(d,E.UN);
if(cH!=0)v.add.vmsk._M=cH;v.pw();v.vl(o);o.B.push(v)}else if((u=="text"||u=="tspan")&&V.textContent!=""){b=F.y0(V,b);
var cx=b.clone(),S=0;cx.concat(T);cx.translate(U,0);if(V.children.length>0){var bK=F.gl(V.children[0],E.apz);
for(var B in bK)if(k.indexOf(B)==-1)e[B]=bK[B]}var eC=e["xml:space"],fp=V.textContent;if(eC=="preserve")fp=fp.replace(/\t/g," ").replace(/\n/g," ");
if(N==null)v.Yq(fp);v.add.lnsr="rend";v.add.TySh=iv.hK(0,0);v.add.TySh.Ca=new ha(0,0,100,100);v.add.TySh.M=cx.clone();
var jq=v.add.TySh.TC;iv.Jq(jq,0,fp);if(u=="tspan")U+=j*fp.length*.5*cx.z1();var fF=e.fill,az=e["font-weight"],de=e["font-family"],g3=e["text-decoration"],aK=e.stroke,f9=e["stroke-width"],hJ=e["dominant-baseline"];
if(hJ=="text-before-edge")S=j;else if(hJ=="middle")S=j/2;else if(hJ=="hanging")S=j;if(S!=0)v.add.TySh.M.translate(0,S);
var kc=iv.eU(jq,0,1);if(fF&&fF!="none"){var z=CSS.vp(fF);kc.kJ.FillColor={Type:1,Values:[1,z.o/255,z.I/255,z.J/255]}}if(g3=="underline")kc.kJ.Underline=!0;
kc.kJ.FontSize=Math.round(j);iv.UE(kc,"LiberationSans");if(az=="bold")iv.UE(kc,"LiberationSans-Bold");
if(de){de=de.split(",")[0].trim();if(de[0]=="\"")de=de.slice(1);if(de[de.length-1]=="\"")de=de.slice(0,de.length-1);
var bc=de+":"+(az?az:"normal"),kd={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(kd[bc])iv.UE(kc,kd[bc]);else iv.UE(kc,de)}if(e["text-anchor"])kc.zR.Justification=["start","end","middle"].indexOf(e["text-anchor"]);
iv.oO(jq,0,fp.length,kc);if(aK==null||aK=="none"){}else{var eh=JSON.parse(bs.Kl[bs.order.indexOf("FrFX")]);
eh.Clr.v=q.r.qP(CSS.vp(aK));eh.Sz.v.val=Math.round(parseFloat(f9)*cx.z1());F.a7Q(v,"frameFXMulti",eh)}o.B.push(v)}else if(u=="image"){var d2=F.NQ(V);
if(d2&&d2.slice(0,4)=="data"){var jR=hR.CR(d2),im=jR,dO=o.cv(im,v.getName(),0,0);dO.Il=v.Il;v=dO;var jd=v.rect.clone();
jd.x=jd.y=0;var gJ=V.getAttribute("width"),iA=V.getAttribute("height");if(gJ)jd.m=parseFloat(gJ);if(iA)jd.e=parseFloat(iA);
var gj=F.y0(V);gj.concat(T);var jG=q.O.ny(jd).j;q.O.M(jG,gj,jG);v.add.SoLd.Trnf=n.Y.AA(jG);v.add.SoLd.nonAffineTransform=n.Y.AA(jG);
v.aW(o,!1);o.B.push(v)}}else console.log("unknown tag: "+u,V.children.length,V.textContent.length);if(H!=null){o.B.push(H);
l--}}};gw.a7Q=function(x,J,o){var c=x.add.lmfx;if(c==null){var c=x.add.lmfx=JSON.parse(bs.default);for(var $=0;
$<bs.order.length;$++)c[bs.x0[$]]={t:"VlLs",v:[]}}c[J].v.push({t:"Objc",v:o})};gw.KN=function(x,J,o,c,E){var b=gw,l=[{type:6},{type:8,all:0}],i=o.tagName;
if(i=="use"){var F=b.NQ(o),k=J.getElementById(F.slice(1)),U=new cW;if(k.tagName!="rect")U=b.y0(k);U.concat(b.Jm(k));
l=b.KN(x,J,k,c,E);q.p.Sp(l,U)}else if(i=="path"){var I=o.getAttribute("d");if(I==null)return l;var V=Typr.U.SVGToPath(I);
l=q.O.XR({j:V.crds,G:V.cmds},c,E)}else if(i=="rect"){var u=o.getAttribute("rx"),N=new ck(0,0);b.Fc("x",o,x,N,!0);
b.Fc("y",o,x,N,!1);var e=new ck(0,0);b.Fc("width",o,x,e,!0);b.Fc("height",o,x,e,!1);l=q.p.MP.Rect(N.x,N.y,e.x,e.y,u?parseFloat(u):0)}else if(i=="circle"||i=="ellipse"){var B=[0,0,0,0],j=["cx","cy","rx","ry","r"];
for(var $=0;$<5;$++){var T=o.getAttribute(j[$]);if(T){T=parseFloat(T);if($<4)B[$]=T;else B[2]=B[3]=T}}l=q.p.MP.yr(B[0]-B[2],B[1]-B[3],2*B[2],2*B[3])}else if(i=="polygon"||i=="polyline"||i=="line"){var a;
if(i=="line")a=[o.getAttribute("x1"),o.getAttribute("y1"),o.getAttribute("x2"),o.getAttribute("y2")].map(parseFloat);
else a=o.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
l=q.p.MP.q$(a,0,i!="polygon")}return l};gw.ep=function(x,J){if(x.charAt(x.length-1)=="m")return J*parseFloat(x.slice(0,x.length-2));
else return parseFloat(x)};gw.ai4=function(x,J,o,c,E){var b,l,i=gw,F=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]),k=J!=null?J.indexOf("("):-1;
if(k!=-1){var U=J.indexOf(")"),I=J.slice(0,k).trim(),V=J.slice(k+1,U).trim();if(V.charAt(0)=="'")V=V.slice(1,V.length-1);
if(I=="url"){if(V.charAt(0)=="#"){var u=x.getElementById(V.slice(1));if(u&&u.tagName.toLowerCase().endsWith("gradient")){var N=i.Q8(x,u,o,c);
b="GrFl";l={t:"Objc",v:N}}else if(u&&u.tagName.toLowerCase()=="pattern"&&u.children[0]&&u.children[0].tagName=="use"){b="SoFi";
l={t:"Objc",v:F};var e=u.children[0],B=i.Jm(e),j=i.NQ(e),T=x.getElementById(j.slice(1)),a=hR.CR(i.NQ(T)).buffer,P=hR.rb(hR.M1(a)),v=P.zu(a)[0],R={};
R.id=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f";R.name="someImage";R.Gc=[new Uint8Array(v.data),v.XO];E.K0(R);
var F=JSON.parse(bs.Kl[bs.order.indexOf("patternFill")]);F.Scl.v.val=Math.round(100*c.m*B.V);var y=F.phase.v;
y.Hrzn.v=Math.round(c.x+B.Iw*c.m);y.Vrtc.v=Math.round(c.y+B.s7*c.e);F.Ptrn.v.Idnt.v=R.id;b="patternFill";
l={t:"Objc",v:F}}else{b="SoFi";l={t:"Objc",v:F}}}else console.log("unknown url",V)}else if(I=="rgb"||I=="rgba"){b="SoFi";
l={t:"Objc",v:F};l.v.Clr.v=q.r.qP(CSS.vp(J));if(I=="rgba")l.v.Opct.v.val=Math.round(100*parseFloat(J.split(",").pop()))}else console.log("unknown fill",J)}else{b="SoFi";
l={t:"Objc",v:F};var t=CSS.vp(J);l.v.Clr.v=q.r.qP(t);if(t.V!=null)l.v.Opct.v.val=Math.round(100*t.V/255)}return{type:b,b:l}};
gw.Jm=function(x){var J=new cW,o=x.getAttribute("transform");if(o)J=gw.Za(o);var c=x.getAttribute("style");
if(c!=null){var E={};gw.Uy(E,c,["transform"]);c=E.transform;if(c)J.concat(gw.Za(c))}return J};gw.y0=function(x,J){var o=new cW,c=x.getAttribute("x"),E=x.getAttribute("y");
if(c)o.Iw=parseFloat(c);else if(J)o.Iw=J.Iw;if(E)o.s7=parseFloat(E);else if(J)o.s7=J.s7;return o};gw.Za=function(x){var J=Typr.U.SVG.readTrnf(x);
return new cW(J[0],J[1],J[2],J[3],J[4],J[5])};gw.gl=function(x,J){var o={},c="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var $=0;$<c.length;$++){var E=x.getAttribute(c[$]);if(E!=null&&E!="inherit")o[c[$]]=E}var b=x.getAttribute("class");
if(J!=null&&b!=null&&J["."+b]!=null)gw.Uy(o,J["."+b],c);var l=x.getAttribute("id");if(J!=null&&l!=null&&J["#"+l]!=null)gw.Uy(o,J["#"+l],c);
var i=x.getAttribute("style");if(i!=null)gw.Uy(o,i,c);return o};gw.Uy=function(x,J,o){J=J.trim().split(";");
for(var $=0;$<J.length;$++){var c=J[$].split(":"),E=c[0]?c[0].trim():"",b=c[1]?c[1].trim():"";for(var l=0;
l<o.length;l++)if(E==o[l]&&b!="inherit")x[o[l]]=b}};gw.NQ=function(x){var J=x.getAttribute("xlink:href");
if(J==null)J=x.getAttribute("href");if(J==null)J=x.getAttribute("xl:href");return J};gw.Fc=function(x,J,o,c,E){var b=J.getAttribute(x);
if(b==null)return;var l=parseFloat(b);if(b.endsWith("%"))l*=(E?o.m:o.e)/100;if(E)c.x=l;else c.y=l};gw.Q8=function(x,J,o,c){var E=gw,b=E.Fc,l=new cW,i=J.getAttribute("gradientTransform"),u=!1;
if(i)l=E.Za(i);l.concat(o);var F=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),k=F.Grad.v;k.Intr.v=0;var U=J.tagName,I=new ck(0,0),V=new ck(c.m,0);
if(U=="linearGradient"){F.Type.v.GrdT="Lnr";b("x1",J,c,I,!0);b("y1",J,c,I,!1);b("x2",J,c,V,!0);b("y2",J,c,V,!1);
I.x=V.x+.5*(I.x-V.x);I.y=V.y+.5*(I.y-V.y)}if(U=="radialGradient"){F.Type.v.GrdT="Rdl";if(J.getAttribute("cx"))I.x=parseFloat(J.getAttribute("cx"));
if(J.getAttribute("cy"))I.y=parseFloat(J.getAttribute("cy"));V.DQ(I.x,I.y);if(J.getAttribute("r"))V.x+=parseFloat(J.getAttribute("r"))}var N=J;
while(!0){if(N.getAttribute("gradientUnits")=="userSpaceOnUse")u=!0;var e=E.NQ(N);if(e==null)break;N=x.getElementById(e.slice(1))}if(u){I=l.iI(I);
V=l.iI(V)}else{I.x=c.x+I.x*c.m;I.y=c.y+I.y*c.e;V.x=c.x+V.x*c.m;V.y=c.y+V.y*c.e}q.r.Bk(I,V,c,F);var B=J.children;
if(B.length==0){var j=E.NQ(J);if(j==null)throw"gradient has no stops";var T=x.getElementById(j.slice(1));
if(T==null){console.log(j.slice(1))}else{var a=E.Q8(x,T,l,c);F.Grad=a.Grad}}else{var P=[];for(var $=0;
$<B.length;$++){var v=B[$],R=E.gl(v),y=R["stop-color"],t=R["stop-opacity"],g=v.getAttribute("offset");
if(y==null)y="#000000";t=t==null?1:parseFloat(t);var H=g?parseFloat(g):0;if(g&&g.endsWith("%"))H/=100;
y=CSS.vp(y);if(y.V!=null)t*=y.V/255;P.push([H,[y.o/255,y.I/255,y.J/255],parseFloat(t)])}q.r.p3(P,k)}return F};
gw.iN=function(){var x=null,J=null,o="",c="",E;function b(t,g,H,_){var Y=[],C=" { ",Z=" } ",A=!1;J=g;
c=g.JE?"":"\t";o=g.JE?"":" ";var K=g.auS,f=g.a3X;E=new ha(0,0,t.m,t.e);if(_!=null){E=t.root.children[_].a.uc();
K=E.m;f=E.e}Y.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[E.x,E.y,E.m,E.e].join(" ")+"\" width=\""+K+"\" height=\""+f+"\">");
if(!g.JE)Y.push(l(1)+"<title>"+a(t.name.split(".")[0])+"</title>");var m={jF:[],T3:[],HY:0,yz:0,tf:0,mz:{},hR:{},bz:0,W0:{},amG:{},C7:0,a0:[]};
e(t,m,t.root.children,1,g,H,_);if(m.jF.length!=0){Y.push(l(1)+"<defs>");Y=Y.concat(m.jF);Y.push(l(1)+"</defs>")}Y.push(l(1)+"<style>");
if(g.JE){C="{";Z="}"}for(var $=0;$<t.B.length;$++)if(t.B[$].add.TySh)A=!0;if(A&&!g.ahB&&!g.afi)Y.push(l(2)+"tspan"+C+"white-space:pre"+Z);
for(var d in m.W0)Y.push(l(2)+"."+d+C+m.W0[d]+Z);Y.push(l(1)+"</style>");Y=Y.concat(m.T3);Y.push("</svg>");
Y=Y.join(g.JE?"":"\n");return D.Ey(Y)}function l(bz){var t="";for(var $=0;$<bz;$++)t+=c;return t}function i(bz,t){if(t==null)t=1;
var g=""+parseFloat(bz.toFixed(t));if(g.startsWith("0."))g=g.slice(1);return g}function F(t,g){var H=t.add.lmfx;
if(H)H=H[g].v[0];if(H)H=H.v;if(H&&!H.enab.v)H=null;return H}function k(t,g){var H=F(t,"frameFXMulti");
if(H){var _=H.Sz.v.val;if(H.Styl.v.FStl=="OutF"){g.push("paint-order:stroke fill markers");_*=2}N(g,CSS.Bs(H.Clr.v),1);
if(_!=1)g.push("stroke-width: "+_);g.push("stroke-linejoin: round;")}}var U="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function I(t){var g=U.length,H="";for(var _=1;_<10;_++){var Y=(g-10)*~~Math.pow(g,_-1);if(t<Y){for(var $=0;
$<_;$++){var K=$==_-1?10:0,f=g-K,m=t%f;H=U[m+K]+H;t=Math.floor((t-m)/f)}break}t-=Y}return H}function V(t,g,H,_){if(t.length!=0){if(_==null)_="s";
var Y=t.join(";"),K=g.amG[Y];if(K==null){K=J.JE?I(g.C7):_+g.C7;g.C7++;g.amG[Y]=K;g.W0[K]=Y}if(H)H.push(K);
return K}}function u(t){if(J.JE&&t.length==7&&t[0]=="#"){if(t[1]==t[2]&&t[3]==t[4]&&t[5]==t[6])t="#"+t[1]+t[3]+t[5]}return t}function N(t,g,H){g=u(g);
if(g!="#000"||H==1)t.push((H==0?"fill:":"stroke:")+o+g)}function e(t,g,H,_,Y,K,f){var m=!1;for(var C=0;
C<H.length;C++){var Z=H[C].a,A=Z.add.lsct;if(Z.add.artb&&f!=null&&C!=f)continue;if(!Z.$j&&H[C+1]&&H[C+1].a.$j&&Z.A0()&&Z.add.vmsk){var d=[];
v(Z,Z.add.vmsk,g,d);g.T3.push(l(_)+"<g "+d[0]+">");_++;m=!0}else if(!Z.$j&&H[C-1]&&H[C-1].a.$j&&m){_--;
g.T3.push(l(_)+"</g>");m=!1}var G=Z.add.vmsk,r=Z.add.vogk,X=Z.add.vstk,w=Z.add.TySh;if(G&&!G.isEnabled)G=X=null;
var S=[];if(!Y.hidden&&!Z.kR())continue;var z=Z.opacity/255,s=Z.add.iOpa?Z.add.iOpa/255:1;if(Z.Zk()){z*=s;
s=1}if(z!=1)S.push("opacity:"+o+i(z));if(s!=1)S.push("fill-opacity:"+o+i(s));if(Z.n5!="norm"){var M=iP.Cf[iP.f5.indexOf(Z.n5)];
if(M!=null)S.push("mix-blend-mode:"+o+M)}if(!Z.kR())S.push("display:"+o+"none");var d=[],Q=[],O=Z.getName(),W=O.indexOf(" .");
if(!Y.JE)d.push("id=\""+a(O)+"\"");var e9=cI.tC(Z.add.lmfx,Z.add),jV=e9[0],co=e9[1],dz=Z.add.SoLd;if(dz&&dz.filterFX){var eh=dz.filterFX.v;
if(eh.enab.v&&eh.filterFXList.v.length!=0)dz=null}if(Z.Zk()){var a9=H[C].children;if(!(a9.length==1&&a9[0].a.add.SoLd&&!Y.Re)){if(x&&Z.getName().split("-").length==3){x.push({LB:Z.getName(),ET:0,wD:[]})}v(Z,G,g,d);
if(S.length!=0)d.push("style=\""+S.join(";")+"\"");if(jV){var kB=CSS.Bs(jV.Clr.v),dc="f"+g.yz;g.yz++;
g.T3.push(l(_)+"<filter id=\""+dc+"\">");g.T3.push(l(_+1)+"<feFlood flood-color=\""+kB+"\" flood-opacity=\""+i(jV.Opct.v.val/100,2)+"\" />");
g.T3.push(l(_+1)+"<feBlend mode=\""+iP.Cf[iP.f5.indexOf(iP.Am(jV.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
g.T3.push(l(_+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");g.T3.push(l(_)+"</filter>");
d.push("filter=\"url(#"+dc+")\"")}var eT=T(d,Q),fv=Y.JE&&eT=="";if(!fv)g.T3.push(l(_)+"<g"+(eT==""?"":" "+eT)+">");
e(t,g,a9,_+1,Y,K);if(!fv)g.T3.push(l(_)+"</g>")}}else if(Z.A0()&&G==null){R(t,S,Z.add,g,E,Y);if(S.length!=0)d.push("style=\""+S.join(";")+"\"");
g.T3.push(l(_)+"<rect width=\""+E.m+"\" height=\""+E.e+"\" "+T(d,Q)+"/>")}else if(G&&dz==null){var jS=q.p.d5(G.$,null,!0),cx,bX=null,gi=0,cM;
R(t,S,Z.add,g,jS,Y);V(S,g,Q);if(r.length!=0){cx=r[0].v;bX=cx.keyOriginType;if(bX)bX=bX.v;if(bX==2){var ea=q.WE.vF(cx);
gi=ea[0];for(var $=0;$<3;$++)if(gi!=ea[$+1])bX=null}}if(r.length==1&&bX==5&&Math.abs(q.WE.aaS(cx))<1e-4){var jS=q.WE.mr(cx),a1=(jS[0]+jS[2])/2,db=(jS[1]+jS[3])/2,hu=a1-jS[0],fF=db-jS[1],il=Math.abs(hu-fF)<.01,f4=il?"r=\""+i(hu)+"\"":"rx=\""+i(hu)+"\" ry=\""+i(fF)+"\"";
cM="<"+(il?"circle":"ellipse")+" "+T(d,Q)+" cx=\""+i(a1)+"\" cy=\""+i(db)+"\" "+f4+"/>"}else if(r.length==1&&bX==2&&gi!=0&&Math.abs(q.WE.aaS(cx))<1e-4){var jS=q.WE.mr(cx),aK=jS[0],f9=jS[1],e0=jS[2]-jS[0],j7=jS[3]-jS[1],jb="";
if(aK!=0)jb+=" x=\""+i(aK)+"\"";if(f9!=0)jb+=" y=\""+i(f9)+"\"";jb+=" width=\""+i(e0)+"\"";jb+=" height=\""+i(j7)+"\"";
jb+=" rx=\""+i(gi)+"\"";cM="<rect "+T(d,Q)+jb+"></rect>"}else{var hN=q.p.W2(G.$,1);if(hN.ne!=0){d.push("fill-rule=\"evenodd\"")}cM="<path "+T(d,Q)+" d=\""+hN.Ho+"\"/>"}g.T3.push(l(_)+cM);
if(x&&x[x.length-1]){var fe=q.O.uG(G.$);fe.j=fe.j.map(Math.round);var hn=x[x.length-1];hn.ET+=JSON.stringify(fe).length;
hn.wD.push([S[0].split("#").pop(),fe])}}else if(w&&Y.ahB){o=Y.JE?"":" ";var a3=w.TC,bH=new gD(a3,K),jB=null;
if(jV)jB=CSS.Bs(jV.Clr.v);if(co){var jS=Z.rect.clone();y(co,g,jS,Y);jB="url(#g"+g.HY+")"}if(jB)S.push("fill:"+o+jB);
k(Z,S);var jH=i6.RF(bH,w,!0),dL=q.O.KE(jH);for(var aq in dL){var is=S.slice(0),dh=Q.slice(0),j_=d.slice(0);
if(jB==null){N(is,aq.slice(0,7),0);if(aq.length>7){var cH=aq.slice(7).split("-");console.log(cH);N(is,cH[1],1);
if(cH[2]!="1")is.push("stroke-width:"+o+cH[2])}}V(is,g,dh);var bK=dL[aq],cH=Typr.U.pathToSVG({crds:bK.j,cmds:bK.G},1);
g.T3.push(l(_)+"<path "+T(j_,dh)+(Y.JE?"":" "+j(w))+" d=\""+cH+"\"/>")}}else if(w&&!Y.afi){var a3=w.TC,eC=w.M.clone(),jB=null;
S.push("transform:"+o+P(eC));var fp=iv.K1(a3),bH=new gD(a3,K);k(Z,S);if(S.length!=0)d.push("style=\""+S.join(";")+"\"");
g.T3.push(l(_)+"<text "+T(d,Q)+" >");if(jV)jB=CSS.Bs(jV.Clr.v);if(co){var jS=Z.rect.clone();jS.x-=eC.Iw;
jS.y-=eC.s7;y(co,g,jS,Y);jB=" url(#g"+g.HY+")"}for(var $=0;$<bH.zR.length;$++){var jq=bH.zR[$];if(jq.DM.length==1&&jq.DM[0].L2)continue;
for(var az=0;az<jq.EE.length;az++){var de=jq.EE[az],db=jq.B9.y+de.B9.y,g3=jq.DM[de.start].start,hJ=jq.DM[de.end-1].end,kc=iv.a5b(a3,g3,hJ),bc="";
for(var kd=0;kd<kc.length;kd++){var jR=bH.j2(g3),im=kc[kd],dO=iv.eU(a3,g3,g3),jd=dO.SY[dO.kJ.Font].Name,aq=iv.fL(dO.kJ.FillColor),gJ=Math.round(dO.kJ.FontSize),iA=fp.slice(g3,g3+im);
if(dO.kJ.FontCaps==2)iA=iA.toUpperCase();var gj=new cW;gj.translate(jR.By.x,-db);var jG=[];CSS.a7h(jG,dO,null,!0,!0,jB);
var eG=V(jG,g,null,"t");eG=eG?" class=\""+eG+"\"":"";var a1=jR.By.x,el=B(dO,iA);bc+="<tspan "+(kd==0?"x=\""+i(jR.By.x)+"\"":"")+" y=\""+i(db)+"\""+eG+el+">"+a(iA)+"</tspan>";
g3+=im}g.T3.push(l(_+1)+bc)}}g.T3.push(l(_)+"</text>")}else if(dz&&Y.Re&&jV==null){var dc=dz.Idnt.v,gp=0,ar=dz.Crop?dz.Crop.v:null;
if(g.hR[dc]!=null)gp=g.hR[dc];else{g.bz++;gp=g.bz;g.hR[dc]=g.bz;var jY=t.eB(dc,ar),cz="";if(jY==null)return;
var fH=jY.pH,iH=hR.M1(jY.raw.buffer);if(iH=="pdf"){var cw=new hk("h");hR.rb("PDF").zu(jY.raw.buffer,cw);
cw.NT();cw.va();cw.W();cw.Q4();if(dz.Crop&&dz.Crop.v==1){n.Pm.Pq(cw,cw.root.mZ(cw,!0))}var eP=hR.rb("SVG").Jy(cw,cw.m,cw.e,null,{a0:K});
cz="data:image/svg+xml;base64,"+hR.EA(eP)}else if(iH=="jpg"||iH=="png"||iH=="gif"||iH=="svg"){var c3={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
cz="data:"+c3[iH]+";base64,"+hR.EA(jY.raw.buffer)}else{cz=hR.jr(fH[0].buffer,fH[1].m,fH[1].e)}g.jF.push(l(2)+"<image width=\""+fH[1].m+"\" height=\""+fH[1].e+"\" id=\"img"+gp+"\" href=\""+cz+"\"/>")}var hg=q.D.lp(dz),eQ=[];
v(Z,G,g,eQ);if(eQ.length!=0)g.T3.push(l(_)+"<g "+T(eQ,Q)+">");if(S.length!=0)d.push("style=\""+S.join(";")+"\"");
var gM=T(d,Q);g.T3.push(l(_)+"<use "+gM+" href=\"#img"+gp+"\" transform=\""+P(hg)+"\"/>");if(eQ.length!=0)g.T3.push(l(_)+"</g>")}else if(!Z.rect.Kx()&&(Y.Re||w)){if(S.length!=0)d.push("style=\""+S.join(";")+"\"");
var gM=T(d,Q),hZ=Z.buffer;if(jV)hZ=cI.a7o(hZ,jV,Z.rect);var ev=Z.rect;g.bz++;var cz=hR.jr(hZ.buffer,ev.m,ev.e,"png",null,!0);
g.jF.push(l(2)+"<image "+j(w)+" width=\""+Z.rect.m+"\" height=\""+Z.rect.e+"\" id=\"img"+g.bz+"\" href=\""+cz+"\"/>");
g.T3.push(l(_)+"<use "+gM+" href=\"#img"+g.bz+"\" x=\""+ev.x+"\" y=\""+ev.y+"\"/>")}}if(m){_--;g.T3.push(l(_)+"</g>");
m=!1}}function B(t,g){var H=t.kJ.Tracking,_="";if(H!=null&&H!=0){H=Math.round(H*t.kJ.FontSize/1e3);_=" dx=\"0";
for(var Y=1;Y<g.length;Y++)_+=" "+H;_+="\" "}return _}function j(t){if(t==null)return"";var g=t.TC,H=iv.K1(g);
H=a(H.slice(0,H.length-1));return"aria-label=\""+H+"\" "}function T(t,g){if(g.length!=0)t.push("class=\""+g.join(" ")+"\"");
return t.join(" ")}function a(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function P(t){var g=[t.V,t.J,t.xt,t.Lu,t.Iw,t.s7];
for(var $=0;$<6;$++)g[$]=i(g[$],3);return"matrix("+g.join(",")+")"}function v(t,g,H,_){if(g||t.add.artb){var Y;
if(g)Y=q.p.W2(g.$).Ho;else{var K=t.uc(),f=q.O.ny(K);Y=Typr.U.pathToSVG({crds:f.j,cmds:f.G},1)}H.tf++;
_.push("clip-path=\"url(#cp"+H.tf+")\"");H.jF.push(l(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+H.tf+"\">");
H.jF.push(l(3)+"<path d=\""+Y+"\"/>");H.jF.push(l(2)+"</clipPath>")}}function R(t,g,H,_,Y,K){var f=H.vstk,m=H.vmsk,C=H.lmfx,Z=[];
if(m&&m._M!=0){var A=i(m._M);if(_.mz[A]==null){_.yz++;_.mz[A]=_.yz;_.jF.push(l(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+_.yz+"\"> <feGaussianBlur stdDeviation=\""+A+"\"/> </filter>")}Z.push("url(#f"+_.mz[A]+")")}if(C)for(var $=0;
$<bs.order.length;$++){var d=bs.order[$],G=bs.x0[$],r=C[G].v;for(var X=0;X<r.length;X++){var w=r[X].v,S=w.classID;
if(!w.enab.v)continue;if(S=="OrGl"||S=="DrSh"){_.yz++;Z.push("url(#f"+_.yz+")");var z=0,s=0,M=w.blur.v.val/2.4,Q=w.Opct.v.val/100;
if(S=="DrSh"){var O=w.uglg&&w.uglg.v?t.xb():w.lagl.v.val;O=O*(Math.PI/180);var W=w.Dstn.v.val;z=-Math.cos(O)*W;
s=Math.sin(O)*W}if(S=="OrGl")Q/=w.Inpr.v.val/100;var e9="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+_.yz+"\" >";
e9+="<feDropShadow dx=\""+z+"\" dy=\""+s+"\" stdDeviation=\""+M+"\" flood-color=\""+CSS.Bs(w.Clr.v)+"\" flood-opacity=\""+i(Q)+"\"/>";
e9+="</filter>";_.jF.push(l(2)+e9)}}}if(Z.length!=0)g.push("filter:"+o+Z.join(" "));var jV=cI.tC(C,H),co=jV[0],dz=jV[1];
if(f&&!f.fillEnabled.v)g.push("fill:"+o+"none");else if(co){var eh=CSS.Bs(co.Clr.v);N(g,eh,0)}else if(dz){y(dz,_,Y,K);
N(g,"url(#g"+_.HY+")",0)}if(f==null||!f.strokeEnabled.v)f=cI.xE(C);if(f&&f.strokeEnabled.v){var a9=f.strokeStyleContent.v,kB=a9.classID;
if(kB=="solidColorLayer")N(g,CSS.Bs(a9.Clr.v),1);else{y(a9,_,Y,K);N(g,"url(#g"+_.HY+")",1)}var dc=f.strokeStyleOpacity.v.val/100,eT=bs.Ao.mf(f),fv=eT.lcap,jS=eT.ljoin,cx=eT.lwidth,bX=eT.sal,gi=eT.dash;
if(bX==2){cx*=2;g.push("paint-order:stroke fill markers")}if(fv!=0)g.push("stroke-linecap:"+o+["butt","round","square"][fv]);
if(jS!=0)g.push("stroke-linejoin:"+o+["miter","round","bevel"][jS]);if(dc!=1)g.push("stroke-opacity:"+o+i(dc));
if(cx!=1)g.push("stroke-width:"+o+i(cx));if(gi.length!=0)g.push("stroke-dasharray:"+o+gi.join(","))}}function y(t,g,H,_){g.HY++;
var Y=t.Grad.v,K=JSON.parse(JSON.stringify(Y.Clrs.v)),f=JSON.parse(JSON.stringify(Y.Trns.v)),m=t.Ofst.v,C=t.Type.v.GrdT,Z=C=="Rdl"||C=="Dmnd"?1:0,A=(Z==1?"radial":"linear")+"Gradient",d=q.r.Fi(t,H),r="";
if(Z==0){d[0].x=d[1].x+2*(d[0].x-d[1].x);d[0].y=d[1].y+2*(d[0].y-d[1].y)}var G=l(2)+"<"+A+" id=\"g"+g.HY+"\"";
if(_.JE){if(g.HY==1)g.jF.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");r=" href=\"#P\""}else r=" gradientUnits=\"userSpaceOnUse\"";
if(Z==0)g.jF.push(G+" x1=\""+i(d[0].x)+"\" y1=\""+i(d[0].y)+"\" x2=\""+i(d[1].x)+"\" y2=\""+i(d[1].y)+"\""+r+">");
if(Z==1)g.jF.push(G+" cx=\""+i(d[0].x)+"\" cy=\""+i(d[0].y)+"\" r=\""+i(ck.q6(d[0],d[1]))+"\""+r+">");
var X=t.Rvrs.v,w=q.r.nL(Y,X),S=_.JE?2:3;for(var $=0;$<w.length;$++){var z=w[$],s=z[0],M=z[1],Q=z[2];
Q=Q==1?"":" stop-opacity=\""+i(Q,S)+"\"";var O=s==0&&_.JE?"":" offset=\""+i(s,S)+"\"",W=CSS.DP({o:M[0]*255,I:M[1]*255,J:M[2]*255});
W=_.JE&&W=="#000000"?"":" stop-color=\""+u(W)+"\"";g.jF.push(l(3)+"<stop"+O+W+Q+"/>")}g.jF.push(l(2)+"</"+A+">")}gw.ja=P;
return b}();gw.MP=function(x,J,o,c,E){var b=[],l=gw.MP,i=!1,F={Qh:x,ao:J,Xm:[!0,!0,!0],sp:!1,XE:o,amB:0};
F.os=Math.round(Math.max(x,J)*(.02+l.sX(F)*.03));F.Iu=l.aoj(F);F.vf=l.aoh(F.Iu,(l.sX(F)<.5?-1:1)*(.2+l.sX(F)*.3));
if(l.sX(F)<.5){var k=F.Iu;F.Iu=F.vf;F.vf=k}F.aBO=l.sX(F)<.4&&l.azD(F.vf,{o:1,I:1,J:1})>.3;F.au7=l.sX(F)<.5?0:1;
b.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+x+" "+J+"\" width=\""+x+"\" height=\""+J+"\">");
F.o8=c[Math.floor(l.Ux(F)*c.length)];F.ZH=c[Math.floor(l.Ux(F)*c.length)];b.push("<style>");b.push("@font-face {  font-family: "+F.o8[2]+";  src: url(rsrc/fonts/"+F.o8[5]+");  }");
b.push("@font-face {  font-family: "+F.ZH[2]+";  src: url(rsrc/fonts/"+F.ZH[5]+");  }");b.push("</style>");
var U=[0,0,x,J],I=U;if(E==null)b.push("<path style=\"fill: "+l.ln(F.Iu)+"\" d=\""+l.Rect(U[0],U[1],U[2]-U[0],U[3]-U[1])+"\" id=\"Background\" />");
else{F.sp=!0;l.aBZ(F,U,b,E)}if(l.sX(F)<.25&&!F.sp){F.Xm[0]=F.Xm[2]=!1;l.ay3(U,F,b);I=U}else if(l.sX(F)<.25||F.sp)I=U;
else{var V=.52+l.sX(F)*.2;if(l.sX(F)<.5)V=1-V;var u=U.slice(0),N=U.slice(0);if(l.sX(F)<.5)u[2]=N[0]=Math.round(V*x);
else u[3]=N[1]=Math.round(V*J);if(l.sX(F)<.5){var k=u;u=N;N=k}I=u;l.aky(F,N,b,E)}l.a4J(F,I,b);b.push("</svg>");
b=b.join("\n");var e=q.R(Math.round(b.length*1.5)),B=D.D$(b,e,0);return[e.buffer.slice(0,B),F.bA]};gw.MP.ay3=function(x,J,o){var c=gw.MP,E=x[2]-x[0],b=x[3]-x[1];
if(c.sX(J)<.5){o.push("<path id=\"Border\" style=\"fill: "+c.ln(J.vf)+"\" d=\""+c.aii(x[0],x[1],x[2]-x[0],x[3]-x[1],J.os)+"\" />")}else if(c.sX(J)<-.4){c.ao0(J,x,o)}else{var l=c.sX(J)<.5?0:1,i=(l==0?b:E)/4,F=c.EF(J,l,x,o,i,!0),F=c.EF(J,l+2,x,o,i,!0,F)}};
gw.MP.a4J=function(x,J,o){var c=gw.MP,E="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),b=2*Math.floor(c.sX(x)*E.length/2),l=J[2]-J[0],i=J[3]-J[1],k=0,I=0;
x.E6=(x.Qh+l)*.5*(.04+c.sX(x)*.05);x.E6=Math.min(x.E6,i*.4,l*.12);x.E6=Math.round(x.E6);var F=Math.min(x.E6*E[b].length*(.35+.3*c.sX(x)),l*.9),U=(J[1]+J[3])/2,V=q.hw(x.Iu)<.85?{o:1,I:1,J:1}:{o:.1,I:.1,J:.1};
if(c.sX(x)<.25&&x.Xm[0]){I=0;k=J[0]+x.os}else if(c.sX(x)<.33&&x.Xm[2]){I=2;k=J[2]-x.os}else{I=1;k=(J[0]+J[2])/2}var u=V.o==1?"0,0,0":"255,255,255",N=x.sp&&c.sX(x)<1;
if(N){var e=J[0],B=l,j=U-x.E6*1.1,T=x.E6*2.2,a=.7;if(I==1&&c.sX(x)<.5){e=j=.2*Math.min(l,i);B=l-2*j;
T=i-j-j}else if(c.sX(x)<.7){e=j=0;B=l;T=i;a=.25}o.push("<path id=\"Strip\" style=\"fill: rgb("+u+"); opacity: "+a+"\" d=\""+c.Rect(e,j,B,T)+"\" />")}if(c.sX(x)<.4){var P=x.E6*.07;
P*=1.5+c.sX(x)*1;if(I==-1&&l/i<3&&!N){o.push("<path id=\"Bar-bottom\" style=\"fill: "+c.ln(V)+"\" d=\""+c.Rect(k-F/2,U+x.E6*1.1-P/2,F,P)+"\" />");
o.push("<path id=\"Bar-top\"    style=\"fill: "+c.ln(V)+"\" d=\""+c.Rect(k-F/2,U-x.E6*1.1-P/2,F,P)+"\" />")}if(I!=1){o.push("<path id=\"Bar\" style=\"fill: "+c.ln(V)+"\" d=\""+c.Rect(k-P/2,U-x.E6*.8,P,x.E6*.8*2)+"\" />");
k+=(I==0?1:-1)*x.E6/3}}var v=x.E6*.4;o.push(c.asO(E[b+1],k,U+v*1.6,v,V,I,x.ZH));o.push(c.asO(E[b],k,U+x.E6*.04,x.E6,V,I,x.o8))};
gw.MP.aky=function(x,J,o,c){var E=J[2]-J[0],b=J[3]-J[1],l=Math.max(E,b),i=Math.min(E,b),F=gw.MP;if(l/i<5&&!x.sp&&!1){F.aBZ(x,J,o,c)}else if(F.sX(x)<0)o.push("<path style=\"fill: "+F.ln(x.vf)+"\" d=\""+F.Rect(J[0],J[1],E,b)+"\" />");
else{var k=0;if(J[3]!=x.ao)k=0;if(J[2]!=x.Qh)k=3;if(J[0]!=0)k=1;if(J[1]!=0)k=2;var U=k+2&3;if(l/i<3){var I=F.ap1(U),V=I[Math.round(F.sX(x)*(I.length-1))],u=V.LB.slice(0,4),N=u.indexOf(1);
V=JSON.parse(JSON.stringify(V));var e=-1;if(u!="0000"){var B=new cW;if(V.LB[5]=="0"){if(N==3&&k==1){e=1;
B.scale(-1,1)}else e=N}else{var j=U;while(j==U)j=Math.floor(F.sX(x)*4)&3;B.rotate((-N+j)*Math.PI/2)}F.M(V,B)}var T=F.Cg(V),a=E-2*x.os,P=b-2*x.os;
if(e!=-1){if((e&1)==0)P-=x.os;else a-=x.os}var v=Math.min(a/T.m,P/T.e),R=new cW;R.translate(-T.x,-T.y);
R.scale(v,v);var y=(E-T.m*v)/2,t=(b-T.e*v)/2;if(e!=-1){if(e==3)y=0;if(e==0)t=0;if(e==1)y=E-T.m*v;if(e==2)t=b-T.e*v}R.translate(J[0]+y,J[1]+t);
F.Au(x,V,R,x.vf,o)}else{F.EF(x,k,J,o,1e9)}}};gw.MP.aBZ=function(x,J,o,c){var E=J[2]-J[0],b=J[3]-J[1],l=Math.max(E,b),i=Math.min(E,b),F=gw.MP,k=F.Ux(x),U,I,V,u=c[0]instanceof ArrayBuffer;
if(u){U="data:image/jpg;base64,"+bB.FS(c[0]);I=c[1];V=c[2]}else{var N=Math.floor(k*c.length),e=c[N];
x.bA=e;U=e.webformatURL;I=e.webformatWidth;V=e.webformatHeight}var B=J[0],j=J[1],T=E,a=b;if(E/b>I/V){a=T*V/I;
j=j-(a-b)/2}else{T=a*I/V;B=B-(T-E)/2}if(u){o.push("<defs>");o.push("<image width=\""+I+"\" height=\""+V+"\" id=\"Background\" href=\""+U+"\" />");
o.push("</defs>");var P=T/I;o.push("<use href=\"#Background\" transform=\""+gw.ja(new cW(P,0,0,P,B,j))+"\" />")}else{var v="cp"+Math.random();
o.push("<clipPath id=\""+v+"\">");o.push("<path style=\"fill: "+F.ln(x.vf)+"\" d=\""+F.Rect(J[0],J[1],E,b)+"\" />");
o.push("</clipPath>");o.push("<image  clip-path=\"url(#"+v+")\" xlink:href=\""+U+"\" x=\""+B+"\" y=\""+j+"\" width=\""+T+"\" height=\""+a+"\" />")}};
gw.MP.asO=function(x,J,o,c,E,b,l){var i=gw.MP;return"<text x=\""+J+"\" y=\""+o+"\" style=\"fill:"+i.ln(E)+"; font-size:"+c+"px; text-anchor:"+["start","middle","end"][b]+"; font-family:"+l[2]+";\"><tspan>"+x+"</tspan></text>"};
gw.MP.Au=function(x,J,o,c,E){var b=gw.MP,l=[];for(var $=0;$<J.wD.length;$++){l.push(c);if(x.aBO){c=($&1)==x.au7?{o:1,I:1,J:1}:l[0]}}E.push("<g id=\""+J.LB.split("-")[2]+":::\" style=\"transform: "+gw.ja(o)+";\" >");
for(var $=0;$<J.wD.length;$++){var i=J.wD[$];c=l.pop();E.push("<path style=\"fill: "+(c?b.ln(c):"#"+i[0])+"\" d=\""+Typr.U.pathToSVG({crds:i[1].j,cmds:i[1].G})+"\" />")}E.push("</g>")};
gw.MP.ao0=function(x,J,o){var c=gw.MP,E=gw.MP.YD,b=[];for(var $=0;$<E.length;$++){var l=E[$],i=l.LB.slice(0,4);
if(i!="1001")continue;b.push(l)}var l=b[Math.floor(c.sX(x)*b.length)];if(c.sX(x)<.5)c.M(l,new cW(0,1,1,0,0,0));
var F=J[3]-J[1],k=J[2]-J[0],U=c.Cg(l),I=.7*Math.min(k,F,.5*Math.max(k,F))/Math.max(U.m,U.e),V=new cW;
V.scale(I,I);if(c.sX(x)<.5){V.scale(1,-1);V.translate(0,F)}c.Au(x,l,V,x.vf,o);V.rotate(Math.PI);V.translate(k,F);
c.Au(x,l,V,x.vf,o)};gw.MP.ap1=function(x){var J=gw.MP.YD,o=[];for(var $=0;$<J.length;$++){var c=J[$],E=c.LB.slice(0,4);
if(E=="0000"){o.push(c);continue}if(["1000","0100","0010","0001"].indexOf(E)==-1)continue;var b=E.indexOf("1");
if(c.LB[5]=="0"&&x==b&&b!=3)continue;o.push(c)}return o};gw.MP.EF=function(x,J,o,c,E,b,l){var i=gw.MP.YD,F=gw.MP,k=[],T,a;
for(var $=0;$<i.length;$++){var U=i[$],I=U.LB.slice(0,4);if(["1110","1101","1011","0111"].indexOf(I)==-1)continue;
var V=I.indexOf("0")+2&3;if(U.LB[5]=="0")if(b==!0||J!=V&&!(J==1&&V==3))continue;k.push(U)}var u=l!=null?l:Math.floor(F.sX(x)*k.length),U=k[u],U=JSON.parse(JSON.stringify(U)),I=U.LB.slice(0,4),V=I.indexOf("0")+2&3;
if(V==3&&J==1)q.M(U,new cW(1,0,0,-1,0,1e3));var N=new cW;N.translate(-500,-500);N.rotate(-V*Math.PI/2);
N.translate(500,500);F.M(U,N);var e=o[3]-o[1],B=o[2]-o[0],j=F.Cg(U);if(j.y<0){j.e+=j.y;j.y=0}if(j.y>0){j.e+=j.y;
j.y=0}if((J&1)==0){a=e;T=B}else{T=e;a=B}var P=Math.min(Math.min(.5+.5*F.sX(x))*Math.min(B,e),E)/j.e,v=Math.ceil(T/(1e3*P)),R=new cW,y=new cW;
y.scale(P,P);if(J==0||J==2){y.translate(-(B/2),-(e/2));y.rotate(-J*Math.PI/2);y.translate(B/2+o[0],e/2+o[1])}else{y.rotate(Math.PI/2);
y.scale(1,-1);y.translate(o[0],o[1]);if(J==1){y.scale(-1,1);y.translate(B,0)}}c.push("<g id=\"Border-"+["top","right","bottom","left"][J]+":::\">");
for(var $=0;$<v;$++){var t=R.clone();t.concat(y);F.Au(x,U,t,x.vf,c);R.translate(1e3-2,0)}c.push("</g>");
return u};gw.MP.Rect=function(x,J,o,c){return Typr.U.pathToSVG({crds:[x,J,x+o,J,x+o,J+c,x,J+c],cmds:["M","L","L","L","Z"]})};
gw.MP.aii=function(x,J,o,c,E){var b=[x,J,x+o,J,x+o,J+c,x,J+c];x+=E;J+=E;o-=2*E;c-=2*E;b.push(x,J,x,J+c,x+o,J+c,x+o,J);
return Typr.U.pathToSVG({crds:b,cmds:"M L L L Z M L L L Z".split(" ")})};gw.MP.aoh=function(x,J){var o=q.Yg(x.o,x.I,x.J);
o.dg=Math.max(.1,Math.min(.9,o.dg+J));return q.zw(o.ao,o.Rw,o.dg)};gw.MP.a53=function(x,J){var o=q.Yg(x.o,x.I,x.J);
o.ao+=J;return q.zw(o.ao,o.Rw,o.dg)};gw.MP.arP=function(x){var J=q.Yg(x.o,x.I,x.J);J.dg=1-J.dg;return q.zw(J.ao,J.Rw,J.dg)};
gw.MP.azD=function(x,J){var o=x.o-J.o,c=x.I-J.I,E=x.J-J.J;return Math.sqrt(o*o+c*c+E*E)};gw.MP.aoj=function(x){var J=gw.MP;
return{o:J.sX(x),I:J.sX(x),J:J.sX(x)}};gw.MP.ln=function(x){return CSS.DP({o:x.o*255,I:x.I*255,J:x.J*255})};
gw.MP.Cg=function(x){var J=x.wD,o=new ha;for(var $=0;$<J.length;$++)o=o.k7(q.O.Cg(J[$][1].j));return o};
gw.MP.M=function(x,J){var o=x.wD;for(var $=0;$<o.length;$++)q.O.M(o[$][1].j,J,o[$][1].j)};gw.MP.sX=function(x){x.amB++;
var J=x.amB&3;if(J==0)x.XE=gw.MP.J_(x.XE);var o=x.XE>>>8*J&255;return o*(.99999999/255)};gw.MP.Ux=function(x){var J=gw.MP.J_(x.XE);
x.XE=gw.MP.J_(J);return J*(1/4294967295)};gw.MP.J_=function(x){x=(x^61^x>>>16)>>>0;x=x+(x<<3)>>>0;x=(x^x>>>4)>>>0;
x=x*668265261>>>0;x=(x^x>>>15)>>>0;return x};gw.MP.YD=[{LB:"0001-0-bird",wD:[["4b3c34",{G:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),j:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{G:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),j:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{G:"M C C C C C C C C C C C C L Z".split(" "),j:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{LB:"0001-0-bird2",wD:[["ff7f2a",{G:"M L L L Z M L L L Z".split(" "),j:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{G:"M C C C C C C C C C C C L Z".split(" "),j:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{G:"M C C C C C C L Z M C C Z".split(" "),j:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{G:"M L L L Z M L L L Z".split(" "),j:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{G:"M L C C C C C C C C L Z".split(" "),j:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{G:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),j:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{LB:"0000-1-flower",wD:[["7a59a2",{G:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),j:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{LB:"0000-1-flower",wD:[["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),j:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{LB:"0000-1-flower",wD:[["ffac42",{G:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),j:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{LB:"0000-1-flower",wD:[["d04040",{G:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{LB:"0000-1-flower",wD:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),j:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{G:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),j:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{LB:"0000-0-hearts",wD:[["d17070",{G:"M C C C C C C C C C L Z".split(" "),j:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{G:"M C C C C C C C C C L Z".split(" "),j:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{G:"M C C C C C C C C C L Z".split(" "),j:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{LB:"0000-0-anchor",wD:[["2a3b66",{G:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),j:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{LB:"0000-1-leaf",wD:[["fbb600",{G:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),j:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{LB:"0000-1-acorn",wD:[["a05a2c",{G:"M C C C C C C C L Z".split(" "),j:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{G:"M C C C C C C C C C C C Z".split(" "),j:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{LB:"0000-0-skull",wD:[["808080",{G:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),j:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{LB:"0000-0-ghost",wD:[["e6e6e6",{G:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),j:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{G:"M C C C C Z M C C C C Z".split(" "),j:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{LB:"1001-1-rose",wD:[["9e1460",{G:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),j:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{G:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),j:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{LB:"1001-1-curls",wD:[["53a7ab",{G:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{G:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{LB:"0111-0-pines",wD:[["e9e9e9",{G:"M C C C C C C C C L L L Z".split(" "),j:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{G:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),j:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{LB:"0111-0-flowers",wD:[["8cae40",{G:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),j:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{LB:"1101-1-confetti",wD:[["e789ff",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{LB:"1101-1-branch",wD:[["7f500b",{G:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),j:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{LB:"1101-1-sticks",wD:[["ec7272",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{LB:"1101-1-dots",wD:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{G:["M","C","C","Z"],j:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{LB:"1101-1-strips",wD:[["ffc88c",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{G:["M","C","C","Z"],j:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{LB:"1101-1-circs",wD:[["ec7272",{G:"M C C C C Z M C C C C Z".split(" "),j:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{G:"M C C C C Z M C C C C Z".split(" "),j:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{G:["M","C","C","Z"],j:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{LB:"1101-1-squares",wD:[["014ea7",{G:"M L L L L Z M L L L L Z".split(" "),j:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{G:"M L L L L Z M L L L L Z".split(" "),j:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{G:["M","C","C","Z"],j:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{LB:"1101-0-christmas",wD:[["014ea7",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var fx={};fx.parse=function(x){var J=new Uint8Array(x),o=null;if(J[0]==80&&J[1]==75){var c=Date.now(),E=UZIP.parse(J.buffer),o=E["document.json"];
o=JSON.parse(D.cA(o,0,o.length));fx.oR(o,E)}else{var b=aI.parse(x);o=fx.a1w(b[2][0][1])}return o};fx.oR=function(x,J){var o=typeof x;
if(o=="string"||o=="number"||o=="boolean")return x;if(x instanceof Array){for(var $=0;$<x.length;$++)x[$]=fx.oR(x[$],J);
return x}var c=x._class;if(c==null)return x;if(c=="MSJSONFileReference"){var E=x._ref;if(!1){}else if(J[E+".json"]!=null){var b=J[E+".json"],l=b.length;
for(var $=0;$<l;$++)if(b[$]==11||b[$]==3)b[$]=32;var i=D.cA(b,0,l);x=JSON.parse(i)}else if(J[E+".png"]!=null)return{key:E.split("/").pop(),bdata:J[E+".png"]};
else if(J[E+".jpg"]!=null)return{key:E.split("/").pop(),bdata:J[E+".jpg"]};else if(J[E+".pdf"]!=null)return{key:E.split("/").pop(),bdata:J[E+".pdf"]};
else if(J[E]!=null)return{key:E.split("/").pop(),bdata:J[E]};else{console.log(x,J);return}}else if(c=="MSAttributedString"){var i=atob(x.archivedAttributedString._archive),F=i.length,k=new Uint8Array(F);
for(var $=0;$<F;$++)k[$]=i.charCodeAt($);x.archivedAttributedString=fx.a1w(k)}for(var U in x)x[U]=fx.oR(x[U],J);
return x};fx.azj=function(x,J,o,c){if(x instanceof Uint8Array)return null;if(c.indexOf(x)!=-1)return null;
c.push(x);if(x==J)return o;for(var E in x){o.push(E);var b=fx.azj(x[E],J,o,c);if(b){console.log(x,b);
throw"e"}o.pop()}};fx.a1w=function(x){var J=bU.parse(x,0),o=J.$objects,c=new Uint8Array(o.length),E=fx.eF(o,c,J.$top.root);
for(var $=0;$<o.length;$++)if(c[$]==0&&$!=0){console.log($,o[$]);fx.azj(E,$,[],[])}for(var $=0;$<o.length;
$++){var b=o[$];if(b._class&&(b._class=="bitmap"||b._class=="fill"&&b.fillType==4&&(b.image||b.imageSHA))){var l=b.image,i=b.imageSHA,F=null,k=null;
if(l=="$null")l=null;if(i=="$null")i=null;if(l&&l.data){k=l.sha1["NS.bytes"];k=btoa(D.it(k,0,k.length));
F=l.data instanceof Uint8Array?l.data:l.data["NS.bytes"]}else if(l==null&&i==null){var U=hR.rb("PNG").Jy([[q.R(4).buffer]],1,1);
F=new Uint8Array(U)}else{var I=(E.assets?E.assets.imageCollection:E.images).images;if(i)k=i instanceof Uint8Array?i:i["NS.bytes"];
else k=l.sha1["NS.bytes"];k=btoa(D.it(k,0,k.length));var F=I[k].data;if(F["NS.bytes"])F=F["NS.bytes"]}F=new Uint8Array(F.buffer.slice(F.byteOffset,F.byteOffset+F.length));
delete b.imageSHA;b.image={key:k,bdata:F}}}return E};fx.aoY=function(x){return x.slice(0,11)=="MSImmutable"?"MS"+x.slice(11):x};
fx.eF=function(x,J,o){var c=x[o];if(J[o]==1){return c}J[o]=1;if(typeof c=="string")return c;if(typeof c=="number")return c;
if(typeof c=="boolean")return c;if(c instanceof Array)return c;if(c instanceof Uint8Array){return c}if(x[c.$class]==null){if(c.$class==null&&c["NS.data"]!=null)return c;
console.log(o,c);throw"e"}var E=x[c.$class],b=fx.aoY(E.$classname);J[c.$class]=1;c.$class=b;if(fx.aax[b]){delete c.$class;
c._class=fx.aax[b]}var l=fx.eF;if(b=="NSMutableArray"||b=="NSArray"){var i=[];if(c["NS.objects"]!=null)for(var $=0;
$<c["NS.objects"].length;$++)i.push(l(x,J,c["NS.objects"][$]));else for(var $=0;c["NS.object."+$]!=null;
$++)i.push(l(x,J,c["NS.object."+$]));x[o]=i;return i}if(b=="NSDictionary"||b=="NSMutableDictionary"){var F={$class:b};
if(c["NS.keys"]!=null)for(var $=0;$<c["NS.keys"].length;$++){var k=l(x,J,c["NS.keys"][$]);if(k instanceof Uint8Array)k=btoa(fx.Zm.it(k,0,k.length));
else if(typeof k!="string"&&typeof k!="number")k=btoa(fx.Zm.it(k["NS.bytes"],0,k["NS.bytes"].length));
F[k]=l(x,J,c["NS.objects"][$])}else for(var $=0;c["NS.key."+$]!=null;$++){var k=l(x,J,c["NS.key."+$]);
if(k instanceof Uint8Array)k=btoa(fx.Zm.it(k,0,k.length));else if(typeof k!="string"&&typeof k!="number")k=btoa(fx.Zm.it(k["NS.bytes"],0,k["NS.bytes"].length));
F[k]=l(x,J,c["NS.object."+$])}for(var U in c)delete c[U];for(var U in F)c[U]=F[U];return c}if(b=="NSURL")return{$class:b,base:l(x,J,c["NS.base"]),relative:l(x,J,c["NS.relative"])};
if(fx.a08.indexOf(b)!=-1){x[o]=l(x,J,c.array_do);return x[o]}if(c.do_objectID!=null)c.do_objectID=l(x,J,c.do_objectID);
if(fx.aC0.indexOf(b)!=-1)return c;var I=fx.ako[b];if(I==null){console.log(x,c);throw"unknown class "+b}for(var $=0;
$<I.length;$++)if(c[I[$]]!=null)c[I[$]]=l(x,J,c[I[$]]);if(b=="MSTextLayer"){var V=c,u,N,e,B;if(V.attributedString)u=V.attributedString.archivedAttributedString;
else u=V.storage;B=u.NSString;if(typeof B!="string")B=D.cA(B["NS.bytes"],0,B["NS.bytes"].length);if(u.NSAttributeInfo)N=u.NSAttributeInfo["NS.bytes"];
else{var j=B.length,T=[];while(j>0){var a=Math.min(100,j);T.push(a,0);j-=a}N=new Uint8Array(T)}e=u.NSAttributes instanceof Array?u.NSAttributes:[u.NSAttributes];
var P={$class:"NSAttributedString",NSString:B,NSAttributes:e};V.attributedString={_class:"MSAttributedString",archivedAttributedString:P};
P.NSAttributeInfo={$class:"NSMutableData","NS.data":N};delete V.storage}return c};fx.Zm={ht:function(x,J){return x[J+1]<<8|x[J]},s:function(x,J){return x[J+3]<<24|x[J+2]<<16|x[J+1]<<8|x[J]},it:function(x,J,o){var c="";
for(var $=0;$<o;$++)c+=String.fromCharCode(x[J+$]);return c}};fx.aax={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fx.a08=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fx.aC0="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fx.ako={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var bU={};bU.parse=function(x,J){var o=D.it(x,J,8);J+=8;var c=x.length-32,E=bU.parse.ahM(x,c),b=[];if(E.cj==1){var J=c-E.cj*E.QN;
for(var $=0;$<E.QN;$++)b.push(x[J+$])}else if(E.cj==2){var J=c-E.cj*E.QN;for(var $=0;$<E.QN;$++)b.push(D.ht(x,J+$*2))}else if(E.cj==4){var J=c-E.cj*E.QN;
for(var $=0;$<E.QN;$++)b.push(D.s(x,J+$*4))}else{throw"e"}var l=bU.parse.eF(x,b,E.root,E);return l};
bU.parse.eF=function(x,J,o,c){var E=bU.Zm,b=c.atH,l=b==4?E.s:b==2?E.ht:E.asx,i=bU.parse,F=J[o],k=x[F],U=k>>4,I=k&15,u=null;
F+=1;if([4,5,6,10,12,13].indexOf(U)!=-1&&I==15){var V=i.du(x,F);F+=V.ET;I=V.b}if(!1){}else if(U==0)u=I==8?!1:I==9?!0:null;
else if(U==1)u=i.du(x,F-1).b;else if(U==2)u=1<<I==4?D.RW(x,F):D.m0(x,F);else if(U==3)u=D.m0(x,F);else if(U==4)u=new Uint8Array(x.buffer,F,I);
else if(U==5)u=D.it(x,F,I);else if(U==6)u=D.$Q(x,F,I);else if(U==8){u=0;for(var $=0;$<I+1;$++)u=u<<8|x[F+$]}else if(U==10){u=[];
for(var $=0;$<I;$++)u.push(i.eF(x,J,l(x,F+b*$),c))}else if(U==12){u=[];for(var $=0;$<I;$++)u.push(i.eF(x,J,l(x,F+b*$),c))}else if(U==13){u={};
for(var $=0;$<I;$++){var N=i.eF(x,J,l(x,F+b*$),c),e=i.eF(x,J,l(x,F+b*(I+$)),c);u[N]=e}}else throw"unknown mask "+U;
return u};bU.parse.du=function(x,J){var o=1<<(x[J]&15),c=0;for(var $=0;$<o;$++)c=c<<8|x[J+1+$];return{b:c,ET:o+1}};
bU.parse.ahM=function(x,J){var o={};J+=6;o.cj=x[J];J++;o.atH=x[J];J++;J+=4;o.QN=D.s(x,J);J+=4;J+=4;o.root=D.s(x,J);
J+=4;J+=4;o.ac7=D.s(x,J);J+=4;return o};bU.Zm={asx:function(x,J){return x[J]},ht:function(x,J){return x[J]<<8|x[J+1]},s:function(x,J){return x[J]<<24|x[J+1]<<16|x[J+2]<<8|x[J+3]},it:function(x,J,o){var c="";
for(var $=0;$<o;$++)c+=String.fromCharCode(x[J+$]);return c}};var aI={parse:function(x){var J=new Uint8Array(x),o=aI.b$(J),c=[],E=new Uint8Array(J.length),b=[];
c.push(b);aI.GQ(J,o,1,E,b);for(var $=0;$<b.length;$++){var l=[];c.push(l);aI.GQ(J,o,b[$][3],E,l,$==11);
b[$][3]=$+1}return c},GQ:function(x,J,o,c,E,b){o--;var l=o*J.N5+(o==0?100:0),i=x[l],F=aI.ht(x,l+1),k=aI.ht(x,l+3),U=aI.ht(x,l+5),V=0;
if(U==0)U=65536;var I=x[l+7];l+=8;if(i==2||i==5){V=aI.s(x,l);l+=4}for(var u=0;u<k;u++){var N=o*J.N5+aI.ht(x,l+2*u),e=-1,B=0,j=0,T=0;
if(i==2||i==5){e=aI.s(x,N);N+=4}if(i==2||i==10||i==13){B=aI.kV(x,N);N+=B.ET}if(i==5||i==13){j=aI.kV(x,N);
N+=j.ET}if(i==2||i==5){aI.GQ(x,J,e,c,E,b);continue}var a=J.N5-(o==0?100:0),P=B.fz,v=i==13?a-35:Math.floor((a-12)*64/255)-23,R=Math.floor((a-12)*32/255)-23,y=R+(P-R)%(a-4);
if(P<=v){aI.N8(x,N,c,0,P)}else{var t=y<=v?y:R,g=0;aI.N8(x,N,c,0,t);g+=t;T=aI.s(x,N+t);while(T!=0){var H=(T-1)*J.N5;
T=aI.s(x,H);var _=Math.min(J.N5-4,P-g);aI.N8(x,H+4,c,g,_);g+=_}}E.push(aI.asA(c,P))}if(V!=0)aI.GQ(x,J,V,c,E,b)},asA:function(x,J){var o=0,c=aI.kV(x,o);
o+=c.ET;var E=[],b=[];while(o<c.fz){var l=aI.kV(x,o);o+=l.ET;E.push(l.fz)}if(o!=c.fz)throw"e";for(var $=0;
$<E.length;$++){var l=E[$];if(!1){}else if(l==0)b.push(null);else if(l==1){b.push(aI.ayp(x,o));o+=1}else if(l==2){b.push(aI.RP(x,o));
o+=2}else if(l==3){b.push(aI.a5m(x,o));o+=3}else if(l==4){b.push(aI.du(x,o));o+=4}else if(l==5){b.push(aI.s(x,o+2));
o+=6}else if(l==6){b.push(aI.s(x,o)+":"+aI.s(x,o+4));o+=8}else if(l==7){b.push(aI.aga(x,o));o+=8}else if(l==8)b.push(0);
else if(l==9)b.push(1);else if(l>=12&&(l&1)==0){var i=l-12>>1,F=new Uint8Array(i);aI.N8(x,o,F,0,i);b.push(F);
o+=i}else if(l>=13&&(l&1)==1){var i=l-13>>1;b.push(aI.cA(x,o,i));o+=i}else throw"unknonw type "+l}return b},b$:function(x){if(!(x[18]==1&&x[19]==1&&x[20]==0&&x[21]==64&&x[22]==32&&x[23]==32))throw"unexpected SQL3 header";
var J={rE:aI.it(x,0,15),N5:aI.ht(x,16),a0b:aI.s(x,24),size:aI.s(x,28),atG:aI.s(x,32),a0X:aI.s(x,36),aqE:aI.s(x,40),ac4:aI.s(x,44),aDs:aI.s(x,48),asG:aI.s(x,52),afd:aI.s(x,56),aiv:aI.s(x,60),adM:aI.s(x,64)!=0,aeZ:aI.s(x,68),ah5:aI.s(x,92),alV:aI.s(x,96)};
if(J.N5==1)J.N5=65536;if(J.afd!=1)throw"unsupported text encoding "+J.afd;return J},aqm:function(x,J){return x[J]<<16|x[J+1]<<8|x[J+2]},a5m:function(x,J){var o=aI.aqm(x,J),c=o&8388608;
return c?-(16777215-o+1):o},ayp:function(x,J){aI.Ui[0]=x[J];return aI.aoH[0]},du:function(x,J){var o=aI.Ui;
for(var $=0;$<4;$++)o[$]=x[J+3-$];return aI.a8o[0]},RP:function(x,J){var o=aI.Ui;o[0]=x[J+1];o[1]=x[J];
return aI.aqK[0]},ht:function(x,J){return x[J]<<8|x[J+1]},s:function(x,J){var o=aI.Ui;for(var $=0;$<4;
$++)o[$]=x[J+3-$];return aI.aCG[0]},aga:function(x,J){var o=aI.Ui;for(var $=0;$<8;$++)o[$]=x[J+7-$];
return aI.agu[0]},kV:function(x,J){var o=J,bz=0;while(!0){var c=x[J];J++;bz=bz*128+(c&127);if(c<128)break}return{fz:bz,ET:J-o}},it:function(x,J,o){var c="";
for(var $=0;$<o;$++)c+=String.fromCharCode(x[J+$]);return c},cA:function(x,J,o){var c="";for(var $=0;
$<o;$++)c+="%"+aI.a5Z(x[J+$].toString(16));try{c=decodeURIComponent(c);return c}catch(j4){return c}},N8:function(x,J,o,c,E){if(x[J+E-1]==null||o[c+E-1]==null){console.log(J,c,E);
throw"e"}for(var $=0;$<E;$++)o[c+$]=x[J+$]},a5Z:function(bz){return bz.length<2?"0"+bz:bz}};aI.Ui=new Uint8Array(8);
aI.aoH=new Int8Array(aI.Ui.buffer);aI.aqK=new Int16Array(aI.Ui.buffer);aI.a8o=new Int32Array(aI.Ui.buffer);
aI.aCG=new Uint32Array(aI.Ui.buffer);aI.agu=new Float64Array(aI.Ui.buffer);aI.agk=function(x,J){var o=x[0],c={};
for(var $=0;$<o.length;$++){var E=o[$],b=E[1];if(E[0]!="table")continue;var l=E[4];l=l.slice(l.indexOf("(")+1,l.indexOf(")"));
l=l.split(",");for(var i=0;i<l.length;i++){var F=l[i].trim().split(" ")[0];if(J&&F.startsWith(b))F=F.slice(b.length);
l[i]=F}var k=c[b]=[],U=x[E[3]];for(var i=0;i<U.length;i++){var I=U[i],V={};k.push(V);for(var u=0;u<l.length;
u++){if(V[l[u]]!=null)throw"e";V[l[u]]=I[u]}}}return c};function ka(x,J,o){this.j3=x;this.AB=J;this.a2V=o;
this.S$=new ck(0,0);this.lE=-1;this.cq=0;this.Ug=0;this.D0=new ha;this.gr=[];this.zS=null;this.a9V=null;
this.LU=null;this.CZ=null;this.g0=null;this.adj=null}ka.prototype.StartPage=function(x,J,o,c,E){var b=this.AB,l=b.z1(),i=1,F=(o-x)*(c-J);
if(E!=null)F=E;while(F*l*l/(i*i)>2*8192*8192)i++;b.scale(1/i,1/i);this.a9V=[x,J,o,c];var i=b.z1();x=Math.round(x*i);
J=Math.round(J*i);o=Math.round(o*i);c=Math.round(c*i);var k=this.j3,U=this.LU;if(U==null){b.Iw=-x}else{var I=U[2]-U[0]+30,V=Math.round(o-x)+30;
if(this.S$.x+I+V>8192){b.Iw=-x;this.S$.x=0;this.S$.y+=this.Ug+120;this.Ug=0}else{b.Iw+=I;this.S$.x+=I}}b.s7=this.S$.y+(this.a2V?c:-J);
this.Ug=Math.max(this.Ug,Math.round(c-J));this.LU=[x,J,o,c];this.a8X=[];k.B.push(k.Tv())};ka.prototype.StartTGroup=function(x){this.xB();
var J=this.j3;J.B.push(J.Tv());var o=ka.aZ[x.bmode];if(o==null)o="norm";var c=J._I();c.Yq("<Group>");
c.add.lsct=es.tI;c.n5=o=="norm"?"pass":o;c.Il=24;c.opacity=Math.round(255*x.ca);this.a8X.push(c)};ka.prototype.EndTGroup=function(){this.j3.B.push(this.a8X.pop())};
ka.prototype.au5=function(){var x=this.j3,J=x.B[x.B.length-1];return J};ka.prototype.a7H=function(){var x=this.j3,J=x._I();
J.Yq("Path "+x.B.length);this.j3.B.push(J);J.Il|=16;J.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:0,I:0,J:0})}};
J.add.vmsk=new h._b;J.add.vstk=bs.Ao.Bt();return J};ka.prototype.ct=function(x){var J={j:x.crds,G:x.cmds},o=q.O.XR(J,!1);
q.p.Sp(o,this.AB);return o};ka.awf=function(x,J){for(var $=0;$<x.length;$++)if(x[$].sm!=null)x[$].sm=J};
ka.$S=function(x){return q.r.qP({o:x[0]*255,I:x[1]*255,J:x[2]*255})};ka.VV=function(x){return new cW(x[0],x[1],x[2],x[3],x[4],x[5])};
ka.prototype.Stroke=function(x){if(this.lE!=-1&&this.lE!=this.cq)return;if(x.pth.cmds.length<=1)return;
var J=this.ct(x.pth),b=null;if(J.length<=2)return;this.iq(x);ka.awf(J,-1);J[2].sm=1;var o=this.au5(),c=bs.Ao.Bt(null,!0),E=x.ctm;
bs.Ao.write(c,x,Math.sqrt(Math.abs(E[0]*E[3]-E[1]*E[2]))*this.AB.z1());if(!(x.COLR instanceof Array)){b=q.O.Cg(x.pth.crds);
var l=q.O.ny(b);q.O.M(l.j,this.AB,l.j);b=q.O.Cg(l.j)}var i=ka.pQ(x.COLR,this.AB,b),F=["SoFi","GrFl","patternFill"].indexOf(i.type),k=[bs.MA,bs.Xp,bs.X2][F],U=c.strokeStyleContent.v={classID:bs.Ao.Ce[F]};
for(var $=0;$<k.length;$++)U[k[$]]=i.b.v[k[$]];var I=o!=null&&o.add.vmsk!=null&&!o.Zk(),V=I&&!o.add.vstk.fillEnabled.v&&JSON.stringify(c)==o.add.vsjs;
if(V){var u=o.add.vmsk.$;for(var $=2;$<J.length;$++)u.push(J[$])}else{var N=I&&!o.add.vstk.strokeEnabled.v&&h._b.axD(o.add.vmsk.$,J,!0);
if(N){o.add.vstk=c;c.fillEnabled.v=!0}else{o=this.a7H();o.add.vmsk.$=J;o.add.vstk=c;o.add.vsjs=JSON.stringify(c)}}};
ka.prototype.Fill=function(x,J){if(this.lE!=-1&&this.lE!=this.cq)return;if(x.ca==0)return;var o=x.pth.cmds;
if(o.length==0)return;if(o.length==2&&JSON.stringify(o)=="[\"M\",\"L\"]")return;var c=q.O.Cg(x.pth.crds),E=q.O.Cg(x.cpth.crds);
if(c.Kc(E).Kx())return;var b=x.pth,l=UDOC.G.isBox(b,[c.x,c.y,c.x+c.m,c.y+c.e]),i=x.cpth,F=UDOC.G.isBox(i,[E.x,E.y,E.x+E.m,E.y+E.e]);
if(l&&F&&c.P()>E.P()*2){var k=c.Kc(E),U=k.x,I=k.y,V=U+k.m,u=I+k.e;b={cmds:["M","L","L","L","Z"],crds:[U,I,V,I,V,u,U,u]};
c=k}else if(this.CZ==null&&UDOC.G.isBox(b,[c.x,c.y,c.x+c.m,c.y+c.e])&&c.KR(E)){b=i;c=E}else this.iq(x);
var N=this.ct(b),e=q.O.ny(c);q.O.M(e.j,this.AB,e.j);c=q.O.Cg(e.j);var B=ka.pQ(x.colr,this.AB,c),j=this.au5(),T=j!=null&&j.opacity==Math.round(255*x.ca)&&j.add.vstk!=null&&!j.add.vstk.strokeEnabled.v&&j.add.SoCo&&B.type=="SoFi"&&JSON.stringify(j.add.SoCo.Clr.v)==JSON.stringify(B.b.v.Clr.v);
if(T){var a=!1;for(var $=0;$<N.length;$++){if(N[$].sm==0||N[$].sm==2)a=!0}if(a){var P=q.O.Cg(q.p.Uz(j.add.vmsk.$)),v=q.O.Cg(q.p.Uz(N));
T=P.Kc(v).Kx()}}if(T){var R=j.add.vmsk.$;for(var $=2;$<N.length;$++)R.push(N[$])}else{j=this.a7H();delete j.add.SoCo;
j.add.vmsk.$=h._b.AL(N);ka.qM(x.colr,j,this.AB,c);ka.adS(x,j)}};ka.qM=function(x,J,o,c){var E=ka.pQ(x,o,c),b=null,l=null;
J.add.vstk.fillEnabled.v=!0;if(E.type=="SoFi"){b="SoCo";l=bs.MA}if(E.type=="GrFl"){b="GdFl";l=bs.Xp}if(E.type=="patternFill"){b="PtFl";
l=bs.X2}if(b!=null){J.add[b]={classID:"null"};for(var $=0;$<l.length;$++){var i=l[$];J.add[b][i]=E.b.v[i]}}};
ka.prototype.iq=function(x){var J=this.j3,o=x.cpth,c=o.cmds.join(""),E=o.crds,b=c+" "+E.join(","),l=UDOC.G.isBox(o,this.a9V);
if(l&&this.CZ==null)return;if(b==this.CZ)return;this.xB();if(!l){this.CZ=b;J.B.push(J.Tv());var i=J._I();
i.Yq("Mask");i.add.lsct=es.tm;i.n5="pass";i.Il=24;var F=i.add.vmsk=new h._b;F.$=this.ct(x.cpth);if(UDOC.G.isBox(o)){this.g0=q.p.d5(F.$);
this.g0.wI(3,3)}else this.g0=null;this.adj=i}};ka.prototype.xB=function(){var x=this.j3;if(this.CZ!=null){var J=x.B.length-1,$=J,o=!1;
while($>=0&&x.B[$].add.lsct!=es.qF)$--;var c=this.g0;if(c){var E=new ha,b=J;while(b>$){E=x.B[b].UG(this.j3,!1,!0);
b--}o=c.KR(E)}if(o){this.gr.splice($,1);x.B.splice($,1)}else{x.B.push(this.adj)}this.CZ=null}};ka.pQ=function(x,J,o){var c,E;
if(x.length!=null){c="SoFi";var b=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);E={t:"Objc",v:b};E.v.Clr.v=ka.$S(x)}else{var l=ka.a9W(x,J,o);
c="GrFl";E={t:"Objc",v:l}}return{type:c,b:E}};ka.a9W=function(x,J,o){var c=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),E=c.Grad.v;
E.Intr.v=0;var b=ka.VV(x.mat);b.concat(J);var l=new ck(0,0),i=new ck(o.m,0),F=x.crds;if(x.typ=="rad"){c.Type.v.GrdT="Rdl";
var k=.7;l.x=(1-k)*F[0]+k*F[3];l.y=(1-k)*F[1]+k*F[4];i.x=l.x;i.y=l.y;i.x+=Math.max(F[2],F[5])}else{c.Type.v.GrdT="Lnr";
l.x=F[0];l.y=F[1];i.x=F[2];i.y=F[3];l.x=i.x+.5*(l.x-i.x);l.y=i.y+.5*(l.y-i.y)}l=b.iI(l);i=b.iI(i);q.r.Bk(l,i,o,c);
var U=x.grad;q.r.p3(U,E);return c};ka.prototype.PutText=function(x,J,o,c){var E=J.charCodeAt(0),u=null;
if(this.lE!=-1&&this.lE!=this.cq)return;if(J.length==0||J.length==1&&(E==0||E==8203))return;this.iq(x);
var b=this.j3,l=x.font,i=Math.round(255*x.ca);if(x.font.Tmode==3)i=0;var F=ka.VV(x.ctm);F.concat(this.AB);
var k=ka.VV(l.Tm);k.concat(F);var U=k.z1(),I=new cW(1/U,0,0,-1/U,0,0);I.concat(k);var V=l.Tfs*U,N=b.B.length-1;
while(N>=0&&b.B[N].add.TySh==null)N--;if(I.J*I.J+I.xt*I.xt<.001&&c==null&&N>=0&&b.B[N].add.TySh&&b.B[N].opacity==i){var e=b.B[N],B=this.gr[N],j=e.add.TySh.M,T=(I.Iw-B.amX)/V,a=Math.abs(T),P=j.V==I.V&&j.J==I.J&&j.xt==I.xt&&j.Lu==I.Lu,v=I.s7-B.sd,R=P&&Math.abs(v)<1e-5&&a<1;
if(R){u=e;if(T>.2&&[".",",","?",":","!"].indexOf(J)==-1){J=" "+J;o+=.5}}else if(P&&0<v&&v<V*1.7&&B.awW==V){u=e;
this.a7C(B);B.sd=I.s7;B.al3=I.Iw;J="\n"+J}}if(u==null){N=b.B.length;this.gr[N]={AQ:[],Nt:0,amX:I.Iw,sd:I.s7,al3:I.Iw,Gw:"",awW:V};
u=b._I();b.B.push(u);u.add.lnsr="rend";u.add.TySh=iv.hK(0,0);u.add.TySh.M=I}var B=this.gr[N];B.Nt+=o*V;
B.Gw+=J;B.amX=I.Iw+o*V;var y=u.add.TySh.TC,t=iv.K1(y);if(c){iv.Ag(y,1);var g=[0,0,Math.ceil(c[0]*U),Math.ceil(c[1]*U)];
iv.UC(y,g)}var H=t.length-1,_=H+J.length;iv.Jq(y,H,J);if(this.zS==null)this.zS=iv.eU(y,H,H);var Y=this.zS;
Y.kJ.FontSize=Math.round(V);Y.kJ.Tracking=Math.round(l.Tc*100);Y.kJ.Underline=l.Tun==1;Y.kJ.FillColor={Type:1,Values:[1,x.colr[0],x.colr[1],x.colr[2]]};
if(l.Tal!=null)Y.zR.Justification=l.Tal;if(B.AQ.length!=0){Y.kJ.AutoLeading=!1;Y.kJ.Leading=B.sd-B.AQ[B.AQ.length-1].y}var K=l.Tf;
K=K.replace(/#2B/g,"+");K=K.replace(/#2C/g,"-");K=K.split("+").pop();var f={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(f[K])K=f[K];iv.UE(Y,K);iv.oO(y,H,_-1,Y);u.SX();u.opacity=i};ka.prototype.a7C=function(x){x.AQ.push({Qh:x.Nt,vB:x.Gw.slice(x.AQ.length==0?0:1)+"\n",x:x.al3,y:x.sd,Rw:x.awW});
x.Nt=0;x.Gw=""};ka.prototype.Uw=function(x,J,o){return new Uint8Array(hR.rb("PNG").Jy([[x.buffer,0]],J,o))};
ka.prototype.PutImage=function(x,J,o,c,E,b,l){if(this.lE!=-1&&this.lE!=this.cq)return;var i=this.j3,F=x.font.Tmode;
if(F==7&&i.B[i.B.length-1].add.TySh){return}this.iq(x);var k=ka.VV(x.ctm);k.concat(this.AB);var U=new cW(1/o,0,0,-1/c,0,1);
U.concat(k);k=U;J=ka.azq(J,o,c,b,!1);if(E)E=ka.azq(E,o,c,l,!0);if(E==null){if(J.length==o*c*4)J=this.Uw(J,o,c)}else{J=this.acB(J,o,c,b,!1);
E=this.acB(E,o,c,l,!0);var I=q.R(o*c);q.z$(E,I,0);q.qR(I,J,3);J=this.Uw(J,o,c)}var V=i.cv(J,"Bitmap",0,0),u=V.rect.clone();
u.x=u.y=0;var N=q.O.ny(u).j;q.O.M(N,k,N);V.add.SoLd.Trnf=n.Y.AA(N);V.add.SoLd.nonAffineTransform=n.Y.AA(N);
V.aW(i,!1);ka.adS(x,V);i.B.push(V)};ka.adS=function(x,J){J.opacity=Math.round(255*x.ca);var o=ka.aZ[x.bmode];
if(o==null)console.log("Unknown blend mode",o);else J.n5=o};ka.aZ={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
ka.agJ=function(x){if(x=="pass")x="norm";for(var J in ka.aZ)if(ka.aZ[J]==x)return J;return"/Normal"};
ka.azq=function(x,J,o,c,E){var b=hR.M1(x.buffer);if(b=="jpg"){try{x=new Uint8Array(hR.rb("JPG").a7X(x.buffer))}catch(j4){x=new Uint8Array(J*o*4)}}else if(b=="jb2"){x=new Uint8Array(hR.rb("JPG").zu(x.buffer,c,E)[0].data)}else if(x.length!=J*o*4){var l=new Uint8Array(J*o*4),i=Math.ceil(J/8),F=new Uint8Array(o*i);
UTIF.decode._decodeG4(x,0,x.length,F,0,J,1);var k=F[0]==(E?255:0);for(var U=0;U<o;U++){var I=i*U;for(var V=0;
V<J;V++){var $=U*J+V,u=$*4,N=(F[I+(V>>3)]>>7-(V&7)&1)*255;if(k)N=255-N;l[u]=N;l[u+1]=N;l[u+2]=N;l[u+3]=255}}x=l}return x};
ka.prototype.acB=function(x,J,o,c,E){if(x.length!=J*o*4){var b=hR.M1(x.buffer);if(b=="jb2")throw"e";
var l=hR.rb(b);if(l==null||b=="tga")l=hR.rb("jpg");x=new Uint8Array(l.zu(x,c,E)[0].data)}return x};ka.prototype.ShowPage=function(){var x=this.j3;
this.cq++;var J=this.LU;this.xB();var o=x._I();x.B.push(o);var c=new ha(Math.round(this.S$.x),Math.round(this.S$.y),Math.round(J[2]-J[0]),Math.round(J[3]-J[1]));
if(c.Kx())c.m=c.e=2e3;this.D0=this.D0.k7(c);o.dZ(c);o.add.artb.artboardBackgroundType.v=1;o.Yq("Page "+this.cq);
o.add.lsct=es.tm;o.n5="pass";o.Il=24};ka.prototype.Print=function(x){console.log("Print:",x)};ka.prototype.Done=function(){var x=this.j3;
if(this.cq==1)x.B[x.B.length-1].add.lsct=es.tI;x.Zy(this.cq);for(var $=0;$<x.B.length;$++){var J=x.B[$],o=J.add.vmsk,c=J.add.TySh,E=this.gr[$];
J.pw();delete J.add.vsjs;if(o){var b=!1;for(var l=0;l<o.$.length;l++){var i=o.$[l];if((i.type==0||i.type==3)&&i.length>32767)b=!0}if(b){x.B.splice($,1);
$--;continue}}J.vl(x);if(c&&E&&E.AQ.length!=0){this.a7C(E);var F=c.TC,k=E.AQ.length,U=E.AQ[0],I=1e9,V=-1e9,R="";
for(var l=0;l<k;l++){var u=E.AQ[l];I=Math.min(I,u.x);V=Math.max(V,u.x+u.Qh)}var N=[];for(var l=0;l<k;
l++){var u=E.AQ[l],e=-1,B=U.Rw*.1,j=Math.abs(u.x-I),T=Math.abs(u.x+u.Qh-V),a=Math.abs(j-T);if(a<B)e=2;
if(T<B){e=1;if(u.x!=I)if(l!=0&&E.AQ[l-1].x==u.x||l!=k-1&&E.AQ[l+1].x==u.x)e=-1}if(j<B)e=0;if(u.Qh==V-I)e=3;
N.push(e)}var P=[!1,!1,!1];for(var l=0;l<k;l++){var e=N[l];if(e==3)e=l==0?N[l+1]:N[l-1];if(e==3)e=0;
N[l]=e;P[e]=!0}var v=(V-I)*.05;if(P[0]&&!P[1])V+=v;if(!P[0]&&P[1])I-=v;if(!P[0]&&!P[1]){I-=v;V+=2*v}iv.Ag(F,1);
c.M.s7-=U.Rw*.7;c.M.Iw=Math.round(I);iv.UC(F,[0,0,Math.ceil(V-I),Math.ceil(E.AQ[k-1].y-U.y+U.Rw*2)]);
for(var l=0;l<k;l++){var u=E.AQ[l],e=N[l],y=0;if(e==-1){e=0;y=Math.round(u.x-I)}var t=R.length,g=t+u.vB.length;
R+=u.vB;var H={SY:[],kJ:{},zR:{Justification:e,StartIndent:y}};iv.oO(c.TC,t,g-1,H)}}if(c){var F=c.TC;
iv.arz(F);var _=iv.K1(F).split("\n");for(var l=0;l<_.length-1;l++){var u=_[l],Y=0;for(var K=0;K<u.length;
K++){var f=u.charCodeAt(K);if(1473<=f&&f<=1524)Y++}if(Y>u.length/2){_[l]=u.split("").reverse().join("");
var m=F.EngineDict.ParagraphRun.RunArray[l].ParagraphSheet.Properties;m._Direction=1;m.Justification=iv.$Z(m)}}iv.Sz(F,_.join("\n"))}}x.C6=!0;
x.m=this.D0.m;x.e=this.D0.e;x.buffer=q.R(this.D0.P()*4)};var aN={};aN.VE=null;aN.iN=function(x,J,o,c,E,b){if(E==null)E=x.m;
if(b==null)b=x.e;aN.VE=x;var l=!1,i=[x.root],F=x.root.children;if(x.add.artd){l=!0;for(var $=0;$<F.length;
$++)if(F[$].a.add.artb==null)l=!1;if(l)i=F}var k=new ha(0,0,x.m,x.e),U=J[0];U=U.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
U=U.split(" ");var I=[];for(var $=0;$<U.length;$++){var V=U[$];if(V=="-"){var u=I.pop(),N=parseInt(U[$+1]);
while(u<N){I.push(u);u++}}else I.push(parseInt(V))}U=I;for(var $=0;$<U.length;$++)if(isNaN(U[$])||U[$]<1||U[$]>i.length){U.splice($,1);
$--}var e=E/x.m,B=b/x.e,j=e*72/x.yV,T=B*72/x.yV,a=J[5];if(a==null)a=0;var P=72*a,v=72*a;for(var R=0;
R<i.length;R++){var $=R;if(J[2])$=i.length-1-R;if(U.length!=0&&U.indexOf($+1)==-1)continue;var y=i[$],t=l?y.a.uc():k;
if(!y.a.kR())continue;var g=Math.round(t.m*j+2*P),H=Math.round(t.e*T+2*v);o.StartPage(0,0,g,H);var _=UDOC.getState(),Y=new cW;
Y.translate(-t.x,-t.y-t.e);Y.scale(j,-T);Y.translate(P,v);if(l){var K=y.a.add.artb,f=K.artboardBackgroundType.v;
if(f!=1&&f!=3){var m=y.a.kz(),C=P*j,Z=v*T,A=C+t.m*j,d=Z+t.e*T;_.colr=[(m>>>0&255)/255,(m>>>8&255)/255,(m>>>16&255)/255];
_.pth={cmds:["M","L","L","L","Z"],crds:[C,Z,A,Z,A,d,C,d]};o.Fill(_)}}if(J[3]){var G=x.or();if(!k.U5(t)){G=q.R(t.P()*4);
q.St(x.or(),k,G,t)}var r=x.$E();if(r)ICC.U.applyLUT(r[x.add.fcmy==1?5:3],r[2],G,G);var X=hR.rb("JPG").Jy([[G.buffer]],t.m,t.e,[J[1]]);
G=new Uint8Array(X);var w=new cW;w.translate(t.x,t.y);aN.m9(_,o,G,t,w,Y)}else{aN.ayb(x,y,_,o,Y,J,c);
if(P!=0){var C=P,Z=v,A=C+t.m,d=Z+t.e,S=A+P,z=d+P;_.ca=1;_.colr=[1,1,1];_.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,z,S,z,S,0,C,Z,A,Z,A,d,C,d]};
o.Fill(_)}}if(J[6]){var s=[[0,0],[1,0],[1,1],[0,1]],M=50,Q=5,O=M*.5,W=Q*.5;_.colr=[.1,.1,.1];for(var R in s){var e9=s[R],jV=[R==0||R==3?-1:1,R==0||R==1?-1:1],co=[P-O+W*jV[0]+e9[0]*x.m,v-(jV[1]!=1?Q:0)+e9[1]*x.e],dz=[P-(jV[0]!=1?Q:0)+e9[0]*x.m,v-O+W*jV[1]+e9[1]*x.e];
_.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[co[0],co[1],co[0]+M,co[1],co[0]+M,co[1]+Q,co[0],co[1]+Q,dz[0],dz[1],dz[0]+Q,dz[1],dz[0]+Q,dz[1]+M,dz[0],dz[1]+M]};
o.Fill(_)}}var eh=x.IL;for(var a9=0;a9<eh.length;a9++){var kB=eh[a9].v,t=q.Oq.mZ(kB),dc=q.O.ny(t).j;
q.O.M(dc,Y,dc);var eT=q.O.Cg(dc);if(!new ha(0,0,g,H).KR(eT))continue;if(o.AddAnnot)o.AddAnnot([eT.x,eT.y,eT.x+eT.m,eT.y+eT.e],kB.url.v)}o.ShowPage()}o.Done();
aN.VE=null};aN.GG=function(x){x=q.r.fL(x);return[x.o/255,x.I/255,x.J/255]};aN.ayb=function(x,J,o,c,E,b,l){var i=J.a,F=i.add.lsct,k=i.add.lmfx,U=i.add.vmsk,I=i.add.vstk,V=i.add.TySh,j,T,_;
if(!i.kR())return;var u=i.opacity/255,N=i.add.iOpa!=null?i.add.iOpa/255:1;o.bmode=ka.agJ(i.n5);var e=o.ca;
o.ca=o.CA=u*N;var B=k;if(B)B=B.solidFillMulti.v[0];if(B)B=B.v;if(B&&!B.enab.v)B=null;var a=i.rect;if(i.oS()&&(!i.Zk()||i.Ex&&i.Ex.C_)){if(i.Zk()){j=i.Ex.C_;
a=i.Ex.a0_}else{j=q.R(i.rect.P());q.z$(i.buffer,j,3)}T=cI.WO(k,i.add.fxrp,j,a,x,a).type;var P=["DrSh","OrGl"];
if(N!=1||I&&!I.fillEnabled.v){var v=j.slice(0);q.Mr(v);for(var $=0;$<P.length;$++){var R=T[P[$]];for(var y=0;
y<R.length;y++){var t=R[y],g=t.SI.clone();g.x+=a.x;g.y+=a.y;q.gV(v,a,t.tM,g)}}}}if(T)aN.a51(i,j,a,T,o,c,E,b,!0);
var H=cI.a8Z(i,!1);if(H){c.StartTGroup(o);_=o;o=UDOC.getState()}var Y=U&&!i.A0();if(Y){var K=q.O.Om(U.$,!1),f=K.Ho;
q.O.M(f.j,E,f.j);o.cpth={cmds:f.G,crds:f.j}}if(i.Zk()){for(var $=0;$<J.children.length;$++)aN.ayb(x,J.children[$],o,c,E,b,l)}else if(U&&i.A0()&&i.add.PtFl==null){var m=U.$,C=q.p.d5(m),Z=!1;
if(I.fillEnabled.v){var A=cI.tC(k,i.add),d=A[0],G=A[1];o.colr=aN.acf(d?d:G,E,C);Z=!0}var r=cI.xE(k);
if(!I.strokeEnabled.v&&r)I=r;var K=q.O.Om(m,I.strokeEnabled.v),f=K.Ho;q.O.M(f.j,E,f.j);o.pth={cmds:f.G,crds:f.j};
aN.a45(c,o,Z,I,E,C,K.ne!=0)}else if(V&&b[4]){var X=V.TC,w=new gD(X,l),f=i6.RF(w,V,!0),S=q.O.KE(f),z=cI.xE(k);
for(var s in S){var M=parseInt(s.slice(1,7),16),Q=0;o.colr=B?aN.GG(B.Clr.v):aN.a6C(M);var O=S[s];q.O.M(O.j,E,O.j);
O=q.O.azs(O);o.pth={cmds:O.G,crds:O.j};var I=z;if(s.length>7){I=bs.Ao.Bt();var W=s.slice(7).split("-"),M=parseInt(W[1].slice(1),16),e9=aN.a6C(M);
I.fillEnabled.v=!0;I.strokeEnabled.v=!0;I.strokeStyleLineWidth.v.val=parseFloat(W[2]);I.strokeStyleContent.v.Clr.v=B?B.Clr.v:q.r.qP({o:e9[0]*255,I:e9[1]*255,J:e9[2]*255});
I.strokeStyleMiterLimit.v=parseFloat(W[2])}aN.a45(c,o,!0,I,E,null,!1)}}else if(V){var X=JSON.parse(JSON.stringify(V.TC));
iv.arz(X);var jV=V.M.clone(),co=new cW(1,0,0,-1,0,0);co.concat(jV);co.concat(E);var dz=iv.K1(X),w=new gD(X,l);
for(var $=0;$<w.zR.length;$++){var eh=w.zR[$];if(eh.DM.length==1&&eh.DM[0].L2)continue;for(var y=0;y<eh.EE.length;
y++){var a9=eh.EE[y],kB=eh.B9.y+a9.B9.y,dc=eh.DM[a9.start].start,eT=eh.DM[a9.end-1].end,fv=iv.a5b(X,dc,eT);
for(var jS=0;jS<fv.length;jS++){var cx=w.j2(dc),bX=fv[jS],gi=iv.eU(X,dc,dc),cM=gi.SY[gi.kJ.Font].Name;
o.font.Tf=cM;var s=iv.fL(gi.kJ.FillColor);o.colr=B?aN.GG(B.Clr.v):[s.o/255,s.I/255,s.J/255];var ea=o.font.Tfs=Math.round(gi.kJ.FontSize),a1=dz.slice(dc,dc+bX);
if(gi.kJ.FontCaps==2)a1=a1.toUpperCase();var db=new cW;db.translate(cx.By.x,-kB);db.concat(co);o.ctm=[db.V,db.J,db.xt,db.Lu,db.Iw,db.s7];
c.PutText(o,a1,0);for(var hu=0;hu<2;hu++){var il=gi.kJ[hu==0?"Strikethrough":"Underline"];if(!il)continue;
var f4=w.j2(dc+bX-1),aK=hu==0?.27:-.2,f9=ea*aK,e0=ea*(aK+.07),Q=f4.By.x+f4.By.m-cx.By.x,j7=[0,f9,Q,f9,Q,e0,0,e0];
q.O.M(j7,db,j7);o.pth={cmds:["M","L","L","L","Z"],crds:j7};c.Fill(o)}o.ctm=[1,0,0,1,0,0];dc+=bX}}}}else if(!i.rect.Kx()){var jb,hN,fe=!1,a3=new cW,bH=i.add.SoLd,jB=!0;
if(bH)jB=q.D.vR(q.D.LH(n.Y.AX(bH.Trnf)));var jH=x.$E();if(bH&&jB&&jH==null){var dL=bH.Idnt.v,aq=x.eB(dL,bH.Crop?bH.Crop.v:null),j_="";
if(aq==null)return;var is=aq.pH,dh=hR.M1(aq.raw.buffer);if(b[7].indexOf(dh)!=-1){jb=aq.raw;fe=!0}else jb=is[0];
hN=is[1];a3=q.D.lp(bH)}else{jb=i.buffer;hN=i.rect;a3.translate(hN.x,hN.y);if(jH){jb=jb.slice(0);ICC.U.applyLUT(jH[x.add.fcmy==1?5:3],jH[2],jb,jb)}if(q.u2(jb,hN.m,hN.e)&&b[7]&&b[7].indexOf("jpg")!=-1){var cH=hR.rb("JPG").Jy([[jb.buffer]],hN.m,hN.e,[b[1]]);
jb=new Uint8Array(cH);fe=!0}}if(B&&!fe)jb=cI.a7o(jb,B,hN);aN.m9(o,c,jb,hN,a3,E);if(B&&fe){var j7=[0,0,hN.m,0,hN.m,hN.e,0,hN.e];
q.O.M(j7,a3,j7);q.O.M(j7,E,j7);var bK=JSON.parse(JSON.stringify(o));bK.ca=B.Opct.v.val/100;bK.pth={cmds:["M","L","L","L","Z"],crds:j7};
bK.colr=aN.GG(B.Clr.v);c.Fill(bK)}}if(Y)o.cpth=null;if(H){c.EndTGroup();o=_}o.ca=o.CA=e;if(T)aN.a51(i,j,a,T,o,c,E,b,!1)};
aN.a45=function(x,J,o,c,E,b,l){var i=!1,F=0,k=0;if(c&&c.strokeEnabled.v){var U=c.strokeStyleContent.v;
J.COLR=aN.acf(U,E,b);bs.Ao.mf(c,J,E.z1());F=J.sal;delete J.sal;k=J.lwidth;i=!0}var I=F==2;if(o&&!I)x.Fill(J,l);
if(i){J.lwidth=k*(F==2?2:1);x.Stroke(J)}if(o&&I)x.Fill(J,l)};aN.adt=function(x){var J=aN.VE;if(J==null)return x;
var o=J.$E();if(o&&J.add.fcmy){var c=new Uint8Array(4);c[0]=.5+x[0]*255;c[1]=.5+x[1]*255;c[2]=.5+x[2]*255;
ICC.U.applyLUT(o[J.add.fcmy==1?5:3],o[2],c,c);x=[c[0]/255,c[1]/255,c[2]/255]}return x};aN.GG=function(x){x=q.r.fL(x);
return aN.adt([x.o/255,x.I/255,x.J/255])};aN.a6C=function(x){return aN.adt([(x>>>16&255)/255,(x>>>8&255)/255,(x&255)/255])};
aN.acf=function(x,J,o){if(x.Clr)return aN.GG(x.Clr.v);var c=x,E=c.Rvrs?c.Rvrs.v:!1,b=c.Type.v.GrdT,l,i=b=="Rdl"||b=="Dmnd"?"rad":"lin",F=q.r.Fi(c,o),k=J.iI(F[0]),U=J.iI(F[1]);
if(i=="rad")l=[k.x,k.y,0,k.x,k.y,ck.q6(k,U)];else{k.DQ(U.x+(k.x-U.x)*2,U.y+(k.y-U.y)*2);l=[k.x,k.y,U.x,U.y]}var I=q.r.nL(c.Grad.v,E);
return{typ:i,mat:[1,0,0,1,0,0],grad:I,crds:l}};aN.a51=function(x,J,o,c,E,b,l,i,F){var k=o.clone(),U=J;
if(x.add.TySh&&!i[3]&&!i[4])return;var I=E.ca,V=E.bmode;for(var $=bs.order.length-1;$>=0;$--){var u=bs.order[$];
if(u=="GrFl"||u=="SoFi")continue;if((x.add.vmsk||x.add.TySh)&&u=="FrFX")continue;var N=c[u],e=$>7||u=="FrFX";
if(e!=F)continue;for(var B=0;B<N.length;B++){var j=N[B];if(j.SI==null)j=j.Er?j.Er:j.nD;if(j==null)continue;
var T=j.SI.clone();T.offset(k.x,k.y);if(!e){if(!k.KR(T)){var a=k.k7(T),P=q.R(a.P());q.zc(U,k,P,a);U=P;
k=a}q.gV(U,k,j.tM,T)}if(e&&u=="FrFX"&&j.Nm)q.gV(j.Nm,T,j.tM,T);var v=new cW;v.translate(T.x,T.y);E.ca=j.bJ;
E.bmode=ka.agJ(j.Nu);aN.m9(E,b,j.tM,T,v,l)}}E.ca=I;E.bmode=V};aN.m9=function(x,J,o,c,E,b){var l=new cW;
l.scale(c.m,-c.e);l.translate(0,c.e);l.concat(E);l.concat(b);x.ctm=[l.V,l.J,l.xt,l.Lu,l.Iw,l.s7];J.PutImage(x,o,c.m,c.e);
x.ctm=[1,0,0,1,0,0]};var fa={};fa.QE=function(x){var J=new Uint8Array(x);return fa.U4(J,0)};fa.U4=function(x,J){var o=D.s,c=D.it,E={UU:c(x,J,4),z:J+8,size:o(x,J+4)},b=E.UU=="FORM"||E.UU=="FOR4"||E.UU=="LIST"||E.UU=="CAT ";
if(b)E.Ce=c(x,J+8,4);if(E.size<0||E.z+E.size>x.length)throw"e";if(b){E.sub=[];J+=12;var l=E.z+E.size;
while(J<l){var i=fa.U4(x,J);E.sub.push(i);var F=i.size&1,k=i.size&3;if(E.UU=="FOR4")F=k==0?0:4-k;J+=8+i.size+F}}return E};
var kq={};kq.QE=function(x,J){var o=new Uint8Array(x);return kq.U4(o,0,J)};kq.U4=function(x,J,o){var c=D.ZR,E=D.it,b={UU:E(x,J,4),z:J+8,size:c(x,J+4)};
if(o&&o[b.size]!=null)b.size=o[b.size];if(b.UU=="RIFF"||b.UU=="LIST"){b.Ce=E(x,J+8,4)}if(b.size<0||b.z+b.size>x.length)throw"e";
if(b.UU=="RIFF"||b.UU=="LIST"&&(b.Ce!="cmpr"&&b.Ce!="stlt")){b.sub=[];J+=12;var l=b.z+b.size;while(J<l){var i=kq.U4(x,J,o);
b.sub.push(i);J+=8+i.size+(i.size&1)}}return b};var fM=function(){function x(M,Q){var O=null;if(M.sub==null)return O;
for(var $=0;$<M.sub.length;$++){var W=M.sub[$];if(W.UU==Q||W.Ce==Q)O=W}return O}function J(M){if(M==32)return 300;
else if(M<49)return 0;else if(M<58)return 100*(M-48);else if(M<65)return 0;return 100*(M-55)}var o;function c(M,Q){var O=new Uint8Array(M);
Q.C6=!0;o={};var W=D.it(O,0,2);if(W=="WL"){alert("Unsupported CDR version")}else{var e9,jV,co,a9,cM=300,db=0;
if(W=="PK"){jV=UZIP.parse(O);O=jV["content/root.dat"];co=D.cA(jV["content/dataFileList.dat"]).split("\n")}e9=kq.QE(O.buffer);
console.log(e9);var dz=J(O[11]),eh={data:O,z:0,NZ:dz};eh.Yl=eh.NZ<600?16:32;t(O,eh,co,jV,e9.sub,0);var kB=[];
if(jV){a9=x(e9,"doc ");E(a9);var dc=e9.sub;for(var $=0;$<dc.length;$++)if(dc[$].Ce=="page")kB.push(dc[$]);
kB=kB.slice(1)}else if(x(e9,"cmpr")==null){a9=x(e9,"page");kB.push(a9);if(x(a9,"mcfg")==null){a9=x(e9,"doc ");
E(a9);kB=[];var dc=e9.sub;for(var $=0;$<dc.length;$++)if(dc[$].Ce=="page")kB.push(dc[$]);kB=kB.slice(1)}}else{var eT=x(e9,"cmpr").sub;
a9=eT[0];kB=[eT.slice(1)[1]];E(a9)}var fv=x(a9,"mcfg").b,jS=fv.ati,cx=jS.x*.1,bX=jS.x*kB.length+cx*(kB.length-1),gi=jS.y;
cM/=iX.tW(new ha(0,0,Math.round(bX*cM),Math.round(gi*cM)),8192*8192);var ea=Math.round(bX*cM),a1=Math.round(gi*cM);
Q.m=ea;Q.e=a1;Q.buffer=q.R(Q.m*Q.e*4);for(var $=0;$<kB.length;$++){var d2=new cW(cM,0,0,-cM,jS.x*cM/2+db,jS.y*cM/2);
b(kB[$],a9,Q,d2);var hu=Q.B[Q.B.length-1];hu.dZ(new ha(Math.round(db),0,Math.round(jS.x*cM),Math.round(jS.y*cM)));
hu.Yq("Page "+($+1));db+=jS.x*cM+cx*cM}Q.Zy(kB.length)}}function E(M){var Q=x(M,"filt").sub,O=x(M,"otlt").sub,W=x(M,"fntt");
if(W)W=W.sub;M.nl={};for(var $=0;$<Q.length;$++)M.nl[Q[$].sub[0].b.id]=Q[$].sub[0].b;M.in={};for(var $=0;
$<O.length;$++)M.in[O[$].b.id]=O[$].b;if(W){M.fonts={};for(var $=0;$<W.length;$++)M.fonts[W[$].b.id]=W[$].b}}function b(M,Q,O,W){var e9=M.Ce?M.Ce:M.UU,jV=x(M,"lgob"),co=x(M,"txsm"),dz=null,eh=null;
if(jV){dz=x(jV,"trfl");eh=x(jV,"loda")}else if(x(M,"lobj"))eh=x(M,"lobj");var a9=dz&&dz.sub[0].ng?dz.sub[0].ng.clone():new cW;
a9.concat(W);var kB=O._I();if(e9=="page"||e9=="layr"||e9=="grp "){kB.Yq((e9=="page"?"Page":"Group")+" "+O.B.length);
kB.add.lsct=es.tI;kB.n5="pass";kB.Il=24;var dc=[];if(e9=="page")dc=x(M,"gobj").sub;if(e9=="layr")dc=M.sub.slice(2);
if(e9=="grp ")dc=M.sub.slice(4);if(dc.length==0)return;O.B.push(O.Tv());for(var $=dc.length-1;$>=0;$--)b(dc[$],Q,O,W)}else if(e9=="obj "&&eh.b&&eh.b.path){var eT,fv;
if(Q.nl){eT=Q.nl[eh.b.abx];fv=Q.in[eh.b.alF]}if(eT==null)eT=eh.b.alT;if(fv==null)fv=eh.b.akP;kB=l(O,eh.b.path,W,a9,eT,fv)}else if(e9=="obj "&&co){var jS=eh.b.asJ,cx=eh.b.amF,cM="";
kB.add.TySh=iv.hK(0,0);var bX=a9.z1();kB.add.TySh.M.translate(a9.Iw,a9.s7);var gi=kB.add.TySh.TC,ea=co.b.v5;
if(ea==null)return;for(var $=0;$<ea.length;$++){var a1=ea[$],db=cM.length;cM+=a1.text+"\n";iv.Jq(gi,db,a1.text+"\n");
if(a1.text=="")continue;var d2=i(a1.a5Y,Q),hu=d2.a1e,fF=Q.fonts[hu.aB0],il=iv.eU(gi,db,cM.length);if(d2.align==3)il.zR.Justification=1;
else if(d2.align==2)il.zR.Justification=2;else il.zR.Justification=0;var f4=d2.fill.b;if(f4==null)f4=[0,0,0];
if(fF.WX)iv.UE(il,fF.WX);il.kJ.FillColor={Type:1,Values:[1,f4[0],f4[1],f4[2]]};il.kJ.FontSize=Math.round(hu.fontSize*W.z1());
iv.oO(gi,db,cM.length-1,il)}if(cx){iv.Ag(gi,0)}else{iv.Ag(gi,1);iv.UC(gi,[0,0,Math.round(jS.x*a9.V),Math.round(-jS.y*a9.Lu)])}kB.Yq(cM.slice(0,10))}else{kB=null}if(kB)O.B.push(kB)}function l(M,Q,O,W,e9,jV){var co=M._I();
co.Yq("Object "+M.B.length);co.Il|=16;var dz=co.add.vstk=bs.Ao.Bt();co.add.vmsk=new h._b;co.add.vmsk.$=q.O.XR(Q,!1);
q.p.Sp(co.add.vmsk.$,W);var eh=e9&&e9.type!=0,a9=eh&&e9.b!=null?e9.b:[0,0,0];ka.qM(a9,co,W,q.p.d5(co.add.vmsk.$));
dz.fillEnabled.v=eh;if(jV&&jV.aBQ!=1){dz.strokeEnabled.v=!0;dz.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var kB=dz.strokeStyleLineWidth.v.val=jV.lineWidth*O.z1(),dc=jV.color;dz.strokeStyleContent.v.Clr.v=q.r.qP({o:dc[0]*255,I:dc[1]*255,J:dc[2]*255});
if(jV.Wd.length!=0)dz.strokeStyleLineDashSet.v=cI.N9(jV.Wd,4/kB);var eT=jV.axZ,fv=jV.a1S;if(fv!=0){var jS=Q.j,$=jS.length-4,cx=jS[$],bX=jS[$+1],gi=jS[$+2],cM=jS[$+3],ea=new cW;
ea.scale(.15,.15);ea.rotate(-Math.PI/2+Math.atan2(cM-bX,-(gi-cx)));ea.translate(gi,cM);ea.concat(W);
if(o[fv]){var a1=l(M,o[fv],O,ea,dc,null);M.B.push(a1)}}}co.pw();co.vl(M);return co}function i(M,Q){var O=x(Q,"stlt").b,W=JSON.parse(JSON.stringify(O.sU[M]));
if(W.Dx!=0){var e9=O.sU[W.Dx];for(var jV in e9)if(W[jV]==null||W[jV]==0)W[jV]=e9[jV];delete W.Dx}W.align=O.au0[W.aqg];
W.fill=Q.nl[O.ab$[W.a98]];W.a0O=Q.in[O.a8i[W.azt]];W.a1e=O.apG[W.amI];return W}function F($){var bz=$.data[$.z];
$.z+=1;return bz}function k($){var bz=D._K($.data,$.z);$.z+=2;return bz}function U($){var bz=D.ZR($.data,$.z);
$.z+=4;return bz}function I($){var bz=D.ZR($.data,$.z);$.z+=8;return bz}function V($){var bz=D.wG($.data,$.z);
$.z+=2;return bz}function u($){var bz=D.rv($.data,$.z);$.z+=4;return bz}function N($){var bz=D.jR($.data,$.z);
$.z+=8;return bz}function e($){if($.z>=$.data.length)throw"e";var M=0;while($.data[$.z+M]!=0)M++;var Q=D.it($.data,$.z,M);
$.z+=M+1;return Q}function B($){var M="";while(!0){var Q=k($);if(Q==0)break;M+=String.fromCharCode(Q)}return M}function j(M){var Q=U(M),O=(Q&4294901760)>>>16,W=(Q&65535)/65535;
return O+W}function T(M){if(M.NZ<600)return Math.PI*V(M)/1800;return Math.PI*u(M)/18e7}function a(M){if(M.NZ<1500)return P(M);
else return N(M)/254e3}function P(M){if(M.NZ<600)return V(M)/1e3;else return u(M)/254e3}function v(M){if(M.NZ<600)return k(M);
else return U(M)}function R(M){if(M.NZ<600)return V(M);else return u(M)}function y(M,Q,O){var W="";for(var $=0;
$<O;$++){for(var e9=0;e9<Q;e9+=4){var bz=D.ZR(M.data,M.z+$*Q+e9);W+=(bz<500?bz:bz)+","}W+="\n"}return W}function t(M,Q,O,W,e9,jV){var co,dz,eh;
for(var a9=0;a9<e9.length;a9++){var kB=Q.NZ,dc=e9[a9];Q.data=M;Q.z=dc.z+(dc.UU=="LIST"?4:0);if(W&&dc.sub==null){co=U(Q);
dz=U(Q);eh=U(Q);var eT=k(Q);if(eT!=0)throw"e";var fv=k(Q);if(fv>32)throw"e";Q.z-=16;if(co!=4294967295){Q.data=W["content/data/"+O[co]];
Q.z=eh}}if(dc.UU=="vrsn"){if(dc.size==16)Q.z+=8;var jS=k(Q);Q.NZ=jS;console.log("Version",jS);Q.Yl=jS<600?16:32}else if(dc.UU=="DISP"){}else if(dc.UU=="LIST"&&dc.Ce=="cmpr"){var cx=U(Q),bX=U(Q),gi=U(Q),cM=U(Q),ea=new Uint8Array(Q.data.buffer,Q.z+8+2,cx-6-8),a1=pako.inflateRaw(ea),fF=0;
Q.z+=cx;ea=new Uint8Array(Q.data.buffer,Q.z+8+2);var db=pako.inflateRaw(ea),d2=[];for(var hu=0;hu<db.length;
hu+=4)d2.push(D.ZR(db,hu));dc.sub=[];while(fF<a1.length){var il=kq.U4(a1,fF,d2);fF=il.z+il.size;dc.sub.push(il)}var f4={data:a1,z:0,NZ:kB,Yl:Q.Yl};
t(a1,f4,O,W,dc.sub,jV+1)}else if(dc.UU=="LIST"&&dc.Ce=="stlt"||dc.UU=="stlt"){if(co==4294967295)return;
var aK=Q.z,hn="",jq=32;dc.b={};var f9=U(Q);if(f9==0)return;dc.b.ab$=Z(Q,kB>=1300);dc.b.a8i=Z(Q);dc.b.apG={};
var e0=U(Q);for(var $=0;$<e0;$++){var j7=U(Q);Q.z+=kB<1e3?12:20;var jb=k(Q),hN=k(Q);Q.z+=8;var fe=P(Q);
Q.z+=kB<1e3?12:20;dc.b.apG[j7]={aB0:jb,aA0:hN,fontSize:fe}}dc.b.au0=Z(Q);var a3=U(Q);hn+="Intervals\n"+y(Q,52,a3)+"\n";
Q.z+=52*a3;var bH=U(Q);hn+="Set5s\n"+y(Q,152,bH)+"\n";Q.z+=152*bH;var jB=U(Q);hn+="Tabs\n"+y(Q,784,jB)+"\n";
Q.z+=784*jB;var jH=U(Q);hn+="Bullets\n";for(var $=0;$<jH;$++){var dL=Q.z,aq=U(Q);Q.z+=4*3;if(kB>1300)Q.z+=4;
var is=U(Q);Q.z+=4*5;if(kB>=1300){var dh=U(Q);if(dh){if(U(Q))Q.z+=64;else Q.z+=60}else Q.z+=12}else{Q.z+=20;
if(kB>=1e3)Q.z+=8;if(U(Q))Q.z+=8;Q.z+=8}var j_=Q.z;Q.z=dL;hn+=y(Q,j_-dL,1);Q.z=j_}hn+="\n";var cH=U(Q);
hn+="Indents\n";dc.b.aBp={};for(var $=0;$<cH;$++){var dL=Q.z,bK=U(Q),eC={};Q.z+=12;eC.right=P(Q);eC.alx=P(Q);
eC.left=P(Q);dc.b.aBp[bK]=eC;var j_=Q.z;Q.z=dL;hn+=y(Q,j_-dL,1);Q.z=j_}hn+="\n";var fp=U(Q);if(kB>=1300)jq+=4;
hn+="Hypens\n"+y(Q,jq,fp)+"\n";Q.z+=jq*fp;var az=U(Q);hn+="Dropcaps\n"+y(Q,28,az)+"\n";Q.z+=28*az;if(kB>800){var de=U(Q);
hn+="Set11s\n"+y(Q,28,de)+"\n";Q.z+=12*de}dc.b.sU={};for(var $=0;$<f9;$++){var g3=U(Q);if(g3>3)throw g3;
var hJ=U(Q),kc={};kc.Dx=U(Q);Q.z+=8;var bc=U(Q);if(kB>=1200)bc*=2;Q.z+=bc;kc.a98=U(Q);kc.azt=U(Q);if(g3>1){kc.amI=U(Q);
kc.aqg=U(Q);kc.aag=U(Q);kc.ayJ=U(Q);if(kB>800)kc.anf=U(Q)}if(g3>2){kc.a6G=U(Q);kc.a8v=U(Q);kc.afX=U(Q);
kc.aoK=U(Q);kc.aCT=U(Q)}dc.b.sU[hJ]=kc}}else if(dc.UU=="LIST")t(M,Q,O,W,dc.sub,jV+1);else if(dc.UU=="txsm"){dc.b={};
if(kB<600)throw"e";if(kB<700)throw"e";if(kB>=1600){dc.b=C(Q);return}if(kB>=1500)Q.z+=37;else Q.z+=36;
if(U(Q)){if(kB<800)Q.z+=32}if(kB<800)Q.z+=4;dc.b.a5P=U(Q);dc.b.v5=[];Q.z+=48;if(kB>=800){if(U(Q)){Q.z+=32;
if(kB>=1300)Q.z+=8}}if(kB>=1500)Q.z+=12;var g3=U(Q),kd=1,jR=!1;if(!g3){if(kB>=800)Q.z+=4;if(kB>800)Q.z+=2;
if(kB>=1400)Q.z+=2;Q.z+=24;if(kB<800)Q.z+=8;kd=U(Q)}for(var hu=0;hu<kd;hu++){var im=U(Q),$=0;if(kB>=1300&&g3)Q.z++;
Q.z++;var f9=U(Q),dO=[];for($=0;$<f9;$++){var jd=F(Q),iA=0;F(Q);var gJ=F(Q);if(kB>=800)iA=F(Q);var kc={};
if(gJ&1){kc.aB0=k(Q);var gj=k(Q);if(gj)kc.ajJ=gj}if(gJ&2)Q.z+=4;if(gJ&4)kc.a29=P(Q);if(gJ&8)Q.z+=4;if(gJ&16)Q.z+=4;
if(gJ&32)Q.z+=4;if(gJ&64){kc.a98=U(Q);if(kB>=1500)Q.z+=48}if(gJ&128){kc.azt=U(Q)}if(iA&8){if(kB>=1300){var jG=U(Q);
if(Q.z+jG*2>=Q.data.length){jR=!0;break}Q.z+=jG*2}else Q.z+=4}if(iA&32){var eG=F(Q);if(eG)Q.z+=52}if(jd==2)if(kB>=1300)Q.z+=48;
dO.push(kc)}if(jR){break}var el=U(Q);if(Q.z+el*4>Q.data.length)break;var gp=[];for($=0;$<el;$++){var ar=0;
if(kB>=1200)ar=I(Q)&4294967295;else ar=U(Q);gp[$]=ar>>16|ar&1}var jY=el;if(kB>=1200)jY=U(Q);var fH=e(Q);
dc.b.v5.push({a5Y:im,text:fH,sU:dO})}}else if(dc.UU=="arrw")dc.b=g(Q);else if(dc.UU=="font"){var dL=Q.z,iH=k(Q),cz=k(Q),cw="";
Q.z+=14;if(Q.NZ>=1200)cw=B(Q);else cw=e(Q);dc.b={id:iH,a0G:cz,name:cw};if(W){var eP=dL+dz;while(Q.data[Q.z]==0)Q.z++;
Q.z+=2;var c3=B(Q);while(Q.data[Q.z]==0)Q.z++;while(Q.data[Q.z]<=2)Q.z+=4;dc.b.WX=B(Q)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(dc.UU)!=-1){}else if(dc.UU=="flgs")dc.b=U(Q);
else if(dc.UU=="bbox"){var hg=P(Q),eQ=P(Q),gM=P(Q),hZ=P(Q);dc.b=new ha(hg,eQ,gM-hg,hZ-eQ)}else if(dc.UU=="fild"){var ev=U(Q),a$;
if(kB>=1300)Q.z+=8;var ay=k(Q);if(ay==0){}else if(ay==1){Q.z+=kB>=1300?13:2;a$=z(Q)}else if(ay==2){Q.z+=kB>=1300?8:2;
var g6=F(Q),ik=0;if(kB>=1300){Q.z+=17;ik=V(Q)}else if(kB>=600){Q.z+=19;ik=u(Q)}else{Q.z+=11;ik=V(Q)}var dV=T(Q),kE=.5+R(Q),fG=.5+R(Q)-.5;
if(kB>=600)Q.z+=2;var jZ=v(Q)&255,hV=F(Q)/100;Q.z++;var kx=v(Q)&65535;if(kB>=1300)Q.z+=3;var iw=[];for(var $=0;
$<kx;$++){var ic=z(Q);if(kB>=1400)Q.z+=26;else if(kB>=1300)Q.z+=5;var aB=(v(Q)&65535)/100;if(kB>=1300)Q.z+=3;
iw.push([aB,ic])}a$={typ:g6==1?"lin":"rad",crds:[kE-Math.cos(dV)/2,fG-Math.sin(dV)/2,kE,fG],grad:iw,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",ay);
dc.b={id:ev,type:ay,b:a$}}else if(dc.UU=="outl"){var ge=U(Q);if(kB>=1300){var gm=0,fc=0;while(gm!=1){Q.z+=fc;
gm=U(Q);fc=U(Q)}}var bO=k(Q),eu=k(Q),aQ=k(Q);if(kB<1300&&kB>=600)Q.z+=2;var jf=P(Q),fz=k(Q)/100;if(kB>=600)Q.z+=2;
var gr=T(Q);if(kB>=1300)Q.z+=46;else if(kB>=600)Q.z+=52;var a$=z(Q);if(kB<600)Q.z+=10;else Q.z+=16;var hK=k(Q),jU=Q.z,aC=[];
for(var $=0;$<hK;++$)aC.push(k(Q));if(kB<600)Q.z=jU+20;else Q.z=jU+22;var hj=U(Q),g_=U(Q);dc.b={id:ge,aBQ:bO,agx:eu,aof:aQ,lineWidth:jf,color:a$,Wd:aC,axZ:hj,a1S:g_}}else if(dc.UU=="mcfg"){if(1300<=kB)Q.z+=12;
else if(900<=kB)Q.z+=4;else if(600<=kB&&kB<700)Q.z+=28;var jI=0,gH=0;if(kB<400){Q.z+=2;var hg=P(Q),eQ=P(Q),gM=P(Q),hZ=P(Q);
jI=Math.abs(gM-hg);gH=Math.abs(hZ-eQ)}else{jI=P(Q);gH=P(Q)}dc.b={ati:new ck(jI,gH)}}else if(dc.UU=="loda"||dc.UU=="lobj"){var aK=Q.z,d3=v(Q),eB=v(Q),eI=v(Q),ak=v(Q),j6=v(Q),fU=[],b$=[],$=0,hW=null;
Q.z=aK+eI;while($<eB)fU[$++]=v(Q);Q.z=aK+ak;while($>0)b$[--$]=v(Q);dc.b={};for($=0;$<eB;$++){Q.z=aK+fU[$];
var gI=b$[$];if(gI==30){if(kB>=400&&j6==1||kB<400&&j6==0){dc.b.path=f(Q)}else if(kB>=400&&j6==2||kB<400&&j6==1){dc.b.path=K(Q)}else if(kB>=400&&j6==3||kB<400&&j6==2){dc.b.path=r(Q)}else if(j6==37){dc.b.path=G(Q)}else if(kB>=400&&j6==4||kB<400&&j6==3){dc.b.amF=A(Q)}else if(kB>=400&&j6==6||kB<400&&j6==5){dc.b.asJ=d(Q)}else console.log(j6)}else if(gI==20){if(kB<400)dc.b.alT=_(Q);
else dc.b.abx=U(Q)}else if(gI==10){if(kB<400)dc.b.akP=Y(Q);else dc.b.alF=U(Q)}else if(gI==200)dc.b.aAX=v(Q);
else if(gI==100){if(kB<400)hW=H(Q)}}if(hW&&dc.b.path)q.O.M(dc.b.path.j,hW,dc.b.path.j)}else if(dc.UU=="trfd"){var aK=Q.z,d3=v(Q),eB=v(Q),eI=v(Q);
Q.z=aK+eI;var fU=[];for(var $=0;$<eB;$++)fU[$]=v(Q);for(var $=0;$<eB;$++){Q.z=aK+fU[$];if(kB>=1300)Q.z+=8;
var d_=k(Q);if(d_==8){var fI,aP,hg,ed,jN,eQ;if(kB>=600)Q.z+=6;if(kB>=500){fI=N(Q);aP=N(Q);hg=N(Q)/(kB<600?1e3:254e3);
ed=N(Q);jN=N(Q);eQ=N(Q)/(kB<600?1e3:254e3)}else throw"e";dc.ng=new cW(fI,ed,aP,jN,hg,eQ)}else console.log(d_)}}else if(!1){console.log(dc);
var ep=Math.min(dc.size,32);console.log(D.f$(M,dc.z,ep));console.log(D.ayo(M,dc.z,ep))}}}function g(M){var Q=U(M);
M.z+=4;var O=k(M);M.z+=4;var W=[];for(var e9=0;e9<O;e9++)W.push(F(M));M.z+=1;var jV=[];for(var co=0;
co<O;co++){var dz=[];dz[1]=P(M);dz[0]=P(M);jV.push(dz)}var eh=w(jV,W);o[Q]=eh}function H(M){var Q=0,O=0,W=0,e9=0,jV=0,co=0;
if(M.NZ>=300){var dz=M.z;M.z+=10;var eh=v(M);M.z=dz+eh;Q=j(M);O=j(M);W=u(M)/1e3;e9=j(M);jV=j(M);co=u(M)/1e3}else{W=P(M);
co=P(M);Q=j(M);O=j(M);W+=j(M)/1e3;e9=j(M);jV=j(M);co+=j(M)/1e3}return new cW(Q,O,e9,jV,W,co)}function _(M){var Q=F(M);
if(Q==0)return null;else if(Q==1)return z(M);else console.log(Q)}function Y(M){var Q=F(M);Q<<=1;var O=P(M),W=k(M)/100,e9=T(M),jV=z(M);
return{aBQ:Q,lineWidth:O,color:jV,Wd:[],axZ:0,a1S:0}}function K(M){var Q=P(M),O=P(M),W=T(M),e9=T(M),jV=q.O.uG(q.p.MP.yr(0,0,Q,O));
return jV}function f(M){var Q=M.NZ,O=a(M),W=a(M),e9=0,jV=0,co=0,dz=0,eh=0,a9=1,kB=1;if(Q<1500){dz=a(M);
co=Q<900?dz:a(M);jV=Q<900?dz:a(M);e9=Q<900?dz:a(M)}else{var dc=N(M);if(dc!=0)a9=dc;dc=N(M);if(dc!=0)kB=dc;
var eT=F(M);M.z+=7;if(eT==0){dz=N(M);eh=F(M);M.z+=15;co=N(M);M.z+=16;jV=N(M);M.z+=16;e9=N(M);var fv=Math.abs(O*a9/2),jS=Math.abs(W*kB/2);
dz*=fv<jS?fv:jS;co*=fv<jS?fv:jS;jV*=fv<jS?fv:jS;e9*=fv<jS?fv:jS}else{dz=a(M);eh=F(M);M.z+=15;co=a(M);
M.z+=16;jV=a(M);M.z+=16;e9=a(M)}}return q.O.uG(q.p.MP.Rect(0,0,O,W,[e9,jV,co,dz]))}function m(M){var Q=U(M);
if(M.NZ<1700)Q*=2;M.z+=Q;return""}function C(M){var Q=U(M),W=0;M.z+=37;var O=U(M);for(var $=0;$<O;$++){var e9=U(M);
W=e9;M.z+=48;var jV=U(M);if(jV==1)M.z+=12*4;else M.z+=8;if(!Q){M.z+=16;m(M)}}var co={a5P:W,v5:[]},dz=U(M);
for(var eh=0;eh<dz;eh++){var a9=U(M),a1="";M.z+=1;if(Q)M.z+=1;var kB=m(M),dc=U(M);for(var $=0;$<dc;$++){M.z+=2;
var eT=k(M),fv=k(M);if(fv&4){var jS=U(M);jS*=2;M.z+=jS}if(eT||fv&4){var cx=m(M)}}var bX=U(M),gi=[];for(var $=0;
$<bX;$++){var cM=I(M)&4294967295;gi[$]=cM>>16|cM&1}var ea=U(M);for(var $=0;$<bX;$++){var db=gi[$]&7,d2=0;
if(db==0||db==2||db==4||db==6)d2=M.data[M.z++];else if(db==1||db==3)d2=M.data[M.z++]+M.data[M.z++]*256;
else throw db;a1+=String.fromCharCode(d2)}var hu=a1.split("\r");for(var $=0;$<hu.length;$++)co.v5.push({text:hu[$],a5Y:a9,sU:[]})}return co}function Z(M,Q){var O={},W=U(M);
for(var $=0;$<W;$++){var e9=U(M);M.z+=4;var jV=U(M);O[e9]=jV;if(Q)M.z+=48}return O}function A(M){var Q=P(M),O=P(M);
return new ck(Q,O)}function d(M){M.z+=4;var Q=P(M),O=P(M);return new ck(Q,O)}function G(M){M.z+=4;var Q=k(M)+k(M);
M.z+=16;var O=X(M,Q);return O}function r(M){var Q=k(M);M.z+=2;return X(M,Q)}function X(M,Q){var O=[],W=[];
for(var $=0;$<Q;$++)O.push([P(M),P(M)]);for(var $=0;$<Q;$++)W.push(F(M));return w(O,W)}function w(M,Q){var O={j:[],G:[]},W=0,e9=0,jV=0;
for(var $=0;$<M.length;$++){var W=M[$][0],e9=M[$][1],co=Q[$];if(!(co&64)&&!(co&128)||$==0){O.j.push(W,e9);
O.G.push("M");jV+=2}else if(co&64&&!(co&128)){O.j.push(W,e9);O.G.push("L");jV+=2}else if(!(co&64)&&co&128){O.j.push(W,e9);
O.G.push("C");jV+=6}else if(co&64&&co&128){O.j.push(W,e9)}}if(jV!=O.j.length)throw"e";return O}function S(M,Q){var O=D.ZR;
Q+=8;var W=O(M,Q);Q+=4;var e9=O(M,Q);Q+=4;Q+=4*7;var jV=Q,co=q.R(W*e9*4);Q+=1024;for(var dz=0;dz<e9;
dz++)for(var eh=0;eh<W;eh++){var $=dz*W+eh,a9=(e9-dz-1)*W+eh,kB=M[Q+$]<<2,dc=a9<<2;co[dc+0]=M[jV+kB+2];
co[dc+1]=M[jV+kB+1];co[dc+2]=M[jV+kB+0];co[dc+3]=255}return{tM:co,rect:new ha(0,0,W,e9)}}function z(M){var Q=M.NZ,O=0,W=0,e9=0;
if(Q>=500){O=k(M);if(O==1&&Q>=1300)O=25;if(O==30){O=25;W=30}else{W=k(M);M.z+=4}e9=U(M)}else if(Q>=400)throw"e";
else{O=F(M);e9=U(M)}return s(O,W,e9)}function s(M,Q,O){var W=[0,0,0];if(M==2||M==3||M==9||M==17){var e9=[O>>>0&255,O>>>8&255,O>>>16&255,O>>>24&255];
if(M==2)for(var $=0;$<4;$++)e9[$]=Math.round(255*e9[$]/100);for(var $=0;$<4;$++)e9[$]/=255;W=UDOC.C.cmykToRgb(e9)}else if(M==1||M==5){W=[O>>>0&255,O>>>8&255,O>>>16&255];
for(var $=0;$<3;$++)W[$]=W[$]/255;if(M==5)W.reverse()}else console.log("Unknown color model "+M,O,O.toString(16));
return W}return{QE:c}}(),iZ=function(){var x,J,o=new ArrayBuffer(4),c=new Uint8Array(o),E=new Uint32Array(o),b=new Float32Array(o);
function l(V,u){for(var N=0;N<V.length;N++)if(V[N][0]==u)return V[N]}function i(){var V=0,u=0,N=0;do{N=x[J++];
V|=(N&127)<<u;u+=7}while(N&128&&u<35);return V>>>0}function F(V,u,N,e,B){x=V;J=u;var j=e[0]=="mesg",T=e[2],a={},P=1,v=j?1e9:T.length;
while(P<=v){var R=P;if(j){R=i();if(R==0)break}var y=l(T,R),t=y[2],g=y[1]==1,H=g?i():1,_=new Array(H);
if(t==3){if(!g)throw"e";_=x.slice(J,J+H);J+=H}else for(var $=0;$<H;$++){var Y;if((t&1)==1){if(t==1)Y=x[J++]==1;
else if(t==3)Y=x[J++];else if(t==5){var K=i();Y=K&1?~(K>>>1):K>>>1}else if(t==7)Y=i();else if(t==9){if(x[J]==0){Y=0;
J++}else{c[0]=x[J];c[1]=x[J+1];c[2]=x[J+2];c[3]=x[J+3];var f=E[0];E[0]=f<<23|f>>>9;Y=b[0];J+=4}}else if(t==11){var m=k(x,J);
Y=m[0];J+=m[1]+1}else throw t}else{var C=N[t>>>1];if(C[0]=="enum"){var Z=i();Y=C[2][Z]}else{var A=F(x,J,N,C,B+1);
Y=A[0];J=A[1]}}_[$]=Y}a[y[3]]=g?_:_[0];P++}return[a,J]}function k(V,u){var N=u;while(V[N]!=0)N++;return[D.cA(new Uint8Array(V.buffer,u,N-u)),N-u]}function U(V,u){var N=u;
while(V[N]!=0)N++;for(var $=u;$<N;$++)if(V[$]>127)throw"e";return D.it(V,u,N-u)}function I(V){x=V;J=1;
var u=[];while(J<V.length){var N=J,e=u.length,B=U(V,J);J+=B.length+1;var j=i();if(j>2)throw"e";var T=i(),a=[];
for(var $=0;$<T;$++){var P=U(V,J);J+=P.length+1;var v=i(),R=i(),y=i();a.push(j==0?P:[y,R,v,P])}u.push([["enum","strc","mesg"][j],B,a])}return u}return{ahH:I,aCx:F}}();
function i8(){}i8.QE=function(x,J){var o=Date.now(),c=new Uint8Array(x),E=8,b,I=0,A=0;if(c[0]==80&&c[1]==75){b=UZIP.parse(x);
c=b["canvas.fig"]}var l=D.ZR(c,E);E+=4;var i=[];while(E<c.length){var F=D.ZR(c,E);E+=4;var k=c.slice(E,E+F);
if(c[E]==137&&c[E+1]==80){}else k=UZIP.inflateRaw(k);i.push(k);E+=F}var U=iZ.ahH(i[0]);for(var $=0;$<U.length;
$++)if(U[$][1]=="Message")I=$;var V=iZ.aCx(i[1],0,U,U[I],0)[0],u={eQ:{},Lx:{},aaD:{},dM:b},N=V.nodeChanges;
for(var e=0;e<N.length;e++){var B=N[e],j=B.guid;u.Lx[j.sessionID+","+j.localID]=B}for(var e=0;e<N.length;
e++){var B=N[e],j=B.parentIndex;if(j){var T=i8.AC(u.Lx,j.guid);if(T.children==null)T.children=[];T.children.push(B)}}var a=N[0],P=a.children,v=new ha,R=[],y=[];
for(var j=0;j<P.length;j++){var t=P[j],g=t.children;if(t.name=="Internal Only Canvas"||g==null)continue;
var H=new ha;for(var $=0;$<g.length;$++){var _=g[$],Y=_.transform,K=_.size;if(Y.m00==1&&Y.m10==0&&Y.m01==0&&Y.m11==1){var f=new ha(Y.m02,Y.m12,K.x,K.y);
H=H.k7(f)}}var m=v.e==0?0:v.e+100,C=H.clone();C.x=0;C.y=m;v=v.k7(C);R[j]=H;y[j]=m}var Z=iX.tW(new ha(0,0,v.m,v.e),8192*8192);
J.m=Math.round(v.m/Z);J.e=Math.round(v.e/Z);J.buffer=q.R(J.m*J.e*4);for(var j=0;j<P.length;j++){var t=P[j],g=t.children;
if(t.name=="Internal Only Canvas"||g==null)continue;g.sort(i8.azB);var d=new cW(1,0,0,1,-R[j].x,y[j]-R[j].y);
d.scale(1/Z,1/Z);for(var $=0;$<g.length;$++){var _=g[$];i8.ac(_,[],d,V.blobs,J,0,u);A++}}J.Zy(A);J.C6=!0;
if(Z!=1)alert("File scaled down "+Z+"x")};i8.ac=function(x,J,o,c,E,b,l){var i=i8,H=!1,_,f=!1,m,C;J=JSON.parse(JSON.stringify(J));
var F=x.overrideKey?x.overrideKey:x.guid;for(var $=0;$<J.length;$++){var k=J[$],U=k.guidPath.guids;if(i.asp(U[0],F)){if(U.length==1){var I={};
for(var V in x)I[V]=k[V]!=null?k[V]:x[V];x=I}else k.guidPath.guids=U.slice(1)}}var u=x.type,N=x.children,e=x.size,B=x.effects,j=E._I();
j.Yq(x.name);j.Ut(x.visible);j.opacity=Math.round(x.opacity*255);var T=i.Sr(x.transform),a=T.clone();
a.concat(o);if(e==null)e={x:0,y:0};var P=new ha(Math.round(a.Iw),Math.round(a.s7),Math.round(e.x*a.z1()),Math.round(e.y*a.z1()));
if(P.m==0||isNaN(P.m))P.m=100;if(P.e==0||isNaN(P.e))P.e=100;var v=x.fillPaints,R=x.inheritFillStyleID;
if(R){var I=i.AC(l.Lx,R);if(I)v=I.fillPaints}if(v==null)v=[];var v=i.ayc(v),y=v[0],t=x.strokePaints,R=x.inheritFillStyleIDForStroke;
if(R){var I=i.AC(l.Lx,R);if(I)t=I.fillPaints}if(t==null)t=[];var t=i.ayc(t),g="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(u)!=-1;
if(g||u=="FRAME"){_=new h._b;i.aAh(x,c,_);H=q.p.MT(_.$);q.p.Sp(_.$,a);var Y=q.O.uS(q.p.d5(_.$));if(!Y.Kx())P=Y;
if(l.eQ.Jt&&y){var K=h._b.AL(l.eQ.Jt.$);for(var $=2;$<K.length;$++)if(K[$].sm!=null)K[$].sm=3;_.$=_.$.concat(K.slice(2))}}if(y&&y.type=="IMAGE"){C=y.imageScaleMode;
f=!0;var Z=y.originalImageWidth,A=y.originalImageHeight;if(Z*A==0){var d=i.or(c,i8.HG(y),l);Z=d.XO.m;
A=d.XO.e}var G=Z/A,r=e.x/e.y;m=Math.abs(G-r)}if(u=="FRAME"){}else if(g&&H&&f&&(C=="FIT"||C=="FILL"&&m<=.05||C=="STRETCH"&&m<=.05)){var X=i.or(c,i8.HG(y),l,!0),w=E.cv(X,j.getName(),0,0);
w.Il=j.Il;w.opacity=j.opacity;j=w;var S=new ha(0,0,e.x,e.y);if(C=="FIT"){var z=y.originalImageWidth,s=y.originalImageHeight,M=Math.min(e.x/z,e.y/s),Q=z*M,O=s*M;
S=new ha(S.x+(S.m-Q)/2,S.y+(S.e-O)/2,Q,O)}var W=q.O.ny(S).j;q.O.M(W,a,W);j.add.SoLd.Trnf=n.Y.AA(W);j.add.SoLd.nonAffineTransform=n.Y.AA(W);
var e9=[],B=x.effects,jV=y.paintFilter;if(B)for(var $=0;$<B.length;$++)if(B[$].type=="FOREGROUND_BLUR"){var co=B[$],dz=fn.Xb("GsnB",{});
e9.push(dz);dz.v.enab.v=co.visible;dz.v.Fltr.v.Rds.v.val=co.radius/2.4}if(jV&&jV.exposure!=0){var dz=fn.Xb("brit",{});
e9.push(dz);dz.v.Fltr.v.Brgh.v=Math.round(jV.exposure*160);dz.v.Fltr.v.useLegacy.v=!0}if(jV&&jV.vibrance!=0){var dz=fn.Xb("vibA",{});
e9.push(dz);dz.v.Fltr.v.Strt.v=Math.round(Math.round(jV.vibrance*100))}if(e9.length!=0){j.add.SoLd.filterFX=fn.kN();
E.ie({id:j.add.SoLd.placed.v,rect:new ha,buffer:q.R(1),F:new h.Tj});j.add.SoLd.filterFX.v.filterFXList.v=e9}j.aW(E,!1);
i.azW(l,j,E)}else if(g){i.amw(j,_,x,y,t,a,P,c,E,l);if(B)for(var $=0;$<B.length;$++){var co=B[$];if(co.type!="FOREGROUND_BLUR")continue;
_._M=co.radius/2.4}j.pw();j.vl(E)}else if(u=="TEXT"){var eh=x.textData,a9=eh.layoutSize,kB=["LEFT","RIGHT","CENTER"].indexOf(x.textAlignHorizontal);
j.add.lnsr="rend";j.add.TySh=iv.hK(0,0);j.add.TySh.Ca=new ha(0,0,100,100);var dc=a.clone();j.add.TySh.M=dc;
var eT=j.add.TySh.TC,fv=eh.characters;if(x.textCase=="TITLE"){for(var $=0;$<fv.length;$++)if($==0||fv[$-1]==" "){var jS=fv.slice(0,$),cx=fv.slice($+1);
fv=jS+fv[$].toUpperCase()+cx}}fv=fv.replace(/\u2028/g,"\n");fv=fv.replace(/\u2029/g,"\n");fv=fv.replace(/\r\n/g," \n");
iv.Jq(eT,0,fv);var bX=x.textAutoResize,gi=eh.baselines;if(bX=="WIDTH_AND_HEIGHT"){var cM=kB==0?0:kB==1?a9.x:a9.x/2,ea=gi?gi[0].position.y:0;
dc.translate(cM*a.z1(),ea*a.z1());iv.Ag(eT,0)}else if(bX=="HEIGHT"||bX=="NONE"||bX==null){var ea=gi?gi[0].position.y-x.fontSize*.7:0;
dc.translate(0,ea*a.z1());iv.Ag(eT,1);iv.UC(eT,[0,0,Math.round(a9.x),Math.round((bX=="NONE"?1.8:1)*a9.y)])}else throw bX;
if(fv!=""){var a1=iv.eU(eT,0,1);i.av4(x,a,e,a1,j,c,E,l);iv.oO(eT,0,fv.length,a1);var db=eh.characterStyleIDs,d2=eh.styleOverrideTable;
if(db){db=db.slice(0);for(var $=0;$<db.length;$++)if(fv[$]=="\n")db[$]=-$-1;var hu=[0],fF=0,il=0;for(var $=0;
$<db.length;$++){il++;var f4=db[$];if($==0||f4==db[$-1]){}else{hu.push(il-1,$);il=1}}hu.push(il);for(var $=0;
$<hu.length;$+=2){var aK=hu[$],f9=hu[$+1];if(fv[aK]=="\n")continue;var f4=db[aK];if(f4!=0){var e0;for(var j7=0;
j7<d2.length;j7++)if(d2[j7].styleID==f4)e0=d2[j7];var a1=iv.eU(eT,aK,aK+1);i.av4(e0,a,e,a1,j,c,E,l);
iv.oO(eT,aK,aK+f9-1,a1)}}}}}else if(u=="SYMBOL"){}else if(u=="INSTANCE"){var jb=x.symbolData,hN=jb.symbolOverrides,I=i.AC(l.Lx,jb.symbolID);
if(I)N=I.children;else console.log(x.name,"symbol not found",jb.symbolID);J=J.slice(0);for(var $=0;$<hN.length;
$++)J.push(hN[$])}else console.log(u);if(!1){}else if(N&&!g){E.B.push(E.Tv());var fe=!1,hn=b==0&&u!="SYMBOL"&&u!="INSTANCE";
if(hn){if(P.Kx())console.log(P);j.dZ(P)}y=v[v.length-1];if(hn&&y&&y.type=="SOLID"){var a3=y.color;j.add.artb.artboardBackgroundType.v=4;
j.add.artb.Clr=i.vp(a3)}else if((y||t[0])&&_){var bH=E._I();bH.Yq("Background");i.amw(bH,_,x,y,t,a,P,c,E,l);
bH.pw();bH.vl(E);E.B.push(bH);fe=!0}N.sort(i.azB);var jB=l.eQ;l.eQ={};for(var jH=0;jH<N.length;jH++)i.ac(N[jH],J,a,c,E,b+1,l);
l.eQ=jB;j.add.lsct=!1?es.tI:es.tm;j.n5="pass";var dL=j.kR();j.Il=24;j.Ut(dL);var aq=b!=0&&v.length!=0&&!x.frameMaskDisabled&&x.containerSupportsFillStrokeAndCorners;
if(!fe&&aq&&_){j.add.vmsk=_;j.pw();j.vl(E)}else i.azW(l,j,E);E.B.push(j)}else if(x.mask){if(_){l.eQ.Jt=_}}else{var is=[],jq=1;
if(B)for(var dh=0;dh<B.length;dh++){var co=B[dh],j_=co.color,cH=co.type,bK=["DROP_SHADOW","INNER_SHADOW"].indexOf(cH);
if(bK!=-1){var eC=["DrSh","IrSh"][bK],fp=JSON.parse(bs.Kl[bs.order.indexOf(eC)]);is.push([eC,fp]);fp.enab.v=co.visible;
fp.Md.v.BlnM=iP.V0(i.aa$(co.blendMode));fp.Opct.v.val=Math.round(100*j_.a);fp.blur.v.val=Math.round(co.radius*a.z1());
fp.Clr=i.vp(j_);var cM=co.offset.x,ea=co.offset.y;fp.uglg.v=!1;fp.lagl.v.val=Math.round(180/Math.PI*Math.atan2(ea,-cM));
fp.Dstn.v.val=Math.round(Math.sqrt(cM*cM+ea*ea)*a.z1())}}if(u=="TEXT"&&v[0]&&v[0].type!="SOLID")jq=0;
for(var $=jq;$<v.length;$++){var az=v[$],de=i.dF(x,az,a,P,c,E,l);if(de[0]=="GdFl")is.push(["GrFl",de[1]]);
else if(de[0]=="SoCo")is.push(["SoFi",de[1]]);else if(de[0]=="PtFl")is.push(["patternFill",de[1]]);else if(de[0]=="None"){}else throw de}if(!g)for(var $=0;
$<t.length;$++){var az=t[$],de=i.dF(x,az,a,P,c,E,l);if(de[0]=="SoCo"){var fp=JSON.parse(bs.Kl[bs.order.indexOf("FrFX")]);
is.push(["FrFX",fp]);fp.enab=de[1].enab;fp.Opct=de[1].Opct;fp.Md=de[1].Md;fp.Clr=de[1].Clr;fp.Sz.v.val=x.strokeWeight}}if(is.length!=0){var g3=JSON.parse(bs.default);
for(var $=0;$<bs.order.length;$++)g3[bs.x0[$]]={t:"VlLs",v:[]};for(var $=0;$<is.length;$++){var hJ=is[$],eC=bs.x0[bs.order.indexOf(hJ[0])];
g3[eC].v.unshift({t:"Objc",v:hJ[1]})}if(N==null)j.add.lmfx=g3}E.B.push(j)}};i8.amw=function(x,J,o,c,E,b,l,i,F,k){var U=i8;
x.Il|=16;x.add.vmsk=J;var I=x.add.vstk=bs.Ao.Bt(),V=U.dF(o,c,b,l,i,F,k);I.fillEnabled.v=V[0]!="None";
if(V[0]=="None"){x.add.SoCo=V[1]}else{U.I7(V,x);x.add[V[0]]=V[1]}var V=U.dF(o,E[0],b,l,i,F,k);if(V[0]!="None"){var I=x.add.vstk;
I.strokeEnabled.v=!0;I.strokeStyleLineWidth.v.val=o.strokeWeight*b.z1();I.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bs.Ao.lS[["INSIDE","CENTER","OUTSIDE"].indexOf(o.strokeAlign)];
var u={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[V[0]],N=["SoFi","GrFl","patternFill"].indexOf(u),e=[bs.MA,bs.Xp,bs.X2][N];
I.strokeStyleContent.v={classID:bs.Ao.Ce[0]};var B=o.dashPattern;if(B)I.strokeStyleLineDashSet.v=cI.N9(B,1/o.strokeWeight);
var j=I.strokeStyleContent.v={classID:bs.Ao.Ce[N]};for(var $=0;$<e.length;$++)j[e[$]]=V[1][e[$]];if(!I.fillEnabled.v)U.I7(V,x)}};
i8.I7=function(x,J){var o=x[1].Opct.v.val;if(o!=100)J.opacity=Math.round(J.opacity/255*(o/100)*255)};
i8.azB=function(x,J){var o=x.parentIndex.position,c=J.parentIndex.position;return o>c?1:-1};i8.ayc=function(x){for(var $=1;
$<x.length;$++){var J=x[$];if(J.type=="IMAGE"&&J.opacity==1){x=x.slice($);break}}for(var $=0;$<x.length;
$++){var J=x[$],o=J.imageThumbnail;if(J.type=="IMAGE"&&(J.image==null||J.image.dataBlob==null)&&o&&o.dataBlob)J.image=o;
if(!J.visible){x.splice($,1);$--}}return x};i8.azW=function(x,J,o){if(x.eQ.Jt){J.add.vmsk=x.eQ.Jt.clone();
J.pw();J.vl(o)}};i8.av4=function(x,J,o,c,E,b,l,i){var F=x.fontSize,k=x.lineHeight,U=x.fontName,I=x.textAlignHorizontal,V=x.textTracking,u=x.textCase,N=x.textDecoration;
if(F==null)F=c.kJ.FontSize;if(U){var e=U.postscript;if(e==""){var B=U.family,j=U.style;e=B.split(" ").join("")+"-"+j}iv.UE(c,e)}if(F!=null)c.kJ.FontSize=Math.round(F);
if(N=="UNDERLINE")c.kJ.Underline=!0;if(V)c.kJ.Tracking=Math.round(V*1e3);if(u)c.kJ.FontCaps=u=="UPPER"?2:0;
if(k&&(k.units!="PERCENT"||k.value!=100)){if(F==null)F=15;var T=k.value;if(k.units=="PERCENT")T=1*F*T/100;
if(k.units=="RAW")T=1*F*T;c.kJ.AutoLeading=!1;c.kJ.Leading=Math.round(T)}if(I)c.zR.Justification=["LEFT","RIGHT","CENTER"].indexOf(I);
var a=x.fillPaints,P=x.inheritFillStyleID;if(P){var v=i8.AC(i.Lx,P);if(v)a=v.fillPaints}if(a&&a[0]){var R=i8.dF(x,a[0],J,o,b,l,i);
if(R[0]=="SoCo"){var y=q.r.fL(R[1].Clr.v);c.kJ.FillColor={Type:1,Values:[1,y.o/255,y.I/255,y.J/255]};
i8.I7(R,E)}}};i8.dF=function(x,J,o,c,E,b,l){var i=i8,F,k,U=x.size;if(U==null)U={x:0,y:0};if(J){var I=J.type,V=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(I);
if(I=="SOLID"){F="SoCo";var u=J.color;k=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);k.Clr=i.vp(u)}else if(V!=-1){var N=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),e=N.Grad.v;
e.Intr.v=0;N.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][V];var B=[],j=J.stops;for(var $=0;$<j.length;$++){var T=j[$],a=T.color;
B.push([T.position,[a.r,a.g,a.b],a.a])}q.r.p3(B,e);var P=i.Sr(J.transform);P.Mr();var v=P.clone();if(U)v.scale(U.x,U.y);
v.concat(o);var R=new ck(0,.5),y=new ck(1,.5);R=v.iI(R);y=v.iI(y);if(!0){R.x=y.x+.5*(R.x-y.x);R.y=y.y+.5*(R.y-y.y)}q.r.Bk(R,y,c,N);
if(V==3){if(v.V*v.Lu-v.J*v.xt<0)N.Rvrs.v=!N.Rvrs.v}F="GdFl";k=N}else if(I=="IMAGE"){var N=JSON.parse(bs.Kl[bs.order.indexOf("patternFill")]),P=i.Sr(J.transform);
P.Mr();var t=i8.HG(J),g=l.aaD[t];if(g==null){var H=i.or(E,t,l);g=l.aaD[t]={};g.id=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f";
g.Gc=[new Uint8Array(H.data),H.XO];if(P.V<0){var _=g.Gc[0].slice(0);q.D.sI(_,g.Gc[0],H.XO.m,H.XO.e)}g.name="someImage";
b.K0(g)}if(P.V<0)P.V=-P.V;var Y=["FILL","FIT","STRETCH","TILE"].indexOf(J.imageScaleMode),K=Y==3?J.scale:1;
cI.a26(g,N,U.x,U.y,Y,o,P,K);F="PtFl";k=N}else throw I;if(k)k.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(J.opacity*100)}}}if(F==null||J.opacity<.001){F="None";
k={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:0,I:0,J:0})}}}return[F,k]};i8.HG=function(x){var J=x.image,o=J.dataBlob;
if(o==null){o="";for(var $=0;$<20;$++)o+=J.hash[$].toString(16).padStart(2,"0")}return o};i8.or=function(x,J,o,c){if(x[J]){var E=x[J];
if(c)return E.bytes;if(E.rslt)return E.rslt;var b=E.bytes.buffer;E.rslt=i8.aso(b);return E.rslt}else{if(c)return o.dM["images/"+J];
var b=o.dM["images/"+J].buffer;if(o.dM["images/-"+J])return o.dM["images/-"+J];o.dM["images/-"+J]=i8.aso(b);
return o.dM["images/-"+J]}};i8.aso=function(x){var J=hR.M1(x);if(J=="fpng")J="png";var o=hR.rb(J);try{return o.zu(x)[0]}catch(j4){return{data:q.R(4),XO:new ha(0,0,1,1)}}};
i8.aAh=function(x,J,o){var c=x.type,E=x.size,b=x.cornerRadius,k;if(b==null)b=0;var l=E.x,i=E.y,F=[b,b,b,b],U=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var $=0;$<4;$++)if(x[U[$]]!=null)F[$]=x[U[$]];if(c=="RECTANGLE"||c=="ROUNDED_RECTANGLE"||c=="FRAME"){k=q.p.MP.Rect(0,0,l,i,F)}else if(c=="ELLIPSE"){var I=x.arcData,V=I?I.startingAngle:0,u=I?I.endingAngle:2*Math.PI,N=I?I.innerRadius:0;
if(V==0&&u>1.999*Math.PI)k=q.p.MP.yr(0,0,l,i,0);else k=q.p.MP.ahu(l/2,i/2,i/2,V,u);if(N!=0&&N!=1){var e=h._b.AL(k).slice(3);
e.reverse();for(var $=0;$<e.length;$++){var B=e[$],j=B.HN;B.HN=B.Dq;B.Dq=j}var T=new cW;T.translate(-l/2,-i/2);
T.scale(N,N);T.translate(l/2,i/2);q.p.Sp(e,T);k=k.concat(e);k[2].length*=2}}else if(c=="LINE"){k=q.p.MP.Rect(0,0,l,i,0);
k.pop();k.pop();k[2].length=2}else if(c=="STAR"){k=q.p.MP.amo(l/2,i/2,l/2,2*Math.PI*(1/4),5,0,x.starInnerScale)}else if(c=="REGULAR_POLYGON"){k=q.p.MP.lB(.5,.5,.5,Math.PI/2,x.count,0);
var a=new cW;a.scale(l,i);q.p.Sp(k,a)}else if(c=="BOOLEAN_OPERATION"){k=[{type:6},{type:8,all:0}];var P=x.children,v=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(x.booleanOperation);
if(v==-1)throw x;if(P==null)P=[];for(var $=0;$<P.length;$++){var R=P[$],y=new h._b,t=i8.aAh(R,J,y);if(y.$==null)continue;
q.p.Sp(y.$,i8.Sr(R.transform));k=k.concat(y.$.slice(2))}for(var $=3;$<k.length;$++)if(k[$].sm!=null)k[$].sm=v}else if(c=="VECTOR"){var g,H,r=3;
if(!0){var _=x.vectorData;if(_==null)return;g=_.normalizedSize;H=_.vectorNetworkBlob}var Y=J[H].bytes,K=new Uint32Array(Y.buffer),f=new Float32Array(Y.buffer),m=K[0],C=K[1],Z=K[2],A=[],d=[],G=[],X=r+m*3,w=X+C*7;
for(var $=0;$<m;$++){var S=r+$*3,z=new ck(f[S+1],f[S+2]);A.push(z)}for(var $=0;$<C;$++){var s=X+$*7;
d.push([K[s+0],K[s+1],f[s+2],f[s+3],K[s+4],f[s+5],f[s+6]])}for(var $=0;$<Z;$++){var M=K[w+1],Q=G[$]=[];
w+=2;for(var O=0;O<M;O++){var W=K[w++],e9=Q[O]=[];for(var jV=0;jV<W;jV++)e9[jV]=K[w+jV];w+=W}}if(w!=K.length)throw"e";
if(Z==0){var co=-1;for(var $=0;$<C;$++){if(co==-1){}else{var dz=-1;for(var O=$;O<C;O++)if(d[O][4]==co)dz=O;
for(var O=$;O<C;O++)if(d[O][1]==co)dz=O;if(dz!=-1){var eh=0,j=d[dz];d[dz]=d[$];d[$]=j;if(j[1]!=co){eh=j[1];
j[1]=j[4];j[4]=eh;eh=j[2];j[2]=j[5];j[5]=eh;eh=j[3];j[3]=j[6];j[6]=eh}}}co=d[$][4]}G.push([[]]);for(var $=0;
$<C;$++)G[0][0].push($)}var a9=[],kB=[];for(var eT=0;eT<G.length;eT++){for(var fv=0;fv<G[eT].length;
fv++){var jS=G[eT][fv],cx=0;if(jS.length>1){var bX=d[jS[0]],gi=d[jS[1]];cx=bX[4]==gi[1]?1:0}for(var $=0;
$<jS.length;$++){var cM=d[jS[$]],ea=1,a1=4;if(cx==0){ea=4;a1=1}var db=A[cM[ea]],d2=A[cM[a1]];if($==0){kB.push("M");
a9.push(db.x,db.y)}kB.push("C");a9.push(db.x+cM[ea+1],db.y+cM[ea+2],d2.x+cM[a1+1],d2.y+cM[a1+2],d2.x,d2.y)}}}k=q.O.XR({j:a9,G:kB},!1);
if(b!=0){var F=[],hu=k[2].length;for(var $=0;$<hu;$++)F.push(b);if(q.p.yp(k))q.p.hi(k,2,F)}var fF=new cW;
fF.scale(g.x==0?1:E.x/g.x,g.y==0?1:E.y/g.y);q.p.Sp(k,fF)}o.$=k};i8.AC=function(x,J){return x[J.sessionID+","+J.localID]};
i8.asp=function(x,J){return x.sessionID==J.sessionID&&x.localID==J.localID};i8.aa$=function(x){var J={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[x];
if(J==null)throw x;return J};i8.vp=function(x){return{t:"Objc",v:q.r.qP({o:x.r*255,I:x.g*255,J:x.b*255})}};
i8.Sr=function(x){if(x==null)return new cW;var J=[x.m00,x.m10,x.m01,x.m11,x.m02,x.m12];for(var $=0;$<6;
$++)if(Math.abs(J[$])<1e-20)J[$]=0;return new cW(J[0],J[1],J[2],J[3],J[4],J[5])};function fC(){}fC.QE=function(){var x=D.it;
function J(u,N,e,B){var j=B?[]:{};while(N<u.length-1&&u[N]!=125){var T=x(u,N,3),a=x(u,N+3,1),P;N+=4;
N++;if(a=="v"){var v=J(u,N,e+1,T=="ELM"||T=="TIL");P=v.b;N=v.z}else if(a=="i"||a=="f"){var R=N;while(u[R]!=125)R++;
var y=x(u,N,R-N);P=a=="i"?parseInt(y,16):parseFloat(y);N=R+1}else if(a=="s"){var t=D.ht(u,N),y="";N+=2;
for(var $=0;$<t;$++)y+=String.fromCharCode(u[N+2*$+1]);P=y;N=N+2*t+1}else if(a=="b"){P=u[N]==49;N=N+2}else throw"e";
if(B)j.push([T,P]);else if(j[T]==null)j[T]=P;else{if(!(j[T]instanceof Array))j[T]=[j[T]];j[T].push(P)}}N++;
return{b:j,z:N}}function o(u,N){var e=c(u).slice(1),u=N.Clr.v;u.Rd.v=e[0]*255;u.Grn.v=e[1]*255;u.Bl.v=e[2]*255}function c(u){return[(u>>>24&255)/255,(u>>>16&255)/255,(u>>>8&255)/255,(u>>>0&255)/255]}function E(u,N){var e=N&4278190080|(N&255)<<16|(N>>>8&255)<<8|N>>>16&255;
new Uint32Array(u.buffer).fill(e)}function b(u,N){var e=u.TSZ,B=u.WPX,j=u.HPX,T=u.TIL,a=new ha(0,0,B,j),P=q.R(B*j*4),v=0;
for(var R=0;R<j;R+=e)for(var y=0;y<B;y+=e){var t=new ha(y,R,e,e),g,H=T[v];if(H[0]=="TMC"){g=q.R(t.P()*4);
E(g,H[1])}else if(H[0]=="TID"){g=N[H[1]]}q.St(g,t,P,a);v++}return[P,a]}function l(u,N){u=new Uint8Array(u);
var e=8,B,j={},C=0;while(e<u.length){var T=D.s(u,e);e+=4;var a=x(u,e,4);e+=4;if(a=="mkTS"){var P=pako.inflate(u.slice(e,e+T)),v=J(P,0,0);
B=v.b}else if(a=="mkBT"){var R=D.s(u,e+4),y=D.s(u,e+8),P=pako.inflate(u.slice(e+76,e+T));if(y==0)for(var $=0;
$<P.length;$+=4){var t=P[$],g=P[$+1],H=P[$+2],_=P[$+3];P[$+3]=t;P[$+2]=_;P[$+1]=H;P[$]=g}else{var Y=q.R(P.length*4);
Y.fill(255);q.Qz(P,Y);P=Y}j[R]=P}e+=T+4}var K=B.PDC,f=K?K instanceof Array?K:[K]:[B.MKB],m=new ha;for(var $=0;
$<f.length;$++){var Z=f[$];m=m.k7(new ha(0,C,Z.WID,Z.HIT));C+=Z.HIT+100}N.m=m.m;N.e=m.e;N.buffer=q.R(m.P()*4);
N.Zy(f.length);C=0;for(var A=0;A<f.length;A++){N.B.push(N.Tv());var Z=f[A],d=Z.WID,G=Z.HIT,r=Z.BGC,X=(Z.LYL?Z:B).LYL.LAY,z=3;
for(var $=0;$<X.length;$++)F(X[$],N,null,j,new cW(1,0,0,1,-Z.XLC,-Z.YLC+C));var w=N._I();N.B.push(w);
var S=new ha(0,C,d,G);C+=G+100;w.dZ(S);if(r>>>24!=0){var s=q.r.qP({o:r>>>16&255,I:r>>>8&255,J:r>>>0&255});
w.add.artb.Clr={t:"Objc",v:s};z=4}w.add.artb.artboardBackgroundType.v=z;w.Yq(Z.PGN?Z.PGN:"Page "+(A+1));
w.add.lsct=es.tm;w.n5="pass";w.Il=24}}function i(u,N,e){var B=u[N];return B instanceof Array?B[e]:B}function F(u,N,e,B,j){var T=N._I();
if(u.VIS!=null)T.Ut(u.VIS);if(u.VIF!=null)T.Ut(u.VIF.VIS);if(u.OPA!=null)T.opacity=Math.round(255*u.OPA/1e3);
T.n5=u.CLL||e=="GRP"?"pass":"norm";if(u.BLD!=null){var a=u.BLD,P={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[a+""];
if(P==null)console.log(u.OBN,a);else T.n5=P;if(a==30)T.opacity>>>=1}if(u.CLL){T.Yq(u.LNM);N.B.push(N.Tv());
var v=u.CLL.CEL;if(v.length==null)v=[v];for(var R=v.length-1;R>=0;R--){var y=v[R].ELM;for(var $=y.length-1;
$>=0;$--)F(y[$][1],N,y[$][0],B,j)}T.add.lsct=u.DIS?es.tI:es.tm;T.Il|=24}else if(e=="GRP"){var t=T.add.lmfx=U(u.EFL),g;
N.B.push(N.Tv());var y=u.ELM;if(u.MNA){g=y[0][1];y=y.slice(1)}T.Yq("Group: "+y.length+" objects");for(var $=y.length-1;
$>=0;$--)F(y[$][1],N,y[$][0],B,j);if(g){if(u.MRX){var H=b(g,B),_=T.F=new h.Tj;_.rect=H[1].clone();_.rect.x=g.XLC;
_.rect.y=g.YLC+j.s7;_.channel=q.R(_.rect.P());q.z$(H[0],_.channel,0);q.Mr(_.channel)}else{k(T,g,j);T.pw();
T.vl(N)}}T.add.lsct=es.tm;T.Il|=24}else if(e=="IMG"){T.Yq(u.OBN?u.OBN:"Bitmap");var H=b(u,B);T.rect=H[1].clone();
T.rect.x=u.XLC;T.rect.y=u.YLC+j.s7;T.buffer=H[0]}else if(e=="TXT"){var Y=u.TFS,K=Y.TRN instanceof Array?Y.TRN.length:1,Z="",A="Arial",d=20,G=0;
T.add.lnsr="rend";T.add.TySh=iv.hK(0,0);T.add.TySh.Ca=new ha(0,0,100,100);var f=new cW(1,0,0,1,u.LFT,u.TOP);
if(u.MTX){var m=u.MTX,_=new cW(m.M00,m.M01,m.M10,m.M11,m.M20,m.M21);f.concat(_)}f.concat(j);T.add.TySh.M=f;
var C=T.add.TySh.TC;for(var $=0;$<K;$++){var r=i(Y,"TRN",$);if(r==null)continue;r=r.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
r=r.replaceAll("\x03","\n").replaceAll("\r","\n");iv.Jq(C,Z.length,r);var X=iv.eU(C,0,1),w=i(Y,"FON",$);
if(w)A=w;iv.UE(X,A);var S=i(Y,"PTS",$);if(S!=null)d=S;X.kJ.FontSize=Math.round(d);var z=i(Y,"LED",$);
if(z!=null){X.kJ.Leading=z*d;X.kJ.AutoLeading=!1}var s=i(Y,"UND",$);if(s!=null){X.kJ.Underline=s}var M=i(Y,"ITL",$);
if(M!=null){X.kJ.FauxItalic=M}var Q=i(Y,"FCL",$);if(Q!=null)G=Q;X.kJ.FillColor={Type:1,Values:c(G)};
var O=i(Y,"JST",$);if(O!=null)X.zR.Justification=[0,2,1,3,5,4,6,7,8][O];iv.oO(C,Z.length,Z.length+r.length,X);
Z+=r}T.Yq(Z.slice(0,255));var W=u.RIT-u.LFT,e9=u.BOT-u.TOP;if(u.IMG){F(u.IMG,N,"IMG",B,j);var jV=N.B.pop();
T.buffer=jV.buffer;T.rect=jV.rect.clone()}iv.Ag(C,1);iv.UC(C,[0,0,W,e9])}else if(e=="PTH"){T.Yq(u.OBN?u.OBN:"Path");
T.Il|=16;var co=!1;k(T,u,j);var dz=T.add.vmsk,eh=T.add.vstk,a9=q.p.d5(dz.$),kB=u.PAT,dc=kB.BPL,eT=kB.FPL,fv=kB.TXF;
if(eT&&eT.FEF)dz._M+=eT.FEF/2.4;if(dc){var jS=dc.CAT;eh.strokeEnabled.v=!0;eh.strokeStyleLineWidth.v.val=dc.BDI;
eh.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bs.Ao.lS[u.BRP];o(kB.BCL,eh.strokeStyleContent.v);
if(jS!="bc_Basic"&&jS!="bc_Pencil")co=!0}eh.fillEnabled.v=eT!=null;if(eT==null){T.add.SoCo=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);
o(0,T.add.SoCo)}else if(eT.CAT=="fc_Solid"){T.add.SoCo=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);o(u.PAT.FCL,T.add.SoCo)}else if(eT.CAT=="fc_Linear"||eT.CAT=="fc_Circular"||eT.CAT=="fc_Elliptical"){var cx=eT.CAT=="fc_Linear",bX=T.add.GdFl=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),gi=bX.Grad.v,cM=[],ea=eT.FGL,a1,db=[];
if(ea.FGY){var d2=ea.FGY,a1=d2.FG0.FGI,db=d2.FG1.FGI}else a1=ea.FGV.FGI;for(var $=0;$<a1.length;$++){var hu=a1[$],fF=c(hu.FGC),il=1;
if(db.length==a1.length)il=c(db[$].FGC)[0];cM.push([hu.FGP,fF.slice(1),il])}bX.Type.v.GrdT=cx?"Lnr":"Rdl";
q.r.p3(cM,gi);gi.Intr.v=0;var f4=u.PRI?u.PRI:u,aK=new ck(f4.PSX,f4.PSY),f9=new ck(f4.PEX,f4.PEY);if(eT.CAT=="fc_Elliptical"&&f4.PFX!=null){var e0=new ck(f4.PFX,f4.PFY),j7=ck.q6(aK,f9),jb=ck.q6(aK,e0);
if(jb<j7){var hN=j7;j7=jb;jb=hN}f9=new ck(aK.x+(j7+jb)/2,aK.y);if(j7/jb<.5)co=!0}if(cx){aK.x=(aK.x+f9.x)/2;
aK.y=(aK.y+f9.y)/2}q.r.Bk(aK,f9,a9,bX)}else console.log(eT.CAT);var t=T.add.lmfx=U(u.EFL,dz);if(eT&&eT.FTB!=0&&fv){var H=b(fv.MSK,B),fe={};
fe.id=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f";fe.name="someImage";fe.Gc=H;N.K0(fe);var a3=H[0];for(var $=0;
$<a3.length;$+=4){a3[$+3]=255-a3[$];a3[$]=a3[$+1]=a3[$+2]=255}var bX=JSON.parse(bs.Kl[bs.order.indexOf("patternFill")]);
bX.Opct.v.val=Math.round(eT.FTB/10);bX.Algn.v=!0;bX.Ptrn.v.Idnt.v=fe.id;t.patternFillMulti.v.unshift({t:"Objc",v:bX})}if(co&&u.IMG){F(u.IMG,N,"IMG",B,j);
var bH=N.B[N.B.length-1];bH.opacity=T.opacity;return}T.pw();T.vl(N)}else if(e=="URL")return;else{console.log("unknown layer type",e,u);
T.Yq("Layer")}N.B.push(T)}function k(u,N,e){if(N.PBL==null)return;var B=u.add.vmsk=new h._b,j=u.add.vstk=bs.Ao.Bt(!0),T=N.PBL.PBP;
if(!(T instanceof Array))T=[T];for(var a=0;a<T.length;a++){var P=T[a].PBT;if(P==null)continue;if(!(P instanceof Array))P=[P];
var v=T[a].ISC?0:3;B.$.push({type:v,length:P.length,sm:0,tX:2,hu:0,Ab:0});for(var $=0;$<P.length;$++){var R=P[$],y=R.XLC,t=R.YLC,g=[y,t,y,t,y,t],H="XPC YPC XLC YLC XSC YSC".split(" ");
for(var _=0;_<6;_++){var Y=H[_],K=R[Y];if(K!=null)g[_]=K}B.$.push({type:v+2,L:new ck(y,t),HN:new ck(g[0],g[1]),Dq:new ck(g[4],g[5])})}}q.p.Sp(B.$,e)}function U(u,N){var e=JSON.parse(bs.default);
for(var $=0;$<bs.order.length;$++)e[bs.x0[$]]={t:"VlLs",v:[]};if(u==null||u.EPS==null)return e;var B=u.EPS;
if(!(B instanceof Array))B=[B];for(var $=0;$<B.length;$++){var j=B[$].DCE,T={};for(var a=0;a<j.length;
a++)T[j[a].DCK]=j[a].DCV;if(T.EffectIsVisible=="false")continue;var P=T.mkbFile_WriteOnly_TemporaryEffectUiName;
if(P=="Gaussian Blur..."&&N){N._M+=parseFloat(T.gaussian_blur_radius);continue}var v=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(P);
if(v==-1){continue}var R=["DrSh","ebbl","IrGl","OrGl"][v],y=bs.x0[bs.order.indexOf(R)],t=JSON.parse(bs.Kl[bs.order.indexOf(R)]);
e[y].v.unshift({t:"Objc",v:t});if(R=="DrSh"){t.uglg.v=!1;I(T,"ShadowDistance",t,"Dstn");I(T,"ShadowBlur",t,"blur");
I(T,"ShadowAngle",t,"lagl",180);t.Opct.v.val=100;V(T,"ShadowColor",t,"Clr")}if(R=="IrGl"){t.Md.v.BlnM="Nrml";
var g=T.MaskSoftness,H=T.GlowWidth;if(g&&H){g=parseInt(g);H=parseInt(H);t.blur.v.val=H+g;t.Ckmt.v.val=Math.round(100*H/(H+g))}I(T,"BevelContrast",t,"Opct");
V(T,"OuterBevelColor",t,"Clr")}if(R=="OrGl"){t.Md.v.BlnM="Nrml";var g=T.MaskSoftness,H=T.GlowWidth;if(g&&H){g=parseInt(g);
H=parseInt(H);t.blur.v.val=H+g}I(T,"BevelContrast",t,"Opct");V(T,"OuterBevelColor",t,"Clr")}if(R=="ebbl"){t.uglg.v=!1;
I(T,"BevelWidth",t,"blur");I(T,"AngleSoftness",t,"Sftn");I(T,"BevelContrast",t,"srgR");I(T,"LightAngle",t,"lagl")}}return e}function I(u,N,e,B,j){var T=u[N];
if(j==null)j=0;if(T)e[B].v.val=parseInt(T)+j}function V(u,N,e,B){var j=u[N];if(j){j=j.slice(1);if(j.length==6)j=j+"ff";
if(j.length!=8)throw"e";var T=c(parseInt(j,16)),a=e[B].v;a.Rd.v=T[0]*255;a.Grn.v=T[1]*255;a.Bl.v=T[2]*255;
e.Opct.v.val=Math.round(e.Opct.v.val/100*T[3]*100)}}return l}();var k5=function(){function x(E){var b=new Uint8Array(E.length);
D.wZ(b,0,E);return b}function J(E){var b=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",x("")],l=b.length,F=0;
b.push("<< /AIMetaData  "+(l+2)+" 0 R /AIPrivateData1 "+(l+3)+" 0 R  /AIPrivateData2 "+(l+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
b.push(x(""));b.push(x(""));b.push(E);var i=new ih,k=[];function U(N){D.qN(i,F,N);F+=N.length}U("%PDF-1.5\n");
for(var $=0;$<b.length;$++){k.push(F);U($+1+" 0 obj\n");var I=b[$];if(typeof I=="string")U(b[$]+"\n");
else{var V=pako.a7Z(I);U("<< /Length "+V.length+" /Filter [ /FlateDecode ] >>\nstream\n");i.Qy(F,V.length);
i.data.set(V,F);F+=V.length;U("\nendstream\n")}U("endobj\n")}var u=F;U("xref\n0 "+(k.length+1)+"\n0000000000 65535 f\r\n");
for(var $=0;$<k.length;$++)U((k[$]+"").padStart(10,"0")+" 00000 n\r\n");U("trailer\n<< /Root 1 0 R /Size "+(k.length+1)+" >>\nstartxref\n"+u+"\n%%EOF\n");
return i.data.slice(0,F)}function o(E,b){var l=Date.now(),i=new Uint8Array(E),F,k=i[2]==68;if(b)console.log(!k?"EPS":"PDF");
if(k){var U=D.C8(i,"/AIMetaData "),g=!1,H=!1;while(i[U]!=60)U--;U--;var I=D.C8(i,">>",U),V=D.it(i,U+2,I-U-2).split("/"),u=[];
for(var $=0;$<V.length;$++){var N=V[$],e=N.startsWith("AIPrivateData"),B=N.startsWith("AIPDFPrivateData");
if(!e&&!B)continue;var j=N.trim().split(/\s+/),T=parseInt(j[1]),a=parseInt(j[0].slice(e?13:16));u.push([a,T])}if(b)console.log("--- map made",Date.now()-l);
l=Date.now();var P=FromPDF.indexOfXref(i),v=[],R=FromPDF.readXrefTrail(i,P,v),y={buff:i,off:0},t=new Array(u.length),_=U;
for(var $=0;$<u.length;$++){var a=u[$][0],T=u[$][1],Y=FromPDF.getIndirect(T,0,y,v),K=Y.buff,f=Y["/Filter"],m=0;
if(f!=null&&typeof f=="string")f=[f];var C=D.it(K,m,m+20);if(C=="%AI12_CompressedData"){m+=20;g=!0}else if(C=="%AI24_ZStandard_Data"){m+=20;
H=!0}K=new Uint8Array(K.buffer,K.byteOffset+m,K.length-m);if(f)for(var Z=0;Z<f.length;Z++){var A=f[Z];
if(A=="/FlateDecode")K=pako.inflate(K);else if(A=="/ASCIIHexDecode")K=FromPS.F.HexDecode({buff:K,off:0});
else if(A=="/ASCII85Decode")K=FromPS.F.ASCII85Decode({buff:K,off:0});else throw A}t[a-1]=K}if(b)console.log("--- arrays found",Date.now()-l);
l=Date.now();var d=D.it(t[0],0,13);if(d=="%%BoundingBox"||d=="%AI7_Thumbnai")t=t.slice(1);if(d=="%AI24_ZStanda"){t[0]=t[0].slice(20);
H=!0}if(D.it(t[0],0,13)=="%AI12_Compres"){t[0]=t[0].slice(20);g=!0}F=c(t);if(b)console.log("--- concatenated",Date.now()-l);
l=Date.now();if(g)F=UZIP.inflate(F);if(H)F=hR.gp.Nd(F);if(b)console.log("--- inflated",Date.now()-l);
l=Date.now()}else{var G=D.cA(i);if(G.indexOf("%AI5_BeginLayer")!=-1){F=i}else{var r=G.split(/[\n\r]+/),X=[],w=!1;
for(var S=0;S<r.length;S++){var z=r[S].trim();if(z=="%AI9_PrivateDataEnd"){w=!1;break}else if(z=="%AI9_DataStream"||z=="%AI24_DataStream"){w=!0}else if(w)X.push(z.slice(1))}var s=D.Ey(X.join("")),M=FromPS.F.ASCII85Decode({buff:s,off:0});
if(M[0]==120&&M[1]==156)F=UZIP.inflate(M);else F=hR.gp.Nd(M)}}return F}function c(E){var b=0,i=0;for(var $=0;
$<E.length;$++)b+=E[$].length;var l=new Uint8Array(b);for(var $=0;$<E.length;$++){var F=E[$];l.set(F,i);
i+=F.length}return l}return{a7c:o,a19:J}}();function e2(){}e2.QE=function(){function x(C,Z,A){var d=!1,G=Date.now(),r=k5.a7c(C,d);
if(d)console.log("part found",Date.now()-G);G=Date.now();var X=g(r),w=X.Layer,S=X.Header;if(d)console.log(X);
var z=X.Setup.TextDocument,s=w[0];s=X.Layer[0];if(d)console.log("document parsed",Date.now()-G);G=Date.now();
X.Setup.Gradient=t(X.Setup.Gradient,r);if(d)console.log("grads loaded",Date.now()-G);G=Date.now();X.Setup.Pattern=R(X.Setup.Pattern,r);
if(d)console.log("patts loaded",Date.now()-G);G=Date.now();X.Setup.Palette=y(X.Setup.Palette,r);if(d)console.log("palet loaded",Date.now()-G);
G=Date.now();var M=P(X.Setup.DocumentData,r),Q=v(M);X.Setup.DocumentData=M.pop();if(d)console.log("docdata loaded",Date.now()-G);
G=Date.now();X.Setup.SVGFilter=P(X.Setup.SVGFilter,r);if(d)console.log("svgfilter loaded",Date.now()-G);
G=Date.now();var O=S.Cropmarks,W=S.BoundingBox.split(" ").map(parseFloat),e9=S.ArtSize?S.ArtSize.split(" ").map(parseFloat):[W[2]-W[0],W[3]-W[1]];
Z.m=Math.round(e9[0]);Z.e=Math.round(e9[1]);var jV=[1,0,0,1,-W[0]+(Z.m-(W[2]-W[0]))/2,-W[1]+(Z.e-(W[3]-W[1]))/2];
jV[3]=-1;jV[5]=Z.e-jV[5];if(O){O=O.split(" ").map(parseFloat);Z.m=Math.round(O[2]-O[0]);Z.e=Math.round(O[3]-O[1]);
jV=[1,0,0,-1,-O[0],Z.e+O[1]]}var M=X.Setup.DocumentData,co=[],dz=[];if(M&&M[0]&&M[0].ArtboardArray){var co=M[0].ArtboardArray;
if(co.length!=1)console.log(co.length,"artboards");var eh=new ha;for(var $=0;$<co.length;$++){var a9=co[$],kB=a9.PositionPoint1,dc=a9.PositionPoint2,eT=kB[0],fv=Math.min(kB[1],dc[1]),jS=dc[0],cx=Math.max(kB[1],dc[1]),bX=new ha(eT,fv,jS-eT,cx-fv);
dz.push(bX);eh=eh.k7(bX)}Z.m=Math.round(eh.m);Z.e=Math.round(eh.e);jV[4]=-eh.x;jV[5]=eh.y+Z.e}if(M&&M[0]&&M[0]["#document"]){var gi=M[0]["#document"],cM=gi["xmlnode-children"][0];
if(cM&&cM["xmlnode-children"])cM=cM["xmlnode-children"][0];if(cM["xmlnode-nodename"]=="variableSets"){var ea=cM["xmlnode-children"][0]["xmlnode-children"],a1=ea[0],db=ea[1],d2=m(a1);
Z.Jr=aG.acQ("<variableSets><variableSet>"+d2+"</variableSet></variableSets>");if(db){var hu=m(db),fF=Z.V8=aG.anp(hu);
for(var $=0;$<fF.length;$++)for(var il=0;il<fF[$].length;il++)fF[$][il]=fF[$][il].trim()}}}var f4=1/iX.tW(new ha(0,0,Z.m,Z.e),8192*8192);
while(Math.max(Z.m*f4,Z.e*f4)<800)f4*=2;while(A&&Math.max(Z.m*f4,Z.e*f4)<Math.max(A[0],A[1]))f4++;Z.m=Math.round(Z.m*f4);
Z.e=Math.round(Z.e*f4);Z.yV=Math.round(72*f4);for(var $=0;$<6;$++)jV[$]*=f4;var aK=[];if(co.length!=[1,0][b5]){var f9=b5==0?Z.B:[];
f9.push(Z.Tv());for(var $=0;$<dz.length;$++){var a9=co[$],bX=dz[$],e0=Z._I();e0.Yq(a9.Name);f9.push(e0);
e0.add.SoCo=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);var j7=e0.add.SoCo.Clr.v;I(j7,[1,1,1]);var eT=bX.x,fv=bX.y,jS=eT+bX.m,cx=fv+bX.e,jb=[eT,fv,jS,fv,jS,cx,eT,cx];
q.O.M(jb,u(jV),jb);B(e0,{cmds:["M","L","L","L","Z"],crds:jb},Z,0);e0.add.vstk=bs.Ao.Bt(!0);var A=q.O.Cg(jb);
aK.push({LB:a9.Name,YP:[A.x,A.y,A.x+A.m,A.y+A.e],g:a9.IsArtboardSelected})}var e0=Z._I();e0.Yq("_Artboards_");
e0.add.lsct=es.tm;e0.n5="pass";e0.Il=24;f9.push(e0)}else aK=[{LB:"Artboard",YP:new ha(0,0,Z.m,Z.e)}];
if(b5==1)Z.add.arts=aK;o=[0,0,0];c=[0,0,0];E="SoCo";b="SoCo";for(var hN=0;hN<w.length;hN++){var fe=w[hN];
fe.Raster=J(fe,"Raster");fe.Place=J(fe,"Place");var hn=T(r,fe);l(Z,hn,jV,X,fe,r)}if(b5==0)for(var $=0;
$<Z.B.length;$++){var e0=Z.B[$];if(e0.j1){Z.B.splice($,1);var a3=Z.B[$];a3.add.vmsk=e0.add.vmsk;a3.add.vogk=e0.add.vogk;
a3.vl(Z)}}else{}if(d)console.log("layers created",Date.now()-G);G=Date.now()}function J(C,Z){var A=C.Layer,d=C[Z];
if(d==null)d=[];if(A){for(var $=0;$<A.length;$++){var G=A[$],r=G[Z]=J(G,Z);d=d.concat(r)}d.sort(function(X,w){return X._begin-w._begin})}return d}var o,c,E,b;
function l(C,Z,A,d,G,r){var X=[],w=0,S="",z=!1,s={},M=UDOC.G,Q=UDOC.getState(),O="norm",W=1,e9=0,jV=!1,co=0,dz=!1,eh=!0,a9=null,kB=!1,dc=0,eT=null,fv,jS,cx=0,bX=0,gi=0,db=0,d2=!1;
Q.ctm=A;var cM=[0,0],ea=[],a1=[];for(var hu=0;hu<Z.length;hu++){var fF=Z[hu],j7=1e9;if(fF[0]=="%"){if(fF=="%_/ArtDictionary :"&&dc==0)a9=[fF.slice(2)];
else if(a9!=null){if(fF=="%_"&&dc==0){var il=Y(a9)[0],f4=C.B[C.B.length-1],aK=il.AI10_ArtUID,f9=il.BBAccumRotation;
if(aK&&!aK.startsWith("XMLID"))f4.Yq(f(aK));if(f9&&f4.add.vmsk)f4.add.vmsk.xq=parseFloat(f9);a9=null}else{a9.push(fF.slice(kB?1:2));
if(fF=="%_X=")dc++;if(fF=="%_X+")dc--;if(fF=="%_/Binary : /ASCII85Decode ,")kB=!0;if(kB&&fF.endsWith("~>"))kB=!1}}else if(eT){fv+=(fv==""?"":" ")+fF.slice(2);
if(fv.endsWith("X#")){eT.push(fv.slice(0,fv.length-3));fv=""}}continue}else if(fF=="/Mesh X!"){eT=[];
fv="";continue}else if(fF=="/End X!"){k(eT,Q,C);eT=null;continue}var e0="Xa XR m l c f U u *U w J j M d".split(" "),jb=-1,hN=fF.indexOf("(")!=-1;
for(var $=0;$<e0.length;$++){var fe=fF.indexOf(" "+e0[$]+" ");if(fe!=-1&&fe<j7&&!hN){j7=fe;jb=$}}if(jb!=-1){z=!0;
var hn=j7+1+e0[jb].length;Z[hu]=fF.slice(0,hn);var a3=Z[hu+1];if(a3==null||a3[0]=="%"||jb>9)Z.splice(hu+1,0,fF.slice(hn));
else Z[hu+1]=(fF.slice(hn)+" "+a3).replace(/\s\s+/g," ");hu--;continue}fF=fF.trim();var bH=fF.split(" "),jB=bH[bH.length-1],jH=jB.toLowerCase(),dL=bH.map(parseFloat);
if(jB=="m")M.moveTo(Q,dL[0],dL[1]);else if(jB=="L"||jB=="l")M.lineTo(Q,dL[0],dL[1]);else if(jB=="V"||jB=="v"){var aq=Q.pth.crds,is=Q.cpos[0],dh=Q.cpos[1];
M.curveTo(Q,is,dh,dL[0],dL[1],dL[2],dL[3]);var j_=aq.length;aq[j_-6]=is;aq[j_-5]=dh}else if(jB=="Y"||jB=="y")M.curveTo(Q,dL[0],dL[1],dL[2],dL[3],dL[2],dL[3]);
else if(jB=="C"||jB=="c")M.curveTo(Q,dL[0],dL[1],dL[2],dL[3],dL[4],dL[5]);else if(jB=="H"||jB=="h"){if(jB==jH)M.closePath(Q);
if(!jV){var cH=C._I();C.B.push(cH);cH.Yq("<Clipping Path>");cH.j1=!0;cH.add.vstk=bs.Ao.Bt();cH.add.SoCo=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);
B(cH,Q.pth,C,e9)}else dz=!0}else if(jB=="XR"){e9=dL[0]}else if(jB=="Xy"){O=e2.arV[dL[0]];W=dL[1];if(O==null){O="norm";
console.log("unknown blend mode",dL[0])}}else if(jB=="Xd"){var f4=C.B[C.B.length-1];f4.opacity=Math.round(255*W);
f4.n5=f4.Zk()&&O=="norm"?"pass":O}else if(jB=="AE")cx=dL[0];else if(jB=="Ae")bX=dL[0];else if(jB=="Xw")gi=dL[0];
else if(jB=="*"){var bK=Q.pth.crds,eC=Q.ctm,fe=bK[0]==bK[2]?0:1;C.Kt.push([fe,bK[fe]]);M.newPath(Q)}else if(jB=="XN")jS=fF.split(" ")[0];
else if(jB=="XI"){var fp=G.Raster,jq,az;if(fp==null||fp.length==0){console.log("no Raster");continue}if(fF!="XI"){continue}else{var de=fp[w++];
if(de.Data)de=de.Data;var g3=de._begin,hJ=de._end;while(r[g3]!=88)g3++;g3+=3;jq=r.slice(g3,hJ);az=Z[hu-2].split(" ").map(parseFloat)}var kc=az.slice(8),bc=kc[2],kd=kc[3],jR=bc*kd,im=q.R(jR*4);
im.fill(255);var dO=kc[7],jd=kc[8],gJ=kc[6],iA=Math.ceil(bc*dO*gJ/8);if(dO==1){if(gJ==8)for(var $=0;
$<jR;$++)for(var gj=0;gj<3;gj++)im[4*$+gj]=jq[$];else if(gJ==1)for(var jG=0;jG<kd;jG++)for(var eG=0;
eG<bc;eG++)for(var gj=0;gj<3;gj++)im[4*(jG*bc+eG)+gj]=255*(jq[jG*iA+(eG>>>3)]>>>7-(eG&7)&1);else throw gJ}else if(dO==3)for(var $=0;
$<jR;$++)for(var gj=0;gj<3;gj++)im[4*$+gj]=jq[3*$+gj];else if(dO==4||dO==5)for(var $=0;$<jR;$++){var el=N([jq[dO*$+0]/255,jq[dO*$+1]/255,jq[dO*$+2]/255,jq[dO*$+3]/255]);
im[4*$+0]=el[0]*255;im[4*$+1]=el[1]*255;im[4*$+2]=el[2]*255}else if(dO==7)for(var $=0;$<jR;$++){im[4*$+0]=jq[dO*$+0];
im[4*$+1]=jq[dO*$+1];im[4*$+2]=jq[dO*$+2]}else console.log("unknown number of channels",dO);if(jd==1){var gp=kd*iA;
for(var $=0;$<jR;$++)im[4*$+3]=jq[gp+$]}var ar=q.u2(im,bc,kd)?"JPG":"PNG";if(bc*kd<700*700)ar="PNG";
var jY=hR.rb(ar).Jy([[im.buffer]],bc,kd),fH=C.cv(new Uint8Array(jY),"<Image>",0,0);C.B.push(fH);fH.n5=O;
fH.opacity=Math.round(255*W);fH.Ut(gi==0);var iH=new cW;iH.scale(1,-1);iH.concat(u(az.slice(1)));iH.concat(u(Q.ctm));
var cz=fH.add.SoLd,cw=cz.Sz.v,eP=new ha(0,0,cw.Wdth.v,cw.Hght.v),bH=q.O.ny(eP).j;q.O.M(bH,iH,bH);fH.add.SoLd.Trnf=n.Y.AA(bH);
fH.add.SoLd.nonAffineTransform=n.Y.AA(bH);fH.aW(C,!1)}else if(jB=="Ln"){X.push(U(fF))}else if(jB=="u"||jB=="q"||jB=="Lb"){ea.push(bX==1);
a1.push((jB=="Lb"?1-dL[0]:gi)==0);if(jV)continue;C.B.push(C.Tv())}else if(jB=="U"||jB=="Q"||jB=="LB"){if(ea.length==0||a1.length==0)throw hu;
var c3=ea.pop(),hg=a1.pop();if(jB=="LB")c3=cx==1;if(jV)continue;var fH=C._I();fH.Yq((jB=="U"?"<Group>":"<Clip Group>")+S);
if(jB=="LB")fH.Yq(X.pop());fH.add.lsct=c3?es.tI:es.tm;fH.n5="pass";fH.Il=24;fH.Ut(hg);C.B.push(fH);if(d2){if(C.B[C.B.length-3].getName()=="</Layer group>"){C.B.pop();
C.B.splice(C.B.length-2,1)}d2=!1}}else if(jB=="Bb")eh=dL[0]!=1;else if(jB=="BB"){}else if(jB=="Bm"||jB=="Bc"||jB=="Xm"){}else if(jB=="Bh")cM=dL.slice(2,4);
else if(jB=="Bg"){var eQ=d.Setup.Gradient,gM=eQ[U(fF)],bH=fF.slice(fF.indexOf(")")+2).split(" ").map(parseFloat);
if(gM==null){console.log("gradient not found");for(var hZ in eQ){gM=eQ[hZ];break}}var ev=bH[10];if(isNaN(ev))ev=1;
var ay=bH.slice(0,4);ay.push(ev,cM[0],cM[1]);var a$=[gM.jP,gM.a7D,ay,bH.slice(4,10)];F(a$,"GdFl",eh)}else if(jH=="p"){var g6=U(fF);
if(C.Qr[g6]==null){var ik=d.Setup.Pattern[g6],dV=ik.YP,bc=Math.round(dV[2]-dV[0]),kd=Math.round(dV[3]-dV[1]),il=new hk;
il.m=bc;il.e=kd;il.buffer=q.R(bc*kd*4);var kE=A[0],iH=new cW(1,0,0,-1,-ik.YP[0],kd+ik.YP[1]);iH.concat(new cW(kE,0,0,kE,0,0));
l(il,ik.AQ,[iH.V,iH.J,iH.xt,iH.Lu,iH.Iw,iH.s7],d,G,r);il.m*=kE;il.e*=kE;il.NT();il.W();if(b5==0)il.Q4();
window.agb=ik.AQ;C.Qr[g6]=il}var fG=fF.slice(fF.indexOf(")")+2),jZ=fG.slice(0,fG.indexOf("[")-1).split(" ").map(parseFloat),hV=fG.slice(fG.indexOf("[")+1,fG.indexOf("]")).split(" ").map(parseFloat);
F([g6,[jZ,hV]],"patt",jB=="p")}else if(jB=="J"||jB=="j"||jB=="w"||jB=="M"||jB=="d"){for(var $=1;$<bH.length;
$++){var kx=bH[$],iw=dL[$-1];if(kx=="w")Q.lwidth=iw;if(kx=="j")Q.ljoin=iw;if(kx=="J")Q.lcap=iw;if(kx=="M")Q.mlimit=iw;
if(kx=="d"){var ic=fF.slice(fF.indexOf("[")+1,fF.indexOf("]")).trim();if(ic.length!=0){var aB=ic.split(" ").map(parseFloat);
Q.dash=aB}else if(ic=="")Q.dash=[]}}}else if(jH=="xa"||jH=="xx"){var gm=e(fF);F(gm,"SoCo",jB=="Xa"||jB=="Xx")}else if(jH=="xk"){gm=e(fF);
F(gm,"SoCo",jB=="Xk")}else if(jH=="k"||jH=="x"){gm=e(fF);F(gm,"SoCo",jB==jH)}else if(jH=="g"){var gm=[dL[0],dL[0],dL[0]];
F(gm,"SoCo",jB==jH)}else if(jH=="n"){if(!jV)M.newPath(Q)}else if(jB=="*u"){jV=!0;co=0;a1.push(gi==0)}else if(jB=="*U"||jH=="s"||jH=="f"||jH=="b"){if(jB!="*U"&&jV){if(jH=="f"||jH=="b")co|=1;
if(jH=="s"||jH=="b")co|=2;continue}if(jB==jH)M.closePath(Q);if(jB=="*U"){jV=!1}var fH;{fH=C._I();fH.Il|=16;
B(fH,Q.pth,C,e9);var fc=jH=="f"||jH=="b"||jB=="*U"&&co&1,bO=jH=="s"||jH=="b"||jB=="*U"&&co&2,eu=fH.add.vstk=bs.Ao.Bt(fc,bO),aQ=bs.zs.Bt();
aQ.TK=aQ.ma=null;var iH=Q.ctm,kE=Math.sqrt(Math.abs(iH[0]*iH[3]-iH[1]*iH[2]));bs.zs.write(aQ,Q,kE);if(fc)aQ.TK=o;
if(bO)aQ.ma=c;if(b5==0){bs.Ao.write(eu,Q,kE);if(E=="SoCo"){fH.add.SoCo=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);
var jf=fH.add.SoCo.Clr.v;I(jf,o)}if(E=="GdFl"){fH.add.GdFl=e2.aeX(o,fH.add.vmsk.$)}if(E=="patt"){fH.add.PtFl=i(o,C)}if(bO){var fz=["SoCo","GdFl","patt"].indexOf(b);
console.log(b,fz);var gr=fz==0?{Clr:{t:"Objc",v:ka.$S(c)}}:fz==1?e2.aeX(c,fH.add.vmsk.$):i(c,C),hK=[bs.MA,bs.Xp,bs.X2][fz],jU=eu.strokeStyleContent.v={classID:bs.Ao.Ce[fz]};
for(var $=0;$<hK.length;$++)jU[hK[$]]=gr[hK[$]]}}else fH.add.vstl=aQ}if(jB=="*U"&&dz){fH.j1=!0;dz=!1}fH.Yq("<"+(jB=="*U"?"Compound ":"")+"Path>"+S);
fH.n5=O;fH.opacity=Math.round(255*W);fH.Ut(jB=="*U"?a1.pop():gi==0);fH.vl(C);C.B.push(fH);M.newPath(Q)}else if(jB==","&&bH[0]=="/XMLUID"){var f4=C.B[C.B.length-1];
for(var $=0;$<C.Jr.length;$++)if("("+C.Jr[$].docRef+")"==bH[2])C.Jr[$].docRef="id('"+f4.add.lyid+"')"}else if(jB==","&&bH[1]=="/FreeUndo"){db=dL[0]}else if(jB==","&&bH[1]=="/StoryIndex"){var aC=d.Setup.TextDocument,j6=null;
if(!(aC instanceof Array))window.ano=aC=d.Setup.TextDocument=a(aC,r);var hj=aC[0],g_=aC[2];if(hj._DocumentResources)hj=aC[0]=dE.apm(hj);
else dE.alk(hj);var fH=C._I();fH.add.lnsr="rend";fH.add.TySh=iv.hK(0,0);var jI=dL[0];if(db==1){for(var $=1;
$<60;$++){var a3=Z[hu+$];if(a3&&a3.endsWith("/StoryIndex ,")){jI=parseFloat(a3.slice(2,a3.indexOf(" ")));
d2=!0;break}}db=0}var gH=c9.a3B(hj),d3=fH.add.TySh.TC=gH[jI];if(d3==null){console.log("text not found");
d2=!1;continue}fH.Yq(iv.K1(d3).slice(0,50));fH.n5=O;fH.opacity=Math.round(255*W);fH.Ut(gi==0);var eB=hj._1._1[jI]._1._0[0]._0;
eB=parseInt(eB.slice(1));var eI=hj._0._8._0,ak=eI[eB]._0;if(ak._0)j6=V(ak._0);else if(ak._1)j6=V(ak._1._0);
else j6=V(ak._2._2).slice(3);if(j6.length!=2){var dV=q.O.Cg(j6);j6=[dV.x,dV.y];if(dV.P()!=0){iv.Ag(d3,1);
iv.UC(d3,[0,0,Math.round(dV.m),Math.round(dV.e)])}}var fU=new cW,b$=new cW(1,0,0,1,j6[0],j6[1]),hW=new cW(1,0,0,1,-g_[0],-g_[1]),gI=u(Q.ctm),d_=new cW;
if(ak._2&&ak._2._2){var A=V(ak._2._2);d_=new cW(A[0],A[1],A[2],A[3],A[4],A[5])}fU.concat(b$);fU.concat(d_);
fU.concat(hW);fU.scale(1,-1);fU.concat(gI);fH.add.TySh.M=fU;C.B.push(fH);C.C6=!0}else if(jB=="Tp"){s.ng=u(dL)}else if(jB=="Tf"){s.font=bH[0].slice(2)}else if(jB=="Tk"){var fH=C._I();
fH.add.lnsr="rend";var fI=fH.add.TySh=iv.hK(0,0),d3=fI.TC,iH=s.ng.clone(),cw=iH.z1();iH.concat(u(Q.ctm));
var aP=new cW(1/cw,0,0,-1/cw,0,0);aP.concat(iH);fI.M=aP;var ed=U(fF);fH.Yq(ed);iv.Jq(d3,0,ed);var jN=iv.eU(d3,0,ed.length);
jN.kJ.FontSize=cw;jN.kJ.FillColor={Type:1,Values:[1,o[0],o[1],o[2]]};iv.UE(jN,s.font);iv.oO(d3,0,ed.length,jN);
C.B.push(fH);C.C6=!0}else if(z&&dL.length>3){var ep=!1;for(var $=0;$<dL.length;$++)if(isNaN(dL[$]))ep=!0;
if(!ep)Z[hu+1]=(fF+" "+Z[hu+1]).replace(/\s\s+/g," ")}}}function i(o,C){if(C.Ci==null)C.Ci={};var Z=C.Ci[o[0]];
if(Z==null){var A=C.Qr[o[0]],Z=C.Ci[o[0]]={};Z.id=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f";Z.name="someImage";
Z.Gc=[A.or(),new ha(0,0,A.m,A.e)];C.K0(Z)}var d=JSON.parse(bs.Kl[bs.order.indexOf("patternFill")]);d.Ptrn.v.Idnt.v=Z.id;
var G=u(o[1][1]),r=-Math.atan2(-G.J,G.V);d.Angl.v.val=Math.round(r*180/Math.PI);d.Scl.v.val=Math.round(100*G.z1());
return d}e2.aeX=function(C,Z){var A=e2.aBy(C,Z),d=[0,0,1,0];if(C[0]==0)d[0]=.5;q.O.M(d,A,d);var G=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),r=G.Grad.v;
r.Intr.v=0;G.Type.v.GrdT=["Lnr","Rdl"][C[0]];q.r.p3(C[1],r);q.r.Bk(new ck(d[0],d[1]),new ck(d[2],d[3]),q.p.d5(Z),G);
return G};e2.RB=function(C,Z){var A=["Lnr","Rdl"].indexOf(C.Type.v.GrdT),d=q.p.d5(Z),G=q.r.Fi(C,d),r=G[0],X=G[1];
if(A==0){r.x-=X.x-r.x;r.y-=X.y-r.y}var w=X.x-r.x,S=X.y-r.y,z=Math.sqrt(w*w+S*S),s=new cW;s.rotate(Math.atan2(-S,w));
s.scale(z,z);s.translate(r.x,r.y);var M=e2.aAd(A,s,d),Q=C.Grad.v;M[1]=q.r.nL(Q,null,null);return M};
e2.aAd=function(C,Z,A){Z.translate(-A.x,-A.y);var d=A.m,G=A.e,r,X,w=Math.atan2(-Z.J,Z.V),S;if(C==0){Z.translate(-d/2,-G/2);
var z=e2.aq5(d,G,w);Z.scale(1/z,1/z);Z.rotate(-w);Z.scale(1/d,1/G);r=Z.Iw+.5;X=Z.s7+.5;S=Z.V}else{r=Z.Iw/d-.5;
X=Z.s7/G-.5;var s=(r-.5)*d/2,M=(X-.5)*G/2;S=Z.z1()/Math.sqrt(2*(s*s+M*M))}return[C,null,[r,X,w*180/Math.PI,S,1,0,0],[1,0,0,1,0,0]]};
e2.aBy=function(C,Z){var A=C[0],d=C[2],G=C[3],r=new cW(G[0],G[1],G[2],G[3],G[4],G[5]);r.Mr();var X=h._b.AL(Z);
q.p.Sp(X,r);var w=q.p.d5(X),S=w.m,z=w.e,s=d[0],M=d[1],Q=d[2]*Math.PI/180,O=d[3],W=new cW;if(A==0){W.scale(O,O);
W.translate(s-.5,M-.5);W.scale(S,z);W.rotate(Q);var e9=e2.aq5(S,z,Q);W.scale(e9,e9);W.translate(S/2,z/2)}else{var jV=(s-.5)*S/2,co=(M-.5)*z/2,e9=O*Math.sqrt(2*(jV*jV+co*co));
W.scale(e9,e9*d[4]);W.rotate(Q);W.translate((s+.5)*S,(M+.5)*z)}W.translate(w.x,w.y);W.concat(new cW(G[0],G[1],G[2],G[3],G[4],G[5]));
return W};function F(C,Z,A){if(A){E=Z;o=C}else{b=Z;c=C}}function k(C,Z,A){var d=UDOC.G,G=[],r=[],X="/DeviceGray",w=1,S=[],z=1;
for(var s=0;s<C.length;s++){var M=C[s];if(M.endsWith(" /CS")){var Q=M.indexOf("/NChannel"),O=M.indexOf("/Process");
if(M.startsWith("/DeviceRGB")){X="/DeviceRGB";w=3}else if(M.startsWith("/DeviceGray")){X="/DeviceGray";
w=1}else if(M.startsWith("/DeviceCMYK")){X="/DeviceCMYK";w=4;S=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(Q!=-1){X="/DeviceCMYK";
w=parseInt(M.slice(Q-2,Q-1));var W=1;for(var $=0;$<w;$++){W=M.indexOf("[",W);S[w-1-$]=M.slice(W+1,W+8).split(" ").map(parseFloat);
W++}}else if(O){X="/DeviceGray";w=1}else throw M}else if(M[0]=="["){var e9=M.indexOf("]"),jV=M.slice(1,e9).split(" ").map(parseFloat),co=M.slice(e9+2),dz,eh,a9,kB,dc,eT;
if(co=="/Size"||co=="/P"||co=="/R")continue;if(co=="/S"||co=="/A"){dz=jV[0];eh=jV[1];a9=jV[2];kB=jV[3];
dc=jV[4];eT=jV[5]}else if(co=="/N"){var fv=w+(z==1?0:1),jS;dz=jV[fv+0];eh=jV[fv+1];a9=jV[fv+2];kB=jV[fv+3];
dc=jV[fv+5];eT=jV[fv+6];if(X=="/DeviceRGB")jS=jV.slice(0,3);else if(X=="/DeviceGray")jS=[jV[0],jV[0],jV[0]];
else if(X=="/DeviceCMYK"){var cx=[0,0,0,0];for(var $=0;$<w;$++){var bX=jV[$],gi=S[$];cx[0]+=bX*gi[0];
cx[1]+=bX*gi[1];cx[2]+=bX*gi[2];cx[3]+=bX*gi[3]}jS=N(cx)}else throw jS;jS.push(jV[w]);r.push([jS,dz,eh])}else throw co;
G.push([co,dc,eT,dz,eh,a9,kB])}else if(M=="/E"){var cM=G.slice(0),ea=0;for(var $=0;$<G.length;$++){var a1=G[$][0];
if(a1=="/N"){ea++;continue}var db=$,d2=$+1;while(G[d2][0]!="/N"&&d2<G.length)d2++;if(ea==0||ea==3){for(var hu=0;
hu<d2-db;hu++)cM[db+hu]=G[d2-1-hu]}else for(var hu=db;hu<d2;hu++){var fF=cM[hu],il=fF[1];fF[1]=fF[5];
fF[5]=il;il=fF[2];fF[2]=fF[6];fF[6]=il}$=d2-1}G=[];for(var $=0;$<cM.length;$++){var fF=cM[$];G.push(fF[1],fF[2],fF[3],fF[4],fF[5],fF[6])}var f4=G.length;
d.moveTo(Z,G[2],G[3]);for(var $=0;$<f4;$+=6){var a9=G[($+4)%f4],kB=G[($+5)%f4],dc=G[($+6)%f4],eT=G[($+7)%f4],dz=G[($+8)%f4],eh=G[($+9)%f4];
d.curveTo(Z,a9,kB,dc,eT,dz,eh)}d.closePath(Z);G=[]}else if(M.endsWith("/Version"))z=parseFloat(M[0])}var aK=A._I();
aK.Il|=16;aK.Yq("<Mesh>");var f9=aK.add.vstk=bs.Ao.Bt(!0);if(r.length>=2){var e0=0,j7=0,jb=0;for(var $=0;
$<r.length;$++)for(var hu=$+1;hu<r.length;hu++){var hN=r[$][0],fe=r[hu][0],hn=hN[0]-fe[0],a3=hN[1]-fe[1],bH=hN[2]-fe[2],jB=Math.sqrt(hn*hn+a3*a3+bH*bH);
if(jB>jb){jb=jB;e0=$;j7=hu}}var jH=r[e0],dL=r[j7],aq=aK.add.GdFl=JSON.parse(bs.Kl[bs.order.indexOf("GrFl")]),is=aq.Grad.v;
is.Intr.v=0;aq.Type.v.GrdT="Lnr";q.r.p3([[0,jH[0]],[1,dL[0]]],is);var dh=u(Z.ctm),j_=dh.iI(new ck(jH[1],jH[2])),cH=dh.iI(new ck(dL[1],dL[2])),bK=q.O.Cg(Z.pth.crds);
j_.x=(j_.x+cH.x)/2;j_.y=(j_.y+cH.y)/2;q.r.Bk(j_,cH,bK,aq)}B(aK,Z.pth,A,0);A.B.push(aK);d.newPath(Z)}function U(C){var Z=C.indexOf(")");
while(C[Z-1]=="\\")Z=C.indexOf(")",Z+1);return C.slice(C.indexOf("(")+1,Z).replaceAll("\\","")}function I(C,o){C.Rd.v=o[0]*255;
C.Grn.v=o[1]*255;C.Bl.v=o[2]*255}function V(C){var Z=[];for(var $=0;$<C.length;$++)Z[$]=parseFloat(C[$].slice(1));
return Z}function u(C){return new cW(C[0],C[1],C[2],C[3],C[4],C[5])}function N(C){return q.dk(C.slice(0,4)).slice(0,3)}function e(C){var Z=C.split(" "),A=Z[Z.length-1],d=A.toLowerCase(),G=Z.map(parseFloat),r=null;
if(d=="xa"||d=="xx"||d=="xz"){var r=G[4]==null?G.slice(0,3):[G[4],G[5],G[6]];if(d=="xx"&&G[G.length-2]==2)r=N(G)}else if(d=="g")r=N([0,0,0,1-G[0]]);
else if(d=="x"||d=="k"){if(d=="x"){G.pop();var X=1-G.pop();for(var $=0;$<4;$++)G[$]*=X}r=N(G)}else if(d=="xk"){var w=G[G.length-2],S=G[G.length-3];
if(w==0)r=N(G);else if(w==1){r=[G[4],G[5],G[6]];for(var $=0;$<3;$++)r[$]=S*1+(1-S)*r[$]}else throw C}else throw d;
return r}function B(C,Z,A,d){C.add.vmsk=new h._b;if(Z.crds.length!=0)C.add.vmsk.$=j(Z);C.add.vmsk.sm=d;
C.pw();C.vl(A)}function j(C){var Z={j:C.crds,G:C.cmds},A=q.O.XR(Z,!1);return A}function T(C,Z){var A=[],z=0,O=0;
for(var d=0;d<2;d++){var G=Z[["Raster","Place"][d]];if(G){for(var $=0;$<G.length;$++){var r=G[$][["Data","Document","PlacedObjectPreview"][d]];
if(r==null)continue;var X=r._begin,w=r._end;if(X>w)X=w;A.push([X,w])}}}A.sort(function(e9,jV){return e9[0]-jV[0]});
var S=[Z._begin];for(var $=0;$<A.length;$++){var s=A[$],X=s[0]+32;S.push(X,s[1]);z+=s[1]-X}S.push(Z._end);
var M=Z._end-Z._begin,Q=new Uint8Array(M-z);for(var $=0;$<S.length;$+=2){var X=S[$],W=S[$+1]-X;Q.set(new Uint8Array(C.buffer,X,W),O);
O+=W}return D.cA(Q).split(/\r\n|\r|\n/)}function a(C,Z){if(C==null)return[];var A=T(Z,C),d="",G="",r=0,X;
for(var $=2;$<A.length;$++){var w=A[$];if(w[0]=="%"){if(r==0)d+=w.slice(1);else G+=w.slice(1)}else if(w==";")r++;
else if(w.endsWith("/RulerOrigin ,"))X=w.split(" ").slice(0,2).map(parseFloat)}var S=[d,G],z=[];for(var $=0;
$<2;$++){var s=S[$],M=new Uint8Array(s.length);D.wZ(M,0,s);var Q=FromPS.F.ASCII85Decode({buff:M,off:0}),O=cL.QE(Q);
z.push(O)}z.push(X);return z}function P(C,Z){if(C==null)return[];var A=T(Z,C);A=A.slice(1);for(var $=0;
$<A.length;$++){var d=A[$];if(d[0]=="%")A[$]=d.slice(d[1]=="_"?2:1)}var G=Y(A);return G}function v(C){var Z=[];
H(C,Z);for(var $=0;$<Z.length;$++)Z[$]="%_"+Z[$];return Z}function R(C,Z){var A={};if(C==null)return A;
for(var $=0;$<C.length;$++){var d=T(Z,C[$]),G=d[1],r=U(G),X=G.slice(G.lastIndexOf(")")+2).split(" ").map(parseFloat),w=[];
for(var S=2;S<d.length;S++)w.push(d[S].slice(2));A[r]={YP:X,AQ:w}}return A}function y(C,Z){var A=[],G,r;
if(C==null)return A;var d=T(Z,C);for(var $=1;$<d.length;$++){var X=d[$];if(X=="0 0 Pb"||X=="PB"||X==""){}else if(X.endsWith("Xa")||X.endsWith("Xz")||X.endsWith("Xx")||X.endsWith("Xk")||X.endsWith(" k")||X.endsWith(" g")||X.endsWith(" x"))G=[0,e(X)];
else if(X.endsWith("Xs"))G=[0,[0,0,0]];else if(X.endsWith("Bg"))G=[1,U(X)];else if(X.endsWith("Pg"))G=[2,U(X)];
else if(X[0]=="(")r=U(X);else if(X=="Pc")A.push([r,G]);else if(X=="0 BB"||X=="Bb"||X.endsWith("Bh")){}else throw X}return A}function t(C,Z){var A={},d,G;
if(C==null)return A;var r=[];for(var $=0;$<C.length;$++){var X=T(Z,C[$]);for(var w=0;w<X.length;w++){var S=X[w];
if(S.endsWith("%_Bs")){var z=S.slice(0,S.length-4);if(!z.endsWith(" "))z+=" ";S=z+"%_BS"}if(S[0]=="("){d=U(S);
var s=S.split(")"),M=s[1].split(" ");G=parseInt(M[1])}else if(S.endsWith("%_BS")){var s=S.split(" "),e9,jV=1;
s.pop();s=s.map(parseFloat);var Q=s.pop(),O=s.pop(),W=s.pop();if(W==0)e9=[s[0],s[0],s[0]];else if(W==2||W==4)e9=[s[4],s[5],s[6]];
else if(W==1||W==3)e9=N(s);else if(W==6){if(s.length==3)e9=[s[0],s[0],s[0]];else if(s.length>=8)e9=s.slice(4,7);
else e9=N(s);jV=s.pop()}else{throw W}r.push([Q/100,e9,jV,O/100])}else if(S=="BD"){for(var co=0;co<r.length-1;
co++)r[co][3]=r[co+1][3];r.sort(function(dz,eh){return dz[0]-eh[0]});A[d]={jP:G,a7D:r};r=[]}}}return A}function g(C){var Z="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),A=Date.now(),d=0,G=[],r={Header:{}},X=[r],w=C.length;
while(d<w){var S=d;while(S!=w&&C[S]!=13&&C[S]!=10){S++}if(C[d]==37&&C[d+1]==95&&C[d+2]==37)d+=2;if(C[d]==37&&(C[d+1]==37||C[d+1]==65)){var z=D.it(C,d,S-d);
if(z=="%%EOF")break;if(z=="%%EndComments"||z=="%EndComments"||z=="%AI5_Begin_NonPrinting"||z=="%AI5_End_NonPrinting--"||z.startsWith("%AI17_Begin_Content_if_version_gt")||z=="%AI17_End_Versioned_Content"){}else{var s=z.indexOf("Begin"),M=Math.max(z.indexOf("_End"),z.indexOf("%End"));
if(s!=-1&&z[s-1]!="%"&&z[s-1]!="_")s=-1;if(s!=-1){var Q=z.slice(s+5).split(":")[0],O={_begin:d,_end:d},W=X[X.length-1];
if(Z.indexOf(Q)!=-1){if(W[Q]==null)W[Q]=[];W[Q].push(O)}else{if(W[Q]!=null){console.log(X);throw z}W[Q]=O}X.push(O);
if(z.startsWith("%%BeginData")){S=D.C8(C,"%%EndData",d)}else if(z.slice(0,15)=="%%BeginDocument")S=D.C8(C,"%%EndDocument",S);
else if(z=="%AI9_BeginDocumentData")S=D.C8(C,"%AI9_EndDocumentData",S);else if(z=="%AI11_BeginTextDocument")S=D.C8(C,"%AI11_EndTextDocument",S)}else if(M!=-1){if(X.length>1)X.pop()._end=d}else if(X.length==1&&(z.startsWith("%AI")||z.startsWith("%%")&&z.indexOf(" ")!=-1)){var e9=1;
if(z.startsWith("%AI"))while(z[e9]!="_"&&e9<z.length)e9++;var jV=z.indexOf(":");if(jV==-1)jV=z.indexOf(" ");
var co=z.slice(e9+1,jV),dz=z.slice(jV+1).trim();r.Header[co]=dz}}}d=S;if(C[d]==13)d++;if(C[d]==10)d++}return r}function H(C,Z){if(C instanceof Array)for(var $=0;
$<C.length;$++)H(C[$],Z);else if(typeof C=="object"){for(var A in C){var d=C[A];if(typeof d=="number")Z.push(d+" /Int ("+A+") ,");
else if(typeof d=="string")Z.push("("+d+") /String ("+A+") ,");else if(d instanceof Array){Z.push("/Array :");
H(d,Z);Z.push("; ("+A+") ,")}else if(typeof d=="object"){Z.push("/Dictionary :");H(d,Z);Z.push("; ("+A+") ,")}}}}function _(C,Z){for(var $=0;
$<Z.length;$++)if(C.startsWith(Z[$]))return!0;return!1}function Y(C){var Z=[],A=[],top=-1,d,G=null,r=null,X=null,w=0;
for(var S=0;S<C.length;S++){var z=C[S];if(d){z=d+z;d=null}var s="\t".repeat(Z.length);if(G!=null){G.push(z);
if(z.endsWith("~>")){var M=D.Ey(G.join("")),Q=FromPS.F.ASCII85Decode({off:0,buff:M});Z.push(Q);A.push(!1);
top++;G=null}}else if(X!=null){if(z=="X+"){if(w==1){Z.push(X);A.push(!1);top++;X=null}else w--}else if(z=="X=")w++;
else X.push(z)}else if(r!=null){if(z=="/Def ; "){Z.push(r);A.push(!1);top++;r=null}else r.push(z)}else if(z=="/Binary : /ASCII85Decode ,"){G=[]}else if(z=="X="){X=[];
w++}else if(z=="/FillStyle : 0 O"){r=["0 O"]}else if(z=="/SVGFilter :"||z=="; /Def ;")continue;else if(z.startsWith("/XMLUIDREF :")){var O=K(z);
Z[top][O[4]]=O[2]}else if(z.startsWith("/")&&z[1].toUpperCase()!=z[1].toLowerCase()){if(z.startsWith("/XMLUID")){var O=K(z);
if(A[top])throw"e";Z[top][O[4]]=O[2]}if(z.startsWith("/GObjRef")){var O=K(z);if(O.length==7){if(A[top])throw"e";
Z[top][O[5]]=O[2]}else{if(!A[top])throw"e";Z[top].push(O[2])}}else{var W=z.startsWith("/Array")||z.startsWith("/Document");
Z.push(W?[]:{});A.push(W);top++}}else if(z.endsWith(",")){var e9,jV,O=K(z);O.pop();if(O[0]==";"||O.length==1||z==" ,"){jV=Z.pop();
A.pop();top--;e9=A[top]?null:O.pop()}else{e9=A[top]?null:O.pop();var co=O.pop(),dz=O[0];if(co=="/Int")jV=parseInt(dz);
else if(co=="/Real")jV=parseFloat(dz);else if(co=="/Bool")jV=dz=="1";else if(co=="/String"||co=="/UnicodeString")jV=O.join("");
else if(co=="/RealMatrix"||co=="/RealPoint"||co=="/RealPointRelToROrigin")jV=O.map(parseFloat);else throw co}if(A[top])Z[top].push(jV);
else Z[top][e9]=jV}else if(z==";"){}else if(z==""){}else{if(z.indexOf("/RealPoint")!=-1){}else if(z.startsWith("(")&&z.endsWith(")")){}else if(z.endsWith("/RealMatrix")){}else throw z;
d=d?d+z:z}}return Z}function K(C){var Z=0,A=[];while(Z<C.length){var d=C[Z],G=d.charCodeAt(0);if(d==" ")Z++;
else if(d==","||d==";"||d==":"){A.push(d);Z++}else if(d=="("){var r=Z+1;while(!(C[r]==")"&&(C[r-1]!="\\"||C[r-2]=="\\")))r++;
var X=C.slice(Z+1,r);A.push(X);Z=r+1}else if(d=="/"||d=="-"||48<=G&&G<=57){var r=Z;while(C[r]!=" ")r++;
A.push(C.slice(Z,r));Z=r}else throw d}return A}function f(C){var Z="";for(var $=0;$<C.length;$++){if(C[$]=="_"&&C[$+1]=="x"){var bz=parseInt(C.slice($+2,$+4),16);
Z+=String.fromCharCode(bz);$+=4}else if(C[$]=="_")Z+=" ";else Z+=C[$]}return Z}function m(C){var Z="xmlnode-nodename",A="xmlnode-nodevalue",d="xmlnode-attributes",G="xmlnode-children",r=C[Z].split(":").pop().replace("#",""),X=C[d],w=C[G],S="<"+r;
for(var z in X)if(z!="xmlns"&&z!="xmlns:v")S+=" "+z.split(":").pop()+"=\""+X[z][A]+"\"";S+=">"+(w.length==0?"":"\n");
for(var $=0;$<w.length;$++)S+=m(w[$]);if(C[A])S+=C[A];return S+"</"+r+">\n"}return x}();e2.aq5=function(x,J,o){var c=q.O.ny(new ha(0,0,x,J)).j,E=new cW;
E.rotate(o);q.O.M(c,E,c);var b=q.O.Cg(c);return b.m/x};e2.arV=["norm","mul ","scrn","over","sLit",null,"div "];
e2.iN=function(){function x(V){var u=72/V.yV,N=new cW(u,0,0,-u,0,0),e=V.root.children,B=[],j={VW:[],ata:0},T=16383,M=0,O=0;
for(var $=0;$<e.length;$++)l(e[$],V,N,j,B,0);var a=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+T+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
a.push("%%BeginSetup\r");a=a.concat(j.VW);for(pn in V.Qr){var P=V.Qr[pn],v=V.yV/72;a.push("%AI3_BeginPattern: ("+pn+")");
a.push("("+pn+") 0 0 "+Math.round(P.m/v)+" "+Math.round(P.e/v));var e=P.root.children,R=[];for(var $=0;
$<e.length;$++)l(e[$],P,N,j,R,1);R=window.agb;for(var $=0;$<R.length;$++){var y=R[$];a.push(y.startsWith("%_")?y:"%_"+y)}a.push("E","%AI3_EndPattern");
console.log(u);console.log(P)}a=a.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var t=V.add.arts;for(var $=0;$<t.length;$++){var g=t[$];console.log(g);var H=g.YP[0]*u,_=-g.YP[1]*u,Y=g.YP[2]*u,K=-g.YP[3]*u;
a.push("/Dictionary :","("+g.LB+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",T/2+" "+T/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",o(H)+" "+o(_)+" /RealPointRelToROrigin"," (PositionPoint1) ,",o(Y)+" "+o(K)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}a=a.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var f=[],m=[];for(var $=0;$<V.B.length;$++){var C=V.B[$],Z=C.add.TySh;if(Z){f.push(Z.TC);m.push(Z)}}if(f.length!=0){var A=c9.aas(f,null,null);
function d(g){return g.map(function(W){return"f"+W})}for(var G=0;G<f.length;G++){var Z=m[G],r=A._1._1[G],X=r._1._0[0]._0;
X=parseInt(X.slice(1));var w=A._0._8._0[X]._0,S=Z.M.clone();S.concat(N);S.scale(1,-1);w._2._2=d([S.V,S.J,S.xt,S.Lu,S.Iw,S.s7])}var z=J(A),s=J(A);
a.push("%AI11_BeginTextDocument");a.push("/AI11TextDocument : /ASCII85Decode ,");a=a.concat(z);a.push("0.0001 0.0001 /RulerOrigin ,");
a.push(";");a.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");a=a.concat(s);a.push(";");a.push("%AI11_EndTextDocument")}a.push("%%EndSetup\r");
a=a.concat(B);console.log(a.join("\n"));a.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var $=0;$<a.length;$++){var g=a[$];if(typeof g=="string")g=a[$]=D.Ey(g);M+=g.length+1}var Q=new Uint8Array(M);
for(var $=0;$<a.length;$++){var g=a[$];Q.set(g,O);O+=g.length;Q[O]=13;O++}return k5.a19(Q).buffer}function J(V){var u=new ih,N=cL.gO(V,u)-2,e=I(u.data.slice(0,N)),B=[];
for(var j=0;j<e.length;j+=100){if(e.length-j<103){B.push("%"+e.slice(j));break}B.push("%"+e.slice(j,j+100))}return B}function o(bz){return bz.toFixed(3)}function c(V,u){var N=V.getName(),e=null;
u.push("%_/ArtDictionary :");if(V.add.vmsk)e=V.add.vmsk.xq;if(V.add.SoLd){var B=q.D.lp(V.add.SoLd);e=Math.atan2(-B.J,B.V)}if(V.add.TySh){var B=V.add.TySh.M;
e=Math.atan2(-B.J,B.V)}if(e!=null&&e!=0)u.push("%_("+e+") /String (BBAccumRotation) ,");if(V.add.TySh)u.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!N.startsWith("<")&&!N.endsWith(">")){u.push("%_/XMLUID : "+E(N)+" ; (AI10_ArtUID) ,")}u.push("%_;","%_")}function E(V){var u="";
for(var $=0;$<V.length;$++){var N=V[$],e=V.charCodeAt($);if(N==" ")u+="_";else if(N=="."||N==":"||N=="-"||48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122||127<e)u+=N;
else u+="_x"+e.toString(16).toUpperCase()+"_"}return"("+u+")"}function b(V,u,N){N.push(o(V[0])+" "+o(V[1])+" "+o(V[2])+" "+u)}function l(V,u,N,e,B,j){var T=V.a;
if(j!=0)B.push((T.kR()?0:1)+" Xw");if(T.Zk()){var a=!1;for(var $=0;$<V.children.length;$++)if(V.children[$].a.j1)a=!0;
var P=T.add.lsct==es.tI?1:0;if(j==0){B.push("%AI5_BeginLayer");B.push((T.kR()?1:0)+" 1 1 1 0 0 -1 51 44 43 Lb");
B.push("("+T.getName()+") Ln");B.push(P+" AE");c(T,B)}else{B.push(P+" Ae");B.push(a?"q":"u")}for(var $=0;
$<V.children.length;$++)l(V.children[$],u,N,e,B,j+1);if(j==0)B.push("LB","%AI5_EndLayer--");else{B.push(a?"Q":"U");
c(T,B);i(T,B);B.push("0 0 Xd","6 () XW")}}else{i(T,B);var v=T.add.TySh,R=T.add.vmsk;if(v){B.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",e.ata+" /StoryIndex ,");
if(iv.hT(v.TC)==1){var y=iv.C9(v.TC),t=q.O.ny(new ha(y[0],y[1],y[2],y[3])).j;q.O.M(t,v.M,t);q.O.M(t,N,t);
B.push("/Art :","X=","1 Ap",t[0]+" "+t[1]+" m",t[2]+" "+t[3]+" L",t[4]+" "+t[5]+" L",t[6]+" "+t[7]+" L",t[0]+" "+t[1]+" L","n","X+","; /ConfiningPath ,")}B.push("2 /TextAntialiasing ,",";");
e.ata++}else if(T.add.SoLd){var g,H,_,Y=T.add.SoLd,K=Y.Idnt.v,f=u.eB(K,Y.Crop?Y.Crop.v:null),m=f.pH,g=m[0],H=m[1];
_=q.D.lp(Y);var C=new cW(1,0,0,-1,0,0);C.concat(_);C.concat(N);var Z=H.P(),A=H.m,d=H.e,G=q.R(Z*4+8);
for(var $=0;$<Z;$++){var r=$*4,X=$*3;G[X]=g[r];G[X+1]=g[r+1];G[X+2]=g[r+2];G[3*Z+$]=g[r+3]}D.wZ(G,Z*4,"%EndData");
B.push("%AI5_File:","%AI5_BeginRaster","[ "+[C.V,C.J,C.xt,C.Lu,C.Iw,C.s7].map(o).join(" ")+" ] 0 0 "+[A,d,A,d].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(Z*4+4),"XI",G,"XH","%AI5_EndRaster","N")}else if(R){var w=T.add.vstk,S=T.add.vstl,z=S.TK,s=S.ma,M=q.p.Dd(R.$)>1;
if(M)B.push("*u","0 Xw");if(z){if(z.length==3)b(z,"Xa",B);else if(z.length==4){var Q=k(z,e);B.push("Bb",Q,"2 BB")}else{B.push("("+z[0]+") "+z[1][0].join(" ")+" ["+z[1][1].join(" ")+"] p")}}if(s){var O=bs.zs.mf(S,O,N.z1());
B.push(O.lcap+" J "+O.ljoin+" j "+O.lwidth+" w "+o(O.mlimit)+" M ["+O.dash.join(" ")+"]0 d");if(s.length==3)b(s,"XA",B);
else{var W=w.strokeStyleContent.v,Q=k(s,e);B.push("1 Bb",Q,"2 BB")}}var e9=q.O.uG(R.$,1);q.O.M(e9.j,N,e9.j);
var jV=T.j1?"h\nW\nn":z&&s?"b":z?"f":"s";F(e9,jV,R.sm,B);if(M)B.push("*U")}c(T,B)}}function i(V,u){var N=e2.arV.indexOf(V.n5);
if(N==-1)N=0;u.push(N+" "+o(V.opacity/255)+" 0 0 0 Xy")}function F(V,u,N,e){e.push(N+" XR");var B=0;
for(var j=0;j<V.G.length;j++){var T=V.G[j],a,P=0,v="";if(T=="M"){P=2;a="m"}if(T=="L"){P=2;a="l"}if(T=="C"){P=6;
a="c"}for(var $=0;$<P;$++)v+=o(V.j[B+$])+" ";B+=P;if(P!=0)e.push(v+a);if(j==V.G.length-1||V.G[j+1]=="M"){e.push(T=="Z"?u:u.toUpperCase())}}}function k(V,u){var N=U(V,u),e="";
if(V[0]==1)e="0 0 "+V[2].slice(5).map(o).join(" ")+" Bh\n";return e+"1 ("+N+") "+V[2].slice(0,4).map(o).join(" ")+" "+V[3].map(o).join(" ")+" "+o(V[2][4])+" Bg"}function U(V,u){var N=V[0],e=V[1].slice(0),B="grd"+u.VW.length;
u.VW.push("%AI5_BeginGradient: ("+B+")","("+B+") "+N+" "+e.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(N==0)e=e.reverse();for(var $=0;$<e.length;$++){var j=e[$],T=q.cE(j[1]),a=T.concat(j[1]).map(o).join(" ")+" 2 "+o(j[2])+" 6 50 "+o(j[0]*100);
u.VW.push(a+" %_BS");u.VW.push("%_"+a+" Bs")}u.VW.push("BD","%AI5_EndGradient");return B}function I(V){var u=[85*85*85*85,85*85*85,85*85,85,1],N="",e=V.length,B=new Uint8Array(4),j=new Uint32Array(B.buffer);
for(var $=0;$<e;$+=4){var T=e-$;B[3]=V[$];B[2]=T>1?V[$+1]:0;B[1]=T>2?V[$+2]:0;B[0]=T>3?V[$+3]:0;var a=j[0],P=1+Math.min(4,T);
for(var v=0;v<P;v++){var R=Math.floor(a/u[v]);N+=String.fromCharCode(33+R);a-=R*u[v]}}return N+"~>"}return x}();
function iL(){}iL.QE=function(){var x,J,o,c,E,j,T,a;function b(C){return D.jR(x,C)}function l(C){return D._K(x,C)}function i(C){return D.ZR(x,C)}function F(C){return D.rv(x,C)}function k(C,Z){var A=[];
for(var $=0;$<Z;$++)A.push(i(C+$*4));return A}function U(C,Z){var A=[];for(var $=0;$<Z;$++)A.push(b(C+$*8));
return A}function I(C){return i((C+1)*4096-12)}function V(C){return i((C+1)*4096-8)}function u(C,J,Z,A){if(c[C]==null)c[C]=[];
c[C].push([A,new Uint8Array(x.buffer,J,Z)])}function N(C,Z,A,d){var G=o[C],J=G*4096;J=J+i(J+4096-24-12-Z*4);
var r=l(J),X=x[J+2],w=x[J+3];if(Z!=X)throw X;if(w==0)u(d,J+4,A,9);else{var S=l(J+6),z=i(J+8);u(d,J+12,r-12,9);
N(z,S,A-(r-12),d)}}function e(){var C=i(352),Z=i(C*4096+128),A=i(936);o=[];c={};E={};for(var $=0;$<1e9;
$++){var d=i(A*4096+128+$*4);if(d==0)break;var G=k(d*4096+128,4096-128-12>>>2);o=o.concat(G)}for(var r=0;
r<o.length;r++){var X=o[r],w=I(X);if(w!=6)continue;var J=X*4096,S=i(J);J+=4;for(var $=0;$<S;$++){var z=i(J);
J+=4;var s=i(J);J+=4;var M=i(J);J+=4;var Q=i(J);J+=4;if(z==0)E[s]=M;else{var O=M&65535,W=M>>>16;if(W==0)u(s,Q*4096,O,8);
else N(Q,W,O,s)}}}var j={};for(var e9 in c){var jV=c[e9],co=jV.length;if(co==1)j[e9]=jV[0][1];else{var dz=0,J=0;
for(var $=0;$<co;$++)dz+=jV[$][1].length;var eh=j[e9]=new Uint8Array(dz);for(var $=0;$<co;$++){eh.set(jV[$][1],J);
J+=jV[$][1].length}}}return j}function B(J,C){var Z=C?i(J):l(J),A="";J+=C?4:2;while(A.length<Z){var d=x[J++],G=x[J++],r=0,X="";
d+=(G&15)*256;G=G&240;for(var $=0;$<d;$++){if(G==64)r=x[J++];else if(G==128)r=x[J++]|x[J++]<<8;else throw G;
X+=String.fromCharCode(r)}A+=X}return[A,J]}function P(J,C,Z){var A=k(J,C);for(var $=0;$<C;$++){Z.push($);
if(A[$]>T)throw"e";A[$]=R(A[$],Z);Z.pop()}return A}var v={};function R(C,Z){if(a.indexOf(C)!=-1)return j[C];
if(C==0)return null;if(j[C]==null)return null;if(!(j[C]instanceof Uint8Array))return j[C];var A=x,J=0;
x=j[C];a.push(C);var d=E[C].toString(16),G=j[C]={_type:m[d]?m[d]+":"+d:"typ-"+d,_eid:C};while(J+8<x.length){var r=i(J);
J+=4;var X=r.toString(16),w=i(J);J+=4;var S=J+w;if(J+w>x.length){G._bin=x;break}y(X,_,G,J,w,Z);J=S}x=A;
a.pop();return G}function y(C,Z,A,J,d,G){var r=Z[C+":"+A._type];if(r==null)r=Z[C];G.push(r?r[0]==""?C:r[0]:C);
if(r){var X=r[0],w=null,S=r[1];if(X=="")X=S+"-"+C;if(K[S]&&d!=K[S]){console.log(S);console.log(C,r);
console.log(x.slice(J,J+d));throw"e"}if(S=="mat")w=U(J,6);else if(S=="mmat")w=[R(i(J),G),U(J+6,6)];else if(S=="rect")w=U(J,4);
else if(S=="mrct"){w=U(J,4);w.push(l(J+32))}else if(S=="doub")w=b(J);else if(S=="pointArr"){var z=l(J);
w=k(J+2,z*2)}else if(S=="usrt")w=l(J);else if(S=="uint")w=i(J);else if(S=="pntr"||S=="ptr6"){w=R(i(J),G)}else if(S=="bool2"){if(l(J)!=0&&l(J)!=1)throw l(J);
w=l(J)==1}else if(S=="bool4"){if(i(J)!=0&&i(J)!=1)throw C+","+i(J);w=i(J)==1}else if(S=="color"){if(d!=38&&d!=30)throw d;
var s=i(J),M=l(J+4);w=[s];for(var $=0;$<M;$++)w.push(b(J+6+$*8))}else if(S=="path"){var Q=J+d;w=[];var O=i(J);
J+=4;for(var $=0;$<O;$++){var W=[[]];w.push(W);var e9=i(J);J+=4;for(var jV=0;jV<e9;jV++){var s=i(J);
J+=4;if(s<2){W[0].push([s,b(J),b(J+8),b(J+16),b(J+24),b(J+32),b(J+40)]);J+=48}else if(s==2){W[0].push([s,b(J),b(J+8)]);
J+=16}else throw s}W.push(l(J));J+=2}}else if(S=="ptrAndList"){var co=i(J),dz=i(J+4);w=P(J+8,dz,G);w.unshift(R(co,G))}else if(S=="ptrArray"||S=="ptrArrayX"){var eh=d>>2;
if(S=="ptrArray"){eh=i(J);J+=4;if(d!=4+eh*4)throw d}w=P(J,eh,G)}else if(S=="ptrArray2"){var eh=i(J);
J+=4;w=P(J,eh,G);J+=eh*4;eh=i(J);J+=4;w.push(P(J,eh,G))}else if(S=="cldrn"){var a9=i(J),kB=i(J+4),eh=i(J+8);
w={H:R(a9,G),gz:R(kB,G),FE:P(J+12,eh,G)};if(d!=12+eh*4){console.log(C,sa);throw"e"}if(a9==0)throw a9}else if(S=="aprnc"){var eh=i(J);
J+=4;w={};for(var $=0;$<eh;$++){var dc=i(J),eT=l(J+4),fv=l(J+6);J+=8;var jS=f[dc.toString(16)];if(jS==null)jS="prm-"+dc.toString(16);
else jS=H(jS);w[jS]=[];for(var jV=0;jV<fv;jV++){var cx=i(J),bX=l(J+4),gi=null;J+=6;if(cx==28264)gi=b(J);
else if(cx==28263)gi=i(J);else if(cx==279||cx==6917)gi=R(i(J),G);else if(cx==28261)gi=l(J)==1;else if(cx==28265)gi=[b(J),b(J+4)];
else if(cx==6914||cx==83231)gi=B(J+3)[0];else if(cx==28259||cx==28260||cx==23094||cx==67679){gi=x.slice(J,J+bX)}else throw cx.toString(16);
w[jS].push(gi);J+=bX}}}else if(S=="lopts"){w={aul:l(J+0)==1,show:l(J+2)==1,aus:l(J+4)==1,Xu:i(J+10),name:B(J+21)[0]}}else if(S=="origin"){var Q=J+d;
if(x[J++]!=1)throw"e";var z=i(J);J+=4;var cM=D.it(x,J,z);J+=z;if(x[J++]!=1)throw"e";var ea=x[J++];if(ea!=1&&ea!=53)throw ea;
var a1=l(J);J+=2;if(a1!=0&&a1!=1)throw a1;var db=i(J);J+=4;if(db!=0&&db!=1)throw db;var d2=i(J);J+=4;
if(d2!=0&&d2!=2&&d2!=3)throw d2;var hu=i(J);J+=4;var fF=B(J,!0);J=fF[1];fF=fF[0];var il=i(J),f4=i(J+4);
J+=8;var aK=i(J);J+=4;if(aK!=0)throw aK;var f9=i(J);J+=4;J+=3;var e0=B(J)[0];J+=2+2+e0.length;w={file:cM,id:fF,UY:e0}}else if(S=="string")w=B(J+3)[0];
else if(S=="relEnt"){var j7=l(J);J+=2;w=[];for(var $=0;$<j7;$++)w.push([i(J+$*8),R(i(J+$*8+4),G)])}else if(S=="textData"){var Q=J+d,jb=i(J);
J+=4;var dc=i(J);J+=4;var M=l(J);J+=2;var hN=[];for(var $=0;$<M;$++){var fe=i(J);J+=4;if(jb==514)hN.push(B(J,!0)[0]);
else if(jb==515){var hn=i(J),C=i(J+4),a3=t(J+8,G);hN.push([hn,R(C,G),a3])}else if(jb==516){var hn=i(J),C=i(J+4),bH=l(J+8),a3=t(J+8,G);
hN.push([hn,R(C,G),a3])}else hN.push(x.slice(J,J+fe));J+=fe}if(Q-J!=12)throw Q-J;w=hN}else if(S=="storyProps"){var jB=i(J);
if(l(J+4)>1)throw"e";var jH=R(i(J+6),G),M=i(J+10),dL=R(i(J+14+M*4),G);w={arY:jB,apt:jH,FE:P(J+14,M,G),ar3:dL,anY:k(J+14+M*4+4,4)}}else if(S=="styleProps")w=t(J,G);
else if(S=="bounds"){var aq=J,j7=i(J);J+=4;w=[];for(var $=0;$<j7;$++){var is=[];w.push(is);for(var jV=0;
jV<4;jV++)is.push(b(J+jV*8));J+=32;is.push(x[J]);J++}if(J!=aq+d)throw"e"}else if(S=="columnPos"){var j7=i(J);
J+=4;w=[U(J,j7),b(J+j7*8)];J+=j7*8+8}else if(S=="StyleName"){w=[i(J+4)]}else if(S=="fontName"){var Q=J+d;
w=[l(J)];J+=2;for(var $=0;$<2;$++){var cM=B(J+3);J=cM[1];w.push(cM[0])}w.push(i(J));J+=4;var dh=l(J);
J+=2;w.push(dh);var j_=l(J);J+=2;var cH=[];w.push(cH);for(var bK=0;bK<j_;bK++){var eC=[];cH.push(eC);
var cM=B(J+3);J=cM[1];eC.push(cM[0]);var fp=l(J);J+=2;var cM=D.it(x,J,fp);J+=fp;eC.push(cM);for(var $=0;
$<3;$++){var cM=B(J+3);J=cM[1];eC.push(cM[0])}eC.push(i(J));J+=4;var cM=B(J,!0);J=cM[1];eC.push(cM[0])}if(J+4!=Q)throw"e";
w.push(i(J))}else throw S;if(A[X]!=null){console.log(X,A[X],w);console.log(G.slice(0));console.log(eid,C,J,A[X],r,w);
throw"e"}A[X]=w}else{var jq=x.slice(J,J+d);A["prop-"+C]=jq}G.pop()}function t(J,C){var Z=l(J);J+=2;var A={};
for(var $=0;$<Z;$++){var d=i(J);J+=4;var G=d.toString(16),r=l(J);J+=2;var X=l(J);J+=2;for(var w=0;w<X;
w++){var S=i(J);J+=4;var z=l(J);J+=2;y(G,Y,A,J,z,C);J+=z}}return A}function g(C){x=new Uint8Array(C);
j=e();var Z=j[2147483649];Z=D.cA(Z,4,Z.length-4);delete j[2147483649];T=0;for(var A in j)T=Math.max(T,parseInt(A));
a=[];var d={};for(var A in j)d[A]=j[A];for(var A in j)R(parseInt(A),[]);return j}function H(C){C=C.split(" ").join("");
return C[0].toLowerCase()+C.slice(1)}var _={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},Y={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},K={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},f={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},m={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return g}();function iK(){}iK.QE=function(){var x=0;function J(I,V){var u=iL.QE(I),Y=1;x=0;var N=u[1],e=N.spreads,B=[],j=new ha;
for(var T=0;T<e.length;T++){var a=e[T],P=a.children.FE,v=c(a),R=P[0].children.FE,y=new ha;for(var t=0;
t<R.length;t++){var g=R[t],H=c(g);H.concat(v);var _=o(g);_.offset(H.Iw,H.s7);_=q.O.uS(_);y=y.k7(_)}B.push(y);
j=j.k7(y)}while(Math.sqrt(j.P())*Y<1e3)Y++;V.m=j.m*Y;V.e=j.e*Y;V.buffer=new Uint8Array(4*V.m*V.e);V.C6=!0;
V.yV=Math.round(72*Y);V.Zy(e.length);for(var T=0;T<e.length;T++){var a=e[T],P=a.children.FE,K=V._I();
K.Il=24;K.add.lsct=es.tI;K.Yq("Artboard "+(T+1));var f=B[T].clone();f.offset(-j.x,-j.y);f.x*=Y;f.y*=Y;
f.m*=Y;f.e*=Y;f=q.O.uS(f);K.dZ(f);K.n5="pass";V.B.push(V.Tv());var v=c(a);v.translate(-j.x,-j.y);v.scale(Y,Y);
var m={};for(var C=0;C<P.length-1;C++){var Z=P[C],A=Z.children.FE,d=V._I(),G=Z.layer.lopts;if(G.name=="Internal_pages_layer_name"||m[G.name])continue;
m[G.name]=!0;d.Il=24;d.add.lsct=es.tI;d.Yq(G.name);d.Ut(G.show);if(G.aul)d.add.lspf=1<<31;d.n5="pass";
V.B.push(V.Tv());for(var $=0;$<A.length;$++)F(A[$],V,v,u);V.B.push(d)}V.B.push(K)}}function o(I){var V=I.rect;
return new ha(V[0],V[1],V[2]-V[0],V[3]-V[1])}function c(I){var V=I.transform;return new cW(V[0],V[1],V[2],V[3],V[4],V[5])}function E(I){var V=I.color,u=I.parentFill,e;
if(V==null&&u)V=u.color;if(V==null){console.log("strange color",I);return[0,0,0]}var N=V[0];if(N==5)e=V.slice(1);
else if(N==6)e=UDOC.C.cmykToRgb(V.slice(1));else if(N==7){var B=q.ab(V[1],V[2],V[3]);e=[B.o/255,B.I/255,B.J/255]}else if(N==14){e=V.slice(1);
console.log("unsure about the color")}else{console.log(V);throw N}return e}function b(I){var V=E(I);
return q.r.qP({o:V[0]*255,I:V[1]*255,J:V[2]*255})}function l(I){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[I]}function i(I,V){var $=0,u=0;
while(u+I[$][0]<=V){u+=I[$][0];$++}I=I[$][1].textData;$=0;while(u+I[$][0]<=V){u+=I[$][0];$++}return I[$]}function F(I,V,u,N){var e=I.transform?c(I):new cW;
e.concat(u);var B=I.path,j=I.appearance,T=I.visible,a=I.children?I.children.FE:null,P=V._I();if(T!=null)P.Ut(T);
var v=a&&a.length==1&&a[0].bitmapFill,R=I["bool2-1623"]&&a&&a.length==1&&a[0].rect&&a[0]._type.startsWith("TextFrame");
if(v){P.Yq("bitmap");var y=a[0],t=o(y),g=c(y),f=null;g.concat(e);var H=y.bitmapFill.bitmap;H=N[H]._bin;
if(H.length!=H.buffer.byteLength)H=H.slice(0);if(H[0]==123){console.log("unknown bitmap format");return}var _=V.cv(H,"img.jpg",0,0);
_.Il=P.Il;P=_;var Y=[0,0,t.m,0,t.m,t.e,0,t.e];q.O.M(Y,g,Y);P.add.SoLd.Trnf=n.Y.AA(Y);P.add.SoLd.nonAffineTransform=n.Y.AA(Y);
P.aW(V,!1);var K=y.path;if(K&&K.length!=0)f=U(K,g,j);else if(B&&B.length!=0)f=U(B,e,j);if(f){var m=q.p.d5(f.$),C=q.O.Cg(Y);
if(m.P()/C.Kc(m).P()>1.1){if(m.contains(C))f=null;var Z=I.children;I.children=null;F(I,V,u,N);I.children=Z}}if(f)P.add.vmsk=f;
P.pw();P.vl(V)}else if(R){if(j&&j.strokeSwatch){var A=V._I();k(A,V,j,B,e);V.B.push(A)}var d=a[0],t=o(d),g=c(d),a9=0;
g.concat(e);var G=d.children.FE[0],r=G.obj228,X=r[0].story[1],w=X.stoProps.apt.relEnt,S=X.stoProps.FE[0].relEnt,z=X.stoProps.FE[1]["ptrArrayX-210"][0].textData,s=N[w[0][1].textData[0][1].name[0]],M=s?s.styProps:{};
z=z.join("").replace(/\r/g,"\n");var Q=-1;while((Q=z.indexOf("\uFFFC"))!=-1){z=z.slice(0,Q)+(z[Q-1]=="\n"?" ":" ")+z.slice(Q+1)}P.Yq(z.slice(0,255));
P.add.lnsr="rend";P.add.TySh=iv.hK(0,0);P.add.TySh.Ca=t;P.add.TySh.M=g;var O=P.add.TySh.TC;iv.Jq(O,0,z);
var W=iv.eU(O,0,z.length);W.kJ.FontSize=10;iv.oO(O,0,z.length,W);var e9=[];if(z.length!=0){var jV=i(w,0),co=i(S,0),dz=1;
for(var $=1;$<z.length;$++){var B=i(w,$),eh=i(S,$);if(B!=jV||eh!=co){e9.push(dz);dz=0}jV=B;co=eh;dz++}if(dz!=0)e9.push(dz)}for(var $=0;
$<e9.length;$++){var kB=i(S,a9),dc=e9[$],eT=Math.min(a9+dc,z.length-1),fv=kB[2],jS=kB[1].styProps;if(jS==null)jS={};
var cx=i(w,a9),bX=cx[1].styProps,gi=cx[2],cM={};for(var ea in M)cM[ea]=M[ea];for(var ea in bX)cM[ea]=bX[ea];
for(var ea in gi)cM[ea]=gi[ea];for(var ea in jS)cM[ea]=jS[ea];for(var ea in fv)cM[ea]=fv[ea];var W=iv.eU(O,a9,eT),a1=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],db=a1.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var d2=0;d2<db.length;d2++){var ea=db[d2],hu=d2<a1.length?W.kJ:W.zR;if(cM[ea]!=null)hu[ea]=cM[ea]}if(cM.fillColor){var fF=E(cM.fillColor);
W.kJ.FillColor={Type:1,Values:[1].concat(fF)}}if(cM.font){var il=cM.font.name[5],f4=cM.fontStyle;if(f4==null)f4="Regular";
for(var aK=0;aK<il.length;aK++)if(il[aK][0]==f4)iv.UE(W,il[aK][1])}if(cM.leading!=null&&cM.leading>1){W.kJ.Leading=cM.leading;
W.kJ.AutoLeading=!1}if(cM.align!=null)W.zR.Justification=[0,2,1,6,3,5,4,0,0,0][cM.align];iv.oO(O,a9,eT,W);
a9+=dc}iv.Ag(O,1);iv.UC(O,[0,0,Math.round(t.m),Math.round(t.e)])}else if(I._type.startsWith("Path")&&(a==null||a.length==0)&&B){k(P,V,j,B,e)}else{var f9=I["prop-14526"];
if(a==null&&f9){var j7=N[D.ZR(f9,20)];a=[j7]}if(a){if(B&&B.length!=0){P.add.vmsk=U(B,e,j);P.pw();P.vl(V)}P.Yq("group");
P.Il=24;P.add.lsct=es.tI;V.B.push(V.Tv());for(var $=0;$<a.length;$++)F(a[$],V,e,N)}}if(j){var jb=j.objectBlendingMode,hN=j.objectOpacity,fe=j.fillTint,a3=!1;
if(jb)P.n5=l(jb[0]);if(hN)P.opacity=Math.round(P.opacity*hN[0]/100);if(!v&&fe)P.opacity=Math.round(P.opacity*fe[0]/100);
var hn=JSON.parse(bs.default);for(var $=0;$<bs.order.length;$++)hn[bs.x0[$]]={t:"VlLs",v:[]};var bH="dropShadow innerShadow satin bevel iglow oglow".split(" "),jB="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var $=0;$<bH.length;$++){var jH=bH[$];if(j[jH]&&j[jH][0]){var dL=j[jH],is=135,dh=10;a3=!0;var aq=JSON.parse(bs.Kl[bs.order.indexOf(jB[$])]);
hn[bs.x0[bs.order.indexOf(jB[$])]].v.push({t:"Objc",v:aq});if(j[jH+"Color"])aq.Clr.v=b(j[jH+"Color"][0]);
else if(bH[$]=="iglow"||bH[$]=="oglow")aq.Clr.v=q.r.qP({o:255,I:255,J:255});if(j[jH+"ColorH"])aq.hglC.v=b(j[jH+"ColorH"][0]);
if(j[jH+"ColorS"])aq.sdwC.v=b(j[jH+"ColorS"][0]);if(j[jH+"BMode"])aq.Md.v.BlnM=iP.V0(l(j[jH+"BMode"][0]));
if(j[jH+"BModeH"])aq.hglM.v.BlnM=iP.V0(l(j[jH+"BModeH"][0]));if(j[jH+"BModeS"])aq.sdwM.v.BlnM=iP.V0(l(j[jH+"BModeS"][0]));
if(j[jH+"Opacity"])aq.Opct.v.val=j[jH+"Opacity"][0];if(j[jH+"OpacityH"])aq.hglO.v.val=j[jH+"OpacityH"][0];
if(j[jH+"OpacityS"])aq.sdwO.v.val=j[jH+"OpacityS"][0];if(j[jH+"Size"])aq.blur.v.val=j[jH+"Size"][0];
if(j[jH+"Angle"])is=j[jH+"Angle"][0];if(j[jH+"Dist"])dh=j[jH+"Dist"][0];if(j[jH+"DX"]){var j_=j[jH+"DX"][0],cH=j[jH+"DY"][0];
dh=Math.round(Math.sqrt(j_*j_+cH*cH));is=Math.round(Math.atan2(cH,-j_)*180/Math.PI)}if(aq.lagl)aq.lagl.v.val=is;
if(aq.Dstn)aq.Dstn.v.val=dh;if(aq.uglg)aq.uglg.v=!1;if(j[jH+"Invert"])aq.Invr.v=j[jH+"Invert"][0];else if(bH[$]=="satin")aq.Invr.v=!1;
if(j[jH+"Alt"])aq.Lald.v.val=j[jH+"Alt"][0];if(j[jH+"Depth"])aq.srgR.v.val=j[jH+"Depth"][0];if(j[jH+"Choke"])aq.Ckmt.v.val=j[jH+"Choke"][0]}}if(a3)P.add.lmfx=hn}if(I.name)P.Yq(I.name);
else if(j&&j.name)P.Yq(j.name[0]);V.B.push(P)}function k(I,V,u,N,e){I.Yq("path");I.Il|=16;I.add.vmsk=U(N,e,u);
var B=I.add.vstk=bs.Ao.Bt(!0),j=null;if(u){var T=u.strokeSwatch,a=u.fillSwatch,P=u.basicFeather,v=u.basicFeatherWidth,R=u.strokeWeight;
B.strokeEnabled.v=T!=null;B.fillEnabled.v=a!=null;if(P)I.add.vmsk._M=v?v[0]:9;if(T){B.strokeStyleLineWidth.v.val=R?R[0]:1;
j=b(T[0]);B.strokeStyleContent.v.Clr.v=j}if(a){j=b(a[0])}}if(j)I.add.SoCo={classID:"null",Clr:{t:"Objc",v:j}};
I.pw();I.vl(V)}function U(I,V,u){var N=new h._b,e=N.$;for(var B=0;B<I.length;B++){var j=I[B],T=j[0].length,a=j[1]==0,P=a?0:3;
e.push({type:P,length:T,sm:0,tX:2,hu:0,Ab:0});for(var $=0;$<T;$++){var v=j[0][$],R=v[0],y=new ck(v[1],v[2]),t=new ck(v[3],v[4]),g=new ck(v[5],v[6]);
if(R==0||R==1)e.push({type:P+2,HN:y,L:t,Dq:g});else if(R==2)e.push({type:P+2,HN:y,L:y,Dq:y});else throw R}}q.p.Sp(e,V);
return N}return J}();var gO=function(x){function J(l,i){var F=[];for(var $=0;$<9;$++){var k=D.s(l,i+$*4);
if($%3==2)F.push((k>>>30)+(k&1073741823)/1073741823);else F.push((k>>>16)+(k&65535)/65535)}return F}function o(l,i,F,k){var U={},I=D.s,V=D.ht;
while(i<F){var u=i,N=D.s(l,i);i+=4;if(N==0){N=D.s(l,i);i+=4}var e=D.it(l,i,4);i+=4;if(N==0)throw"e";
if(N==1){N=D.Dv(l,i);i+=8}var B=u+N,j="".padStart(k,"\t"),T={};if(e=="mvhd"){var a=l[i];if(a!=0)throw"e";
i+=4;T.aa3=I(l,i);i+=4;T.a77=I(l,i);i+=4;T.PZ=I(l,i);i+=4;T.duration=I(l,i);i+=4;T.agA=I(l,i);i+=4;T.volume=V(l,i);
i+=2;i+=10;T.awC=J(l,i);i+=4*9;T.azy=[];for(var $=0;$<6;$++)T.azy.push(I(l,i+$*4));i+=4*6;T.a6l=I(l,i);
i+=4}else if(e=="tkhd"){var a=l[i];if(a!=0)throw"e";i+=4;T.aa3=I(l,i);i+=4;T.a77=I(l,i);i+=4;T.aeo=I(l,i);
i+=4;i+=4;T.duration=I(l,i);i+=4;i+=8;T.a=V(l,i);i+=2;T.arq=V(l,i);i+=2;T.volume=V(l,i);i+=2;i+=2;T.awC=J(l,i);
i+=4*9;T.Qh=I(l,i)>>>16;i+=4;T.ao=I(l,i)>>>16;i+=4}else if(e=="mdhd"){T.Il=I(l,i);i+=4;T.aa3=I(l,i);
i+=4;T.a77=I(l,i);i+=4;T.PZ=I(l,i);i+=4;T.duration=I(l,i);i+=4;T.lang=V(l,i);i+=2;T.Ep=V(l,i);i+=2}else if(e=="hdlr"){var P=I(l,i);
i+=4;if(P!=0)throw P;T.jP=D.it(l,i,4);i+=4;T.avb=D.it(l,i,4);i+=4;T.a3i=I(l,i);i+=4;T.Il=I(l,i);i+=4;
T.ajj=I(l,i);i+=4;var v=i;while(l[v]!=0)v++;T.name=D.it(l,i,v-i);i+=v-i+1}else if(e=="stsd"){var P=I(l,i);
i+=4;if(P!=0)throw P;var R=I(l,i);i+=4;if(R!=1)throw R;var y=I(l,i);i+=4;T.rC=D.it(l,i,4);i+=4;if(T.rC=="mett"){T.awg=D.it(l,i,B-i)}else{for(var $=0;
$<6;$++)if(l[i+$]!=0)throw"e";i+=6;T.ag1=V(l,i);i+=2;T.auh=V(l,i);i+=2;T.arO=V(l,i);i+=2;T.aCc=I(l,i);
i+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,raw ".split(",").indexOf(T.rC)!=-1){T.aws=I(l,i);i+=4;T.ag8=I(l,i);
i+=4;T.axb=[V(l,i),V(l,i+2)];i+=4;T.asK=[I(l,i)/(1<<16),I(l,i+4)/(1<<16)];i+=8;var t=I(l,i);i+=4;if(t!=0)throw"e";
var g=V(l,i);i+=2;if(g!=1)throw"e";var H=l[i];i++;T.am_=D.it(l,i,H);i+=31;T.azY=V(l,i);i+=2;var _=V(l,i);
i+=2;if(_!=65535)throw"e";if(i!=B)T.ak4=o(l,i,B,k+1)}else if("mp4a enca samr sawb ec-3 ac-3".split(" ").indexOf(T.rC)!=-1){T._w=V(l,i);
i+=2;T.a8p=V(l,i);i+=2;var Y=V(l,i);i+=2;if(Y!=0&&Y!=65534)throw Y;var K=V(l,i);i+=2;if(K!=0)throw K;
T.a0v=I(l,i)/(1<<16);i+=4}else if(T.rC=="CTMD"){T.b=l.slice(i,B)}else if(T.rC=="tx3g"||T.rC=="text"||T.rC=="mebx"){}else if(T.rC=="tmcd"){}else if(T.rC=="CRAW"){}else throw T.rC}}else if(e=="stts"||e=="stsz"||e=="stco"||e=="stsc"||e=="ctts"){var P=I(l,i),f=0,C=0;
i+=4;if(P!=0)throw P;if(e=="stsz"){f=I(l,i);i+=4}var m=I(l,i)*(e=="stsc"?3:e=="stts"||e=="ctts"?2:1);
i+=4;T=[];for(var $=0;$<m;$++){if(f!=0)T.push(f);else{T.push(I(l,i));i+=4}}for(var $=0;$<m;$++)C+=T[$]}else if(e=="co64"){var P=I(l,i);
i+=4;if(P!=0)throw P;var m=I(l,i);i+=4;T=[];for(var $=0;$<m;$++){T.push(D.Dv(l,i));i+=8}}else if(e=="moov"||e=="trak"||e=="mdia"||e=="minf"||e=="dinf"||e=="stbl"||e=="uuid"){if(e=="uuid")i+=16;
T=o(l,i,B,k+1)}else if(e=="CMT1"||e=="CMT2"||e=="CMT3"||e=="CMT4"){T=UTIF.decode(l.slice(i,B))}else{T.z=i;
T.y2=N}i=B;if(e=="trak"||e=="free"||e=="uuid"){if(U[e]==null)U[e]=[];U[e].push(T)}else{if(U[e]!=null)throw e;
U[e]=T}}return U}function c(l){var i=new Uint8Array(l);return o(i,0,i.length,0)}function E(l,i,F){var k=b(l,i),U=k.mdia.minf.stbl,I=U.stsc,V=0,u=0;
for(var $=0;$<I.length;$+=3){var N=($+3<I.length?I[$+3]:1e4)-I[$],e=u+N*I[$+1];if(u<=F&&F<e){while(u+I[$+1]<=F){V++;
u+=I[$+1]}break}V+=N;u=e}var B=U.stco;if(B==null)B=U.co64;var j=B[V];while(u<F){j+=U.stsz[u];u++}return[j,U.stsz[F]]}function b(l,i){var F=l.moov.trak;
for(var $=0;$<F.length;$++)if(F[$].mdia.hdlr.avb==i)return F[$]}return{QE:c,aD3:E,aou:b}}(),n={};n.IJ=function(x){return window.devicePixelRatio||1};
n.YU=function(x,J){return(J.axw=="touch"?12:8)*n.IJ()/x.Q.Z};n.Kj=function(x,J,o){this.name=x;this.id=J;
this.Qf=null;if(o!=null)this.Ta=o};n.Kj.prototype.E4=function(x,J,o,c,E){};n.Kj.prototype.enable=function(x,J,o,c,E,b){var l=new ko(L.E.N,!0);
l.data={d:L.H.TG,i2:"default"};J.c(l)};n.Kj.prototype.disable=function(x,J,o,c,E){};n.Kj.prototype.aaQ=function(x,J,o,c,E){return!1};
n.Kj.prototype.JC=function(x,J,o,c,E){};n.Kj.prototype.G_=function(x,J,o,c,E){};n.Kj.prototype.OC=function(x,J,o,c,E){};
n.Kj.prototype.w7=function(x,J,o,c,E,b){};n.Kj.prototype.KY=function(x,J,o,c,E){};n.Kj.prototype.B3=function(x,J,o,c){};
n.Kj.prototype.XX=function(x,J,o,c){};n.Kj.prototype.Tu=function(x,J){};n.Kj.prototype.WY=function(x,J){};
n.Kj.prototype.Jg=function(x){return 0};n.Kj.prototype.kT=function(x,J,o,c,E){};n.Kj.prototype.DL=function(x,J){};
n.Kj.prototype.f3=function(x,J){return!1};n.Kj.prototype.dP=function(x,J){return!1};n.Kj.prototype.Yv=function(){return!1};
n.Kj.prototype.w8=function(x,J){return!0};n.Kj.prototype.hp=function(){return null};n.Kj.prototype.VJ=function(x,J,o){};
n.Kj.prototype.amM=function(){return!1};n.Kj.prototype.r_=function(x,J,o,c){};n.Kj.prototype.track=function(x){var J=new ko(L.E.p4,!0);
J.data=x;x.zd=!0;this.Qf.c(J)};n.Kj.bg=function(x,J,o,c){var E=10*n.IJ()*(x.axw=="touch"?2:1),b=x.x+E,l=x.y-E,i=q.xP.Cx(J.m,o.yV,c,o.m,!0),F=q.xP.Cx(J.e,o.yV,c,o.e,!0);
while(i.length<F.length)i=" "+i;while(i.length>F.length)F=" "+F;n.Kj.m_(b,l,[h9.get([12,41]).charAt(0)+": "+i,h9.get([12,42]).charAt(0)+": "+F],o)};
n.Kj.m_=function(x,J,o,c){function E(k,e,B,j,T,a){k.beginPath();k.moveTo(e,B+a);k.arcTo(e,B+T,e+a,B+T,a);
k.arcTo(e+j,B+T,e+j,B+T-a,a);k.arcTo(e+j,B,e+j-a,B,a);k.arcTo(e,B,e,B+a,a)}var b=n.IJ(),l=Math.round,i=l(11*b),F=n.Kj.awc,U=0;
if(F==null)F=n.Kj.awc=document.createElement("canvas");var k=F.getContext("2d");k.font=i+"px monospace";
for(var $=0;$<o.length;$++)U=Math.max(U,k.measureText(o[$]).width);var I=l(U+12*b),V=l((o.length*14+5)*b),u=new ha(x,J-V,I,V);
if(F.width!=I||F.height!=V){F.width=I;F.height=V;k.font=i+"px monospace"}k.clearRect(0,0,I,V);k.fillStyle="rgba(0,0,3,0.8)";
E(k,0,0,I,V,l(4*b));k.fill();k.fillStyle="rgba(255,255,255,1)";for(var $=0;$<o.length;$++)k.fillText(o[$],l(6*b),l(($+1)*13*b));
var N=[k.getImageData(0,0,I,V).data,u.clone()];if(c)c.t.MJ=[N];return N};n.Kj.awc=null;n.ug="0";n.Ks="1";
n.aCj="2";n.aes="3";n.MG="5";n.alc="6";n.a0C="7";n.x9="8";n.ls="9";n.TX="10";n.Z2="11";n.N0="12";n.sK="13";
n.z3="14";n.au1="15";n.rk="16";n.Ox="18";n.lu="19";n.dQ="20";n.L5="21";n.Oj="22";n.di="23";n.R8="24";
n.dK="25";n.fu="27";n.FI="31";n.PX="32";n.ayH="33";n.e1="34";n.azz="35";n.V3="36";n.rN="37";n.zL="38";
n.IV="39";n.Oi="40";n.jp="41";n.WS="42";n.Zp="43";n.aBq="44";n.eY="47";n.Ha="48";n.dr="51";n.S3="52";
n.Ni="54";n.YM="55";n.wX="56";n.nF="57";n.jZ="58";n.cL="59";n.ZE="60";n.PE="61";n.KM="70";n.atw="71";
n.Ih="100";n.Nw="101";n.Es="102";n.Z$="103";n.tY="120";n.pC="230";n.a7b="231";n.$y="232";n.uH="233";
n.yq="234";n.CP="235";n.mY="236";n.BD={};n.BD[n.di]="tools/brush";n.BD[n.R8]="tools/pencil";n.BD[n.FI]="tools/eraser";
n.V5={PcTl:n.R8,PbTl:n.di,moveTool:n.ug,cloneStampTool:n.fu,typeCreateOrEditTool:n.eY,artboardTool:n.KM,marqueeRectTool:n.Ks,typeVerticalCreateOrEditTool:n.Ha,perspectiveCropTool:n.Z2,marqueeEllipTool:n.aCj,eyedropperTool:n.z3,eraserTool:n.FI,pathComponentSelectTool:n.dr,lassoTool:n.MG,backgroundEraserTool:n.PX,directSelectTool:n.S3,polySelTool:n.alc,rectangleTool:n.Ni,magneticLassoTool:n.a0C,gradientTool:n.e1,quickSelectTool:n.x9,bucketTool:n.azz,ellipseTool:n.YM,magicWandTool:n.ls,blurTool:n.V3,polygonTool:n.wX,cropTool:n.TX,sharpenTool:n.rN,lineTool:n.nF,sliceTool:n.N0,smudgeTool:n.zL,customShapeTool:n.jZ,sliceSelectTool:n.sK,dodgeTool:n.IV,spotHealingBrushTool:n.Ox,burnInTool:n.Oi,saturationTool:n.jp,penTool:n.WS,redEyeTool:n.Oj,freeformPenTool:n.Zp,rulerTool:n.rk,paintbrushTool:n.di,handTool:n.cL,pencilTool:n.R8,zoomTool:n.PE,objectSelectTool:n.aes,healingBrushTool:n.lu,patchTool:n.dQ,contentAwareMoveTool:n.L5,colorReplacementBrushTool:n.dK,curvaturePenTool:n.aBq,rotareViewTool:n.ZE};
n.mv=function(x,J,o){n.Kj.call(this,x,J,o);this.qa={brush:x?aR.iY():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Vh=null;this.LP=null;this.TN=null;this.GE=null;this.jd=null;this.wW=null;this.r6=null;this.fM=null;
this.lQ=null;this.dt=null;this.aI=null;this.EI=null;this.BJ=null;this.pf=1;this.hb=!1;this.WF=null;this.caller=null};
n.mv.prototype=new n.Kj;n.mv.prototype.dP=function(x,J){return x.sz&&J.S(dG.uJ)};n.mv.prototype.G_=function(x,J,o,c,E){if(c.S(dG.Zj)){this.wW=new ck(E.x,E.y);
var b=this.qa.brush.Brsh.v,l=b.Dmtr.v.val,i=b.Hrdn!=null?b.Hrdn.v.val:-1;this.r6=[l,i,!0,JSON.parse(JSON.stringify(this.qa.brush)),E];
this.JH(o)}};n.mv.prototype.Zv=function(x,J,o){var c=this.r6,E=x.Q.Z,b=o.x-c[4].x,l=o.y-c[4].y,i=c[0],F=c[1],k=Math.abs(b)>Math.abs(l);
if(k&&c[2]){var U=Math.round(2*b/E);i+=U;o.x-=b-.5*U*E}if(!k&&!c[2]&&F!=-1){var U=Math.round(.25*l);
F+=U;o.y-=l-4*U}i=Math.max(1,i);F=c[1]==-1?-1:Math.max(0,Math.min(100,F));var I=c[3];I.Brsh.v.Dmtr.v.val=i;
if(F!=-1)I.Brsh.v.Hrdn.v.val=F;this.r6=[i,F,k,I,o];var V=bd.gB(I,J.SB.I2,E),u=V[1];u.x=Math.round(this.wW.x-u.m/2);
u.y=Math.round(this.wW.y-u.e/2);x.t.QP=[V];var N=x.Q.Vx(this.wW.x,this.wW.y);x.t.Ad={f6:[],DE:[N.x-i/2,N.y,N.x+i/2,N.y]};
if(F!=-1)x.t.Ad.DE.push(N.x+50/E,N.y-F/2,N.x+50/E,N.y+F/2);x.sD=!0};n.mv.prototype.KY=function(x,J,o,c,E){if(this.id==n.dQ||this.id==n.L5)return;
if(this.wW){this.wW=null;this.OK(JSON.parse(JSON.stringify(this.r6[3])));x.t.QP=[];x.t.Ad=null;x.sD=!0;
return}var b=new ko(L.E.N,!0);b.data={d:L.H.dC,v:this.id,ai_:"showBrushOpts",UL:new ck(E.rR+4,E.ru)};
J.c(b)};n.mv.prototype.OK=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.bS,KJ:h4.rO,jQ:x};this.caller.c(J)};
n.mv.uQ=function(x,J,o,c,E,b){if(x==null)x="FrgC";if(J==null)J="norm";if(o==null)o=1;if(E==null)E=!1;
var l={classID:"Fl",Usng:{t:"enum",v:{FlCn:x}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(o*100)}},PrsT:{t:"bool",v:E},Md:{t:"enum",v:{BlnM:iP.V0(J)}}};
if(x=="Clr")l.Clr={t:"Objc",v:c};if(x=="contentAware")l.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(x=="Ptrn")l.Ptrn={t:"Objc",v:b};return{bV:"fill",Rx:l}};n.mv.prototype.E4=function(x,J,o,c,E){this.Qf=J;
var b=o.X7.length;if(b==0&&!o.$K())return;var l=b!=0?-1-o.X7[0]:o.g[0],i=o.B[l];if(x.d=="fromAction"){var F=x.xV,k=F.Rx;
if(k&&k.null&&k.null.v[0]&&k.null.v[0].v.classID=="Path"){var U=o.l$(),I=U[0],V=U[1],u=I[V.length==0?0:V[0]].add.vmsk;
if(F.bV=="fill"){var N=u.Da(),e=E.Q6,B=this.qa,j=e>>16&255,T=e>>8&255,a=e>>0&255;this._V(o,i,N,j,T,a,Math.round(B.opacity*255),B.bmode,"Fill Path")}else{var P=k&&k.Prs&&k.Prs.v,v=JSON.stringify(this.qa.brush);
if(P)aR.a5k(this.qa.brush,[!1,!0]);for(var R=0;R<1e3;R++){var y=q.p.Yk(u.$,R,!0);if(y==-1){this.w7(o,J,E,c,null);
break}var t=u.$[y],g=u.$.slice(y,y+1+t.length),H=q.O.uG(g,2).j,_=H.slice(0,8);for(var Y=8;Y<H.length;
Y+=6)_.push(H[Y-2],H[Y-1],H[Y],H[Y+1],H[Y+2],H[Y+3],H[Y+4],H[Y+5]);var K={};K.Points=_;K.TextOnPathTRange=u.wD.slice(0);
var K=gD.Z0(K,2,t.type==3),f=K[0],m=o.Q.OY(f[0],f[1]);if(P)m.FC=0;if(R==0)this.JC(o,J,E,c,m);else this.LP.moveTo(f[0],f[1]);
var C=f.length,Z=t.type==0?C+2:C;for(var $=2;$<Z;$+=2){m=o.Q.OY(f[$%C],f[($+1)%C]);m.sz=!0;if(P){var A=$/Z;
m.FC=2*Math.min(A,1-A)}this.OC(o,J,E,c,m,this.qa.flow)}this.LP.finish();this.u5(o)}if(P)this.qa.brush=JSON.parse(v)}}else if(F.bV=="fill"){var d=k.PrsT?k.PrsT.v:!1,G=i?i.add.lspf:0;
if(d&&i){i.add.lspf=G==null?1:G|1}var r=(k.Opct?k.Opct.v.val:100)/100,X=k.Md?iP.Am(k.Md.v.BlnM):"norm",w=k.Usng.v.FlCn;
if(w=="contentAware"||w=="aiHeal"){if(o.u==null){alert("Select an area to heal first.");return}if(!o.$K())return;
var S=o.u,z=null;if(w=="aiHeal"){if(!fy._R())return;var s=o.B[o.g[0]].rect;z=S.rect.Kc(s);if(z.P()>512*512){alert("Your area is too big, we support only smaller areas.");
return}while(!0){var M=z.clone();M.wI(1,1);M=M.Kc(s);if(M.P()>z.P()&&M.P()<=512*512)z=M;else break}while((z.m&7)!=0)z.m--;
while((z.e&7)!=0)z.e--}this.DY(o);this.iZ(o,0);if(w=="contentAware"){var Q=q.R(S.rect.P()*4);q.qR(S.channel,Q,3);
this.xl(o,"sheal",Q,S.rect,S.rect);this.W(o,S.rect);this.finish(o,S.rect)}else{this.aot=z;this.VE=o;
var O=q.R(z.P()*4);q.St(this.dt,this.lQ,O,z);var W=q.R(z.P());q.zc(S.channel,S.rect,W,z);q.Mr(W);fy.apS(1,!0,null,!1,"","512x512",o,[O,W,z],this.amj.bind(this));
alert("Processing ...",5e3)}}else if(w=="Ptrn"){var e9=E.yC,jV=o.u?o.u.rect.clone():new ha(0,0,o.m,o.e),co=q.R(jV.P()*4);
cI.ye(k,co,jV,e9,new ck(0,0));this.iz(o,i,o.u,co,"norm",[6,48,0,2])}else{var e;if(w=="FrgC")e=E.Q6;else if(w=="BckC")e=E.xR;
else if(w=="Blck")e=0;else if(w=="Wht")e=16777215;else if(w=="Gry")e=8421504;else if(w=="Clr"){var dz=q.r.fL(k.Clr.v);
e=dz.o<<16|dz.I<<8|dz.J}var j=e>>16&255,T=e>>8&255,a=e>>0&255;this._V(o,i,o.u,j,T,a,Math.round(255*r),X,[2,3])}if(d&&i){i.add.lspf=G==null?0:G}}else if(F.bV=="delete"){var eh=l<0?1:i.tB,S=o.u,eT;
if(S==null)return;var a9=l<0?o._w[-l-1]:eh<=0?null:eh==1?i.Da():i.O5(o).F,jV=eh<=0?i.rect:a9.rect,kB=eh<=0?S.rect.Kc(jV):S.rect.clone();
if(kB.Kx())return;var dc=kB.P();if(eh<=0){eT=q.R(dc*4);q.St(i.buffer,i.rect,eT,kB)}else{eT=q.R(dc);a9.extend(kB);
q.zc(a9.channel,a9.rect,eT,kB)}if(0<=l&&i.x8(o,S)){if(eh<=0){q.xj(eT,0);q.St(i.Xi.YP,i.Xi.Qw,eT,kB)}else{eT.fill(255);
q.zc(i.Xi.YP,i.Xi.Qw,eT,kB)}}else{if(eh<=0){var fv=q.R(eT.length>>2);q.z$(eT,fv,3);q.l.E2(q.Qs(S.rect.P()),S.rect,fv,kB,S.channel,kB,1);
q.qR(fv,eT,3)}else{var jS=q.R(S.rect.P()),j=E.xR>>>16&255,T=E.xR>>8&255,a=E.xR>>0&255;jS.fill(Math.round(q.TM(j,T,a)));
q.l.E2(jS,S.rect,eT,kB,S.channel,kB,1)}}this.zg(o,!0,[2,2],l,eh,kB,eT)}}if(x.d=="stroke"){var cx=x.ak8,S=o.u;
if(S==null){S={rect:i.rect.clone(),channel:q.R(i.rect.P())};q.z$(i.buffer,S.channel,3)}var bX=cI.KP(cx),gi=n.vh.ahv(S,Math.ceil(bX[0]),Math.ceil(bX[1])),e=q.r.fL(cx.Clr.v),j=Math.round(e.o),T=Math.round(e.I),a=Math.round(e.J);
this._V(o,i,gi,j,T,a,Math.round(255*cx.Opct.v.val/100),iP.Am(cx.Md.v.BlnM),[14,9])}if(x.d=="fillBMP"){this.iz(o,i,o.u,x.xk,x.Nu,x.wd)}if(x.d=="draw"){var cM=x.Im,ea=cM.rect;
this.DY(o);var a1=o.B[o.g[0]];if(x.aB_&&a1&&a1.tB<=0&&o.X7.length==0){ea=n.Y8.afg(cM,o);a1.buffer=cM.buffer.slice(0);
a1.rect=ea.clone()}else{var db=this.qa.bmode,d2=this.qa.opacity;this.qa.bmode="norm";this.qa.opacity=1;
this.xl(o,"draw",cM.buffer,ea,ea.Kc(new ha(0,0,o.m,o.e)));this.qa.bmode=db;this.qa.opacity=d2}this.W(o,ea);
o.Gf=!0;this.finish(o,ea,x.wd,x.aB_)}};n.mv.prototype.amj=function(x){var J=UPNG.decode(x.target.response),o=new Uint8Array(UPNG.toRGBA8(J)[0]),c=this.aot,E=this.VE;
this.VE=null;this.aot=null;this.xl(E,"draw",o,c,c);this.W(E,c);this.finish(E,c);fy.WK("remove")};n.mv.prototype._V=function(x,J,o,c,E,b,l,i,F){var k=o==null?new ha(0,0,x.m,x.e):o.rect,U=l<<24|b<<16|E<<8|c<<0,I=q.R(k.P()*4);
q.xj(I,U);this.iz(x,J,o,I,i,F)};n.mv.prototype.iz=function(x,J,o,c,E,b){var l=x.X7.length!=0?-1-x.X7[0]:x.g[0],i=l<0?1:J.tB,F=l<0?x._w[-1-l]:i<=0?null:i==1?J.Da():J.O5(x).F,k=i<=0?J.rect:F.rect,U=o==null?new ha(0,0,x.m,x.e):o.rect,I=o==null?q.ov(x.m*x.e):o.channel;
if(o!=null)q.nc(I,c);var V=U.P(),u=q.R(V*4);if(i<=0)q.St(J.buffer,J.rect,u,U);else{F.extend(U);u.fill(255);
q.Qz(F.iM(U),u)}if(0<=l&&o&&J.x8(x,o)&&i<=0){var N=J.Xi.T8,e=J.Xi.T8.slice(0);if(i<=0)q.N8(c,e);else q.N8(fullc,e);
var B=new bk([2,3],this);B.data={d:"drawtemp",a:x.g[0],ib:i,aBE:N,aDr:e};x.VR(B);this.Tu(B.data,x)}else{if(i<=0){var j;
if(J.Sm(0)){j=q.R(U.P());q.z$(u,j,3)}q.l.j6(E,c,U,u,U,U,1);if(J.Sm(0))q.qR(j,u,3)}else{q.l.j6(E,c,U,u,U,U,1);
var T=q.R(V);q.Sk(u,T);u=T}this.zg(x,!0,b,l,i,U,u)}};n.mv.prototype.f3=function(x){if(dG.uF.indexOf(x)!=-1)return!0;
return!1};n.mv.prototype.B3=function(x,J,o,c){var E=this.qa.brush,b=c.S(dG.Zj),l=b!=this.hb,i=n.mv.M4(E,c);
if(i!=null)this.OK(i);if(!c.S(dG._k)&&c.m2()!=-1){var F=dG.lm(Math.round(this.qa.opacity*100),c.m2())/100;
this.RM({opacity:F},J)}if(this.id==n.x9&&l&&x!=null){var k=this.qa.qsmode;if(k==2)k=x.u==null?0:1;else k=2;
this.RM({qsmode:k},J)}this.hb=b;if(l){if(x)this.pf=x.Q.Z;this.JH(o,c)}};n.mv.M4=function(x,J){var o=x.Brsh.v.Dmtr.v.val,c=x.Brsh.v.Hrdn!=null?x.Brsh.v.Hrdn.v.val:-1,E=o,b=c,l=J.S(dG.uJ);
if(J.S(dG.Ic)){if(l)c=25*Math.floor((c-1)/25);else{if(o<=10)o--;else if(o<=50)o=5*Math.floor((o-1)/5);
else if(o<=100)o=10*Math.floor((o-1)/10);else if(o<=200)o=25*Math.floor((o-1)/25);else if(o<=400)o=50*Math.floor((o-1)/50);
else o=100*Math.floor((o-1)/100)}}if(J.S(dG.br)){if(l)c=25*Math.ceil((c+1)/25);else{if(o<10)o++;else if(o<50)o=5*Math.ceil((o+1)/5);
else if(o<100)o=10*Math.ceil((o+1)/10);else if(o<200)o=25*Math.ceil((o+1)/25);else if(o<400)o=50*Math.ceil((o+1)/50);
else o=100*Math.ceil((o+1)/100)}}o=Math.max(1,o);c=Math.max(0,Math.min(100,c));if(b==-1)c=-1;if(o!=E||c!=b){var i=JSON.parse(JSON.stringify(x));
i.Brsh.v.Dmtr.v.val=o;if(b!=-1)i.Brsh.v.Hrdn.v.val=c;return i}return null};n.mv.prototype.JH=function(x,J,o,c){if(x.SB.list.length==0)return;
var E=this.id,b;if((E==n.fu||E==n.lu||E==n.di||E==n.R8)&&(J!=null&&J.S(dG.Zj)||this.qa.alt[0]))b="crosshair";
else{var l=this.pf,i=this.qa.brush;if((E==n.fu||E==n.lu)&&o&&this.EI&&this.EI.length==this.aI.P()*4){var F=o.Q.Vx(c.x,c.y),k=this.aco(F),U=this.EI,I=this.aI,V=new ha(I.x+k.x,I.y+k.y,I.m,I.e),u=bd.gB(i,x.SB.I2,l),N=u[0],e=u[1],B=Math.ceil(e.m/l),j=new ha(Math.round(F.x-B/2),Math.round(F.y-B/2),B,B),T=q.R(j.P()*4),a,P;
q.St(U,V,T,j);if(l==1){a=T;P=j}else{var v=new cW(l,0,0,l,0,0),R=n.Y.yo([T,j],v,!0);P=e.clone();P.x=R.rect.x;
P.y=R.rect.y;if(P.U5(R.rect))a=R.buffer;else{a=q.R(P.P()*4);q.St(R.buffer,R.rect,a,P)}}var y=this.qa.opacity/255;
for(var $=0;$<a.length;$+=4)a[$+3]=y*(N[$+3]*a[$+3]);bd.a25(new Uint32Array(a.buffer),P,4278190080,4294967295);
b={bA:a,By:P,FH:new ck(P.m/2,P.e/2)}}else b=bd.kO(i,x.SB.I2,l,E==n.dK||E==n.PX)}var t=new ko(L.E.N,!0);
t.data={d:L.H.TG,i2:b};if(this.caller)this.caller.c(t)};n.mv.prototype.enable=function(x,J,o,c){this.Vh=o;
this.caller=J;this.OK(JSON.parse(JSON.stringify(this.qa.brush)));if(x&&x.Q.Z!=0)this.pf=x.Q.Z;this.JH(o,c)};
n.mv.prototype.DL=function(x,J){if(J==h4.rO){this.qa.brush=x.SB._i;this.JH(x)}};n.mv.prototype.kT=function(x,J,o,c,E){for(var b in x)this.qa[b]=x[b];
if(this.qa.alt[0])this.JH(E,c,o)};n.mv.prototype.aD1=function(x){var J=x.X7.length!=0?-1-x.X7[0]:x.g[0],o=x.B[J],c=J<0?1:o.tB,E=J<0?x._w[-J-1]:c<=0?null:c==1?o.Da():o.O5(x).F,b=E?E.channel:o.buffer,l=(E?E.rect:o.rect).clone();
return[o,c,E,b,l]};n.mv.prototype.DY=function(x,J){this.BJ=x.u==null?null:{rect:x.u.rect.clone(),channel:x.u.channel.slice(0)};
var o=this.dt,c=this.aD1(x),E=c[0],b=c[1],l=c[2];this.dt=c[3];this.lQ=c[4];var i=new ha(0,0,x.m,x.e),F=i.k7(this.lQ);
if((this.On()&&b<=0||F.U5(this.lQ))&&J!=!0){if(o&&o.length==this.dt.length){o.set(this.dt);this.dt=o}else this.dt=this.dt.slice(0)}else{if(l)l.extend(F);
else E.extend(F)}};n.mv.prototype.iZ=function(x,J){var o=this.aD1(x),c=o[1],E=o[3],b=o[4],l=[E,b],i=J!=null?J:this.qa.sfrom;
if(c<=0&&i!=0){l[1]=new ha(0,0,x.m,x.e);l[0]=x.or(i==1&&x.g[0]!=x.B.length-1?x.g[0]:null).slice(0)}this.aI=l[1].clone();
this.EI=l[0].slice(0)};n.mv.prototype.mg=function(x,J,o){if(x.S(dG.Zj)){var c=new ko(L.E.f,!0);c.v=n.z3;
c.data={d:"pickhere",ak3:o};J.c(c);return!0}return!1};n.mv.prototype.VH=function(x,J,o,c,E,b){if(this.id!=n.x9&&!x.$K(this.caller)){this.LP=null;
return}if(this.id!=n.x9&&this.LP)return;this.DY(x);var l=new ha(0,0,x.m,x.e),i=null;if(b!=null){var F=x.X7.length!=0?-1-x.X7[0]:x.g[0],k=x.B[F],U=F<0?x._w[-F-1]:k.tB<=0?null:k.tB==1?k.Da():k.O5(x).F;
i=q.R(l.P()*4);if(U)n.mv.pU(this.dt,this.lQ,U.color,i,l);else q.St(this.dt,this.lQ,i,l)}var I=this.qa;
if(this.LP&&this.id==n.x9&&I.qsmode!=0&&x.u!=null){}else{var V=J.Q6,u=J.xR;if(this.WF=="erase"){var N=V;
V=u;u=N}var e=this.id==n.x9?this.lQ:l;this.LP=new bd(I.brush,J.SB.I2,J.SB.Uc,{c8:E,rU:b,a4g:I.smth*50/x.Q.Z,Xl:this.id==n.R8||I.emode==1,Yb:x.Yb},V,u,e,i)}if(this.id==n.x9){this.LP.aiM(I.brush,I.qsmode==2?0:16777215)}var B=x.Q.Vx(c.x,c.y);
if(o.S(dG.uJ)&&this.TN){var j=this.TN;this.LP.moveTo(j.x,j.y,c.FC);this.LP.lineTo(.001*j.x+.999*B.x,.001*j.y+.999*B.y,c.FC);
this.LP.lineTo(B.x,B.y,c.FC)}else this.LP.moveTo(B.x,B.y,c.FC);this.TN=B;this.GE=B.clone();this.jd=new g9(B,x.Q.o7)};
n.mv.prototype.FV=function(x,J,o){if(x&&x.Q.Z!=0&&x.Q.Z!=this.pf){this.pf=x.Q.Z;this.JH(o)}};n.mv.prototype.NS=function(x,J,o,c){if(this.LP==null)return;
var E=x.B[x.g[0]],b=x.Q.Vx(c.x,c.y),l=this.jd.hg(b,o);if(l.U5(this.TN))return 1;this.LP.lineTo(l.x,l.y,c.FC);
this.TN=l;if(this.id==n.fu||this.id==n.lu){var i=this.dm(),F=11;i=x.Q.OY(b.x-i.x,b.y-i.y);var k=F>>>1,U=new ha(Math.round(i.x)-k,Math.round(i.y)-k,F,F),I=q.R(U.P()*4);
q.xj(16777215);for(var $=0;$<F;$++)I[($*F+k)*4+3]=I[(F*k+$)*4+3]=255;x.t.MJ=[[I,U]];x.sD=!0}};n.mv.prototype.XX=function(x,J,o,c){if(o.QJ!=this.id)return;
if(this.id!=n.x9||x==null)return;if(x.u==null||x.g[0]!=this.ahj){this.ahj=x.g[0];this.RM({qsmode:0},J)}};
n.mv.prototype.W=function(x,J){if(x.X7.length!=0){x.sD=!0;return}var o=x.B[x.g[0]];if(J==null){J=this.LP.nd();
if(this.On()&&o.tB<=0)J=J.Kc(this.lQ)}var c=o.tB;if(c==1||c==3){var E=Math.round((c==1?o.Da():o.O5(x).F)._M*2.4);
J=J.clone();J.wI(E,E)}if(J.Kx())return;if(c<=0){o.W(J)}if(c==1){o.Da().op=!0;o.vl(x,J)}if(c==3){o.W(J)}x.W(x.root.N$(J,x,x.g[0],!0))};
n.mv.prototype.w7=function(x,J,o,c,E){if(this.LP==null)return;this.LP.finish();if(this.id!=n.Ox&&this.id!=n.lu&&this.id!=n.x9)this.u5(x);
if(this.id==n.fu||this.id==n.lu){x.t.MJ=[];x.sD=!0}if(this.id==n.x9){var b=x.u;x.u=this.BJ;var l=new ko(L.E.f,!0);
l.data={d:"setsel",wd:this.name,u:b};l.v=n.Ks;J.c(l);if(this.qa.qsmode==0)this.RM({qsmode:1},J)}else{this.finish(x,this.LP.ZS());
this.LP=null;this.fM=null}this.dir=0};n.mv.prototype.RM=function(x,J){for(var o in x)this.qa[o]=x[o];
var c=new ko(L.E.N,!0);c.data={d:L.H.dC,v:this.id,HT:x};J.c(c)};n.mv.prototype.On=function(){var x=this.id;
return x==n.x9||x==n.FI||x==n.IV||x==n.Oi||x==n.jp||x==n.Oj};n.mv.prototype.finish=function(x,J,o,c,E){var b=x.X7.length!=0?-1-x.X7[0]:x.g[0],l=x.B[b],i=b<0?1:l.tB,F=b<0?x._w[-b-1]:i<=0?null:i==1?l.Da():l.O5(x).F,k=F?F.rect:l.rect,V;
if(this.On()||!k.U5(this.lQ)){if(F==null){if(this.On())l.xz();else{var U=J.k7(this.lQ),I=q.R(U.P()*4);
q.St(l.buffer,l.rect,I,U);l.buffer=I;l.rect=U}}else F.xz();this.W(x,k)}if(i<=0){V=q.R(J.P()*4);q.St(this.dt,this.lQ,V,J)}else{V=q.R(J.P());
V.fill(F.color);q.zc(this.dt,this.lQ,V,J)}this.zg(x,!1,o?o:this.name,b,i,J,V,c,E)};n.mv.prototype.zg=function(x,J,o,c,E,b,l,i,F){var k=l;
if(E>0){k=q.R(b.P()*4);n.mv.pU(l,b,0,k,b)}var U=new bk(o,this);U.data=[{a:c,ib:E,By:b,kC:k}];if(i)U.data.b5=[x.u,null];
if(F)U.data.b5=[this.BJ,x.u];x.VR(U);if(J)this.Tu(U.data,x);else if(i)x.u=null;n.FP.aw0(x,U.data)};n.mv.prototype.WY=function(x,J){this.amS(x,J,!1)};
n.mv.prototype.Tu=function(x,J){this.amS(x,J,!0)};n.mv.prototype.Jg=function(x){return n.FP.Jg(x)};n.mv.prototype.amS=function(x,J,o){if(x.d=="drawtemp"){var c=o?x.aDr:x.aBE,E=J.B[x.a];
E.Xi.T8=c;E.IR(J,0,0,J.u);E.W();J.Gf=!0}else{n.FP.uK(J,x);if(x.b5){J.u=x.b5[o?1:0];J.ji=!0}}J.W()};n.mv.prototype.u5=function(x){this.xl(x,this.WF,this.LP.BE(),this.LP.mZ(),this.LP.nd());
this.W(x)};n.mv.prototype.xl=function(x,J,o,c,E){var b=this.qa,l=x.B[x.g[0]],i=x.X7.length!=0?x._w[x.X7[0]]:l.tB<=0?null:l.tB==1?l.Da():l.O5(x).F,F=q.R(E.P()*4),k,U=l.Sm(0);
if(i==null){if(this.id==n.L5&&J=="heal")q.St(l.buffer,l.rect,F,E);else q.St(this.dt,this.lQ,F,E);if(U){k=q.R(E.P());
q.z$(F,k,3)}}else{n.mv.pU(this.dt,this.lQ,i.color,F,E)}if(x.u&&J!="qselect"){var I=E.Kc(x.u.rect),V=q.R(I.P()*4);
if(J=="copy"){var u=q.R(I.P());q.zc(x.u.channel,x.u.rect,u,I);q.St(F,E,V,I);q.l.UH(o,c,V,I,u,I,0,I,1,!1)}else{q.St(o,c,V,I);
q.gV(x.u.channel,x.u.rect,V,I)}o=V;c=I}function N(j,eT){var jS=Math.max(eT.x,Math.min(eT.x+eT.m-1,j.x)),cx=Math.max(eT.y,Math.min(eT.y+eT.e-1,j.y));
return new ck(jS,cx)}if(J=="idraw"||J=="ierase"){if(this.fM==null)this.fM=q.R(this.lQ.P());var e=this.qa.samp,B=this.Vh.xR,j=N(this.TN,E),T=e==0?j:this.GE,a=T.x,P=T.y,v=n.pm.sL(this.dt,this.lQ,[T,new ck(a-2,P),new ck(a+2,P),new ck(a,P-2),new ck(a,P+2)]);
if(e==2)v=[[B>>>16&255,B>>>8&255,B>>>0&255,255]];var R=n.pm.j7(F,E,j,v,this.qa.wconf),y=q.R(E.P());q.zc(this.fM,this.lQ,y,E);
q.ZP.k7(R,y,y);q.zc(y,E,this.fM,this.lQ);q.gV(y,E,o,c);J=J.slice(1)}if(J=="erase"&&(n.FP.aAM(x)!=16777215||i))J="draw";
if(J=="draw")q.l.j6(b.bmode,o,c,F,E,E,b.opacity);else if(J=="erase"){var t=b.opacity;if(this.id==n.PX)t=1;
var g=q.R(E.P()*4);q.St(o,c,g,E);if(i==null){var H=q.R(E.P());q.z$(g,H,3);q.m5(H,t);q.Mr(H);q.gV(H,E,F,E)}else{q.xj(g,0,4278190080);
q.l.j6("norm",g,E,F,E,E,t)}}else if(J=="clone"||J=="heal"){var _=this.dm(),Y=this.aI.clone();Y.offset(_.x,_.y);
var K=E.clone();K.wI(1,1);var f=q.R(K.P()*4),m=q.R(K.P());q.St(o,c,f,K);q.z$(f,m,3);q.xj(f,0);if(i==null){q.St(this.EI,Y,f,K);
var C=q.R(K.P());q.z$(f,C,3);q.HF(C,m)}else n.mv.pU(this.EI,Y,i.color,f,K);if(J=="clone"){q.qR(m,f,3);
q.l.j6(b.bmode,f,K,F,E,E,b.opacity)}if(J=="heal"){var Z=m.slice(0);q.round(Z,20);var A=q.R(K.P()*4);
if(i==null)q.St(this.dt,this.lQ,A,K);else n.mv.pU(this.dt,this.lQ,i.color,A,K);q.l.UH(f,K,A,K,Z,K,0,K,1,!1);
q.Wg.Vm(A,Z,K);q.l.UH(A,K,F,E,m,K,0,E,1,!1)}}else if(J=="dodge"||J=="burn"){var f=q.R(E.P()*4),r=1,X=0,w=0,S=0;
q.St(o,c,f,E);var d=E.P()*4,G=n.mv.B7;if(this.hb){if(J=="dodge")J="burn";else J="dodge"}var z=b.rng;
if(J=="dodge"){X=[1-r/2,1,1+r][z];w=[1,1/(1+r),1][z];S=[r/2,0,0][z]}if(J=="burn"){X=[1/(1-r/2),1,1-r/2][z];
w=[1,1+r,1][z];S=[-(r/2)/(1-r/2),0,0][z]}for(var $=0;$<d;$+=4){var s=f[$+3];F[$+0]=G(F[$+0],X,w,S,s);
F[$+1]=G(F[$+1],X,w,S,s);F[$+2]=G(F[$+2],X,w,S,s)}}else if(J=="sponge"||J=="redeye"){var f=q.R(E.P()*4),m=q.R(E.P());
q.St(o,c,f,E);q.z$(f,m,3);q.N8(F,f);var M=b.smode;if(this.hb)M=1-M;var Q=fn.Bt("hue2");if(J=="sponge")eZ.Fa(Q,0,[0,[-50,46][M],[6,5][M]]);
else eZ.Fa(Q,1,{hX:[265,305,25,55],Wj:[0,-90,-70]});var O=dv.SR("hue2",Q);dv.fa(O,f,f,E);q.l.UH(f,E,F,E,m,E,0,E,1,!1)}else if(J=="copy")q.St(o,c,F,E);
else if(J=="sheal"){var f=q.R(E.P()*4),m=q.R(E.P());q.St(o,c,f,E);q.z$(f,m,3);f.fill(0);var W=this.EI,e9=this.aI;
if(i){W=q.R(e9.P()*4);n.mv.pU(this.EI,e9,0,W,e9)}var jV=q.JU.Vm(W,e9,m,f,E);if(jV!=0)q.St(W,e9,f,E);
if(this.qa.sfrom==0)q.St(f,E,F,E);else{q.St(this.dt,this.lQ,F,E);q.qR(m,f,3);q.l.j6("norm",f,E,F,E,E,1)}}else if(J=="qselect"){var co=this.lQ,dz=co.m,eh=co.e,a9=dz*eh,kB=this.LP.BE(),v=this.dt,dc=n.vh.Ul,m=dc.nt;
m.fill(128);for(var $=0;$<a9;$++){var eT=kB[$<<2],fv=kB[($<<2)+3];if(fv==255&&(eT==0||eT==255))m[$]=eT}m[0]=m[dz-1]=0;
m[(eh>>>1)*dz]=m[(eh>>>1)*dz+dz-1]=0;n.Ph.AO(dc,!0,x);x.u={rect:co,channel:dc.u.slice(0)};x.ji=!0}if(i==null){if(U)q.qR(k,F,3);
q.St(F,E,l.buffer,l.rect)}else n.mv.gm(F,E,i)};n.mv.dm=function(){return null};n.mv.B7=function(x,J,o,c,E){var b=x*(1/255),l=c+J*Math.pow(b,o),i=Math.round(l*E+b*(255-E));
return Math.max(0,Math.min(255,i))};n.mv.pU=function(x,J,o,c,E){var b=q.R(E.P());b.fill(o);q.zc(x,J,b,E);
c.fill(255);q.Qz(b,c)};n.mv.gm=function(x,J,o){var c=q.R(J.P());q.Sk(x,c);q.zc(c,J,o.channel,o.rect)};
n.vh=function(x,J,o){n.Kj.call(this,x,J,o);this.qa={binop:0,feat:0,cstr:{vB:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.nM=new ck(-1,-1);this.uE=new ck(-1,-1);this.fd="default";this.Qf=null;this.lv=!1;this.qD=new km;
this.aB=!1;this.dc=null;this.Y3=null;this.fq=!1;this.be=!1};n.vh.prototype=new n.Kj;n.vh.prototype.hp=function(){var x=this.qa,J=[x.binop,x.feat],o=x.wconf,c=o.join(",")=="16,true,true";
if(J[0]==0&&J[1]==0&&c)return null;if(!c)J.push(o);return J};n.vh.prototype.VJ=function(x,J,o){var c=this.qa;
if(x[0])c.binop=x[0];if(x[1])c.feat=x[1];if(x[2])c.wconf=x[2];this.yf(o)};n.vh.prototype.yf=function(x){var J=new ko(L.E.N,!0);
J.data={d:L.H.dC,v:this.id,qa:this.qa};x.c(J)};n.vh.Ul={key:""};n.vh.bE=function(x,J,o){var c={bV:x,Rx:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(J)c.Rx.T=J;if(o!=null)c.Rx.AntA={t:"bool",v:o};return c};n.vh.ai=function(x,J,o){return n.vh.bE("set",{t:"Objc",v:{classID:x,Top:{t:"UntF",v:{type:"#Pxl",val:J.y}},Left:{t:"UntF",v:{type:"#Pxl",val:J.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:J.y+J.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:J.x+J.m}}}},o)};
n.vh.HZ=function(x,J,o){var c=[],E=[],l="set";for(var $=0;$<x.length;$+=2){c.push(x[$]);E.push(x[$+1])}var b={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:c},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:E}]}}}};
if(J)l=["set","addTo","subtractFrom","interfaceWhite"][J];return n.vh.bE(l,b,o)};n.vh.a2X=function(x,J,o){var c={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:x.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:x.y}}}},E=n.vh.bE("set",c);
E.Rx.Tlrn={t:"long",v:J[0]};E.Rx.AntA={t:"bool",v:J[1]};E.Rx.Cntg={t:"bool",v:J[2]};if(o==!0)E.Rx.Mrgd={t:"bool",v:o};
return E};n.vh.No=function(x){return n.vh.bE("set",{t:"enum",v:{Ordn:x?"Al":"None"}})};n.vh.gh=function(x,J,o){var c={classID:"null"};
if(x!="border")c.selectionModifyEffectAtCanvasBounds={t:"bool",v:o};var E={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[x[0]];
c[E]={t:"UntF",v:{type:"#Pxl",val:J}};return{bV:x,Rx:c}};n.vh.j0=function(x,J,o){var c={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},E={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:J}}]};
if(o)E.v.push({t:"name",v:{classID:"Lyr",val:o}});var b=[{classID:"null",null:c,T:E},{classID:"null",null:E,T:c},{classID:"null",null:E,From:c},{classID:"null",null:E,With:c}],l=["set","add","subtract","interfaceIconFrameDimmed"];
return{bV:l[x],Rx:b[x]}};n.vh.a7j=function(x,J){var o=new ko(L.E.N,!0);o.data={d:L.H.bS,KJ:h4.v0};if(!J.ms)x.c(o);
o.data={d:L.H.bS,KJ:h4.GL};if(!J.Km.Fe)x.c(o)};n.vh.prototype.E4=function(x,J,o,c,E){n.vh.a7j(J,E);this.Qf=J;
var b=x.d,l,i,F=new ha(0,0,o.m,o.e),hn=!1,a3,bH,jB,jH;if(b=="fromAction"){var k=x.xV,U=k.bV,I=k.Rx,V=I?I.selectionModifyEffectAtCanvasBounds:null,u=V&&V.v;
if(U=="colorRange"){if(I.Clrs){var N=I.Clrs.v.Clrs,e=0,B=255,j=["Shdw","Mdtn","Hghl"].indexOf(N),v=.4;
if(j==0)B=60;else if(j==1){e=100;B=150}else e=190;var T=["shadows","midtones","highlights"][j],a=I[T+"LowerLimit"],P=I[T+"UpperLimit"];
if(a)e=a.v;if(P)B=P.v;var R=I[T+"Fuzziness"];if(R)v=R.v/100;l=n.vh.o5(o,e,B,v,!0)}else{var e=I.Mnm.v,B=I.Mxm.v,v;
e={FQ:e.Lmnc.v,V:e.A.v,J:e.B.v};B={FQ:B.Lmnc.v,V:B.A.v,J:B.B.v};v=I.Fzns.v/200;l=n.vh.o5(o,e,B,v)}i=[7,8]}else if(U=="inverse"){if(o.u==null){alert("No selection!");
return}l={channel:q.R(F.P()),rect:F};q.zc(o.u.channel,o.u.rect,l.channel,l.rect);q.Mr(l.channel);i=[7,2]}else if(U=="expand"){var y=I.By.v.val,t=o.u.rect.clone();
t.wI(y,y);var g=q.R(t.P()),H=q.R(t.P());q.zc(o.u.channel,o.u.rect,H,t);q.style.stroke(H,g,t,y);l={channel:g,rect:t};
i=[7,4]}else if(U=="contract"){var y=I.By.v.val,_=o.u.rect.clone();_.wI(1,1);if(!u)_=_.Kc(F);var H=q.R(_.P()),Y=q.R(H.length);
q.zc(o.u.channel,o.u.rect,H,_);q.Mr(H);q.style.stroke(H,Y,_,y);q.Mr(Y);l={channel:Y,rect:_};q.xz(l);
i=[7,5]}else if(U=="border"){var y=I.Wdth.v.val;l=n.vh.ahv(o.u,y/2,y/2);i=[7,9]}else if(U=="feather"||U=="smoothness"){var y=I.Rds.v.val;
l=n.vh.abW(o.u,y,U=="smoothness",F,u);i=U=="feather"?[7,6]:[19,3,0]}else if(U=="move"){var K=I.T.v,t=o.u.rect.clone();
t.x+=K.Hrzn.v.val;t.y+=K.Vrtc.v.val;l={channel:o.u.channel,rect:t};i=[7,7]}else if(U=="grow"||U=="similar"){var f=this.qa.wconf.slice(0);
if(I.Tlrn)f[0]=I.Tlrn.v;f[2]=U=="grow";var m=o.or(),C=new ha(0,0,o.m,o.e),Z=o.u.rect,A=Math.round(Math.sqrt(Z.P())/10),d=q.R(C.P());
q.zc(o.u.channel,Z,d,C);var G=[];for(var r=0;r<Z.e;r+=A)for(var X=(Z.P()+r)%A;X<Z.m;X+=A)if(o.u.channel[r*Z.m+X]==255){var w=new ck(Z.x+X,Z.y+r);
G.push(w);if(f[2])q.ZP.k7(n.pm.j7(m,C,w,null,f),d,d)}if(!f[2])q.ZP.k7(n.pm.j7(m,C,w,n.pm.sL(m,C,G),f),d,d);
l={channel:d,rect:C};i=U=="grow"?"Grow Selection":"Similar Selection";console.log(I)}else{var S=I.null.v,z=I.AntA!=null&&I.AntA.v;
function s(iA){var gj=iA.Top.v.val,is=iA.Left.v.val;return new ha(is,gj,iA.Rght.v.val-is,iA.Btom.v.val-gj)}function M(iA){var gj=iA[0].arr,jG=iA[1].arr,eG={j:[],G:[]};
for(var $=0;$<gj.length;$++){eG.G.push($==0?"M":"L");eG.j.push(gj[$],jG[$])}eG.G.push("Z");return eG}var Q=["set","addTo","subtractFrom","interfaceWhite"].indexOf(U),O=I.T?I.T.v:null;
if(O&&O.classID=="Elps"){l=this.as1(n.Lr.ahe(s(O)));i=[10,4]}else if(O&&O.classID=="Rctn"){var W=s(O);
l={channel:q.R(W.P()),rect:W.clone()};l.channel.fill(255);i=[10,15]}else if(O&&O.classID=="ObSl"){var W=s(O),e9=n.vh.Ul,jV=e9.rect,co=e9.nt,dz=jV.m,eh=jV.e,a9=W.x-jV.x,kB=a9+W.m-1,dc=Math.max(a9,Math.min(kB,a9+kB>>>1)),eT=W.y-jV.y,fv=eT+W.e-1,jS=Math.max(eT,Math.min(fv,eT+fv>>>1)),cx=Math.max(a9,0),bX=Math.min(kB,dz),gi=Math.max(eT,0),cM=Math.min(fv,eh);
co.fill(128);if(0<=eT)for(var X=cx;X<bX;X++)co[eT*dz+X]=0;if(fv<eh)for(var X=cx;X<bX;X++)co[fv*dz+X]=0;
if(0<=a9)for(var r=gi;r<cM;r++)co[r*dz+a9]=0;if(kB<dz)for(var r=gi;r<cM;r++)co[r*dz+kB]=0;var ea=n.Q3.azm,a1=Math.round(W.m*ea),db=Math.round(W.e*ea);
for(var X=Math.max(0,dc-a1);X<Math.min(dz,dc+a1);X++)co[jS*dz+X]=255;for(var r=Math.max(0,jS-db);r<Math.min(eh,jS+db);
r++)co[r*dz+dc]=255;n.Ph.AO(e9,!0);l={channel:e9.u.slice(0),rect:jV.clone()};i=[10,44]}else if(O&&O.classID=="Plgn"){l=this.as1(M(O.Pts.v.arr));
i=[10,9]}else if(O&&O.classID=="Pnt"){l=n.pm.a0n(o,new ck(O.Hrzn.v.val,O.Vrtc.v.val),[I.Tlrn.v,z,I.Cntg==null||I.Cntg.v],I.Mrgd?I.Mrgd.v:!1);
i=[10,12]}else if(O&&O.Ordn=="None"){l=null;i=[7,1]}else if(O&&O.Ordn=="Al"){var d2=F;if(o.g.length!=0){var hu=o.root.qX(o.g[0]);
while(hu.parent&&hu.parent.parent)hu=hu.parent;if(hu.a.add.artb)d2=hu.a.uc()}l={channel:q.R(d2.P()),rect:d2};
l.channel.fill(255);i=[7,0]}else if(O&&O[0]&&O[0].v.keyID=="WrPt"){var fF={d:"frompath",T1:[-1,0,0]};
this.E4(fF,J,o,c,E);return}else{var il=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(U),f4=U=="set"?O:S,aK=f4[0].v.enum,fF;
if(aK=="Trsp"||aK=="Msk"||aK=="vectorMask"||aK=="Trgt"){var e0=o.g[0];if(f4.length==2)e0=hi.yv(o,f4[1]);
var j7=["Trsp","Msk","vectorMask"].indexOf(aK);if(aK=="Trgt"&&o.B[e0].tB==1)j7=1;fF={d:"fromlayer",T1:[e0,j7,il]}}else{if(f4[0].t=="name"){var e0=0;
for(var $=0;$<o._w.length;$++)if(o._w[$].name==f4[0].v.val)e0=$;fF={d:"fromchannel",T1:[-5-e0,0,il]}}else{var jb=["RGB","Rd","Grn","Bl"].indexOf(aK);
fF={d:"fromchannel",T1:[-1-jb,0,il]}}}this.E4(fF,J,o,c,E);return}if(l){if(!z)q.round(l.channel);if(I.Fthr)l=n.vh.abW(l,I.Fthr.v.val,!1);
if(U!="set"&&o.u!=null)l=q.ZP.h_(l,o.u,Q)}}if(U=="expand"||U=="contract")if(!u&&!F.contains(l.rect)){var hN=l.rect.Kc(F),fe=q.R(hN.P());
q.zc(l.channel,l.rect,fe,hN);l.channel=fe;l.rect=hN}}if(b=="qmask"){hn=!0;var dL=o.kU(),C=new ha(0,0,o.m,o.e);
if(dL){l=dL.rect.U5(C)&&q.Ps(dL.channel,255)?null:{rect:dL.rect.clone(),channel:dL.channel.slice(0)};
a3=dL}else{l=null;bH=new h.Tj;bH.color=0;bH.name="Quick Mask";bH.AH=!0;if(o.u){bH.rect=o.u.rect.clone();
bH.channel=o.u.channel.slice(0)}else{bH.rect=C;bH.channel=q.R(bH.rect.P());bH.channel.fill(255)}}i=[6,6,1];
o.Gf=!0}if(b=="setsel"){l=x.u;i=x.wd}if(b=="crange"){var e=x.Fy,B=x.SC;l=n.vh.o5(o,e,B,x.xe);i=[7,8]}if(b=="fromlayer"||b=="fromchannel"||b=="frompath"){var aq=x.T1[0],j7=x.T1[1],Q=x.T1[2];
if(b=="fromlayer"){if(aq==null)aq=o.g[0];var is=o.B[aq];if(j7==0){var dh=is.rect,j_=is.buffer;if(dh.Kx())return;
var cH=q.R(j_.length>>>2);q.z$(j_,cH,3);l={channel:cH,rect:dh.clone()}}else{if(is.F==null)is.vl(o);var bK=j7==1?is.Da():is.F;
l=n.vh.ayO(bK,F)}this.track(n.vh.j0(Q,["Trsp","Msk"][j7],is.getName()))}else if(b=="frompath"){var eC=o.l$(),fp=eC[1],eC=eC[0],de=!0;
if(aq==null)if(eC.length==0||fp.length==0)return;var jq=eC[fp[0]];if(aq!=null)for(var $=0;$<eC.length;
$++)if(eC[$].cD==aq)jq=eC[$];var bK=jq.add.vmsk.Da(),az=bK.mZ();if(az.P()==0)return;var cH=bK.R6();if(x.T1[3]!=null)de=x.T1[3];
if(!de){cH=cH.slice(0);q.round(cH)}jB=[JSON.stringify(o.Np),JSON.stringify(o.vd)];jH=["[]","[]"];o.Np=[];
o.vd=[];l={channel:cH,rect:az}}else{if(aq==null)aq=n.vh.asg(o);l=n.vh.auP(o,aq)}if(Q!=0&&o.u)l=q.ZP.h_(l,o.u,Q);
i=[14,11]}if(b=="bgrm"){var g3=30,bc=1,dO="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)fec`[,)%R}SVHnq8l241,*ZN}Jyu =l?580djbW#\"zFDt><n66NUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
if(this.tk==null)this.tk=0;var hJ=Math.floor((Date.now()-this.tk)/1e3);if(!j4.I4()&&hJ<g3){alert("You can use this once per "+g3+" seconds. Please, wait "+(g3-hJ)+" sec, or get a Premium account.",4e3);
return}this.tk=Date.now();var is=o.B[o.g[0]],W=is.rect,kc=is.buffer;while(Math.max(W.m,W.e)>4096){var hu=q.Or(kc,W);
W=hu.rect;kc=hu.tM;bc*=2}var kd=hR.rb("png"),jR=hR.rb("jpg"),im=jR.Jy([[kc.buffer]],W.m,W.e);dO=JSON.parse(cG.hC(dO));
var W=new XMLHttpRequest;W.open("POST",dO[0]);W.setRequestHeader(dO[1],dO[2]);W.setRequestHeader(dO[3],dO[4]);
var jd=new FormData;jd.append("image",new Blob([im],{type:"ima"+"ge/j"+"pg"}));W.send(jd);alert(h9.get([23,5])+" ...",2800);
W.onload=function(iA){var gj=JSON.parse(iA.target.response),jG=gj.results[0].entities[0].image,eG=hR.r7(jG),jG=kd.zu(eG)[0],el=jG.XO,gp=q.R(el.P());
q.Sk(new Uint8Array(jG.data),gp);for(var $=0;$<gp.length;$++){if(gp[$]>250)gp[$]=255}if(bc!=1){var hu=n.Y.HK([gp,el],new cW(bc,0,0,bc,0,0));
el=hu.rect;gp=hu.channel}el.x=is.rect.x;el.y=is.rect.y;var ar=new ko(L.E.f,!0);if(x.b==1){ar.v=n.uH;
ar.data={d:h.UZ,Ii:dO[5],anr:!0};J.c(ar);var jY=is.Da();jY.color=0;jY.rect=el;jY.channel=gp;jY.xz();
is.vl()}else if(x.b==2){ar.v=n.Ks;ar.data={d:"setsel",u:{channel:gp,rect:el},wd:"Select Subject"};J.c(ar)}else throw"e";
j4.event("rembg_Rem"+"ove B"+"G:  "+(j4.I4()?"Pre"+"mium":"Free"))};return}if(l!=null&&q.Ps(l.channel,0)){l=null;
i=[7,1]}if(l)q.xz(l);var gJ=new bk(i,this);gJ.data={d:"changesel",u:l,kU:hn,aC9:a3,agB:bH,r0:jB,ant:jH};
o.VR(gJ);this.Tu(gJ.data,o)};n.vh.asg=function(x){var J=0;if(x.X7.length!=0)J=-5-x.X7[0];else if(JSON.stringify(x.Q.U)=="[1,1,1]")J=-1;
else J=-2-x.Q.U.indexOf(1);return J};n.vh.auP=function(x,J){var o,c=new ha(0,0,x.m,x.e);if(-5<J&J<0){var E=-J-1,b=x.or(),l=q.R(c.P());
if(E==0)q.Sk(b,l);else q.z$(b,l,E-1);o={channel:l,rect:c.clone()}}if(J<-4){o=n.vh.ayO(x._w[-J-5],c)}return o};
n.vh.ayO=function(x,J){var o,c;if(x.fL()==0){c=x.mZ().clone();if(c.P()==0)return;o=x.R6()}else{c=J;o=q.R(c.P());
x.Dy(c,o)}return{channel:o,rect:c}};n.vh.prototype.dP=function(x){return this.aB||x.sz&&this.id!=n.MG};
n.vh.prototype._P=function(x,J,o){var c=new ko(J,!0);c.data=o;x.c(c)};n.vh.prototype.agE=function(x,J){var o=new ko(L.E.N,!0);
o.data={d:L.H.TG,i2:J};x.c(o)};n.vh.prototype.mZ=function(x,J,o){J=x.u==null||this.qD.QH(1)||this.qD.Q9(1)?J:null;
var c=this.nM,E=this.uE;if(o){c.x=Math.max(0,Math.min(x.m,c.x));c.y=Math.max(0,Math.min(x.e,c.y));E.x=Math.max(0,Math.min(x.m,E.x));
E.y=Math.max(0,Math.min(x.e,E.y))}var b=n.Au.Wt(c,E,J,!0,this.qa.cstr),l=b[0].x,i=b[0].y,F=new ha(l,i,b[1].x-l,b[1].y-i);
if(o){F.x=Math.max(F.x,0);F.y=Math.max(F.y,0)}return F};n.vh.prototype.JC=function(x,J,o,c,E){this.be=!0;
if(this.gs())return;this.Qf=J;this.lv=!1;this.qD.JC(c);this.nM=x.Q.Vx(E.x,E.y);this.nM=n.fp.MI(x,this.nM,o);
if(this.a0S(x,this.nM,c)){this.aB=!0;this.dc=x.u.rect.clone();return}this.eN(x,o,c,E);x.Q.GJ=new ha};
n.vh.prototype.a0S=function(x,J,o){var c=o.S(dG.uJ),E=o.S(dG.Zj);if(x.u&&!c&&!E&&this.qa.binop==0)return q.zo(J,x.u.channel,x.u.rect);
return!1};n.vh.prototype.OC=function(x,J,o,c,E){this.Qf=J;if(this.fq)return;var b=x.Q.Vx(E.x,E.y);if(ck.q6(this.nM,b)*x.Q.Z>5){this.lv=!0;
this.qD.OC()}if(c.S(dG.nw)){if(this.Y3==null)this.Y3=new ck(b.x-this.nM.x,b.y-this.nM.y);this.nM.x=b.x-this.Y3.x;
this.nM.y=b.y-this.Y3.y}else this.Y3=null;this.uE=b;if(!this.aB&&this.id!=n.MG)this.uE=n.fp.MI(x,this.uE,o);
if(this.a0S(x,this.uE,c))this.agE(J,"move");else this.agE(J,this.fd);if(this.aB){var l=this.dc.clone();
l.x+=this.uE.x-this.nM.x;l.y+=this.uE.y-this.nM.y;var i=n.fp.Fj(x,l,o);x.u.rect.x=Math.round(this.uE.x-this.nM.x+this.dc.x+i[0]);
x.u.rect.y=Math.round(this.uE.y-this.nM.y+this.dc.y+i[1]);x.ji=!0;n.fp.VT(x,l,i);return}this.FB(x,o,c,E,J);
if(x.Q.GJ)x.Q.GJ=this.mZ(x,c)};n.vh.prototype.gs=function(){return!1};n.vh.prototype.w7=function(x,J,o,c,E,b){var l=this.be;
this.be=!1;if(b||!l)return;x.Q.GJ=null;this.uE=x.Q.Vx(E.x,E.y);this.uE=n.fp.MI(x,this.uE,o);if(this.aB){this.aB=!1;
if(x!=null&&x.t.Ap){x.t.Ap=null;x.sD=!0}if(this.uE.U5(this.nM)&&this.Nx()==0){this._P(J,L.E.p4,n.vh.No());
return}this.a84(x,this.dc,x.u.rect.clone());return}this.cK(x,o,c,E,J);n.vh.a7j(J,o);this.qD.w7();this.iE(J)};
n.vh.prototype.a84=function(x,J,o){var c=x.Xz();if(c!=null&&c.v==this&&c.data.d=="movesel"){}else{c=new bk([7,7],this);
c.data={d:"movesel",nW:J};x.VR(c)}c.data.SP=o;this.Tu(c.data,x)};n.vh.prototype.G_=function(x,J,o,c,E){this.fq=!0};
n.vh.prototype.KY=function(x,J,o,c,E){var b=new ko(L.E.N,!0);b.data={d:L.H.dC,v:this.id,UB:E,j3:x,XK:o};
J.c(b);this.fq=!1};n.vh.prototype.B3=function(x,J,o,c){this.qD.B3(c);if(x!=null&&x.u!=null){var E=c.DC();
if(E.x!=0||E.y!=0){var b=x.u.rect.clone();b.x+=E.x;b.y+=E.y;this.a84(x,x.u.rect.clone(),b)}}this.iE(J)};
n.vh.prototype.iE=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.dC,v:this.id,bJ:this.Nx()};x.c(J)};
n.vh.prototype.Nx=function(){var x=this.qD.QH(0),J=this.qD.Q9(0);return n.vh.fZ(this.qa.binop,x,J)};
n.vh.fZ=function(x,J,o){if(J)x=1;if(o)x=2;if(J&&o)x=3;return x};n.vh.prototype.finish=function(x,J,o,c){var E=x.u,b=this.getSelection(x,J,o,c);
if(b==null)b=n.vh.No();else{var l=this.qa.feat,i=this.Nx();if(l!=0)b.Rx.Fthr={t:"UntF",v:{type:"#Pxl",val:l}};
if(i!=0&&i!=4)b.bV=["","addTo","subtractFrom","interfaceWhite",""][i]}this._P(this.Qf,L.E.p4,b);this.nM.DQ(-1,-1);
this.uE.DQ(-1,-1)};n.vh.prototype.getSelection=function(x,J,o,c){return null};n.vh.prototype.eN=function(x,J,o,c){};
n.vh.prototype.FB=function(x,J,o,c){};n.vh.prototype.cK=function(x,J,o,c){};n.vh.prototype.WY=function(x,J){var o=x.d;
if(o=="changesel"){var c=J.u;J.u=x.u;x.u=c}if(o=="movesel")J.u.rect=x.nW;if(x.kU){if(x.aC9){J.X7=[J._w.length];
J._w.push(x.aC9)}else{J._w.pop();J.X7=[]}}if(x.r0){J.Np=JSON.parse(x.r0[0]);J.vd=JSON.parse(x.r0[1])}J.ji=!0};
n.vh.prototype.Tu=function(x,J){var o=x.d;if(o=="changesel"){var c=J.u;J.u=x.u;x.u=c}if(o=="movesel")J.u.rect=x.SP;
if(x.kU){if(x.agB){J.X7=[J._w.length];J._w.push(x.agB)}else{J._w.pop();J.X7=[]}}if(x.r0){J.Np=JSON.parse(x.ant[0]);
J.vd=JSON.parse(x.ant[1])}J.ji=!0};n.vh.prototype.Jg=function(x){return x.d=="changesel"&&x.u?x.u.channel.length:0};
n.vh.prototype.kT=function(x){for(var J in x.qa)this.qa[J]=x.qa[J]};n.vh.prototype.as1=function(x){var J=q.O.ql(x.j);
if(J.Kx())return null;var o=q.T6(J.m,J.e);o.save();o.beginPath();o.translate(-J.x,-J.y);Typr.U.pathToContext({cmds:x.G,crds:x.j},o);
o.closePath();o.fill();o.restore();var c=q.R(J.P()),E=o.getImageData(0,0,J.m,J.e);q.z$(E.data,c,3);return{rect:J,channel:c}};
n.vh.abW=function(x,J,o,c,E){if(o)J=Math.round(J*.7);var b=Math.ceil(2.6*J),l=x.rect.clone();l.wI(b,b);
if(c&&!E)l=l.Kc(c);var i=q.R(l.P()),F=q.R(i.length);q.zc(x.channel,x.rect,F,l);q.JS.Bp(F,i,l,J);if(o){var k=i.length;
for(var $=0;$<k;$++){var U=(i[$]-128)*J*2.5;i[$]=Math.max(0,Math.min(255,Math.round(128+U)))}}return{channel:i,rect:l}};
n.vh.ahv=function(x,J,o){var c=Math.max(1,Math.ceil(o)),E=x.rect.clone();E.wI(c,c);var b=E.P(),l={channel:q.R(b),rect:E},i=q.R(b);
q.zc(x.channel,x.rect,i,l.rect);if(o!=0)q.style.stroke(i,l.channel,l.rect,o);else q.N8(i,l.channel);
var F=q.R(b);q.Mr(i);if(J!=0)q.style.stroke(i,F,l.rect,J);else q.N8(i,F);q.ZP.Kc(l.channel,F,l.channel);
return l};n.vh.o5=function(x,J,o,c,E){var b=new ha(0,0,x.m,x.e),l=x.or();if(x.u){var i=x.u.rect.Kc(b),F=q.R(i.P()*4);
q.St(l,b,F,i);b=i;l=F}var k=b.P(),U=q.R(k),I=1/c;if(E){if(J>=o)J=o-1;var V=J*(1-c),u=J,N=o,e=o+(255-o)*c,B=V==u?0:1/(u-V),j=N==e?0:1/(e-N);
for(var $=0;$<k;$++){var T=$<<2,a=q.TM(l[T],l[T+1],l[T+2]),P=0;if(a<V)P=0;else if(a<u)P=(a-V)*B;else if(a<=N)P=1;
else if(a<=e)P=1-(a-N)*j;else P=0;U[$]=l[T+3]*P*P}}else for(var $=0;$<k;$++){var T=$<<2,v=q.tl(l[T],l[T+1],l[T+2]),P=q.Tt(v,J,o,c,I);
U[$]=l[T+3]*P}return{rect:b,channel:U}};n.BL=function(){n.mv.call(this,[10,18],n.V3,"tools/blur");this.WF="copy"};
n.BL.prototype=new n.mv;n.BL.prototype.JC=function(x,J,o,c,E){var b=c.S(dG.Zj)?bd.B2:bd.V3;this.VH(x,o,c,E,this.qa.strn,b);
if(this.LP==null)return;this.u5(x)};n.BL.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);if(this.wW)this.Zv(x,o,E);
if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.fy=function(){n.mv.call(this,[10,0],n.di,"tools/brush");
this.WF="draw"};n.fy.prototype=new n.mv;n.fy.prototype.JC=function(x,J,o,c,E){if(this.mg(c,J,E))return;
this.VH(x,o,c,E,this.qa.flow);if(this.LP==null)return;this.u5(x)};n.fy.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);
if(this.wW)this.Zv(x,o,E);if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.mk=function(){n.mv.call(this,[10,42],n.dK,"tools/crepl");
this.WF="idraw";this.qa.bmode="hue "};n.mk.prototype=new n.mv;n.mk.prototype.JC=function(x,J,o,c,E){if(this.mg(c,J,E))return;
this.VH(x,o,c,E,this.qa.flow);if(this.LP==null)return;this.u5(x)};n.mk.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);
if(this.wW)this.Zv(x,o,E);if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.cx=function(){n.mv.call(this,[10,43],n.Oj,"tools/redeye");
this.qa.smode=0;this.WF="redeye"};n.cx.prototype=new n.mv;n.cx.prototype.JC=function(x,J,o,c,E){this.VH(x,o,c,E,this.qa.flow);
if(this.LP==null)return;this.u5(x)};n.cx.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);if(this.wW)this.Zv(x,o,E);
if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.jN=function(){n.mv.call(this,[10,38],n.R8,"tools/pencil");
this.WF="draw"};n.jN.prototype=new n.mv;n.jN.prototype.JC=function(x,J,o,c,E){if(this.mg(c,J,E))return;
this.VH(x,o,c,E,this.qa.flow);if(this.LP==null)return;this.u5(x)};n.jN.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);
if(this.wW)this.Zv(x,o,E);if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.Uj=function(){n.mv.call(this,[10,22],n.Oi,"tools/burn");
this.WF="burn"};n.Uj.prototype=new n.mv;n.Uj.prototype.JC=function(x,J,o,c,E){this.VH(x,o,c,E,this.qa.expo/Math.E);
if(this.LP==null)return;this.u5(x)};n.Uj.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);if(this.wW)this.Zv(x,o,E);
if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.qS=function(x,J,o){n.mv.call(this,x==""?null:x?x:[10,1],J?J:n.fu,o?o:"tools/clone");
this.WF="clone";this.a$=null;this.z=null};n.qS.prototype=new n.mv;n.qS.prototype.JC=function(x,J,o,c,E){var b=this.qa,l=b.alt[0];
if(c.S(dG.Zj)||c.S(dG.Pv)||l){this.a$=x.Q.Vx(E.x,E.y);this.z=null;if(l)this.RM({alt:[!1]},J);this.iZ(x);
this.JH(o,c,x,E);return}if(this.a$==null){alert(h9.get([15,7,0]));return}this.JH(o,c);this.VH(x,o,c,E,this.qa.flow);
if(this.LP==null)return;this.z=this.aco(x.Q.Vx(E.x,E.y));this.u5(x)};n.qS.prototype.aco=function(x){var J=this.z;
if(J==null||!this.qa.algnd)J=new ck(Math.round(x.x-this.a$.x),Math.round(x.y-this.a$.y));return J};n.qS.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);
if(this.wW)this.Zv(x,o,E);if(this.LP==null){if(this.a$!=null)this.JH(o,c,x,E);return}if(!E.sz||this.a$==null)return;
this.NS(x,o,c,E);this.u5(x)};n.qS.prototype.dm=function(){return this.z};n.jU=function(){n.Kj.call(this,[10,53],n.au1,"tools/csamp");
this.wg=-1;this.aaN=null};n.jU.prototype=new n.Kj;n.jU.prototype.JC=function(x,J,o,c,E){this.aaN=JSON.stringify(x.Eb);
var b=x.Q.Vx(E.x,E.y),l=x.Eb,i=1e9,F=-1;for(var $=0;$<l.length;$++){var k=l[$],U=b.x-k.x,I=b.y-k.y,V=U*U+I*I;
if(V<i){i=V;F=$}}var u=15/x.Q.Z;F=i<u*u?F:-1;if(F==-1){F=l.length;l.push({x:b.x,y:b.y})}else if(c.S(dG.Zj)){l.splice(F,1);
F=-1}this.wg=F;x.sD=!0};n.jU.prototype.OC=function(x,J,o,c,E){var b=this.wg;if(b!=-1){var l=x.Q.Vx(E.x,E.y);
x.Eb[b].x=l.x;x.Eb[b].y=l.y;x.sD=!0}};n.jU.prototype.w7=function(x,J,o,c,E,b){var l=new bk(this.name,this);
l.data={xg:this.aaN,_Q:JSON.stringify(x.Eb)};x.VR(l);this.wg=-1};n.jU.prototype.WY=function(x,J){J.Eb=JSON.parse(x.xg)};
n.jU.prototype.Tu=function(x,J){J.Eb=JSON.parse(x._Q)};n.Pm=function(x,J,o){n.Kj.call(this,x,J,o);this.J0={UP:{vB:0,x:0,y:0},Pq:!1,iH:!1};
this.ho=!1;this.Vc=null;this.cursor=null;this.ac5=0;this.p9=null;this.nM=null;this.QV=null;this.lT=!1};
n.Pm.prototype=new n.Kj;n.Pm.prototype.Yv=function(){return this.Vc!=null};n.Pm.prototype.dP=function(x){return this.nM!=null||this.Vc&&this.Vc.acr()};
n.Pm.prototype.JC=function(x,J,o,c,E){this.p9=E;var b=x.Q.Vx(E.x,E.y),l=this.J0.UP,i=l.vB!=0?l.x/l.y:null,F=this.lT;
this.lT=!1;if(this.Vc){var k=this.Vc.YI(b,x.Q.Z);if(F&&k==null){this.Vc.clear(x);this.Vc=null}else{this.Vc.JC(x,o,c,b,i,!1,E);
return}}this.nM=n.fp.MI(x,b,o)};n.Pm.prototype.J8=function(x,J,o){if(o==null)o=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.e,x.x,x.y+x.e];
return new cK(o,!0,!1,this.id==n.Z2,!0,J,this.id==n.Z2?2:0,this.id==n.Z2?4:3)};n.Pm.prototype.JH=function(x){var J=new ko(L.E.N,!0);
J.data={d:L.H.TG,i2:this.cursor};x.c(J)};n.Pm.prototype.enable=function(x,J,o,c){this.Qf=J;this.cursor="crosshair";
this.JH(J);if(x!=null&&this.Vc==null){var E=x.u?{Pk:"cropby",awK:3}:{Pk:"config",J0:this.J0,aD7:!0};
this.kT(E,J,x,c,o);if(x.u==null&&this.J0.UP.vB==0)this.lT=!0}};n.Pm.prototype.OC=function(x,J,o,c,E){this.p9=E;
var b=x.Q.Vx(E.x,E.y);if(!E.sz){var l="crosshair";if(this.Vc){var i=this.Vc.YI(b,x.Q.Z,null,E);if(i)l=i;
else l="default"}if(l!=this.cursor){this.cursor=l;this.JH(J)}}if(this.Vc)this.Vc.OC(x,o,c,b);else if(this.nM){if(this.ho){x.t.XV={G:["M","L"],j:[this.nM.x,this.nM.y,b.x,b.y]}}else{var F=n.Au.Wt(this.nM,n.fp.MI(x,b,o),c,!0,this.J0.UP),k=F[0].x,U=F[0].y,I=this.QV=new ha(k,U,F[1].x-k,F[1].y-U);
x.t.XV=q.O.ny(I);n.Kj.bg(E,I,x,o)}x.sD=!0}};n.Pm.arB=function(x,J,o){var c,E,i,F;if(J<=o){c=J;E=o}else{c=o;
E=J}var b=x-Math.floor((x+Math.PI)/(2*Math.PI))*2*Math.PI;b=Math.abs(b);if(b>Math.PI/2)b=Math.PI-b;var l=c/(E*Math.sin(b)+c*Math.cos(b));
if(J<=o){i=c*l;F=E*l}else{i=E*l;F=c*l}return{Qh:i,ao:F}};n.Pm.prototype.w7=function(x,J,o,c,E){this.p9=E;
var b=x.Q.Vx(E.x,E.y);if(this.Vc==null){var l=this.QV;if(this.nM&&(l||this.ho)){if(this.ho){var i=this.nM,F=b,k=F.x-i.x,U=F.y-i.y;
if(Math.abs(k)<Math.abs(U))F=new ck(i.x-U,i.y+k);if(i.x>F.x){var I=i;i=F;F=I}var i=Math.atan2(-(F.y-i.y),F.x-i.x),V=n.Pm.arB(i,x.m,x.e);
if(this.J0.iH){var u=q.O.ny(new ha(0,0,x.m,x.e)),N=new cW;N.rotate(i);q.O.M(u.j,N,u.j);V=q.O.ql(u.j);
V={Qh:V.m,ao:V.e}}var e=[0,0,V.Qh,0,V.Qh,V.ao,0,V.ao],B=new cW;B.translate(-V.Qh/2,-V.ao/2);B.rotate(i);
B.translate(x.m/2,x.e/2);q.O.M(e,B,e);this.Vc=this.J8(l,!1,e);this.ho=!1}else{var j=this.J0.UP;this.Vc=this.J8(l,j.vB!=0)}this.Vc.XT(x,o);
this.QV=null;this._P(J,L.E.N,{d:L.H.dC,v:this.id,rf:!0});this.nM=null;x.t.MJ=[];x.t.XV=null;x.sD=!0}return}this.Vc.w7(x,o,c,b);
this._P(J,L.E.N,{d:L.H.dC,v:this.id,rf:!0});var e=this.Vc.ER();if(Math.abs(e[0]-e[4])<2&&Math.abs(e[1]-e[5])<2){this.rx(x,J,null,c);
return}if(Date.now()-this.ac5<200&&this.Vc.T4(b)){this.k9(x,o);this.rx(x,J,o,c);return}this.ac5=Date.now()};
n.Pm.prototype.B3=function(x,J,o,c){var E=this.Vc;if(E==null||this.p9&&this.p9.sz)return;if(c.S(dG.eP)){this.k9(x,o);
this.rx(x,J,o,c)}else if(c.S(dG.Fh)){this.rx(x,J,o,c)}else E.B3(x,o,c)};n.Pm.ahl=function(x,J,o){var c={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:x[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:x[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:x[1]+x[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:x[0]+x[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:J!=null?J:0}},Dlt:{t:"bool",v:o!=null?o:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{bV:"crop",Rx:c}};n.Pm.y1=function(x,J){if(J==null)J=[!0,!0,!0,!0];var o={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][x]}}},c=["Top","Left","Btom","Rght"];
for(var $=0;$<4;$++)o[c[$]]={t:"bool",v:J[$]};return{bV:"trim",Rx:o}};n.Pm.av6=function(x,J,o,c){var E={classID:"null"};
if(c!=null){E.Wdth={t:"UntF",v:{type:"#Pxl",val:x}};E.Hght={t:"UntF",v:{type:"#Pxl",val:J}};E.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][c]}}}if(o!=null)E.Rslt={t:"UntF",v:{type:"#Rsl",val:o}};
return{bV:"imageSize",Rx:E}};n.Pm.a8K=function(x,J,o,c){if(o==null)o=4;if(c==null)c=!1;var E=Math.floor(o/3),b=o%3;
return{bV:"canvasSize",Rx:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:x}},Hght:{t:"UntF",v:{type:"#Pxl",val:J}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][b]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][E]}},Rltv:{t:"bool",v:c}}}};
n.Pm.prototype.E4=function(x,J,o,c,E){var b=new ha(0,0,o.m,o.e),l=[11,3],i=o.yV,F=o.m/2,k=o.e/2,U=1,S,z,s;
if(x.d=="fromAction"){var I=x.xV,V=I.bV,u=I.Rx,N=o.m/o.e,e=u.Wdth?u.Wdth.v.val:-1,B=u.Hght?u.Hght.v.val:-1,i=u.Rslt?u.Rslt.v.val:null,j=u.Wdth?u.Wdth.v.type:u.Hght?u.Hght.v.type:-1,T=1,a;
if(j=="#Prc"){if(e!=-1)e=Math.round(o.m*e/100);if(B!=-1)B=Math.round(o.e*B/100)}if(V=="imageSize"){if(u.Intr){if(u.Intr.v.Intp=="Nrst")T=0;
if(u.Intr.v.Intp=="bicubicSharper")T=2;if(e==-1&&B==-1){var P=i/o.yV;e=Math.round(o.m*P);B=Math.round(o.e*P)}if(u.CnsP&&u.CnsP.v){if(e==-1)e=Math.round(B*N);
if(B==-1)B=Math.round(e/N)}}else{if(j=="#Prc")i=Math.round(o.yV*(o.m/e));else if(j==-1)i=Math.round(i);
else throw"e";e=o.m;B=o.e}a={d:"imgsize",RK:e,GC:B,Nf:i,Is:T}}else if(V=="canvasSize"){if(e==-1)e=o.m;
if(B==-1)B=o.e;if(u.Rltv&&u.Rltv.v==!0){if(u.Wdth)e+=o.m;if(u.Hght)B+=o.e}var v=u.Vrtc?u.Vrtc.v.VrtL:"Cntr",R=u.Hrzn?u.Hrzn.v.HrzL:"Cntr";
a={d:"canvsize",RK:e,GC:B,vQ:3*["Top","Cntr","Btom"].indexOf(v)+["Left","Cntr","Rght"].indexOf(R)}}else if(V=="revealAll"){a={d:"revealAll"}}else if(V=="trim"){var y={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[u.trimBasedOn.v.trimBasedOn];
if(y==null)throw"e";var t=["Top","Left","Btom","Rght"],g=[!0,!0,!0,!0];for(var $=0;$<4;$++)if(u[t[$]])g[$]=u[t[$]].v;
a={d:"trim",aeh:y,Jn:g}}else if(V=="crop"){var H,_,Y,K;if(u.T){var f=u.T.v,H=Math.round(f.Left.v.val),_=Math.round(f.Top.v.val),Y=Math.round(f.Rght.v.val)-H,K=Math.round(f.Btom.v.val)-_}else{var m=o.u.rect;
H=m.x;_=m.y;Y=m.m;K=m.e}a={d:"canvsize",RK:Y,GC:K,z:new ck(H,_),asf:u.Dlt!=null&&u.Dlt.v}}else console.log(I);
if(a)this.E4(a,J,o,c,E);return}else if(x.d=="imgsize"){b=new ha(0,0,x.RK,x.GC);if(x.Nf)i=x.Nf;U=x.Is}else if(x.d=="canvsize"){var C=x.vQ!=null?x.vQ:0;
b=new ha(0,0,x.RK,x.GC);var Z=o.m-x.RK,A=o.e-x.GC,d=Math.round(Z/2),G=Math.round(A/2);if(C==1||C==4||C==7)b.x=d;
if(C==2||C==5||C==8)b.x=Z;if(C==3||C==4||C==5)b.y=G;if(C==6||C==7||C==8)b.y=A;if(x.z){b.x=x.z.x;b.y=x.z.y}}else if(x.d=="rot"&&(x.b+2*Math.PI)%(Math.PI/2)!=0){var r=q.O.ny(b).j,X=new cW;
X.translate(-F,-k);X.rotate(x.b);X.translate(F,k);q.O.M(r,X,r);b=q.O.ql(r)}else if(x.d=="rot"&&x.b!=Math.PI&&x.b!=-Math.PI){b=new ha(F-o.e/2,k-o.m/2,o.e,o.m);
if((o.m+o.e&1)==1){F=Math.floor(F);k=Math.floor(k);b=new ha(F-Math.floor(o.e/2),k-Math.floor(o.m/2),o.e,o.m);
if((o.m&1)==1&&x.b!=-Math.PI/2)b.y--;if((o.e&1)==1&&x.b==-Math.PI/2)b.x--}}else if(x.d=="trim"){l=[11,12,0];
var w=o.or(),m=new ha(0,0,o.m,o.e);b=q.Bm(w,m,x.aeh,x.Jn);if(b.Kx())b=m}else if(x.d=="revealAll"){l=[11,12,2];
b=o.root.mZ(o,!0)}var M=x.d=="canvsize"&&x.asf;if(x.d=="imgsize"||x.d=="rot"||x.d=="scl"||M){var Q=new cW;
if(x.d=="imgsize"){l=[11,10];Q.scale(x.RK/o.m,x.GC/o.e);s=o.yl();for(var $=0;$<s[0].length;$++)s[0][$][1]*=s[0][$][0]==0?Q.V:Q.Lu}else if(M){}else{Q.translate(-F,-k);
if(x.d=="rot")Q.rotate(x.b);if(x.d=="scl")Q.scale(x.b.x,x.b.y);Q.translate(F,k);l=x.wd}z=q.D.ay(Q);S=this.YJ(o,E,!0,z,U,M?b:null)}else if(x.d=="auto-align"){if(o.g.length<2){alert("Select two or more layers.");
return}var O=[];for(var $=0;$<o.g.length;$++){var W=o.B[o.g[$]];if(!W.xm()&&W.add.SoLd==null){alert("Unsupported layer selected.");
return}if(W.rect.Kx()){alert("Empty layer selected.");return}O.push([W.buffer,W.rect])}var e9=q.OW.uP(O);
if(e9==null){alert("No similarity found.");return}z=e9[1];S=this.YJ(o,E,!1,e9,U);b=o.root.mZ(o,!0);l=[2,10,1]}var jV=new ha(0,0,o.m,o.e);
if(!b.Kx()&&(!b.U5(jV)||S!=null)){var co=new bk(l,this);co.data={a9R:o.yV,Nf:i,H_:S,SD:z,Mg:n.Pm.axy(o,b,jV,S!=null)};
if(s){co.data.a59=o.yl();co.data.asl=s}n.Pm.ass(o,co.data,b);o.VR(co);this.Tu(co.data,o)}};n.Pm.axy=function(x,J,o,c){if(x.IL.length==0)return null;
var E=JSON.stringify(x.IL),b=JSON.parse(E);n.XN.akg(b,J,o,c);b=JSON.stringify(b);return[E,b]};n.Pm.prototype.YJ=function(x,J,o,c,E,b,l){var i={B:[],LF:null,Oz:null};
if(o){for(var $=0;$<x.B.length;$++)i.B.push($);for(var $=0;$<x.yB.length;$++)i.B.push(-1-$);for(var $=0;
$<x._w.length;$++)i.B.push(-1e3-$)}else i.B=x.g.slice(0);i.LF=n.Y.OU(x,i.B,!0);var F=Math.abs(c[3]*c[1])>1e-9;
n.Y.N6(x,J,i.B,i.LF,E,c,null,!0,F?null:b);if(o&&l&&x.$K()){var k=x.B[x.g[0]],U=k.buffer,I=k.rect,V=F?I.clone():b.clone(),u=q.R(V.P()*4),N=q.R(I.P());
q.z$(U,N,3);var e=q.R(V.P());q.zc(N,I,e,V);q.round(e,255);q.Mr(e);var B=q.JU.Vm(U,I,e,u,V);if(B==0){k.rect=V;
k.buffer=u}}i.Oz=n.Y.OU(x,i.B,!0);return i};n.Pm.prototype.Tu=function(x,J){if(x.Nf)J.yV=x.Nf;if(x.Mg)J.IL=JSON.parse(x.Mg[1]);
if(x.H_){n.Pm.yS(J,q.D.ut(x.SD));n.Y.l3(J,x.H_.B,x.H_.Oz);if(x.asl)J.xW(x.asl)}n.Pm.pL(J,x)};n.Pm.prototype.WY=function(x,J){if(x.a9R)J.yV=x.a9R;
if(x.Mg)J.IL=JSON.parse(x.Mg[0]);n.Pm.O2(J,x);if(x.XU)J.Q.z.n6(x.XU);J.avp();if(x.H_){var o=q.D.ut(x.SD).clone();
o.Mr();n.Pm.yS(J,o);n.Y.l3(J,x.H_.B,x.H_.LF);if(x.a59)J.xW(x.a59)}};n.Pm.yS=function(x,J){for(var $=0;
$<x.B.length;$++){var o=x.B[$];if(o.add.artb==null)continue;var c=q.O.ny(o.uc()).j;q.O.M(c,J,c);var E=q.O.ql(c);
o.dZ(E)}};n.Pm.jb=function(x){var J=new ha,o=0,c=x.root.children.length;for(var $=0;$<c;$++){var E=x.root.children[$].a;
if(E.add.artb==null)continue;J=J.k7(E.uc());o++}var b=new ha(0,0,x.m,x.e);if(!J.Kx()&&!b.U5(J))return J;
return null};n.Pm.WN=function(x){var J=n.Pm.jb(x);if(J)n.Pm.Pq(x,J,!0);return J};n.Pm.Pq=function(x,J,o){var c=x.m,E=x.e,b=J.m,l=J.e,i=J.x==0&&J.y==0;
if(i&&c==b&&E==l)return;x.m=b;x.e=l;var F=[];for(var $=0;$<x.B.length;$++)F.push($);if(!i)n.fp.jW(x,F,null,-J.x,-J.y);
for(var $=0;$<x.B.length;$++){x.B[$].vl(x)}x.avp();if(o){var k=x.Q.z,U=x.Q.Z;k.x+=Math.round((J.x+(b-c)/2)*U);
k.y+=Math.round((J.y+(l-E)/2)*U)}else x.Q.z.DQ(0,0);if(x.u)x.u.rect.offset(-J.x,-J.y);var I=x.yl();for(var V=0;
V<I[0].length;V++)if(I[1][V]==-1){var u=x.Kt[V];u[1]-=u[0]==0?J.x:J.y}for(var $=0;$<x._w.length;$++)x._w[$].rect.offset(-J.x,-J.y)};
n.Pm.prototype.kT=function(x,J,o,c,E){if(x.Pk=="commit"){this.k9(o,E);this.rx(o,J,null,c)}else if(x.Pk=="cancel"){this.rx(o,J,null,c)}var b=null,l=new ha(0,0,o.m,o.e),i=this.J0.UP;
if(x.Pk=="config"){this.J0=x.J0;i=this.J0.UP;if(o==null||!x.aD7)return;b=l;if(i.vB==1){var F=i.x/i.y;
if(b.m/F<b.e)b.e=Math.round(b.m/F);else b.m=Math.round(b.e*F)}if(i.vB==2){b.m=i.x;b.e=i.y}b.x=Math.round((o.m-b.m)/2);
b.y=Math.round((o.e-b.e)/2)}if(x.Pk=="straighten"){alert("Draw a line in the image.");this.ho=!0}if(x.Pk=="cropby"){if(o==null)return;
var k=x.awK,b;if(k==0)b=o.root.mZ(o,!0);if(k==1){if(o.g.length==0)alert("No layer is selected.");else{var U=o.root.qX(o.g[0]);
b=U.mZ(o,!0)}}if(k==2){if(o.g.length==0)alert("No layer is selected.");else{b=q.Bm(o.or(),l,0);if(b.Kx())b=l.clone()}}if(k==3){if(o.u!=null)b=o.u.rect;
else alert("There is no selection.")}if(k==4){b=new ha(0,0,o.m,o.e)}}if(b&&b.Kx())b=null;if(b!=null){this.Vc=this.J8(b,i.vB!=0);
this.Vc.XT(o,E);this._P(J,L.E.N,{d:L.H.dC,v:this.id,rf:!0})}};n.Pm.prototype.XX=function(x,J,o,c){this._P(J,L.E.N,{d:L.H.dC,v:this.id,ue:[x.m,x.e]})};
n.Pm.prototype.k9=function(x,J){var o=this.Vc.ER(),c=q.O.ql(o),E=this.abT(x,o),b=!1,l=this.J0,i=l.UP,F=l.Pq,k=i.x,U=i.y,u;
if(this.id==n.TX&&i.vB==2&&E.P()!=k*U){E=new ha(E.x,E.y,k,U);b=!0}var I=q.D.LH(o,E);I=q.D.Mr(I);var V=q.D.vR(I),N=Math.atan2(I[3],I[0]),e=new ha(0,0,x.m,x.e);
if(Math.abs(N)>1e-9||!V||b||F||l.iH)u=this.YJ(x,J,!0,I,1,c,l.iH);else if(E.U5(e))return;var B=new bk(this.name,this);
B.data={H_:u,SD:I,XU:x.Q.z.clone(),Mg:n.Pm.axy(x,E,e,!1)};n.Pm.ass(x,B.data,E);x.VR(B);this.Tu(B.data,x);
this.track(n.Pm.ahl([c.x,c.y,c.m,c.e],null,F))};n.Pm.ass=function(x,J,o){if(o==null)return;J.nW=new ha(0,0,x.m,x.e);
J.SP=o};n.Pm.pL=function(x,J){if(J.SP==null)return;n.Pm.Pq(x,J.SP)};n.Pm.O2=function(x,J){if(J.SP==null)return;
var o=J.nW.clone();o.offset(-J.SP.x,-J.SP.y);n.Pm.Pq(x,o)};n.Pm.prototype.abT=function(x,J){var o=q.D.LH(J),c=q.D.vR(o),E=q.D.ut(o),b=E.Iw,l=E.s7,i=Math.atan2(E.J,E.V);
E.rotate(i);var F=new ha(b,l,E.V,E.Lu);if(!c){function k(a,$,P){var v=a[$]-a[P],R=a[$+1]-a[P+1];return Math.sqrt(v*v+R*R)}var U=k(J,0,2),I=k(J,4,6),V=Math.max(U,I),u=k(J,2,4),N=k(J,6,0),e=Math.max(u,N),B=n.Pm.yD(J,x.m/2,x.e/2),j,T;
if(isNaN(B)||B==Infinity||B==-Infinity||Math.min(B,1/B)<.1)B=(U+I)/(u+N);if(V/e>B){j=V*1;T=j/B}else{T=e*1;
j=T*B}F.m=j;F.e=T}F.x=Math.round(F.x);F.y=Math.round(F.y);F.m=Math.round(F.m);F.e=Math.round(F.e);return F};
n.Pm.yD=function(x,J,o){var c=x[0]-J,E=x[1]-o,b=x[2]-J,l=x[3]-o,i=x[6]-J,F=x[7]-o,k=x[4]-J,U=x[5]-o,I=((E-U)*i-(c-k)*F+c*U-E*k)/((l-U)*i-(b-k)*F+b*U-l*k),V=((E-U)*b-(c-k)*l+c*U-E*k)/((F-U)*b-(i-k)*l+i*U-F*k),u=-((V*F-E)*(I*l-E)+(V*i-c)*(I*b-c))/((V-1)*(I-1));
function N(B){return B*B}var e=Math.sqrt((N(I-1)+N(I*l-E)/u+N(I*b-c)/u)/(N(V-1)+N(V*F-E)/u+N(V*i-c)/u));
if(I==1&&V==1)e=Math.sqrt((N(l-E)+N(b-c))/(N(F-E)+N(i-c)));return e};n.Pm.prototype.rx=function(x,J,o,c){if(x==null)return;
if(this.Vc)this.Vc.clear(x);this.Vc=null;this._P(J,L.E.N,{d:L.H.dC,v:this.id,rf:!1})};n.Pm.prototype.disable=function(x,J,o,c){if(this.Vc)this.k9(x,o);
this.rx(x,J,o,c)};n.Pm.prototype._P=function(x,J,o,c){var E=new ko(J,!0);E.data=o;if(c)E.v=c;x.c(E)};
n.abG=function(){n.Pm.call(this,[10,2],n.TX,"tools/rcrop")};n.abG.prototype=new n.Pm;n.a8k=function(){n.Pm.call(this,[10,39],n.Z2,"tools/pcrop")};
n.a8k.prototype=new n.Pm;n.Zo=function(){n.mv.call(this,[10,21],n.IV,"tools/dodge");this.WF="dodge"};
n.Zo.prototype=new n.mv;n.Zo.prototype.JC=function(x,J,o,c,E){this.VH(x,o,c,E,this.qa.expo/Math.PI);
if(this.LP==null)return;this.u5(x)};n.Zo.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);if(this.wW)this.Zv(x,o,E);
if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.gY=function(){n.mv.call(this,[10,3],n.FI,"tools/eraser");
this.WF="erase"};n.gY.prototype=new n.mv;n.gY.prototype.JC=function(x,J,o,c,E){this.VH(x,o,c,E,this.qa.flow);
if(this.LP==null)return;this.u5(x)};n.gY.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);if(this.wW)this.Zv(x,o,E);
if(this.LP==null)return;if(!E.sz)return;var b=this.NS(x,o,c,E);this.u5(x)};n.zO=function(){n.mv.call(this,[10,45],n.PX,"tools/beraser");
this.WF="ierase"};n.zO.prototype=new n.mv;n.zO.prototype.JC=function(x,J,o,c,E){if(this.mg(c,J,E))return;
this.VH(x,o,c,E,this.qa.flow);if(this.LP==null)return;this.u5(x)};n.zO.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);
if(this.wW)this.Zv(x,o,E);if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.hv=function(){n.vh.call(this,[10,15],n.Ks,"tools/rselect");
this.fd="crosshair"};n.hv.prototype=new n.vh;n.hv.prototype.FB=function(x,J,o,c){if(!c.sz||!this.lv)return;
var E=this.mZ(x,o,!0);x.t.XV=q.O.ny(E);x.sD=!0;n.Kj.bg(c,E,x,J)};n.hv.prototype.cK=function(x,J,o,c){x.t.XV=null;
x.t.MJ=[];x.sD=!0;this.finish(x,J,o,c)};n.hv.prototype.getSelection=function(x,J,o,c){if(this.nM.U5(this.uE)||!this.lv)return null;
var E=this.mZ(x,o,!0);if(E.Kx())return null;return n.vh.ai("Rctn",E,this.qa.anta)};n.Lr=function(){n.vh.call(this,[10,4],n.aCj,"tools/eselect");
this.fd="crosshair"};n.Lr.prototype=new n.vh;n.Lr.prototype.FB=function(x,J,o,c){if(!c.sz||!this.lv)return;
var E=this.mZ(x,o);x.t.XV=n.Lr.ahe(E);x.sD=!0;n.Kj.bg(c,E,x,J)};n.Lr.prototype.cK=function(x,J,o,c){x.t.XV=null;
x.t.MJ=[];x.sD=!0;this.finish(x,J,o,c)};n.Lr.prototype.getSelection=function(x,J,o,c){if(this.nM.U5(this.uE)||!this.lv)return null;
var E=this.mZ(x,o);if(!E.$G(new ha(0,0,x.m,x.e)))return null;return n.vh.ai("Elps",E,this.qa.anta)};
n.Lr.ahe=function(x){var J=x.x,o=x.y,c=x.x+x.m,E=x.y+x.e,b=(J+c)/2,l=(o+E)/2,i=(J-c)/2,F=(o-E)/2,k=.5522848,U={j:[b,l-F],G:["M","C","C","C","C"]};
U.j.push(b+k*i,l-F,b+i,l-k*F,b+i,l);U.j.push(b+i,l+k*F,b+k*i,l+F,b,l+F);U.j.push(b-k*i,l+F,b-i,l+k*F,b-i,l);
U.j.push(b-i,l-k*F,b-k*i,l-F,b,l-F);return U};n.um=function(x){n.Kj.call(this,[10,5],x?n.Z$:n.z3,"tools/eyedropper");
this.e4=null;this.ks=0;this.PA=null;this.CB=1;this.r2=2;this.ayi=!0;this.Fk=!1};n.um.prototype=new n.Kj;
n.um.prototype.dP=function(x){return x.sz};n.um.prototype.E4=function(x,J,o,c,E){if(x.d=="pickhere")this.$0(o,J,E,null,x.ak3);
if(x.d=="supertool")this.e4=x.v};n.um.prototype.JC=function(x,J,o,c,E){var b=this.e4;if(b){b.JC(x,J,o,c,E);
return}this.ks=o.Q6;this.PA=E;var l=this.$0(x,null,o,c,E);this.JH(x,J,l,E)};n.um.prototype.OC=function(x,J,o,c,E){var b=this.e4;
if(b){b.OC(x,J,o,c,E);return}var l=this.PA;if(l){var i=E.x-l.x,F=E.y-l.y,k=1,U=new ck(l.x+i*k,l.y+F*k),I=this.$0(x,null,o,c,U);
this.JH(x,J,I,U,new ck(i*(1-k),F*(1-k)))}};n.um.prototype.JH=function(x,J,o,c,E){var b=this.ayi,l=this.Fk,k=12,U=11;
if(x.Q.Z>4)l=!1;if(!l&&!b)return;if(E==null)E=new ck(0,0);var i=new ha(0,0,x.m,x.e),F=x.or(),I=(k*2+1)*U,V=new ck(I/2,I/2),u=new ha(0,0,I,I),N=q.R(u.P()*4),e=x.Q.Vx(c.x,c.y),B=Math.floor(e.x),j=Math.floor(e.y),T=new cW;
T.scale(1/U,1/U);T.translate(B-k,j-k);if(l)q.scale.aaE(F,i,T,N,u);var a=(k-3.4)*U,P=(k-1.7)*U,v=k*U;
for(var R=0;R<I;R++)for(var y=0;y<I;y++){var t=ck.q6(new ck(y,R),V);if(t>a){if(b){var g=Math.max(0,a-t+1),H=(R*I+y)*4,_=N[H+3]<<24|N[H]<<16|N[H+1]<<8|N[H+2],Y=255<<24|(R<v+U*.5?o:this.ks);
if(t>P){g=Math.max(0,P-t+1);_=Y;Y=4286611584}else if(!l){_=Y&16777215}N[H+0]=(1-g)*(Y>>>16&255)+g*(_>>>16&255);
N[H+1]=(1-g)*(Y>>>8&255)+g*(_>>>8&255);N[H+2]=(1-g)*(Y>>>0&255)+g*(_>>>0&255);N[H+3]=(1-g)*(Y>>>24&255)+g*(_>>>24&255)}if(t>v){N[(R*I+y)*4+3]=Math.max(0,255*(v-t+1))}}}function K($){var e9=$<<2;
N[e9]=0;N[e9+1]=0;N[e9+2]=0;N[e9+3]=255}function f($){var e9=$<<2;N[e9]=255;N[e9+1]=255;N[e9+2]=255;
N[e9+3]=255}var m=this.CB*U+2,C=I-m>>>1,Z=C+m-1;if(l&&m<I)for(var $=0;$<m;$++){var A=C*I+C+$,d=Z*I+C+$,G=(C+$)*I+C,r=(C+$)*I+Z;
K(A);K(d);K(G);K(r);if($!=0&&$!=m-1){f(A+I);f(d-I);f(G+1);f(r-1)}}if(!l)for(var $=-9;$<=9;$++){if(-3<$&&$<3)continue;
var X=I>>>1,y=X*I+X+$,R=(X+$)*I+X;f(y-I);K(y);f(y+I);f(R-1);K(R);f(R+1)}var w=o>>>16&255,S=o>>>8&255,z=o>>>0&255,s="RGB "+w+","+S+","+z,M=q.cE([w/255,S/255,z/255]);
if(x.add.fcmy)s="CMYK "+M.map(function(e9){return Math.round(e9*100)}).join(",");var Q=n.Kj.m_(0,0,["#"+q.uW(o),s]),i=Q[1];
i.y=0;i.x=I-i.m>>>1;q.St(Q[0],i,N,u);var O={bA:N,By:u,FH:new ck(V.x+E.x,V.y+E.y)},W=new ko(L.E.N,!0);
W.data={d:L.H.TG,i2:O};J.c(W)};n.um.prototype.w7=function(x,J,o,c,E,b){var l=this.e4;if(l){l.w7(x,J,o,c,E);
return}this.$0(x,J,o,c,E);if(this.PA){this.PA=null;if(b)this.$0(x,J,o,c,E,this.ks);var i=new ko(L.E.N,!0);
i.data={d:L.H.TG,i2:"default"};J.c(i)}};n.um.prototype.$0=function(x,J,o,c,E,b){if(b==null)b=n.um.Tx(x,E,this.CB,this.r2);
var l=new ko(L.E.N);l.data={d:L.H.bS,KJ:h4.uq,XC:c&&c.S(dG.Zj)?1:0,b:b};if(J)J.c(l);return b};n.um.Tx=function(x,J,o,c,E){if(c==null)c=2;
var b=x.Q.Vx(J.x,J.y),l,i,F=x.g.length==1&&x.B[x.g[0]].tB>0&&E!=!0,k=x.X7.length!=0,v=0,R=0,y=0;if(F||k){var U;
if(k)U=x._w[x.X7[0]];else{var I=x.B[x.g[0]];U=I.tB==1?I.Da():I.az7()}i=U.mZ();if(!i.GT(b))return U.color==0?0:16777215;
l=q.R(i.P()*4);l.fill(255);var V=U.R6();q.Qz(V,l)}else if(c==0&&x.g.length!=0){var I=x.B[x.g[0]];l=I.buffer;
i=I.rect}else{l=c==2?x.or():x.or(x.g[0]);i=new ha(0,0,x.m,x.e)}var u=Math.floor(b.x)-i.x,N=Math.floor(b.y)-i.y,e=(o-1)/2,B=Math.max(0,u-e),j=Math.max(0,N-e),T=Math.min(i.m,u+e+1),a=Math.min(i.e,N+e+1),P=(T-B)*(a-j);
for(var u=B;u<T;u++)for(var N=j;N<a;N++){var $=4*(N*i.m+u);v+=l[$];R+=l[$+1];y+=l[$+2]}v=Math.round(v/P);
R=Math.round(R/P);y=Math.round(y/P);return v<<16|R<<8|y};n.um.prototype.kT=function(x){var J=x.qa;this.CB=[1,3,5,11,31][J[0]];
this.r2=J[1];this.ayi=J[2];this.Fk=J[3]};n.yT=function(){n.Kj.call(this,[10,6],n.e1,"tools/gradient");
this.qa={r:JSON.parse(bs.lC.a9J).v,oe:"Lnr",pn:!1,LS:!1,ahY:"norm",c8:1};this.Kz=!1;this.dO=null};n.yT.prototype=new n.Kj;
n.yT.prototype.enable=function(x,J,o,c){var E=new ko(L.E.N,!0);E.data={d:L.H.TG,i2:"default"};J.c(E)};
n.yT.prototype.kT=function(x){this.qa=x.KJ};n.yT.prototype.JC=function(x,J,o,c,E){if(!x.$K())return;
this.dO=x.Q.Vx(E.x,E.y);this.dO=n.fp.MI(x,this.dO,o);this.Kz=!0};n.yT.prototype.OC=function(x,J,o,c,E){if(!this.Kz)return;
var b=x.Q.Vx(E.x,E.y);b=n.fp.MI(x,b,o);if(c.S(dG.uJ))b=n.yT.GK(this.dO,b);x.t.XV={j:[this.dO.x,this.dO.y,b.x,b.y],G:["M","L"]};
x.t.EY=[this.dO.x,this.dO.y,b.x,b.y];x.sD=!0};n.yT.prototype.w7=function(x,J,o,c,E){if(!this.Kz)return;
var b=x.B[x.g[0]],l=x.Q.Vx(E.x,E.y);l=n.fp.MI(x,l,o);if(c.S(dG.uJ))l=n.yT.GK(this.dO,l);var i=l._u(this.dO),F=ck.yh(this.dO,l,.5),k=Math.atan2(i.y,i.x),U=ck.q6(this.dO,l),I=Math.sin(k),V=Math.cos(k);
if(U>2){var u;if(x.u)u=x.u.rect;else u=new ha(0,0,x.m,x.e);var N=q.R(u.P()*4),e=this.qa,B=e.oe;if(B!="Lnr"){U*=2;
F=this.dO}q.r.VB(e.r,N,u,[V*1/U,I*1/U,-I*1/U,V*1/U],F.x,F.y,e.pn,bs.r.types.indexOf(B),o.Q6,o.xR,null,e.LS);
var j=Math.round(e.c8*256),T=N.length;if(j!=256)for(var $=0;$<T;$+=4)N[$+3]=N[$+3]*j>>>8;var a=new ko(L.E.f);
a.v=n.FI;a.data={d:"fillBMP",xk:N,Nu:e.ahY,wd:this.name};J.c(a)}x.t.XV=null;x.t.EY=[];x.sD=!0;this.Kz=!1};
n.yT.prototype.E4=function(x,J,o,c,E){function b(V){V=V.v;var u=V.Hrzn.v.val,N=V.Vrtc.v.val;return o.Q.OY(u,N)}if(x.d=="fromAction"){var l=this.qa,i=this.qa={};
for(var F in l)i[F]=l[F];var k=x.xV.Rx;if(k.Opct)i.c8=k.Opct.v.val/100;if(k.Dthr)i.LS=k.Dthr.v;if(k.Grad)i.r=k.Grad.v;
if(k.Type)i.oe=k.Type.v.GrdT;var U=b(k.From),I=b(k.T);this.JC(o,J,E,c,U);this.w7(o,J,E,c,I);this.qa=l}};
n.yT.GK=function(x,J){if(x.U5(J))return x;var o=J.x-x.x,c=J.y-x.y,E=Math.abs(o),b=Math.abs(c);if(E>b)b=E/2>b?0:E;
if(b>E)E=b/2>E?0:b;E=o>0?E:-E;b=c>0?b:-b;var l=Math.sqrt(o*o+c*c)/Math.sqrt(E*E+b*b);return new ck(x.x+E*l,x.y+b*l)};
n.yT.dh=function(x,J,o,c,E,b,l){var i=new ha(0,0,J,o),F=q.R(J*o*4);q.iQ(F,J,o,4);var k=Math.sin(c),U=Math.cos(c),I=q.R(J*o*4);
q.r.VB(x,I,i,[U*1/J,k*1/J,-k*1/o,U*1/o],J/2,o/2,!1,0,E,b);q.l.j6("norm",I,i,F,i,i,1);if(l)return new ImageData(new Uint8ClampedArray(F.buffer),J,o);
else return hR.jr(F.buffer,J,o,null,null,!0)};n.yT.aB$=function(x,J,o){var c=JSON.parse(JSON.stringify(x));
if(c.Clrs)for(var $=0;$<c.Clrs.v.length;$++){var E=c.Clrs.v[$].v,b=E.Type.v.Clry;if(b=="UsrS")continue;
var l=b=="FrgC"?J:o;E.Type.v.Clry="UsrS";E.Clr={t:"Objc",v:q.r.qP({o:l>>16&255,I:l>>8&255,J:l&255})}}return c};
n._7=function(){n.Kj.call(this,[10,7],n.cL,"tools/hand");this.Lo=!1;this.PA=new ck(0,0);this.H9=null;
this.tk=0};n._7.prototype=new n.Kj;n._7.prototype.kT=function(x,J,o,c){this.Lo=x.Lo};n._7.prototype.E4=function(x,J,o,c,E){var b=x.d;
if(b=="setcls"){o.Q.U=x.U;o.sD=!0;o.o0=!0}if(b=="scroll"&&!c.S(dG.Zj)){if(c.S(dG._k))n._7.ck(o,o.Q.z.x-x.s_.y,o.Q.z.y-x.s_.x);
else n._7.ck(o,o.Q.z.x-x.s_.x,o.Q.z.y-x.s_.y)}};n._7.prototype.enable=function(x,J,o,c){this.H9=null;
var E=new ko(L.E.N,!0);E.data={d:L.H.TG,i2:"grab"};J.c(E);if(x&&Date.now()-this.tk<300){E.type=L.E.f;
E.v=n.PE;E.data={d:"adapt",b:"fitscr"};J.c(E)}this.tk=Date.now()};n._7.prototype.JC=function(x,J,o,c,E){this.H9=x.Q.z.clone();
this.PA.DQ(E.x,E.y)};n._7.prototype.OC=function(x,J,o,c,E){if(!E.sz)return;if(this.H9==null)this.JC(x,J,o,c,E);
var b=this.Lo?J.Zw:[x];for(var $=0;$<b.length;$++)n._7.ck(b[$],this.H9.x+(E.x-this.PA.x),this.H9.y+(E.y-this.PA.y))};
n._7.prototype.w7=function(x,J,o,c,E){this.H9=null};n._7.ck=function(x,J,o){var c=x.Q.Z,E=x.Q.T3,b=E.m,l=E.e,i=x.m*c,F=x.e*c,k=i<b&&F<l,U=b/2+i/2-64,I=l/2+F/2-64;
x.Q.z.DQ(Math.max(-U,Math.min(U,J)),Math.max(-I,Math.min(I,o)));x.o0=!0};n.My=function(){n.Kj.call(this,[10,47],n.ZE,"tools/rview");
this.PA=new ck(0,0);this.TN=null;this.DB=null;this.tk=0};n.My.prototype=new n.Kj;n.My.prototype.enable=function(x,J,o,c){this.H9=null;
var E=new ko(L.E.N,!0);E.data={d:L.H.TG,i2:"grab"};J.c(E);if(x&&Date.now()-this.tk<300&&x.Q.o7!=0){x.Q.o7=0;
x.sD=!0}this.tk=Date.now();if(x)this.kl(x,J)};n.My.prototype.disable=function(x,J,o,c,E){if(x)this.kl(x,J)};
n.My.prototype.r_=function(x,J,o,c){if(x)this.kl(x,J)};n.My.prototype.JC=function(x,J,o,c,E){this.PA.DQ(E.x,E.y);
var b=x.Q;this.TN=b.Vx(b.T3.m/2,b.T3.e/2);this.DB=b.AY();var l=b.Vx(b.T3.m/2,b.T3.e/2),i=Math.min(b.T3.m,b.T3.e)*.35/b.Z,F=i*.2,k=l.x,U=l.y;
x.t.XV={G:"M L L L L L".split(" "),j:[k,U,k,U-i,k+F,U,k,U+i,k-F,U,k,U-i]};x.sD=!0};n.My.prototype.ae5=function(x){var J=x.Q,o=J.Vx(J.T3.m/2,J.T3.e/2);
x.t.XV={G:["M","L"],j:[o.x,o.y,o.x,o.y-200]}};n.My.prototype.OC=function(x,J,o,c,E){if(!E.sz)return;
var b=x.Q,l=this.TN,i=this.PA,F=new ck(b.T3.m/2,b.T3.e/2),k=Math.atan2(E.y-F.y,E.x-F.x),U=Math.atan2(i.y-F.y,i.x-F.x),I=Math.atan2(this.DB.J,this.DB.V),V=k-U,u=Math.PI/4;
if(c.S(dG.uJ)){V=I+u*Math.round((V-I)/u)}this.ag3(x,J,this.DB.clone(),l,V)};n.My.prototype.w7=function(x,J,o,c,E){x.t.XV=null;
x.sD=!0};n.My.prototype.kT=function(x,J,o,c){this.ag3(o,J,null,null,x.Ue-o.Q.o7);o.Q.o7=x.Ue};n.My.prototype.ag3=function(x,J,o,c,E){var b=x.Q;
if(o==null)o=b.AY();if(c==null)c=b.Vx(b.T3.m/2,b.T3.e/2);o.translate(-c.x,-c.y);o.rotate(E);o.translate(c.x,c.y);
b.a6o(o);if(x.m*b.Z<b.T3.m&&x.e*b.Z<b.T3.e)b.z.DQ(0,0);x.sD=!0;this.kl(x,J)};n.My.prototype.kl=function(x,J){var o=new ko(L.E.N,!0);
o.data={d:L.H.dC,v:this.id,Ue:x.Q.o7};J.c(o)};n.i4=function(){n.qS.call(this,[10,25],n.lu,"tools/hbrush")};
n.i4.prototype=new n.qS("");n.i4.prototype.w7=function(x,J,o,c,E){if(this.LP==null)return;this.xl(x,"heal",this.LP.BE(),this.LP.mZ(),this.LP.ZS());
this.W(x,this.LP.ZS());n.mv.prototype.w7.call(this,x,J,o,c,E);if(!this.qa.algnd)this.z=null};n.Hx=function(x){n.Kj.call(this,x?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],x?n.Ha:n.eY,x?"tools/vtype":"tools/htype");
this.BX=[];this.XK=null;this.caller=null;this.xY=1;this.Je=null;this.a31=0;this.Cp=0;this.avJ=null;this.Qc=null;
this.fY=null;this.hj=null;this.NF=null;this.al=null;this.amK=null;this.Aj=null;this.Vc=null;this.J9=null;
this.aBb=null;this.A_=!1;this.vj=!1;this.TE=!1;this.MK=null;this.so=null;this.afm=null;this.t3=!1;this.wE=!1;
this.BA=-1;this.$F=-1;this.F0=document.createElement("textarea");this.F0.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.F0.addEventListener("input",this.fK.bind(this),!1);this.F0.addEventListener("keydown",this.a7$.bind(this),!1);
this.F0.addEventListener("keyup",this.a7l.bind(this),!1)};n.Hx.prototype=new n.Kj;n.Hx.prototype.dP=function(x){return x.sz};
n.Hx.prototype.XX=function(x,J,o,c){if(this.fY!=null||this.id==n.Ha)return;this.caller=J;var E=this.a0Q(x);
if(E.length!=0){var b=null,l=[],i=[];for(var $=0;$<E.length;$++){var F=x.B[E[$]],k=F.add.TySh,U=0,I=iv.K1(k.TC).length-2,V=iv.eU(k.TC,U,I);
iv.Fw(V,k.M.z1());if(V.kJ.Font!=null)V.kJ.Font=V.SY[V.kJ.Font].Name;b=V.SY;l.push(V.kJ);i.push(V.zR)}var V={SY:b,kJ:iv.hf(l),zR:iv.hf(i)};
if(V.kJ.Font!=null)iv.UE(V,V.kJ.Font);this.a4Y(J,V,k)}};n.Hx.prototype.a0Q=function(x){var J=[];for(var $=0;
$<x.g.length;$++)if(x.B[x.g[$]]&&x.B[x.g[$]].add.TySh)J.push(x.g[$]);return J};n.Hx.prototype.E4=function(x,J,o,c,E){var b=x.d=="insertGlyph",l=x.d=="copyText",i=x.d=="selectAll";
if((b||l||x.d=="insertText"||i)&&this.fY){var F=b?String.fromCharCode(65533):x.b,k=this.F0,U=k.value,I=k.selectionStart,V=k.selectionEnd;
if(l){bB.Wu(new Blob([U.slice(I,V)],{type:"text/plain"}))}else if(i){this.BA=k.selectionStart=0;this.$F=k.selectionEnd=U.length;
this.i_(o);k.focus()}else{k.value=U.slice(0,I)+F+U.slice(V);k.selectionStart=k.selectionEnd=I+F.length;
this.fK(null,b?x.b:null);k.focus()}}if(x.d=="updateStyles"){if(this.fY==null){var u=this.a0Q(o),N=!1;
if(u.length!=0){this.x$(o,J,E,u);for(var $=0;$<u.length;$++){var e=o.B[u[$]],B=e.add.TySh;iv.pT(B,this.xY);
this.fY=e;var j=iv.K1(B.TC);this.BA=0;this.$F=j.length-1;iv.oO(B.TC,this.BA,this.$F,this.zk(E,B));var T=this.n$(o,E);
if(T==!1)N=!0}if(N){this.t3=!0;return}this.Z4(o,J,!0)}return}this.pv(E)}if(x.d.startsWith("warp")){var a=this.wE;
if(x.d=="warp"||x.d=="warpCancel"){if(this.fY==null)return;if(x.d=="warp")this.fY.add.TySh.Ma=x.Oq;else this.fY.add.TySh.Ma=this.amK;
this.n$(o,E);if(!a)this.i_(o)}if(x.d!="warp")this.F0.focus();if((x.d=="warpConfirm"||x.d=="warpCancel")&&a){this.wE=!1;
if(x.d=="warpConfirm")this.Z4(o,J);else this.NV(o,J)}}if(x.d=="editCurr"){if(E.QJ!=n.eY){this.Je=E.QJ;
var P=new ko(L.E.N,!0);P.data={d:L.H.zq,v:n.eY};J.c(P)}if(this.fY!=null)this.disable(o,J,E,c);this.XK=E;
this.caller=J;this.x$(o,J,E,[x.DJ]);var j=iv.K1(this.fY.add.TySh.TC);this.BA=0;this.$F=j.length-1;this.i_(o);
this.hA();this.F0.focus()}if(x.d=="switchPntPrgr"){if(this.fY)return;var e=o.B[o.g[0]],B=e.add.TySh,v=B.M.z1(),R=e.UG(),y=JSON.parse(JSON.stringify(B.TC)),t=iv.hT(y),g=t==1?iv.C9(y):[0,0,Math.round(R.m*1.05/v),Math.round(R.e*1.25/v)],H=iv.eU(y,0,0),_=H.SY[H.kJ.Font].Name,Y=E.a0.wv(_),K=[0,g[2],g[2]/2][H.zR.Justification%3],f=(Y?gD.p1(Y):.8)*H.kJ.FontSize;
iv.Ag(y,1-t);if(t==0){console.log(gD.p1(Y,_,H.kJ));K=-K;f=-f;iv.UC(y,[0,0,g[2],g[3]])}var m=new cW(1,0,0,1,K,f);
m.concat(B.M);this.E4({mo:o.g[0],d:"newED",$d:y,M:m,a9K:[16,3,t==1?0:1]},J,o,c,E)}if(x.d=="newED"){var e=o.B[x.mo],B=e.add.TySh,C=this.R0(o,[x.mo]);
B.TC=x.$d;if(x.M)B.M=x.M;if(i6.Wi(B,E.a0,J)){i6.n$(e,E.a0,o);o.W()}else o.C6=!0;var Z=new bk(x.a9K?x.a9K:this.name,this);
Z.data={O9:C,_5:this.R0(o,[x.mo])};o.VR(Z)}if(x.d=="fromAction"){var A=x.xV.Rx.Usng.v,d=A.TxtC.v,G=[];
for(var $=0;$<2;$++){var r=d[$==0?"Hrzn":"Vrtc"].v,F=r.val;if(r.type=="#Prc")F=($==0?o.m:o.e)*(F/100);
G[$]=F}this.VF(o,J,E,c,o.Q.OY(G[0],G[1]),!0);var e=o.B[o.g[0]],B=e.add.TySh,X=B.TC,U=iv.K1(X);iv.mS(X,0,U.length-1);
iv.Jq(X,0,A.Txt.v.replace(/\r/g,"\n"));U=iv.K1(X);for(var t=0;t<2;t++){var w=A[t==0?"Txtt":"paragraphStyleRange"].v;
for(var $=0;$<w.length;$++){var S=w[$].v,I=S.From.v,V=Math.min(S.T.v-1,U.length-1);S=S[t==0?"TxtS":"paragraphStyle"].v;
var z=iv.eU(X,I,V),s=t==0?z.kJ:z.zR;for(var M in S){var Q=S[M].v;if(M=="Sz")s.FontSize=Math.round(Q.val*(Q.type=="#Pnt"?o.yV/72:1));
else if(M=="fontPostScriptName")iv.UE(z,Q);else if(M=="Algn")s.Justification={Left:1,Cntr:2}[Q.Alg];
else if(M=="leading")s.Leading=S[M].v.val;else if(M=="baselineShift")s.BaselineShift=S[M].v.val;else if(M=="autoLeading")s.AutoLeading=S[M].v;
else if(M=="syntheticBold")s.FauxBold=S[M].v;else if(M=="syntheticItalic")s.FauxItalic=S[M].v;else if(M=="Trck")s.Tracking=S[M].v;
else if(M=="verticalScale")s.VerticalScale=S[M].v/100;else if(M=="horizontalScale")s.HorizontalScale=S[M].v/100;
else if(M=="Clr")s.FillColor={Type:1,Values:[1,Q.Rd.v/255,Q.Grn.v/255,Q.Bl.v/255]}}iv.oO(X,I,V,z)}}if(i6.Pn(o,E.a0,J))i6.n$(e,E.a0,o);
else o.C6=!0;o.W();this.Z4(o,J)}};n.Hx.prototype.pv=function(x){var J=Math.min(this.BA,this.$F),o=Math.max(this.BA,this.$F),c=this.fY.add.TySh;
iv.pT(c,this.xY);var E=this.zk(x,c);iv.oO(c.TC,J,o-1,E);var b=this.caller.je(),l=this.n$(b,x);if(l)this.i_(b);
if(document.activeElement.tagName.toLowerCase()!="input")this.F0.focus()};n.Hx.prototype.f3=function(x){return this.BX.indexOf(x)!=-1};
n.Hx.prototype.enable=function(x,J,o,c){var E=this.F0;J.n.appendChild(E);this.Aj="default";this.JH(J)};
n.Hx.prototype.Yv=function(){return this.fY!=null};n.Hx.K$=function(x,J){var o=new ck(J.x,J.y);for(var $=x.B.length-1;
$>=0;$--){var c=x.B[$],E=c.add.TySh;if(E&&x.aiY($)){var b=o,l=c.rect;if(b5==1){var i=E.M.clone();i.Mr();
b=i.iI(o);l=c.Ex.kI}if(!l.GT(b))continue;var F=c.Sm(31);return F?-2:$}}return-1};n.Hx.prototype.JC=function(x,J,o,c,E){this.XK=o;
this.caller=J;var b=x.Q.Vx(E.x,E.y),l=this.fY==null;if(l){var i=n.Hx.K$(x,b);if(i==-2){alert(h9.get([6,57,0]));
return}if(i>=0&&!c.S(dG.uJ)){if(!i6.Wi(x.B[i].add.TySh,o.a0,J)){alert("Fonts not loaded yet");return}this.x$(x,J,o,[i])}else{this.TE=!0;
this.MK=E;return}}var F=l?-1:iv.hT(this.fY.add.TySh.TC),k=this.J9?this.J9:this.Vc,U=k&&k.JC(x,o,c,b,null,null,E)&&q.Oq.IQ(this.fY.add.TySh.Ma),I=!l&&q.O.aCt(b,this.fY.UG())>20/x.Q.Z&&(F==0||F==1);
if(U||I){this.A_=!0;this.so=b;this.afm=this.fY.add.TySh.M.clone();if(this.BA==-1&&this.$F==-1)this.BA=this.$F=this._J(b)}else{if(this.NF==null){alert("Fonts not loaded yet");
return}this.vj=!0;this.BA=this.$F=this._J(b);var V=Date.now();if(V-this.a31>300)this.Cp=0;this.Cp++;
this.a31=V;if(this.Cp==2)this.abS();if(this.Cp==3)this.al1();if(this.Cp>1){this.vj=!1}}this.hA();this.i_(x)};
n.Hx.prototype.x$=function(x,J,o,c){var E=x.B[c[0]];this.fY=E;this._P(J,L.E.N,{d:L.H.dC,v:this.id,Pk:"showactive"});
this.hj=c;x.g=c.slice(0);x.CQ();x.$t=!0;this.al=this.R0(x,c);this.U$(E.add.TySh);this.n$(x,o)};n.Hx.prototype.U$=function(x){if(iv.hT(x.TC)!=1)return;
var J=iv.C9(x.TC);J=new ha(0,0,J[2]-J[0],J[3]-J[1]);var o=[J.x,J.y,J.x+J.m,J.y,J.x+J.m,J.y+J.e,J.x,J.y+J.e];
q.O.M(o,x.M,o);this.Vc=new cK(o,!1,!1,!1,!0);this.Vc.RT(0)};n.Hx.prototype.abS=function(){var x=iv.K1(this.fY.add.TySh.TC);
this.BA=this.akZ(x,this.BA);this.$F=this.aw$(x,this.BA)};n.Hx.prototype.akZ=function(x,J){var o=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];
for(var $=0;$<o.length;$++)c.push(o.charAt($));var E=c.indexOf(x[J])==-1?!0:!1;for(var $=J-1;$>=0;$--)if(c.indexOf(x.charAt($))!=-1==E)return $+1;
return 0};n.Hx.prototype.aw$=function(x,J){var o=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];for(var $=0;
$<o.length;$++)c.push(o.charAt($));var E=c.indexOf(x[J])==-1?!0:!1;for(var $=J+1;$<x.length;$++)if(c.indexOf(x.charAt($))!=-1==E)return $;
return x.length-1};n.Hx.prototype.al1=function(){var x=this.NF.a0m(this.BA);this.BA=x[0];this.$F=x[1]};
n.Hx.prototype.JH=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.TG,i2:this.Aj};x.c(J)};n.Hx.prototype.OC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y),l=this.fY;
if(!E.sz){var i="default",F=this.Vc,k=this.J9?this.J9:F;if(k&&q.Oq.IQ(l.add.TySh.Ma)){var U=k.YI(b,x.Q.Z,null,E);
if(U)i=U;else if(k==F&&F.T4(b))i="text"}else if(l&&q.O.aCt(b,l.UG())>20/x.Q.Z)i="move";else if(n.Hx.K$(x,b)>=0)i="text";
if(i!=this.Aj){this.Aj=i;this.JH(J)}}var I=this.MK;if(this.TE&&Math.min(E.x-I.x,E.y-I.y)>4/x.Q.Z){this.TE=!1;
this.VF(x,J,o,c,E);l=this.fY;this.A_=!0;this.Vc=new cK(null,!1,!1,!1,!0);this.Vc.RT(0);var V=x.Q.Vx(this.MK.x,this.MK.y);
V.x=Math.round(V.x);V.y=Math.round(V.y);this.Vc.JC(x,o,c,V,null,null,E,x.Q.o7)}if(this.A_){var u=l.add.TySh;
if(this.J9){this.J9.OC(x,o,c,b);var N=q.D.ut(q.D.LH(this.J9.ER(),this.aBb));u.M=N;this.n$(x,o);iv.ww(u)}else if(this.Vc){this.Vc.OC(x,o,c,b);
var e=u.M.clone(),B=Math.atan2(e.J,e.V);e.rotate(B);var N=q.D.ut(q.D.LH(this.Vc.ER())),j=Math.atan2(N.J,N.V);
N.rotate(j);if(!isNaN(N.V)&&N.V*N.Lu-N.J*N.xt!=0){var T=new ha(0,0,N.V/e.V,N.Lu/e.Lu),a=Math.round(T.m),P=Math.round(T.e),v=u.TC.Curve;
if(v){var R=iv.C9(u.TC),y=new cW(a/R[2],0,0,P/R[3],0,0);q.O.M(v.Points,y,v.Points);iv.ww(u)}iv.UC(u.TC,[0,0,a,P]);
u.M=q.D.ut(q.D.LH(this.Vc.ER(),T));this.n$(x,o);iv.ww(u)}}else{var t=b.x-this.so.x,g=b.y-this.so.y;u.M=this.afm.clone();
var H=new ck(u.M.Iw+t,u.M.s7+g);H=n.fp.MI(x,H,o);u.M.Iw=H.x;u.M.s7=H.y;this.n$(x,o)}}if(this.vj)this.$F=this._J(b);
if(this.A_||this.vj)this.i_(x)};n.Hx.prototype.VF=function(x,J,o,c,E,b){var l=x.l$(),i=l[0],F=l[1],k=x._I();
k.add.lnsr="rend";var U=x.B.slice(0);k.Yq("Text layer "+U.length);this.fY=k;var I=x.g.length==0?x.B.length-1:x.g[x.g.length-1],V=I+1;
if(U[I].add.lsct==es.tI)V--;this.al={Hi:U.slice(0),BJ:x.g.slice(0)};U.splice(V,0,k);x.g=[V];this.BA=this.$F=0;
x.VQ(U);this.al.Ay=U.slice(0);this.al.g9=x.g.slice(0);this._P(J,L.E.N,{d:L.H.dC,v:this.id,Pk:"showactive"});
var u=x.Q.Vx(E.x,E.y),N=o.Mf;console.log(N);if(this.id==n.Ha){N=JSON.parse(JSON.stringify(N));N.kJ.BaselineDirection=1}k.add.TySh=iv.hK(u.x,u.y,N,x.Q.o7);
var e=k.add.TySh,B=e.TC;if(this.id==n.Ha)B._LineOrientation=2;iv.pT(e,this.xY);if(E.sz)iv.Ag(B,1);else{iv.Ag(B,0);
var j=i[F.pop()],T=j?j.add.vmsk:null;if(b)T=null;if(T&&!c.S(dG.uJ)){T=T.clone();var a=T.$,v,R;for(var $=0;
$<a.length;$++)if(a[$].sm!=null)a[$].sm=0;var P=5/x.Q.Z;v=q.p.zo(T.$,u,!0,P);if(v.cD==-1)v=q.p.zo(T.$,u);
if(v.cD!=-1){iv.Ag(B,1);var y=q.p.Yk(a,v.cD),t=q.p.pS(a,v.cD)-1;a=T.$=a.slice(0,2).concat(a.slice(y,y+t+1));
T.g=[];e.add={vmsk:T,vogk:h.pw(a)};B.Curve={};iv.PL(e);if(v.eQ!=null){var g=gD.Z0(B.Curve);q.O.M(g[0],e.M,g[0]);
var H=q.O.K5(g[0],u.x,u.y),_=o.Mf.zR.Justification;if(_==2||_==5){var Y=(g[2][H]+g[3]*.5)%g[3];H=gD.K3(Y,g[2])}var K=g[1][H];
K=K%t;T.wD=[K,K];iv.PL(e)}else this.U$(e)}}}return k};n.Hx.prototype.w7=function(x,J,o,c,E,b){if(b){this.TE=!1;
return}if(this.fY==null&&!this.TE)return;var l=x.Q.Vx(E.x,E.y),i=this.TE;if(this.TE){this.TE=!1;this.VF(x,J,o,c,E);
this.vj=!0}if(this.A_||this.vj){this.i_(x);this.hA();if(i)this.pv(o)}if(this.A_&&this.Vc)this.Vc.w7(x,o,c,l);
this.A_=this.vj=!1;this.F0.focus()};n.Hx.prototype.hA=function(){var x=this.fY.add.TySh,J=Math.min(this.BA,this.$F),o=Math.max(this.BA,this.$F),c,E;
if(J==o){var b=iv.K1(x.TC);if(J==0||b.charAt(J-1)=="\n")c=E=J;else c=E=J-1}else{c=J;E=o-1}var l=iv.eU(x.TC,c,E);
iv.Fw(l,x.M.z1());this.a4Y(this.caller,l,x)};n.Hx.prototype.a4Y=function(x,J,o){this._P(x,L.E.N,{d:L.H.bS,KJ:h4.A7,Mf:J});
var c=this.xY=iv.ea(o);this._P(this.caller,L.E.N,{d:L.H.dC,v:this.id,Pk:"changeAA",_Q:c})};n.Hx.prototype.KY=function(x,J,o,c,E){if(x==null)return;
var b=x.Q.Vx(E.x,E.y),l=n.Hx.K$(x,b);if(l==-1)return;var i=new ko(L.E.N,!0);i.data={d:L.H.dC,v:this.id,Pk:"showpan",asd:this.fY!=null,DJ:l,UB:E,j3:x,XK:o};
J.c(i)};n.Hx.prototype.a8w=function(){var x=this.fY;if(x&&!this.A_&&this.J9!=null){var J=this.caller.je();
this.J9.w7(J,this.XK,null,null);this.J9=null;this.U$(x.add.TySh);this.i_(J)}};n.Hx.prototype.disable=function(x,J,o,c){var E=this.fY;
this.Z4(x,J)};n.Hx.prototype.kT=function(x,J,o,c,E){if(this.wE)return;if(x.Pk=="commit")this.Z4(o,J);
if(x.Pk=="cancel")this.NV(o,J);if(x.Pk=="changeAA"){this.xY=x._Q;if(o!=null)this.E4({d:"updateStyles"},J,o,c,E)}if(x.Pk=="showwarp"){if(o==null)return;
if(this.fY==null){var b=o.B[o.g[0]],l=b.add.TySh;if(l==null)return;this.x$(o,J,E,[o.g[0]]);this.F0.focus();
this.wE=!0}this.amK=this.fY.add.TySh.Ma;var i=new ko(L.E.N,!0);i.data={d:L.H.yI,AN:"textwarp"};J.c(i)}};
n.Hx.prototype.DL=function(x,J){if(J!=h4.B5)return;if(this.t3){this.t3=!1;var o=this.caller.je(),c=this.hj;
for(var $=0;$<c.length;$++){this.fY=o.B[c[$]];this.n$(o,x)}this.Z4(o,this.caller);return}if(this.fY)this.pv(x)};
n.Hx.prototype.zk=function(x,J){var o=JSON.parse(JSON.stringify(x.Mf));iv.Fw(o,1/J.M.z1());return o};
n.Hx.prototype.Tu=function(x,J){if(x.O9!=null)this.d9(J,x._5);else this.aCI(J,x.Ay,x.g9)};n.Hx.prototype.WY=function(x,J){if(x.O9!=null)this.d9(J,x.O9);
else this.aCI(J,x.Hi,x.BJ)};n.Hx.prototype.d9=function(x,J){for(var $=0;$<J.length;$++){var o=J[$],c=o.mo,E=x.B[c];
E.buffer=o.kC;E.rect=o.By.clone();E.W();E.Ex.Gc=null;E.Ex.path=null;var b=E.add.TySh;b.Ma=o.Oq;b.Ca=o.Ca.clone();
b.M=o.M.clone();b.TC=JSON.parse(JSON.stringify(o.TC));E.SX()}x.W()};n.Hx.prototype.R0=function(x,J){var o=[];
for(var $=0;$<J.length;$++){var c=J[$],E=x.B[c],b=E.add.TySh;o.push({mo:c,M:b.M.clone(),Oq:JSON.parse(JSON.stringify(b.Ma)),Ca:b.Ca.clone(),TC:JSON.parse(JSON.stringify(b.TC)),kC:E.buffer.slice(0),By:E.rect.clone()})}return o};
n.Hx.prototype.aCI=function(x,J,o){x.g=o;x.VQ(J);x.W();x.Gf=!0};n.Hx.prototype.n$=function(x,J,o){if(o==null)o=!1;
var c=this.fY.add.TySh;if(!i6.Wi(c,J.a0,this.caller))return!1;if(!o){var E=iv.K1(c.TC);this.F0.value=E.slice(0,E.length-1)}var b=this.fY.rect,l=i6.n$(this.fY,J.a0,x);
this.NF=l[1];var i=this.NF.II();if(q.Oq.IQ(c.Ma))c.Ca=new ha;else{if(iv.hT(c.TC)==1){var F=iv.C9(c.TC),bz=i.y;
c.Ca=new ha(0,bz,F[2]-F[0],F[3]-F[1]-bz)}else c.Ca=i}x.NT();if(l[2])x.W(x.root.N$(l[2].By.k7(b),x,x.B.indexOf(this.fY)));
return!0};n.Hx.prototype.fK=function(x,J){if(this.fY==null||this.wE)return;var o=this.F0.selectionStart,c=this.fY.add.TySh,E=iv.K1(c.TC),b=this.F0.value+"\n",l=Math.min(this.BA,this.$F),i=Math.max(this.BA,this.$F),V=!1;
this.BA=Math.min(o,l);if(b.length-o<E.length-this.$F)this.$F=E.length-b.length+o;if(E!=b){while(this.BA>0&&E.charAt(this.BA-1)!=b.charAt(this.BA-1))this.BA--}var F=E.substring(0,this.BA),k=E.substring(this.$F,E.length),U=b.substring(this.BA,b.length-k.length);
iv.mS(c.TC,this.BA,this.$F);iv.Jq(c.TC,this.BA,U);if(J!=null)iv.aAD(c.TC,this.BA,J);var I=this.zk(this.XK,c),u=-1,N=Array.from(U);
for(var $=0;$<N.length;$++)u=Math.max(u,N[$].codePointAt(0));if(u!=-1&&u>128&&u!=65533&&I.kJ.Font!=null){var e=I.SY[I.kJ.Font].Name,B=this.XK.a0.jO(u,e,I.SY);
if(e!=B){iv.UE(I,B);V=!0}}if(this.Qc!=null&&U==this.Qc){var j=JSON.parse(this.avJ);I.kJ=j.kJ;I.SY=j.SY;
V=!0}iv.oO(c.TC,this.BA,this.BA+U.length-1,I);this.BA=this.$F=F.length+U.length;var T=this.caller.je(),a=this.n$(T,this.XK,!0);
if(a)this.i_(T,!0);if(V)this.hA()};n.Hx.prototype.a7l=function(x){var J=dG;if(!x.ctrlKey)this.a8w();
x.stopPropagation()};n.Hx.prototype.a7$=function(x){x.stopPropagation();var J=x.ctrlKey||x.metaKey,o=dG,F=0,k=0,a=0,f=!1;
if(this.fY==null||this.wE)return;if(this.fY==null)return;if(this.caller.vn.NX())return;var c=this.caller.je();
if(this.J9==null&&J){var E=this.fY.add.TySh,b=iv.hT(E.TC),l;if(b==1){l=iv.C9(E.TC);l=new ha(0,0,l[2]-l[0],l[3]-l[1])}else l=this.NF.II();
var i=[l.x,l.y,l.x+l.m,l.y,l.x+l.m,l.y+l.e,l.x,l.y+l.e];q.O.M(i,E.M,i);this.J9=new cK(i,!0,!0,!1,!1);
this.J9.RT(0);this.aBb=l;this.i_(c)}if(o.eW(x.code,o.NC))F=1;if(o.eW(x.code,o.Ef))F=-1;if(o.eW(x.code,o.WQ))k=-1;
if(o.eW(x.code,o.XL))k=1;var U=o.eW(x.code,dG.N2),I=o.eW(x.code,dG.aj4);if(o.eW(x.code,dG.eP)&&J){this.Z4(c,this.caller);
return}if(o.eW(x.code,dG.Fh)){this.NV(c,this.caller);return}if(o.eW(x.code,dG.Id)){x.preventDefault();
var V=this.F0,u=V.value,N=V.selectionStart,e=V.selectionEnd;V.value=u.substring(0,N)+"\t"+u.substring(e);
V.selectionStart=V.selectionEnd=N+1;this.fK(null);return}var B=o.eW(x.code,o.l7),j=o.eW(x.code,o.oN);
if(J&&(B||j)){x.preventDefault();var T=new ko(L.E.f,!0);T.v=n.PE;T.data={d:"zoom",ZD:B};this.caller.c(T)}if(o.eW(x.code,o.wn))a=1;
if(o.eW(x.code,o.m7))a=-1;var P=this.BA==this.$F,v=J&&x.shiftKey&&a!=0&&!P;if(v||x.altKey&&F!=0){var R=JSON.parse(JSON.stringify(this.XK.Mf));
if(v){var y=R.kJ.FontSize;if(y==null)y=16;R.kJ.FontSize=Math.max(1,y+a*(x.altKey?5:1))}else{if(P){R.kJ.Kerning+=20*F;
R.kJ.AutoKerning=!1}else R.kJ.Tracking+=20*F}x.preventDefault();var t=new ko(L.E.N,!0);t.data={d:L.H.bS,KJ:h4.A7,Mf:R};
this.caller.c(t);var T=new ko(L.E.f,!0);T.v=n.eY;T.data={d:"updateStyles"};this.caller.c(T);return}if((o.eW(x.code,o.uA)||o.eW(x.code,o.eO))&&J){var g=this.BA,H=this.$F;
if(g>H){var _=g;g=H;H=_}var E=this.fY.add.TySh,Y=iv.K1(E.TC);if(g!=H){this.Qc=Y.slice(g,H);this.avJ=JSON.stringify(this.XK.Mf)}}var K=iv.K1(this.fY.add.TySh.TC);
if(F!=0||k!=0||U||I){x.preventDefault();var m=this.BA;if(F!=0){if(J&&F==-1)m=this.akZ(K,this.BA-1);else if(J&&F==1)m=this.aw$(K,this.BA);
else{var V=this.F0,u=V.value;m=this.BA+F;if(m!=0&&u.codePointAt(m-1)>65535)m+=F}}else if(k!=0){var C=this.NF.j2(this.BA);
if(k==-1&&C.lG==0)m=0;else if(k==1&&C.lG==this.NF.a6Y()-1)m=99999999999;else m=this.NF.arf(new ck(C.By.x+C.By.m/2,0),C.lG+k)}else if(U){var Z=this.BA-1;
while(Z>0&&K.charCodeAt(Z)!=10)Z--;m=Z==0?0:Z+1}else if(I){var Z=this.BA;while(Z<K.length-1&&K.charCodeAt(Z)!=10)Z++;
m=Z}m=Math.max(0,Math.min(K.length-1,m));if(x.shiftKey)this.BA=m;else this.BA=this.$F=m;f=!0}if(o.eW(x.code,dG.H)&&J){this.BA=0;
this.$F=K.length-1;f=!0}if(f){this.hA();this.i_(c)}};n.Hx.abA=function(x,J){var o=x.length;if(o!=J.length)return!1;
for(var $=0;$<o;$++)if(x[$].mo!=J[$].mo)return!1;return!0};n.Hx.prototype.Z4=function(x,J,o){if(this.fY==null)return;
this.fY.SX();var c=this.al;if(c instanceof Array){var E=this.R0(x,this.hj),b=x.Xz();if(b!=null&&b.v==this&&b.data.O9&&n.Hx.abA(b.data.O9,c)&&o)b.data._5=E;
else{var l=new bk(this.name,this);l.data={O9:c,_5:E};x.VR(l)}}else{var l=new bk(this.name,this);l.data={Hi:c.Hi,Ay:c.Ay,BJ:c.BJ,g9:c.g9};
x.VR(l)}this.escape(x,J)};n.Hx.prototype.NV=function(x,J){if(this.fY==null)return;if(this.al instanceof Array){this.d9(x,this.al);
if(this.fY)iv.ww(this.fY.add.TySh)}else{x.g=this.al.BJ;x.VQ(this.al.Hi);x.Gf=!0}x.W();this.escape(x,J)};
n.Hx.prototype.escape=function(x,J){this.a8w();this.fY=null;this.hj=null;this.NF=null;this.Vc=null;this.F0.blur();
x.t.XV=null;x.t.w0=null;x.t.EY=[];x.sD=!0;this.A_=!1;this.vj=!1;this.BA=this.$F=-1;this._P(J,L.E.N,{d:L.H.dC,v:this.id,Pk:"hideactive"});
if(this.Je){var o=new ko(L.E.N,!0);o.data={d:L.H.zq,v:this.Je};J.c(o);this.Je=null}};n.Hx.prototype._P=function(x,J,o,c){var E=new ko(J,!0);
E.data=o;if(c)E.v=c;x.c(E)};n.Hx.prototype._J=function(x){var J=this.fY.add.TySh,o=this.NF,c=J.M.clone();
c.Mr();var E=c.iI(x),b=iv.mZ(J,o),l=q.Oq.h7(J.Ma,b),i=q.bf.GB(l,E);if(i==null)i=new Float64Array(2);
E=new ck(b.x+i[0]*b.m,b.y+i[1]*b.e);if(o.my){var F=o.my.clone();F.Mr();E=F.iI(E)}var k=o.arf(E);return k};
n.Hx.prototype.i_=function(x,J){if(J==null)J=!1;var o=this.fY.add.TySh,c=iv.hT(o.TC),E=this.NF,b=E?iv.mZ(o,E):null;
x.t.EY=[];x.t.XV=null;x.t.w0=null;var l=this.J9?this.J9:this.Vc;if(l){l.XT(x,this.XK,!q.Oq.IQ(o.Ma));
var i=o.M.clone();i.Mr();if(E&&E.my&&E.jP==1){var F=E.my.clone();F.Mr();i.concat(F)}q.O.M(x.t.EY,i,x.t.EY);
q.O.M(x.t.XV.j,i,x.t.XV.j);if(E&&E.my==null&&E.aCV()){var k=b.m-20,U=b.e+8;x.t.XV.j.push(k,U,k+10,U,k+5,U-5,k+5,U+5);
x.t.XV.G.push("M","L","M","L")}}else if(c==0)this.a1c(x,o,E);else x.t.XV={j:[],G:[]};var I=Math.min(this.BA,this.$F),V=Math.max(this.BA,this.$F);
if(!J){this.F0.selectionStart=I;this.F0.selectionEnd=V}if(E!=null){var u=function(l,P){var v=l.x,R=l.y+l.e,y=new cW;
y.translate(-v,-R);y.rotate(-P);y.translate(v,R);l.y+=l.e*.27;var a=q.O.ny(l);q.O.M(a.j,y,a.j);return a};
if(I==V){I=Math.max(I,0);var N=E.j2(I);if(N){var e=N.By,B=this.XK.Mf.kJ.FontSize;if(B!=null&&B!=0){B/=o.M.z1();
e.y+=e.e-B;e.e=B}var j=E.alG(I);if(j!=null&&j.EM==1)e.x+=e.m;var T=u(e,N.o7).j;x.t.XV.G.push("M","L");
x.t.XV.j.push(T[0],T[1]-1,T[6],T[7]-1)}}else{x.t.w0={j:[],G:[]};for(var $=I;$<V;$++){var N=E.j2($),a=u(N.By,N.o7);
q.O.concat(x.t.w0,a)}}}x.t.XV=i6.HU(x.t.XV,o,E,!0);x.t.w0=i6.HU(x.t.w0,o,E,!0);x.t.EY=i6.HU({j:x.t.EY},o,E,!0).j;
x.sD=!0};n.Hx.prototype.a1c=function(x,J,o){if(o==null)return;x.t.EY.push(0,0);if(x.t.XV==null)x.t.XV={G:[],j:[]};
for(var $=0;$<o.zR.length;$++){var c=o.zR[$];for(var E=0;E<c.EE.length;E++){var b=c.EE[E],l=c.B9.x+b.B9.x+b.By.x,i=c.B9.y+b.B9.y+b.By.y+b.By.e;
x.t.XV.G.push("M","L");x.t.XV.j.push(l,i,l+b.By.m,i)}}x.sD=!0};n.h$=function(){n.Hx.call(this,!0)};n.h$.prototype=new n.Hx;
n.Jj=function(){n.vh.call(this,[10,9],n.MG,"tools/lasso");this.fd="crosshair";this.eb=null;this.i8=null;
this.so=null};n.Jj.prototype=new n.vh;n.Jj.prototype.eN=function(x,J,o,c){this.eb=this.nM;this.i8={j:[this.eb.x,this.eb.y],G:["M"]}};
n.Jj.prototype.FB=function(x,J,o,c){this.so=c;var E=this.i8;if(E==null)return;if(!c.sz){if(this.i8!=null&&this.qD.Q9(1)&&o.S(dG.Zj)){E.j.pop();
E.j.pop();E.j.push(this.uE.x,this.uE.y);x.t.XV=E;x.sD=!0}return}E.G.push("L");E.j.push(this.uE.x,this.uE.y);
this.eb=this.uE;if(this.lv){x.t.XV=E;x.sD=!0}};n.Jj.prototype.Yv=function(){return this.i8!=null};n.Jj.prototype.gs=function(){return this.i8!=null};
n.Jj.prototype.B3=function(x,J,o,c){n.vh.prototype.B3.call(this,x,J,o,c);if(this.i8&&this.qD.Q9(1)&&this.so&&!this.so.sz&&!c.S(dG.Zj))this.awN(x,o,c)};
n.Jj.prototype.cK=function(x,J,o,c){this.so=c;var E=this.i8;if(E==null)return;if(this.qD.Q9(1)&&o.S(dG.Zj)){E.G.push("L");
E.j.push(this.uE.x,this.uE.y);return}this.awN(x,J,o)};n.Jj.prototype.awN=function(x,J,o){this.finish(x,J,o,this.so);
this.i8=null;x.t.XV=null;x.sD=!0};n.Jj.prototype.getSelection=function(x,J,o,c){if(this.nM.U5(this.uE)||!this.lv)return null;
return n.vh.HZ(this.i8.j,null,this.qa.anta)};n.fp=function(){n.Kj.call(this,[10,11],n.ug,"tools/move");
this.$A=new ck(0,0);this.KQ=new ck(0,0);this.lN=null;this.jd=null;this.$e=new ck(0,0);this.SG=null;this.Vh=null;
this.Qf=null;this.tk=0;this.Eo=null;this.FZ=[];this.i6=null;this.WV=null;this.Kz=!1;this.d=0;this.cV=null;
this.cC=null;this.Ol=null;this.NM=!1;this.qa={kp:!0,WH:!1,Ad:!1,au9:1};this.akQ=!1;this.apo=!1;this.Vc=null;
this.r3=null;this.Fs=null;var x=[];for(var $=0;$<q.xP.Bz.length;$++)x.push({name:q.xP.Bz[$],T:function(J,o,c){return{tK:o.Km.jm==c}}});
this.MR=new iy(x);this.MR.k("select",this.Gm,this)};n.fp.prototype=new n.Kj;n.Kj.prototype.dP=function(x){return this.Kz&&this.d!=2};
n.fp.prototype.amM=function(){return this.Kz&&(this.d==0||this.d==1)};n.fp.prototype.r_=function(x,J,o,c){this.UI(x,-this.$e.x,-this.$e.y);
this.$e.DQ(0,0);this.SM(x,null,o);this.Bv(x)};n.fp.prototype.hp=function(){var x=this.qa;return[x.kp?1:0,x.WH?1:0,x.Ad?1:0]};
n.fp.prototype.VJ=function(x,J,o){var c=this.qa;if(x&&x[0]!=null)c.kp=x[0]==1;if(x&&x[1]!=null)c.WH=x[1]==1;
if(x&&x[2]!=null)c.Ad=x[2]==1;var E=new ko(L.E.N,!0);E.data={d:L.H.dC,v:this.id,Ek:c,amd:J};o.c(E)};
n.fp.alK=function(x,J,o,c,E,b,l){if(l==null)l=[!1,!0];var i=x.kw(null,E,!0),F,k=E==null?x.g[0]:E;if(x.add.artd&&(E!=null||x.g.length==1)&&x.B[k].add.artb){var U=x.B[k].uc();
F=x.wJ(i,U,U)[0]}else{var I=new ha(0,0,x.m,x.e),F=x.wJ(i,l[0]?I:null,l[1]?null:I)[0];delete F.add.artd;
if(l[1]){var V=q.Bm(F.or(),new ha(0,0,F.m,F.e),2);n.Pm.Pq(F,V)}}if(o!=1){var u=new ha(0,0,Math.round(F.m*o),Math.round(F.e*o));
n.Pm.Pq(F,u);var N=[];for(var $=0;$<F.B.length;$++)N.push($);var e=n.Y.OU(F,N,!0);n.Pm.yS(F,new cW(o,0,0,o,0,0));
n.Y.N6(F,c,N,e,1,q.D.ay(new cW(o,0,0,o,0,0)),null,!0);F.Q4()}var B=[];for(var $=0;$<J.length;$++)if(F.m*F.e!=0)B.push(hR.GU(F,J[$].toUpperCase(),null,null,b?b[$]:null,c));
return B};n.fp.prototype.as_=function(x,J,o,c,E){if(x==null||x.g.length==0)return;var b=n.fp.alK(x,[J],o,c,null)[0],l=new ko(L.E.N,!0);
l.data={d:L.H.tQ,data:b,name:x.B[x.g[0]].getName()+(o==1?"":"@"+o+"x")+"."+J};E.c(l)};n.fp.prototype.kT=function(x,J,o,c,E){if(x.XC=="getPNG"){this.as_(o,"png",x.h1,E,J)}else if(x.XC=="getSVG"){this.as_(o,"svg",x.h1,E,J)}if(x.XC=="prms"){this.qa=x;
this.Bv(o)}};n.fp.a9u=function(x){var bz=x.length,o=0;x.sort(function(b,l){return b[0]+b[1]/2-(l[0]+l[1]/2)});
var J=x[bz-1][0]+x[bz-1][1]-x[0][0];for(var $=0;$<bz;$++)o+=x[$][1];var c=Math.round((J-o)/(bz-1)),E=x[0][0];
for(var $=0;$<bz;$++){x[$][0]=E;E+=x[$][1]+c}};n.fp.prototype.E4=function(x,J,o,c,E){var b=x.d;if(b=="trsl"){var l=Math.round(x.k2),i=Math.round(x.h0);
this.$e.DQ(l,i);this.rr(o,J,c,E,!1,x.a);this.UI(o,l,i);this.SM(o,null,E)}else if(b=="fcmy"||b=="fvec"){var F=["RGB","CMYK"][x.b]+" Color";
if(b=="fvec")F=["Raster","Vector"][x.b]+" Mode";var k=new bk(F,this);k.data={d:x.d,xg:o.add[b]==null?0:o.add[b],_Q:x.b};
o.VR(k);this.Tu(k.data,o)}else if(b=="pview"){var b=new bk([8,14],this);b.data={d:x.d};o.VR(b);this.Tu(b.data,o)}else if(b=="lockguides"){if(o)o.fo=!o.fo}else if(b=="gids"||b=="gidsFromLayer"){var U=x.cC,I,V;
if(U==null)U=o.yl();if(b=="gids"){I=x.mu;var u=U[0].length,N=I[0].length;V=u==N?[23,2]:u>N?[23,3]:[23,4];
if(N==0)V=[11,15,0]}else if(b=="gidsFromLayer"){var e=[],B=[],j=o.Eq();for(var $=0;$<o.g.length;$++){var T=o.B[o.g[$]].rect;
if(T.Kx())continue;e.push([0,T.x],[1,T.y],[0,T.x+T.m],[1,T.y+T.e]);B.push(j,j,j,j)}V=[11,15,1];I=o.yl();
n.fp.iP(I,[e,B])}if(JSON.stringify(U)==JSON.stringify(I))return;var b=new bk(V,this);b.data={d:2,cC:U,mu:I};
o.VR(b);this.Tu(b.data,o)}else if(b=="algn"){var a=x.b;if(o==null)return;if(o.g.length<2&&!(o.u!=null&&a!=3&&a!=7)){alert(h9.get([15,7,5]));
return}var P=o.u;o.u=null;var T=P?P.rect:n.Y.mZ(o);this.rr(o,J,c,E,!1);if(!this.Kz)return;var v=this.Eo,R={},y=[],t=[],g=[];
for(var $=0;$<v.length;$++){var H=v[$];while(o.B[H].getName()=="</Layer group>")H++;var _=o.root.qX(H),Y=_;
while(_.parent!=null){_=_.parent;if(v.indexOf(_.index)!=-1)Y=_}var K=t.indexOf(Y.index);if(K==-1){K=t.length;
t.push(Y.index)}y[$]=K}var f=[],m=[],C=[];for(var $=0;$<t.length;$++){var Z=n.Y.mZ(o,o.kw(!0,t[$]));
C.push(Z);var A=a==3?[Z.y,Z.e]:[Z.x,Z.m];f[$]=A;m.push(A)}n.fp.a9u(m);for(var $=0;$<t.length;$++){var Z=C[$],d=Z.x,G=Z.y;
if(a==0)d=T.x;if(a==1)d=T.x+(T.m-Z.m)/2;if(a==2)d=T.x+(T.m-Z.m);if(a==3)G=f[$][0];if(a==4)G=T.y;if(a==5)G=T.y+(T.e-Z.e)/2;
if(a==6)G=T.y+(T.e-Z.e);if(a==7)d=f[$][0];g.push(Math.round(d-Z.x),Math.round(G-Z.y))}var r=[];for(var $=0;
$<v.length;$++){var X=y[$];r[2*$]=g[2*X];r[2*$+1]=g[2*X+1]}this.UI(o,0,0,null,r);var w=a==3||a==7?[20,4,6]:[20,4,a<3?a:a-1];
this.SM(o,null,E,r,w);o.u=P}else if(b=="disabAuto"){this.VJ([!1],null,J)}};n.fp.iP=function(x,J){for(var $=0;
$<J[0].length;$++){var o=J[0][$],c=J[1][$],E=!1;for(var b=0;b<x[0].length;b++){var l=x[0][b],i=x[1][b];
if(o[0]==l[0]&&o[1]==l[1]&&c==i)E=!0}if(!E){x[0].push(o.slice(0));x[1].push(c)}}};n.fp.prototype.enable=function(x,J,o,c,E){this.Vh=o;
this.Qf=J;this.NM=E?!0:!1;this.Bv(x);this.JH("default",J);this.B3(x,J,o,c)};n.fp.prototype.disable=function(x,J,o,c){this.abB(x)};
n.fp.prototype.abB=function(x){if(x==null)return;if(this.Vc){this.Vc.clear(x);this.Vc=null}if(x.t.Ad){x.t.Ad=null;
x.sD=!0}if(x.t.Ap){x.t.Ap=null;x.sD=!0}if(x.t.R_[this.id]){delete x.t.R_[this.id];x.sD=!0}if(x.t.MJ.length!=0){x.t.MJ=[];
x.sD=!0}};n.fp.prototype.XX=function(x,J,o,c){if(o.QJ!=this.id)return;this.Bv(x)};n.fp.prototype.Bv=function(x,J){if(x==null)return;
var o=this.qa;this.abB(x);if(!this.NM){var c;if(o.WH||o.Ad)c=q.O.uS(n.Y.mZ(x));if(o.WH&&!c.Kx()){var E=x.B[x.g[0]],b=q.O.ny(c).j;
if(b5==1&&x.g.length==1){if(E.add.vmsk)b=E.add.vmsk.a1l();if(E.add.SoLd)b=n.Y.AX(E.add.SoLd.nonAffineTransform);
if(E.add.TySh){b=q.O.ny(E.Ex.kI).j;q.O.M(b,E.add.TySh.M,b)}}this.Vc=new cK(b,!0);this.Vc.XT(x,this.Vh)}if(o.Ad){var l=null,V=null,u=!1;
if(x.Eq()!=-1)l=x.B[x.Eq()].uc();else l=new ha(0,0,x.m,x.e);x.t.Ad={f6:[c],DE:[]};var i=x.t.Ad.DE,F=c.x+c.m,k=c.y+c.e,U=c.x+Math.floor(c.m/2),I=c.y+Math.floor(c.e/2);
if(J){var N=x.root.zo(new ck(Math.floor(J.x),Math.floor(J.y)));if(N){V=q.O.uS(N.a.UG(x));if(V.$G(c)){u=(V.KR(c)||c.KR(V))&&!c.U5(V);
if(!u)V=null}}}this.abN(c,i);if(V!=null){x.t.Ad.f6.push(V);var e=V.x+V.m,B=V.y+V.e,j=V.x+Math.floor(V.m/2),T=V.y+Math.floor(V.e/2);
if(u){var a=U,P=I;if(c.KR(V)){a=j;P=T}i.push(c.x,P,V.x,P);i.push(F,P,e,P);i.push(a,c.y,a,V.y);i.push(a,k,a,B)}else{this.abN(V,i);
var v=k<V.y||B<c.y,R=F<V.x||e<c.x;if(F<V.x)i.push(F,I,V.x,I);if(e<c.x)i.push(e,I,c.x,I);if(k<V.y)i.push(U,k,U,V.y);
if(B<c.y)i.push(U,B,U,c.y);if(v&&!R){if(c.x<V.x)i.push(c.x,T,V.x,T);if(V.x<c.x)i.push(V.x,I,c.x,I)}}}else{if(c.y>l.y)i.push(U,l.y,U,c.y);
if(k<l.y+l.e)i.push(U,k,U,l.y+l.e);if(c.x>l.x)i.push(l.x,I,c.x,I);if(F<l.x+l.m)i.push(F,I,l.x+l.m,I)}x.sD=!0}}if(this.d==2&&this.Kz){var y=new ha(0,0,x.m,x.e),t=x.Eq();
if(t!=-1){var g=x.yl(),H=g[1][this.Eo];if(H==-1)H=t;y=x.B[H].uc()}var _=x.Kt[this.Eo],Y=_[0],K=(Y==0?"X":"Y")+": "+q.xP.Cx(_[1]-(Y==0?y.x:y.y),x.yV,this.Vh,Y==0?y.m:y.e,!0);
n.Kj.m_(Math.round(this.lN.x)+10,Math.round(this.lN.y)-10,[K],x);x.sD=!0}if(this.d==3&&this.Kz){var f=q.O.ny(this.cV);
x.t.R_[this.id]={XV:f};x.sD=!0}};n.fp.prototype.abN=function(x,J){var o=x.m,c=x.e,E=x.x+Math.floor(o*.2),b=x.y+Math.floor(c*.2);
J.push(E,x.y,E,x.y+c);J.push(x.x,b,x.x+o,b)};n.fp.prototype.JH=function(x,J){var o={d:L.H.TG,i2:x},c=new ko(L.E.N,!0);
c.data=o;J.c(c)};n.fp.prototype.Cw=function(x){var J=this.r3.xi()[0];if(J==this.Fs.length){var o=new ko(L.E.N,!0);
o.data={d:L.H.I9,UY:"psd"};this.Qf.c(o);return}var c=this.SG,E=this.Fs[J];this.amy(c,E)};n.fp.prototype.Gm=function(x){var J=JSON.parse(JSON.stringify(this.Vh.Km));
J.jm=this.MR.xi()[0];var o=new ko(L.E.N,!0);o.data={d:L.H.bS,KJ:h4.MU,_Q:J};this.Qf.c(o)};n.fp.prototype.KY=function(x,J,o,c,E){if(this.Kz)this.w7(x,J,o,c,E);
this.SG=x;this.Vh=o;this.Qf=J;var b=x.Q.Vx(E.x,E.y),l;if(n.fp.Rg(o,E,x.Q)){l=this.MR}else{if(this.r3)this.r3.removeEventListener("select",this.Cw);
var i=[];x.root.zo(b,i);if(i.length==0)return;var F=[];this.Fs=i;for(var $=0;$<i.length;$++)F.push({name:x.B[i[$]].getName(),U7:$==i.length-1});
F.push({name:[1,18],hV:!0});l=this.r3=new iy(F);l.k("select",this.Cw,this)}l.parent=J;l._();l.update(x,o);
var k=new ko(L.E.N,!0);k.data={d:L.H.c4,BM:l,x:E.rR+2,y:E.ru+1};J.c(k)};n.fp.prototype.aaQ=function(x,J,o,c,E){var b=n.fp.Sl(x,E);
return b!=-1||n.fp.Rg(o,E,x.Q)};n.fp.Sl=function(x,J){if(x==null||x.add.artd==null)return-1;var o=x.Q.Vx(J.x,J.y),c=12*n.IJ()/x.Q.Z;
for(var $=0;$<x.B.length;$++){var E=x.B[$];if(!E.kR()||E.add.artb==null)continue;var b=E.uc(),l=new ha(b.x,b.y-1.7*c,c*E.getName().length*.5,c);
if(l.GT(o))return $}return-1};n.fp.prototype.JC=function(x,J,o,c,E){var b=n.fp.Sl(x,E),l=n.fp.ahL(x,x.Q.Vx(E.x,E.y));
if(b!=-1){x.g=[b];if(o.QJ==n.ug){var i=new ko(L.E.N);i.data={d:L.H.zq,v:n.KM};J.c(i)}return}if(l!=-1){x.Q.n3=l;
x.o0=!0;var i=new ko(L.E.N,!0);i.data={d:L.H.mW,AN:jj.iJ.a7M};J.c(i);return}this.lN=E;this.$A.DQ(E.x,E.y);
this.KQ=x.Q.Vx(E.x,E.y);this.jd=new g9(this.KQ);this.rr(x,J,c,o,!0)};n.fp.Rg=function(x,J,o,c){var E=q.xP.kg,b=o.T3.e;
return x.Q2&&(0<J.x&&J.x<E||0<J.y&&J.y<E||c&&0<J.x&&J.x<4*E&&b-E<J.y&&J.y<b)};n.fp.prototype.rr=function(x,J,o,c,E,b){var l,i=this.KQ,F=!1;
if(E){var k=c.ms&&c.Km.Kt;if(n.fp.Rg(c,this.$A,x.Q)){l=x.yl();var U=x.yl(),I=null;if(this.$A.x<q.xP.kg){I=[0,i.x]}if(this.$A.y<q.xP.kg){I=[1,i.y]}U[0].push(I);
U[1].push(x.Eq(!0));x.xW(U);if(!k){var V=new ko(L.E.N);if(!c.Km.Kt){V.data={d:L.H.bS,KJ:h4.yE};J.c(V)}if(!c.ms){V.data={d:L.H.bS,KJ:h4.v0};
J.c(V)}k=!0}}var u=this.a46(x,i);if(k&&u!=null&&!x.fo){this.d=2;this.cC=l?l:x.yl();this.Eo=u;this.Kz=!0;
this.WV=n.Y.mZ(x);return}if(x.X7.length!=0){this.d=4;this.WV=x._w[x.X7[0]].rect.clone();this.Kz=!0;return}if(this.Vc&&this.Vc.YI(i,x.Q.Z,!0,this.lN)!=null){var V=new ko(L.E.N);
V.data={d:L.H.zq,v:n.Ih,aue:!0};J.c(V);return}if(x.u&&x.u.rect.GT(i)){var N=Math.round(i.x),e=Math.round(i.y),B=x.u.rect;
F=x.u.channel[(e-B.y)*B.m+N-B.x]>128}if(!F&&(!this.NM&&this.qa.kp||this.NM&&this.qa.kp&&(o.S(dG.uJ)||x.g.length<2))){var j=this.a6A(x,i,o);
if(!j){x.g=[];x.vd=null;x.Gf=x.yx=!0;this.d=3;this.cV=new ha;this.Kz=!0;return}}if(o.S(dG.Zj)&&!F){var T=new ko(L.E.f);
T.v=n.uH;T.data={d:h.gc,ais:!0};J.c(T)}}if(x.X7.length!=0){this.d=4;this.WV=x._w[x.X7[0]].rect.clone();
this.Kz=!0;return}this.Eo=x.kw(b==null,b,null,!0);for(var $=0;$<this.Eo.length;$++){var a=this.Eo[$],P=x.B[a];
if(P.Sm(2)||P.Sm(31)||x.P6(a)){alert(h9.get([6,57,0]));return}}if(x.add.artd&&E){var v=this.Eo,R=!1;
for(var $=0;$<v.length;$++)if(x.B[v[$]].add.artb)R=!0;if(!R){this.i6=[x,x.B.slice(0),x.g.slice(0),-1];
this.Eo.sort(function(f,m){return f-m})}}this.FZ=n.fp.azN(x,this.Eo);this.d=0;if(x.u&&(!E||F)&&x.g.length==1&&x.$K(!1)){if(!x.auI()){this.Kz=!1;
return}var y=x.B[x.g[0]],t=o.S(dG.Zj);this.d=1;var g=x.history[x.sW];if(g.v==this&&g.data.d==1&&g.data.a==x.g[0]&&y.tB==y.Xi.tB&&!t){this.Ol=g}else{var H=y.Xi,_=!1,Y;
if(!y.x8(x,x.u)||t){_=!0;y.Mc(x,x.u,t)}if(y.Xi.tB<=0){Y=q.R(y.Xi.T8.length>>2);q.z$(y.Xi.T8,Y,3)}else Y=x.u.channel.slice(0);
var K={rect:y.Xi.ne.clone(),channel:Y};this.Ol=new bk(t?[12,53]:[12,54],this);this.Ol.data={d:1,a:x.g[0],Xi:y.Xi,Qd:H,sy:_,BJ:x.u,g9:K,Lu:new ck(0,0)};
x.VR(this.Ol);x.u=K;x.ji=!0}}this.Kz=!0;this.WV=n.Y.mZ(x)};n.fp.prototype.a6A=function(x,J,o){var c=x.root.zo(new ck(Math.floor(J.x),Math.floor(J.y)));
if(c){if(c.a.add.vmsk)x.sD=!0;var E=x.B.indexOf(c.a);if(this.qa.au9==0){var b=x.root.qX(E);while(b.parent&&b.parent.depth!=0&&b.parent.a.add.artb==null)b=b.parent;
E=b.index}if(o.S(dG.uJ)){var l=x.g.indexOf(E);if(l==-1)x.g.push(E);else if(x.g.length>1)x.g.splice(l,1)}else if(x.g.indexOf(E)==-1){this.amy(x,E)}}return c!=null};
n.fp.prototype.amy=function(x,J){x.B[J].tB=0;x.g=[J];x.vd=null;x.CQ();x.$t=!0;x.Gf=!0};n.fp.ahL=function(x,J){var o=x.add.Anno;
if(o==null||o.length==0)return-1;var c=30/x.Q.Z;for(var $=0;$<o.length;$++)if(new ha(o[$][0],o[$][1],c,c).GT(J))return $;
return-1};n.fp.prototype.OC=function(x,J,o,c,E){this.lN=E;var b=x.Q.Vx(E.x,E.y),u,N;if(this.jd&&this.d<2)b=this.jd.hg(b,c);
if(!this.Kz){if(o.ms&&o.Km.Kt&&x&&!x.fo){var l=this.a46(x,b),i="default",F=n.fp.Sl(x,E);if(l!=null)i=["col-resize","row-resize"][x.Kt[l][0]];
else if(this.Vc){var k=this.Vc.YI(b,x.Q.Z,null,E);if(k)i=k}else if(F!=-1||n.fp.ahL(x,b)!=-1){i="pointer"}this.JH(i,J)}this.Bv(x,b);
return}var U=this.KQ,I=Math.round(b.x-U.x)-this.$e.x,V=Math.round(b.y-U.y)-this.$e.y;if(this.WV){if(this.d==2){var e=[];
if(x.u)e.push(x.u.rect);if(this.WV)e.push(this.WV);if(x.Q.GJ)e.push(x.Q.GJ);b=n.fp.MI(x,b,o,[!1,e,!0])}else{N=this.WV.clone();
N.offset(this.$e.x+I,this.$e.y+V);u=n.fp.Fj(x,N,o);var B=this.jd.asE(c);if(B==1){u[0]=0;u[2]=1e9}if(B==2){u[1]=0;
u[3]=1e9}I+=Math.round(u[0]);V+=Math.round(u[1])}}this.$e.x+=I;this.$e.y+=V;var j=this.i6;if(j&&x==j[0]){x.VQ(j[1]);
x.g=j[2].slice(0);j[3]=-1}this.UI(x,I,V,b,null,c.S(dG.uJ));if(j&&x==j[0]){var T=this.WV.clone();T.offset(this.$e.x,this.$e.y);
var a=b,F=x.Eq(),P=-1;for(var $=0;$<x.B.length;$++){var v=x.B[$];if(!v.kR()||v.add.artb==null)continue;
var R=v.uc();if(R.GT(a))P=$}if(P!=-1&&P!=F){var y=n.Y8.Tb(x,this.Eo,P,!0,null,!1);x.VQ(y[0]);x.g=y[1];
j[3]=P}}this.Bv(x,b);if(u)n.fp.VT(x,N,u)};n.fp.prototype.a46=function(x,J){var o=n.YU(x,this.lN);J=[J.x,J.y];
var c=x.yl(),E=x.Eq();for(var $=0;$<c[0].length;$++){var b=c[0][$],l=c[1][$];if(l!=-1&&l!=E)continue;
if(Math.abs(b[1]-J[b[0]])<o)return $}return null};n.fp.prototype.UI=function(x,J,o,c,E,b){if(this.d==0){if(E)n.fp.x6(x,this.Eo,this.FZ,E);
else n.fp.jW(x,this.Eo,this.FZ,J,o)}else if(this.d==1){var l=this.Ol.data;l.Lu.offset(J,o);n.fp.s$(x,l.a,J,o)}else if(this.d==2){var i=1e-5;
if(b)i=x.Q.Z<=1?10:1;else if(x.Q.Z<=1)i=1;var F=i*Math.round(c.x/i),k=i*Math.round(c.y/i),U=[F,k],I=x.Kt[this.Eo];
I[1]=U[I[0]]}else if(this.d==3){var V=this.KQ,u=q.O.ql([V.x,V.y,c.x,c.y]);this.cV=u;var N=[];x.root.a9d(u,N);
if(JSON.stringify(x.g)!=JSON.stringify(N)){x.g=N;x.Gf=x.yx=!0}}else if(this.d==4){for(var $=0;$<x.X7.length;
$++)x._w[x.X7[$]].rect.offset(J,o);x.sD=!0}};n.fp.s$=function(x,J,o,c){var E=x.B[J];x.u.rect.offset(o,c);
E.IR(x,o,c,x.u);x.ji=!0;x.W()};n.fp.prototype.w7=function(x,J,o,c,E,b){this.SM(x,E,o);this.Bv(x);if(Date.now()-this.tk<300&&!b){var l=n.Hx.K$(x,x.Q.Vx(E.x,E.y));
if(n.fp.Rg(o,E,x.Q,!0)){var i=new ko(L.E.N);if(E.y>x.Q.T3.e-20){i.data={d:L.H.yI,AN:"doczoom",xg:x.Q.Z*100,A3:{K:L.E.f,v:n.PE,C:{d:"pzoom"}}}}else{i.data={d:L.H.yI,AN:"preferences"}}J.c(i)}else if(l>=0){var F=new ko(L.E.f,!0);
F.v=n.eY;F.data={d:"editCurr",DJ:l};J.c(F)}}this.tk=Date.now();n.Pm.WN(x)};n.fp.prototype.SM=function(x,J,o,c,E){if(!this.Kz)return;
this.Kz=!1;if(this.d==0){if(c){this.ari(x,null,c,E)}else{if(this.$e.x==0&&this.$e.y==0)return;this.ari(x,this.$e.clone())}x.o0=!0}else if(this.d==2){var b=0;
J=[J.x,J.y];var l=this.Eo,i=x.Kt[l],a4=this.cC[0].length,F=x.Kt.length;if(o.Q2&&J[i[0]]<q.xP.kg){var k=x.yl();
k[0].splice(l,1);k[1].splice(l,1);x.xW(k);b=1;if(a4==F-1)return}if(a4<F)b=2;var U=new bk([[23,2],[23,3],[23,4]][b],this);
U.data={d:2,cC:this.cC,mu:x.yl()};x.VR(U)}else if(this.d==4){var U=new bk([12,54],this);U.data={d:4,g:x.X7.slice(0),z:this.$e.clone()};
x.VR(U)}this.$e.DQ(0,0)};n.fp.prototype.B3=function(x,J,o,c){var E=c.DC(x?x.Q.o7:0);if(x!=null&&(E.x!=0||E.y!=0)){if(c.S(dG.Zj)&&x.u==null){var b=new ko(L.E.f);
b.v=n.uH;b.data={d:h.gc,ais:!0};J.c(b)}this.$e.DQ(E.x,E.y);this.rr(x,J,c,o,!1);if(!this.Kz)return;this.UI(x,E.x,E.y);
this.SM(x,null,o);this.Bv(x)}var l=c.S(dG._k);if(!this.NM&&this.apo!=l){if(l){this.akQ=this.qa.kp;this.qa.kp=!0}else{this.qa.kp=this.akQ}this.apo=l;
var i=new ko(L.E.N,!0);i.data={d:L.H.dC,v:this.id,Ek:this.qa};J.c(i)}};n.fp.prototype.WY=function(x,J){if(x.d==0){var o=x.cU;
if(o){J.VQ(o.Hi);J.g=o.T2.slice(0);J.W();J.Gf=!0}n.fp.x6(J,x.g,x.uf,x.sP,!0);n.Pm.WN(J)}else if(x.d=="fcmy"||x.d=="fvec"){if(x.xg==0)delete J.add[x.d];
else J.add[x.d]=x.xg;J.sD=!0}else if(x.d=="pview"){J.Yb=!J.Yb;J.W()}else if(x.d==2){J.xW(x.cC);J.sD=!0}else if(x.d==4){for(var $=0;
$<x.g.length;$++)J._w[x.g[$]].rect.offset(-x.z.x,-x.z.y);J.sD=!0}else{var c=J.B[x.a];if(x.sy){c.xX(J,x.Qd);
J.u=x.BJ;J.ji=!0;J.W();c.W()}else{n.fp.s$(J,x.a,-x.Lu.x,-x.Lu.y)}}};n.fp.prototype.Tu=function(x,J){if(x.d==0){n.fp.x6(J,x.g,x.uf,x.sP);
var o=x.cU;if(o){J.VQ(o.Ay);J.g=o.Ff.slice(0);J.W();J.Gf=!0}n.Pm.WN(J)}else if(x.d=="fcmy"||x.d=="fvec"){if(x._Q==0)delete J.add[x.d];
else J.add[x.d]=x._Q;J.sD=!0}else if(x.d=="pview"){J.Yb=!J.Yb;J.W()}else if(x.d==2){J.xW(x.mu);J.sD=!0}else if(x.d==4){for(var $=0;
$<x.g.length;$++)J._w[x.g[$]].rect.offset(x.z.x,x.z.y);J.sD=!0}else{var c=J.B[x.a];if(x.sy){c.Xi=x.Xi;
J.u=x.g9;n.fp.s$(J,x.a,0,0);c.W()}else{n.fp.s$(J,x.a,x.Lu.x,x.Lu.y)}}};n.fp.prototype.ari=function(x,J,o,c){if(o){var E=!0;
for(var $=0;$<o.length;$++)if(o[$]!=0)E=!1;if(E)return}var b=x.history[x.sW],l=this.i6,i=l!=null&&l[3]!=-1&&l[0]==x;
if(!i&&o==null&&b.data&&b.v==this&&b.data.d==0&&JSON.stringify(b.data.g)==JSON.stringify(this.Eo)&&JSON.stringify(b.data.uf)==JSON.stringify(this.FZ)){var F=b.data.sP,k=b.data.afT.Rx.T.v;
k.Hrzn.v.val+=J.x;k.Vrtc.v.val+=J.y;for(var $=0;$<F.length;$+=2){F[$]+=J.x;F[$+1]+=J.y}}else{if(J==null)J=new ck(o[0],o[1]);
var U={bV:"move",Rx:{classID:"null",null:hi.X$("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:J.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:J.y}}}}}},I=null;
if(i)I={Hi:l[1],T2:l[2],Ay:x.B.slice(0),Ff:x.g.slice(0)};this.i6=null;var V=new bk(c?c:[12,54],this);
if(o)V.data={d:0,g:this.Eo,uf:this.FZ,cU:I,sP:o};else V.data={d:0,g:this.Eo,uf:this.FZ,cU:I,sP:n.fp.ath(this.Eo,J.x,J.y)};
V.data.afT=U;x.VR(V);this.track(U)}};n.fp.ath=function(x,J,o){var c=[];for(var $=0;$<x.length;$++)c.push(J,o);
return c};n.fp.jW=function(x,J,o,c,E){n.fp.x6(x,J,o,n.fp.ath(J,c,E))};n.fp.x6=function(x,J,o,c,E){if(J.length==0)return;
if(o==null){o=[];for(var $=0;$<J.length;$++){o.push(x.B[J[$]].eG(x,!0))}}var b=new ha,l=new ha(0,0,x.m,x.e);
for(var $=0;$<J.length;$++){var i=c[2*$],F=c[2*$+1];if(E){i=-i;F=-F}var k=x.B[J[$]],U=o[$];if(k.add.fxrp&&(U.indexOf(0)!=-1||k.A0()))k.add.fxrp.offset(i,F);
for(var I=0;I<U.length;I++){var V=U[I];if(V==0){k.rect.offset(i,F);if(k.AD()&&k.O5(x))k.O5(x).rect.offset(i,F);
if(k.add.artb){var u=k.uc();u.offset(i,F);k.dZ(u);var N=k.add.artb.guideIndeces;N=N?N.v:[];for(var e=0;
e<N.length;e++){var B=x.Kt[N[e].v];B[1]+=B[0]==0?i:F}}if(k.add.TySh){k.add.TySh.M.translate(i,F);if(k.add.TySh.add){k.add.TySh.add.vmsk.offset(i,F)}}if(k.add.SoLd){var j=new cW(1,0,0,1,i,F),T=k.add.SoLd,a=n.Y.AX(T.Trnf),P=n.Y.AX(T.nonAffineTransform);
q.O.M(a,j,a);q.O.M(P,j,P);T.Trnf=n.Y.AA(a);T.nonAffineTransform=n.Y.AA(P);n.Y.afZ(T,j)}}if(V==1)k.Da().rect.offset(i,F);
if(V==2){k.add.vmsk.offset(i,F);if(k.add.vogk)q.WE.M(k.add.vogk,[1,0,i,0,1,F,0,0],[]);if(k.Ex.i8){var v=k.Ex.i8.Ho.j;
q.O.M(v,new cW(1,0,0,1,i,F),v)}}if(V==3){k.O5(x).F.rect.offset(i,F);if(U.length==1)k.W()}}if(U.length>0){var R=k.add.GdFl;
if(R==null)R=k.add.PtFl;if(k.A0()&&!k.MC()&&k.add.vmsk!=null&&q.p.gb(k.add.vmsk.$)&&k.add.vmsk.lA==255&&(R==null||R.Algn&&R.Algn.v)){k.rect.offset(i,F)}else k.vl(x);
var y=x.root.N$(k.UG(x),x,J[$]);if(k.add.artb)y=y.k7(k.uc());b=b.k7(y);y.offset(-i,-F);b=b.k7(y);if(k.oS()&&k.F&&k.F.color==255)b=b.k7(l);
k.a9Q()}}x.W(q.O.uS(b))};n.fp.azN=function(x,J){var o=[];for(var $=0;$<J.length;$++){var c=x.B[J[$]];
o.push(c.eG(x))}return o};n.fp.VT=function(x,J,o){var c={j:[],G:[]},E=J.x+o[0],b=J.y+o[1];if(o[2]!=1e9){c.G.push("M","L");
var l=b+J.e;if(o[4])c.j.push(o[2],Math.min(b,l,o[4][1]),o[2],Math.max(b,l,o[4][1]));else c.j.push(o[2],b,o[2],b+J.e)}if(o[3]!=1e9){c.G.push("M","L");
var i=E+J.m;if(o[5])c.j.push(Math.min(E,i,o[5][0]),o[3],Math.max(E,i,o[5][0]),o[3]);else c.j.push(E,o[3],i,o[3])}if(c.j.length!=0){x.t.Ap=c;
x.sD=!0}};n.fp.MI=function(x,J,o,c){var E=n.fp.afU(x,[[J.x],[J.y]],o,c);return new ck(J.x+E[0],J.y+E[1])};
n.fp.Fj=function(x,J,o,c,E){var b=E==!0?1:.5,l=n.fp.afU(x,[[J.x,J.x+Math.round(J.m*b),J.x+J.m],[J.y,J.y+Math.round(J.e*b),J.y+J.e]],o,c);
return l};n.fp.afU=function(x,J,o,c){if(c==null)c=[!0,null,!0];var E=[0,0,1e9,1e9,null,null];if(!o.n2)return E;
var b=JSON.parse(JSON.stringify(J));for(var l=0;l<2;l++){var i=1e9,F=J[l],k=0,U=null;for(var I=0;I<F.length;
I++){var V=n.fp.a2g(x,F[I],b[1-l][I],l,o,c),u=V[0];if(u!=1e9)b[l][I]=u;if(u!=1e9&&Math.abs(u-F[I])<Math.abs(i)){i=u-F[I];
k=u;U=V[1]}}if(i!=1e9){E[l]=i;E[l+2]=k;E[l+4]=U}}return E};n.fp.a2g=function(x,J,o,c,E,b){var l=1e9,i=null,F=E.w4,k=E.Km,U=[x.root];
while(U.length!=0&&F[2]){var I=U.pop(),V=I.a,u=V.rect;if(!V.kR())continue;if(I.children)for(var $=0;
$<I.children.length;$++)U.push(I.children[$]);if(x.g.indexOf(I.index)!=-1||u.Kx())continue;var N=u.m,e=N>>>1,B=u.e,j=B>>>1,T=l;
if(c==0){if(Math.abs(u.x-J)<Math.abs(l-J))l=u.x;if(Math.abs(u.x+e-J)<Math.abs(l-J))l=u.x+e;if(Math.abs(u.x+N-J)<Math.abs(l-J))l=u.x+N}else{if(Math.abs(u.y-J)<Math.abs(l-J))l=u.y;
if(Math.abs(u.y+j-J)<Math.abs(l-J))l=u.y+j;if(Math.abs(u.y+B-J)<Math.abs(l-J))l=u.y+B}if(T!=l){i=[u.x+e,u.y+j]}}var a=l;
l=1e9;if(b[0]&&F[0]&&k.Kt&&E.ms){var P=x.yl(),v=P[0],R=P[1],y=x.Eq();for(var $=0;$<v.length;$++)if((R[$]==-1||R[$]==y)&&v[$][0]==c&&Math.abs(v[$][1]-J)<Math.abs(l-J))l=v[$][1]}if(F[1]&&k.Ju&&E.ms){var t=Math.round(q.xP.Uf(k.np,x.yV,x.m,k.Sb));
if(c==1&&k.h4==1){var g=o*.5*Math.sqrt(4/3),H;t*=Math.sqrt(4/3);H=Math.round((J-g)/t)*t+g;if(Math.abs(H-J)<Math.abs(l-J))l=H;
H=Math.round((J+g)/t)*t-g;if(Math.abs(H-J)<Math.abs(l-J))l=H}else{var H=Math.round(J/t)*t;if(Math.abs(H-J)<Math.abs(l-J))l=H}}var _=x.IL;
if(F[3]&&k.IL&&E.ms&&_.length!=0){for(var $=0;$<_.length;$++){if(!b[2]&&x.m8.indexOf($)!=-1)continue;
var Y=n.XN.zK(_,$);for(var K=0;K<3;K+=2)if(Y[K+c]!=J&&Math.abs(Y[K+c]-J)<Math.abs(l-J))l=Y[K+c]}}if(b[1])for(var f=0;
f<b[1].length;f++){var u=b[1][f],N=u.m,B=u.e,m=[u.x,u.y,u.x+(N>>>1),u.y+(B>>>1),u.x+N,u.y+B];for(var $=0;
$<6;$+=2)if(Math.abs(m[$+c]-J)<Math.abs(l-J))l=m[$+c]}if(F[4]){var u=new ha(0,0,x.m,x.e),y=x.Eq();if(y!=-1)u=x.B[y].uc();
var N=u.m,B=u.e,m=[u.x,u.y,u.x+(N>>>1),u.y+(B>>>1),u.x+N,u.y+B];for(var $=0;$<6;$+=2)if(Math.abs(m[$+c]-J)<Math.abs(l-J))l=m[$+c]}if(Math.abs(l-J)<=Math.abs(a-J))i=null;
else l=a;var C=Math.abs(l-J)<=4*n.IJ()/x.Q.Z?l:1e9;return[C,i]};n.pm=function(){n.vh.call(this,[10,12],n.ls,"tools/mwand");
this.sv=null};n.pm.prototype=new n.vh;n.pm.prototype.eN=function(x,J,o,c){this.sv=c;this.a3d=this.qa.wconf[0];
this.finish(x,J,o,c)};n.pm.prototype.FB=function(x,J,o,c,E){if(!c.sz)return;var b=new ko(L.E.f);b.v=n.$y;
b.data={d:"h_stepbck"};E.c(b);var l=c.x-this.sv.x,i=Math.max(0,Math.min(255,Math.round(this.a3d+l/4)));
this.qa.wconf[0]=i;this.yf(E);this.finish(x,J,o,this.sv)};n.pm.prototype.cK=function(x,J,o,c,E){this.qa.wconf[0]=this.a3d;
this.yf(E)};n.pm.prototype.getSelection=function(x,J,o,c){var E=this.uE;E=x.Q.Vx(c.x,c.y);var b=n.vh.a2X(new ck(Math.floor(E.x),Math.floor(E.y)),this.qa.wconf,this.qa.sall);
return b};n.pm.a0n=function(x,J,o,c,E){if(J.x<0||J.x>x.m||J.y<0||J.y>x.e)return null;var b,l=new ha(0,0,x.m,x.e);
if(c)b=x.or();else{var i=x.g.length,k=null;if(i!=1){alert(i==0?"No layer selected.":"More than one layer selected.");
return null}var F=x.B[x.g[0]];if(E)k=F.tB<=0?null:F.tB==1?F.Da():F.O5(x).F;if(k==null&&F.add.lsct!=null&&F.add.lsct!=es.rc){alert("No layer selected.");
return null}if(k==null&&l.U5(F.rect))b=F.buffer;else{b=q.R(l.P()*4);if(k==null)q.St(F.buffer,F.rect,b,l);
else n.mv.pU(k.channel,k.rect,k.color,b,l)}}var U=n.pm.j7(b,l,J,null,o),I=q.d6(U,l),V=q.R(I.P());q.zc(U,l,V,I);
return{rect:I,channel:V}};n.pm.sL=function(x,J,o){var c=J.m,E=J.e,l=0,i=0,F=0,k=0;x=new Uint32Array(x.buffer);
var b=[],U=o.length;for(var $=0;$<U;$++){var I=o[$],V=Math.round(I.x-.5-J.x),u=Math.round(I.y-.5-J.y);
V=Math.max(0,Math.min(c-1,V));u=Math.max(0,Math.min(E-1,u));var N=u*c+V,e=x[N];b.push([e&255,e>>8&255,e>>16&255,e>>>24])}return b};
n.pm.j7=function(x,J,o,c,E){x=new Uint32Array(x.buffer);var b=J.m,l=J.e,i=b*l;if(c==null)c=n.pm.sL(x,J,[o]);
var F=Math.round(o.x-.5-J.x),k=Math.round(o.y-.5-J.y),U=k*b+F,I=Date.now(),V=q.R(b*l),u=E[0],N=1/u,e=E[1]&&u>0?255:0;
if(E[2]){var B=q.R(V.length),j=new Uint32Array(i),T=1;j[0]=F<<16|k;B[U]=1;while(T>0){var a=j[T-1];T--;
var P=a>>>16,v=a&65535,$=v*b+P,R=n.pm.yy(x[$],c);if(R>u){var y=e*(1-Math.max(0,Math.min(1,(R-u)*N)));
V[$]=~~y}else{V[$]=255;if(v!=l-1&&B[$+b]==0){j[T++]=P<<16|v+1;B[$+b]=1}if(v!=0&&B[$-b]==0){j[T++]=P<<16|v-1;
B[$-b]=1}if(P!=b-1&&B[$+1]==0){j[T++]=P+1<<16|v;B[$+1]=1}if(P!=0&&B[$-1]==0){j[T++]=P-1<<16|v;B[$-1]=1}}}}else{for(var $=0;
$<i;$++){var R=n.pm.yy(x[$],c);if(R<=u)V[$]=255}for(var v=0;v<l;v++)for(var P=0;P<b;P++){var $=v*b+P;
if(V[$]==0&&(P>0&&(V[$-1]==255||v>0&&V[$-b-1]==255||v<l-1&&V[$+b-1]==255)||P<b-1&&(V[$+1]==255||v>0&&V[$-b+1]==255||v<l-1&&V[$+b+1]==255)||v>0&&V[$-b]==255||v<l-1&&V[$+b]==255)){var R=n.pm.yy(x[$],c),y=e*(1-Math.max(0,Math.min(1,(R-u)*N)));
V[$]=~~y}}}return V};n.pm.yy=function(x,J){var o=J.length,c=n.pm.a3H(x,J[0]),$=1;while($!=o){c=Math.min(c,n.pm.a3H(x,J[$]));
$++}return c};n.pm.a3H=function(x,J){var o=x&255,c=x>>>8&255,E=x>>>16&255,b=x>>>24&255;if(J[3]==0)return b<5?0:255;
var l=Math.max(Math.abs(o-J[0]),Math.max(Math.abs(c-J[1]),Math.abs(E-J[2])));return b==0?255:l};n.y5=function(x,J){if(J)n.mv.call(this);
else if(x)n.mv.call(this,[10,49],n.L5,"tools/camove");else n.mv.call(this,[10,26],n.dQ,"tools/patch");
this.eb=null;this.i8=null;this.z=null;this.B9=null;this.M0=new ck;this.fT=null;this.Y4=null};n.y5.prototype=new n.mv;
n.y5.prototype.JC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y);if(x.u&&q.zo(b,x.u.channel,x.u.rect)){var l=new ha(0,0,x.m,x.e),i=l.Kc(x.u.rect);
if(!x.$K()||i.Kx())return;if(!0){var F=q.R(i.P());q.zc(x.u.channel,x.u.rect,F,i);x.u={channel:F,rect:i}}this.DY(x);
this.iZ(x);this.B9=b;this.M0=new ck(b.x-x.u.rect.x,b.y-x.u.rect.y);this.Y4=q.R(x.u.rect.P()*4);this.Y4.fill(255);
if(this.qa.patch==1){var k=x.B[x.g[0]];k.Mc(x,x.u,!0);if(k.Xi==null)this.B9=null}this.fT=x.u.rect.clone()}else{this.i8={j:[b.x,b.y],G:["M"]};
this.eb=b}};n.y5.prototype.OC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y);if(this.B9){if(this.qa.patch==1){if(x.X7.length==0){var l=x.B[x.g[0]].Xi,i=b.x-this.M0.x,F=b.y-this.M0.y;
n.fp.s$(x,x.g[0],Math.round(i-l.ne.x),Math.round(F-l.ne.y))}}else this.axN(x,b,"clone")}if(this.eb){this.i8.G.push("L");
this.i8.j.push(b.x,b.y);this.eb=b;x.t.XV=this.i8;x.sD=!0}};n.y5.prototype.w7=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y);
if(this.B9){var l=x.u.rect.clone();if(this.id==n.L5){var i=x.B[x.g[0]];i.xX(x,i.Xi);x.u.rect=this.fT.clone();
var F=q.R(x.u.rect.P()*4);q.qR(x.u.channel,F,3);this.xl(x,"sheal",F,x.u.rect,x.u.rect);x.u.rect=l;l=l.k7(this.fT)}this.axN(x,b,"heal");
this.finish(x,l,null,null,!0);x.W(l);this.B9=null}if(this.eb){var k=n.vh.fZ(this.qa.setop,c.S(dG.uJ),c.S(dG.Zj)),U=new ko(L.E.p4,!0);
if(this.i8.j.length<=4)U.data=n.vh.No();else U.data=n.vh.HZ(this.i8.j,k);J.c(U);this.eb=null;x.t.XV=null;
x.sD=!0}};n.y5.prototype.dm=function(){return this.z};n.y5.prototype.kT=function(x,J,o,c,E){n.mv.prototype.kT.call(this,x,J,o,c,E);
this.JH(E,c)};n.y5.prototype.JH=function(x,J){var o="auto;";if(J!=null&&J.S(dG.uJ)&&!J.S(dG.Zj)||this.qa.setop=="union")o="copy";
var c=new ko(L.E.N,!0);c.data={d:L.H.TG,i2:o};if(this.caller)this.caller.c(c)};n.y5.prototype.axN=function(x,J,o){var c=new ck(Math.round(this.B9.x-J.x),Math.round(this.B9.y-J.y));
if(this.qa.patch==1)c.DQ(-c.x,-c.y);this.z=c;this.xl(x,o,this.Y4,x.u.rect,x.u.rect);this.W(x,x.u.rect)};
n.az4=function(){n.y5.call(this,!0);this.qa.patch=1};n.az4.prototype=new n.y5(!0,!0);n.X4=function(x){if(x)n.mv.call(this,[10,52],n.ayH,"tools/meraser");
else n.mv.call(this,[10,13],n.azz,"tools/pbucket");this.M2=!1;this.acX=x};n.X4.prototype=new n.mv;n.X4.prototype.enable=function(x,J,o,c){var E=new ko(L.E.N,!0);
E.data={d:L.H.TG,i2:"default"};J.c(E)};n.X4.prototype.DL=function(x,J){};n.X4.prototype.JC=function(x,J,o,c,E){this.M2=!0};
n.X4.prototype.w7=function(x,J,o,c,E,b){var l=this.M2;this.M2=!1;if(!l||b)return;if(this.mg(c,J,E))return;
if(!x.$K())return;var i=x.Q.Vx(E.x,E.y),F=n.pm.a0n(x,i,this.qa.wconf,this.qa.sall,!0);if(F==null)return;
var k=q.R(F.rect.P()*4);q.xj(k,(o.Q6&255)<<16|(o.Q6>>8&255)<<8|(o.Q6>>16&255)<<0);q.qR(F.channel,k,3);
this.DY(x);this.xl(x,this.acX?"erase":"draw",k,F.rect,F.rect);this.W(x,F.rect);this.finish(x,F.rect)};
n.L9=function(){n.vh.call(this,[10,14],n.alc,"tools/plasso");this.fd="crosshair";this.BX=[];this.Kv=null;
this.i8=null;this.aql=0};n.L9.prototype=new n.vh;n.L9.prototype.disable=function(x,J,o,c){this.Gd(x)};
n.L9.prototype.eN=function(x,J,o,c){this.BX=[dG.OT,dG.BK]};n.L9.prototype.f3=function(x){return this.BX.indexOf(x)!=-1};
n.L9.prototype.dP=function(x){return this.i8!=null};n.L9.prototype.gs=function(){return this.i8!=null};
n.L9.prototype.Yv=function(){return this.i8!=null};n.L9.prototype.FB=function(x,J,o,c){if(this.i8==null)return;
var E=this.i8,b=E.j,l=b.length-2,i=this.uE;if(this.qD.Q9(1)&&o.S(dG.Zj)&&c.sz){b.push(0,0);E.G.push("L");
l+=2}else if(o.S(dG.uJ))i=n.yT.GK(new ck(b[l-2],b[l-1]),i);b[l]=i.x;b[l+1]=i.y;x.t.XV=E;x.sD=!0};n.L9.prototype.cK=function(x,J,o,c){var E=Date.now();
if(this.i8==null)this.i8={j:[this.uE.x,this.uE.y,this.uE.x,this.uE.y],G:["M","L"]};else{this.FB(x,J,o,c);
if(E-this.aql<250||ck.q6(this.uE,new ck(this.i8.j[0],this.i8.j[1]))<n.YU(x,c)){this.Kv=this.i8;this.finish(x,J,o,c);
this.Gd(x);return}this.i8.G.push("L");this.i8.j.push(this.uE.x,this.uE.y)}this.aql=E;x.t.XV=this.i8};
n.L9.prototype.Gd=function(x){this.i8=null;this.BX=[];if(x!=null){x.t.XV=null;x.sD=!0}};n.L9.prototype.B3=function(x,J,o,c){n.vh.prototype.B3.call(this,x,J,o,c);
if(c.S(dG.Fh)&&this.i8==null&&this.Kv&&x.u!=null){var E=new ko(L.E.f);E.v=n.$y;E.data={d:"h_stepbck"};
J.c(E);this.eN(x,o,c,null);this.i8=this.Kv;return}if(this.i8==null)return;if(c.S(dG.OT)||c.S(dG.BK)){this.i8.j.pop();
this.i8.j.pop();this.i8.G.pop();this.FB(x,o,c)}if(c.S(dG.eP)){if(this.i8.j.length>4){this.Kv=this.i8;
this.finish(x,o,c)}this.i8=null}if(c.S(dG.Fh)){this.i8=null}x.t.XV=this.i8;x.sD=!0};n.L9.prototype.getSelection=function(x,J,o,c){return n.vh.HZ(this.i8.j,null,this.qa.anta)};
n.WA=function(){n.vh.call(this,[10,10],n.a0C,"tools/mlasso");this.fd="crosshair";this.BX=[];this.$=[];
this.$s=[];this.EE=[];this.bC=null;this.xv=null;this.I_=null;this.tk=0;this.mn=0};n.WA.prototype=new n.vh;
n.WA.prototype.disable=function(x,J,o,c){this.clear(x)};n.WA.prototype.dP=function(x){return this.$.length!=0};
n.WA.prototype.Yv=function(){return this.$.length!=0};n.WA.prototype.f3=function(x){return this.BX.indexOf(x)!=-1};
n.WA.prototype.eN=function(x,J,o,c){this.BX=[dG.OT,dG.BK];var E=this.O_(this.nM,x);if(this.$.length!=0&&(ck.q6(E,this.$[0])<n.YU(x,c)||Date.now()-this.tk<300)){this.sM(x,this.$[0]);
this.finish(x,J,o);this.clear(x);return}this.tk=Date.now();if(this.$.length!=0)E=this.dx(E,x);else{var b=x.m,l=x.e,i=q.R(b*l),F=x.or(),k=b*l*4;
for(var $=0;$<k;$+=4)i[$>>>2]=~~(.5+q.TM(F[$],F[$+1],F[$+2])*(F[$+3]*(1/255)));this.bC=q.w$.azZ(i,b,l);
this.I_=new Uint16Array(i.length)}this.sM(x,E);this.mn=o.S(dG.Zj)?1:0;this._A(x)};n.WA.prototype.sM=function(x,J){var o=this.$;
this.$s[o.length]=this.EE.length;if(o.length!=0){q.w$.q3(this.xv,J.y*x.m+J.x);var c=this.Hb(x,J);c.reverse();
var E=n.WA.aCN(x,c);this.EE=this.EE.concat(E)}o.push(J);this.aoI(x)};n.WA.prototype.aoI=function(x){var J=this.$[this.$.length-1],o=J.y*x.m+J.x;
this.xv=q.w$.aaH(this.bC.V7,this.bC.dg,o);this.I_.fill(0)};n.WA.prototype.O_=function(x,J){return new ck(Math.floor(Math.max(0,Math.min(J.m-1,x.x))),Math.floor(Math.max(0,Math.min(J.e-1,x.y))))};
n.WA.prototype.clear=function(x){this.EE=[];this.$=[];this.$s=[];this.bC=null;this.xv=null;this.I_=null;
if(x!=null){x.t.XV=null;x.t.EY=[];x.sD=!0}this.BX=[]};n.WA.prototype.FB=function(x,J,o,c){var E=this.$,b=E.length;
if(b==0)return;var l=this.dx(this.O_(this.uE,x),x),i=this.Hb(x,l);for(var $=0;$<i.length;$++){var F=i[$],k=new ck(F%x.m,Math.floor(F/x.m));
if(this.I_[F]>30&&ck.q6(k,E[b-1])>20){this.sM(x,k);return}this.I_[F]++}if(this.mn==1&&c.sz)this.sM(x,l);
this._A(x)};n.WA.prototype._A=function(x){var J=this.$;if(J.length!=0){var o=this.dx(this.O_(this.uE,x),x),c=this.Hb(x,o);
c.reverse();var E=n.WA.aCN(x,c),b=this.EE.concat(E),l=x.t.XV={j:b,G:["M"]};for(var $=2;$<b.length;$+=2)l.G.push("L")}x.t.EY=[];
for(var $=0;$<J.length;$++)x.t.EY.push(J[$].x+.5,J[$].y+.5);x.sD=!0};n.WA.prototype.cK=function(x,J,o,c){};
n.WA.prototype.B3=function(x,J,o,c){if(this.$.length==0)return;if(c.S(dG.OT)||c.S(dG.BK)){this.$.pop();
this.EE=this.EE.slice(0,this.$s[this.$.length]);this.$s.pop();if(this.$.length==0)this.clear(x);else this.aoI(x);
this._A(x)}if(c.S(dG.eP)){var E=this.O_(this.uE,x);this.sM(x,E);this.finish(x,o,c);this.clear(x)}if(c.S(dG.Fh)){this.clear(x)}};
n.WA.prototype.getSelection=function(x,J,o,c){return n.vh.HZ(this.EE,null,this.qa.anta)};n.WA.prototype.Hb=function(x,J){var o=this.$[this.$.length-1],c=o.y*x.m+o.x,E=J.y*x.m+J.x;
if(this.mn==1)return[E,c];var b=[E];while(E!=c){E=this.xv.OQ[E];b.push(E);if(b.length>5e3){console.log(b);
throw"e"}}return b};n.WA.aCN=function(x,J){var o=[],c=x.m;for(var $=0;$<J.length;$++){var E=J[$];o.push(E%c+.5,Math.floor(E/c)+.5)}return o};
n.WA.prototype.dx=function(x,J){var o=J.m,c=J.e,E=x.clone(),l=3;q.w$.q3(this.xv,x.y*o+x.x);var b=this.xv.X3[x.y*o+x.x];
for(var i=-l+1;i<l;i++)for(var F=-l+1;F<l;F++){var k=x.x+F,U=x.y+i;if(k<0||k>=o||U<0||U>=c)continue;
q.w$.q3(this.xv,U*o+k);if(this.xv.X3[U*o+k]<b)E.DQ(k,U)}return E};n.zX=function(){n.Kj.call(this,[10,36],n.rk,"tools/ruler");
this.wD=null;this.oP=null;this.L3=null;this.fU=null;this.s3=null};n.zX.prototype=new n.Kj;n.zX.prototype.dP=function(x){return x.sz};
n.zX.prototype.enable=function(x,J,o,c){n.Kj.prototype.enable.call(this,x,J,c,o);if(x)this.Bv(x)};n.zX.prototype.disable=function(x,J,o,c){if(x)this.Gd(x)};
n.zX.prototype.E4=function(x,J,o,c,E){this.wD=this.L3=null;this.Bv(o)};n.zX.prototype.JC=function(x,J,o,c,E){var b=n.YU(x,E),l=x.Q.Vx(E.x,E.y);
l.x=Math.round(l.x);l.y=Math.round(l.y);var i=this.wD;this.oP=i?i.slice(0):null;var F=i&&ck.q6(l,i[0])<b,k=i&&ck.q6(l,i[1])<b,U=i&&i[2]&&ck.q6(l,i[2])<b;
if(F||k||U){if(c.S(dG.Zj)&&i.length==2){if(k){var I=i[0];i[0]=i[1];i[1]=I}i[2]=i[0].clone();this.L3=[2]}else this.L3=[F?0:k?1:2]}else if(i&&n.zX.amr(i[0],i[1],l)<b&&Math.min(i[0].x,i[1].x)-5<=l.x&&l.x<=Math.max(i[0].x,i[1].x)+5&&Math.min(i[0].y,i[1].y)-5<=l.y&&l.y<=Math.max(i[0].y,i[1].y)+5){this.L3=[];
this.s3=[];for(var $=0;$<i.length;$++){this.L3.push($);this.s3.push(i[$].clone())}this.fU=l}else{this.wD=[l.clone(),l.clone()];
this.L3=[1]}};n.zX.prototype.OC=function(x,J,o,c,E){if(this.L3==null)return;var b=this.wD,l=this.L3,i=x.Q.Vx(E.x,E.y);
i.x=Math.round(i.x);i.y=Math.round(i.y);if(l.length>1){var F=i.x-this.fU.x,k=i.y-this.fU.y;for(var $=0;
$<b.length;$++){b[$]=this.s3[$].clone();b[$].offset(F,k)}}else{b[l[0]].DQ(i.x,i.y);if(c.S(dG.uJ)){b[l[0]]=n.yT.GK(b[1-l[0]],b[l[0]])}}this.Bv(x);
this._P(J,L.E.N,{d:L.H.dC,v:this.id,aei:b[0],we:b[1],Rz:b[2],yV:x.yV,a2S:x.m});x.Q.GJ=q.O.ql([b[0].x,b[0].y,b[1].x,b[1].y]);
console.log(x.Q.GJ)};n.zX.prototype.w7=function(x,J,o,c,E,b){this.L3=null;if(b){this.wD=this.oP.slice(0);
this.Bv(x)}};n.zX.prototype._P=function(x,J,o){var c=new ko(J,!0);c.data=o;x.c(c)};n.zX.prototype.Bv=function(x){var J=this.wD;
if(J==null)this.Gd(x);else{var o=[J[1].x,J[1].y,J[0].x,J[0].y],c=["M","L"];if(J.length>2){o.push(J[2].x,J[2].y);
c.push("L")}x.t.XV={G:c,j:o};x.t.EY=o}x.sD=!0};n.zX.prototype.Gd=function(x){x.t.XV=null;x.t.EY=[]};
n.zX.amr=function(x,J,o){var c=J.x-x.x,E=J.y-x.y,b=Math.abs(E*o.x-c*o.y+J.x*x.y-J.y*x.x),l=Math.sqrt(c*c+E*E);
return l==0?0:b/l};n._z=function(){n.mv.call(this,[10,19],n.rN,"tools/sharpen");this.WF="copy"};n._z.prototype=new n.mv;
n._z.prototype.JC=function(x,J,o,c,E){var b=this.qa.pdetail?bd.B2:bd.rN;if(c.S(dG.Zj))b=bd.V3;this.VH(x,o,c,E,this.qa.strn,b);
if(this.LP==null)return;this.u5(x)};n._z.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);if(this.wW)this.Zv(x,o,E);
if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.GA=function(){n.mv.call(this,[10,24],n.Ox,"tools/shbrush");
this.WF="draw";this.qa.opacity=.5};n.GA.prototype=new n.mv;n.GA.prototype.JC=function(x,J,o,c,E){this.VH(x,o,c,E,1);
if(this.LP==null)return;this.iZ(x);this.u5(x)};n.GA.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);
if(this.wW)this.Zv(x,o,E);if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.GA.prototype.w7=function(x,J,o,c,E){if(this.LP==null)return;
this.xl(x,"sheal",this.LP.BE(),this.LP.mZ(),this.LP.ZS(),null);this.W(x,this.LP.ZS());n.mv.prototype.w7.call(this,x,J,o,c,E)};
n.vb=function(){n.mv.call(this,[10,20],n.zL,"tools/smudge");this.WF="copy"};n.vb.prototype=new n.mv;
n.vb.prototype.JC=function(x,J,o,c,E){var b=this.qa.brush.toolOptions;this.VH(x,o,c,E,this.qa.strn,bd.zL);
if(this.LP==null)return;this.u5(x)};n.vb.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);if(this.wW)this.Zv(x,o,E);
if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.Qb=function(){n.mv.call(this,[10,23],n.jp,"tools/sponge");
this.WF="sponge"};n.Qb.prototype=new n.mv;n.Qb.prototype.JC=function(x,J,o,c,E){this.VH(x,o,c,E,this.qa.flow);
if(this.LP==null)return;this.u5(x)};n.Qb.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);if(this.wW)this.Zv(x,o,E);
if(this.LP==null)return;if(!E.sz)return;this.NS(x,o,c,E);this.u5(x)};n.FF=function(){n.Kj.call(this,[10,17],n.PE,"tools/zoom");
this.Mr=!1;this.ZD=!0;this.Lo=!1;this.Dj=0;this.zT=null;this.dO=null;this.yn=0;this.XU=null;this.a8c=0;
this.MR=new iy([{name:[8,0],l1:"Ctrl + +"},{name:[8,1],l1:"Ctrl + -",U7:!0},{name:[20,3],l1:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],l1:"Ctrl + 1"}],[{K:L.E.f,v:n.PE,C:{d:"zoom",ZD:!0}},{K:L.E.f,v:n.PE,C:{d:"zoom",ZD:!1}},{K:L.E.f,v:n.PE,C:{d:"adapt",b:"fitscr"}},{K:L.E.f,v:n.PE,C:{d:"adapt",b:"pixel"}}])};
n.FF.prototype=new n.Kj;n.FF.prototype.KY=function(x,J,o,c,E){var b=this.MR;b._();b.parent=J;b.update(x,o);
var l=new ko(L.E.N,!0);l.data={d:L.H.c4,BM:b,x:E.rR+2,y:E.ru+1};J.c(l)};n.FF.prototype.enable=function(x,J,o,c){this.Q1(J,c);
if(x&&Date.now()-this.Dj<300)this.E4({d:"adapt",b:"pixel"},J,x,c,o);this.Dj=Date.now()};n.FF.prototype.JC=function(x,J,o,c,E){this.dO=new ck(E.x,E.y);
this.yn=x.Q.Z;this.XU=x.Q.z.clone()};n.FF.prototype.OC=function(x,J,o,c,E){if(this.dO==null)return;var b=Math.exp(Math.log(this.yn)+(E.x-this.dO.x)/64);
b=Math.max(.02,Math.min(n.FF.UQ[0],b));x.Q.Z=this.yn;x.Q.z=this.XU.clone();this.E4({d:"zoom",Z:b,lN:this.dO,Lo:this.Lo},J,x,c,o)};
n.FF.prototype.w7=function(x,J,o,c,E){if(ck.q6(this.dO,E)<4){var b=this.afK(c);this.E4({d:"zoom",ZD:b,lN:E,Lo:this.Lo},J,x,c,o)}this.dO=null};
n.FF.UQ=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
n.FF.cM=function(x,J,o,c){var E=1;while(x*E*1/2>o||J*E*1/2>c)E*=1/2;if(x*E*2/3>o||J*E*2/3>c)E*=1/2;else if(x*E>o||J*E>c)E*=2/3;
return E};n.FF.apf=function(x,J){var o=n.FF.axc(x);if(J&&o==0)return x;if(!J&&o==n.FF.UQ.length-1)return x;
return n.FF.UQ[J?o-1:o+1]};n.FF.axc=function(x){var J=0;while(n.FF.UQ[J]>x)J++;return J};n.FF.Gt=function(x,J,o,c){var E=x.Th;
if(c==0||c==null){c=n.FF.apf(x.Z,o);if(c==x.Z)return}var b=x.Vx(J.x,J.y);b.x=Math.max(0,Math.min(E.m,b.x));
b.y=Math.max(0,Math.min(E.e,b.y));if(!1){}else{var l=x.AY(),i=x.Z/c;l.translate(-b.x,-b.y);l.scale(i,i);
l.translate(b.x,b.y);x.a6o(l)}};n.FF.prototype.E4=function(x,J,o,c,E){if(x.d=="pzoom"){if(typeof x.b=="string")return;
x={d:"zoom",Z:x.b/100}}var b=0,l=!1,i=null;if(x.d=="adapt"){var F=0;if(x.b=="pixel")F=1;if(x.b=="fitscr"){var F=0,k=o.Q.T3.m,U=o.Q.T3.e,I=new ha(0,0,o.m,o.e),V=q.O.ny(I).j,u=new cW;
u.rotate(o.Q.o7);q.O.M(V,u,V);var N=q.O.Cg(V),e=E.Q2?q.xP.kg+4:8;F=Math.min((k-e*2)/N.m,(U-e*2)/N.e);
o.Q.z.DQ(0,0)}i=new ck(Math.round(o.Q.T3.m/2),Math.round(o.Q.T3.e/2));b=F;n.FF.Gt(o.Q,i,l,b);o.o0=!0}if(x.d.startsWith("multi")){function B(K){var A=K[0].x-K[1].x,d=K[0].y-K[1].y;
return Math.sqrt(A*A+d*d)}function j(K){return new ck((K[0].x+K[1].x)/2,(K[0].y+K[1].y)/2)}function T(K){var A=K[0].x-K[1].x,d=K[0].y-K[1].y;
return Math.atan2(d,A)}var a=x.B6,P=j(a);if(x.d=="multidown"){this.zT=[a,o.Q.Z,o.Q.Vx(P.x,P.y),o.Q.o7]}else{var v=n.FF.UQ,H=.15;
b=this.zT[1]*B(a)/B(this.zT[0]);b=Math.max(v[v.length-1],Math.min(v[0],b));if(b!=o.Q.Z)n.FF.Gt(o.Q,P,l,b);
var R=this.zT[2],y=o.Q.OY(R.x,R.y),t=o.Q.z;t.x=Math.round(t.x+P.x-y.x);t.y=Math.round(t.y+P.y-y.y);var g=this.zT[3]+(T(a)-T(this.zT[0]));
g=g%(2*Math.PI);while(g<0)g+=2*Math.PI;if(g<H||g>2*Math.PI-H)g=0;o.Q.o7=g;o.o0=!0}}if(x.d=="scroll"){i=x.lN;
var v=n.FF.UQ,_=x.s_.y,Y=1+Math.abs(_)*8e-4*(x.a5B?10:1);if(_>0)Y=1/Y;b=o.Q.Z*Y;n.FF.Gt(o.Q,i,l,Math.min(v[0],Math.max(v[v.length-1],b)));
o.o0=!0}if(x.d=="zoom"){var K=x.Lo?J.Zw:[o];for(var $=0;$<K.length;$++){var f=K[$],m=f.Q;i=x.lN?x.lN:new ck(Math.round(m.T3.m/2),Math.round(m.T3.e/2));
if(x.Z!=null)b=x.Z;else l=x.ZD;n.FF.Gt(m,i,l,b);f.o0=!0}}if(x.d=="mskView"){var C=o.B[o.g[0]];if(C.tB<=0){C.tB=1;
o.Gf=!0}var Z=C.tB==3?C.O5(o).F:C.Da();if(x.b==0){o.Q.U=[1,1,1];Z.AH=!1}if(x.b==1){o.Q.U=[1,1,1];Z.AH=!0}if(x.b==2){o.Q.U=[0,0,0];
Z.AH=!0}for(var $=0;$<o._w.length;$++)o._w[$].AH=!1;o.X7=[];o.sD=!0}};n.FF.prototype.B3=function(x,J,o,c){if(this.Mr!=c.S(dG.Zj)){this.Mr=c.S(dG.Zj);
var E={d:L.H.dC,v:this.id,Mr:this.Mr},b=new ko(L.E.N,!0);b.data=E;J.c(b);this.Q1(J,c)}};n.FF.prototype.Q1=function(x,J){var o=new ko(L.E.N,!0),c=this.afK(J);
o.data={d:L.H.TG,i2:c?"zoom-in":"zoom-out"};x.c(o)};n.FF.prototype.kT=function(x,J,o,c){this.ZD=x.ZD;
this.Lo=x.Lo;this.Q1(J,c)};n.FF.prototype.afK=function(x){var J=this.ZD;if(x.S(dG.nw)&&x.S(dG._k))J=!0;
if(this.Mr)J=!J;return J};n.FF.afr=function(x,J){if(x.S(dG.l7)||x.S(dG.au4)){J.v=n.PE;J.data={d:"zoom",ZD:!0}}if(x.S(dG.oN)){J.v=n.PE;
J.data={d:"zoom",ZD:!1}}if(x.S(dG.KH)){J.v=n.PE;J.data={d:"adapt",b:"fitscr"}}if(x.S(dG.Ar)){J.v=n.PE;
J.data={d:"adapt",b:"pixel"}}};n.LL=function(x,J,o){n.Kj.call(this,x,J,o);this.l6=null;this.Vh=null;
this.Qf=null;this.aCd=0};n.LL.prototype=new n.Kj;n.LL.e6=function(x,J){var o={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},c=x==null?{classID:"null",null:o,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:o,Usng:{t:"type",v:{classID:x}},__name:"Stroke"};
if(J)c.Prs={t:"bool",v:!0};return{bV:x==null?"fill":"stroke",Rx:c}};n.LL.prototype.enable=function(x,J,o,c,E){this.Vh=o;
var b=new ko(L.E.N,!0);b.data={d:L.H.TG,i2:"default"};J.c(b)};n.LL.prototype.KY=function(x,J,o,c,E){var b=x.l$(),l=b[0],i=b[1];
if(i.length==0)return;var F=l[i[0]],k=F.add.vmsk,U=x.Q.Vx(E.x,E.y),I=4*n.IJ()/x.Q.Z,V=new ha(U.x-I,U.y-I,I*2,I*2),u=q.p.O4(k.$,V)[0];
if(u.length!=0){k.tx=u;x.sD=!0}var N=q.p.zo(k.$,U).cD;if(N!=-1){k.g=[N];x.sD=!0}var e=new ko(L.E.N,!0);
e.data={d:L.H.dC,v:this.id,UB:E,j3:x,XK:o};J.c(e)};n.LL.prototype.a1N=function(x,J){var o=new ko(L.E.N,!0);
o.data={d:L.H.bS,KJ:h4.v0};if(!J.ms)x.c(o);o.data={d:L.H.bS,KJ:h4.Dc};if(!J.Km.yB)x.c(o)};n.LL.prototype.XX=function(x,J,o,c,E){if(o.QJ!=this.id&&E==null)return;
if(x.g.length==0)return;var b=x.B[x.g[0]],l=b.add.vmsk,i=b.add.vstk,F=b.add.vstl;if(b5==0){var k=bs.wr(b.add);
this.l6=x;this.Qf=J;if(b.A0()&&l!=null&&(JSON.stringify(i)!=JSON.stringify(o.wb)||JSON.stringify(k)!=JSON.stringify(o.wB))){this.aCd=Date.now();
var U=new ko(L.E.N,!0);U.data={d:L.H.bS,KJ:h4.Y1,b:k};J.c(U);U.data={d:L.H.bS,KJ:h4.x4,b:i};J.c(U)}}else if(F){var V=JSON.stringify(F);
if(V!=JSON.stringify(o.zs)){var U=new ko(L.E.N,!0);U.data={d:L.H.bS,KJ:h4.YK,b:JSON.parse(V)};J.c(U)}}};
n.LL.prototype.DL=function(x,J){if(this.l6==null)return;if(J==h4.y_||J==h4.Y1||J==h4.x4){if(Date.now()-this.aCd<50)return;
var o=J==h4.Y1,c=this.l6,E=o?x.wB:x.wb,b=[],l=c.g;for(var $=0;$<l.length;$++){var i=l[$],F=c.B[i];if(!F.A0()||F.add.vmsk==null)continue;
b.push(i)}var k=new ko(L.E.f,!0);k.v=n.uH;k.data={d:h.d3,UO:b,H6:o,b:E};if(b.length!=0)this.Qf.c(k)}};
n.LL.prototype.aji=function(x){if(typeof x=="number"){var J=new ko(L.E.p4,!0);J.data=n.Au.uQ(0);J.data.Rx.Usng.v.Type.v.Clr.v=q.r.qP({o:x>>>16&255,I:x>>>8&255,J:x>>>0&255});
this.Qf.c(J)}};n.LL.prototype.E4=function(x,J,o,c,E){this.Qf=J;if(x.d=="newfill"){if(x.jP==0){var b=new ko(L.E.N,!0);
b.data={d:L.H.yI,AN:"colorpicker",xK:E.Q6,Uh:this.aji.bind(this)};J.c(b)}}else if(x.d=="smplp"){if(o==null)return;
var l=o.l$(),i=l[0],F=l[1];if(F.length==0){alert("No paths selected");return}var k=i[F[0]];if(k.add.vmsk.g.length<=0){alert("No paths selected");
return}if(this.JA==null){this.JA=k.add.vmsk.clone();this.TZ=JSON.stringify(k.add.vogk);this.i8=k;this.l6=o}var b=new ko(L.E.N,!0);
b.data={d:L.H.yI,AN:"simplifypath",xg:100,sA:this.aCH.bind(this)};J.c(b)}else if(x.d=="pathedit"){var U=x.XC,V="",u=o.yB.slice(0),N=o.Np.slice(0),e=o.yB.slice(0),B=o.Np.slice(0);
if(U=="rnm"){var j=-1-x.cD,T=u[j],a=hk.qd(x.name,T.add);if(j!=0)e[j]=a;else{B=[e.length];e.push(a);e[0]=hk.qd("Work Path")}V="Rename"}else if(U=="new"){var a=hk.qd("Path "+u.length);
if(x.akk){var l=o.l$(),i=l[0],F=l[1],P=i[F[0]];a.add.vmsk=P.add.vmsk.clone();a.add.vogk=JSON.parse(JSON.stringify(P.add.vogk));
if(P.cD==-1){var v=e[B[0]]=hk.qd("Path "+u.length);v.name=P.name;v.cD=P.cD}}e.push(a);B=[e.length-1];
V="New"}else if(U=="del"){if(B.length==0)return;B.sort(function(f,s){return f-s});if(B[0]==0){e[0]=hk.qd(u[0].name);
B=B.slice(1)}var R=0;while(B.length!=0){e.splice(B[0]-R,1);B=B.slice(1);R++}V="Delete"}else if(U=="fromsel"){var k=e[0]=hk.qd("Work Path");
B=[0];if(o.u==null)return;var y=o.u.channel.slice(0);for(var $=0;$<y.length;$++)y[$]=y[$]>128?2:1;var t=o.u.rect.clone();
t.wI(1,1);var g=q.R(t.P());q.zc(y,o.u.rect,g,t);var H=fE.wt(g,t.m,t.e,Math.round(t.P()*5e-4)),i=fE.l$(H),_=new cW(1,0,0,1,-1+o.u.rect.x,-1+o.u.rect.y);
for(var $=0;$<i.length;$++)q.O.M(i[$].path.j,_,i[$].path.j);for(var $=0;$<i.length;$++){var Y=i[$];if(Y.color==1&&Y.parent==-1)continue;
var K=q.O.XR(i[$].path,!1);k.add.vmsk.$=k.add.vmsk.$.concat(K.slice(2))}k.add.vogk=h.pw(k.add.vmsk.$);
V="Selection to"}var f=new bk(V+" Path",this);f.data={oP:u,$B:N,a5Q:e,ju:B};if(U=="fromsel"){f.data.BJ=o.u;
f.data.g9=null}o.VR(f);this.Tu(f.data,o)}else{var m=x.wd,l=o.l$(x.d=="append"||x.d=="fromAction"),i=l[0],F=l[1],k=i[F[0]],C=k.add.vmsk,Z=k.add.vogk,A=C.clone(),d=C.clone(),G=JSON.stringify(Z);
if(x.d=="fromAction"){var r=x.xV,X=r.bV,w=r.Rx,S=w.T;if(X=="set"){if(S){Z.push(q.WE.G4(S));d.$.push({type:0,sm:1,length:0});
q.WE.Gx(Z,d);m=[12,76,0]}else throw w}else if(X=="draw"){Z=[q.WE.G4(w.Shp)];d.$.push({type:0,sm:1,length:0});
q.WE.Gx(Z,d);n.LL.ac$(d.$,w.AntA.v,E.Q6,J);return}else throw X}else if(x.d=="remove"){if(x.Qq&&d.tx.length!=0){d.$=q.p.auj(d.$,d.tx,Z,x.ahT);
var z=q.p.Dd(d.$);for(var $=0;$<d.g.length;$++)if(d.g[$]>=z){d.g.splice($,1);$--}d.tx=[];m="Delete Anchors"}else{if(d.g.length==0)return;
var R=0;for(var $=0;$<d.g.length;$++){Z.splice(d.g[$]+R,1);R--}d.$=q.p.atl(d.$,d.g);d.g=[];d.tx=[];if(m==null)m="Delete Paths"}}if(x.d=="append"){n.LL.an(x.ahz,d,Z)}this.M6(o,k.cD,d,Z);
this.TJ(o,m,k.cD,A,d.clone(),null,G,JSON.stringify(Z))}};n.LL.ac$=function(x,J,o,c){var E=new h._b;E.$=E.$.concat(x.slice(2));
var b=E.Da();if(!J)q.round(b.channel);var l=q.R(b.rect.P()*4);q.xj(l,(o&255)<<16|(o>>8&255)<<8|(o>>16&255)<<0);
q.qR(b.channel,l,3);var i=new ko(L.E.f,!0);i.v=n.di;i.data={d:"draw",Im:{buffer:l,rect:b.rect.clone()},wd:this.name};
c.c(i)};n.LL.nZ=function(x,J){var o=q.p.aaU(x.$,x.g),c=[];for(var $=0;$<x.g.length;$++)c.push(JSON.parse(JSON.stringify(J[x.g[$]])));
return[o,c]};n.LL.an=function(x,J,o){var c=q.p.Dd(J.$),E=q.p.Dd(x[0]);J.$=J.$.concat(x[0].slice(2));
J.g=[];for(var $=0;$<E;$++)J.g.push(c+$);for(var $=0;$<E;$++)o.push(JSON.parse(JSON.stringify(x[1][$])))};
n.LL.prototype.f3=function(x,J){if(J==null)return!1;var o=J.l$(),c=o[0],E=o[1];if(E.length==0)return!1;
var b=c[E[0]],l=b.add.vmsk;if(l&&l.g.length+l.tx.length!=0)return[dG.OT,dG.BK].indexOf(x)!=-1};n.LL.prototype.B3=function(x,J,o,c){if(x==null)return;
var E=x.l$(),b=E[0],l=E[1];if(l.length==0)return;var i=b[l[0]],F=i.add.vmsk;if(c.S(dG.Fh)||c.S(dG.eP)||this.id==n.WS&&c.S(dG.Wa)&&F.tx.length==1){F.tx=[];
x.sD=!0}if(F.g.length!=0){var k=c.DC(x?x.Q.o7:0);if(k.x!=0||k.y!=0){var U=F.clone(),I=F.clone(),V=new cW(1,0,0,1,k.x,k.y),u=i.add.vogk,N=JSON.stringify(u);
if(c.S(dG.Zj)){var e=n.LL.nZ(I,u);n.LL.an(e,I,u)}q.p.Sp(I.$,V,I.g);q.WE.M(u,q.D.ay(V),I.g);this.M6(x,i.cD,I,u);
this.TJ(x,"Move Paths",i.cD,U,I.clone(),!0,N,JSON.stringify(u))}if(c.S(dG.OT)||c.S(dG.BK))this.E4({d:"remove",Qq:this.id==n.WS},J,x,c,o)}};
n.LL.prototype.TJ=function(x,J,o,c,E,b,l,i){var F=new bk(J,this);F.data={gg:o,li:c,fm:E,a3D:b,a79:l,K2:i};
x.VR(F)};n.LL.prototype.Tu=function(x,J){if(x.gg!=null)this.M6(J,x.gg,x.fm.clone(),JSON.parse(x.K2));
else{J.yB=x.a5Q.slice(0);J.Np=x.ju.slice(0);J.sD=J.Gf=!0}if(x.BJ||x.g9){J.u=x.g9;J.ji=!0}};n.LL.prototype.WY=function(x,J){if(x.gg!=null)this.M6(J,x.gg,x.li.clone(),JSON.parse(x.a79));
else{J.yB=x.oP.slice(0);J.Np=x.$B.slice(0);J.sD=J.Gf=!0}if(x.BJ||x.g9){J.u=x.BJ;J.ji=!0}};n.LL.prototype.M6=function(x,J,o,c){var E=J<0?x.yB[-1-J]:J<1e6?x.B[J]:x.B[J-1e6].add.TySh,b=E.add.vmsk;
b.channel=null;b.op=!0;if(b.Ie){b.Ie.channel=null;b.Ie.op=!0}E.add.vmsk=o;E.add.vogk=c;if(1e6<=J){iv.PL(E);
var l=x.B[J-1e6],i=E,F=this.Vh;i6.n$(l,F.a0);x.W()}else if(0<=J){o.op=!0;E.vl(x);x.W()}x.sD=x.Gf=!0};
n.Au=function(x,J,o,c){n.LL.call(this,x,J,o);this.qa={shape:fV.Bt(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{vB:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a2c=c;this.nk=null;this.oD=null;this.G3=null;this.qD=new km};n.Au.prototype=new n.LL;n.Au.prototype.dP=function(x){return x.sz&&this.id!=n.Zp};
n.Au.prototype.enable=function(x,J,o,c,E){this.Vh=o;var b=new ko(L.E.N,!0);b.data={d:L.H.TG,i2:"crosshair"};
J.c(b)};n.Au.prototype.B3=function(x,J,o,c){n.LL.prototype.B3.call(this,x,J,o,c);this.qD.B3(c);this.iE(J,o)};
n.Au.prototype.iE=function(x,J){var o=new ko(L.E.N,!0);o.data={d:L.H.dC,v:this.id,bJ:this.Nx(J)};x.c(o)};
n.Au.prototype.Nx=function(x){var J=this.qD.QH(0),o=this.qD.Q9(0),c=n.vh.fZ(this.qa.binop,J,o);if(x._G==1&&c==0)c=1;
return c};n.Au.prototype.Nb=function(x,J,o,c){};n.Au.prototype.JC=function(x,J,o,c,E){var b=o._G;if(b!=2)this.a1N(J,o);
if(b==2&&!x.$K())return;var l=x.Q.Vx(E.x,E.y);l=n.fp.MI(x,l,o);this.G3=[l.x,l.y];this.nk=l;this.oD=new ck(0,0);
this.qD.JC(c)};n.Au.prototype.aCh=function(x,J,o,c){var E=[this.nk.clone(),J.clone()];o=this.qD.QH(1)||o.S(dG.uJ)||this.qD.Q9(1)?o:null;
if(this.a2c)E=n.Au.Wt(E[0],E[1],o,!0,this.qa.cstr);if(x)x.Q.GJ=new ha(E[0].x,E[0].y,E[1].x-E[0].x,E[1].y-E[0].y);
return this.Nb(E[0],E[1],this.qD.QH(1)&&o.S(dG.uJ),this.G3,x.Q,c)};n.Au.prototype.ab7=function(x,J,o){var c=x.Q.Vx(J.x,J.y);
if(this.id==n.Zp)return c;var E=this.qa.cstr;if(E.vB==2){var b=new ha(c.x-E.x,c.y-E.y,E.x,E.y),l=n.fp.Fj(x,b,o);
c.x+=l[0];c.y+=l[1];n.fp.VT(x,b,l)}else c=n.fp.MI(x,c,o);return c};n.Au.prototype.OC=function(x,J,o,c,E){if(this.nk==null)return;
var b=this.G3,l=b.length,i=E?this.ab7(x,E,o):new ck(b[l-2],b[l-1]);if(c.S(dG.nw))this.nk=i._u(this.oD);
else this.oD=i._u(this.nk);b.push(i.x,i.y);if(this.qa.shape==null)this.qa.shape=o.VP[0];var F=this.aCh(x,i,c,!0)[0],k=q.O.uG(F);
x.t.XV=k;if(this.id!=n.Zp&&this.id!=n.wX&&this.id!=n.nF)n.Kj.bg(E,x.Q.GJ,x,o);x.sD=!0;this.qD.OC()};
n.Au.prototype.ahX=function(x,J,o,c){var E=x[4].clone();if(c){E.x-=J/2;E.y-=o/2}if(this.id==n.wX){J/=2;
o/=2;E.x+=J;E.y+=o;o=-o;J=0}var b=this.Nb(E,new ck(E.x+J,E.y+o),!1,this.G3);this.awG(x[0],x[1],x[2],b)};
n.Au.prototype.awG=function(x,J,o,c){var E=o._G,b=new ko(L.E.p4,!0);if(E==0)b.data=n.Au.a42(c[1],o);
else if(E==1){var l={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:c[1]};
b.data={bV:"set",Rx:l}}else{var l={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:c[1]};b.data={bV:"draw",Rx:l}}J.c(b);
if(c[1].v.classID=="customShape"&&c[1].v.Nm.v.startsWith("--")){var i=x.l$(),F=i[0],k=i[1],U=F[k.pop()],V=U.add.vmsk,u=U.add.vogk;
q.WE.ama(u);var N=V.clone();N.$=c[0];this.M6(x,U.cD,N,u)}};n.Au.prototype.w7=function(x,J,o,c,E,b){if(this.nk==null)return;
var l=this.ab7(x,E,o),i=this.Nx(o),F=o._G,k=this.G3,U=k.length;if(this.id==n.Zp&&U<=4){}else if(U<=4){l.x=Math.round(l.x);
l.y=Math.round(l.y);var I=new ko(L.E.N);I.data={d:L.H.yI,AN:"createshape",ani:this.ahX.bind(this),a5h:this.name,apK:[x,J,o,c,l]};
if(!b)J.c(I)}else if(U!=2){var V=this.aCh(x,l,c),u=V[0],N=x.l$(!0),e=N[0],B=N[1],j=B.length-1;if(F==1&&u.length>2||F==0&&i!=0&&j!=-1&&e[B[j]].cD>=0){u[2].sm=[1,2,3,0][i-1];
var T=e[B.pop()],a=T.add.vmsk,P=T.add.vogk,v=a.clone(),R=a.clone(),y=JSON.stringify(P);R.$=R.$.concat(u.slice(2));
R.g=[q.p.Dd(R.$)-1];var t=q.WE.G4(V[1]);P.push(t?t:q.WE.Qs());this.M6(x,T.cD,R,P);this.TJ(x,this.name,T.cD,v,R,null,y,JSON.stringify(P))}else if(F==0){this.awG(x,J,o,V)}else if(F==2){n.LL.ac$(u,this.qa.anta,o.Q6,J)}}this.nk=null;
x.t.XV=null;x.t.Ap=null;x.t.MJ=[];x.Q.GJ=null;x.sD=!0;this.qD.w7();this.iE(J,o)};n.Au.prototype.kT=function(x,J,o,c,E){for(var o in x)this.qa[o]=x[o]};
n.Au.Wt=function(x,J,o,c,E){var b=x.x,l=x.y,i=J.x,F=J.y;if(E&&E.vB==2){if(c){i=Math.round(i);F=Math.round(F)}b=i-E.x;
l=F-E.y}else{var k=0;if(E&&E.vB==1)k=E.y/E.x;else if(o&&o.S(dG.uJ))k=1;if(k!=0){if(c){if(b<i)b=Math.floor(b);
else b=Math.ceil(b);if(l<F)l=Math.floor(l);else l=Math.ceil(l)}var U=Math.abs(i-b),I=Math.abs(F-l),V=U;
if(I/U<k)V*=I/U/k;i=i>b?b+V:b-V;F=F>l?l+V*k:l-V*k}if(o&&o.S(dG.Zj)){b-=i-b;l-=F-l}}var x=new ck(b,l),J=new ck(i,F);
if(c)n.Au.aBB(x,J);return[x,J]};n.Au.aBB=function(x,J){if(x.x>J.x){var o=x.x;x.x=J.x;J.x=o}if(x.y>J.y){var o=x.y;
x.y=J.y;J.y=o}x.x=Math.floor(x.x);x.y=Math.floor(x.y);J.x=Math.ceil(J.x);J.y=Math.ceil(J.y)};n.Au.a4c=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
n.Au.uQ=function(x,J){var o=n.Au.a4c(),c=o.Usng.v.Type;if(J==null){c.v=JSON.parse(JSON.stringify(bs.zQ[x]));
c.v.classID=["solidColorLayer","gradientLayer","patternLayer"][x]}else n.Y8.Bj(J,c.v,x);return{bV:"make",Rx:o}};
n.Au.a42=function(x,J){var o=J.wB,c=JSON.parse(JSON.stringify(J.wb));c.fillEnabled.v=o.lZ!=0;var E=n.Au.uQ(Math.max(0,o.lZ-1),o.h5);
E.Rx.Usng.v.Shp=x;E.Rx.Usng.v.strokeStyle={t:"Objc",v:c};return E};n.EN=function(x){n.LL.call(this,x==0?[10,29]:[10,51],x==0?n.WS:n.aBq,x==0?"tools/pen":"tools/cpen");
this.mn=x;this.hz=null;this.JA=null;this.TZ=null;this.avf=0;this.Oh=null;this.nf=!1;this.ZW=!1;this.gj=!1;
this.bY=!1;this.Dj=0};n.EN.prototype=new n.LL;n.EN.prototype.dP=function(x){return this.JA!=null};n.EN.prototype.B3=function(x,J,o,c){if(!c.S(dG.Zj))this.gj=!1;
if(this.mn==1&&(c.S(dG.OT)||c.S(dG.BK))&&this.f3(dG.OT,x)){this.E4({d:"remove",Qq:!0},J,x,c,o);return}n.LL.prototype.B3.call(this,x,J,o,c)};
n.EN.prototype.JC=function(x,J,o,c,E){this.hz=E;this.a1N(J,o);var b=x.Q.Vx(E.x,E.y),e,B;b.x=Math.round(b.x);
b.y=Math.round(b.y);var l=n.fp.MI(x,b,o),i=o._G,F=this.avf;if(i==2)i=0;var k=x.l$(i==1),U=k[0],I=k[1],V=U[I.pop()],u=V?V.add.vmsk:null;
if(i==0&&F!=0&&V&&V.cD>=0)i=1;var N=n.YU(x,E);if(u)e=q.p.zo(u.$,b,!0,N);var j=c.S(dG.Zj);if(i==0&&(u==null||u.tx.length==0&&e.cD==-1)){var T=new ko(L.E.p4,!0),a=q.WE.p5("customShape",[0,0,1,1],null,null,null,"--");
T.data=n.Au.a42(a,o);J.c(T);this.bY=!0;k=x.l$(!0);U=k[0];I=k[1];V=U[I.pop()];u=V.add.vmsk;u.$=u.$.slice(0,2)}var P=V.add.vogk;
this.JA=u.clone();this.TZ=JSON.stringify(P);var v=u.$,R=q.p.Dd(v);B=q.p.O4(u.$,new ha(b.x-N,b.y-N,N*2,N*2),u.tx);
e=q.p.zo(u.$,b,!0,N);var y=B[0].length+B[1].length+B[2].length;if(e.cD!=-1&&B[0].length==0){var t=q.p.Yk(v,e.cD),g=v[t].length;
while(g<=e.eQ){e.eQ-=g;t+=g+1}var H={type:4,HN:l.clone(),L:l.clone(),Dq:l.clone()},_=t+2+e.eQ,Y=t+1+(1+e.eQ)%g,K=v[_-1],f=v[Y];
if(!K.L.U5(K.Dq)||!f.HN.U5(f.L)){var m=q.O.auN(K.L,K.Dq,f.HN,f.L,e.UL);K.Dq=m[0];H.HN=m[1];H.L=m[2];
H.Dq=m[3];f.HN=m[4]}v.splice(_,0,H);v[t].length++;u.tx=[_];if(this.mn==1){H.HN.x+=2;this.pX(u)}}else if(y!=0&&j){var C=0;
for(var $=0;$<3;$++)if(B[$].length!=0){C=B[$][0];this.ZW=$==1;break}if(B[0].length!=0){var Z=u.$.length-1,A=u.$[C];
A.Dq=A.L.clone();var d=A.type>=3?3:0;if(C!=Z){A.HN=A.L.clone();A.type=d+1;this.gj=!0}else A.type=d+2}u.tx=[C]}else if(B[0].length==1&&v[B[0][0]-1]&&(v[B[0][0]-1].L!=null||v[B[0][0]-1].type==0||v[B[0][0]-1].length==1)){var C=B[0][0];
if(this.mn==1){var G=v[C],r=G.L,X=Math.abs(q.O.eT(G.HN.x,G.HN.y,r.x,r.y,G.Dq.x,G.Dq.y));if(X>.01){G.HN=r.clone();
G.Dq=r.clone()}if(Date.now()-this.Dj<300){var w=G.HN.U5(r)&&G.Dq.U5(r);if(w)G.Dq.offset(2,2);else{G.HN=r.clone();
G.Dq=r.clone()}this.Dj=0}else this.Dj=Date.now();u.tx=[C];this.pX(u)}else{var t=q.p.Yk(v,q.p.Ak(v,C)),a=v[t],S=t+a.length;
if(C!=S||a.type==0){v[t].length--;v.splice(C,1);S--;if(a.length==0){v.splice(t,1);S=-1}}if(S!=-1)u.tx=[S];
else u.tx=[]}}else{var z=0;if(u.tx.length!=1){u.g=[R];v.push({type:3,length:1,sm:[1,2,3,0][Math.max(0,F-1)],tX:0,hu:0,Ab:0});
z=v.length;P.push(q.WE.Qs())}else{var G=u.tx[0],s=q.p.Ak(v,G),t=q.p.Yk(v,s);G=t+v[t].length;if(ck.q6(b,v[t+1].L)<N){v[t].type=0;
u.tx=[t+1];this.Oh=l;this.nf=!0;this.M6(x,V.cD,u,P);x.sD=!0;return}v[t].length++;z=G+1;if(G==t+1&&v[t].length!=2)z=t+1}if(c.S(dG.uJ)&&v[z-1]&&v[z-1].L)l=n.yT.GK(v[z-1].L,l);
var H={type:4,HN:l.clone(),L:l.clone(),Dq:l.clone()};v.splice(z,0,H);u.tx=[z];this.Oh=l;if(this.mn==1){H.HN.x+=2;
this.pX(u)}this.Dj=Date.now()}this.M6(x,V.cD,u,P);x.sD=!0};n.EN.prototype.pX=function(x){var J=x.$,o=x.tx[0],c=q.p.Yk(J,q.p.Ak(J,o))+1,E=J[c-1].length;
if(E<3)return;var b=[],l=[];for(var $=0;$<5;$++){var i=c+(o-c-2+$+5*E)%E;l.push(i);var F=J[i].L;b.push(F.x,F.y)}var k=q.O.a6j(b);
for(var $=1;$<4;$++){var U=$*4,I=J[l[$]],F=I.L,V=I.HN.U5(F)&&I.Dq.U5(F);if(!V){I.HN.DQ(k[U],k[U+1]);
I.Dq.DQ(k[U+2],k[U+3])}else{I.HN=F.clone();I.Dq=F.clone()}}};n.EN.prototype.OC=function(x,J,o,c,E){if(this.JA==null)return;
var b=this.hz;if(b&&ck.q6(b,E)<n.YU({Q:{Z:1}},E))return;this.hz=null;var l=x.Q.Vx(E.x,E.y),i=n.fp.MI(x,l,o),F=x.l$(o._G==1),k=F[0],U=F[1],I=k[U.pop()],V=I.add.vmsk,u=V.$,N=u[V.tx[0]];
if(this.mn==1){var e=N.L.U5(N.HN)&&N.L.U5(N.Dq);N.L=l.clone();N.HN=l.clone();N.Dq=l.clone();if(!e)N.HN.x+=2;
this.pX(V)}else if(c.S(dG.nw)){if(c.S(dG.uJ))i=n.yT.GK(this.Oh,i);var B=N.L._u(N.Dq),j=N.HN._u(N.L);
N.Dq=i;N.L=i.add(B);N.HN=N.L.add(j)}else{if(c.S(dG.uJ))i=n.yT.GK(N.L,i);if(this.ZW){var T=N.HN;N.HN=N.Dq;
N.Dq=T}if(this.nf){var a=ck.q6(N.L,i),P=a==0?0:ck.q6(N.L,N.Dq)/a;N.Dq.x=N.L.x+P*(i.x-N.L.x);N.Dq.y=N.L.y+P*(i.y-N.L.y)}else N.Dq=i;
if(c.S(dG.Zj)&&!this.gj)N.type=5;else{N.type=4;N.HN=N.L.add(N.L._u(i))}this.Oh=i;if(this.ZW){var T=N.HN;
N.HN=N.Dq;N.Dq=T}}this.M6(x,I.cD,V,I.add.vogk);x.sD=!0};n.EN.prototype.w7=function(x,J,o,c,E){if(this.JA==null)return;
var b=x.l$(o._G==1),l=b[0],i=b[1],F=l[i.pop()],k=F.add.vmsk,U=F.add.vogk;if(this.nf){k.tx=[];this.M6(x,F.cD,k,F.add.vogk)}var I=this.JA.$.length,V=k.$.length;
if(!this.bY)this.TJ(x,this.nf?"Close Path":(I==V?"Move":I<V?"Add":"Delete")+" Anchor Point",F.cD,this.JA,k.clone(),null,this.TZ,JSON.stringify(U));
this.bY=!1;this.nf=!1;this.ZW=!1;this.gj=!1;this.JA=null};n.EN.prototype.kT=function(x,J,o,c,E){this.avf=x.binop};
n.ra=function(){n.Au.call(this,[10,30],n.Zp,"tools/fpen",!1)};n.ra.prototype=new n.Au;n.ra.prototype.Nb=function(x,J,o,c,E,b){var l=c.length-1,i=Math.sqrt((c[l-1]-c[0])*(c[l-1]-c[0])+(c[l]-c[1])*(c[l]-c[1]))<6/E.Z;
return[q.p.vU(c,i,b),q.WE.p5("customShape",[0,0,1,1],null,null,null,"--")]};n.tU=function(){n.LL.call(this,[10,27],n.dr,"tools/pselect");
this.G2=null;this.v3=!1;this.i8=null;this.JA=null;this.Hw=null;this.TZ=null;this.tn=null;this.WV=null;
this.ei=null;this.jd=null};n.tU.prototype=new n.LL;n.tU.prototype.dP=function(x){return x.sz};n.tU.prototype.JC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y),l=x.l$(),i=l[0],F=l[1],k,U;
for(var $=0;$<F.length;$++){var I=i[F[$]],V=I.add.vmsk,u=q.p.zo(V.$,b).cD;if(u!=-1){this.i8=k=I;U=u}for(var N=0;
N<V.wD.length;N++){var e=q.p.aav(V.$,V.wD[N]);if(e==null)continue;var B=ck.q6(e,b);if(B<4*n.IJ()/x.Q.Z){var j=x.B[I.cD-1e6].add.TySh,T=j.TC.Curve,a=j.M,P=T.Reversed;
T.Reversed=!1;var T=gD.Z0(j.TC.Curve);T.Reversed=P;q.O.M(T[0],a,T[0]);this.ei=[T,N,a.V*a.Lu-a.J*a.xt];
this.i8=k=I;U=0}}if(this.ei)break}if(k!=null){var V=k.add.vmsk;V.tx=[];var v=V.g.indexOf(U);if(c.S(dG.uJ)){if(v==-1){V.g.push(U);
this.v3=!0}else V.g.splice(v,1)}else{if(v==-1)V.g=[U];this.v3=!0}this.WV=q.p.d5(V.$,V.g)}this.G2=b;this.jd=new g9(b);
x.Gf=!0;x.sD=!0};n.tU.prototype.OC=function(x,J,o,c,E){if(this.G2==null)return;var b=x.Q.Vx(E.x,E.y);
if(this.v3){b=this.jd.hg(b,c);var l=this.i8;if(this.JA==null){this.JA=this.Hw=l.add.vmsk.clone();this.TZ=this.tn=JSON.stringify(l.add.vogk);
if(c.S(dG.Zj)){var i=this.JA.clone(),F=JSON.parse(this.TZ),k=n.LL.nZ(i,F);n.LL.an(k,i,F);this.Hw=i;this.tn=JSON.stringify(F)}}var i=this.Hw.clone(),F=JSON.parse(this.tn);
if(this.ei){var U=this.ei,I=U[0][0],V=q.O.K5(I,b.x,b.y);i.wD[U[1]]=U[0][1][V];var u=I[V*2],N=I[V*2+1],e=(I[V*2+2]-u)*(b.y-N)-(I[V*2+3]-N)*(b.x-u);
if(U[2]<0)e=-e;i.pn=e>0}else{var B=this.WV.clone(),j=B.x,T=B.y;B.offset(b.x-this.G2.x,b.y-this.G2.y);
B.x=Math.round(B.x);B.y=Math.round(B.y);var a=n.fp.Fj(x,B,o),P=new cW(1,0,0,1,B.x-j+a[0],B.y-T+a[1]);
q.p.Sp(i.$,P,i.g);q.WE.M(F,q.D.ay(P),i.g);n.fp.VT(x,B,a)}this.M6(x,l.cD,i,F)}else{var v=this.G2;x.t.XV=q.O.ny(new ha(v.x,v.y,b.x-v.x,b.y-v.y));
x.sD=!0}};n.tU.prototype.w7=function(x,J,o,c,E){if(this.G2==null)return;var b=x.Q.Vx(E.x,E.y),l=this.i8,i=l?l.add.vmsk:null;
if(this.v3){var F=JSON.stringify(l.add.vogk);if(!this.G2.U5(b))this.TJ(x,"Move Paths",l.cD,this.JA,i,null,this.TZ,F);
if(x!=null&&x.t.Ap){x.t.Ap=null;x.sD=!0}}else{if(i){var k=this.G2,U=new ha(k.x,k.y,b.x-k.x,b.y-k.y),I=q.p.a7A(i.$,U);
if(c.S(dG.uJ)){for(var $=0;$<I.length;$++)if(i.g.indexOf(I[$])==-1)i.g.push(I[$])}else i.g=I}x.t.XV=null;
x.sD=!0}this.G2=null;this.JA=null;this.ei=null;this.v3=!1;this.jd=null};n.tU.prototype.aCH=function(x){var J=this.i8,o=this.l6,c=J.add.vmsk,E=J.add.vogk,b=E.length;
if(x=="confirm"){if(c!=this.JA)this.TJ(o,[12,94,2],J.cD,this.JA,c,null,this.TZ,JSON.stringify(E));this.Gd();
return}if(x=="cancel"){this.M6(this.l6,this.i8.cD,this.JA.clone(),JSON.parse(this.TZ));this.Gd()}else{var c=this.JA.clone(),E=JSON.parse(this.TZ);
c.$=q.p.abP(c.$,c.g,x);this.M6(this.l6,this.i8.cD,c,E)}};n.tU.prototype.Gd=function(){this.i8=null;this.JA=null;
this.G2=null;this.vy=this.qy=-1;this.jd=null};n.tU.prototype.XX=function(x,J,o,c){n.LL.prototype.XX.call(this,x,J,o,c);
if(o.QJ!=this.id)return;if(x.g.length==0)return;var E=x.l$(),b=E[0],l=E[1];if(l.length==0)return;var i=b[l[0]],F=i.add.vmsk,k=i.add.vstk,U=i.add.vogk,I=new ko(L.E.N,!0);
I.data={d:L.H.dC,v:this.id,Pk:"main",Jt:F?F:null,WE:U};J.c(I)};n.tU.prototype.kT=function(x,J,o,c,E){var b=x.T1;
if(b.Jt){var l=o.l$(),i=l[0],F=l[1];if(F.length==0)return;var k=i[F[0]],U=k.add.vmsk.clone(),I=JSON.stringify(k.add.vogk),V=b.Jt;
this.M6(o,k.cD,V,b.WE);var u=[18,5];if(U.$.length==V.$.length)u=U.g[0]==V.g[0]?"Fill Rule":"Path Order";
this.TJ(o,u,k.cD,U,V,null,I,JSON.stringify(b.WE))}};n.qe=function(){n.LL.call(this,[10,28],n.S3,"tools/dselect");
this.vy=-1;this.qy=-1;this.Zc=null;this.G2=null;this.i8=null;this.JA=null;this.TZ=null;this.l6=null;
this.tk=0;this.bW={psnap:!1};this.jd=null};n.qe.prototype=new n.LL;n.qe.prototype.dP=function(x){return x.sz};
n.qe.prototype.kT=function(x){this.bW=x};n.qe.prototype.E4=function(x,J,o,c,E){if(x.d=="crnr"){if(o==null)return;
var b=o.l$(),l=b[0],i=b[1];if(i.length==0){alert("No paths selected");return}var F=l[i[0]],k=F.add.vmsk;
if(k.tx.length==0){alert("No corners selected");return}for(var $=0;$<k.tx.length;$++){var U=k.$[k.tx[$]];
if(!U.L.U5(U.Dq)||!U.L.U5(U.HN)){alert("Only sharp corners can be rounded");return}}if(this.JA==null){this.JA=F.add.vmsk.clone();
this.TZ=JSON.stringify(F.add.vogk);this.i8=F;this.l6=o}var I=new ko(L.E.N,!0);I.data={d:L.H.yI,AN:"cornerradius",xg:5,sA:this.aom.bind(this)};
J.c(I)}else n.LL.prototype.E4.call(this,x,J,o,c,E)};n.qe.prototype.aom=function(x){if(x=="confirm"){var J=this.l6,o=this.i8,c=o.add.vmsk,E=o.add.vogk;
this.TJ(J,[12,94,0],o.cD,this.JA,c,null,this.TZ,JSON.stringify(E));this.Gd();return}var c=this.JA.clone(),E=JSON.parse(this.TZ),b=c.tx;
if(x=="cancel"){}else{var l=[];for(var $=0;$<b.length;$++){var i=b[$],F=q.p.Ak(c.$,i,!0),I=0;if(l.indexOf(F)!=-1)continue;
l.push(F);var k=q.p.Yk(c.$,F,!0),U=c.$[k].length,V=[];for(var u=0;u<U;u++){var N=c.tx.indexOf(k+u+1)==-1?0:x;
V.push(N);if(N!=0)I++}q.p.hi(c.$,k,V);for(var u=0;u<b.length;u++)if(b[u]>k+U)b[u]+=I}this._n(c,E);c.tx=[]}this.M6(this.l6,this.i8.cD,c,E);
if(x=="cancel")this.Gd()};n.qe.prototype.disable=function(x,J,o,c){this.Lw(x)};n.qe.prototype.JC=function(x,J,o,c,E){this.Lw(x);
var b=x.Q.Vx(E.x,E.y),I,V,u;this.Zc=b.clone();var l=x.l$(),i=l[0],F=l[1];if(F.length==0)return;var k=n.YU(x,E),U=new ha(b.x-k,b.y-k,k*2,k*2);
for(var N=0;N<F.length;N++){I=this.i8=i[F[N]];V=I.add.vmsk;u=q.p.O4(V.$,U);if(u[0].length+u[1].length+u[2].length!=0)break}var e=[!1,!1,!1];
for(var $=0;$<3;$++){for(var B=0;B<u[$].length;B++){var j=u[$][B],T=V.$[j];if(V.tx.indexOf(j)!=-1||$==1&&V.tx.indexOf(j-1)!=-1&&!T.L.U5(T.HN)||$==2&&V.tx.indexOf(j+1)!=-1&&!T.L.U5(T.Dq)){u[$]=[j];
e[$]=!0;break}}}if(u[0].length!=0&&(e[0]||!e[1]&&!e[2])){var a=u[0][0],P=V.tx.indexOf(a);if(c.S(dG.uJ)){if(P==-1)V.tx.push(a);
else{V.tx.splice(P,1);x.sD=!0;return}}else if(P==-1)V.tx=[a];this.vy=a;this.qy=0}else if(u[1].length!=0&&e[1]){this.vy=u[1][0];
this.qy=1}else if(u[2].length!=0&&e[2]){this.vy=u[2][0];this.qy=2}else{var v=q.p.zo(V.$,b,!0,k);if(v.cD==-1)this.G2=b;
else{V.g=[v.cD];V.tx=[]}}if(this.JA==null){this.JA=I.add.vmsk.clone();this.TZ=JSON.stringify(I.add.vogk)}this.jd=new g9(b);
x.sD=!0};n.qe.prototype.OC=function(x,J,o,c,E){if(x==null)return;var b=x.Q.Vx(E.x,E.y),l=this.i8;if(this.vy!=-1){var i=this.JA.clone(),F=l.add.vogk,k=i.$[this.vy];
k=[k.L,k.HN,k.Dq][this.qy];if(c.S(dG.uJ)){if(this.qy==0){b=this.jd.hg(b,c);b.x+=k.x-this.Zc.x;b.y+=k.y-this.Zc.y}else b=n.yT.GK(i.$[this.vy].L,b)}else{if(this.bW.psnap){b.x=Math.round(b.x);
b.y=Math.round(b.y)}b=n.fp.MI(x,b,o)}if(this.qy==0){var U=new cW(1,0,0,1,b.x-k.x,b.y-k.y);q.p.Sp(i.$,U,null,i.tx)}else{var I=i.$[this.vy],V=I.HN,u=I.Dq;
if(this.qy==2){V=I.Dq;u=I.HN}if(c.S(dG.Zj)&&(I.type==1||I.type==4))I.type++;V.DQ(b.x,b.y);if(I.type==1||I.type==4){var N=ck.q6(V,I.L),e=ck.q6(u,I.L);
if(e!=0){u.x=I.L.x-(V.x-I.L.x)*(e/N);u.y=I.L.y-(V.y-I.L.y)*(e/N)}}}this._n(i,F);this.M6(x,l.cD,i,F)}else if(this.G2!=null){var B=this.G2;
x.t.XV=q.O.ny(new ha(B.x,B.y,b.x-B.x,b.y-B.y));x.sD=!0}else{var j=x.l$(),T=j[0],a=j[1],l,i,R;if(a.length==0)return;
var P=n.YU(x,E),v=new ha(b.x-P,b.y-P,P*2,P*2);for(var y=0;y<a.length;y++){l=T[a[y]];i=l.add.vmsk;R=q.p.O4(i.$,v);
if(R[0].length+R[1].length+R[2].length!=0)break}this.Lw(x);for(var $=0;$<3;$++){for(var t=0;t<R[$].length;
t++){var g=R[$][t],H=i.$[g];H=$==0?H.L:$==1?H.HN:H.Dq;x.t.UD.push(H.x,H.y);x.sD=!0}}}};n.qe.prototype.Lw=function(x){if(x&&x.t.UD.length!=0){x.t.UD=[];
x.sD=!0}};n.qe.prototype.w7=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y),l=this.i8,i=l?l.add.vmsk:null,F=l?l.add.vogk:null;
if(this.vy!=-1){if(Date.now()-this.tk<300){var k=i.$[this.vy],U=this.qy,I=null;if(U==0){var V=k.HN.U5(k.L),u=k.Dq.U5(k.L);
if(!V&&!u){I="Anchor Type";if(k.type==1||k.type==4)k.type++;else{k.type--;k.Dq=k.L.add(k.L._u(k.HN))}}else{I="Add Handles";
if(V&&u){k.HN.x-=30;k.Dq.x+=30}else if(V)k.HN=k.L.add(k.L._u(k.Dq));else if(u)k.Dq=k.L.add(k.L._u(k.HN))}}else{I="Remove Handle";
if(U==1)k.HN.n6(k.L);else k.Dq.n6(k.L)}this._n(i,F);this.M6(x,l.cD,i,F);this.TJ(x,I,l.cD,this.JA,i,null,this.TZ,JSON.stringify(F))}else if(!this.Zc.U5(b)){this.TJ(x,"Drag Anchors",l.cD,this.JA,i,null,this.TZ,JSON.stringify(F))}this.tk=Date.now()}else if(this.G2!=null){var N=this.G2,e=new ha(N.x,N.y,b.x-N.x,b.y-N.y);
if(e.m<0)e.x+=e.m;if(e.e<0)e.y+=e.e;e.m=Math.abs(e.m);e.e=Math.abs(e.e);var B=q.p.O4(i.$,e);i.tx=B[0].concat(c.S(dG.uJ)?i.tx:[]);
x.t.XV=null}this.Gd();x.sD=!0};n.qe.prototype.Gd=function(){this.i8=null;this.JA=null;this.G2=null;this.vy=this.qy=-1;
this.jd=null};n.qe.prototype._n=function(x,J){for(var $=0;$<x.tx.length;$++){var o=q.p.Ak(x.$,x.tx[$]);
q.WE.W8(J,o)}};n.qe.prototype.B3=function(x,J,o,c){if(x==null)return;var E=x.l$(),b=E[0],l=E[1];if(l.length==0)return;
var i=b[l[0]],F=i.add.vmsk;if(F==null||F.tx.length==0)return;var k=i.add.vogk,U=JSON.stringify(k),I=c.DC(x?x.Q.o7:0);
if(I.x!=0||I.y!=0){var V=F.clone(),u=F.clone(),N=new cW(1,0,0,1,I.x,I.y);q.p.Sp(u.$,N,null,u.tx);this._n(u,k);
this.M6(x,i.cD,u,k);this.TJ(x,"Move Anchors",x.g[0],V,u.clone(),!0,U,JSON.stringify(k))}if(c.S(dG.OT)||c.S(dG.BK))this.E4({d:"remove",Qq:!0,ahT:!0},J,x,c,o)};
n.qe.prototype.TJ=function(x,J,o,c,E,b,l,i){var F=x.Xz();if(b&&F!=null&&F.v==this&&F.data.a3D&&F.data.gg==o&&JSON.stringify(F.data.li.tx)==JSON.stringify(c.tx)){F.data.fm=E;
F.data.K2=i}else{var F=new bk(J,this);F.data={gg:o,li:c,fm:E,a3D:b,a79:l,K2:i};x.VR(F)}};n.Rect=function(){n.Au.call(this,[10,32],n.Ni,"tools/rect",!0)};
n.Rect.prototype=new n.Au;n.Rect.prototype.Nb=function(x,J,o){var c=this.qa.crad,E=J.x-x.x,b=J.y-x.y;
return[q.p.MP.Rect(x.x,x.y,E,b,c),q.WE.p5("Rctn",[x.x,x.y,J.x,J.y],[c,c,c,c])]};n.yr=function(){n.Au.call(this,[10,33],n.YM,"tools/ellipse",!0)};
n.yr.prototype=new n.Au;n.yr.prototype.Nb=function(x,J,o){var c=J.x-x.x,E=J.y-x.y;return[q.p.MP.yr(x.x,x.y,c,E),q.WE.p5("Elps",[x.x,x.y,J.x,J.y])]};
n.hH=function(){n.Au.call(this,[10,34],n.wX,"tools/pshape",!1);this.qa.aopts=[!1,!0,50,100,0]};n.hH.prototype=new n.Au;
n.hH.prototype.Nb=function(x,J,o){var c=this.qa.pshape,E=this.qa.crad,b=this.qa.irad/100,l=this.qa.sides,i=this.qa.width,F=this.qa.aopts,k=this.qa.length,B;
J=J.clone();var U=x.x,I=x.y,V=J.x,u=J.y,N=Math.sqrt((V-U)*(V-U)+(u-I)*(u-I)),e=Math.atan2(-u+I,V-U);
if(o)e=Math.round(e*180/Math.PI/15)*15*Math.PI/180;if(c==0)B=q.p.MP.lB(U,I,N,e,l,E);if(c==1)B=q.p.MP.amo(U,I,N,e,l,E,b);
if(c==2)B=q.p.MP.KX(x.x,x.y,J.x,J.y,i,F);if(c==3)B=q.p.MP.au8(U,I,N,e,k);return[B,q.WE.p5("customShape",[x.x,x.y,J.x,J.y],null,null,null,"--")]};
n.hH.prototype.B3=function(x,J,o,c){n.Au.prototype.B3.call(this,x,J,o,c);var E=c.DC(),b=this.qa,l,i;
if(E.y!=0){var F=-E.y,k=b.pshape;if(k<2){l="sides";i=Math.max(3,Math.min(100,b.sides+F))}else if(k==2){l="width";
i=Math.max(1,Math.min(100,b.width+F))}else if(k==3){l="length";i=Math.max(4,Math.min(40,b.length+F))}}if(E.x!=0){l="pshape";
i=Math.max(0,Math.min(3,b.pshape+E.x))}if(l){var U=new ko(L.E.N,!0),V={};V[l]=i;b[l]=i;U.data={d:L.H.dC,v:this.id,XC:"vals",agI:V};
J.c(U);this.OC(x,J,o,c)}};n.E_=function(){n.Au.call(this,[10,35],n.nF,"tools/line",!1)};n.E_.prototype=new n.Au;
n.E_.prototype.Nb=function(x,J,o){var c=this.qa.width,E=this.qa.aopts;J=J.clone();if(o){J=n.yT.GK(x,J)}return[q.p.MP.KX(x.x,x.y,J.x,J.y,c,E),q.WE.p5("Ln",null,null,[x.x,x.y,J.x,J.y],c,null,E)]};
n.PP=function(){n.Au.call(this,[10,31],n.jZ,"tools/cshape",!0)};n.PP.prototype=new n.Au;n.PP.prototype.Nb=function(x,J,o){var c=this.qa.shape,E=c.YP.m/c.YP.e,b=h._b.AL(c.$);
J=J.clone();if(o){J.y=x.y+(J.x-x.x)/E}var l=J.x-x.x,i=J.y-x.y;q.p.Sp(b,new cW(l,0,0,i,x.x,x.y));return[b,q.WE.p5("customShape",[x.x,x.y,J.x,J.y],null,null,null,c.W4)]};
n.Y=function(x,J,o){n.Kj.call(this,x,J,o);this.HE=0;this.B=null;this.ED=null;this.XK=null;this.Is=1;
this.Q7=0;this.pI=!0;this.Py=!1;this.cursor=null;this.Qd=null;this.BJ=null;this.sy=!1;this.LF=null;this.aaB=0;
this.su=null;this.mn=0;this.nW=null;this.Vc=null;this.G$=null;this.e_=null;this.az1=null;this.xh=null};
n.Y.prototype=new n.Kj;n.Y.zt=function(x,J,o){var c={classID:"null",null:hi.X$(o?"Lyr":"Dcmn",!0)};if(x)c.Angl={t:"UntF",v:{type:"#Ang",val:J}};
else c.Axis={t:"enum",v:{Ornt:J}};return{bV:x?"rotateEventEnum":"flip",Rx:c}};n.Y.prototype.KY=function(x,J,o,c,E){var b=new ko(L.E.N,!0);
b.data={d:L.H.dC,v:this.id,UB:E,j3:x,XK:o};J.c(b);this.fq=!1};n.Y.prototype.dP=function(x){return this.Vc&&this.Vc.acr()};
n.Y.prototype.E4=function(x,J,o,c,E){this.XK=E;if(x.d=="again"&&this.su==null)return;if(!this.w8(o,E))return;
if(this.Vc){this.a4V(x,this.Vc.ge(),J,o,c,E);this.ir(o,E,0,!0);this.BF(o);return}this.aoJ(o,x.a==null,x.a);
this.a07(o);this.a4V(x,x.a6u,J,o,c,E);this.Z4(o,J,x.wd,!1)};n.Y.prototype.a4V=function(x,J,o,c,E,b){var l=this.nW;
if(J==null){var i=x.vQ!=null?x.vQ:4;J=this.Vc.a5y()[i]}var F=J.x,k=J.y;if(x.d=="rot"&&x.b!=Math.PI&&(l.m+l.e&1)==1){F=Math.floor(F);
k=Math.floor(k)}var U=new cW;U.translate(-F,-k);if(x.d=="rot")U.rotate(x.b);if(x.d=="scl")U.scale(x.b.x,x.b.y);
if(x.d=="mat")U.concat(x.b);U.translate(F,k);if(x.d=="again")U=this.su;var I=q.D.ay(U);if(x.d=="dtr"){var V=q.D;
I=V.hf(x.b,V.R(-F,-k));I=V.hf(V.R(F,k),I)}var u=this.Vc.ER();q.D.M(I,u);this.Vc.Dz(u);if(x.Sv){var N=x.Sv.v;
this.kT({Pk:"switchWarp"},o,c,E);this.kT({Pk:"wrp",Sv:N},o,c,E)}};n.Y.prototype.Yv=function(){return!0};
n.Y.prototype.w8=function(x,J,o){if(x==null)return!1;if(this.id==n.Nw)return x.u!=null;var c=x.kw(!0,null,null,!0);
if(this.id==n.Es&&x.B[c[0]].rect.Kx()){alert("Layer is empty.");return!1}for(var $=0;$<c.length;$++){var E=x.B[c[$]];
if(E.Sm(2)||E.Sm(31)){alert(h9.get([6,57,0]));return!1}if(E.add.artb){alert("You can not transform the whole artboard");
return!1}if(E.add.TySh)if(!i6.Wi(E.add.TySh,J.a0))return!1;if(E.add.SoLd){if(c.length==1&&(o&&o.ns==-1)&&(E.Da()&&E.Da().uM||E.add.vmsk&&E.add.vmsk.uM)){alert("Unlink masks before transforming Smart Object");
return!1}if(!x.azE(E.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+x.lx(E.add.SoLd.Idnt.v).C0+")");
return!1}}}if(x.u==null)return!0;if(!x.$K())return!1;return x.auI()};n.Y.prototype.JC=function(x,J,o,c,E){var b=this.jC(E,x),l=b[0],i=b[1],F=this.mn==0?this.Vc:this.G$;
x.Q.Z*=i;this.Py=F.JC(x,o,c,l,null,null,E);this.BF(x,l);x.Q.Z/=i;if(this.Py&&F.T4(l)){if(Date.now()-this.aaB<250)this.Z4(x,J,null,!0);
this.aaB=Date.now()}};n.Y.prototype.JH=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.TG,i2:this.cursor};
x.c(J)};n.Y.prototype.jC=function(x,J){var o=1;x=J.Q.Vx(x.x,x.y);if(this.mn==1){var c=q.D.LH(this.Vc.ER(),this.nW);
o=q.D.ut(c).z1();var E=q.D.Mr(c);x=q.D.acP(E,x)}return[x,o]};n.Y.prototype.OC=function(x,J,o,c,E){var b=this.jC(E,x),l=b[0],i=b[1],F=this.mn==0?this.Vc:this.G$;
if(!E.sz){var k="default";if(F){var U=F.YI(l,x.Q.Z*i,null,E);if(U)k=U}if(k!=this.cursor){this.cursor=k;
this.JH(J)}if(this.G$){this.BF(x,l)}}if(!this.Py)return;x.Q.Z*=i;var I=this.Gh=F.OC(x,o,c,l,this.pI);
x.Q.Z/=i;this.ir(x,o,0,!0);this.BF(x,l);this.Tn(J)};n.Y.prototype.w7=function(x,J,o,c,E){var b=this.jC(E,x),l=b[0],i=b[1];
this.Vc.w7(x,o,c,l);if(this.G$){var F=this.G$.w7(x,o,c,l);if(F){this.Tn(J,!0);this.BF(x)}}if(this.Gh){var k=this.Gz(),U=q.O.ny(this.nW).j;
q.D.M(k,U);this.Vc.Dz(U);this.Gh=null}this.Py=!1};n.Y.prototype.B3=function(x,J,o,c){if(c.S(dG.eP))this.Z4(x,J,null,!0);
else if(c.S(dG.Fh))this.NV(x,J);else{var E=this.Vc.B3(x,o,c);if(E){this.ir(x,o,0,!0);this.Tn(J)}}};n.Y.prototype.kT=function(x,J,o,c){if(x.Pk=="commit")this.Z4(o,J,null,!0);
else if(x.Pk=="cancel")this.NV(o,J);else if(x.Pk=="switchWarp"){this.mn=1-this.mn;this.aaF();this.BF(o);
this.Tn(J)}else if(x.Pk=="wrp"){this.G$.arA(x.Sv);this.BF(o);this.ir(o,this.XK,0,!0)}else if(x.Pk=="splt")this.G$.afv(x.b);
else if(x.Pk=="ctyp"){this.Vc.ah_(x.HI);this.BF(o);this.Tn(J)}else if(x.Pk=="cen"){this.Vc.aup(x.FH);
this.BF(o);this.ir(o,this.XK,0,!0)}else if(x.Pk=="trn"){var E=q.D.ay(x.Mo),b=this.nW,l=q.D.LH(this.Vc.ER(),this.nW);
E[6]=l[6],E[7]=l[7];var i=[b.x,b.y,b.x+b.m,b.y,b.x+b.m,b.y+b.e,b.x,b.y+b.e];q.D.M(E,i);this.Is=x.Is;
if(x.Q7!=this.Q7){this.Q7=x.Q7;this.a9A(o)}this.pI=x.pI;this.Vc.Dz(i);this.BF(o);this.ir(o,this.XK,0,!0)}};
n.Y.prototype.BF=function(x,J){if(this.mn==0)this.Vc.XT(x,this.XK);else{this.G$.XT(x,J);var o=this.Gz();
q.D.M(o,x.t.ha.j);q.D.M(o,x.t.Xc);q.D.M(o,x.t.wR)}};n.Y.prototype.Z4=function(x,J,o,c){this.ir(x,this.XK,this.Is);
var E=new bk(o?o:this.name,this),v="";if(this.HE==0)E.data={type:this.HE,B:this.B,LF:this.ED,Oz:n.Y.OU(x,this.B)};
else if(this.HE==1){var b=x.B[this.B[0]],l;if(b.Xi.tB<=0){l=q.R(b.Xi.ne.P());q.z$(b.Xi.T8,l,3)}else l=x.u.channel;
var i={rect:b.Xi.ne.clone(),channel:l};E.data={type:this.HE,a:this.B[0],BJ:this.BJ,g9:i,Qd:this.Qd,sy:this.sy,Xi:b.Xi,LF:this.LF,Oz:{By:b.Xi.ne,kC:b.Xi.T8}}}else if(this.HE==2){E.data={type:this.HE,BJ:this.BJ,g9:{rect:x.u.rect.clone(),channel:x.u.channel.slice(0)}}}x.VR(E);
var F=this.nW,k=q.D.LH(this.Vc.ER(),F),U=this.ED,I=U?U[0]:null;if(U&&U.length==1&&I[4]){var V=n.Y.AX(I[4].nonAffineTransform),F=q.O.Cg(q.Oq.h7(I[4].quiltWarp.v)[3]),u=q.D.LH(V,F);
k=q.D.hf(k,q.D.Mr(u))}var N=q.D.ut(k),e=this.Vc.ge(),B=new cW;B.translate(e.x,e.y);B.concat(N);B.translate(-e.x,-e.y);
N=B.clone();var j=-Math.atan2(-N.J,N.V),T=new cW;T.rotate(j);N.concat(T);function a(H,_){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][_],val:H}}}var P=hi.X$("Lyr",!0);
if(this.id==n.Nw)P.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var R=n.Y.aph;for(var y in R)if(R[y]==this.Vc.tj)v=y;
if(v==""){v="Qcsi";B.Iw=B.s7=0}var t={classID:"null",null:P,FTcs:{t:"enum",v:{QCSt:v}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:a(B.Iw,0),Vrtc:a(B.s7,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:a(Math.atan(N.xt/N.Lu)*180/Math.PI,2),Vrtc:a(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:a(100*0,1),Vrtc:a(100*0,1)}},Wdth:a(N.V*100,1),Hght:a(N.Lu*100,1),Angl:a(j*180/Math.PI,2)};
if(v=="Qcsi")t.Pstn={t:"Objc",v:{Hrzn:a(e.x,0),Vrtc:a(e.y,0)}};var g=this.G$?this.G$.Ac():null;if(g&&!q.Oq.IQ(g)){t.quiltWarp={t:"Objc",v:g}}this.Qf=J;
this.track({bV:"transform",Rx:t});this.escape(x,J,c)};n.Y.aph={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
n.Y.prototype.NV=function(x,J){if(this.HE==0)n.Y.l3(x,this.B,this.ED);else if(this.HE==1){var o=x.B[this.B[0]];
x.u=this.BJ;if(!this.sy){o.Xi.ne=this.LF.By;o.Xi.T8=this.LF.kC;o.IR(x,0,0,x.u)}else{o.xX(x,this.Qd)}x.W();
x.ji=!0}else if(this.HE==2){x.u=this.BJ;x.ji=!0}this.escape(x,J,!0)};n.Y.prototype.escape=function(x,J,o){this.Vc.clear(x);
if(this.G$)this.G$.clear(x);this.Vc=null;this.G$=null;this.xh=null;this.mn=0;if(o)this._P(J,L.E.N,{d:L.H.HA})};
n.Y.prototype.Tu=function(x,J){if(x.type==0)n.Y.l3(J,x.B,x.Oz);else{if(x.type==1){var o=J.B[x.a];if(x.sy){o.Xi=x.Xi}else{o.Xi.ne=x.Oz.By;
o.Xi.T8=x.Oz.kC}o.IR(J,0,0,J.u);J.W()}J.u={rect:x.g9.rect.clone(),channel:x.g9.channel.slice(0)};J.ji=!0}};
n.Y.prototype.WY=function(x,J){if(x.type==0)n.Y.l3(J,x.B,x.LF);else{if(x.type==1){var o=J.B[x.a];if(x.sy){o.xX(J,x.Qd)}else{o.Xi.ne=x.LF.By;
o.Xi.T8=x.LF.kC;o.IR(J,0,0,J.u)}J.W()}J.u=x.BJ;J.ji=!0}};n.Y.prototype.aoJ=function(x,J,o){x.l$();var c=[];
if(o==null)for(var $=0;$<x.Np.length;$++)if(x.yB[x.Np[$]].add.vmsk.$.length>2)c.push(-1-x.Np[$]);var E=[],b=x.Q.U;
if(b[0]+b[1]+b[2]==3)if(o!=null||c.length==0||x.vd!=null&&x.vd.length!=0){if(x.g.length==1){var l=x.B[x.g[0]];
if(l.Zk()&&l.Hn)E=[x.g[0]]}if(E.length==0)E=x.kw(J,o,null,!0)}E=E.concat(c);for(var $=0;$<x.X7.length;
$++)E.push(-1e3-x.X7[$]);this.B=E};n.Y.prototype.enable=function(x,J,o,c,E,b){if(this.cursor==null)this.cursor="default";
this.JH(J);if(this.Vc)return;this.XK=o;this.aoJ(x,!0);this.a07(x,b&&b.ns!=null&&b.ns!=-1?b.ns:null);
this.Tn(J,null,x);this.BF(x);if(b&&b.ns==-1)this.kT({Pk:"switchWarp"},J,x,c)};n.Y.prototype.hp=function(){return[this.pI?1:0]};
n.Y.prototype.VJ=function(x,J,o){if(x&&x[0]!=null)this.pI=x[0]==1};n.Y.prototype.Tn=function(x,J,o){var c={d:L.H.dC,v:this.id};
if(this.mn==0){var E=q.D.LH(this.Vc.ER(),this.nW),b=q.D.ut(E);c.Mo={ng:b,HI:this.Vc.anF(),FH:this.Vc.ge(),By:this.nW.clone(),pI:this.pI}}else{c.akM=J;
c.Sv=this.G$.Ac()}if(o){c._w=["---"];for(var $=0;$<o._w.length;$++)c._w.push(o._w[$].name)}c.amR=this.G$!=null;
this._P(x,L.E.N,c)};n.Y.prototype.a07=function(x,J){var o=this.id==n.Nw,c=!0,E=this.B[0],b=x.B[E],i=null,F=null,k=null,V=null;
if(o){this.HE=2;this.BJ=x.u}else if(x.u&&this.B.length==1&&E>=0&&!b.rect.Kx()){this.HE=1;this.BJ=x.u;
this.Qd=b.Xi;this.sy=!1;if(!b.x8(x,x.u)){this.sy=!0;b.Mc(x,x.u,!1)}this.LF={kC:b.Xi.T8,By:b.Xi.ne}}else{this.HE=0;
this.ED=n.Y.OU(x,this.B,null);for(var $=0;$<this.ED.length;$++)if(this.ED[$][3]!=null)c=!1}var l=this.HE==1;
if(this.ED&&this.ED.length==1){var U=this.ED[0];if(U[2]!=null)F=U[2].Jt;if(U[3]==null)l=!0;if(U[3]!=null)k=U[3];
if(U[4]!=null){i=x.B[this.B[0]].add.SoLd;if(U[1]||U[2])l=!1}}var I=o?x.u.rect.clone():n.Y.mZ(x,this.B);
this.nW=I;if(!o&&F&&b5==1){V=F.a1l();this.e_=q.D.LH(V,this.nW)}else if(!o&&k&&b5==1){var u=x.B[this.B[0]],k=u.add.TySh;
V=q.O.ny(u.Ex.kI).j;q.O.M(V,k.M,V);this.e_=q.D.LH(V,this.nW)}else if(!o&&i){V=n.Y.AX(i.nonAffineTransform);
this.nW=q.O.Cg(q.Oq.h7(i.quiltWarp.v)[3]);if(l)this.G$=new iY(i.quiltWarp.v);this.e_=q.D.LH(V,this.nW)}else{if(l||o)this.G$=new iY(q.Oq.R(this.nW));
this.e_=[1,0,0,0,1,0,0,0];if(this.id==n.Es)J=3;V=[I.x,I.y,I.x+I.m,I.y,I.x+I.m,I.y+I.e,I.x,I.y+I.e]}this.Vc=new cK(V,!0,!0,c,!1,!1,J);
this.az1=[1,0,0,0,1,0,0,0];this.a9A(x)};n.Y.prototype.a9A=function(x){if(this.id==n.Es){var J,o,b=null;
if(this.ED&&x.u==null){var c=this.ED[0][0],E=c.OO;J=E[0];o=E[1]}else if(this.LF){J=this.LF.kC;o=this.LF.By}if(this.Q7!=0)b=x._w[this.Q7-1].Dy(o);
this.xh=q.D8.asS(J,o.m,o.e,b)}};n.Y.mZ=function(x,J){if(J==null)J=x.kw(!0,null,null,!0);var o=new ha,c=new ha;
if(x.u&&J.length==1&&J[0]>=0)o=x.u.rect.clone();else for(var $=0;$<J.length;$++){var E=J[$],b=0<=E?x.B[E]:-1e3<E?x.yB[-1-E]:x._w[-1e3-E],l=b.add?b.add.vmsk:null,i=0<=E?b.UG(x,J.length==1,!1,!0):-1e3<E?q.p.d5(l.$,J.length==1&&l.g.length!=0?l.g:null):b.rect.clone();
o=o.k7(i);if(E>0&&b.add.artb)c=c.k7(b.uc())}return!c.Kx()?c:o};n.Y.prototype._P=function(x,J,o,c){var E=new ko(J,!0);
E.data=o;if(c)E.v=c;x.c(E)};n.Y.OU=function(x,J,o){var c=[];for(var $=0;$<J.length;$++){var E=J[$],b,l;
if(E>=0){b=x.B[E];l=b.eG(x,o,!0)}else if(E>-1e3){b=x.yB[-1-E];l=[2]}else{c.push([null,null,null,null,null,null,null,x._w[-1e3-E].clone()]);
continue}var i=[],F=l.indexOf(0)!=-1;if(F){var k={OO:b.add.SoLd?null:[b.buffer.slice(0),b.rect.clone()]};
i.push(k);if(b.AD()){var U=b.O5(x);k.aak=U.buffer.slice(0);k.at9=U.rect.clone()}}else i.push(null);if(l.indexOf(1)!=-1)i.push(b.Da().clone());
else i.push(null);if(l.indexOf(2)!=-1)i.push({Jt:b.add.vmsk.clone(),Ao:b.add.vstk?JSON.parse(JSON.stringify(b.add.vstk)):null,h5:b.add.vstk?bs.wr(x.B[E].add):null,zs:b.add.vstl?JSON.stringify(b.add.vstl):null,WE:b.add.vogk?JSON.parse(JSON.stringify(b.add.vogk)):null});
else i.push(null);if(b.add.TySh&&F){iv.PL(b.add.TySh);i.push(b.add.TySh.M.clone())}else i.push(null);
if(b.add.SoLd&&F)i.push(JSON.parse(JSON.stringify(b.add.SoLd)));else i.push(null);if(l.indexOf(3)!=-1)i.push(b.O5(x).F.clone());
else i.push(null);if(b.add.lmfx)i.push(JSON.stringify(b.add.lmfx));else i.push(null);c.push(i)}return c};
n.Y.l3=function(x,J,o){for(var $=0;$<J.length;$++){var c=J[$],E=0<=c?x.B[c]:-1e3<c?x.yB[-1-c]:x._w[-1e3-c],b=o[$];
if(b[0]){if(b[0].OO){E.rect=b[0].OO[1].clone();E.buffer=b[0].OO[0].slice(0)}if(E.AD()){var l=E.O5(x);
l.buffer=b[0].aak.slice(0);l.rect=b[0].at9.clone()}}if(b[1]){E.Da().channel=b[1].channel.slice(0);E.Da().rect=b[1].rect.clone();
E.Da().op=!0}if(b[2]){E.add.vmsk=b[2].Jt.clone();if(b[2].h5)bs.AJ(E.add,b[2].h5);if(b[2].Ao)E.add.vstk=JSON.parse(JSON.stringify(b[2].Ao));
if(b[2].WE)E.add.vogk=JSON.parse(JSON.stringify(b[2].WE));if(b[2].zs)E.add.vstl=JSON.parse(b[2].zs)}if(b[3]){E.add.TySh.M=b[3].clone();
iv.ww(E.add.TySh)}if(b[4]){E.add.SoLd=JSON.parse(JSON.stringify(b[4]))}if(b[5]){var i=E.O5(x).F;i.channel=b[5].channel.slice(0);
i.rect=b[5].rect.clone()}if(b[6]){E.add.lmfx=JSON.parse(b[6])}if(b[7]){E.channel=b[7].channel.slice(0);
E.rect=b[7].rect.clone();E.op=!0}if(0<=c){E.vl(x);E.W();if(b[4])E.aW(x,!1)}}x.W()};n.Y.N6=function(x,J,o,c,E,b,l,i,F,k){if(typeof b[0]=="number"){var U=[];
for(var $=0;$<o.length;$++)U[$]=b;b=U}for(var $=0;$<o.length;$++){var I=b[$],V=q.D.ut(I),u=V.z1(),N=o[$],e=0<=N?x.B[N]:-1e3<N?x.yB[-1-N]:x._w[-1e3-N],B=c[$];
if(e.add&&e.add.lmfx&&i)cI.bw(e.add.lmfx,u);if(B[0]&&!B[3]&&!B[4]&&!B[5]){var j=B[0].OO;if(F){var T=F.clone(),a=q.R(T.P()*4);
q.St(j[0],j[1],a,T);j=[a,T]}var P=n.Y.$v(j,E,I,l,E==0?e.buffer.buffer:null,null,null,k);if(P){e.rect=P.rect;
e.buffer=P.buffer}}if(B[1]){var v=e.Da();n.Y.Wm(x,B[1],v,E,I,l,v.uM&&l&&!q.Oq.IQ(l)&&B[0]?B[0].OO[1]:null);
if(F){var T=e.rect.Kc(F),R=q.R(T.P());q.zc(v.channel,v.rect,R,T);v.channel=R;v.rect=T}}if(B[2]){var y=l&&!q.Oq.IQ(l),t=B[2].Jt.clone(),g=o.length==1&&t.g.length!=0,H=o.length==1&&t.tx.length>1;
if(H)g=!1;var _=g?t.g:null,Y=H?t.tx:null;if(y){var K=q.Oq.h7(l);q.D.M(I,K[3]);q.p.anZ(t.$,K,_,Y)}else q.p.a3j(t.$,I,_,Y);
if(e.add.vstk&&i){e.add.vstk.strokeStyleLineWidth.v.val=B[2].Ao.strokeStyleLineWidth.v.val*u;var f=B[2].h5;
if(f&&f.lZ==3){f=JSON.parse(JSON.stringify(f));var m=f.h5.phase.v;f.h5.Scl.v.val=Math.round(f.h5.Scl.v.val*u);
m.Hrzn.v=Math.round(m.Hrzn.v*u);m.Vrtc.v=Math.round(m.Vrtc.v*u);bs.AJ(e.add,f)}}if(e.add.vogk){e.add.vogk=JSON.parse(JSON.stringify(B[2].WE));
if(y||H)q.WE.ama(e.add.vogk);else q.WE.M(e.add.vogk,I,o.length>1?[]:t.g,i)}if(e.add.vstl){var C=e.add.vstl=JSON.parse(B[2].zs);
for(var Z=0;Z<2;Z++){var A=Z==0?C.TK:C.ma;if(A==null||A[3]==null)continue;var d=A[3],G=new cW(d[0],d[1],d[2],d[3],d[4],d[5]);
G.concat(V);A[3]=[G.V,G.J,G.xt,G.Lu,G.Iw,G.s7]}}t._M*=u;var r=new cW;r.rotate(t.xq);r.concat(V);t.xq=Math.atan2(-r.J,r.V);
e.add.vmsk=t;if(e.add.vogk)q.WE.Gx(e.add.vogk,e.add.vmsk)}if(B[3]){var G=B[3].clone();G.concat(V);e.add.TySh.M=G;
iv.ww(e.add.TySh);i6.n$(e,J.a0)}if(B[4]){var X=e.add.SoLd,w=n.Y.AX(B[4].nonAffineTransform);q.D.M(I,w);
var S=q.O.ql(w);if(cK.vK(w)){if(l){var z=q.O.Cg(q.Oq.h7(B[4].quiltWarp.v)[3]),R=q.D.LH(w,z),s=q.O.Cg(q.Oq.h7(l)[3]);
w=[s.x,s.y,s.x+s.m,s.y,s.x+s.m,s.y+s.e,s.x,s.y+s.e];q.D.M(R,w);X.quiltWarp.v=l}var M=q.D.LH(w),Q=w;if(!q.D.vR(M)){M[6]=M[7]=0;
Q=[0,0,1,0,1,1,0,1];q.D.M(M,Q)}X.Trnf=n.Y.AA(Q);X.nonAffineTransform=n.Y.AA(w);if(X.filterFX)X.filterFX=JSON.parse(JSON.stringify(B[4].filterFX));
n.Y.afZ(X,V);e.aW(x,E==0,J.a0)}}if(B[5])n.Y.Wm(x,B[5],e.O5(x).F,E,I,l);if(B[7])n.Y.Wm(x,B[7],e,E,I,l);
if(0<=N){if(!k)e.xz();e.vl(x);e.W()}}x.W()};n.Y.HK=function(x,J){var o=J.z1(),c=0;q.PF(x);var E=q.lz(x,J,.3,4);
c=E[0];J=E[1];var b=x[c],l=x[c+1],i=l.m,F=l.e,k=q.O.ny(l).j;q.O.M(k,J,k);var U=q.O.ql(k),I=q.R(U.P()),V=U.x,u=U.y,N=U.m,e=U.e,B=J.clone();
B.Mr();var j=B.iI(new ck(0,0)),T=B.iI(new ck(1,0)),a=T.x-j.x,P=T.y-j.y;for(var v=0;v<e;v++){var R=B.V*(V+.5)+B.xt*(v+u+.5)+B.Iw,y=B.J*(V+.5)+B.Lu*(v+u+.5)+B.s7;
for(var t=0;t<N;t++){I[v*N+t]=Math.floor(.5+q.D.asz(R,y,b,i,F));R+=a;y+=P}}return{rect:U,channel:I}};
n.Y.yo=function(x,J,o,c,E,b){if(o==null)o=!1;return n.Y.$v(x,o?0:1,q.D.ay(J),null,c,E,b,o)};n.Y.$v=function(x,J,o,c,E,b,l,i){if(i==null)i=!1;
if(i&&l)throw"e";var F={},U=0;if(c&&!q.Oq.IQ(c)){var k=q.Oq.h7(c);q.D.M(o,k[3]);F.rect=q.O.ql(k[3]);
F.buffer=q.R(F.rect.P()*4);q.bf.drawImage(k,x[0],x[1].m,x[1].e,F.buffer,F.rect,J==0);return F}if(q.D.vR(o)){q.mw(x);
var I=.3,U=0,V=q.D.ut(o),u=x[1],N=u.P()*V.z1();if(i&&N>4e6)I=N>8e6?2.2:1.2;var e=q.lz(x,V,I,16);U=e[0];
o=q.D.ay(e[1])}var B=x[U],u=x[U+1],j=q.D.hf(o,q.D.ay(new cW(u.m,0,0,u.e,u.x,u.y))),T=[0,0,1,0,1,1,0,1];
q.D.M(j,T);F.rect=q.O.ql(T);if(l)F.rect=F.rect.Kc(l);if(i){while((F.rect.m&3)!=0)F.rect.m++;while((F.rect.e&3)!=0)F.rect.e++}if(!cK.vK(T)||F.rect.m>1e5||F.rect.e>1e5||F.rect.P()>3e4*3e4)return null;
var a=F.rect.P()*4;if(E&&E.byteLength>=a&&a>=E.byteLength>>2){F.buffer=new Uint8Array(E)}else{F.buffer=q.R(a)}q.D.drawImage(j,B,u.m,u.e,F.buffer,F.rect,J==0,b,i);
if(J==2&&F.buffer){var P=F.rect.m,v=F.rect.e,R;R=[0,-1,0,-1,16,-1,0,-1,0];R=q.wh.el(R);var y=F.buffer.slice(0);
q.wh.eh(y,F.buffer,P,v,R,255,!1,!0)}if(F.buffer)return F};n.Y.Wm=function(x,J,o,c,E,b,l){var i=J.rect,F=J.channel;
if(l){i=l;F=J.Dy(i)}if(J.color==255)q.Mr(F);var k=q.R(i.P()*4);q.qR(F,k,3);var U=n.Y.$v([k,i],c,E,b);
if(U){o.rect=U.rect;o.channel=q.R(U.rect.P());q.z$(U.buffer,o.channel,3);o.op=!0}if(J.color==255){q.Mr(F);
if(U)q.Mr(o.channel)}};n.Y.afZ=function(x,J){var o=x.filterFX;if(o)o=o.v.filterFXList;if(o)o=o.v;if(o)for(var c=0;
c<o.length;c++){var E=o[c].v.Fltr;if(E==null||E.v.classID!="rigidTransform")continue;E=E.v;console.log(E);
var b=[];for(var l=0;l<4;l++)b.push(E["PuX"+l].v,E["PuY"+l].v);q.O.M(b,J,b);for(var l=0;l<4;l++){E["PuX"+l].v=b[l*2];
E["PuY"+l].v=b[l*2+1]}var i=["PinP","posFinalPins"],F=["originalVertexArray","deformedVertexArray"],k=E.puppetShapeList.v;
for(var U=0;U<k.length;U++){var I=k[U].v;for(var V=0;V<i.length;V++){var u=n.Y.AX(I[i[V]]);q.O.M(u,J,u);
I[i[V]]=n.Y.AA(u);var N=new Uint8Array(I[F[V]].v),e=new Float32Array(N.buffer);q.O.M(e,J,e);var B=[];
for(var j=0;j<N.length;j++)B[j]=N[j];I[F[V]].v=B}}}};n.Y.AX=function(x){var J=[],o=x.v.length;for(var $=0;
$<o;$++)J.push(x.v[$].v);return J};n.Y.AA=function(x){var J={t:"VlLs",v:[]},o=x.length;for(var $=0;$<o;
$++)J.v.push({t:"doub",v:x[$]});return J};n.Y.prototype.aaF=function(){var x=q.O.Cg(q.Oq.h7(this.G$.Ac())[3]),J=q.D.LH(this.Vc.ER(),this.nW),o=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.e,x.x,x.y+x.e];
q.D.M(J,o);this.Vc.Dz(o);this.nW=x};n.Y.prototype.Gz=function(){var x=q.D.LH(this.Vc.ER(),this.nW);if(this.Gh)x=q.D.hf(x,q.D.ay(this.Gh));
return x};n.Y.prototype.ir=function(x,J,o,c){var E=this.Gz();E=q.D.hf(E,q.D.Mr(this.e_));var b=this.G$?this.G$.Ac():null;
if(this.HE==0){var l=this.su=q.D.ut(E);if(this.id==n.Es){var i=this.ED[0][0],F=i.OO,k=F[1],U=~~(k.m*Math.max(0,l.V)),I=~~(k.e*Math.max(0,l.Lu)),V=new ha(Math.round(l.V*k.x+l.Iw),Math.round(l.Lu*k.y+l.s7),U,I),u=q.D8.M(this.xh,V),N=x.B[this.B[0]];
N.buffer=u;N.rect=V;N.W();x.W()}else n.Y.N6(x,J,this.B,this.ED,o,E,b,null,null,c)}else if(this.HE==1){var e=x.B[this.B[0]],k=this.LF.By;
if(e.tB<=0){var B=this.LF.kC,j=this.BJ,T=null;if(b&&!q.Oq.IQ(b)&&!j.rect.U5(k)){var u=q.R(j.rect.P()*4);
q.St(B,k,u,j.rect);B=u;k=j.rect}if(this.id==n.Es){var l=this.su=q.D.ut(E),U=~~(k.m*Math.max(0,l.V)),I=~~(k.e*Math.max(0,l.Lu)),V=new ha(Math.round(l.V*k.x+l.Iw),Math.round(l.Lu*k.y+l.s7),U,I),u=q.D8.M(this.xh,V);
T={buffer:u,rect:V}}else T=n.Y.$v([B,k],o,E,b);if(T){e.Xi.T8=T.buffer;e.Xi.ne=T.rect;var a=q.R(T.rect.P());
q.z$(e.Xi.T8,a,3);x.u={channel:a,rect:e.Xi.ne.clone()}}}else{var P=q.R(k.P()*4);q.qR(this.LF.kC,P,3);
var T=n.Y.$v([P,k],o,E,b);if(T){e.Xi.T8=q.R(T.rect.P());q.z$(T.buffer,e.Xi.T8,3);e.Xi.ne=T.rect}this.av3(x,o,E,b)}e.IR(x,0,0,x.u);
if(o!=0){e.xz();q.xz(x.u)}x.ji=!0;x.W()}else if(this.HE==2)this.av3(x,o,E,b)};n.Y.prototype.av3=function(x,J,o,c){var E=this.BJ.rect,b=q.R(E.P()*4);
q.qR(this.BJ.channel,b,3);var l=n.Y.$v([b,E],J,o,c),i=q.R(l.rect.P());q.z$(l.buffer,i,3);x.u={channel:i,rect:l.rect};
x.ji=!0};n.Y.prototype.disable=function(x,J,o,c){if(this.Vc)this.Z4(x,J,null,!0)};n.as7=function(){n.Y.call(this,[10,16],n.Ih,"tools/transform")};
n.as7.prototype=new n.Y;n.a12=function(){n.Y.call(this,[7,10],n.Nw,"tools/transform")};n.a12.prototype=new n.Y;
n.a4M=function(){n.Y.call(this,[10,48],n.Es,"tools/transform")};n.a4M.prototype=new n.Y;n.g6=function(x,J,o){n.Kj.call(this,[10,46],n.tY,"tools/transform");
this.OE=[1,1,2,!0];this.xc="rigidTransform";this.EG=null;this.axH=null;this.rA=null;this.Ou=null;this.so=null;
this.HQ=null;this.nI=[]};n.g6.prototype=new n.Kj;n.g6.prototype.Yv=function(){return!0};n.g6._R=function(x){if(x==null)return!1;
if(x.g.length!=1)return!1;var J=x.B[x.g[0]];return J.add.SoLd||x.$K(!1)};n.g6.prototype.w8=function(x,J){return n.g6._R(x)};
n.g6.prototype.enable=function(x,J,o,c,E,b,l){this.axH=b.rS;var i=b.rS,F,e=null;if(i){var k=x.B[i.a];
if(k.add.SoLd.filterFX!=null){var U=k.add.SoLd.filterFX.v.filterFXList.v;if(U[i.index])F=JSON.parse(JSON.stringify(U[i.index].v.Fltr.v))}}var I=F==null,k=x.B[x.g[0]],V=k.buffer,u=k.rect,N=k.add.SoLd;
if(N){var B=N.nonAffineTransform.v;e=[];for(var $=0;$<4;$++)e.push(B[$*2].v,B[$*2+1].v);if(I)this.oL("edit",J);
var j=k.O5(x);V=j.buffer;u=j.rect}this.EG={buffer:V.slice(0),rect:u.clone(),auJ:e};if(I)F=n.g6.he(this.EG,this.OE);
this.rA=F;this.Ou=n.g6.iS(this.rA,this.OE);this.O1();this.Bv(x);if(I)this.A1(J);var T=new ko(L.E.N,!0);
T.data={d:L.H.dC,v:this.id,KJ:this.OE};J.c(T);T.data={d:L.H.TG,i2:"default"};J.c(T)};n.g6.prototype.disable=function(x,J,o,c){if(this.Ou)this.Z4(x,J,!0)};
n.g6.prototype.O1=function(x){var J=this.Ou;this.nI=[];for(var $=0;$<J.length;$++){var o=J[$];for(var c=0;
c<o.g.length;c++)this.nI.push([$,o.g[$]]);o.Nk=q.bq.axW(o);if(x)q.bq.aj7(o)}};n.g6.prototype.kT=function(x,J,o,c){if(x.Pk=="commit")this.Z4(o,J,!0);
else if(x.Pk=="cancel")this.NV(o,J,!0);else if(x.Pk=="prm"){var E=!1;for(var $=0;$<3;$++)if(this.OE[$]!=x.KJ[$])E=!0;
this.OE=x.KJ;if(E){this.rA=n.g6.he(this.EG,this.OE,this.rA);this.Ou=n.g6.iS(this.rA,this.OE);this.O1(!0);
this.A1(J)}this.Bv(o)}else if(x.Pk=="moveDepth"){var b=this.Ou;for(var l=0;l<b.length;l++){var i=b[l];
for(var $=0;$<i.g.length;$++){var F=i.g[$];i.HW[F]+=x.acW?1:-1}}this.A1(J)}};n.g6.prototype.f3=function(x,J){return x==dG.OT||x==dG.BK};
n.g6.prototype.B3=function(x,J,o,c){var E=c.DC();if(c.S(dG.eP))this.Z4(x,J,!0);else if(c.S(dG.Fh))this.NV(x,J,!0);
else if(c.S(dG.OT)||c.S(dG.BK)){var b=this.Ou;for(var l=0;l<b.length;l++){var i=b[l];i.g.sort(function(U,I){return I-U});
for(var $=0;$<i.g.length;$++){var F=i.g[$],k=F*2;i.HW.splice(F,1);i.pG.splice(F,1);i.VZ.splice(F,1);
i.gv.splice(F,1);i.QR.splice(k,2);i.JY.splice(k,2)}i.g=[];if(i.gv.length==0){i.sk=i.Ur.slice(0);i.gU=i.Ur.slice(0)}}this.O1(!0);
this.A1(J);this.Bv(x)}else if(E.x!=0||E.y!=0){this.a32(x,E.x,E.y,J);this.E7=null}};n.g6.prototype.Z4=function(x,J,o){this.oL("confirm",J);
this.escape(x,J,o)};n.g6.prototype.NV=function(x,J,o){this.oL("cancel",J);this.escape(x,J,o)};n.g6.prototype.escape=function(x,J,o){x.t.XV=null;
x.t.UD=[];x.t.X5=[];x.sD=!0;this.Ou=null;var c=new ko(L.E.N,!0);c.data={d:L.H.HA};if(o)J.c(c)};n.g6.prototype.JC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y),l=b.x,i=b.y,F=this.Ou,k=null,U=[0,2,4,1.2,1.2,1.2],I=-1,V=n.YU(x,E);
for(var $=0;$<F.length;$++){var u=F[$],N=q.O.K5(u.JY,l,i,V);if(N!=-1)k=[$,N];if(I==-1&&q.bq.a0A.aCB(u.gU,u.qz,l,i))I=$}if(k==null&&I!=-1){var u=F[I];
n.g6.arS(u,l,i,l,i,0);k=[I,u.gv.length-1];u.Nk=q.bq.axW(u)}this.so=b;if(k){var e=F[k[0]].g.indexOf(k[1])!=-1;
if(c.S(dG.uJ)&&!e){F[k[0]].g.push(k[1]);this.nI.push(k)}else if(!e){F[k[0]].g=[k[1]];this.nI=[k]}}this.Bv(x)};
n.g6.arS=function(x,J,o,c,E,b){var l=q.O.K5(x.gU,J,o);x.gv.push(l);x.JY.push(c,E);x.QR.push(x.gU[l*2]-J,x.gU[l*2+1]-o);
x.VZ.push(0);x.pG.push(!1);x.HW.push(b)};n.g6.prototype.OC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y),l=this.so;
if(l)this.a32(x,b.x-l.x,b.y-l.y,J)};n.g6.prototype.a32=function(x,J,o,c){var E={},b=this.nI,l=this.Ou;
if(this.E7==null){this.E7=[];for(var $=0;$<l.length;$++)this.E7.push(l[$].JY.slice(0))}for(var $=0;$<b.length;
$++){var i=this.nI[$],F=i[0],k=l[i[0]],U=i[1]*2;k.JY[U+0]=this.E7[F][U+0]+J;k.JY[U+1]=this.E7[F][U+1]+o;
E[F]=F}for(var F in E)q.bq.aj7(this.Ou[E[F]]);this.Bv(x);this.A1(c)};n.g6.prototype.oL=function(x,J){var o=new ko(L.E.f,!0);
o.v=n.CP;o.data={d:x,rS:this.axH,xc:this.xc,fz:this.rA};J.c(o)};n.g6.prototype.w7=function(x,J,o,c,E){this.so=null;
this.E7=null};n.g6.prototype.A1=function(x){n.g6.agf(this.Ou,this.OE,this.rA);this.oL("edit",x)};n.g6.prototype.Bv=function(x){var J=this.Ou,o=this.rA;
x.t.XV={j:[],G:[]};x.t.UD=[];x.t.X5=[];for(var $=0;$<J.length;$++){var c=J[$];for(var E=0;E<c.JY.length;
E+=2){var b=x.t.X5;if(c.g.indexOf(E>>>1)!=-1)b=x.t.UD;b.push(c.JY[E],c.JY[E+1])}if(this.OE[3])q.O.concat(x.t.XV,q.O.aiG(c.gU,c.qz))}x.sD=!0};
n.g6.he=function(x,J,o){var c=x.buffer,E=x.rect,b=x.auJ,l=fn.Bt("rigidTransform");if(b)for(var $=0;$<4;
$++){l["PuX"+$].v=b[$*2];l["PuY"+$].v=b[$*2+1]}var i=l.puppetShapeList.v,F=q.bq.ab3(c,E.m,E.e,J[1],J[2]),k=[];
for(var U=0;U<F.length;U++){var I={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
I.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var V=F[U];i.push({t:"Objc",v:I});var u=V.Ur.slice(0);q.O.M(u,new cW(1,0,0,1,E.x,E.y),u);var N=V.qz;
for(var $=0;$<N.length;$+=3){var e=N[$+1];N[$+1]=N[$+2];N[$+2]=e}k.push({qz:N,Ur:u,sk:u,gU:u,gv:[],QR:[],JY:[],Nk:null,g:[],VZ:[],pG:[],HW:[]})}if(o){var B=n.g6.iS(o,[]),j=k[0];
for(var $=0;$<B.length;$++){var T=B[$];for(var a=0;a<T.g.length;a++)j.g.push((j.JY.length>>>1)+T.g[a]);
for(var a=0;a<T.gv.length;a++){var P=T.gv[a]*2,v=T.Ur[P]-T.QR[a*2],R=T.Ur[P+1]-T.QR[a*2+1];n.g6.arS(j,v,R,T.JY[a*2],T.JY[a*2+1],T.HW[a])}}}n.g6.agf(k,J,l);
return l};n.g6.iS=function(x,J){var o=n.Y.AX,c=x.puppetShapeList.v,E=[];for(var b=0;b<c.length;b++){var l=c[b].v;
J[0]=l.meshRigidity.v-1;J[1]=l.meshQuality.v-1;J[2]=l.meshExpansion.v;var i=l.pinVertexIndices.v.length,F=l.meshBoundaryPath.v.pathComponents.v;
if(F.length!=0){var k=F[0].v.SbpL.v[0].v.Pts;k.v=[]}var U=new Uint32Array(new Uint8Array(l.indexArray.v).buffer),I=new Float32Array(new Uint8Array(l.originalVertexArray.v).buffer),V=new Float32Array(new Uint8Array(l.deformedVertexArray.v).buffer),u=[],N=[],e=[];
for(var $=0;$<U.length;$++)u.push(U[$]);for(var $=0;$<I.length;$++){N.push(I[$]);e.push(V[$])}var B=o(l.pinVertexIndices),j=o(l.pinOffsets),T=o(l.posFinalPins),a=o(l.PnRt),P=o(l.PnOv),v=o(l.PnDp),R=o(l.selectedPin);
E.push({qz:u,Ur:N,sk:e.slice(0),gU:e,gv:B,QR:j,JY:T,Nk:null,VZ:a,pG:P,HW:v,g:R})}return E};n.g6.agf=function(x,J,o){function c(V,u){var N=[];
for(var $=0;$<V.length;$++)N.push({t:u,v:V[$]});return N}function E(V,u,N){var e=new(N?Uint32Array:Float32Array)(V),B=new Uint8Array(e.buffer);
for(var $=0;$<B.length;$++)u[$]=B[$]}var b=o.puppetShapeList.v;for(var l=0;l<b.length;l++){var i=x[l],F=b[l].v;
F.meshRigidity.v=J[0]+1;F.meshQuality.v=J[1]+1;F.meshExpansion.v=J[2];E(i.qz,F.indexArray.v,!0);E(i.Ur,F.originalVertexArray.v);
E(i.gU,F.deformedVertexArray.v);var k=[];for(var $=0;$<i.gv.length;$++){var U=i.gv[$]*2,I=$*2;k[I]=i.Ur[U]-i.QR[I];
k[I+1]=i.Ur[U+1]-i.QR[I+1]}F.PinP.v=c(k,"doub");F.pinVertexIndices.v=c(i.gv,"long");F.pinOffsets.v=c(i.QR,"doub");
F.posFinalPins.v=c(i.JY,"doub");F.PnRt.v=c(i.VZ,"long");F.PnOv.v=c(i.pG,"bool");F.PnDp.v=c(i.HW,"doub");
F.selectedPin.v=c(i.g,"long")}};n.XN=function(x,J,o){n.Kj.call(this,x?x:[10,40],J?J:n.N0,o?o:"tools/slice");
this.VE=null;this.Qf=null;this.JX=null;this.a40=null;this.Rq=null;this.MR=null};n.XN.prototype=new n.Kj;
n.XN.zo=function(x,J){var o=-1;for(var $=0;$<x.length;$++){var c=n.XN.zK(x,$);if(c[0]<=J.x&&J.x<=c[2]&&c[1]<=J.y&&J.y<=c[3]){o=$;
break}}return o};n.XN.prototype.E4=function(x,J,o,c,E){if(o==null)return;this.cQ(o);if(x.d=="fromAction"){var b=x.xV,l=b.bV,i=b.Rx,F=o.yl(),k=o.Eq(),U=k==-1?new ha(0,0,o.m,o.e):o.B[k].uc();
if(l=="divide"){if(o.m8.length!=0){var I=o.m8[0],V=n.XN.zK(o.IL,I);U=new ha(V[0],V[1],V[2]-V[0],V[3]-V[1]);
o.IL.splice(I,1);o.m8=[]}F=[[],[]];for(var u=0;u<2;u++){var N=["Across","Down"][u],e=i["pixels"+N]?0:1,B=i[["pixels","slices"][e]+N];
if(B==null)continue;B=B.v;var j=u==0?U.x:U.y,T=u==0?U.m:U.e;if(e==0)for(var $=1;$*B<T;$++){F[0].push([u,j+$*B]);
F[1].push(k)}else{var a=Math.floor(T/B);for(var $=1;$<B;$++){F[0].push([u,j+$*a]);F[1].push(k)}}}}var P=[U.x,U.x+U.m],v=[U.y,U.y+U.e];
for(var $=0;$<F[0].length;$++){var R=F[0][$],y=Math.round(R[1]),t=F[1][$];if(t!=-1&&t!=k)continue;if(R[0]==0&&P.indexOf(y)==-1)P.push(y);
if(R[0]==1&&v.indexOf(y)==-1)v.push(y)}P.sort(function(A,d){return A-d});v.sort(function(A,d){return A-d});
for(var g=1;g<v.length;g++)for(var H=1;H<P.length;H++){o.IL.push(n.XN.xO());n.XN.OH(o.IL,o.IL.length-1,[P[H-1],v[g-1],P[H],v[g]]);
o.sD=!0}}else if(x.d=="reorder"){if(o.m8.length==0)return;var _=o.IL,Y=o.m8;Y.sort(function(A,d){return A-d});
console.log(Y);var K=_.slice(0),f=[],m=[];for(var $=0;$<Y.length;$++){var I=Y[$],C=_[I];m.push(C);K.splice(K.indexOf(C),1)}var Z=Math.max(0,Math.min(K.length,Y[0]-x.dir));
for(var $=0;$<m.length;$++){K.splice(Z+$,0,m[$]);f.push(Z+$)}o.IL=K;o.m8=f}else if(x.d=="delete"){var _=o.IL.slice(0);
for(var $=0;$<o.m8.length;$++)o.IL.splice(o.IL.indexOf(_[o.m8[$]]),1);o.m8=[]}else if(x.d=="deleteAll"){o.IL=[];
o.m8=[]}else{o.IL[o.m8[0]].v=x;o.sD=!0}this.SE(o)};n.XN.prototype.enable=function(x,J,o,c,E,b){n.Kj.prototype.enable.call(this,x,J,o,c,E,b);
if(!o.Km.IL){var l=new ko(L.E.N,!0);l.data={d:L.H.bS,KJ:h4.dI};J.c(l)}};n.XN.prototype.disable=function(){this.VE=null;
this.Qf=null};n.XN.prototype.KY=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y),l=n.XN.zo(x.IL,b);if(l==-1)return;
this.VE=x;this.Qf=J;x.m8=[l];x.sD=!0;if(this.MR==null){this.MR=new iy([{name:[5,4]},{name:[8,11,1],hV:!0}]);
this.MR.k("select",this.Gm,this)}var i=this.MR;i.parent=J;i._();i.update(x,o);var F=new ko(L.E.N,!0);
F.data={d:L.H.c4,BM:i,x:E.rR+2,y:E.ru+1};J.c(F)};n.XN.prototype.Gm=function(x){var J=this.MR.xi()[0],o=this.VE;
if(J==0){this.cQ(o);o.IL.splice(o.m8[0],1);o.m8=[];o.sD=!0;this.SE(o)}if(J==1){var c=new ko(L.E.N,!0);
c.data={d:L.H.yI,AN:"soptions",b:o.IL[o.m8[0]].v};this.Qf.c(c)}};n.XN.prototype.JC=function(x,J,o,c,E){if(x==null)return;
this.cQ(x);var b=x.Q.Vx(E.x,E.y);b=n.fp.MI(x,b,o,[!0,null,!1]);b.x=Math.round(b.x);b.y=Math.round(b.y);
this.Rq=b;x.IL.unshift(n.XN.xO());x.m8=[0];n.XN.OH(x.IL,0,[b.x,b.y,b.x+20,b.y+20]);x.sD=!0};n.XN.prototype.OC=function(x,J,o,c,E){if(this.JX==null)return;
var b=x.Q.Vx(E.x,E.y),l=this.Rq;b=n.fp.MI(x,b,o,[!0,null,!1]);b.x=Math.round(b.x);b.y=Math.round(b.y);
var i=[l.x,l.y,b.x,b.y];n.XN.aox(i);n.XN.OH(x.IL,0,i);x.sD=!0};n.XN.prototype.w7=function(x,J,o,c,E){this.SE(x);
this.Rq=null};n.XN.prototype.cQ=function(x){this.JX=JSON.stringify(x.IL);this.a40=JSON.stringify(x.m8)};
n.XN.prototype.SE=function(x){var J=JSON.stringify(x.IL);if(J!=this.JX){var o=new bk(this.name,this);
o.data={LF:this.JX,Oz:J,avQ:this.a40,a7R:JSON.stringify(x.m8)};x.VR(o)}this.JX=null};n.XN.prototype.WY=function(x,J){J.IL=JSON.parse(x.LF);
J.m8=JSON.parse(x.avQ);J.sD=!0};n.XN.prototype.Tu=function(x,J){J.IL=JSON.parse(x.Oz);J.m8=JSON.parse(x.a7R);
J.sD=!0};n.XN.prototype.f3=function(x,J){return J!=null&&J.m8.length!=0&&(x==dG.OT||x==dG.BK)};n.XN.prototype.B3=function(x,J,o,c){if(x==null)return;
if(c.S(dG.OT)||c.S(dG.BK))this.E4({d:"delete"},J,x,c,o);var E=c.DC();if(E.x!=0||E.y!=0){this.cQ(x);n.XN.vj(x,E);
this.SE(x)}};n.XN.prototype.kT=function(x,J,o,c,E){};n.XN.akg=function(x,J,o,c){var E=new ck(-J.x,-J.y),b=J.m/o.m,l=J.e/o.e,i=[0,0,J.m,J.e];
for(var $=0;$<x.length;$++){var F=n.XN.zK(x,$);if(c){F[0]=Math.round(F[0]*b);F[1]=Math.round(F[1]*l);
F[2]=Math.round(F[2]*b);F[3]=Math.round(F[3]*l)}else{n.XN.aG(F,E);n.XN.am8(F,i)}if(F[0]>=F[2]||F[1]>=F[3]){x.splice($,1);
$--;continue}n.XN.OH(x,$,F)}};n.XN.vj=function(x,J){var o=x.IL;for(var $=0;$<x.m8.length;$++){var c=n.XN.zK(o,x.m8[$]);
n.XN.aG(c,J);n.XN.OH(o,x.m8[$],c)}};n.XN.am8=function(x,J){if(x[0]<J[0])x[0]=J[0];if(x[1]<J[1])x[1]=J[1];
if(J[2]<x[2])x[2]=J[2];if(J[3]<x[3])x[3]=J[3]};n.XN.aG=function(x,J){x[0]=Math.round(x[0]+J.x);x[2]=Math.round(x[2]+J.x);
x[1]=Math.round(x[1]+J.y);x[3]=Math.round(x[3]+J.y)};n.XN.OH=function(x,$,J){var o=x[$].v.bounds.v;o.Left.v=J[0];
o.Top.v=J[1];o.Rght.v=J[2];o.Btom.v=J[3]};n.XN.zK=function(x,$){var J=x[$].v.bounds.v;return[J.Left.v,J.Top.v,J.Rght.v,J.Btom.v,$]};
n.XN.aox=function(x){if(x[2]<x[0]){var J=x[0];x[0]=x[2];x[2]=J}if(x[2]==x[0])x[2]++;if(x[3]<x[1]){var J=x[1];
x[1]=x[3];x[3]=J}if(x[3]==x[1])x[3]++};n.XN.Cg=function(x,J){var o=1e9,c=-1e9,E=1e9,b=-1e9;for(var $=0;
$<J.length;$++){var l=n.XN.zK(x,J[$]);o=Math.min(o,l[0]);E=Math.min(E,l[1]);c=Math.max(c,l[2]);b=Math.max(b,l[3])}return[o,E,c,b]};
n.XN.xO=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
n.p8=function(){n.XN.call(this,[10,41],n.sK,"tools/sselect");this.Rq=null;this.ES=null;this.AS=null;
this.HQ=null;this.XG=!1};n.p8.prototype=new n.XN;n.p8.prototype.JC=function(x,J,o,c,E){if(x==null)return;
var b=x.Q.Vx(E.x,E.y),l=n.p8.aCi(b,4/x.Q.Z,x.IL,x.m8);l.pop();if(l.length!=0){this.Rq=b;this.AS=l;this.cQ(x);
return}var i=x.IL,F=n.XN.zo(i,b);if(F==-1)x.m8=[];else{var k=x.m8.indexOf(F);if(c.S(dG.uJ)){if(k==-1)x.m8.push(F);
else x.m8.splice(k,1)}else{x.m8.sort(function(e,B){return e-B});if(k==-1)x.m8=[F];this.Rq=b;this.cQ(x);
this.ES=n.XN.Cg(i,x.m8);this.HQ=[];for(var $=0;$<x.m8.length;$++)this.HQ.push(n.XN.zK(i,x.m8[$]));if(c.S(dG.Zj)){var U=i.slice(0),I=x.m8,V=[];
for(var $=0;$<I.length;$++){var F=I[$],u=U[F],N=i.indexOf(u);V.push(N);i.splice(N,0,JSON.parse(JSON.stringify(u)))}x.m8=V}}}x.sD=!0};
n.p8.prototype.OC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y);if(this.Rq==null){var l=n.p8.aCi(b,4/x.Q.Z,x.IL,x.m8),i=l.pop(),F=l.length==0?"default":["ew","nwse","ns","nesw"][i]+"-resize",k=new ko(L.E.N,!0);
k.data={d:L.H.TG,i2:F};J.c(k);return}if(!this.XG&&b.U5(this.Rq))return;this.XG=!0;var U=x.IL,l=this.AS;
if(l){b=n.fp.MI(x,b,o,[!0,null,!1]);var V=Math.round(b.x),u=Math.round(b.y);for(var $=0;$<l.length;$+=2){var N=n.XN.zK(U,l[$]),e=l[$+1];
N[e]=(e&1)==0?V:u;n.XN.aox(N);n.XN.OH(U,l[$],N)}}else{var B=b._u(this.Rq),j=this.ES.slice(0);n.XN.aG(j,B);
var T=new ha(j[0],j[1],j[2]-j[0],j[3]-j[1]),a=n.fp.Fj(x,T,o,[!0,null,!1],!0);n.fp.VT(x,T,a);B.x+=a[0];
B.y+=a[1];for(var $=0;$<x.m8.length;$++)n.XN.OH(U,x.m8[$],this.HQ[$]);n.XN.vj(x,B)}x.sD=!0};n.p8.prototype.w7=function(x,J,o,c,E){if(this.Rq==null)return;
this.SE(x);x.t.Ap=null;x.sD=!0;this.Rq=null;this.AS=null;this.HQ=null;this.XG=!1};n.p8.aCi=function(x,J,o,c){var E=x.x,b=x.y,l=[],i=-1,F=[];
for(var $=0;$<c.length;$++){var k=c[$],U=n.XN.zK(o,k),I=U[0],V=U[1],u=U[2],N=U[3];if(E<I-J||u+J<E||b<V-J||N+J<b)continue;
var e=[E<I+J,b<V+J,u-J<E,N-J<b],B=-1;for(var j=0;j<4;j++){if(e[j]&&e[j+1&3])B=1+2*(j&1);if(e[j])l.push(k,j)}if(B==-1){if(e[0]||e[2])B=0;
if(e[1]||e[3])B=2}if(B!=-1){i=B;F.push(k)}}var T=l.length;for(var $=0;$<T;$+=2){var k=l[$],a=l[$+1],P=n.XN.zK(o,k)[a];
for(var j=0;j<c.length;j++){var v=c[j];if(F.indexOf(v)!=-1)continue;var U=n.XN.zK(o,v);if(U[a&1]==P)l.push(v,a&1);
if(U[2+(a&1)]==P)l.push(v,2+(a&1))}}l.push(i);return l};n.Q3=function(){n.vh.call(this,[10,44],n.aes,"tools/oselect");
this.fd="crosshair";this.aiZ=0};n.Q3.prototype=new n.vh;n.Q3.prototype.eN=function(x,J,o,c){if(Math.random()<1/(1+this.aiZ)){alert("The cross should be fully inside the object.",3500);
this.aiZ++}};n.Q3.prototype.FB=function(x,J,o,c){n.Ph.XI(x,n.vh.Ul,this.Qf);if(!c.sz||!this.lv)return;
var E=this.mZ(x,o,!1),b=E.m,l=E.e,i=E.x,F=E.y,k=E.x+b,U=E.y+l,I=i+b/2,V=F+l/2,u=n.Q3.azm;x.t.XV={j:[i,F,k,F,k,U,i,U,I-b*u,V,I+b*u,V,I,V-l*u,I,V+l*u],G:"M L L L Z M L M L".split(" ")};
x.sD=!0};n.Q3.azm=.12;n.Q3.prototype.cK=function(x,J,o,c){x.t.XV=null;x.sD=!0;this.finish(x,J,o,c)};
n.Q3.prototype.getSelection=function(x,J,o,c){if(this.nM.U5(this.uE)||!this.lv)return null;var E=this.mZ(x,o,!1),b=x.B[x.g[0]];
if(E.Kx()||!E.$G(b.rect))return null;return n.vh.ai("ObSl",E)};n.Ph=function(){n.mv.call(this,[10,37],n.x9,"tools/qselect");
this.WF="qselect"};n.Ph.prototype=new n.mv;n.Ph.prototype.JC=function(x,J,o,c,E){n.Ph.XI(x,n.vh.Ul,J,!0);
this.VH(x,o,c,E,1);if(this.LP==null)return;this.u5(x)};n.Ph.prototype.OC=function(x,J,o,c,E){this.FV(x,J,o);
n.Ph.XI(x,n.vh.Ul,J);if(this.wW)this.Zv(x,o,E);if(this.LP==null)return;if(!E.sz)return;var b=this.NS(x,o,c,E);
if(b!=1)this.u5(x)};n.Ph.XI=function(x,J,o,c){if(x&&J.key!=n.Ph.Vj(x)){J.key=n.Ph.Vj(x);var E=x.B[x.g[0]].rect.P(),l="Image Analysis ...";
if(E==0)return;var b=E>1e6&&c!=!0,i=new ko(L.E.N,!0);i.data={d:L.H.oa,mC:l};if(b)o.c(i);var F=function(){var k=n.Ph.arF(x);
for(var U in k)J[U]=k[U];var i=new ko(L.E.N,!0);i.data={d:L.H.Ew,mC:l};if(b)o.c(i)};if(c)F();else setTimeout(F,30)}};
n.Ph.Vj=function(x){var J=x.g[0],o=x.B[J],c=o.rect,E=c.m,b=c.e,l=E*b,i=o.buffer;return[J,c.x,c.y,E,b,i[0],i[1],i[2],i[3]].join(",")};
n.Ph.arF=function(x){var J=x.g[0],o=x.B[J],c=o.rect,E=c.m,b=c.e,l=E*b,i=o.buffer,F=Date.now(),k=q.R(l);
k.fill(128);var U=q.lY.HL(i,E,b);console.log(Date.now()-F);var I={key:n.Ph.Vj(x),a_:i,rect:c.clone(),Qh:E,ao:b,xe:12,nt:k,YS:U,u:q.R(l),d_:null,Qt:null,iT:null};
n.Ph.AO(I,null,x);return I};n.Ph.AO=function(x,J,o){var c=x.Qh,E=x.ao,b=0,l=0,i=Date.now(),F=x.d_!=null&&q.lY.Q0(x.d_.qz,x.d_.Pv,x.nt)==-1;
b=Date.now()-i;i=Date.now();if(!F){var k=q.lY.Q0(x.YS.qz,x.YS.Pv,x.nt),U=0;while(k!=-1){var I=[],V=[],u=x.YS.qz;
for(var N=0;N<E;N++)for(var e=0;e<c;e++){var $=N*c+e;if(u[$]==k){var B=x.nt[$];if(B==0)I.push(e,N);if(B==255)V.push(e,N)}}var j=o.B[o.g[0]],T=j.buffer;
q.lY.HL.cl(T,c,E,x.YS,I,V);k=q.lY.Q0(x.YS.qz,x.YS.Pv,x.nt);U++;if(U>=10){console.log("too many subdivisions");
break}}x.d_=q.lY.vU(x.YS,c,E,x.nt,x.xe);x.Qt=q.lY.azU(x.a_,c,E,x.d_.qz,x.d_.Pv);x.iT=[x.Qt[0].slice(0),[]];
l=Date.now()-i;i=Date.now()}var i=Date.now();if(J){x.iT[0].set(x.Qt[0]);var a=x.Qt[1],P=x.iT[1];for(var v=0;
v<a.length;v++)P[v]=a[v].slice(0);q.lY.ah6(x.d_.qz,c,E,x.d_.Pv,x.nt,x.u,x.iT)}};n.s8=function(){n.Kj.call(this,[10,50],n.KM,"tools/artb");
this.qH=null;this.YQ=!1;this.Vc=null;this.IP=!1;this.asZ=null;this.og=100;this.uT=null;this.tk=0};n.s8.prototype=new n.Kj;
n.s8.prototype.E4=function(x,J,o,c,E){this.nN(o,x.akY,J,x.ns)};n.s8.afq=function(x,J){var o=x[0],c=0,E=0;
if(o==0)E=-1;else if(o==1)c=1;else if(o==2)E=1;else c=-1;return[20/J.Fo,x[1]+c*60/J.Fo,x[2]+E*60/J.Fo]};
n.s8.prototype.kT=function(x,J,o,c,E){this.qH=x.KJ;this.tk=Date.now()};n.s8.prototype.XX=function(x,J,o,c){if(o.QJ!=this.id)return;
if(x==null||x.g.length!=1){this.Gd(x);return}var E=x.g[0],b=x.B[E],l=b.add.artb;if(l==null){this.Gd(x);
return}if(this.IP)return;if(Date.now()-this.tk>50){this.qH={};var i=["artboardBackgroundType","Clr"];
for(var $=0;$<i.length;$++)if(l[i[$]])this.qH[i[$]]=JSON.parse(JSON.stringify(l[i[$]]));var F=new ko(L.E.N,!0);
F.data={d:L.H.dC,v:this.id,Ek:this.qH};J.c(F)}var k=b.uc(),U=q.O.ny(k).j,V=this.Vc=new cK(U,!0,!1,!1,!0,!1,3,!1);
V.XT(x,o,!1);var u={j:[1,0],G:["M"]};for(var $=1;$<30;$++){var N=Math.PI*2*$/30;u.j.push(Math.cos(N),Math.sin(N));
u.G.push("L")}u.G.push("Z","M","L","M","L");u.j.push(-.5,0,.5,0,0,-.5,0,.5);var e=k.x+k.m/2,B=k.y+k.e/2,j=this.og*1.1,T=this.asZ=[e,k.y,k.x+k.m,B,e,k.y+k.e,k.x,B],a=[0,-j,j,0,0,j,-j,0],P=x.root.children;
x.t.wp=[];for(var $=0;$<4;$++){var v=new ck(T[$*2]+a[$*2],T[$*2+1]+a[$*2+1]),R=!1;for(var y=0;y<P.length;
y++){var b=P[y].a;if(b.add.artb==null)continue;var k=b.uc();if(k.GT(v))R=!0}if(R){T[$*2]=1e9;continue}x.t.wp.push([$,T[$*2],T[$*2+1]])}};
n.s8.prototype.disable=function(x,J,o,c,E){this.Gd(x)};n.s8.prototype.Gd=function(x){if(this.Vc){this.Vc.clear(x);
this.Vc=null;x.t.wp=null}};n.s8.prototype.JC=function(x,J,o,c,E){this.tk=Date.now();var b=x.Q.Vx(E.x,E.y),l=this.Vc;
if(l){var i=new ko(L.E.f),F=l.aCS(null,b,x,E);if(F<9){this.IP=l.JC(x,o,c,b,null,!0,E);return}else if(l.T4(b)){i.v=n.ug;
i.data={d:"disabAuto"};J.c(i);var k=new ko(L.E.N);k.data={d:L.H.zq,v:n.ug,aue:!0};J.c(k);return}else{var U=-1,V=x.t.wp;
for(var $=0;$<V.length;$++){var u=n.s8.afq(V[$],x.Q);if(ck.q6(b,new ck(u[1],u[2]))<u[0])U=V[$][0]}if(U!=-1){var N=x.B[x.g[0]].uc(),e=N.clone(),B=(U==0||U==2?N.e:N.m)+this.og;
if(U==0||U==3)B=-B;if(U==0||U==2)N.y+=B;else N.x+=B;if(c.S(dG.Zj)){var j=new ha(0,0,x.m,x.e);i.v=n.uH;
i.data={d:h.gc};J.c(i);n.fp.jW(x,x.kw(null,x.g[0],null,!0),null,N.x-e.x,N.y-e.y);x.g=x.g.slice(x.g.length-1);
var T=n.Pm.WN(x);if(T){var a=x.Xz();a.data.nW=j;a.data.SP=T;a.data.Ff=x.g}}else this.nN(x,N,J);return}}}this.uT=n.fp.MI(x,b,o)};
n.s8.prototype.nN=function(x,J,o,c){if(c==null)c=0;var E=x.B.slice(0),b=[x.B.length+1],l=x._I();l.Yq(h9.get([1,16,0])+" "+(x.add.artd==null?1:x.root.children.length+1));
l.add.lsct=es.tI;l.dZ(J);if(this.qH){var i=l.add.artb,F=this.qH;for(var k in F)i[k]=F[k]}l.n5="pass";
l.Il=24;if(c==0){if(x.add.artd||J.Kc(new ha(0,0,x.m,x.e)).Kx())E.push(x.Tv());else E.unshift(x.Tv())}else{var U=x.kw();
U.sort(function(e,B){return e-B});var I=n.Y8.Tb(x,U,E.length-1,!1,null,!1),V=I.pop(),u=I.pop();E=I.pop();
E.splice(x.B.length-U.length,0,x.Tv())}E.push(l);var N=new ko(L.E.f);N.v=n.uH;N.data={d:h.$k,Ay:E,g9:b,wd:[1,16,2]};
o.c(N)};n.s8.prototype.OC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y),l=this.Vc,i=this.uT;if(l){if(this.IP){l.OC(x,o,c,b)}else{var F=l.YI(b,x.Q.Z,null,E);
if(F==null)F="default";var k=new ko(L.E.N,!0);k.data={d:L.H.TG,i2:F};J.c(k)}}if(i){var U=this.zK(x,b,c,o);
x.t.XV=q.O.ny(U);x.sD=!0;n.Kj.bg(E,U,x,o)}};n.s8.prototype.w7=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y),l=this.uT;
if(this.IP){this.Vc.w7(x,o,c,b);this.IP=!1;var i=q.O.ql(this.Vc.ER()),F=h.yk(i),k=x.B[x.g[0]],U=JSON.parse(JSON.stringify(k.add.artb));
U.artboardRect.v=F;var I=new ko(L.E.f,!0);I.v=n.uH;I.data={d:h.Ru,Ls:U};J.c(I)}if(l){var V=this.zK(x,b,c,o);
if(V.P()>20)this.nN(x,V,J);x.t.XV=null;x.sD=!0;this.uT=null;x.t.MJ=[]}};n.s8.prototype.zK=function(x,J,o,c){var E=this.uT,b=n.fp.MI(x,J,c),l=n.Au.Wt(E,b,o,!0);
E=l[0];b=l[1];return q.O.ql([E.x,E.y,b.x,b.y])};function cK(x,J,o,c,E,b,l,i){this.oP=null;this.wD=x?x.slice(0):null;
this.Z3=1;this.tj=4;this.uE=null;this.L7=null;this.Tc=null;this.wg=-1;this.nq=null;this.a43=!1;this.adN=[];
for(var $=0;$<8;$++)this.adN.push(hR.a9n(0,PIMG.rotate,-.5,-.5,-45-$*45));this.a8W=J;this.alE=o;this.a2B=c;
this.a8B=E;this.adO=b;this.ns=l;this.a01=i==null?1:i}cK.prototype.acr=function(){return this.wg!=-1};
cK.prototype.ER=function(){return this.wD.slice(0)};cK.prototype.Dz=function(x){this.wD=x};cK.prototype.a5y=function(){return this.Vt(this.wD)};
cK.prototype.anF=function(){return this.tj};cK.prototype.ah_=function(x){this.tj=x};cK.prototype.ge=function(x){if(x==null)x=this.wD;
if(this.tj==9)return this.uE;else return this.Vt(x)[this.tj]};cK.prototype.aup=function(x){if(this.tj==9)this.uE=x.clone();
else{var J=this.ge(),o=new cW(1,0,0,1,x.x-J.x,x.y-J.y);q.O.M(this.wD,o,this.wD)}};cK.prototype.RT=function(x){this.Z3=x};
cK.prototype.YI=function(x,J,o,c,E){var b=this.Y2(null,x,J,c),l;if(b==9)return"default";if(b==10){if(o)return null;
return!this.a8W?"move":null}if(b==-1||b==4)return null;if(b==11){var i=this.ge()._u(x);if(E==null)E=Math.atan2(i.y,i.x);
l=90-E*180/Math.PI;var F=Math.round(8*(l/360));F=(F+8)%8;return this.adN[F]}else{var k=this.tF(x,this.wD);
l=[135,90,45,180,0,0,225,270,315][b]*Math.PI/180;var U=q.D.LH(this.wD);return cK.a6I(U[0],U[3],l)}};
cK.a6I=function(x,J,o){var c=Math.atan2(-J,x);if(o)c+=o;var E="ew nesw ns nwse ew nesw ns nwse".split(" "),b=Math.round(8*(c/(2*Math.PI)));
b=(b+8)%8;return E[b]+"-resize"};cK.prototype.tF=function(x,J){var o=q.D.Mr(q.D.LH(J)),c=new Float64Array(2);
q.D.vH(x.x,x.y,o,c);return new ck(c[0],c[1])};cK.prototype.T4=function(x){var J=this.tF(x,this.wD);return 0<=J.x&&J.x<=1&&0<=J.y&&J.y<=1};
cK.prototype.JC=function(x,J,o,c,E,b,l,i){this.a43=b;this.nq=c;var F=x.Q.Z,k;if(this.wD==null)c=n.fp.MI(x,c,J);
this.Tc=c.clone();if(this.wD==null){if(i==null)i=0;var U=new cW;U.rotate(i);var I=U.iI(new ck(1,1));
this.Tc.offset(I.x,I.y);var V=E==null?1:1/E,u=this.wD=[0,0,1,0,1,V,0,V];U.translate(c.x,c.y);q.O.M(this.wD,U,this.wD);
k=8}else{k=this.Y2(o,c,F,l);if(0<=k&&k<=8)this.Tc=this.Vt(this.wD)[k];if(k==9){this.tj=9;this.uE=c.clone()}}this.oP=this.wD.slice(0);
this.wg=k;this.XT(x,J);this.L7=this.ge();return k!=-1};cK.prototype.aCS=function(x,J,o,c){return this.Y2(x,J,o.Q.Z,c)};
cK.prototype.Y2=function(x,J,o,c){var E=-1,b=this.Vt(),l=[0,2,6,8,1,3,5,7],i=c?n.YU({Q:{Z:o}},c):8*n.IJ()/o,F=ck.q6(b[0],b[2]),k=ck.q6(b[0],b[6]),U=this.tF(J,this.wD);
U.x*=F;U.y*=k;var I=new ha(0,0,F,k);I.wI(i,i);if(E==-1)if(ck.q6(this.ge(),J)<i)E=9;if(E==-1)for(var $=0;
$<l.length;$++)if(ck.q6(b[l[$]],J)<i)E=l[$];if(E==-1&&I.GT(U)){if(Math.abs(U.y-0)<i)E=1;if(Math.abs(U.x-0)<i)E=3;
if(Math.abs(U.y-k)<i)E=7;if(Math.abs(U.x-F)<i)E=5}if(E==-1&&x&&x.S(dG.Zj))E=9;if(E==-1||this.ns==4){if(this.T4(J)){if(this.a8W)E=10}else{var V=[3,.85][b5];
I.wI(V*i,V*i);E=I.GT(U)&&this.ns!=3?11:10}}return E};cK.prototype.OC=function(x,J,o,c,E){if(this.wg==-1)return;
this.nq=c;var b=o&&o.S(dG.uJ),l=o&&o.S(dG.Zj),i=o&&o.S(dG._k),F=x.Q.Z,k=this.Tc,U=this.wg,I=this.Vt(),V=n.fp.MI(x,k,J),u=n.fp.MI(x,c,J),N,e;
if(U==9){var I=this.Vt(),B=-1;for(var $=0;$<I.length;$++)if(ck.q6(I[$],u)*F<10)B=$;this.tj=B==-1?9:B;
this.uE=b?n.yT.GK(V,u):u.clone()}else if(U==10){e=q.O.Cg(this.oP);var j=e.x,T=e.y;e.offset(c.x-k.x,c.y-k.y);
if(this.apv()){e.x=Math.round(e.x);e.y=Math.round(e.y)}N=n.fp.Fj(x,e,J);var a=new cW(1,0,0,1,e.x-j+N[0],e.y-T+N[1]);
q.O.M(this.oP,a,this.wD)}else if(U==11){var P=this.ge(this.oP),v=P._u(c),R=P._u(k),y=Math.atan2(v.y,v.x),t=Math.atan2(R.y,R.x),a=new cW(1,0,0,1,-P.x,-P.y),g=Math.PI/12;
if(b)a.rotate(Math.round((t-y)/g)*g);else a.rotate(t-y);a.translate(P.x,P.y);q.O.M(this.oP,a,this.wD)}else{var H=b,_;
if(E&&!i)H=!H;if(this.adO)H=!0;var Y=this.oP,K=U==0||U==2||U==6||U==8;if(this.ns==1){if(K)b=l=i=!0}else if(this.ns==2&&K&&this.a43!=!0)i=!0;
if(this.ns==3)i=!1;if(this.a2B&&K&&i){var $=[0,0,2,0,0,0,6,0,4,0][U],f=-1,m=u.x,C=u.y;if(b){var Z=$+6&7,A=$+10&7,d=cK.arH(Y[$],Y[$+1],Y[Z],Y[Z+1],u.x,u.y),G=cK.arH(Y[$],Y[$+1],Y[A],Y[A+1],u.x,u.y),r=d[2]<G[2]?d:G;
m=r[0];C=r[1];if(l)f=d[2]<G[2]?Z:A}else if(l)f=$+4&7;_=Y.slice(0);if(f!=-1){var X=Y[f],w=Y[f+1],S=(Y[$]+X)/2,z=(Y[$+1]+w)/2;
_[f]=S-(m-S);_[f+1]=z-(C-z)}_[$]=m;_[$+1]=C}else if(K&&l){var P=this.L7,s=P.x,M=P.y,Q=V.x-s,O=V.y-M,W=1,e9=1;
if(Math.abs(Q)>=1)W=(u.x-s)/Q;if(Math.abs(O)>=1)e9=(u.y-M)/O;if(H)W=e9=(W+e9)/2;var a=new cW;a.translate(-s,-M);
a.scale(W,e9);a.translate(s,M);_=Y.slice(0);q.O.M(_,a,_)}else{if(this.apv()){u.x=Math.round(u.x);u.y=Math.round(u.y)}var jV=[0,1,2,5,8,7,6,3],co=jV[(jV.indexOf(U)+4)%8],dz=[];
for(var $=0;$<3;$++)for(var f=0;f<3;f++)dz.push(new ck(f/2,$/2));var P=this.L7,eh=this.tF(u,Y),a9=this.tF(k,Y),kB=l&&(this.tj==4||this.tj==9)?this.tF(P,Y):dz[co],dc=new cW,eT=new cW,W=(eh.x-kB.x)/(a9.x-kB.x);
if(W==0)W=1e-4;var e9=(eh.y-kB.y)/(a9.y-kB.y);if(e9==0)e9=1e-4;if(this.a8B){W=Math.max(W,0);e9=Math.max(e9,0)}if(U==0||U==2||U==6||U==8){if(H)dc.scale(W,W);
else dc.scale(W,e9)}if(U==1||U==3||U==5||U==7){var fv=H,jS=i&&b;if(U==1||U==7)dc.scale(fv?e9:1,jS?1:e9);
else dc.scale(jS?1:W,fv?W:1);if(this.alE&&i){if(U==1||U==7)eT.xt=(eh.x-kB.x)/(eh.y-kB.y);else eT.J=(eh.y-kB.y)/(eh.x-kB.x)}}var a=new cW;
a.translate(-kB.x,-kB.y);a.concat(dc);a.concat(eT);a.translate(kB.x,kB.y);_=[0,0,1,0,1,1,0,1];q.O.M(_,a,_);
var r=q.D.LH(Y);q.D.M(r,_)}if(cK.vK(_))this.wD=_}this.XT(x,J);if(N)n.fp.VT(x,e,N)};cK.arH=function(x,J,o,c,E,b){var l=o-x,i=c-J,F=E-x,k=b-J,U=l*l+i*i,I=F*l+k*i,V=I/U,u=x+V*l,N=J+V*i,e=E-u,B=b-N;
return[u,N,Math.sqrt(e*e+B*B)]};cK.prototype.apv=function(){var x=this.wD;return Math.abs(x[1]-x[3])<1e-6&&Math.abs(x[2]-x[4])<1e-6||Math.abs(x[0]-x[2])<1e-6&&Math.abs(x[3]-x[5])<1e-6};
cK.vK=function(x){return q.O.ae9(x)||q.O.ae9([x[6],x[7],x[4],x[5],x[2],x[3],x[0],x[1]])};cK.prototype.w7=function(x,J,o,c){this.wg=-1;
this.nq=null;x.t.Ap=null;x.t.MJ=[];x.sD=!0};cK.prototype.B3=function(x,J,o){var c=o.DC(x?x.Q.o7:0);if(c.x||c.y){var E=new cW(1,0,0,1,c.x,c.y);
q.O.M(this.wD,E,this.wD);this.XT(x,J);return!0}return!1};cK.prototype.Vt=function(x){if(x==null)x=this.wD;
var J=x[6]-x[0],o=x[7]-x[1],c=x[4]-x[2],E=x[5]-x[3],b=[x[0],x[1],x[2],x[3],x[0]+J/2,x[1]+o/2,x[2]+c/2,x[3]+E/2,x[6],x[7],x[4],x[5]],l=[];
for(var $=0;$<3;$++){var i=$*4,F=b[i+0],k=b[i+1],U=b[i+2],I=b[i+3];l.push(new ck(F,k));l.push(new ck(F+(U-F)/2,k+(I-k)/2));
l.push(new ck(U,I))}return l};cK.prototype.XT=function(x,J,o){if(x.t==null)return;if(o==null)o=!1;var c=this.Z3,E=this.Vt(),b=E[0],l=E[2],i=E[6],F=E[8],k={G:[],j:[]};
if(c==0)x.t.XV=k;else x.t.ha=k;k.G.push("M","L","L","L","Z");k.j.push(b.x,b.y,l.x,l.y,F.x,F.y,i.x,i.y);
var U=this.a01;if(U>1){x.t.qr=JSON.parse(JSON.stringify(k));var I=l._u(b),V=i._u(b),u=F._u(l),N=F._u(i);
for(var $=1;$<U;$++){k.G.push("M","L","M","L");var e=$/U;k.j.push(b.x+I.x*e,b.y+I.y*e,i.x+N.x*e,i.y+N.y*e);
k.j.push(b.x+V.x*e,b.y+V.y*e,l.x+u.x*e,l.y+u.y*e)}}x.Q.GJ=new ha(0,0,ck.q6(E[0],E[2]),ck.q6(E[0],E[6]));
if(this.wg!=-1&&this.wg<9&&this.nq){var B=x.Q.OY(this.nq.x,this.nq.y);n.Kj.bg(B,x.Q.GJ,x,J)}if(!o){var j=[];
if(c==0)x.t.EY=j;else x.t.Xc=j;for(var $=0;$<E.length;$++)if($!=4)j.push(E[$].x,E[$].y);var T=this.ge();
j.push(T.x,T.y)}x.sD=!0};cK.prototype.clear=function(x){x.Q.GJ=null;x.t.Ap=null;x.t.XV=null;x.t.ha=null;
x.t.qr=null;x.t.EY=[];x.t.Xc=[];x.sD=!0};function iY(x){this.Oq=null;this.wg=-1;this.kq=null;this.a6H=null;
this.Db=null;this.Px=-1;this.apT=null;this.arA(x)}iY.prototype.Ac=function(){return JSON.parse(JSON.stringify(this.Oq))};
iY.prototype.arA=function(x){this.Oq=JSON.parse(JSON.stringify(x))};iY.prototype.afv=function(x){this.Px=x};
iY.prototype.T4=function(x){return!0};iY.prototype.YI=function(x,J,o,c){var E=this.Y2(x,J,c);if(E==-1)return"default";
return"pointer"};iY.prototype.JC=function(x,J,o,c,E,b,l){if(this.Px!=-1)return!0;this.wg=this.Y2(c,x.Q.Z,l);
var i=q.Oq.h7(this.Oq),F=q.bf.GB(i,c),k=0<F[0]&&F[0]<1&&0<F[1]&&F[1]<1;this.kq=k?F:null;this.a6H=JSON.stringify(i);
this.apT=JSON.stringify(this.Oq);this.Db=c;return this.wg!=-1||k};iY.prototype.Y2=function(x,J,o){var c=o?n.YU({Q:{Z:J}},o)*2:20*n.IJ()/J,E=this.Oq,b=iY.ayQ(E),l=-1;
if(b){l=q.O.K5(b,x.x,x.y,c);if(l!=-1)l+=1e6}else{var i=q.Oq.h7(E);l=q.O.K5(i[3],x.x,x.y,c);if(l!=-1&&this.xD(i,l)==null)l=-1}return l};
iY.prototype.OC=function(x,J,o,c){if(this.Px!=-1)return;var E=this.Oq,b=this.wg,l=this.kq,i=JSON.parse(this.a6H),F=i[0],k=i[1],U=i[3];
if(b>=1e6){var I=E.warpStyle.v.warpStyle,V=q.Oq.mZ(E);if(I=="warpCylinder"){this.Oq=E=JSON.parse(this.apT);
var u=n.Y.AX(E.warpValues),N=(u[2]-u[0])/(u[1]-u[3]),e=u[4]*N*V.e,B=u[5]*N*V.e,j=c.x-this.Db.x,T=c.y-this.Db.y;
u[0]=V.x;u[1]=V.y+V.e;u[2]=V.x+V.m;u[3]=V.y;b-=1e6;if(b==0){u[0]+=j;u[1]+=T}if(b==1){u[2]+=j;u[3]+=T}if(b==2){e+=2*T;
B+=2*T}if(b==3){B+=2*T}if(b==4){u[6]=Math.max(0,Math.min(1,u[6]-2*j/V.m))}var a=q.O.Cg(u.slice(0,4)),P=a.m/V.m,v=a.e/V.e;
u[4]=e/a.m;u[5]=B/a.m;E.warpValues=n.Y.AA(u);var R=new cW;R.translate(-V.x,-V.y);R.scale(P,v);R.translate(a.x,a.y);
if(b<4)return R}else{var y=E.warpRotate.v.Ornt,t=y=="Vrtc",g=q.Oq.aBC[I],H=t?-c.x/V.m:-c.y/V.e;H+=g[1];
if(g[1]>.5)H=-H;H/=g[2];var P=V.m/V.e;if(t)P=1/P;if(g[3])H/=P;E.warpValue.v=100*Math.max(-1,Math.min(1,H))}}else if(b!=-1){var _=[b],j=c.x-U[b*2],T=c.y-U[b*2+1];
if(F*k>16){var Y=this.xD(i,b);if(Y[0]==0){var K=Math.floor(b/F),f=b-K*F;if(f>0)_.push(b-1);if(f<F-1)_.push(b+1);
if(K>0)_.push(b-F);if(K<k-1)_.push(b+F)}}for(var $=0;$<_.length;$++){U[_[$]*2]+=j;U[_[$]*2+1]+=T}q.Oq.qt(E,i)}else if(l){q.bf.ahb(i,l[0],l[1],c.x-this.Db.x,c.y-this.Db.y);
q.Oq.qt(E,i)}};iY.prototype.w7=function(x,J,o,c){var E=this.Px;this.kq=null;this.Px=-1;if(E!=-1){var b=q.Oq.h7(this.Oq),l=q.bf.GB(b,c);
if(E==0||E==1)q.bf.split(b,0,l[0]);if(E==0||E==2)q.bf.split(b,1,l[1]);q.Oq.qt(this.Oq,b)}x.sD=!0;return E!=-1};
iY.prototype.B3=function(x,J,o){var c=o.DC();if(c.x||c.y){var E=new cW(1,0,0,1,c.x,c.y);q.O.M(this.wD,E,this.wD);
this.XT(x)}};iY.prototype.xD=function(x,$){var J=x[0],o=x[1],c=this.wg,E=Math.floor(c/J),b=c-E*J,l=c%3,i=c%3,F=l==0&&i==0,E=Math.floor($/J),b=$-E*J,l=b%3,i=E%3;
if(l!=0&&i!=0)return null;if(l==0&&i==0)return[0];else{var k=0;if(i==0)k=l==1?$-1:$+1;if(l==0)k=i==1?$-J:$+J;
if(J*o>16){var U=c==$||c==$+1||c==$-1||c==$+J||c==$-J;if(F&&(U||c==$+2||c==$-2||c==$+2*J||c==$-2*J)){}else if(!F&&U){}else return null}return[1,k]}};
iY.ayQ=function(x,J){var J=x.warpStyle.v.warpStyle,c;if(J=="warpCustom"||J=="warpNone")return null;var o=q.Oq.h7(x);
if(J=="warpCylinder"){var E=x.warpValues.v;c=[0,1,1,0,.5,0,.5,1,.75-.25*E[6].v,.5]}else{var b=x.warpRotate.v.Ornt,l=q.Oq.aBC[J];
c=b=="Hrzn"?[l[0],l[1]]:[l[1],l[0]]}q.bf.M(o,c,new ha(0,0,1,1));return c};iY.prototype.XT=function(x,J){var o=this.Oq,c=o.warpStyle.v.warpStyle,E=q.Oq.h7(o),b=E[0],l=E[1],i=E[3],F=x.t.ha={G:[],j:[]},k=x.t.Xc=[],U=x.t.wR=[],I=this.wg;
if(c=="warpCustom")for(var V=0;V<l;V++)for(var u=0;u<b;u++){var $=V*b+u,N=this.xD(E,$);if(N==null)continue;
var e=i[2*$],B=i[2*$+1],j=U;if(N[0]==0)j=$==I&&b*l>16?U:k;else{var T=N[1];F.G.push("M","L");F.j.push(e,B,i[2*T],i[2*T+1])}j.push(e,B)}else{var a=iY.ayQ(o);
if(a)for(var $=0;$<a.length;$++)k.push(a[$])}for(var V=0;V+1<l;V+=3)for(var u=0;u+1<b;u+=3){F.G.push("M","C","C","C","C");
var $=V*b+u,P=$+b+b,v=[$,$+1,$+2,$+3,$+b+3,P+3,P+b+3,P+b+2,P+b+1,P+b,P,$+b,$];for(var $=0;$<v.length;
$++){var e=i[v[$]*2],B=i[v[$]*2+1];F.j.push(e,B)}}var R=[],y=[];function t(g,u,Y){for(var v=0;v<=Y;v++){y.push(v==0?"M":"L");
if(g==0)R.push(u,v/Y);else R.push(v/Y,u)}}if(J)J=q.bf.GB(E,J);for(var g=0;g<2;g++){var H=E[2][g],_=g==0?b:l,Y=_*5;
for(var K=1;K<_;K++){var f=Math.floor((K-1)/3),m=K-(1+f*3);if(m==0)continue;var u=H[f]+m/3*(H[f+1]-H[f]);
t(g,u,Y)}var C=this.Px;if(J&&C!=-1&&(C==0||C-1==g))t(g,J[g],Y)}q.bf.M(E,R,new ha(0,0,1,1));q.O.concat(F,{j:R,G:y});
x.sD=!0};iY.prototype.clear=function(x){x.t.ha=null;x.t.Xc=[];x.t.wR=[];x.sD=!0};function km(){this.oi=!1;
this.sf=!1;this.aip=!1;this.aAH=!1;this.$J=!1;this.hb=!1;this._y=0;this.xo=0}km.prototype.JC=function(x){this.oi=!0;
this.sf=!1;this.$J=x.S(dG.uJ);this.hb=x.S(dG.Zj);this._y=this.$J?0:1;this.xo=this.hb?0:1};km.prototype.B3=function(x){var J=this.aAH=x.S(dG.uJ),o=this.aip=x.S(dG.Zj);
if(this.sf){if(this._y==0&&!J)this._y++;if(this._y==1&&J)this._y++;if(this.xo==0&&!o)this.xo++;if(this.xo==1&&o)this.xo++}};
km.prototype.OC=function(){this.sf=!0};km.prototype.w7=function(){this.oi=!1};km.prototype.Q9=function($){if($==0)return this.oi?this.hb:this.aip;
if($==1)return this.sf?this.xo==2:!1};km.prototype.QH=function($){if($==0)return this.oi?this.$J:this.aAH;
if($==1)return this.sf?this._y==2:!1};n.History=function(){n.Kj.call(this,"History",n.$y);this.NE=!0;
this.aty=0};n.History.prototype=new n.Kj;n.History.prototype.E4=function(x,J,o,c){o.o0=!0;if(x.d=="h_itemchange"){if(x.index<o.sW)for(var $=o.sW;
$>x.index;$--)this.yF(o);if(x.index>o.sW)for(var $=o.sW;$<x.index;$++)this.nx(o)}if(x.d=="h_stepfwd")this.nx(o);
if(x.d=="h_stepbck")this.yF(o);if(x.d=="h_undoredo"){var E=this.NE||this.aty!=o.sW;if(E){this.yF(o);
E=!1}else{this.nx(o);E=!0}this.NE=E;this.aty=o.sW}if(x.d=="h_clear"){if(x.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
o.history=[new bk([1,0],null)];o.sW=0}else this.NE=!0};n.History.prototype.yF=function(x){if(x.sW==0)return;
var J=x.history[x.sW];J.v.WY(J.data,x);x.sW--};n.History.prototype.nx=function(x){if(x.sW==x.history.length-1)return;
var J=x.history[x.sW+1];J.v.Tu(J.data,x);x.sW++};n.Y8=function(){n.Kj.call(this,"Layers",n.uH);this.Qf=null};
n.Y8.prototype=new n.Kj;n.Y8.prototype.E4=function(x,J,o,c,E){this.Qf=J;var b=x.d,l=x.a!=null?x.a:o.g.length!=0?o.g[0]:o.B.length-1,i=o.B[l];
o.Gf=!0;var F=c.S(dG.Zj),k=c.S(dG.uJ),U=c.S(dG._k);if(b==h.xy&&o.u==null&&(o.g.length>1||!o.$K(!1)))b=h.gc;
if(b==h.QA){var I=new bk([6,33],this),V=i.Zk()?["pass"].concat(iP.f5):iP.f5,u=V[x._Q],N=x.a!=null?[x.a]:o.g,e=JSON.stringify(N),B=[];
for(var $=0;$<N.length;$++)B.push(o.B[N[$]].n5);I.data={d:b,UO:e,cF:B,_Q:u};o.VR(I);this.Tu(I.data,o);
this.track(hi.s2("Md",{t:"enum",v:{BlnM:iP.V0(u)}}))}if(b==h.CE){var I,j=o.Xz(),N=x.a!=null?[x.a]:o.g,e=JSON.stringify(N);
if(j&&j.data&&j.data.d==b&&j.data.UO==e)I=j;else{var T=hi.s2("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(T);var B=[];for(var $=0;$<N.length;$++)B.push(o.B[N[$]].opacity);I=new bk([6,32],this);I.data={d:b,UO:e,cF:B,_Q:x._Q,GM:T.Rx};
o.VR(I)}I.data._Q=x._Q;I.data.GM.T.v.Opct.v.val=Math.round(x._Q*100/255);this.Tu(I.data,o)}if(b==h.a9){if(i.add.iOpa==null)i.add.iOpa=255;
var I,j=o.Xz();if(j&&j.data&&j.data.d==b&&j.data.a==l)I=j;else{I=new bk("Fill Opacity Change",this);
I.data={d:b,a:l,cF:i.add.iOpa,_Q:x._Q};o.VR(I)}I.data._Q=x._Q;this.Tu(I.data,o)}if(b==h.QF){var a=x._Q,P=x.a!=null?[x.a]:o.g.slice(0),v=[],R=[],I;
for(var y=0;y<P.length;y++){var t=o.B[P[y]];if(t.add.lspf==null)t.add.lspf=0;var B=t.add.lspf,u=B;for(var $=0;
$<a[0].length;$++){var g=a[1][$],H=1<<g;if((u&H)==0&&a[0][$])u^=H;else if((u&H)!=0&&!a[0][$])u^=H}v.push(B);
R.push(u)}var j=o.Xz(),N=JSON.stringify(P);if(j&&j.data&&j.data.d==b&&JSON.stringify(j.data.UO)==N){I=j;
I.data._Q=R}else{var I=new bk([6,57,1],this);I.data={d:b,UO:N,cF:v,_Q:R};o.VR(I)}this.Tu(I.data,o)}if(b==h.RI){var _="----",Y=x.P5,u=null;
for(var $=0;$<kj.t8.DS.length;$++)if(i.add[kj.t8.DS[$]])_=kj.t8.DS[$];var K=i.add[_];if(Y=="TySh")u=iv.hK(50,50,E.Mf);
var I=new bk("Layer Type",this);I.data={d:b,a:l,ad4:[_,K],P5:[Y,u]};o.VR(I);this.Tu(I.data,o)}if(b==h.cm){var P=[];
if(F){var f=o.Xz(),m=f?f.data:null;if(f!=null&&f.v==this&&m.d==h.cm&&m.UO.length!=1){var C=new ko(L.E.f);
C.v=n.$y;C.data={d:"h_stepbck"};J.c(C);if(m.a==l)return}var Z=o.root.qX(l),A=Z,d=[x.a];while(A.parent!=o.root){d.push(A.parent.index);
A=A.parent}for(var $=0;$<o.B.length;$++){var G=o.B[$],A=o.root.qX($),r=d.indexOf($)!=-1?!0:G.kR()&&Z.depth<A.depth;
if(r!=G.kR())P.push($)}}else if(x.UO)P=x.UO;else{P.push(l);var X=o.B[l].kR(),T={bV:X?"hide":"show",Rx:{classID:X?"Hd":"Shw",null:{t:"VlLs",v:[hi.X$("Lyr",!0)]}}};
this.track(T)}var I=new bk("Layer visibility",this,!0);I.data={d:b,UO:P,a:l};o.VR(I);this.Tu(I.data,o)}if(b==h.Ve){if(E.QJ==n.KM){var w=new ko(L.E.N);
w.data={d:L.H.zq,v:n.ug};J.c(w)}var S=x.apQ,z=x.nJ,Q,escape=!1,O=!1;if(x.Bu){if(U&&(z==0||z==1||z==2)){var s=0;
if(k)s++;if(F)s+=2;var M=new ko(L.E.f,!0);M.v=n.Ks;M.data={d:"fromlayer",T1:[x.a,z,s]};J.c(M);return}}var T={bV:"select",Rx:{classID:"null",MkVs:{t:"bool",v:!1}}};
o.atA();if(c.S(dG._k)||x.j_==0){var W=o.g.indexOf(l);if(W==-1)o.g.push(l);else if(o.g.length>1){if(x.j_!=0)o.g.splice(W,1)}o.g.sort(function(I,eW){return I-eW});
T.Rx.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};Q=l}else if(k&&!F&&z>0){b=z==1?h.YB:z==2?h.vu:h.Zr;
escape=!0}else if((k||x.j_==1)&&o.g.length>0){var e9=Math.min(l,o.g[0]),jV=Math.max(l,o.g[o.g.length-1]);
o.g=[];for(var $=e9;$<=jV;$++)if(o.B[$].add.lsct!=es.qF)o.g.push($);T.Rx.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
Q=l}else{Q=l;if(l>=o.B.length)return;var G=o.B[l];if(G&&G.Zk()&&x.aCJ)G.add.lsct=es.tI;else if(o.g.length==1&&o.g[0]==l&&Math.max(0,z)==G.tB){O=!0;
o.Gf=!1}if(!O){o.g=[l];o.CQ()}}if(!O){if(Q!=null&&Q<o.B.length){T.Rx.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:o.B[Q].getName()}}]},this.track(T)}if(!escape){console.log("no escape");
if(o.g.length==1){var co=o.g[0];for(var $=0;$<o.B.length;$++){if($==co)continue;var t=o.B[$];t.tB=0;
t.Hn=!1}var i=o.B[co];if(z==2){i.Hn=!i.Hn;o.Np=[]}else if(i){i.tB=z<=0?0:z}}else for(var $=0;$<o.B.length;
$++){var t=o.B[$];t.tB=0;t.Hn=!1}o.vd=null;o.o0=!0}}if(x.Bu&&F){if((z==1||z==3)&&S!=null){var M=new ko(L.E.f,!0);
M.v=n.PE;M.data={d:"mskView",b:S!=0?0:k?1:2};J.c(M)}else{this.E4({d:h.LE,a:x.a},J,o,c,E)}}}if(b==h.YB||b==h.Zr){var dz=b==h.YB,eh=dz?i.Da():i.O5(o).F;
if(eh==null)return;var I=new bk(eh.isEnabled?dz?[6,15]:[6,42]:dz?[6,14]:[6,41],this);I.data={d:b,a:l};
o.VR(I);this.Tu(I.data,o)}if(b==h.vu){var eh=i.add.vmsk;if(eh==null)return;var I=new bk(eh.isEnabled?[6,17]:[6,16],this);
I.data={d:b,a:l};o.VR(I);this.Tu(I.data,o)}if(b==h.asL){var a9=i.add.lsct==es.tI?es.tm:es.tI,A=o.root.qX(o.B.indexOf(i)),eT=!1;
if(c.S(dG._k)){var kB=A.parent;for(var $=0;$<kB.children.length;$++){var dc=kB.children[$].a;if(dc.Zk())dc.add.lsct=a9}}else i.add.lsct=a9;
for(var $=0;$<o.g.length;$++){var fv=o.g[$];if(A.Yx<fv&&fv<A.index)eT=!0}if(eT)o.g=[A.index];o.o0=!0}if(b==h.LE){if(!o.b3(l))return;
var I=new bk(i.$j?[6,19]:[6,18],this);I.data={d:b,a:l};o.VR(I);if(x._Q==null||x._Q!=i.$j)this.Tu(I.data,o)}if(b==h.a3Y){if(i.vX())i.Il-=32;
else i.Il+=32;o.o0=!0}if(b==h.Lf||b==h.xa){var I;if(b==h.Lf)I=new bk(i.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(b==h.xa)I=new bk(i.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);I.data={d:b,a:l};o.VR(I);this.Tu(I.data,o)}if(b==h.U_||b==h.Jz){var co=x.index,I;
if(b==h.U_)I=new bk(i.add.lmfx[bs.x0[co[0]]].v[co[1]].v.enab.v?[6,30,0]:[6,29],this);if(b==h.Jz)I=new bk(i.add.SoLd.filterFX.v.filterFXList.v[co].v.enab.v?[6,44]:[6,43],this);
I.data={d:b,a:l,index:x.index};o.VR(I);this.Tu(I.data,o)}if(b==h.PY){if(x.src==x.NK)return;var jS=o.B[x.src],cx=o.B[x.NK],bX=jS.add.lmfx?JSON.stringify(jS.add.lmfx):"",gi=cx.add.lmfx?JSON.stringify(cx.add.lmfx):"";
if(cx.add.lmfx==null){cx.add.lmfx=JSON.parse(bs.default);for(var $=0;$<bs.order.length;$++)cx.add.lmfx[bs.x0[$]]={t:"VlLs",v:[]}}if(x.pe==null){cx.add.lmfx=JSON.parse(bX);
if(!F)delete jS.add.lmfx}else{var cM=x.pe[0],ea=bs.x0[cM];if(bs.aqt.indexOf(bs.order[cM])==-1)cx.add.lmfx[ea].v=[];
cx.add.lmfx[ea].v.push(jS.add.lmfx[ea].v[x.pe[1]]);if(!F)jS.add.lmfx[ea].v.splice(x.pe[1],1)}var a1=jS.add.lmfx?JSON.stringify(jS.add.lmfx):"",db=cx.add.lmfx?JSON.stringify(cx.add.lmfx):"";
if(!cx.vX())cx.Il+=32;var I=new bk("Move Layer Styles",this);I.data={d:b,mG:x.src,Jx:x.NK,ahU:bX,avW:gi,akp:a1,arm:db};
o.VR(I);this.Tu(I.data,o)}if(b==h.am){if(x.src!=null)l=x.src;var t=o.B[l],d2=JSON.stringify(t.add.SoLd),hu=JSON.parse(d2),fF=hu.filterFX.v.filterFXList.v;
fF.splice(x.pe,1);var I=new bk([6,53],this);I.data={d:h.D7,uf:[{gg:l,n1:[d2,JSON.stringify(hu)]}]};o.VR(I);
this.Tu(I.data,o)}if(b==h.aoa){var il=F,jS=o.B[x.src],cx=o.B[x.NK],f4=[];if(jS!=cx&&cx.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(jS==cx&&!il&&x.pe==x.VS)return;if(jS==cx&&x.pe==-1)return;var aK=jS.O5(o),d2=JSON.stringify(jS.add.SoLd),hu=JSON.parse(d2),fF=hu.filterFX.v.filterFXList.v;
if(jS==cx){fF.splice(x.VS,0,fF[x.pe]);if(!il)fF.splice(x.pe+(x.pe<x.VS?0:1),1);f4.push({gg:x.src,n1:[d2,JSON.stringify(hu)]})}else if(x.pe==-1){var f9=hu.filterFX;
if(!il){delete hu.filterFX;f4.push({gg:x.src,n1:[d2,JSON.stringify(hu)],KV:[aK,null]})}var e0=cx.AD()?cx.O5(o):null,j7=hk.acT(aK),jb=JSON.stringify(cx.add.SoLd),hN=JSON.parse(jb);
hN.placed.v=j7.id;hN.filterFX=f9;f4.push({gg:x.NK,n1:[jb,JSON.stringify(hN)],KV:[e0,j7]})}else{var fe=fF[x.pe];
if(!il){fF.splice(x.pe,1);f4.push({gg:x.src,n1:[d2,JSON.stringify(hu)]})}var jb=JSON.stringify(cx.add.SoLd),hN=JSON.parse(jb);
if(hN.filterFX==null)hN.filterFX=fn.kN();var hn=hN.filterFX.v.filterFXList.v;hn.splice(x.VS,0,fe);var a3={gg:x.NK,n1:[jb,JSON.stringify(hN)]};
if(!cx.AD()){var j7=hk.a86(cx.add.SoLd.placed.v);a3.KV=[null,j7]}f4.push(a3)}var I=new bk([6,52],this);
I.data={d:h.D7,uf:f4};o.VR(I);this.Tu(I.data,o)}if(b==h.$n){var eh=i.Da(),I=new bk(eh.uM?[6,26]:[6,25],this);
I.data={d:b,a:l};o.VR(I);this.Tu(I.data,o);this.track({bV:"set",Rx:{classID:"setd",null:{t:"obj ",v:[hi.X$("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:eh.uM}}}}})}if(b==h.KT){var eh=i.add.vmsk,I=new bk(eh.uM?[6,28]:[6,27],this);
I.data={d:b,a:l};o.VR(I);this.Tu(I.data,o)}if(b==h.FT){var I=new bk("Variables / Datasets",this),bH=JSON.stringify([o.Jr,o.V8]);
if(bH==x.b)return;I.data={d:b,ap8:bH,aqf:x.b};o.VR(I);this.Tu(I.data,o)}if(b==h.R2){var jB=[],I;for(var $=0;
$<o.g.length;$++){var y=o.g[$],G=o.B[y];if(G.add.vogk)jB.push(y,JSON.stringify(G.add.vogk))}for(var $=0;
$<o.Np.length;$++){var y=o.Np[$],G=o.yB[y];if(G.add.vogk)jB.push(-1-y,JSON.stringify(G.add.vogk))}q.WE.abi(o,x.b,x.adP);
var jH=[];for(var $=0;$<o.g.length;$++){var y=o.g[$],G=o.B[y];if(G.add.vogk)jH.push(y,JSON.stringify(G.add.vogk))}for(var $=0;
$<o.Np.length;$++){var y=o.Np[$],G=o.yB[y];if(G.add.vogk)jH.push(-1-y,JSON.stringify(G.add.vogk))}var j=o.Xz();
if(j&&j.data&&j.data.d==b){var dL=!0;for(var $=0;$<jB.length;$+=2)if(jB[$]!=j.data.yd[$])dL=!1;if(dL){I=j;
I.data.HT=jH}}if(I==null){var I=new bk([12,91,1],this);I.data={d:b,yd:jB,HT:jH};o.VR(I)}this.Tu(I.data,o)}if(b==h.Ru){var aq=JSON.stringify(i.add.artb),is=JSON.stringify(x.Ls),I;
o.B[l].add.artb=JSON.parse(is);var dh=new ha(0,0,o.m,o.e),j_=n.Pm.jb(o),j=o.Xz();if(j&&j.data&&j.data.d==b&&j.data.a==l){I=j;
I.data.Ls=is}if(I==null){var I=new bk("Editing Artboard",this);I.data={d:b,a:l,a8f:aq,Ls:is,nW:dh};o.VR(I)}I.data.SP=j_;
this.Tu(I.data,o)}if(b==h.Jh){var jH=o._w.slice(0),cH=o.X7.slice(0),bK=o.u,eC=o.u,r=o.Q.U.slice(0);if(x.XC=="seltochannel"){var fp=x.T1[0],jq=jH[fp]=jH[fp].clone(),A=q.ZP.h_(o.u,jq,x.T1[1]);
jq.channel=A.channel;jq.rect=A.rect}if(x.XC=="fromAction"){var az=x.b.bV,de=x.b.Rx;if(az=="make"||az=="duplicate"){var g3=jH.length,kc=!1,bc=!1;
if(o.kU())g3--;var hJ=new h.Tj;hJ.name="Alpha "+(g3+1);if(az=="make"){var kd=de.Nw.v;hJ.color=0;cH=[g3];
hJ.AH=!0;hJ.wS=kd.Opct.v;if(kd.Nm)hJ.name=kd.Nm.v;if(kd.classID=="SCch"){kc=!0;eC=null;hJ.jP=1}for(var $=0;
$<o._w.length;$++)o._w[$].AH=!1;r=[0,0,0]}else{var jR=de.null.v[0].v;if(de.Nm)hJ.name=de.Nm.v;if(jR.keyID=="fsel")kc=!0;
else{var im=n.vh.asg(o);eC=n.vh.auP(o,im);hJ.color=0;hJ.rect=eC.rect;hJ.channel=eC.channel}}if(kc){hJ.color=0;
if(o.u){hJ.rect=o.u.rect.clone();hJ.channel=o.u.channel.slice(0)}if(bc){hJ.color=255-hJ.color;q.Mr(hJ.channel)}}jH.splice(g3,0,hJ)}else if(az=="delete"){if(i&&i.Da()&&i.tB==1){this.E4({d:h.Z5},J,o,c,E);
return}var dO=o.X7;dO.sort(function(I,eW){return eW-I});if(dO.length==0)return;for(var $=0;$<dO.length;
$++)jH.splice(dO[$],1);cH=[];r=[1,1,1]}else if(az=="show"||az=="hide"){var jd=de.null.v,gJ=null,iA=!1;
for(var $=0;$<jd.length;$++){var gj=jd[$].v[0].v,jG=gj.enum;if(jG=="Trgt"){if(jH[cH[0]]==null)continue;
jH[cH[0]]=jH[cH[0]].clone();jH[cH[0]].AH=az=="show";iA=!0}else{var fp=["Rd","Grn","Bl"].indexOf(jG);
if(gJ==null)gJ=o.Q.U.slice(0);gJ[fp]=az=="show"?1:0}}if(gJ){var C=new ko(L.E.f,!0);C.v=n.cL;C.data={d:"setcls",U:gJ};
J.c(C);if(!iA)return}}}if(x.XC=="rnm"){jH[x.cD]=jH[x.cD].clone();jH[x.cD].name=x.name}var I=new bk("Channel Edit",this);
I.data={d:b,yd:o._w.slice(0),$B:o.X7.slice(0),HT:jH,ju:cH,BJ:bK,g9:eC,a8g:o.Q.U.slice(0),ak_:r};this.Tu(I.data,o);
o.VR(I)}if(b==h.$k){var eG=new ha(0,0,o.m,o.e),I=new bk(x.wd,this);I.data={d:h.$k,Hi:o.B.slice(0),Ay:x.Ay,T2:o.g.slice(0),Ff:x.g9};
o.VR(I);this.Tu(I.data,o);var el=n.Pm.WN(o);if(el){I.data.nW=eG;I.data.SP=el}}if(b==h.ni){var gp=o.kw(null,x.a),jY=1e10;
if(gp.length==0)return;if(o.B.length==gp.length){alert("Project must have at least 1 layer");return}var ar=[];
for(var $=0;$<o.B.length;$++)if(gp.indexOf($)==-1)ar.push(o.B[$]);for(var $=0;$<gp.length;$++)jY=Math.min(jY,gp[$]);
jY=Math.max(jY-1,0);while(ar[jY].name=="</Layer group>")jY++;this.track({bV:"delete",Rx:{classID:"Dlt",null:hi.X$("Lyr",!0)}});
var dh=new ha(0,0,o.m,o.e),I=new bk([6,31],this);I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:[jY]};
o.VR(I);this.Tu(I.data,o);var j_=n.Pm.jb(o);if(j_){I.data.SP=j_;I.data.nW=dh;n.Pm.WN(o)}}if(b==h.qI){if(!c.S(dG.uJ))return;
var I=new bk("Switch Layer Link",this);I.data={d:b,a:x.a};o.VR(I);this.Tu(I.data,o)}if(b==h.wN){var dO=x.az0?x.az0:o.g,fH=0,cw=!1;
if(dO.length==0)return;if(dO.length==1&&o.B[dO[0]].vc==0){alert(h9.get([15,7,5]));return}var iH=[];for(var $=0;
$<o.B.length;$++){var cz=o.B[$].vc;iH.push(cz);fH=Math.max(fH,cz)}var eP=-1,c3=-1;for(var $=0;$<dO.length;
$++){var cz=o.B[dO[$]].vc;if(cz==0)cw=!0;else if(eP==-1||eP==cz)eP=cz;else c3=cz}if(!cw)for(var $=0;
$<dO.length;$++)o.B[dO[$]].vc=0;else if(eP!=-1&&c3==-1)for(var $=0;$<dO.length;$++)o.B[dO[$]].vc=eP;
else for(var $=0;$<dO.length;$++)o.B[dO[$]].vc=fH+1;var hg=[];for(var $=0;$<o.B.length;$++){var cz=o.B[$].vc;
if(hg[cz]==null)hg[cz]=0;hg[cz]++}for(var $=0;$<o.B.length;$++){var cz=o.B[$].vc;if(hg[cz]==1)o.B[$].vc=0}var eQ=iH;
iH=[];for(var $=0;$<o.B.length;$++){var cz=o.B[$].vc;iH.push(cz);fH=Math.max(fH,cz)}var I=new bk(cw?[6,54,0]:[6,54,1],this);
I.data={d:h.wN,asw:eQ,ahV:iH};o.VR(I);this.Tu(I.data,o)}if(b==h.gc&&(x.a!=null||o.g.length!=0)||b==h.Kh){var gM=o.VG(b==h.gc?x.a:l,null,x.ais),hZ;
if(b==h.Kh){var t=gM[0],az=t.add.SoLd.Idnt.v,ev=o.lx(az).clone();t.add.SoLd.Idnt.v=ev.UU=hk.si()+az.slice(8);
o.add.lnk2.push(ev)}if(b==h.gc){var ay={bV:"duplicate",Rx:{classID:"null",null:hi.X$("Lyr",!0)}};if(x.Ii){gM[gM.length-1].Yq(x.Ii);
ay.Nm={t:"TEXT",v:x.Ii}}this.track(ay);x.ax1=x.a}b=h.IK;x.B=gM;x.HM=o;x.Lk=o}if(b==h.IK){var a$,g6,ik=x.HM,dV=x.Lk,kE=0,fG=0,jZ=ik.Eq(),eu=!1,aQ,jU=0,aC=0;
if(ik!=dV){console.log("ADDLAYERS different projs");var a$=new ha(0,0,ik.m,ik.e),g6=new ha(0,0,dV.m,dV.e),hV=[],kx=[],iw=new ha;
for(var $=0;$<x.B.length;$++){var t=x.B[$];iw=iw.k7(t.rect);if(t.add.SoLd==null)continue;var az=t.add.SoLd.Idnt.v;
if(hV.indexOf(az)==-1){hV.push(az);kx.push(hk.si()+az.slice(8))}t.add.SoLd.Idnt.v=kx[hV.indexOf(az)];
var aK=t.O5(ik);if(aK){ik.qg(aK);dV.ie(aK)}}if(jZ==-1&&!x.Cq&&x.auE&&!g6.$G(iw)){kE=-iw.x;fG=-iw.y}if(hV.length>0){if(dV.add.lnk2==null)dV.add.lnk2=[];
for(var $=0;$<hV.length;$++){var ic=ik.lx(hV[$]),ev=ic.clone();ev.UU=kx[$];dV.add.lnk2.push(ev)}}}var bK=dV.g.slice(0);
bK.sort(function(I,eW){return I-eW});var ar=dV.B.slice(0),eC=[],ge=-1;for(var $=0;$<bK.length;$++)ge=Math.max(ge,bK[$]);
if(x.ax1!=null)ge=x.ax1;if(x.Cq){ge=x.Cq-1;var gm=dV.B[x.Cq].uc();kE+=gm.x;fG+=gm.y}if(jZ!=-1&&(ik!=dV||x.Cq)){var fc=ik.B[jZ].uc();
kE-=fc.x;fG-=fc.y}var bO=dV.yl();for(var $=0;$<bO[0].length;$++){var jf=bO[1][$];if(jf!=-1)bO[1][$]=ar[jf]}ge++;
for(var $=0;$<x.B.length;$++){var G=x.B[$],fz=G.add.artb;ar.splice(ge,0,G);eC.push(ge);ge++;if(fz){aQ=!0;
var gr=fz.guideIndeces;if(gr){gr=gr.v;for(var hK=0;hK<gr.length;hK++){bO[0].push(ik.Kt[gr[hK].v].slice(0));
bO[1].push(G);eu=!0}}}}for(var $=0;$<bO[0].length;$++){var jf=bO[1][$];if(jf!=-1)bO[1][$]=ar.indexOf(jf)}for(var $=0;
$<x.B.length;$++){var G=x.B[$];if(G.add.lsct==es.qF){if(jU==0)aC++;jU++}else if(G.Zk())jU--}if(aC==1)eC=[ge-1];
var I=new bk([6,0],this);I.data={d:h.$k,Hi:dV.B.slice(0),Ay:ar,T2:bK,Ff:eC};if(eu){I.data.Ky=[dV.yl(),bO]}dV.VR(I);
this.Tu(I.data,dV);if(kE!=0||fG!=0)n.fp.jW(dV,dV.kw(),null,kE,fG);if(aQ){I.data.nW=new ha(0,0,dV.m,dV.e);
I.data.SP=n.Pm.jb(dV);n.Pm.WN(dV)}}if(b==h.aN){var hj=x.a!=null?[x.a]:o.kw(),ar=o.B.slice(0);for(var $=0;
$<hj.length;$++){var G=o.B[hj[$]].clone();G._1(o);ar.splice(hj[$],1,G)}var I=new bk([6,8],this);I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:o.g.slice(0)};
o.VR(I);this.Tu(I.data,o)}if(b==h.a7Y){var ar=o.B.slice(0),G=ar[o.g[0]]=ar[o.g[0]].clone(),g_=G.add.lmfx,jI,gm;
delete G.add.lmfx;var gH=o.g[0],d3=gH+1;if(G.Zk()){var eB=o.B[o.g[0]].Ex;gm=eB.a0_;jI=eB.C_;var A=o.root.qX(gH);
gH=A.Yx}else{gm=G.rect;jI=q.R(gm.P());q.z$(G.buffer,jI,3)}var eI=cI.WO(g_,G.add.fxrp,jI,gm,o,gm).type;
for(var $=0;$<bs.order.length;$++){var ak=bs.order[$],j6=eI[ak];j6.reverse();for(var hK=0;hK<j6.length;
hK++){var fU=j6[hK],N=o._I(),b$=$>7;if(ak=="ebbl"){if(fU.nD||fU.Er){var hW=fU.nD?fU.nD:fU.Er;if(fU.nD)delete fU.nD;
else delete fU.Er;if(fU.Er||fU.Hq)hK--}else if(fU.Hq||fU.JP){var hW=fU.JP?fU.JP:fU.Hq;if(fU.JP){delete fU.JP;
if(fU.Hq)hK--}b$=!0}fU=hW}N.n5=fU.Nu;N.opacity=Math.round(255*fU.bJ);N.buffer=fU.tM;N.rect=fU.SI.clone();
N.rect.offset(gm.x,gm.y);if(ak=="FrFX"){N.buffer=N.buffer.slice(0);q.qR(fU.Nm?fU.Nm:fU.as,N.buffer,3);
if(fU.Nm){b$=!0;delete fU.Nm;if(fU.as)hK--}}N.$j=!b$;N.Yq(G.getName()+"'s "+h9.get(bs.names[$]));ar.splice(b$?gH:d3,0,N);
if(b$)d3++}}var I=new bk("Styles to Layers",this);I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:[d3-1]};
o.VR(I);this.Tu(I.data,o)}if(b==h.n_){var hj=o.kw(),ar=o.B.slice(0),gI=new ha(0,0,o.m,o.e);for(var $=0;
$<hj.length;$++){var d_=o.B[hj[$]],fI=d_.kR();d_.Ut(!0);var aP=o.root.qX(hj[$]);if(d_.Zk())continue;
if(aP==null)continue;var G=d_.clone();G._1(o);var ed=aP.mZ(o,!0),jN=o.B;o.VQ([d_]);o.W();o.Q4();G.buffer=q.R(ed.P()*4);
q.St(o.or(),gI,G.buffer,ed);G.rect=ed;G.opacity=255;G.add.iOpa=255;G.n5="norm";G.W();G.Ex.$Y=!0;o.VQ(jN);
if(G.add.lmfx)delete G.add.lmfx;G.F=G.Ie=null;ar.splice(hj[$],1,G);G.Ut(fI);d_.Ut(fI)}var I=new bk([6,34],this);
I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:o.g.slice(0)};o.VR(I);this.Tu(I.data,o)}if(b==h.aui){var hj=o.kw(),ar=o.B.slice(0);
for(var $=0;$<hj.length;$++){var G=o.B[hj[$]],ep=G.add.TySh;if(ep==null)continue;var t=new gD(ep.TC,E.a0),fl=q.O.KE(i6.RF(t,ep,!0));
for(var bl in fl){var ij=fl[bl],dc=G.clone();delete dc.add.TySh;dc.Il=dc.Il|1<<4;dc.add.SoCo=JSON.parse(JSON.stringify(bs.zQ[0]));
var je=dc.add.SoCo.Clr.v;je.Rd.v=parseInt(bl.slice(1,3),16);je.Grn.v=parseInt(bl.slice(3,5),16);je.Bl.v=parseInt(bl.slice(5,7),16);
var gq=new h._b;gq.$=q.O.XR(ij,!1);if(dc.add.vmsk!=null){dc.add.vmsk.a4E();gq.concat(dc.add.vmsk)}dc.add.vmsk=gq;
dc.add.vstk=bs.Ao.Bt(!0);dc.pw();dc.vl(o);ar.splice(ar.indexOf(G),0,dc)}ar.splice(ar.indexOf(G),1)}var eC=o.g.slice(0);
for(var $=eC.length-1;$>=0;$--)if(eC[$]>=ar.length)eC.splice($,1);var I=new bk([6,40],this);I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:eC};
o.VR(I);this.Tu(I.data,o)}if(b==h.cJ){var iB=o.g.length,eL,at;if(iB<2){alert("Select two or more layers.");
return}for(var $=0;$<iB;$++){var fc=o.B[o.g[$]].rect;eL=$==0?fc:eL.Kc(fc);at=$==0?fc:at.k7(fc)}if(eL.P()*1.2>at.P()){alert("stacking images");
var iu=[],hS=[];for(var $=0;$<iB;$++){var G=o.B[o.g[$]];iu.push(G.buffer);hS.push(G.rect)}var dW=q.a5_.Pl(iu,hS),iM=dW[0],aH=dW[1],ad=[];
for(var $=0;$<iB;$++){var eh=new h.Tj;eh.color=255;eh.rect=aH;eh.channel=iM[$];ad.push(o.g[$],null,eh)}var I=new bk("Focus-Stack",this);
I.data={d:h.t7,zi:ad};o.VR(I);this.Tu(I.data,o);return}if(!o.FJ())return;var dc=o.B[o.g[0]].clone(),ar=[];
for(var $=0;$<o.B.length;$++)if(o.g.indexOf($)==-1)ar.push(o.B[$]);ar.splice(o.g[0],0,dc);for(var $=1;
$<iB;$++)if(o.B[o.g[$]].rect.P()>2e6){alert("Blended areas are too large.");return}for(var $=1;$<iB;
$++){var G=o.B[o.g[$]],aH=G.rect.clone();aH.wI(1,1);var eW=q.R(aH.P()*4);q.St(G.buffer,G.rect,eW,aH);
dc.extend(aH);var fg=q.R(aH.P()*4);q.St(dc.buffer,dc.rect,fg,aH);var I=q.R(aH.P());q.z$(eW,I,3);q.round(I,200);
q.qR(I,eW,3);q.l.j6("norm",eW,aH,fg,aH,aH,1);q.Wg.Vm(fg,I,aH);q.St(fg,aH,dc.buffer,dc.rect)}var I=new bk([2,10,0],this);
I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:[o.g[0]]};o.VR(I);this.Tu(I.data,o)}if(b==h.yL){var ar=o.B.slice(0),cH=o.g.slice(0);
for(var $=0;$<ar.length;$++){var G=ar[$],e5=G.add.vmsk;if(G.A0()&&e5&&G.add.vstk.strokeEnabled.v&&!G.add.vstk.fillEnabled.v){var ek=e5.$,cC=0,kv=-1;
for(var hK=0;hK<ek.length;hK++){if((ek[hK].type==0||ek[hK].type==3)&&ek[hK].sm!=-1){cC++;if(ek[hK].type==3&&kv==-1){ek[hK].tX=ek[hK].sm=1;
kv=hK}}}if(cC>1&&kv!=-1&&cC<10){console.log("separating an open path into a new layer");G=G.clone();
e5=G.add.vmsk;ek=e5.$;var N=ek[kv].length,ci=G.clone();ci.add.lyid=o.gI();e5.$=ek.slice(0,2).concat(ek.slice(kv,kv+N+1));
e5.g=[];G.vl(o);G.W();var kD=ci.add.vmsk.$;ci.add.vmsk.$=kD.slice(0,kv).concat(kD.slice(kv+N+1,kD.length));
ci.add.vmsk.g=[];ci.vl(o);ar[$]=G;ar.splice($+1,0,ci);for(var hK=0;hK<cH.length;hK++)if(cH[hK]>$)cH[hK]++;
var bE=cH.indexOf($);if(bE!=-1){cH.splice(bE+1,0,$+1)}}}}if(ar.length!=o.B.length){var I=new bk("Splitting open paths",this);
I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:cH};o.VR(I);this.Tu(I.data,o)}}if(b==h.rK){this.E4({d:h.yL},J,o,c,E);
var bK=o.g.slice(0),jN=o.B.slice(0),hj=o.kw();if(hj.length==0)return;o.ak$(hj,!1,x.UY);var I=new bk([6,36,0],this);
I.data={d:h.$k,Hi:jN,Ay:o.B.slice(),T2:bK,Ff:o.g.slice(0)};o.VR(I);this.Tu(I.data,o)}if(b==h.a6s){var d2=i.add.SoLd;
if(d2==null)return;var az=d2.Idnt.v,d9=o.lx(az);d9.or(!1);var c4=d9.pH[0],aH=d9.pH[1];if(q._6(c4)){alert("The smart object contains transparency.");
return}var hT=hR.rb("jpg").Jy([[c4.buffer]],aH.m,aH.e,[90]);this.E4({d:h.oq,data:new Uint8Array(hT),C0:"image.jpg"},J,o,c,E);
console.log(o.add);return}if(b==h.oq){var gI=x.Th,az=x.id;if(gI==null)gI=o;if(az==null)az=i.add.SoLd.Idnt.v;
var ic=gI.lx(az),ev=ic.clone();ev.raw=x.data;ev.C0=x.C0;var j9=hR.M1(x.data.buffer);if(j9=="psd"){ev.ax="8BIM";
ev.lZ="8BPB"}else{ev.ax="    ";ev.lZ="    "}ev.or(!1);ic.or(!1);var I=new bk([6,36,1],this);I.data={d:h.oq,id:az,Fp:ic,YC:ev};
gI.VR(I);this.Tu(I.data,gI)}if(b==h.Y7){var I=new bk([6,36,4],this);I.data={d:b,a:l,xg:i.add.SoLd.Impr.v.classID,_Q:x._Q};
o.VR(I);this.Tu(I.data,o)}if(b==h.aen){var gg,kk;if(x.Bd){gg=x.Th;kk=x.Bd}else{x.Th.NT();x.Th.va();x.Th.W();
x.Th.Q4();x.Th.or();gg=hR.rb("PSD").Jy(x.Th,0,0,[!0,!0]);kk=x.Th.name}if(!(gg instanceof ArrayBuffer))throw"e";
gg=new Uint8Array(gg);var W=x.DJ;if(W==null){if(o.g.length==0)W=o.g.length;else{var fv=o.g[o.g.length-1],N=o.B[fv];
W=N.Zk()?fv:fv+1}}var iF=new ha(0,0,o.m,o.e),ct=o.Eq();if(ct!=-1)iF=o.B[ct].uc();var j2=o.cv(gg,kk,null,null,iF,E.a0,J),ar=o.B.slice(0);
ar.splice(W,0,j2);var I=new bk([6,36,2],this);I.data={d:h.$k,Hi:o.B.slice(),Ay:ar,T2:o.g.slice(0),Ff:[ar.indexOf(j2)]};
o.VR(I);this.Tu(I.data,o)}if(b==h.th&&x.XC=="merge"){var b0=[],j3=o.root.children,d4=0;for(var $=0;$<j3.length;
$++){var A=j3[$],G=A.a,cR=A.children,dJ=!0;if(!G.Zk()||cR.length==0)continue;for(var hK=0;hK<cR.length;
hK++)if(!cR[hK].a.getName().startsWith("_a_")){dJ=!1;break}if(dJ)b0.push(o.B.indexOf(G))}var hl=[];for(var $=0;
$<b0.length;$++)if(o.g.indexOf(b0[$])!=-1)hl.push(b0[$]);if(hl.length>=2)b0=hl;if(b0.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var er=[];for(var $=0;$<b0.length;$++)er.push(o.B[b0[$]].getName());var j6=[];for(var bT=0;bT<b0.length;
bT++){var A=o.root.qX(b0[bT]),a3=[[],[],0,bT];j6.push(a3);for(var $=0;$<A.children.length;$++){var y=A.children[$].index,G=A.children[$].a,hJ=G.getName(),eY=20,aZ=hJ.split(",");
if(aZ.length>1){var i9=parseInt(aZ.pop());if(!isNaN(i9)&&i9!=0)eY=i9}if(eY<17)eY=17;a3[0].push(G);a3[1].push(eY);
a3[2]+=eY}}j6.sort(function(I,eW){return eW[2]-I[2]});if(j6[0][2]>2e3){var jz=0,bN=0;for(var $=0;$<j6.length;
$++){var hd=j6[$][1].length/j6[$][2];if(hd>bN){bN=hd;jz=$}}var kG=(j6[0][2]/1e3).toFixed(1),iq=window.confirm("- \""+er[j6[0][3]]+"\" is "+kG+" seconds long\n"+"- \""+er[j6[jz][3]]+"\" is playing at "+Math.round(bN*1e3)+" frames per second\n"+"A merged animation must be "+kG+" sec, up to "+Math.round(j6[0][2]*bN)+" frames. Proceed?");
if(!iq)return}var av=j6[0],em=av[2];for(var jf=1;jf<j6.length;jf++){var a3=j6[jf],aU=1,dg=a3[1].slice(0),hm=0;
while((aU+1)*a3[2]<=av[2]){aU++;dg=dg.concat(a3[1])}a3[1]=dg;a3[2]*=aU;var it=av[2]/a3[2];for(var $=0;
$<a3[1].length;$++){var e4=Math.floor(a3[1][$]*it);a3[1][$]=e4;hm+=e4}while(hm<em){hm++;a3[1][a3[1].length-1]++}a3[2]=hm}var hh=[],fT=[],e4=[];
for(var $=0;$<j6.length;$++){hh.push(0);fT.push(0)}while(d4<em){var c8=1e9,g3=-1;for(var $=0;$<j6.length;
$++){var g1=j6[$][1],gH=hh[$];if(gH!=g1.length&&fT[$]+g1[gH]<d4+c8){g3=$;c8=fT[$]+g1[gH]-d4}}fT[g3]+=j6[g3][1][hh[g3]];
hh[g3]++;if(c8!=0){e4.push(c8);d4+=c8}}for(var $=1;$<e4.length;$++){var fh=e4[$];if(fh<16&&(e4[$-1]<16||$<e4.length-1&&16<=e4[$+1])){e4[$-1]+=fh;
e4.splice($,1);$--}}var fI=[],gI=new ha(0,0,o.m,o.e);for(var $=0;$<o.B.length;$++){fI[$]=o.B[$].kR();
o.B[$].Ut(!1)}var fO=o.g.slice(0);o.g=b0;var gp=o.kw();gp.sort(function(I,eW){return I-eW});var ar=[];
for(var $=0;$<o.B.length;$++){if(gp.indexOf($)==-1)ar.push(o.B[$])}j6.sort(function(I,eW){return I[3]-eW[3]});
function jg(g1,h$){var $=0,js=0;while(js+g1[$]<=h$){js+=g1[$];$++}return $}d4=0;ar.splice(gp[0],0,o.Tv());
for(var jh=0;jh<e4.length;jh++){var P=[];for(var $=0;$<j6.length;$++){var gH=jg(j6[$][1],d4)%j6[$][0].length,G=j6[$][0][gH];
P.push(G)}var G=o._I();for(var $=0;$<j6.length;$++){var b4=P[$],kB=o.B[b0[$]];b4.Ut(!0);kB.Ut(!0)}o.W();
o.Q4();var c4=o.or();G.rect=q.Bm(c4,gI,2);G.buffer=q.R(G.rect.P()*4);q.St(c4,gI,G.buffer,G.rect);for(var $=0;
$<j6.length;$++){var b4=P[$],kB=o.B[b0[$]];b4.Ut(!1);kB.Ut(!1)}G.Ut(jh==0);G.Yq("_a_frm"+jh+","+e4[jh]);
ar.splice(gp[0]+1+jh,0,G);d4+=e4[jh]}var G=o._I();G.Yq(er.join(" + "));G.n5="pass";G.add.lsct=es.tm;
G.Il=24;ar.splice(gp[0]+1+e4.length,0,G);for(var $=0;$<o.B.length;$++)o.B[$].Ut(fI[$]);var I=new bk([6,12,0],this);
I.data={d:h.$k,Hi:o.B,Ay:ar,T2:fO,Ff:[gp[0]+1+e4.length]};o.VR(I);this.Tu(I.data,o)}if(b==h.w2||b==h.YW){var iQ=o.g.length==1&&!o.B[o.g[0]].Zk(),gz=!0,j2=null,eC;
if(iQ&&o.g[0]==0)return;var jN=o.B.slice(0),bK=o.g.slice(0);if(iQ)o.g=[l,l-1];if(b==h.YW){o.g=[];for(var $=0;
$<o.B.length;$++)if(o.B[$].kR())o.g.push($)}var hj=o.kw();hj.sort(function(I,eW){return I-eW});var eE=new ha,gI=new ha(0,0,o.m,o.e);
for(var $=0;$<hj.length;$++){var y=hj[$],G=o.B[y];if(G.Zk()||G.getName()=="</Layer group>")continue;
gz=gz&&G.A0()&&G.add.vmsk!=null;eE=eE.k7(o.root.qX(y).mZ(o,!0))}if(x.ZP!=null&&!gz){alert("Select shape layers only.");
return}if(gz){var e5=null,ff=x.ZP;for(var $=0;$<hj.length;$++){var N=o.B[hj[$]];if(N.rect.P()==0)continue;
if(j2==null){j2=N.clone();e5=j2.add.vmsk}else{var N=o.B[hj[$]],kD=h._b.AL(N.add.vmsk.$);if(ff!=null)for(var hK=0;
hK<kD.length;hK++)if(kD[hK].sm!=null&&kD[hK].sm!=-1)kD[hK].sm=[1,2,3,0][ff];e5.$=e5.$.concat(kD.slice(2));
j2.add.vogk=j2.add.vogk.concat(JSON.parse(JSON.stringify(N.add.vogk)))}}j2.add.vmsk.op=!0;j2.vl(o)}else if(gI.KR(eE)){j2=o._I();
j2.Yq(o.B[hj[hj.length-1]].getName());j2.rect=eE;j2.buffer=q.R(eE.P()*4);var ew=o.add.artd;delete o.add.artd;
var hs=o.or(hj);if(ew)o.add.artd=ew;q.St(hs,gI,j2.buffer,eE);j2.xz();j2.W()}else{o.ak$(hj,!0);j2=o.B[o.g[0]];
o.B.splice(o.g[0],1);var ee=o.lx(j2.add.SoLd.Idnt.v);o.add.lnk2.splice(o.add.lnk2.indexOf(ee),1);delete j2.add.SoLd}var cq=F,jL=-1;
if(x.Rx&&x.Rx.Dplc&&x.Rx.Dplc.v)cq=!0;if(cq&&b==h.YW&&bK.length!=0&&o.B[bK[0]].xm()&&o.B[bK[0]].rect.Kx()){jL=bK[0]}if(jL!=-1||iQ){var jw=o.B[jL!=-1?jL:l-1];
j2.Yq(jw.getName());j2.add.lclr=jw.add.lclr}var ar=[];for(var $=0;$<o.B.length;$++)if(cq||hj.indexOf($)==-1)if($!=jL)ar.push(o.B[$]);
var cs=hj[hj.length-1],dP=cs==o.B.length-1?null:o.B[cs+1],jO=dP?ar.indexOf(dP):ar.length;ar.splice(jO,0,j2);
eC=[jO];var I=new bk([6,12,0],this);I.data={d:h.$k,Hi:jN,Ay:ar,T2:bK,Ff:eC};o.VR(I);this.Tu(I.data,o)}if(b==h.a2Y){var dc=o._I();
dc.rect=new ha(0,0,o.m,o.e);dc.buffer=q.R(dc.rect.P()*4);q.xj(dc.buffer,4294967295);q.l.j6("norm",o.or(),dc.rect,dc.buffer,dc.rect,dc.rect,1);
dc.Yq("Background");dc.add.lspf=1<<2;var I=new bk([6,12,1],this);I.data={d:h.$k,Hi:o.B.slice(),Ay:[dc],T2:o.g.slice(0),Ff:[0]};
o.VR(I);this.Tu(I.data,o)}var kz=b==h.xy||b==h.bL;if(b==h.H5||b==h.a3||b==h.W5||b==h.EZ||kz){var G=kz?o.VG()[0]:o._I(),gP=h9.get([0,3]),i0=x.Ii,ib=!1,c6,dX;
if(b==h.W5)gP=h9.get([12,76,1]);if(kz){if(o.u){var d_=o.B[o.g[0]],gv=d_.Dt(o,o.u);if(gv==null){alert("Copied area is empty");
return}G.rect=gv.rect;G.buffer=gv.kC;G._1(o);G.Ut(!0)}else i0=G.getName();G.add.lspf=0;G.$j=!1;if((G.Il&1)!=0)G.Il--}if(b==h.EZ){G.rect=n.Y8.afg(x.Im,o);
G.buffer=x.Im.buffer.slice(0);if(x.f2&&o.u){G.F=new h.Tj;G.F.rect=o.u.rect;G.F.color=0;G.F.channel=o.u.channel.slice(0)}}if(b==h.H5){this.track({bV:"make",Rx:{classID:"Mk",null:hi.X$("Lyr")}})}if(b==h.a3){G.Il|=16;
var ez=x.Rx.Usng.v,g5=ez.Type.v,iC=dv.ig[g5.classID];gP=h9.get(dv.names[iC]);if(ez.Nm)i0=ez.Nm.v;G.add[iC]=fn.Bt(iC);
if(G.add[iC]==null)G.add[iC]={};for(var dj in g5)G.add[iC][dj]=JSON.parse(JSON.stringify(g5[dj]));G.F=n.Y8.a2F(o);
G.tB=1}if(b==h.W5){G.Il|=16;var de=x.Rx,ez=de.Usng.v,gS=ez.Type.v,hE=ez.Shp;if(ez.Nm)i0=ez.Nm.v;if(hE==null){var d8=o.l$(),fl=d8[0],dd=d8[1];
if(dd.length!=0&&fl[dd[0]].cD<0){var hI=fl[dd[0]].add;G.add.vmsk=hI.vmsk.clone();G.add.vstk=bs.Ao.Bt(!0);
G.add.vogk=JSON.parse(JSON.stringify(hI.vogk));o.Np=[]}else G.F=n.Y8.a2F(o)}else{G.add.vmsk=new h._b;
G.add.vstk=JSON.parse(JSON.stringify(ez.strokeStyle?ez.strokeStyle.v:bs.Ao.Bt(!0)));G.add.vogk=[];if(hE){var cy=q.WE.G4(hE);
if(cy){G.add.vogk=[cy];G.add.vmsk.$.push({type:0,sm:1,length:0});q.WE.Gx(G.add.vogk,G.add.vmsk)}else{hE=hE.v;
var kn=hE.classID;if(kn=="Plgn"){var gj=hE.Cntr.v,fc=hE.corner.v;gj=new ck(gj.Hrzn.v.val,gj.Vrtc.v.val);
fc=new ck(fc.Hrzn.v.val,fc.Vrtc.v.val);G.add.vmsk.$=q.p.MP.lB(gj.x,gj.y,Math.sqrt(fc.x*fc.x+fc.y*fc.y),Math.atan2(fc.y,fc.x),hE.sides.v,0)}else if(kn=="customShape"){var h2=q.WE.BO(hE),dT=h2[2]-h2[0],eV=h2[3]-h2[1],gl=E.VP,he,jF;
for(var $=0;$<gl.length;$++)if(gl[$].W4==hE.Nm.v)he=gl[$];if(he){jF=h._b.AL(he.$);q.p.Sp(jF,new cW(dT,0,0,eV,h2[0],h2[1]))}else jF=q.p.MP.Rect(h2[0],h2[1],dT,eV,0);
G.add.vmsk.$=jF}G.pw()}}}var b_={solidColorLayer:0,gradientLayer:1,patternLayer:2}[gS.classID],di=["SoCo","GdFl","PtFl"][b_];
G.add[di]=JSON.parse(JSON.stringify(bs.zQ[b_]));if(b_==0)G.add[di].Clr.v=q.r.qP(q.ix(E.Q6));n.Y8.Bj(gS,G.add[di],b_);
if(hE==null)gP=h9.get([6,48,0,b_]);if(di=="PtFl"){var e_=G.add[di].Ptrn.v,aZ=cI.$N(e_,E.yC);if(aZ==null)aZ=cI.$N(e_,o.add.Patt);
e_.Idnt.v=aZ.id;o.K0(aZ)}G.vl(o)}var iB=n.Y8.q4(o,gP+" ");G.Yq(gP+" "+(iB+1));if(i0)G.Yq(i0);var cS=o.g.length==0?o.B.length-1:o.g[o.g.length-1],gQ=o.B[cS];
if(b==h.W5&&gQ.xm()&&gQ.rect.Kx()){ib=!0;G.Yq(gQ.getName());c6=cS}else{c6=cS+(b==h.H5&&U&&!k?0:1);if(gQ&&gQ.add.lsct==es.tI)c6--}if(x.a5A)c6=Math.max(0,c6-1);
var ar=o.B.slice(0);if(b==h.bL){var i4=ar[o.g[0]]=ar[o.g[0]].clone(),hO=o.u.channel.slice(0);q.Mr(hO);
q.gV(hO,o.u.rect,i4.buffer,i4.rect)}ar.splice(c6,ib?1:0,G);var gt=[5,2];if(b==h.H5)gt=[6,13];if(b==h.a3)gt=[6,1];
if(b==h.W5){gt=[6,48,1];var hE=x.Rx.Usng.v.Shp;if(hE){var df={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[hE.v.classID];
if(df)gt=df}}if(kz){gt=[6,49,b==h.xy?0:1]}if(kz||b==h.W5||b==h.EZ||b==h.a3)if(o.u)dX=[o.u,null];var I=new bk(gt,this);
I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:[c6],PT:dX};o.VR(I);this.Tu(I.data,o);if(b==h.W5&&hE==null&&b_!=0||b==h.a3){var w=new ko(L.E.N);
w.data={d:L.H.mW,AN:jj.iJ.Z6};J.c(w)}}if(b==h.ag){var G=o._I(),gP=h9.get([0,4]),iB=n.Y8.q4(o,gP+" ");
G.Yq(gP+" "+(iB+1));G.n5="pass";G.add.lsct=es.tI;G.Il=24;if(x.Ii)G.Yq(x.Ii);if(x.AM!=null)G.add.lclr=x.AM;
var ja=o.Tv(),cS=l,c6=cS+(U?0:1),ar=o.B.slice(0);ar.splice(c6,0,ja,G);var I=new bk([6,20],this);I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:[c6+1]};
o.VR(I);this.Tu(I.data,o)}if(b==h.z5||b==h.FX){var bg=b==h.z5?x.source:o.g[0],i2,fw,dt=o.g.indexOf(bg)!=-1,bA=F|x.a5K,ah,c8=null;
if(dt)ah=o.kw();else ah=o.BZ(bg);ah.sort(function(I,eW){return I-eW});if(b==h.z5){i2=x.target;fw=x.vL>.5}else if(x.target!=null){i2=Math.min(x.target,o.B.length-1);
fw=x.target<o.B.length;o.$t=!0}else{var ia=x.XC;fw=ia>1;if(ia==0){i2=o.B.length-1}if(ia==1){i2=ah[ah.length-1]+1;
var N=o.BZ(i2);if(N.indexOf(bg)==-1)i2+=N.length-1}if(ia==2){i2=ah[0]-1;var N=o.BZ(i2);if(N.indexOf(bg)==-1)i2-=N.length-1}if(ia==3){i2=0;
if(o.B[0].add.lnsr=="bgnd")i2++}if(i2<0||i2>o.B.length-1)return;o.$t=!0}if(ah.indexOf(i2)!=-1&&!bA)return;
var ao=n.Y8.Tb(o,ah,i2,fw,bA?o.VG(dt?null:bg):null,b==h.z5&&x.vL>.8),aJ=ao.pop(),cH=ao.pop(),ar=ao.pop(),fR=o.g;
o.g=[bg];var jZ=o.Eq();o.g=[i2];var cv=o.Eq();if(cv==i2&&!fw)cv=-1;o.g=fR;if(bg==jZ){}else if(jZ!=cv){var c8=new ck(0,0);
if(jZ!=-1){var aH=o.B[jZ].uc();c8.x-=aH.x;c8.y-=aH.y}if(cv!=-1){var aH=o.B[cv].uc();c8.x+=aH.x;c8.y+=aH.y}}var I=new bk(bA?[6,0]:[6,35],this);
I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:cH,Ck:c8};o.VR(I);this.Tu(I.data,o);var de={classID:"move",null:hi.X$("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:aJ+(fw?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:bA}};
this.track({bV:"move",Rx:de})}if(b==h.z9){if(x.PM){if(i==null||!i.Zk())return;var A=o.root.qX(l),dA=o.B.indexOf(A.abL),ar=o.B.slice(0);
ar.splice(l,1);ar.splice(dA,1);var cH=[];for(var $=dA;$<l-1;$++)cH.push($);var I=new bk("Ungroup Layers",this);
I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:cH};o.VR(I);this.Tu(I.data,o)}else{var G=o._I(),et=h9.get([0,4])+" ";
G.Yq(et+(n.Y8.q4(o,et)+1));G.n5="pass";if(x.Ii)G.Yq(x.Ii);if(x.AM!=null)G.add.lclr=x.AM;G.add.lsct=o.g.length==1?es.tI:es.tm;
G.Il=24;var ja=o.Tv(),ah=o.kw();if(ah.length==0)return;ah.sort(function(I,eW){return I-eW});var ar=[];
for(var $=0;$<o.B.length;$++)if(ah.indexOf($)==-1)ar.push(o.B[$]);var cS=o.g[o.g.length-1]-ah.length;
ar.splice(cS+1,0,ja);for(var $=0;$<ah.length;$++)ar.splice(cS+2+$,0,o.B[ah[$]]);ar.splice(cS+2+ah.length,0,G);
var I=new bk([6,9],this);I.data={d:h.$k,Hi:o.B.slice(0),Ay:ar,T2:o.g.slice(0),Ff:[ar.indexOf(G)]};o.VR(I);
this.Tu(I.data,o);var T={bV:"make",zd:!0};T.Rx={classID:"Mk",null:hi.X$("layerSection"),From:hi.X$("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:G.getName()}}}};
this.track(T)}}if(b==h.apR){if(o.g.length!=1)return;var W=o.g[0],h8=F;if(o.B[W].Da()==null&&!c.S(dG._k)){b=h.UZ;
x.ns=o.u?!h8?"RvlS":"HdSl":!h8?"RvlA":"HdAl"}else{b=h.B_;x.a2i=!0}}if(b==h.UZ){if(o.g.length!=1)return;
var W=o.g[0],G=o.B[W];if(G.add.vmsk&&G.F==null)G.vl(o);var cj=G.Da();if(cj==null||x.anr){var I=new bk(x.Ii?x.Ii:[6,21],this),b1=new h.Tj,jC=x.ns,gh=jC=="RvlS"||jC=="HdSl";
if(jC=="RvlS"||jC=="HdAl"||jC=="Trns")b1.color=0;if(gh){b1.channel=o.u.channel.slice(0);b1.rect=o.u.rect.clone();
if(jC=="HdSl")q.Mr(b1.channel)}if(jC=="Trns"){b1.rect=G.rect.clone();b1.channel=q.R(G.rect.P());q.z$(G.buffer,b1.channel,3)}I.data={d:h.t7,zi:[W,cj,b1],PT:gh?[o.u,null]:null,a3F:jC=="Trns"};
o.VR(I);this.Tu(I.data,o);o.B[W].tB=1;this.track({bV:"make",Rx:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:jC}}}})}}else if(b==h.ah8){var jS=o.B[x.src],cx=o.B[x.NK],I=new bk([6,21],this),bG=jS.Da(),cZ=cx.Da(),eh=[x.src,bG,null,x.NK,cZ,bG];
if(F||k){var hJ=bG.clone();if(F)eh=[x.NK,cZ,hJ];else eh[5]=hJ;if(k){q.Mr(hJ.channel);hJ.color=255-hJ.color}}I.data={d:h.t7,zi:eh};
o.VR(I);this.Tu(I.data,o)}if(b==h.Z5){if(o.g.length!=1)return;var W=l,jK=o.B[W].Da();if(jK!=null){var I=new bk([6,22],this);
I.data={d:h.t7,zi:[l,jK,null]};o.VR(I);this.Tu(I.data,o)}}if(b==h.Uq){var jN=o.B.slice(0),dc=i.clone(),ca=dc.Da();
q.gV(ca.Dy(dc.rect),dc.rect,dc.buffer,dc.rect);n.Y8.up(o,dc);dc.xz();o.B[o.g[0]]=dc;var I=new bk([5,8],this);
I.data={d:h.$k,Hi:jN,Ay:o.B.slice(),T2:o.g.slice(0),Ff:o.g.slice(0)};o.VR(I);this.Tu(I.data,o)}if(b==h.oB){if(o.g.length!=1)return;
var W=o.g[0];if(o.B[W].O5(o).F==null){var I=new bk([6,45],this);I.data={d:b,a:W,F:new h.Tj};o.VR(I);
this.Tu(I.data,o)}}if(b==h.vM){if(o.g.length!=1)return;var W=o.g[0];if(o.B[W].O5(o).F!=null){var I=new bk([6,46],this);
I.data={d:b,a:W,F:o.B[W].O5(o).F};o.VR(I);this.Tu(I.data,o)}}if(b==h.Av){if(x.src==null&&o.g.length!=1)return;
if(x.src!=null)l=x.src;if(o.B[l].AD()){var I=new bk([6,47],this),d2=JSON.stringify(o.B[l].add.SoLd),hu=JSON.parse(d2);
delete hu.filterFX;I.data={d:h.D7,uf:[{gg:l,n1:[d2,JSON.stringify(hu)],KV:[o.B[l].O5(o),null]}]};o.VR(I);
this.Tu(I.data,o)}}if(b==h.B_){if(o.g.length!=1)return;if(i.add.vmsk==null){var I=new bk([6,23],this),ek=o.l$(),dO=ek[1],ek=ek[0],b1,cy;
if(x.a2i&&dO.length!=0){var hI=ek[dO[0]].add;b1=hI.vmsk.clone();cy=hI.vogk}else{b1=new h._b;cy=[];b1.$[1].all=x.aaG?0:1}I.data={d:b,a:l,kY:!0,F:b1,WE:JSON.stringify(cy),Ao:null};
if(i.A0()){I.data.Ao=Stroke.Ao.Bt(!0)}o.VR(I);this.Tu(I.data,o)}}if(b==h.fv){var jS=o.B[x.src],cx=o.B[x.NK];
if(cx.add.vmsk)return;var I=new bk([6,23],this),e5=jS.add.vmsk;I.data={a:x.NK,kY:jS.Hn,F:e5.clone(),WE:JSON.stringify(jS.add.vogk),Ao:jS.add.vstk?JSON.stringify(jS.add.vstk):null};
if(F){I.data.d=h.B_}else{I.data.d=b;I.data.src=x.src;I.data.NK=x.NK}o.VR(I);this.Tu(I.data,o)}if(b==h.fH||b==h.mE){if(o.g.length!=1)return;
var G=o.B[l],e5=G.add.vmsk;if(e5!=null){var fr=b==h.mE,I=new bk(fr?[6,8]:[6,24],this);I.data={d:h.fH,a:l,kY:G.Hn,F:e5,WE:JSON.stringify(G.add.vogk),Ao:G.add.vstk?JSON.stringify(G.add.vstk):null};
if(fr){I.data.Ie=e5.Da(G.add.vstk)}o.VR(I);this.Tu(I.data,o)}}if(b==h.cw){var I=new bk("Metadata",this);
I.data={d:b,LF:JSON.stringify(o.TP),Oz:JSON.stringify(x.Oz)};o.VR(I);this.Tu(I.data,o)}if(b==h.TL){var dn=x.NK?x.NK:o,a5=dn.name,i0=x.b+".psd";
if(a5==i0)return;var I=new bk([6,37],this);I.data={d:b,azf:a5,Ii:i0};if(x.agY!=!0)dn.VR(I);this.Tu(I.data,dn)}if(b==h.th&&x.XC.endsWith("makeframes")){var iD=[],cE=x.XC.startsWith("make");
for(var $=0;$<o.g.length;$++){var y=o.g[$],G=o.B[y],f$=G.getName(),gA=f$.startsWith("_a_");if(cE==gA||G.add.lsct==es.qF)continue;
var ap=cE?"_a_"+f$:f$.slice(3);iD.push([y,f$,ap,G.add.lnsr,null])}var I=new bk([6,37],this);I.data={d:h.mx,KJ:iD};
o.VR(I);this.Tu(I.data,o)}if(b==h.mx){var a5=i.getName(),i0=x.name.substring(0,255);if(a5==i0)return;
var I=new bk([6,37],this);I.data={d:b,KJ:[[l,a5,i0,i.add.lnsr,null]]};o.VR(I);this.Tu(I.data,o);this.track(hi.s2("Nm",{t:"TEXT",v:i0}))}if(b==h.Lz){var fq=o.kw(),dp=[],ho=[];
for(var $=0;$<fq.length;$++){dp.push(o.B[fq[$]].add.lclr);ho.push(x.ae2)}var I=new bk([6,38],this);I.data={d:b,B:fq,atC:dp,AM:ho};
o.VR(I);this.Tu(I.data,o)}if(b==h.tN){var I=o.history[o.sW];if(I!=null&&I.v==this&&I.data.d==b&&I.data.a==x.XP&&I.data._Q.Nz==x.b1.Nz)I.data._Q=x.b1;
else{I=new bk("Mask Density / Feather",this);I.data={d:b,a:x.XP,xg:o.B[x.XP].vw(x.b1.Nz),_Q:x.b1};o.VR(I)}this.Tu(I.data,o)}if(b==h.d3){var br=JSON.stringify(x.b),i7=JSON.parse(br),I=o.history[o.sW];
if(I!=null&&I.v==this&&I.data.d==b&&I.data.H6==x.H6&&I.data.UO.join(",")==x.UO.join(",")){for(var $=0;
$<x.UO.length;$++)I.data.J5[$]=i7;if(I.data.Rx&&i7.lZ!=0)n.Y8.Bj(i7.h5,I.data.Rx.T.v,i7.lZ-1)}else{I=new bk([11,6],this);
I.data={d:b,UO:x.UO,H6:x.H6,arX:[],J5:[]};var dN=!1;for(var $=0;$<x.UO.length;$++){var y=x.UO[$],G=o.B[y],fi=x.H6?bs.wr(G.add):JSON.parse(JSON.stringify(G.add.vstk));
I.data.arX.push(fi);I.data.J5.push(i7);if(JSON.stringify(fi)!=br)dN=!0}if(!dN)return;o.VR(I);if(x.H6&&i7.lZ>0){var de=I.data.Rx={classID:"setd",null:hi.X$("contentLayer",!0),T:{t:"Objc",v:{}}};
n.Y8.Bj(i7.h5,de.T.v,i7.lZ-1);this.track({bV:"set",Rx:de})}}if(x.H6&&i7.lZ==3)o.K0(cI.$N(i7.h5.Ptrn.v,E.yC));
if(!x.H6){var fK=i7.strokeStyleContent.v;if(fK.classID==bs.Ao.Ce[2])o.K0(cI.$N(fK.Ptrn.v,E.yC))}this.Tu(I.data,o)}};
n.Y8.Tb=function(x,J,o,c,E,b){var l=x.B[o],i=[];if(E)i=x.B.slice(0);else for(var $=0;$<x.B.length;$++)if(J.indexOf($)==-1)i.push(x.B[$]);
var F=i.indexOf(l);if(b&&l.Zk()&&l.add.lsct==es.tm)F-=x.BZ(o).length-1;var k=[];for(var $=0;$<J.length;
$++){var U=F+(c?0:1)+$,I=E?E[$]:x.B[J[$]];i.splice(U,0,I);k.push(U)}return[i,k,F]};n.Y8.Bj=function(x,J,o){var c=[bs.MA,bs.Xp,bs.X2][o];
if(J.classID==null)J.classID=["solidColorLayer","gradientLayer","patternLayer"][o];for(var $=0;$<c.length;
$++)if(x[c[$]])J[c[$]]=JSON.parse(JSON.stringify(x[c[$]]))};n.Y8.a2F=function(x){var J=new h.Tj;if(x.u!=null){J.color=0;
J.channel=x.u.channel.slice(0);J.rect=x.u.rect.clone()}return J};n.Y8.jj=function(x,J,o,c,E){var b=c.m/o.m,l=c.e/o.e,i=c.m/2,F=c.e/2,k=q.O.ny(c).j;
for(var $=0;$<x.B.length;$++){var U=x.B[$],I=U.add.SoLd;if(I==null||I.Idnt.v!=J)continue;if(b!=1||l!=1){var V=n.Y.AX(I.nonAffineTransform),u=q.D.LH(V,c),N=new cW;
N.translate(-i,-F);N.scale(b,l);N.translate(i,F);var e=q.D.hf(u,q.D.ay(N)),B=k.slice(0);q.D.M(e,B);I.Trnf=n.Y.AA(B);
I.nonAffineTransform=n.Y.AA(B);if(q.Oq.IQ(I.quiltWarp.v)){var j=I.quiltWarp.v.bounds.v;j.Rght.v.val=c.m;
j.Btom.v.val=c.e}}U.aW(x,null,E,!0)}x.W()};n.Y8.air=function(x,J,o){J.color=255-J.color;q.Mr(J.channel);
J.op=!0;x.vl(o);o.W()};n.Y8.prototype.WY=function(x,J){var o=x.d,c=J.B[x.a];J.Gf=!0;if(o==h.oq){J.add.lnk2.splice(J.add.lnk2.indexOf(x.YC),1,x.Fp);
n.Y8.jj(J,x.id,x.YC.pH[1],x.Fp.pH[1])}if(o==h.Y7){c.add.SoLd.Impr.v.classID=x.xg;c.aW(J)}if(o==h.QA){var E=JSON.parse(x.UO);
for(var $=0;$<E.length;$++)J.B[E[$]].n5=x.cF[$];J.W()}if(o==h.CE){var E=JSON.parse(x.UO);for(var $=0;
$<E.length;$++)J.B[E[$]].opacity=x.cF[$];J.W()}if(o==h.QF){var E=JSON.parse(x.UO);for(var $=0;$<E.length;
$++)if(J.B[E[$]].add.lsct!=es.qF)J.B[E[$]].add.lspf=x.cF[$]}if(o==h.RI){var b=x.P5,l=x.ad4;delete c.add[b[0]];
if(l[0]!="----")c.add[l[0]]=l[1]}if(o==h.a9){c.add.iOpa=x.cF;J.W()}if(o==h.cm){for(var $=0;$<x.UO.length;
$++){var i=J.B[x.UO[$]];i.Ut(!i.kR())}J.W()}if(o==h.YB){var F=c.Da();F.isEnabled=!F.isEnabled;c.vl(J);
J.W()}if(o==h.Zr){var F=c.O5(J).F;F.isEnabled=!F.isEnabled;c.W();J.W()}if(o==h.vu){var F=c.add.vmsk;
F.isEnabled=!F.isEnabled;if(!F.isEnabled){if(c.Ie){c.F=c.Ie;c.Ie=null}else c.F=null}else if(c.F){c.Ie=c.F;
c.F=null}c.vl(J);J.W()}if(o==h.LE){c.$j=!c.$j;J.W()}if(o==h.Lf){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.Ex.$Y=!0;J.W()}if(o==h.xa){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.RD(J);J.W()}if(o==h.U_){var k=x.index,U=c.add.lmfx[bs.x0[k[0]]].v[k[1]].v;
U.enab.v=!U.enab.v;c.Ex.$Y=!0;J.W()}if(o==h.PY){var I=J.B[x.mG],V=J.B[x.Jx],u=x.ahU,N=x.avW;if(u=="")delete I.add.lmfx;
else I.add.lmfx=JSON.parse(u);if(N=="")delete V.add.lmfx;else V.add.lmfx=JSON.parse(N);I.Ex.$Y=!0;V.Ex.$Y=!0;
J.W()}if(o==h.Jz){var e=c.add.SoLd.filterFX.v.filterFXList.v[x.index].v;e.enab.v=!e.enab.v;c.RD(J);J.W()}if(o==h.a2y){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(x.aAj));
c.RD(J);J.W()}if(o==h.$n){var F=c.Da();F.uM=!F.uM}if(o==h.KT){var F=c.add.vmsk;F.uM=!F.uM}if(o==h.FT){var B=JSON.parse(x.ap8);
J.Jr=B[0];J.V8=B[1]}if(o==h.R2){var B=x.yd;for(var $=0;$<B.length;$+=2){var j=B[$],i=j>=0?J.B[j]:J.yB[-1-j];
i.add.vogk=JSON.parse(B[$+1]);q.WE.Gx(i.add.vogk,i.add.vmsk);if(j>=0)i.vl(J)}J.W()}if(o==h.Ru){c.add.artb=JSON.parse(x.a8f);
J.W();n.Pm.O2(J,x)}if(o==h.Jh){J.u=x.BJ;if(x.a8g)J.Q.U=x.a8g.slice(0);J._w=x.yd.slice(0);J.X7=x.$B.slice(0);
J.sD=J.o0=!0}if(o==h.qI){c.yG=!c.yG}if(o==h.wN){var T=x.asw;for(var $=0;$<T.length;$++)J.B[$].vc=T[$]}if(o==h.$k){if(x.Ck)n.fp.jW(J,J.g,null,-x.Ck.x,-x.Ck.y);
if(x.T2)J.g=x.T2;if(x.PT)J.u=x.PT[0];J.vd=null;J.W();J.VQ(x.Hi);n.Pm.O2(J,x);if(x.Ky)J.xW(x.Ky[0])}if(o==h.t7){for(var $=0;
$<x.zi.length;$+=3)n.Y8.up(J,J.B[x.zi[$]],x.zi[$+1]);if(x.PT){var a=x.PT[0];if(a==null)delete J.u;else J.u=a}if(x.a3F){var i=J.B[x.zi[0]];
q.qR(x.zi[2].channel,i.buffer,3)}}if(o==h.oB){c.O5(J).F=null;c.W();J.W()}if(o==h.vM){c.O5(J).F=x.F;c.W();
J.W()}if(o==h.D7){n.Y8.aah(J,x.uf,0)}if(o==h.B_){n.Y8.Vb(J,c,!0)}if(o==h.fv){n.Y8.Vb(J,J.B[x.NK],x.F.isEnabled);
n.Y8.d4(J,J.B[x.src],x)}if(o==h.fH){if(x.Ie)n.Y8.up(J,c,null);n.Y8.d4(J,c,x)}if(o==h.cw){J.TP=JSON.parse(x.LF)}if(o==h.TL){J.name=x.azf}if(o==h.mx){for(var $=0;
$<x.KJ.length;$++){var P=x.KJ[$],i=J.B[P[0]];i.Yq(P[1]);if(P[3])i.add.lnsr=P[3];else delete i.add.lnsr}}if(o==h.Lz){for(var $=0;
$<x.B.length;$++)J.B[x.B[$]].add.lclr=x.atC[$]}if(o==h.d3){var v=x.arX;for(var $=0;$<x.UO.length;$++){var i=J.B[x.UO[$]],R=v[$];
if(!x.H6)i.add.vstk=JSON.parse(JSON.stringify(R));else bs.AJ(i.add,JSON.parse(JSON.stringify(R)));i.NU(J)}J.W()}if(o==h.tN){c.ak9(x.xg);
c.vl(J);J.W()}J.o0=!0};n.Y8.prototype.Tu=function(x,J){var o=x.d,c=J.B[x.a];J.Gf=!0;if(o==h.oq){J.add.lnk2.splice(J.add.lnk2.indexOf(x.Fp),1,x.YC);
n.Y8.jj(J,x.id,x.Fp.pH[1],x.YC.pH[1])}if(o==h.Y7){c.add.SoLd.Impr.v.classID=x._Q;c.aW(J)}if(o==h.QA){var E=JSON.parse(x.UO);
for(var $=0;$<E.length;$++)J.B[E[$]].n5=x._Q;J.W()}if(o==h.CE){var E=JSON.parse(x.UO);for(var $=0;$<E.length;
$++)J.B[E[$]].opacity=x._Q;J.W()}if(o==h.QF){var E=JSON.parse(x.UO);for(var $=0;$<E.length;$++)if(J.B[E[$]].add.lsct!=es.qF)J.B[E[$]].add.lspf=x._Q[$]}if(o==h.RI){var b=x.ad4,l=x.P5;
delete c.add[b[0]];if(l[0]!="----")c.add[l[0]]=l[1]}if(o==h.a9){c.add.iOpa=x._Q;J.W()}if(o==h.cm){for(var $=0;
$<x.UO.length;$++){var i=J.B[x.UO[$]];i.Ut(!i.kR())}J.W()}if(o==h.YB){var F=c.Da();F.isEnabled=!F.isEnabled;
c.vl(J);J.W()}if(o==h.Zr){var F=c.O5(J).F;F.isEnabled=!F.isEnabled;c.W();J.W()}if(o==h.vu){var F=c.add.vmsk;
F.isEnabled=!F.isEnabled;if(!F.isEnabled){if(c.Ie){c.F=c.Ie;c.Ie=null}else c.F=null}else if(c.F){c.Ie=c.F;
c.F=null}c.vl(J);J.W()}if(o==h.LE){c.$j=!c.$j;J.W()}if(o==h.Lf){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.Ex.$Y=!0;J.W()}if(o==h.xa){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.RD(J);J.W()}if(o==h.U_){var k=x.index,U=c.add.lmfx[bs.x0[k[0]]].v[k[1]].v;
U.enab.v=!U.enab.v;c.Ex.$Y=!0;J.W()}if(o==h.PY){var I=J.B[x.mG],V=J.B[x.Jx],u=x.akp,N=x.arm;if(u=="")delete I.add.lmfx;
else I.add.lmfx=JSON.parse(u);if(N=="")delete V.add.lmfx;else V.add.lmfx=JSON.parse(N);I.Ex.$Y=!0;V.Ex.$Y=!0;
J.W()}if(o==h.Jz){var e=c.add.SoLd.filterFX.v.filterFXList.v[x.index].v;e.enab.v=!e.enab.v;c.RD(J);J.W()}if(o==h.a2y){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(x.atn));
c.RD(J);J.W()}if(o==h.$n){var F=c.Da();F.uM=!F.uM}if(o==h.KT){var F=c.add.vmsk;F.uM=!F.uM}if(o==h.FT){var B=JSON.parse(x.aqf);
J.Jr=B[0];J.V8=B[1]}if(o==h.R2){var B=x.HT;for(var $=0;$<B.length;$+=2){var j=B[$],i=j>=0?J.B[j]:J.yB[-1-j];
i.add.vogk=JSON.parse(B[$+1]);q.WE.Gx(i.add.vogk,i.add.vmsk);if(j>=0)i.vl(J)}J.W()}if(o==h.Ru){c.add.artb=JSON.parse(x.Ls);
J.W();n.Pm.pL(J,x)}if(o==h.Jh){J.u=x.g9;if(x.ak_)J.Q.U=x.ak_.slice(0);J._w=x.HT.slice(0);J.X7=x.ju.slice(0);
J.sD=J.o0=!0}if(o==h.qI){c.yG=!c.yG}if(o==h.wN){var T=x.ahV;for(var $=0;$<T.length;$++)J.B[$].vc=T[$]}if(o==h.$k){J.atA();
var a=x.Ay,P=0,v;for(var $=0;$<a.length;$++){var i=a[$],R=i.add.lsct;if(R==es.qF)P++;else if(R==es.tI||R==es.tm)P--;
if(i.add.artb&&P!=0)v="Artboards can not be inside folders."}if(v){J.history.pop();J.sW--;alert(v);return}n.Pm.pL(J,x);
if(x.Ff)J.g=x.Ff;if(x.PT)J.u=x.PT[1];J.vd=null;J.W();J.VQ(x.Ay);if(x.Ck)n.fp.jW(J,J.g,null,x.Ck.x,x.Ck.y);
if(x.Ky)J.xW(x.Ky[1])}if(o==h.t7){for(var $=0;$<x.zi.length;$+=3)n.Y8.up(J,J.B[x.zi[$]],x.zi[$+2]);if(x.PT){var y=x.PT[1];
if(y==null)delete J.u;else J.u=y}if(x.a3F){var i=J.B[x.zi[0]],t=i.buffer;for(var $=0;$<t.length;$+=4)t[$+3]=255}}if(o==h.oB){c.O5(J).F=x.F;
c.tB=0;c.W();J.W()}if(o==h.vM){c.O5(J).F=null;c.tB=0;c.W();J.W()}if(o==h.D7){n.Y8.aah(J,x.uf,1)}if(o==h.B_){n.Y8.d4(J,c,x)}if(o==h.fv){n.Y8.Vb(J,J.B[x.src],x.F.isEnabled);
n.Y8.d4(J,J.B[x.NK],x)}if(o==h.fH){n.Y8.Vb(J,c,x.F.isEnabled);if(x.Ie)n.Y8.up(J,c,x.Ie)}if(o==h.cw){J.TP=JSON.parse(x.Oz)}if(o==h.TL){J.name=x.Ii}if(o==h.mx){for(var $=0;
$<x.KJ.length;$++){var g=x.KJ[$],i=J.B[g[0]];i.Yq(g[2]);if(g[4])i.add.lnsr=g[4];else delete i.add.lnsr}}if(o==h.Lz){for(var $=0;
$<x.B.length;$++)J.B[x.B[$]].add.lclr=x.AM[$]}if(o==h.d3){var H=x.J5;for(var $=0;$<x.UO.length;$++){var i=J.B[x.UO[$]],_=H[$];
if(!x.H6)i.add.vstk=JSON.parse(JSON.stringify(_));else bs.AJ(i.add,JSON.parse(JSON.stringify(_)));i.NU(J)}J.W()}if(o==h.tN){c.ak9(x._Q);
c.vl(J);J.W()}J.o0=!0};n.Y8.q4=function(x,J){var o=0;for(var $=0;$<x.B.length;$++){var c=x.B[$].getName();
if(c.startsWith(J)){var E=c.slice(J.length).trim(),b=parseInt(E);if(!isNaN(b)&&b+""==E&&b>o)o=b}}return o};
n.Y8.aah=function(x,J,o){for(var $=0;$<J.length;$++){var c=J[$],E=x.B[c.gg];if(c.n1){E.add.SoLd=JSON.parse(c.n1[o])}if(c.KV){if(c.KV[1-o]!=null)x.qg(c.KV[1-o]);
if(c.KV[o]!=null)x.ie(c.KV[o]);else E.tB=0}E.aW(x)}};n.Y8.afg=function(x,J){var o=x.lQ,c=x.rect.clone();
if(o!=null&&(o.x!=J.m||o.y!=J.e)){c.x=Math.floor((J.m-c.m)/2);c.y=Math.floor((J.e-c.e)/2)}else if(o==null){var E=new ha(0,0,J.m,J.e),b=J.Eq();
if(b!=-1)E=J.B[b].uc();c.x+=E.x;c.y+=E.y}return c};n.Y8.alR=function(x,J){if(J.Ie)J.Ie=null;else J.F=null;
J.vl(x);x.W();J.tB=0};n.Y8.up=function(x,J,o){var c=J.Da();if(c==null&&o==null)return;if(c)n.Y8.alR(x,J);
if(o==null)return;if(J.F)J.Ie=o;else J.F=o;J.vl(x);x.W()};n.Y8.Vb=function(x,J,o){if(J.Ie&&o){J.F=J.Ie;
J.Ie=null}else if(J.F&&o){J.F=null}delete J.add.vogk;delete J.add.vstk;delete J.add.vmsk;J.vl(x);J.Hn=!1;
x.vd=[];x.W()};n.Y8.d4=function(x,J,o){J.add.vogk=JSON.parse(o.WE);if(o.Ao)J.add.vstk=JSON.parse(o.Ao);
else delete J.add.vstk;J.add.vmsk=o.F.clone();if(J.F&&J.add.vmsk.isEnabled)J.Ie=J.F;J.vl(x);J.Hn=o.kY;
x.vd=[x.B.indexOf(J)];x.Np=[];x.W()};n.BH=function(){n.Kj.call(this,"Layer Styles",n.yq);this.rY=null;
this.hZ=null;this.eX=null;this.Kl=[];this.AU=null};n.BH.prototype=new n.Kj;n.BH.prototype.E4=function(x,J,o,c,E){var b=x.a;
if(b==null)b=o.g[0];var l=o.B[b],i=x.cD;if(this.rY==null){this.eX=n.BH.Aw(o,l);this.rY=JSON.stringify(this.eX);
if(l.add.lmfx)this.hZ=JSON.stringify(l.add.lmfx)}if(l.add.lmfx==null){l.add.lmfx=JSON.parse(bs.default);
for(var $=0;$<bs.order.length;$++)l.add.lmfx[bs.x0[$]]={t:"VlLs",v:[]}}if(x.d=="scaleeffects"){if(x.b=="confirm"||x.b=="cancel"){this.E4({d:x.b},J,o,c,E);
return}l.add.lmfx=JSON.parse(this.hZ);cI.bw(l.add.lmfx,x.b/100)}else if(x.d=="changeprop"){var F=null;
if(i!=0){var k=this.Kl[i[0]];if(k==null)k=bs.Kl[i[0]];k=JSON.parse(k);var U=l.add.lmfx[bs.x0[i[0]]].v;
if(U[i[1]]==null)U[i[1]]={t:"Objc",v:k};F=U[i[1]].v;for(var I in k)if(F[I]==null)F[I]=k[I]}if(x.d=="changeprop"){if(i==0){this.eX[x.Sy].v=x.b;
n.BH.Qp(o,l,this.eX)}else if(x.Sy=="lagl"){if(F.uglg&&F.uglg.v){o.Ok(x.b.val);this.eX.gagl.v.val=o.xb()}else F[x.Sy].v=x.b}else if(x.Sy=="Lald"){if(F.uglg.v){o.Hd(x.b.val);
this.eX.aqi=o.kA()}else F[x.Sy].v=x.b}else if((i[0]==3||i[0]==8)&&(x.Sy=="Clr"||x.Sy=="Grad")){if(x.Sy=="Clr"){F.Clr={t:"Objc",v:x.b};
delete F.Grad}if(x.Sy=="Grad"){F.Grad={t:"Objc",v:x.b};delete F.Clr}}else{F[x.Sy].v=x.b}if(i!=0)this.Kl[i[0]]=JSON.stringify(F)}if(i!=0)if(F.Ptrn)o.K0(cI.$N(F.Ptrn.v,E.yC))}else if(x.d=="setstl"){var V=x.b.Lefx;
if(V)cI.aBt(V,o,E.yC);cI.ao5(x.b,l,null,o);this.eX=n.BH.Aw(o,l)}else if(x.d=="st_dupsingle"){var u=l.add.lmfx[bs.x0[x.CX[0]]].v;
if(u[x.CX[1]]==null)return;var N=JSON.parse(JSON.stringify(u[x.CX[1]]));u.splice(x.CX[1],0,N)}else if(x.d=="st_movsingle"){var e=x.CX[1],u=l.add.lmfx[bs.x0[x.CX[0]]].v;
if(u[x.CX[1]]==null)return;var B=Math.max(0,Math.min(u.length-1,e+x.aAQ)),j=u[B];u[B]=u[e];u[e]=j}else if(x.d=="cancel"){if(this.hZ==null)delete l.add.lmfx;
else l.add.lmfx=JSON.parse(this.hZ);n.BH.Qp(o,l,JSON.parse(this.rY));this.rY=null;this.hZ=null}else if(x.d=="confirm"){var T=JSON.stringify(l.add.lmfx),a=new bk([11,6],this);
a.data={B:[b],Oa:[this.hZ],av:[T],X1:[this.rY],dV:[JSON.stringify(this.eX)]};o.VR(a);this.rY=null;this.hZ=null;
if(T!=null){var P=JSON.parse(T);ie.h3(P);P.classID="Lefx";delete P.masterFXSwitch;var v=new ko(L.E.p4);
v.A8=!0;v.data={bV:"set",zd:!0};var R=hi.X$("Lyr",!0);R.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
v.data.Rx={__name:"Set",classID:"setd",null:R,T:{t:"Objc",v:P}};J.c(v)}}else if(x.d=="st_copy"){this.AU=[this.rY,this.hZ];
this.rY=null;this.hZ=null}else if(x.d=="st_paste"||x.d=="st_clear"){if(x.d=="st_paste"&&this.AU==null)return;
var y=x.a!=null?[x.a]:o.g.slice(0),t=[],g=[],H=[],_=[];for(var $=0;$<y.length;$++){var l=o.B[y[$]],Y=n.BH.Aw(o,l);
t.push(l.add.lmfx?JSON.stringify(l.add.lmfx):null);H.push(JSON.stringify(Y));if(x.d=="st_paste"){g.push(this.AU[1]);
_.push(this.AU[0])}else{g.push(null);Y.lrMd.v=0;Y.Opct.v.val=100;Y.iOpa.v.val=100;Y.blIf={v:[]};for(var K=0;
K<10;K++)Y.blIf.v.push(0,0,255,255);_.push(JSON.stringify(Y))}}var a=new bk([11,6],this);a.data={B:y,Oa:t,av:g,X1:H,dV:_};
this.Tu(a.data,o);o.VR(a);this.rY=null;this.hZ=null}else{var f=this.eX,P=null;if(x.d=="st_delsingle"){P=JSON.parse(this.hZ);
P[bs.x0[x.CX[0]]].v.splice(x.CX[1],1);P=JSON.stringify(P)}if(P==null)delete l.add.lmfx;else l.add.lmfx=JSON.parse(P);
if(f!=null)n.BH.Qp(o,l,f);var a=new bk([11,6],this);a.data={B:[x.a],Oa:[this.hZ],av:[P],X1:[this.rY],dV:[JSON.stringify(f)]};
o.VR(a);this.rY=null;this.hZ=null}l.Ex.$Y=!0;o.Gf=!0;o.W()};n.BH.Aw=function(x,J){if(J.add.iOpa==null)J.add.iOpa=255;
if(J.add.brst==null)J.add.brst=[1,1,1];var o=J.Zk()?["pass"].concat(iP.f5):iP.f5;return{lrMd:{v:o.indexOf(J.n5)},Opct:{v:{type:"#Prc",val:Math.round(J.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(J.add.iOpa*100/255)},t:"UntF"},blIf:{v:J.v9.slice(0)},brst:{v:J.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:x.xb()}},aqi:x.kA(),Zk:J.Zk()}};
n.BH.Qp=function(x,J,o){var c=J.Zk()?["pass"].concat(iP.f5):iP.f5;J.n5=c[o.lrMd.v];J.opacity=Math.round(o.Opct.v.val*255/100);
J.add.iOpa=Math.round(o.iOpa.v.val*255/100);J.v9=o.blIf.v.slice(0);J.add.brst=o.brst.v.slice(0);x.Ok(o.gagl.v.val);
x.Hd(o.aqi)};n.BH.prototype.WY=function(x,J){for(var $=0;$<x.B.length;$++){var o=J.B[x.B[$]],c=x.Oa[$];
if(c==null)delete o.add.lmfx;else o.add.lmfx=JSON.parse(c);n.BH.Qp(J,o,JSON.parse(x.X1[$]));o.Ex.$Y=!0}J.Gf=!0;
J.W()};n.BH.prototype.Tu=function(x,J){for(var $=0;$<x.B.length;$++){var o=J.B[x.B[$]],c=x.av[$];if(c==null)delete o.add.lmfx;
else o.add.lmfx=JSON.parse(c);n.BH.Qp(J,o,JSON.parse(x.dV[$]));o.Ex.$Y=!0}J.Gf=!0;J.W()};n.D4=function(){n.Kj.call(this,"Layer Comps",n.mY)};
n.D4.prototype=new n.Kj;n.D4.prototype.E4=function(x,J,o,c){var E=JSON.parse(JSON.stringify(o.Ib)),b=JSON.parse(JSON.stringify(o.Ib)),l=null,i=null,F=null,k=-1,U=!1;
if(x.d=="delLC"){var I=n.D4.ZJ(o.Ib,x.cD),V=o.Ib.lastAppliedComp?o.Ib.lastAppliedComp.v:0;b.list.v.splice(I,1);
if(V==x.cD)delete b.lastAppliedComp;l="Delete Layer Comp"}if(x.d=="editLC"){var I=n.D4.ZJ(o.Ib,x.cD),u=b.list.v[I].v;
if(x.Ii!=null)u.Nm.v=x.Ii;if(x.aBx!=null){var N=x.aBx,e=u.capturedInfo.v,B=e&(1<<N)-1;e=e>>N;if((e&1)==1)e--;
else e++;u.capturedInfo.v=(e<<N)+B}l="Layer Comp properties"}if(x.d=="setLC"){n.D4.wf(o);if(x.cD==0)delete b.lastAppliedComp;
else b.lastAppliedComp={t:"long",v:x.cD};l="Switch Layer Comp";U=!0}if(x.d=="updLC"){n.D4.wf(o);i=n.D4.aun(o,x.cD);
F=n.D4.XS(o,x.cD);b.lastAppliedComp={t:"long",v:x.cD};l="Update Layer Comp";k=x.cD;U=!0}if(x.d=="addLC"){n.D4.wf(o);
var j=1;for(var $=0;$<b.list.v.length;$++)j=Math.max(j,b.list.v[$].v.compID.v)+1;j+=Math.floor(Math.random()*1e4);
var T={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(b.list.v.length+1)},compID:{t:"long",v:j},capturedInfo:{t:"long",v:7}}};
b.list.v.push(T);b.lastAppliedComp={t:"long",v:j};l="New Layer Comp";var a=n.D4.XS(o,j);n.D4.iB(o,a,j)}var P=new bk(l,this);
P.data={abH:E,ahy:b,aC2:i,ad8:F,cD:k,_A:U};this.Tu(P.data,o);o.VR(P)};n.D4.prototype.Tu=function(x,J){J.Ib=x.ahy;
J.Gf=!0;if(x.ad8)n.D4.iB(J,x.ad8,x.cD);if(x._A){var o=J.Ib.lastAppliedComp?J.Ib.lastAppliedComp.v:0,c=n.D4.ZJ(J.Ib,o),E=c==-1?null:J.Ib.list.v[c].v,b=E?E.capturedInfo.v:7;
n.D4.AK(J,o,b);J.W()}};n.D4.prototype.WY=function(x,J){J.Ib=x.abH;J.Gf=!0;if(x.aC2)n.D4.iB(J,x.aC2,x.cD);
if(x._A){var o=J.Ib.lastAppliedComp?J.Ib.lastAppliedComp.v:0,c=n.D4.ZJ(J.Ib,o),E=c==-1?null:J.Ib.list.v[c].v,b=E?E.capturedInfo.v:7;
n.D4.AK(J,o,b);J.W()}};n.D4.wf=function(x){if(x.Ib.lastAppliedComp!=null||!x.MY)return;var J=n.D4.XS(x,0);
n.D4.iB(x,J,0);x.MY=!1};n.D4._l=function(x,J,o){x.v.Hrzn.v+=J;x.v.Vrtc.v+=o};n.D4.ZJ=function(x,J){var o=x.list.v;
for(var $=0;$<o.length;$++)if(o[$].v.compID.v==J)return $;return-1};n.D4.a5c=function(x){var J=x.layerSettings.v,E=null;
if(J.length==0)return;var o="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),c=J[0].v;
if(c.enab==null)c.enab={t:"bool",v:!0};if(c.Ofst==null)c.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var $=0;$<J.length;$++){var b=J[$].v;if(E==null)E=JSON.parse(JSON.stringify(b));else for(var l=0;
l<o.length;l++){var i=o[l];if(b[i])E[i]=JSON.parse(JSON.stringify(b[i]))}J[$].v=JSON.parse(JSON.stringify(E))}};
n.D4.ava=function(x,J){var o=x.add.shmd.cmls,c=o.layerSettings.v;for(var E=0;E<c.length;E++){var b=c[E].v,l=b.compList.v[0].v;
if(l==J)return E}return-1};n.D4.a88=function(x,J){var o=n.D4.ava(x,J);return o==-1?null:x.add.shmd.cmls.layerSettings.v[o].v};
n.D4.AK=function(x,J,o){for(var $=0;$<x.B.length;$++){var c=x.B[$],E=c.add.shmd.cmls;if(E==null)continue;
var b=E.layerSettings.v,l=n.D4.a88(c,J);if(l==null){c.Ut(!1);continue}if((o&1)!=0){if(l.enab)c.Ut(l.enab.v);
else c.Ut(!0)}if((o&2)!=0){if(l.Ofst){var i=l.Ofst.v,F=c.UG(x),k=Math.round(i.Hrzn.v-F.x),U=Math.round(i.Vrtc.v-F.y);
if(k!=0||U!=0)n.fp.jW(x,[$],null,k,U)}}if((o&4)!=0){if(l.Lefx){var I=JSON.parse(JSON.stringify(l.Lefx.v));
ie.Vn(I);if(JSON.stringify(I)!=JSON.stringify(c.add.lmfx)){c.add.lmfx=I;c.Ex.$Y=!0}}else delete c.add.lmfx;
if(l.blendOptions){var V=l.blendOptions.v;if(V.Opct)c.opacity=Math.round(255*V.Opct.v.val/100);if(V.fillOpacity)c.add.iOpa=Math.round(255*V.fillOpacity.v.val/100);
if(V.Md)c.n5=c.add.lsct==es.qF?"norm":iP.Am(V.Md.v.BlnM)}else{c.opacity=255;c.n5=c.Zk()?"pass":"norm";
c.add.iOpa=255}}}};n.D4.aun=function(x,J){var o={};for(var $=0;$<x.B.length;$++){var c=x.B[$];if(c.add.shmd==null||c.add.shmd.cmls==null)continue;
o["l"+c.add.lyid]=JSON.parse(JSON.stringify(n.D4.a88(c,J)))}return o};n.D4.XS=function(x,J){var o={};
for(var $=0;$<x.B.length;$++){var c=x.B[$],E=c.add.lyid;o["l"+E]=n.D4.agF(x,c,J)}return o};n.D4.agF=function(x,J,o){var c=J.add.shmd?J.add.shmd.cmls:null,E={classID:"null"},b=J.UG(x),l={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:b.x},Vrtc:{t:"long",v:b.y}}};
E.compList={t:"VlLs",v:[{t:"long",v:o}]};E.enab={t:"bool",v:J.kR()};E.Ofst=JSON.parse(JSON.stringify(l));
E.FXRefPoint=JSON.parse(JSON.stringify(c&&c.origFXRefPoint?c.origFXRefPoint:l));E.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:iP.V0(J.n5)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*J.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:J.add.iOpa!=null?100*J.add.iOpa/255:100}}}};
if(J.add.vmsk){E.vectorMask={t:"Objc",v:{classID:"null"}};E.vectorMask.v.Ofst=JSON.parse(JSON.stringify(l))}if(J.add.lmfx){E.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(J.add.lmfx))};
ie.h3(E.Lefx.v)}return E};n.D4.aDw=function(x,J){var o=J.add.lyid;if(J.add.shmd==null)J.add.shmd={};
if(J.add.shmd.cmls==null){J.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:o},layerSettings:{t:"VlLs",v:[{t:"Objc",v:n.D4.agF(x,J,0)}]}}}};
n.D4.iB=function(x,J,o){for(var $=0;$<x.B.length;$++){var c=x.B[$],E=c.add.lyid;n.D4.aDw(x,c);var b=c.add.shmd.cmls,l=b.layerSettings.v,i=J["l"+E];
if(i!=null)i={t:"Objc",v:JSON.parse(JSON.stringify(i))};var F=n.D4.ava(c,o);if(F==-1){if(i==null)continue;
else l.push(i)}else{if(i==null)l.splice(F,1);else l[F]=i}}};n.D4.E3=function(x,J){for(var $=0;$<x.B.length;
$++){var o=x.B[$],c=o.add.lyid;if(o.add.shmd==null||o.add.shmd.cmls==null)continue;var E=o.UG(x),b=Math.round(E.x),l=Math.round(E.y);
if(!J){b=-b;l=-l}var i=o.add.shmd.cmls,F=i.layerSettings.v;if(i.origFXRefPoint)n.D4._l(i.origFXRefPoint,-b,-l);
for(var k=0;k<F.length;k++){var U=F[k].v;n.D4._l(U.Ofst,b,l);var I=U.imageMask,V=U.vectorMask;if(I&&I.v.Ofst)n.D4._l(I.v.Ofst,b,l);
if(V&&V.v.Ofst)n.D4._l(V.v.Ofst,b,l)}}};n.FP=function(){n.Kj.call(this,"Adjust Edit",n.pC);this.Oz=null;
this.El=null};n.FP.prototype=new n.Kj;n.FP.Dw=function(x,J,o,c){if(c)J/=4;var E=0,b=0,l=255,i=0,F=0,k=255;
while(b+x[E]<J){b+=x[E];E++}while(i+x[l]<J){i+=x[l];l--}if(c){E-=Math.round(x[E]/(o/32));l+=Math.round(x[l]/(o/32));
if(E<0)F=Math.round(-E*255/(l-E));if(l>255)k=255-Math.round((l-255)*255/(l-E))}return[Math.max(E,0),Math.min(l,255),F,k,100]};
n.FP.prototype.E4=function(x,J,o,c,E){var b=x.d;if(b=="auto"){var l=x.qA,i=n.FP.getData(o);for(var $=0;
$<i.length;$++){var F=i[$],k;if(l<3){}else{var U=fn.Bt("hue2");eZ.Fa(U,0,[0,-100,0]);k=dv.SR("hue2",U)}dv.fa(k,F.kC,F.qC,F.By)}n.FP.pc(o,i);
n.FP.SF(o,i,l<3?[4,16,l]:[19,7,0],this);o.W()}if(b=="edit_layer")this.a2M(x,J,o,c);if(b=="edit"||b=="confirm"||b=="cancel")this.JT(x,J,o,E,!0);
if(b=="start"){if(o.g.length==0)return;var I=o.B[o.g[0]];if(I.add.SoLd&&I.tB<=0&&o.X7.length==0){var V=new ko(L.E.f,!0);
V.v=n.CP;V.data={d:"start",xc:x.fI,fz:x.fz};J.c(V);return}if(!o.FJ(J,null,!0))return;if(jM[x.fI]&&x.fz==null){if(o.g.length!=1)alert("Will be applied to "+o.g.length+" layers.");
var V=new ko(L.E.N,!0);V.data={d:L.H.yI,AN:"afw_"+x.fI};J.c(V)}else{this.JT({d:"edit",fz:x.fz,xc:x.fI},J,o,E);
this.JT({d:"confirm",xc:x.fI},J,o,E)}}};n.FP.prototype.a2M=function(x,J,o,c){var E=x.d,b=o.g[0],l=o.B[b],i=dv.get(l.add),V;
if(l.add[i]==null)return;var F=JSON.parse(JSON.stringify(l.add[i]));for(var k in x.b)F[k]=x.b[k];var U=JSON.parse(JSON.stringify(F));
for(var k in dv.ig)if(dv.ig[k]==i)U.classID=k;var I=o.history[o.sW];if(I&&I.v==this&&I.data.xg!=null&&I.data.a==b)V=I;
else{var u=new ko(L.E.p4,!0),N={classID:"setd",null:hi.X$("AdjL",!0),T:{t:"Objc",v:U}};u.data={zd:!0,bV:"set",Rx:N};
J.c(u);var V=new bk([6,39],this);V.data={a:b,xg:l.add[i],_Q:F,GM:N};o.VR(V)}V.data._Q=F;V.data.GM.T.v=U;
this.Tu(V.data,o)};n.FP.getData=function(x,J,o){var c=[],E=new ha(0,0,x.m,x.e),b=x.X7.length!=0?[-1-x.X7[0]]:x.g;
for(var $=0;$<b.length;$++){var l=b[$],i=l<0?null:x.B[l],F={a:l,ib:l<0?1:i.tB};c.push(F);var k=x._w[-1-l];
if(0<=l)k=i.tB<=0?null:i.tB==1?i.Da():i.O5(x).F;var U=k?k.rect:i.rect;if(x.u){F.By=x.u.rect.Kc(J||k!=null?E:U)}else F.By=J||k!=null?U.k7(E):U.clone();
if(o)F.By=o[$].By.clone();var I=F.By.P();F.kC=q.R(I*4);if(k)n.mv.pU(k.channel,k.rect,k.color,F.kC,F.By);
else q.St(i.buffer,U,F.kC,F.By);F.qC=F.kC.slice(0);if(x.u){F.zi=q.R(I);q.zc(x.u.channel,x.u.rect,F.zi,F.By)}}return c};
n.FP.ax7=function(x,J,o){if(J==null)return J;var c=dv.S5(x,J),b;if(c==-1)return J;var E=o.length>>>2,l=q.Hu(o),i=.001*E;
if(c==0||c==2)b=[[0,255,0,255,100],n.FP.Dw(l[1],i,E,c==2),n.FP.Dw(l[2],i,E,c==2),n.FP.Dw(l[3],i,E,c==2)];
if(c==1)b=[n.FP.Dw(l[0],i*.33,E,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var F=fn.Bt("levl");
for(var $=0;$<4;$++)bF.Fa(F,$,b[$]);return F};n.FP.afS=function(x,J,o,c){var E,b;if(o.t=="name"){var l=0;
for(var i=0;i<x.B.length;i++)if(x.B[i].getName()==o.v.val)l=i;if(x==J&&l==c.a){E=c.kC;b=c.By}else{var F=x.B[l];
E=F.buffer;b=F.rect}}else{b=new ha(0,0,x.m,x.e);E=x==J?c.bA:x.or()}return[E,b]};n.FP.prototype.JT=function(x,J,o,c){if(this.Oz==null){if(x.xc=="aply")o.B[o.g[0]].extend(new ha(0,0,o.m,o.e));
this.Oz=n.FP.getData(o,null,x.xc=="fade"?o.Xz().data:null);if(x.xc=="aply"||x.xc=="matc")this.Oz[0].bA=o.or()}if(x.d=="edit"){this.El=[x.xc,x.fz];
var E=this.Oz[0],b=n.FP.ax7(x.xc,x.fz,E.kC),l=dv.SR(x.xc,b);if(x.xc=="fade"||x.xc=="matc"||x.xc=="aply")l=x.fz;
if(l!=null){for(var i=0;i<this.Oz.length;i++){var F=this.Oz[i];if(x.gJ)q.N8(F.kC,F.qC);else if(x.xc=="fade"){var k=iP.Am(x.fz.Md.v.BlnM),U=x.fz.Opct.v.val/100,I=o.Xz().data[i];
q.N8(I.kC,F.qC);if(k=="norm")q.l.UH(F.kC,F.By,F.qC,F.By,null,null,null,F.By,U);else{var V=cI.N1();V.R3=!0;
for(var $=0;$<I.kC.length;$+=4)if(I.kC[$+3]!=F.kC[$+3]){V=null;break}q.l.j6(k,F.kC,F.By,F.qC,F.By,F.By,U,V)}}else if(x.xc=="matc"){var u;
if(l.noReference&&l.noReference.v)u=F.kC;else{var N=l.Srce.v,e=N[1].v.val,B=J.Zw,j=o;for(var $=0;$<B.length;
$++)if(B[$].name==e)j=B[$];var T=n.FP.afS(j,o,N[0],F);u=T[0]}hB(F.kC,F.By.m,F.By.e,u,F.qC,[l.Lght.v,l.ClrR.v,l.Fade.v,l.neutralizeColor?l.neutralizeColor.v:!1])}else if(x.xc=="aply"){l=l.With.v;
var a=l.T.v,T=n.FP.afS(o,o,a[1],F),u=T[0],P=T[1],v=l.Clcl?l.Clcl.v.Clcn:null,k=v?iP.Am(v):"norm",U=l.Opct?l.Opct.v.val/100:1,R=["RGB","Rd","Grn","Bl","Trsp"].indexOf(a[0].v.enum),b=l.Invr&&l.Invr.v;
if(b||R!=0){u=u.slice(0);if(b)q.aiI(u);if(R!=0){var y=q.R(P.P());q.z$(u,y,R-1);if(R==4)q.Mr(y);for(var t=0;
t<3;t++)q.qR(y,u,t)}}if(v=="Add"||v=="Sbtr"){var g=1/l.Scl.v,H=l.Ofst.v,_=v=="Add"?1:-1,Y=new Uint8ClampedArray(F.qC.buffer);
for(var $=0;$<u.length;$+=4){Y[$]=(F.kC[$]+_*u[$])*g+H;Y[$+1]=(F.kC[$+1]+_*u[$+1])*g+H;Y[$+2]=(F.kC[$+2]+_*u[$+2])*g+H}}else{var V=cI.N1();
V.R3=l.PrsT&&l.PrsT.v;F.qC.fill(0);F.qC.set(F.kC);q.l.j6(k,u,P,F.qC,F.By,F.By,U,V)}}else dv.fa(l,F.kC,F.qC,F.By)}n.FP.pc(o,this.Oz)}}if(x.d=="cancel"){n.FP.avt(o,this.Oz);
this.Oz=null}if(x.d=="confirm"){var K={fade:[2,11],aply:[2,12],matc:[4,18]},f=K[x.xc];if(f==null)f=dv.names[x.xc];
var m=dv.S5(x.xc,this.El[1]);if(m!=-1)f=[4,16,m];n.FP.SF(o,this.Oz,f,this);this.Oz=null;if(m==-1)n.FP.WK(J,this.El)}o.W()};
n.FP.WK=function(x,J){var o=J[0],c=J[1],E,b;if(dv.V5[o]){E=dv.V5[o];if(jM[o])b=c}if(fn.V5[o]){E=fn.V5[o];
if(jM[o])b=c}if(o=="fade"){E="fade";b=c}if(o=="matc"){E="matchColor";b=c}if(o=="aply"){E="applyImageEvent";
b=c}if(o=="GEfc"){if(b.GEfs)b=b.GEfs.v[0].v}if(E==null)return;var l=new ko(L.E.p4,!0);l.data={zd:!0,bV:E};
if(b){b=JSON.parse(JSON.stringify(b));l.data.Rx=b}x.c(l)};n.FP.avt=function(x,J){n.FP.uK(x,J)};n.FP.SF=function(x,J,o,c){for(var $=0;
$<J.length;$++){var E=J[$],b=x.B[E.a],l=E.a<0?x._w[-1-E.a]:E.ib<=0?null:E.ib==1?b.Da():b.O5(x).F;if(l){l.xz();
l.op=!0;if(b)b.vl(x)}else{b.xz();b.W()}delete E.qC;delete E.zi}var i=new bk(o,c);i.data=J;x.VR(i);x.Gf=!0};
n.FP.pc=function(x,J,o){for(var $=0;$<J.length;$++){var c=J[$],E=x.B[c.a],b=o?c.kC:c.qC,l=c.By;if(c.ib==0){E.extend(l);
if(c.zi){q.St(c.kC,l,E.buffer,E.rect);q.l.UH(b,l,E.buffer,E.rect,c.zi,l,0,l,1)}else q.St(b,l,E.buffer,E.rect)}else{var i=c.a<0?x._w[-1-c.a]:c.ib==1?E.Da():E.O5(x).F;
i.extend(l);if(c.zi){var F=q.R(l.P()*4);q.N8(c.kC,F);q.l.UH(b,l,F,l,c.zi,l,0,l,1);n.mv.gm(F,l,i)}else n.mv.gm(b,l,i);
i.op=!0;if(E)E.vl(x)}if(E)E.W()}if(!o)n.FP.aw0(x,J)};n.FP.uK=function(x,J){for(var $=0;$<J.length;$++){var o=J[$],c=x.B[o.a],E=o.By,b=q.R(E.P()*4);
if(o.ib==0){q.St(c.buffer,c.rect,b,E);c.extend(E);q.St(o.kC,E,c.buffer,c.rect);c.xz()}else{var l=o.a<0?x._w[-1-o.a]:o.ib==1?c.Da():c.O5(x).F;
n.mv.pU(l.channel,l.rect,l.color,b,E);l.extend(E);n.mv.gm(o.kC,E,l);l.xz();l.op=!0;if(c)c.vl(x)}o.kC=b;
if(c)c.W()}x.Gf=!0};n.FP.Jg=function(x){var J=0;for(var $=0;$<x.length;$++)J+=x[$].kC.length;return J};
n.FP.aw0=function(x,J){var o=n.FP.aAM(x),c=~o;if(o==16777215)return;for(var $=0;$<J.length;$++){var E=J[$],b=x.B[E.a],l=E.By;
if(E.ib!=0)continue;b.extend(l);var i=l.x-b.rect.x,F=l.y-b.rect.y,k=b.rect.m,U=new Uint32Array(E.kC.buffer),I=new Uint32Array(b.buffer.buffer);
for(var V=0;V<l.e;V++)for(var u=0;u<l.m;u++){var N=V*l.m+u,e=(V+F)*k+(u+i);I[e]=I[e]&o|U[N]&c}b.xz();
b.W()}x.W()};n.FP.aAM=function(x){var J=x.Q.U;return J[2]*16711680|J[1]*65280|J[0]*255};n.FP.prototype.WY=function(x,J){var o=J.B[x.a];
if(x.xg!=null)o.add[dv.get(o.add)]=x.xg;else n.FP.uK(J,x);J.W()};n.FP.prototype.Tu=function(x,J){var o=J.B[x.a];
if(x.xg!=null)o.add[dv.get(o.add)]=x._Q;else n.FP.uK(J,x);J.W()};n.FP.prototype.Jg=function(x){return x.xg==null?n.FP.Jg(x):0};
n.zW=function(){n.Kj.call(this,"Filter Edit",n.CP);this.Oz=null;this.Ss=null;this.d=null;this.El=null};
n.zW.prototype=new n.Kj;n.zW.prototype.E4=function(x,J,o,c,E){if(x.d=="start"){if(o.g.length==0)return;
var b=o.B[o.g[0]];if(b.add.SoLd&&b.tB<=0&&o.X7.length==0){}else if(!o.FJ(J,null,!0))return;var l=x.xc;
if((jM[l]||fn.q[l])&&x.fz==null){if(o.g.length!=1)alert("Will be applied to "+o.g.length+" layers.");
var i=new ko(L.E.N,!0);i.data=n.zW.aa7(l,this.Ow(o,l));J.c(i)}else{var F={d:"edit",xc:l,fz:x.fz,rS:this.Ow(o)};
this.E4(F,J,o,c,E);F.d="confirm";delete F.fz;this.E4(F,J,o,c,E)}}if(x.d=="edit"||x.d=="cancel"||x.d=="confirm"){if(x.d=="edit")this.El=[x.xc,x.fz];
if(x.rS)this.aqx(x,J,o,E);else this.ael(x,J,o,E)}if(x.d=="applylast"&&this.El!=null){var F={d:"edit",xc:this.El[0],fz:this.El[1],rS:this.Ow(o)};
this.E4(F,J,o,c,E);F.d="confirm";delete F.fz;this.E4(F,J,o,c,E)}};n.zW.aa7=function(x,J){var o=fn.q[x];
if(o)return{d:L.H.zq,v:o,Ek:{rS:J}};else return{d:L.H.yI,AN:"afw_"+x,rS:J}};n.zW.prototype.Ow=function(x,J){var o=x.B[x.g[0]],c;
if(o.add.SoLd&&o.tB<=0&&x.X7.length==0){c={a:x.g[0],index:0};if(o.add.SoLd.filterFX!=null){var E=o.add.SoLd.filterFX.v.filterFXList.v;
c.index=E.length;for(var $=0;$<E.length;$++)if(fn.sJ(E[$].v)==J&&fn.q[J])c.index=$}}return c};n.zW.prototype.aqx=function(x,J,o,c){var E=o.B[x.rS.a],b=x.xc;
if(x.d=="edit"){if(this.d==null){var l=fn.names[b];if(l==null)l=dv.names[b];if(b=="blendOptions")l=[14,10];
this.d=new bk(l,this);this.d.data={rS:x.rS,aeQ:JSON.parse(JSON.stringify(E.add.SoLd))}}if(!E.AD()){E.add.SoLd.filterFX=fn.kN();
var i=this.d.data.KV=hk.a86(E.add.SoLd.placed.v);o.ie(i);if(o.u){i.F.channel=o.u.channel.slice(0);i.F.rect=o.u.rect.clone();
i.F.color=0;this.d.data.BJ=o.u;o.u=null}E.aW(o)}var F=E.add.SoLd.filterFX.v.filterFXList.v;if(F[x.rS.index]==null){F.push(fn.Xb(b,c))}if(x.fz){F[x.rS.index].v.enab.v=x.gJ!=!0;
if(b=="blendOptions")F[x.rS.index].v.blendOptions.v=x.fz;else F[x.rS.index].v.Fltr.v=x.fz}this.d.data.a9C=JSON.parse(JSON.stringify(E.add.SoLd));
this.Tu(this.d.data,o)}if(x.d=="cancel"){if(this.d)this.WY(this.d.data,o);this.d=null}if(x.d=="confirm"){if(this.d)o.VR(this.d);
n.FP.WK(J,this.El);this.d=null}};n.zW.prototype.uA=function(x){return{o:x>>>16,I:x>>>8&255,J:x&255}};
n.zW.prototype.ael=function(x,J,o,c){if(this.Oz==null){var E=fn.kj(x.xc,x.fz);this.Oz=n.FP.getData(o,E.x!=0||E.y!=0,x.xc=="VaPo"?[{By:x.bA[1]}]:null)}if(x.d=="edit"){var b=JSON.stringify(x.fz);
if((x.fz==null||b!=this.Ss)&&x.gJ!=!0)for(var $=0;$<this.Oz.length;$++){var l=this.Oz[$],i={rect:l.By,buffer:l.kC},F={rect:l.By,buffer:l.qC};
if(x.xc=="Avrg"&&l.zi){i.buffer=l.kC.slice(0);q.nc(l.zi,i.buffer)}fn.fa(x.xc,i,x.fz,this.uA(c.Q6),this.uA(c.xR),F,[o.add.lnk2?o.add.lnk2:[],o.B[o.g[0]].Da(),o._w,o.l$()]);
if(x.xc=="VaPo"){q.St(x.bA[0],x.bA[1],F.buffer,F.rect)}if(x.xc=="Avrg"&&l.zi){var k=l.kC.length;for(var $=0;
$<k;$+=4)l.qC[$+3]=l.kC[$+3]}this.Ss=b}n.FP.pc(o,this.Oz,x.gJ)}if(x.d=="cancel"){n.FP.avt(o,this.Oz);
this.Oz=null;this.Ss=null}if(x.d=="confirm"){if(x.xc=="VaPo"){this.Oz.ah1=JSON.stringify(o.HB);this.Oz.Mb=JSON.stringify(x.b);
o.HB=x.b}n.FP.SF(o,this.Oz,fn.names[x.xc],this);this.Oz=null;this.Ss=null;n.FP.WK(J,this.El)}o.W();o.Gf=!0};
n.zW.prototype.WY=function(x,J){if(x.Mb)J.HB=JSON.parse(x.ah1);if(x.rS){var o=J.B[x.rS.a];if(x.KV)J.qg(x.KV);
if(x.BJ)J.u=x.BJ;o.add.SoLd=JSON.parse(JSON.stringify(x.aeQ));if(o.AD())o.RD(J);else{o.aW(J);o.tB=0}}else n.FP.uK(J,x);
J.W();J.Gf=!0};n.zW.prototype.Tu=function(x,J){if(x.Mb)J.HB=JSON.parse(x.Mb);if(x.rS){var o=J.B[x.rS.a];
if(x.KV)J.ie(x.KV);if(x.BJ)J.u=null;o.add.SoLd=JSON.parse(JSON.stringify(x.a9C));if(o.AD())o.RD(J);else o.aW(J);
if(!o.vX())o.Il+=32}else n.FP.uK(J,x);J.W();J.Gf=!0};n.zW.prototype.Jg=function(x){return x.rS==null?n.FP.Jg(x):0};
var h4={y_:"0",di:"1",f1:"2",SQ:"3",Vl:"3.5",Dh:"4",Vi:"5",mL:"6",Xt:"7",f:"8",zx:"8.5",lF:"8.8",HS:"9",B5:"10",A7:"11",Y1:"12",x4:"13",rO:"14",jG:"15",v6:"16",RC:"17",YK:"18",uq:"21",G9:"22",v0:"23",MU:"23.0",yE:"23.1",GI:"23.2",Dc:"23.3",oM:"23.4",dI:"23.5",GL:"23.6",aob:"30",FD:"31",VD:"40",De:"41",E1:"42"};
h4.RH={};h4.RH[h4.di]=["abr","brushes",ac,[9,3],3];h4.RH[h4.f1]=["grd","gradients",bx,[12,37],4];h4.RH[h4.SQ]=["shc","contours",eO,[12,21],0];
h4.RH[h4.Vl]=["acv","curves",fB,[4,2],0];h4.RH[h4.Dh]=["asl","styles",aF,[12,22],5];h4.RH[h4.Vi]=["pat","patterns",am,[12,62],6];
h4.RH[h4.mL]=["csh","shapes",fV,[12,77],7];h4.RH[h4.Xt]=["aco","swatches",io,[9,8],0];h4.RH[h4.f]=["atn","actions",cY,[9,9],2];
h4.RH[h4.zx]=["tpl","tpresets",eX,[9,12],0];h4.RH[h4.lF]=["icc","profiles",f2,"LUTs",8];function bk(x,J,o){if(o==null)o=!1;
this.name=x;this.v=J;this.lt=o;this.data=null;this.aAP=Date.now()}bk.prototype.Jg=function(){return this.v?this.v.Jg(this.data):0};
var hi={};hi.X$=function(x,J){var o={t:"Clss",v:{classID:x}};if(J)o={t:"Enmr",v:{classID:x,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[o]}};hi.s2=function(x,J){var o={classID:"Lyr"};o[x]=J;return{bV:"set",Rx:{classID:"null",null:hi.X$("Lyr",!0),T:{t:"Objc",v:o}}}};
hi.aka=function(x,J,o,c,E){var b=new ko(L.E.p4,!0),l=[],$=0,i=hi.Xv(J,o,c,l);while(l.length!=0){var F=l.pop();
$++;if(!F.T)continue;console.log($-1);if(F.bV=="conditional"){var k=x.B[x.g[0]],U=F.Rx.null.v.Cndt,I=!1;
if(U=="Bckg")I=!1;else if(U=="Pxel"&&x.$K(!1))I=!0;else if(U=="Adjs"&&dv.get(k.add))I=!0;else if(U=="Shp"&&k.add.vogk)I=!0;
else if(U=="Grup"&&k.Zk())I=!0;else if(U=="Opn"&&x!=null)I=!0;else if(U=="32Bt")I=!1;else if(U=="RGB")I=!0;
var V=F.Rx.then,u=F.Rx.else;if(I&&V)hi.Xv(J,V.v[0].v.val,V.v[1].v.val,l);if(!I&&u)hi.Xv(J,u.v[0].v.val,u.v[1].v.val,l)}else if(F.bV=="stop"){if(F.Rx.Cntn&&F.Rx.Cntn.v==!0)window.confirm(F.Rx.Msge.v);
else{alert(F.Rx.Msge.v);break}}else if(F.bV=="play"){var N=F.Rx.null.v,e=new ko(L.E.N,!0);e.data={d:L.H._t,T1:[N[0].v.val,N[1].v.val]};
E.c(e)}else{b.data={bV:F.bV,Rx:F.Rx};E.c(b)}}};hi.Xv=function(x,J,o,c){var E;for(var $=0;$<x.length;
$++){if(x[$].wd!=o)continue;var b=x[$].T3;for(var l=0;l<b.length;l++){if(b[l].wd!=J)continue;E=b[l].T3}}var i=E.length;
for(var $=0;$<i;$++)c.push(E[i-1-$])};hi.auF=function(x){var J=x.bV,o=x.Rx,c,l,i,F,k;if(o&&o.null)c=o.null.v[0];
if(o&&c==null&&o.At)c=o.At.v[0];if(c&&c.t=="obj ")c=c.v[0];var E=c&&c.v?c.v.classID:null,b=["purge"];
if(b.indexOf(J)!=-1)return J[0].toUpperCase()+J.slice(1);if(J=="GEfc"||J=="paintDaubs")return dZ.names[o.GEfk.v.GEft][1];
k=dv.V5;for(l in k)if(k[l]==J)i=l;k=fn.V5;for(l in k)if(k[l]==J)F=l;k=fn.V5;for(l in k)if(l==J)F=l;if(i){var U=dv.S5(i,o);
if(U!=-1)return[4,16,U];return dv.names[i]}if(F)return fn.names[F];var I=hi.ayq;if(J=="make"){if(c){if(E=="AdjL")return[6,1];
else if(E=="layerSection")return o.From?[6,9]:[6,20];else if(E=="Lyr")return[6,13];else if(E=="Chnl"&&c.v.enum=="Msk")return[6,2];
else if(E=="contentLayer")return[6,48,1];else if(E=="BckL")return"Make Background Layer";else if(E=="Path")return"Make Path";
else if(E=="TxLr")return"Make Text Layer";else if(E=="slice")return"Make Slices";else if(E=="Dcmn")return[11,7];
else if(E=="Gd")return[23,4]}if(o.Nw){E=o.Nw.v.classID;if(E=="Dcmn")return[11,7];else if(E=="Chnl"||E=="SCch")return"New Channel"}}else if(J=="deselect"){if(E=="Path")return"Deselect current path";
else throw E}else if(J=="draw"){return"Draw"}else if(J=="select"){if(E=="Chnl"){var V={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[c.v.enum];
if(V==null)V="";return"Select "+V+" Channel"}else if(E=="Mn")return"Select Panel \""+c.v.enum+"\"";else if(E=="Lyr"){if(c.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[c.v.enum]+" Layer";
return"Select Layer \""+c.v.val+"\""}else if(E=="Path")return"Select Path";else if(E=="Brsh")return"Select Brush";
else if(E=="Dcmn")return"Select Document"}else if(I[J]&&E=="Chnl"){var u=c.v.keyID=="fsel";return I[J]+" "+(u?"Selection":"Channel")}else if(J=="set"){if(E=="Lyr")return"Set Current Layer";
else if(E=="AdjL")return[6,39];else if(E=="contentLayer")return[6,48,2];else if(E=="Prpr"){var N=c.v.keyID;
if(N=="TxtS")return"Set Text Style";else if(N=="paragraphStyle")return"Set Paragraph Style";else if(N=="Lefx")return[11,6];
else console.log(N)}else if(E=="Clr")return"Set "+(c.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(E=="Brsh")return"Set Brush";else if(E=="Path")return"Set Work Path";else console.log(E)}else if(J=="move"){if(E=="Lyr")return"Move Layer";
else if(E=="Chnl"&&c.v.keyID=="fsel")return[7,7];else console.log(E)}else if(J=="show"||J=="hide"){var e="";
if(E=="Lyr")e="Layer";if(E=="Chnl")e="Channel";if(E=="filterFX")e="Filter Effect";return(J=="show"?"Show":"Hide")+" "+e}else if(J=="reset"){if(E=="Clr")return"Reset Colors"}else if(J=="exchange"){if(E=="Clr")return[22,7,0]}else if(J=="rotateEventEnum")return[2,5];
else if(J=="flip"){var B=o.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,B?2:3]]}if(J=="duplicate"&&E=="Dcmn")return"Duplicate first document";
if(E=="Chnl"){if(J=="duplicate"){if(c.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(J=="delete")return"Delete Channel"}if(J=="transform")return c&&c.v.keyID=="fsel"?[7,10]:[10,16];
var j={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:o?E=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},T=j[J];
if(T==null)T=hi.akW[J];if(T)return T;return J};hi.akW={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
hi.ayq={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
hi.a8a=function(x,J,o,c){var E=x.bV,b=x.Rx,l=!1,i=new ko(L.E.f,!0),V,u,N,e;i.v=n.uH;var F=new ko(L.E.N,!0),k=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(k.indexOf(E)!=-1)return;var U=E;while(U.length<4)U+=" ";e=dv.V5;for(V in e)if(e[V]==U)u=V;e=fn.V5;
for(V in e)if(e[V]==U)N=V;e=fn.V5;for(V in e)if(V==U)N=V;if(E=="fade")u=E;if(E=="matchColor")u="matc";
if(E=="applyImageEvent")u="aply";if(u){i.v=n.pC;i.data={d:"start",fI:u,fz:b}}else if(N){i.v=n.CP;i.data={d:"start",xc:N,fz:b}}else if(E=="GEfc"||E=="paintDaubs"){i.v=n.CP;
i.data={d:"start",xc:"GEfc",fz:b}}else if(E=="imageSize"||E=="canvasSize"||E=="revealAll"||E=="trim"||E=="crop"){i.v=n.TX;
i.data={d:"fromAction",xV:x}}else if(E=="fill"||E=="stroke"||E=="delete"&&b==null){var B=null;if(c.g.length!=0)B=c.B[c.g[0]];
var j=q.ix(o.Q6);if(B!=null&&E=="fill"&&B.add.TySh){var T="var c = new SolidColor();  c.rgb.red="+j.o+";  c.rgb.green="+j.I+";  c.rgb.blue="+j.J+";  app.activeDocument.activeLayer.textItem.color = c;";
F.data={d:L.H.w9,RU:T}}else if(B!=null&&E=="delete"&&B.add.TySh){i.v=n.eY;i.data={d:"insertText",b:""}}else if(B!=null&&E=="fill"&&B.A0()){var i=new ko(L.E.p4,!0),b={classID:"setd",null:hi.X$("contentLayer",!0),T:{t:"Objc",v:{}}};
n.Y8.Bj({Clr:{t:"Objc",v:q.r.qP(q.ix(o.Q6))}},b.T.v,0);i.data={bV:"set",Rx:b};J.c(i);return}else{if(E=="stroke"&&b&&b.Usng)i.v=n.V5[b.Usng.v.classID];
else i.v=o.QJ==n.R8?n.R8:n.di;i.data={d:"fromAction",xV:x}}}else if(E=="colorRange"||E=="grow"||E=="similar"){i.v=n.ls;
i.data={d:"fromAction",xV:x}}else if(E=="set"&&b&&b.T&&b.T.v.Ordn=="Al"&&o.QJ==n.eY&&J.nQ().Yv()){i.v=n.eY;
i.data={d:"selectAll"}}else if(hi.akW[E]||hi.ayq[E]&&(!1||b.With&&b.With.v[0].v.keyID=="fsel"||b.From&&b.From.v[0].v.keyID=="fsel"||b.null&&b.null.v[0].v.keyID=="fsel"||b.T.v[0]&&b.T.v[0].v.keyID=="fsel")){i.v=n.Ks;
i.data={d:"fromAction",xV:x}}var a={copyToLayer:h.xy,cutToLayer:h.bL,mergeLayersNew:h.w2,rasterizeLayer:h.aN,mergeVisible:h.YW,flattenImage:h.a2Y,newPlacedLayer:h.rK};
if(a[E])i.data={d:a[E],Rx:b};if(i.data){J.c(i);return}if(E=="collapseAllGroupsEvent"){for(var $=0;$<c.B.length;
$++){var B=c.B[$];if(B.Zk())B.add.lsct=es.tm}c.o0=!0;return}if(E=="desaturate"){i.v=n.pC;i.data={d:"auto",qA:3};
if(c&&c.B[c.g[0]].add.SoLd==null)J.c(i);return}if(E=="close"){if(b&&b.Svng.v.YsN=="Ys"){F.data={d:L.H.YO};
J.c(F)}F.data={d:L.H.JN,PN:c};J.c(F);return}if(E=="save"){F.data={d:L.H.YO};J.c(F);return}if(E=="copyMerged"){F.data={d:L.H._4,Xo:!0,ll:!0};
J.c(F);return}if(E=="placedLayerReplaceContents")F.data={d:L.H.o2,vm:!0};var a={placedLayerEditContents:L.H.acI,placedLayerExportContents:L.H.ays,copyEvent:L.H._4,paste:L.H.R9};
if(a[E])F.data={d:a[E],ll:!0};if(F.data){J.c(F);return}var P=b.null?b.null.v:null,v=P?P[0].v.classID:"";
if(E=="make"){if(b.null==null&&b.Nw)v=b.Nw.v.classID;if(v=="AdjL"){i.data={d:h.a3,Rx:b}}else if(v=="layerSection"){i.data=b.From?{d:h.z9}:{d:h.ag};
if(b.Usng){var R=b.Usng.v;if(R.Nm)i.data.Ii=R.Nm.v;if(R.Clr)i.data.AM=hi.b8(R)}}else if(v=="Lyr"){if(b.Usng&&b.Usng.v.length==2)i.data={d:h.a7Y};
else{i.data={d:h.H5};if(b.Usng)i.data.Ii=b.Usng.v.Nm.v;if(b.below&&b.below.v)i.data.a5A=!0}}else if(v=="Chnl"&&b.At&&b.At.v[0].v.enum=="Msk"){i.data={d:h.UZ,ns:b.Usng.v.UsrM}}else if(v=="Chnl"||v=="SCch"){i.data={d:h.Jh,XC:"fromAction",b:x}}else if(v=="contentLayer"){i.data={d:h.W5,Rx:b}}else if(v=="BckL"){c.B[c.g[0]].al9();
return}else if(v=="Dcmn"){if(b.Nw==null)return;var y=b.Nw.v;F.data={d:L.H.wl,Th:hk.aCY(y,o)}}else if(v=="Ptrn")F.data={d:L.H.Qn,KJ:0};
else if(v=="Path"){i.v=n.dr;i.data={d:"pathedit",XC:"fromsel"}}else if(v=="TxLr"){i.v=n.eY;i.data={d:"fromAction",xV:x}}else if(v=="slice"){i.v=n.N0;
i.data={d:"fromAction",xV:x}}else if(v=="Gd"){var t=[[],[]],y=b.Nw.v;t[y.Ornt.v.Ornt=="Vrtc"?0:1].push(y.Pstn.v.val);
var g=bh.Fr(t);n.fp.iP(g,c.yl());i.v=n.ug;i.data={d:"gids",mu:g}}else{console.log(E,v,b);throw"e"}}else if(E=="divide"){i.v=n.N0;
i.data={d:"fromAction",xV:x}}else if(E=="deselect"){if(v=="Path"){c.Np=[];c.vd=[];c.o0=c.sD=!0;return}else throw v}else if(E=="selectNoLayers"){c.g=[];
c.Gf=!0}else if(E=="selectAllLayers"){c.g=[];for(var $=0;$<c.B.length;$++)c.g.push($);c.Gf=!0;return}else if(E=="select"){var H=n.V5;
if(v=="Lyr"){var _=b.selectionModifier,Y=_?_.v.selectionModifierType:null,K=hi.yv(c,P[0]),f=0;if(K==-1){alert("Layer "+P[0].v.val+" does not exist.");
return}var B=c.B[K];if(B.Zk()&&B.Da()&&_==null)f=1;i.data={d:h.Ve,a:K,j_:Y?["addToSelection","addToSelectionContinuous"].indexOf(Y):null,nJ:f}}else if(v=="Path"){if(P[0].v.keyID=="WrPt"){c.Np=[0];
c.o0=c.sD=!0;return}else throw P[0]}else if(v=="Chnl"){var m=P?P[0].v.enum:"",C=["Rd","Grn","Bl"].indexOf(m);
if(C!=-1){var Z=b.Extd&&b.Extd.v?c.Q.U.slice(0):[0,0,0];Z[C]=1;i.v=n.cL;i.data={d:"setcls",U:Z}}else i.data={d:h.Ve,a:K,nJ:m=="RGB"?0:1}}else if(v=="Dcmn"){if(J.Zw.length<2)return;
F.data={d:L.H.aAx,dir:b.null.v[0].v.val}}else if(v=="Brsh"){var A=o.SB.list,d;for(var $=0;$<A.length;
$++){if(A[$].v.Nm.v.split("/").pop()==P[0].v.val)d=A[$].v}if(o.QJ==n.ug){F.data={d:L.H.zq,v:n.di};J.c(F)}F.data={d:L.H.bS,KJ:h4.rO,jQ:d}}else if(v=="Mn"){if(P[0].v.enum=="Scl")F.data={d:L.H.zq,v:n.Ih,Ek:{ns:3}};
if(P[0].v.enum=="Plce")F.data={d:L.H.o2,a36:!0};if(P[0].v.enum=="ZmIn"){i.v=n.PE;i.data={d:"zoom",ZD:!0}}if(P[0].v.enum=="ZmOt"){i.v=n.PE;
i.data={d:"zoom",ZD:!1}}if(P[0].v.enum=="FtOn"){i.v=n.PE;i.data={d:"adapt",b:"fitscr"}}}else if(H[v]){F.data={d:L.H.zq,v:H[v]}}else throw v}else if(E=="draw"){i.v=n.dr;
i.data={d:"fromAction",xV:x}}else if(E=="gradientClassEvent"){i.v=n.e1;i.data={d:"fromAction",xV:x}}else if((E=="set"||E=="reset"||E=="exchange")&&v=="Clr"){F.data={d:L.H.bS,KJ:h4.uq,XC:E=="reset"?3:2};
if(E=="set"){F.data.XC=P[0].v.keyID=="FrgC"?0:1;var G=q.r.fL(b.T.v);F.data.b=G.o<<16|G.I<<8|G.J}}else if(E=="set"){if(v=="AdjL"){var r=b.T.v.classID;
r=dv.ig[r];i.v=n.pC;if(r)i.data={d:"edit_layer",b:b.T.v}}else if(v=="Lyr"){var X=b.T.v,K=hi.yv(c,P[0]);
for(var w in X){if(w=="classID")continue;i.v=n.uH;if(w=="Nm")i.data={d:h.mx,name:X.Nm.v};else if(w=="Opct")i.data={d:h.CE,_Q:Math.round(X.Opct.v.val*255/100)};
else if(w=="fillOpacity")i.data={d:h.a9,_Q:Math.round(X.fillOpacity.v.val*255/100)};else if(w=="Md")i.data={d:h.QA,_Q:iP.$l.indexOf(X.Md.v.BlnM)+(c.B[K].Zk()?1:0)};
else if(w=="Usrs")i.data={d:h.$n,a:K};else if(w=="Blnd"){i.v=n.yq;i.data={d:"setstl",a:K,b:{blendOptions:{t:"objc",v:X}}};
J.c(i);i.data={d:"confirm",a:K}}else if(w=="userMaskFeather"||w=="userMaskDensity"){var S=X.userMaskFeather,z=X.userMaskDensity,K=c.g[0],s=c.B[K].vw(0);
if(S)s.I$=S.v.val;if(z)s.fb=z.v.val;i.data={d:h.tN,XP:K,b1:s}}else if(w=="Clr"){var j=hi.b8(X);i.data={d:h.Lz,ae2:j}}else if(w=="Lefx")hi.aci(J,K,X.Lefx.v,o);
else{console.log(b);throw w}if(i.data){J.c(i);delete i.data}}i.data={};var B=c.B[K];B.arM()}else if(v=="Prpr"){var X=JSON.parse(JSON.stringify(b.T.v)),K=hi.yv(c,b.null.v[1]),B=c.B[K],M=P[0].v.keyID;
if(M=="TxtS"||M=="paragraphStyle"){var Q=B.add.TySh,O=JSON.parse(JSON.stringify(Q.TC)),W=iv.K1(O),e9=iv.eU(O,0,W.length-2);
if(M=="TxtS")iv.aBM(X,e9);else iv.awO(X,e9);iv.oO(O,0,W.length-1,e9);i.v=n.eY;i.data={d:"newED",mo:K,$d:O}}else if(M=="Lefx"){for(var jV in X)if(X[jV].v){if(jV=="Scl")X[jV].v.val=100}hi.aci(J,K,X,o);
i.data={}}else throw M}else if(v=="contentLayer"){var K=hi.yv(c,P[0]),X=b.T.v;if(X.classID=="shapeStyle")X=X.FlCn.v;
var co={solidColorLayer:0,gradientLayer:1,patternLayer:2}[X.classID],dz=bs.wr(c.B[K].add),N=dz.lZ==co+1?dz.h5:bs.zQ[co];
N=JSON.parse(JSON.stringify(N));n.Y8.Bj(X,N,co);i.data={d:h.d3,UO:[K],H6:!0,b:{lZ:co+1,h5:N}}}else if(v=="Brsh"){var d=JSON.parse(JSON.stringify(o.SB._i)),eh=b.T.v;
if(eh.masterDiameter)d.Brsh.v.Dmtr.v.val=eh.masterDiameter.v.val;else console.log("unknown brush parameters");
F.data={d:L.H.bS,KJ:h4.rO,jQ:d}}else if(v=="Path"){i.v=n.dr;i.data={d:"fromAction",xV:x}}else{console.log(P[0],b);
throw v}}else if(E=="move"){if(v=="Lyr"){var X=b.T.v;if(X.classID=="Ofst"){i.data={d:"trsl",k2:X.Hrzn.v.val,h0:X.Vrtc.v.val};
i.v=n.ug}else{var a9,kB;if(X[0].t=="Enmr"){if(X[0].v.enum=="Frnt")kB=0;else if(X[0].v.enum=="Nxt")kB=1;
else if(X[0].v.enum=="Prvs")kB=2;else if(X[0].v.enum=="Back")kB=3;else throw"e"}else a9=X[0].v.val;i.data={d:h.FX,target:a9,XC:kB,a5K:b.Dplc?b.Dplc.v:!1}}}else if(v=="Chnl"&&P[0].v.keyID=="fsel"){i.v=n.Ks;
i.data={d:"fromAction",xV:x}}}else if(E=="groupEvent"||E=="ungroup")i.data={d:h.LE};else if(E=="show"||E=="hide"){var dc=b.null.t;
if(dc=="obj "){if(P[0].v.val!=null)i.data={d:h.Jz,index:P[0].v.val-1};else i.data={d:h.xa}}else if(dc=="VlLs"){var v=P[0].v[0].v.classID;
if(v=="Chnl")i.data={d:h.Jh,XC:"fromAction",b:x};else{var eT=v=="filterFX"?P:P[0].v;for(var $=0;$<eT.length;
$++){if(v=="filterFX")i.data={d:h.Jz,index:eT[$].v[0].v.val-1};else{var K=hi.yv(c,eT[$]),fv=c.B[K].kR();
if(E=="show"&&fv||E=="hide"&&!fv)continue;i.data={d:h.cm,UO:[K]}}J.c(i)}return}}else throw dc}else if(E=="rotateEventEnum"){i.v=v=="Lyr"?n.Ih:n.TX;
var jS=b.Angl.v.val;i.data={d:"rot",wd:[2,5],b:-jS*Math.PI/180}}else if(E=="flip"){i.v=v=="Lyr"?n.Ih:n.TX;
var bX=b.Axis.v.Ornt=="Hrzn",gi=bX?new ck(-1,1):new ck(1,-1);i.data={d:"scl",wd:[[2,6],[22,4,bX?2:3]],b:gi}}else if(E=="transform"){var cM=1,ea=1,a1=0,db=0,d2=0,hu=0,fF=0,e0=null,j7=null;
if(b.Wdth)cM=b.Wdth.v.val/100;if(b.Hght)ea=b.Hght.v.val/100;if(b.Skew){var il=b.Skew.v;a1=il.Hrzn.v.val;
db=il.Vrtc.v.val}if(b.Ofst){var f4=b.Ofst.v;hu=f4.Hrzn.v.val;fF=f4.Vrtc.v.val}if(b.Angl)d2=b.Angl.v.val;
var aK=new cW;aK.concat(new cW(cM,cM*Math.tan(db*Math.PI/180),ea*Math.tan(a1*Math.PI/180),ea,0,0));aK.rotate(-d2*Math.PI/180);
aK.translate(hu,fF);var f9=q.D.ay(aK);if(b.Usng){var f4=b.Usng.v;f9[6]=f4.Hrzn.v.val/100;f9[7]=f4.Vrtc.v.val/100}var jb=b.FTcs.v.QCSt;
if(jb=="Qcsi"){var hN=b.Pstn.v;e0=new ck(hN.Hrzn.v.val,hN.Vrtc.v.val)}else j7=n.Y.aph[jb];var P=b.null;
if(P&&P.v instanceof Array)P=P.v[0];var K=P?hi.yv(c,P):null;if(K==-1)K=null;i.v=P&&P.v.keyID=="fsel"?n.Nw:n.Ih;
i.data={d:"dtr",vQ:j7,b:f9,Sv:b.warp,a6u:e0}}else if(E=="duplicate"){if(v=="Chnl")i.data={d:h.Jh,XC:"fromAction",b:x};
else if(v=="Dcmn"){var fe=hR.rb("PSD").Jy(c);bB.od({url:c.name},fe,J);return}else i.data={d:h.gc,Ii:b.Nm?b.Nm.v:null}}else if(E=="delete"){if(v=="filterFX"){if(P[0].v.val!=null)i.data={d:h.am,pe:P[0].v.val-1};
else i.data={d:h.Av}}else if(v=="Path"){i.v=n.dr;i.data={d:"pathedit",XC:"del"}}else if(v=="Lyr")i.data={d:h.ni};
else if(v=="Chnl"&&P[0].v.enum=="Msk")i.data={d:h.Z5};else if(v=="Chnl")i.data={d:h.Jh,XC:"fromAction",b:x};
else throw v}else if(E=="align"){if(b.Aply&&b.Aply.v.projection=="Auto"){i.v=n.TX;i.data={d:"auto-align"}}else{i.v=n.ug;
var hn=b.Usng.v.ADSt,u={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[hn];if(u==null)throw hn;i.data={d:"algn",b:u}}}else if(E=="applyLocking"){var a3=b.layerLocking.v,bH;
if(a3.protectTransparency)bH=[[a3.protectTransparency.v],[0]];else if(a3.protectNone)bH=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(a3);throw"e"}i.data={d:h.QF,_Q:bH}}if(i.data)J.c(i);else if(F.data)J.c(F);else{console.log(x);
alert("Unknown action \""+E+"\"");throw"e"}};hi.aci=function(x,J,o,c){o=JSON.parse(JSON.stringify(o));
ie.Vn(o);if(o.masterFXSwitch==null)o.masterFXSwitch={t:"bool",v:!0};console.log(o);var E=bs.x0;for(var b=0;
b<E.length;b++)if(o[E[b]]){for(var $=0;$<o[E[b]].v.length;$++){var l=o[E[b]].v[$].v,i=l.TrnS;if(i==null)i=l.MpgS;
if(i&&i.v.Crv==null){var F=i.v,k=F.Nm.v.split("=").pop(),U=c.qo;for(var I=0;I<U.length;I++){var V=U[I].Nm.v.split("=").pop();
if(V==k)F.Crv=JSON.parse(JSON.stringify(U[I].Crv))}if(i.v.Crv==null){console.log(i);throw"e"}}}}var u=new ko(L.E.f,!0);
u.v=n.yq;u.data={d:"setstl",a:J,b:{Lefx:{t:"objc",v:o}}};x.c(u);u.data={d:"confirm",a:J};x.c(u)};hi.b8=function(x){var J={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[x.Clr.v.Clr];
if(J==null)throw x.Clr.v.Clr;return J};hi.yv=function(x,J){var o=1e6,c=0,E=x.B.length;for(var $=0;$<x.g.length;
$++){o=Math.min(o,x.g[$]);c=Math.max(c,x.g[$])}var b=J.t,l=-1;if(b=="name"){var i=J.v.val,l=-1;for(var $=0;
$<E;$++)if(x.B[$].getName()==i){l=$;break}}else if(b=="Enmr"){if(x.g.length!=0)l=x.g[0];if(J.v.enum=="Frwr")l=c+1;
if(J.v.enum=="Bckw")l=o-1;if(J.v.enum=="Back")l=0;if(J.v.enum=="Frnt")l=E-1;l=(l+E)%E}else if(b=="prop"){if(J.v.keyID=="Bckg")l=0}else if(b=="indx")l=J.v.val-1;
return l};var dv={};dv.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
dv.ax$=["expA","clrL","selc"];dv.hU=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];dv.a2n=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
dv.rF=[[13,1,1],[13,1,4],[13,1,5]];dv.jh={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
dv.ig=function(){var x=JSON.parse(JSON.stringify(dv.jh));delete x.GrMp;x.GdMp="grdm";return x}();dv.V5={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
dv.keys={levl:[dG._k,dG.FQ],curv:[dG._k,dG.os],hue2:[dG._k,dG.KK],nvrt:[dG._k,dG.kL],blnc:[dG._k,dG.gz]};
dv.at_=function(x){var J=fn.Bt("mixr");J.Mnch={t:"bool",v:x.rQ};function o(c,$){var E={classID:"ChMx"},b={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in b)E[l]={t:"UntF",v:{type:"#Prc",val:c[$+b[l]]}};return{t:"Objc",v:E}}if(x.rQ)J.Gry=o(x.b,0);
else{J.Rd=o(x.b,0);J.Grn=o(x.b,5);J.Bl=o(x.b,10)}return J};dv.px=function(x){function J(c,E,$){var b={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in b)if(c[l])E[$+b[l]]=c[l].v.val}var o={rQ:!1,b:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(x.Mnch&&x.Mnch.v)o.rQ=!0;if(o.rQ)J(x.Gry.v,o.b,0);else{J(x.Rd.v,o.b,0);J(x.Grn.v,o.b,5);J(x.Bl.v,o.b,10)}return o};
dv.get=function(x){for(var J in dv.names)if(x[J]!=null)return J;return null};dv.SR=function(x,J){var o=dv.mH,c;
if(x=="brit"){var E=J.Brgh?J.Brgh.v:0,b=J.Cntr?J.Cntr.v:0,l=J.useLegacy?J.useLegacy.v:!1;if(l){var i=E/255,F=1+b/100;
if(F>1)F=1+Math.tan(Math.PI/2*b/101);var k=(1-F)/2,U=q.Dk.fc(i,i,i),I=[F,0,0,k,0,F,0,k,0,0,F,k,0,0,0,1],V=q.Dk.multiply(I,U),u=new q.HC(256);
for(var $=0;$<256;$++)u.o[$]=$;q.Dk.transform(u,u,V);c={type:o.Qj,my:u.o,Ym:u.o,Nu:u.o,oT:!1,ro:!1}}else{var N=1024,e=-30+60*(b+100)/200,B=[];
for(var $=0;$<4;$++)B.push(q._8.Ji($/3*255,$/3*255,!0));B[1].v.Hrzn.v=64;B[1].v.Vrtc.v=64-e;B[2].v.Hrzn.v=128+64;
B[2].v.Vrtc.v=128+64+e;B.sort(function(ik,dV){return ik.v.Hrzn.v-dV.v.Hrzn.v});var j=q._8.MQ(B,N);function T(ik,N){var B=[],bz=3;
for(var $=0;$<bz+1;$++)B.push(q._8.Ji($/bz*255,$/bz*255,!0));B[1].v.Hrzn.v=130-ik*26;B[1].v.Vrtc.v=130+ik*51;
B[2].v.Hrzn.v=233-ik*48;B[2].v.Vrtc.v=233+ik*10;return q._8.MQ(B,N)}var a=T(Math.abs(E)/100,N);if(E<0){var P=[],v=1/N;
for(var $=0;$<N;$++){var R=$*v,y=$;while(a[y]>R&&y>1)y--;P[$]=y*v}a=P}var t=new Uint8Array(N);for(var $=0;
$<N;$++){var g=Math.round((N-1)*a[$]);t[$]=Math.round(255*j[g])}c={type:o.Qj,my:t,Ym:t,Nu:t,oT:!1,ro:!1}}}if(x=="levl"){var H=[],_,Y,U,K,f,m;
for(var $=0;$<4;$++)H.push(bF.Ne(J,$));_=-H[0][0]/255;Y=1/(H[0][1]/255-H[0][0]/255);U=q.Dk.multiply(q.Dk.wA(Y,Y,Y),q.Dk.fc(_,_,_));
K=q.Dk.wA(1/(H[1][1]/255-H[1][0]/255),1/(H[2][1]/255-H[2][0]/255),1/(H[3][1]/255-H[3][0]/255));f=q.Dk.fc(-H[1][0]/255,-H[2][0]/255,-H[3][0]/255);
m=q.Dk.multiply(K,f);var t=new q.HC(256);for(var $=0;$<256;$++)t.o[$]=t.I[$]=t.J[$]=$;var C=1/(H[0][4]/100),Z=1/(H[1][4]/100),A=1/(H[2][4]/100),d=1/(H[3][4]/100);
q.Dk.transform(t,t,m);for(var $=0;$<256;$++){t.o[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.o[$]/255,Z))));
t.I[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.I[$]/255,A))));t.J[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.J[$]/255,d))))}q.Dk.transform(t,t,U);
for(var $=0;$<256;$++){t.o[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.o[$]/255,C))));t.I[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.I[$]/255,C))));
t.J[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.J[$]/255,C))))}_=H[0][2]/255;Y=H[0][3]/255-H[0][2]/255;
U=q.Dk.multiply(q.Dk.fc(_,_,_),q.Dk.wA(Y,Y,Y));K=q.Dk.wA(H[1][3]/255-H[1][2]/255,H[2][3]/255-H[2][2]/255,H[3][3]/255-H[3][2]/255);
f=q.Dk.fc(H[1][2]/255,H[2][2]/255,H[3][2]/255);m=q.Dk.multiply(f,K);q.Dk.transform(t,t,q.Dk.multiply(U,m));
c={type:o.Qj,my:t.o,Ym:t.I,Nu:t.J,oT:!1,ro:!1}}if(x=="curv"){var G=fB.Ne(J,0).length==256?1:0,r=[];if(G==0){var X=q._8.g1(fB.Ne(J,0),256);
for(var $=1;$<4;$++){var w=q._8.g1(fB.Ne(J,$),256);r.push(q._8.akU(w,X))}}else{var S=[];for(var $=0;
$<4;$++){var z=new Uint8Array(256);S.push(z);var s=fB.Ne(J,$);for(var y=0;y<256;y++)z[y]=s[y]}for(var $=1;
$<4;$++)r.push(q._8.akU(S[$],S[0]))}c={type:o.Qj,my:r[0],Ym:r[1],Nu:r[2],oT:!1,ro:!1}}if(x=="expA"){var M=J.Exps,Q=J.Ofst,O=J.gammaCorrection,W=M?M.v:0,e9=Q?Q.v:0,jV=O?O.v:1,t=new Uint8Array(256);
for(var $=0;$<256;$++){var J=$/255,co=Math.pow(Math.abs(e9),1/(Math.PI/2));if(e9>0){J=Math.max(e9/Math.E,J);
J=J*Math.exp(e9/1.75+W/Math.PI);J=(1-co)*J+co*1}else{J=J*Math.exp(-e9*1.75+W/Math.PI);J=J+-co*1.14}J=Math.pow(J,1/jV);
J=Math.max(0,Math.min(1,J));t[$]=Math.round(J*255)}c={type:o.Qj,my:t,Ym:t,Nu:t,oT:!1,ro:!1}}if(x=="vibA"){var dz=(J.vibrance?J.vibrance.v:0)/100,eh=(J.Strt?J.Strt.v:0)/100,co=1+dz*(dz>0?.25:.5),a9=.8+.2/co;
c={type:o.SH,KJ:[dz,eh,a9,co]}}if(x=="hue2"){var kB=[],dc=[],eT=[],fv=J.Clrz?J.Clrz.v:!1;for(var $=0;
$<256;$++){kB[$]=$/255;dc[$]=0;eT[$]=0}var jS=eZ.Ne(J,0),cx=dv.yc(jS[1]/100);if(fv){var bX=jS[0]/360;
for(var $=0;$<256;$++){kB[$]=bX;dc[$]=cx}}else{for(var $=0;$<256;$++){var gi=kB[$],cM=dc[$];kB[$]+=jS[0]/360;
for(var y=0;y<6;y++){var ea=eZ.Ne(J,y+1),a1=ea.Wj,db=ea.hX,co=0;for(var d2=1;d2<4;d2++)if(db[d2]<db[0])db[d2]+=360;
var hu=db[0],fF=db[1],il=db[2],f4=db[3],aK=gi*360;if(aK<db[0])aK+=360;var f9=(aK-hu)/(fF-hu),e0=(aK-il)/(f4-il);
if(f9<0)co=0;else if(f9<1)co=f9;else if(e0<0)co=1;else if(e0<1)co=1-e0;else co=0;var F=dv.yc(a1[1]/100);
kB[$]+=co*a1[0]/360;dc[$]+=co*F;eT[$]+=co*a1[2]/100}}for(var $=0;$<256;$++){dc[$]=(1+dc[$])*(1+cx)-1;
eT[$]=Math.max(-1,Math.min(1,eT[$]))}}var j7=new Uint8Array(256),jb=new Uint8Array(256),hN=new Uint8Array(256);
for(var $=0;$<256;$++){var fe=kB[$],eh=dc[$],hn=eT[$];if(fe>1)fe--;if(fe<0)fe++;eh=dv.a9m(eh);eh=(1+eh)*.5;
hn=(1+hn)*.5;j7[$]=Math.round(255*fe);jb[$]=Math.round(255*eh);hN[$]=Math.round(255*hn)}var a3=jS[2]/100,bH=a3<0?-a3:a3,jB=a3<0?0:1;
c={type:o.$z,arv:j7,Zz:jb,anH:hN,aAb:bH*jB,dL:1-bH,avU:jS[2]/100,afb:fv?1:0}}if(x=="nvrt"){var t=new Uint8Array(256);
for(var $=0;$<256;$++)t[$]=255-$;c={type:o.Qj,my:t,Ym:t,Nu:t,oT:!1,ro:!1}}if(x=="post"){var jH=J.Lvls.v,t=new Uint8Array(256),co=jH/255.001,dL=255/(jH-1);
for(var $=0;$<256;$++)t[$]=Math.floor($*co)*dL;c={type:o.Qj,my:t,Ym:t,Nu:t,oT:!1,ro:!1}}if(x=="grdm"){var aq=J.Grad.v,is=J.Rvrs,N=1024,dh;
if(aq.Clrs){var j_=q.r.j4(aq,0,0);dh=q.r.a1_(aq,j_,N,is?is.v:!1)}else{dh=q.r.ask(aq,N,is?is.v:!1)}var cH=q.R(N),bK=q.R(N),eC=q.R(N);
q.z$(dh,cH,0);q.z$(dh,bK,1);q.z$(dh,eC,2);c={type:o.Qj,my:cH,Ym:bK,Nu:eC,oT:!0,ro:!1}}if(x=="selc"){var fp=new Float32Array(9*3*2),jq=J.BI,az=J.Mthd?J.Mthd.v.CrcM=="Absl":!1;
for(var y=0;y<9;y++){var de=y*6,g3=dC.Ne(J,y),hJ=g3[0]/100,kc=g3[1]/100,bc=g3[2]/100,kd=g3[3]/100;if(az){fp[de]=fp[de+1]=fp[de+2]=1;
fp[de+3]=hJ*(1+kd)+kd;fp[de+4]=kc*(1+kd)+kd;fp[de+5]=bc*(1+kd)+kd}else{fp[de+0]=(1+hJ)*(1+kd);fp[de+1]=(1+kc)*(1+kd);
fp[de+2]=(1+bc)*(1+kd)}}c={type:o.sY,a5T:fp}}if(x=="blwh"){var jR="Rd Yllw Grn Cyn Bl Mgnt".split(" "),c=[],iA=0,gj=0;
for(var $=0;$<6;$++)c.push(J[jR[$]].v);c.push(J.useTint.v,J.tintColor.v);var im=[];for(var $=0;$<6;$++)im.push((c[$]-50)/50);
var dO=q.r.fL(c[7]);dO.o/=255;dO.I/=255;dO.J/=255;var jd=q.tu(dO.o,dO.I,dO.J),hn=q.hw(q.zw(jd.ao,1,.5)),gJ=jd.Rw*jd.fz;
if(hn==.5)iA=gj=.5;else{iA=gJ*(.5-hn)/(.5/hn-1);gj=1-gJ*(.5-hn)-1/(2*(1-hn));gj/=1-1/(2*(1-hn))}c={type:o.qZ,agn:im,Fz:c[6]?1:0,avS:jd.ao,hw:hn,ap5:gJ,Z7:iA,abf:gj}}if(x=="blnc"){var H=[],jG=["ShdL","MdtL","HghL"];
for(var $=0;$<3;$++){if(J[jG[$]]==null){H[$]=[0,0,0];continue}var jH=J[jG[$]].v,eG=jH[0].v/100,el=jH[1].v/100,gp=jH[2].v/100,ar=J.PrsL==null||J.PrsL.v?(Math.min(eG,el,gp)+Math.max(eG,el,gp))/2:0;
H[$]=[eG-ar,el-ar,gp-ar]}var r=[q.R(256),q.R(256),q.R(256)];for(var y=0;y<3;y++)for(var $=0;$<256;$++){var R=$*(1/255),jY=0,e=0,fH=0;
e=H[2][y];fH=Math.abs(e);if(e<0)jY=Math.pow(R,Math.SQRT2);else jY=1.63*(Math.pow(R+.04,.5)-.2);R=fH*jY+(1-fH)*R;
e=H[1][y];fH=Math.abs(e);if(e<0)jY=Math.pow(R,2);else jY=Math.min(2.35*(Math.pow(R+.09,.5)-.3),Math.pow(R,1/2));
R=fH*jY+(1-fH)*R;e=H[0][y];fH=Math.abs(e);if(e<0)jY=R<.4?0:Math.pow((R-.4)/.6,Math.SQRT2);else jY=Math.pow(R,Math.SQRT2/2);
R=fH*jY+(1-fH)*R;R=Math.max(0,Math.min(1,R));r[y][$]=Math.round(R*255)}c={type:o.Qj,my:r[0],Ym:r[1],Nu:r[2],oT:!1,ro:!1}}if(x=="phfl"){var iH=q.r.fL(J.Clr.v),cz=[iH.o/255,iH.I/255,iH.J/255],cw=J.Dnst.v/100,r=[q.R(256),q.R(256),q.R(256)];
for(var y=0;y<3;y++)for(var $=0;$<256;$++){var R=$*(1/255),eP=R*cz[y];eP=Math.max(0,Math.min(1,eP));
R=cw*eP+(1-cw)*R;r[y][$]=Math.round(R*255)}c={type:o.Qj,my:r[0],Ym:r[1],Nu:r[2],oT:!1,ro:J.PrsL.v}}if(x=="thrs"){var t=q.R(256);
for(var $=J.Lvl.v;$<256;$++)t[$]=255;c={type:o.Qj,my:t,Ym:t,Nu:t,oT:!0,ro:!1}}if(x=="mixr"){var c3=dv.px(J),V=[];
for(var $=0;$<c3.b.length;$++)if($%5!=3)V.push(c3.b[$]/100);if(c3.rQ){for(var hg=1;hg<3;hg++)for(var R=0;
R<4;R++)V[hg*4+R]=V[R]}c={type:o.jv,ng:V}}if(x=="rplc"){var eQ=J.Mnm.v,hZ=J.Mxm.v;c={type:o.Cs,Fy:[eQ.Lmnc.v,eQ.A.v,eQ.B.v],SC:[hZ.Lmnc.v,hZ.A.v,hZ.B.v],shift:[J.H.v/360,J.Strt.v/100,J.Lght.v/100],xe:J.Fzns.v/150}}if(x=="clrL"&&J.profile){var ev=new Uint8Array(J.profile.v),ay=ICC.R(ev.buffer),a$=[],g6=17,a$=ICC.U.sampleLUT(ay,g6);
c={type:o.I8,kC:ICC.U.lutToRGBA8(a$,g6),aeY:a$,V7:g6}}return c};dv.S5=function(x,J){var o=-1;if(x!="levl"||J==null)o=-1;
else if(J.Auto)o=0;else if(J.AuCo)o=1;else if(J.autoBlackWhite)o=2;return o};dv.mH={Qj:0,$z:1,SH:2,sY:3,qZ:4,jv:5,Cs:6,I8:7};
dv.yc=function(x){if(x<0)return x;return Math.pow(Math.tan(Math.PI/2*x),1.3)};dv.a9m=function(x){if(x<0)return x;
x=Math.pow(x,1/1.3);return Math.atan2(x,1)/(Math.PI/2)};dv.fa=function(x,J,o,c){var E=dv.mH,b=Date.now();
if(ai.mB&&c.P()>300*300&&x.type!=E.Qj&&x.type!=E.I8){c=c.clone();c.x=c.y=0;var l=ai.PW(0,c.m,c.e);l.set(J);
ai.FW(l,c);l.bU(c);dv.YA(x,l.DF,c);l.get(o);return}if(x.type==E.I8){var i=x.aeY,F=x.V7;ICC.U.applyLUT(i,F,J,o);
var k=J.length;for(var $=0;$<k;$+=4)o[$+3]=J[$+3]}if(x.type==E.jv)q.Dk.a7O(J,o,x.ng);if(x.type==E.qZ){var U=x.ap5,I=x.hw,V=x.Z7,u=x.abf,k=J.length;
for(var $=0;$<k;$+=4){var c=J[$]*(1/255),N=J[$+1]*(1/255),e=J[$+2]*(1/255),B=q.Yg(c,N,e),j=0;for(var T=0;
T<6;T++)j+=Math.min(1,1.7*(1-B.dg))*B.Rw*x.agn[T]*dv.ayA(B.ao,T*(1/6));var a=Math.max(0,Math.min(1,B.dg*(1+j)));
if(x.Fz==1){var P=0;if(a<V)P=a*(.5/I);else if(a<u)P=a+U*(.5-I);else P=1-(1-a)*.5/(1-I);B.ao=x.avS;B.Rw=Math.min(1,U+3*U*Math.abs(a-.5*(V+u)));
B.dg=P}else{B.ao=0;B.Rw=0;B.dg=a}var v=q.zw(B.ao,B.Rw,B.dg);o[$]=Math.round(v.o*255);o[$+1]=Math.round(v.I*255);
o[$+2]=Math.round(v.J*255)}}if(x.type==E.sY){var R=x.a5T,k=J.length,y=1/255;for(var $=0;$<k;$+=4){var c=J[$]*y,N=J[$+1]*y,e=J[$+2]*y,B=q.Yg(c,N,e),t=Math.max(c,Math.max(N,e)),g=Math.min(c,Math.min(N,e)),H=1-c,_=1-N,Y=1-e,K=0,f=0,m=0;
for(var T=0;T<9;T++){var C=T*6,G=0;if(R[C]==1&&R[C+1]==1&&R[C+2]==1&&R[C+3]==0&&R[C+4]==0&&R[C+5]==0)continue;
var Z=H*R[C]+R[C+3],A=_*R[C+1]+R[C+4],d=Y*R[C+2]+R[C+5];if(T<6)G=dv.ayA(B.ao,T*(1/6))*B.Rw*2*Math.min(B.dg,1-B.dg);
else if(T==6)G=Math.max(0,g-.5)*2;else if(T==7)G=1-(Math.abs(t-.5)+Math.abs(g-.5));else G=Math.max(0,.5-t)*2;
K+=(Math.max(0,Math.min(1,Z))-H)*G;f+=(Math.max(0,Math.min(1,A))-_)*G;m+=(Math.max(0,Math.min(1,d))-Y)*G}H=Math.max(0,Math.min(1,H+K));
_=Math.max(0,Math.min(1,_+f));Y=Math.max(0,Math.min(1,Y+m));c=1-H;N=1-_;e=1-Y;o[$]=Math.round(c*255);
o[$+1]=Math.round(N*255);o[$+2]=Math.round(e*255)}}if(x.type==E.Qj){q.aht(J,o,x.my,x.Ym,x.Nu,x.oT,x.ro)}if(x.type==E.$z){var r=new Uint32Array(J.buffer),X=new Uint32Array(o.buffer),k=r.length;
if(dv.FY==null){dv.FY=new Float64Array(256);for(var $=0;$<256;$++)dv.FY[$]=dv.yc(-1+2*$/255)}var w=dv.FY;
for(var $=0;$<k;$++){var S=r[$],c=(S&255)*(1/255),N=(S>>>8&255)*(1/255),e=(S>>>16&255)*(1/255),z=S>>>24,s=Math.min(c,N,e),M=Math.max(c,N,e),Q=0,O=0,W=0;
Q=q.Yg(c,N,e).ao;var e9=~~(Q*255+.5),jV=x.arv[e9]*(1/255),co=x.Zz[e9]*(1/255)*2-1,dz=x.anH[e9]*(1/255)*2-1,j=-dz,eh=s;
if(0<dz){j=dz;eh=M}var a9=x.aAb+x.dL*j*eh,kB=x.dL*(1-j);c=a9+kB*c;N=a9+kB*N;e=a9+kB*e;M=Math.max(c,N,e);
s=Math.min(c,N,e);W=(M+s)*.5;if(M!=s){var dc=M-s;O=W>.5?dc/(2-(M+s)):dc/(M+s)}var eT=co;if(x.afb==0){co=w[Math.floor((1+co)*127.5)];
eT=Math.min(O*(1+co),1)}var v=q.zw(jV,eT,W);c=v.o;N=v.I;e=v.J;X[$]=z<<24|e*255<<16|N*255<<8|c*255}}if(x.type==E.Cs){q.N8(J,o);
var r=new Uint32Array(J.buffer),X=new Uint32Array(o.buffer),k=r.length,fv=x.xe,jS=1/fv,cx={FQ:x.Fy[0],V:x.Fy[1],J:x.Fy[2]},bX={FQ:x.SC[0],V:x.SC[1],J:x.SC[2]};
for(var $=0;$<k;$++){var S=r[$],gi=S&255,cM=S>>>8&255,ea=S>>>16&255,c=gi*(1/255),N=cM*(1/255),e=ea*(1/255),z=S>>>24,a1=q.tl(gi,cM,ea),db=q.Tt(a1,cx,bX,fv,jS);
if(db==0)continue;var B=q.Yg(c,N,e),jV=2+B.ao+x.shift[0];B.ao=jV-~~jV;B.Rw=Math.max(0,Math.min(1,B.Rw+x.shift[1]));
B.dg=Math.max(0,Math.min(1,B.dg+x.shift[2]));var v=q.zw(B.ao,B.Rw,B.dg);c=(1-db)*c+db*v.o;N=(1-db)*N+db*v.I;
e=(1-db)*e+db*v.J;X[$]=z<<24|e*255<<16|N*255<<8|c*255}}if(x.type==E.SH){var r=new Uint32Array(J.buffer),X=new Uint32Array(o.buffer),k=r.length,d2=x.KJ[0],hu=x.KJ[1],fF=x.KJ[2],j=x.KJ[3],il=q.Dk.Mn([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),f4=q.Dk.Mr(il),aK=2.4;
function F(hN){return Math.max(0,Math.min(1,hN))}function f9(hN){return Math.pow(hN,aK)}function e0(hN){return Math.pow(hN,1/aK)}function j7(c,N,e,hN){c=f9(c);
N=f9(N);e=f9(e);var fe=q.Dk.Kg(il,[c,N,e,1]);fe[0]*=fF;fe[1]*=j;fe[2]*=j;var v=q.Dk.Kg(f4,fe);v[0]=e0(F(v[0]));
v[1]=e0(F(v[1]));v[2]=e0(F(v[2]));return v}for(var $=0;$<k;$++){var S=r[$],c=(S&255)*(1/255),N=(S>>>8&255)*(1/255),e=(S>>>16&255)*(1/255),z=S>>>24,v=j7(c,N,e,d2);
c=v[0];N=v[1];e=v[2];var jb=q.Yg(c,N,e);jb.Rw=Math.max(0,Math.min(1,jb.Rw*(1+hu)));v=q.zw(jb.ao,jb.Rw,jb.dg);
c=v.o;N=v.I;e=v.J;X[$]=z<<24|e*255<<16|N*255<<8|c*255}}};dv.YA=function(x,J,o){ai.fI.YA(x,J)};dv.ayA=function(x,J){var o=q.pV(J,x)*6;
return Math.max(0,Math.min(1,o<0?1+o:1-o))};var fn={};fn.sJ=function(x){var J=x.filterID.v;return J>16777215?D.a9I(J):x.Fltr.v.classID};
fn.OM=[{h5:"GEfc"},{h5:"LnCr"},{h5:"Adobe Camera Raw Filter"},{h5:"LqFy"},{h5:"VaPo",U7:!0},{aR:"3D",TB:["lightFilterGradient","Dila"]},{aR:[24,2],TB:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{aR:[24,4],TB:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{aR:[24,6],TB:["AdNs","Dspc","DstS","Mdn ","denoise"]},{aR:[24,8],TB:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{aR:[24,10],TB:["Flam","Clds","DfrC","Fbrs","LnsF"]},{aR:[24,12],TB:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{aR:[24,14],TB:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{aR:[24,16],TB:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{aR:"Fourier",TB:["dDFT","iDFT"]}];
fn.V5={LqFy:"LqFy",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
fn.qp={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
fn.q={rigidTransform:n.tY};fn.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
fn.Bt=function(x){var J=null;if(x=="GEfc")J={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:dZ.Bt("GlwE")}]}};
if(x=="LqFy"){var o={Qh:5,ao:5,map:new Float32Array(5*5*2)},c=new Uint8Array(fZ.gO(o)),E=[];for(var $=0;
$<c.length;$++)E.push(c[$]);J={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:E}}}if(x=="rigidTransform"){J={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(x=="LnCr")J={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(x=="adaptCorrect")J={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(x=="Dfs ")J={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(x=="Fbrs")J={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(x=="Embs")J={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(x=="oilPaint")J={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(x=="TrcC")J={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(x=="Wnd ")J={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(x=="lightFilterGradient")J={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(x=="boxblur")J={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(x=="GsnB")J={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(x=="Bokh")J={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(x=="MtnB")J={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(x=="RdlB")J={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(x=="surfaceBlur")J={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(x=="denoise")J={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(x=="Dspl")J={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(x=="Pnch")J={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(x=="Plr ")J={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(x=="Rple")J={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(x=="Shr ")J={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(x=="Sphr")J={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(x=="Twrl")J={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(x=="Wave")J={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(x=="ZgZg")J={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(x=="AdNs")J={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(x=="DstS")J={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(x=="Mdn ")J={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(x=="ClrH")J={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(x=="Crst")J={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(x=="Mztn")J={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(x=="Msc ")J={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(x=="Pntl")J={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(x=="LnsF")J={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(x=="Dthr")J={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(x=="Part")J={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(x=="Adobe Camera Raw Filter")J={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(x=="smartSharpen")J={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(x=="UnsM")J={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(x=="HghP")J={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(x=="HsbP")J={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(x=="Mxm ")J={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(x=="Mnm ")J={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(x=="Ofst")J={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(x=="Kale")J={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(x=="Rept")J={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(x=="Flam")J={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(x=="Ctoa")J={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(x=="brit")J={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(x=="levl")J={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(x=="curv")J={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(x=="expA")J={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(x=="vibA")J={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(x=="hue2")J={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(x=="blnc")J={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(x=="blwh")J={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(x=="phfl")J={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(x=="grdm")J={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(bs.Kl[6]).Grad};
if(x=="selc")J={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(x=="thrs")J={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(x=="mixr")J={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(x=="clrL")J={__name:"Color Lookup",classID:"colorLookup"};if(x=="post")J={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(x=="rplc")J={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(x=="fade")J={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(x=="aply")J={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(x=="matc"){J={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(x=="Dila")J={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(x=="blendOptions")J={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return J};fn.sR={sFlam:function(x,J){J[0]=x.Type.v;J[1]=x.Leng.v;J[2]=x.RndL.v;J[3]=x.Widt.v;J[4]=x.Angl.v;
J[5]=x.Intr.v;J[6]=x.Adpt.v;J[7]=x.Clr.v;J[8]=x.Qual.v;J[9]=x.Turb.v;J[10]=x.Jag.v;J[11]=x.Opct.v.val;
J[12]=x.Lins.v;J[13]=x.Botm.v;J[14]=x.Styl.v;J[15]=x.Shap.v;J[16]=x.RnSh.v;J[17]=x.Arng.v},gFlam:function(x,J){x.Type.v=J[0];
x.Leng.v=J[1];x.RndL.v=J[2];x.Widt.v=J[3];x.Angl.v=J[4];x.Intr.v=J[5];x.Adpt.v=J[6];x.Clr.v=J[7];x.Qual.v=J[8];
x.Turb.v=J[9];x.Jag.v=J[10];x.Opct.v.val=J[11];x.Lins.v=J[12];x.Botm.v=J[13];x.Styl.v=J[14];x.Shap.v=J[15];
x.RnSh.v=J[16];x.Arng.v=J[17]},sAdNs:function(x,J){J[0]=x.Nose.v.val;J[1]=["Gsn","Unfr"].indexOf(x.Dstr.v.Dstr);
J[2]=x.Mnch.v},gAdNs:function(x,J){x.Nose.v.val=J[0];x.Dstr.v.Dstr=["Gsn","Unfr"][J[1]];x.Mnch.v=J[2]},sDstS:function(x,J){J[0]=x.Rds.v;
J[1]=x.Thsh.v},gDstS:function(x,J){x.Rds.v=J[0];x.Thsh.v=J[1]},sGsnB:function(x,J){J[0]=x.Rds.v.val},gGsnB:function(x,J){x.Rds.v.val=J[0]},sDila:function(x,J){J[0]=x.Crop.v.val;
J[1]=x.Rds.v.val},gDila:function(x,J){x.Crop.v.val=J[0];x.Rds.v.val=J[1]},sHghP:function(x,J){J[0]=x.Rds.v.val},gHghP:function(x,J){x.Rds.v.val=J[0]},sHsbP:function(x,J){var o=["RGBC","HSBl","HSLC"];
J[0]=o.indexOf(x.Inpt.v.ClrS);J[1]=o.indexOf(x.Otpt.v.ClrS)},gHsbP:function(x,J){var o=["RGBC","HSBl","HSLC"];
x.Inpt.v.ClrS=o[J[0]];x.Otpt.v.ClrS=o[J[1]]},"sMxm ":function(x,J){var o="preserveShape";J[0]=x.Rds.v.val;
J[1]=x[o]?["squareness","Rndn"].indexOf(x[o].v[o]):0},"gMxm ":function(x,J){var o="preserveShape";x.Rds.v.val=J[0];
x[o]={t:"enum",v:{preserveShape:["squareness","Rndn"][J[1]]}}},"sMnm ":function(x,J){var o="preserveShape";
J[0]=x.Rds.v.val;J[1]=x[o]?["squareness","Rndn"].indexOf(x[o].v[o]):0},"gMnm ":function(x,J){var o="preserveShape";
x.Rds.v.val=J[0];x[o]={t:"enum",v:{preserveShape:["squareness","Rndn"][J[1]]}}},sMtnB:function(x,J){J[0]=[x.Angl.v];
J[1]=x.Dstn.v.val;console.log(J)},gMtnB:function(x,J){x.Angl.v=typeof J[0]=="number"?J[0]:J[0][0];x.Dstn.v.val=J[1]},sOfst:function(x,J){J[0]=x.Hrzn.v;
J[1]=x.Vrtc.v;J[2]=["Rpt","Bckg","Wrp"].indexOf(x.Fl.v.FlMd)},gOfst:function(x,J){x.Hrzn.v=J[0];x.Vrtc.v=J[1];
x.Fl.v.FlMd=["Rpt","Bckg","Wrp"][J[2]]},sPnch:function(x,J){J[0]=x.Amnt.v},gPnch:function(x,J){x.Amnt.v=J[0]},"sPlr ":function(x,J){J[0]=["RctP","PlrR"].indexOf(x.Cnvr.v.Cnvr)},"gPlr ":function(x,J){x.Cnvr.v.Cnvr=["RctP","PlrR"][J[0]]},sRple:function(x,J){J[0]=x.Amnt.v;
J[1]=["Sml","Mdm","Lrg"].indexOf(x.RplS.v.RplS)},gRple:function(x,J){x.Amnt.v=J[0];x.RplS.v.RplS=["Sml","Mdm","Lrg"][J[1]]},sTwrl:function(x,J){J[0]=x.Angl.v},gTwrl:function(x,J){x.Angl.v=J[0]},sZgZg:function(x,J){J[0]=x.Amnt.v;
J[1]=x.NmbR.v;J[2]=["ArnC","OtFr","PndR"].indexOf(x.ZZTy.v.ZZTy)},gZgZg:function(x,J){x.Amnt.v=J[0];
x.NmbR.v=J[1];x.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][J[2]]},sUnsM:function(x,J){J[0]=x.Amnt.v.val;J[1]=x.Rds.v.val;
J[2]=x.Thsh.v},gUnsM:function(x,J){x.Amnt.v.val=J[0];x.Rds.v.val=J[1];x.Thsh.v=J[2]},sWave:function(x,J){J[0]=x.NmbG.v;
J[1]=x.WLMn.v;J[2]=x.WLMx.v;J[3]=x.AmMn.v;J[4]=x.AmMx.v;J[5]=x.SclH.v;J[6]=x.SclV.v;J[7]=["WvSn","WvTr","WvSq"].indexOf(x.Wvtp.v.Wvtp);
J[8]=["WrpA","RptE"].indexOf(x.UndA.v.UndA);J[9]=x.RndS.v},gWave:function(x,J){x.NmbG.v=J[0];x.WLMn.v=J[1];
x.WLMx.v=J[2];x.AmMn.v=J[3];x.AmMx.v=J[4];x.SclH.v=J[5];x.SclV.v=J[6];x.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][J[7]];
x.UndA.v.UndA=["WrpA","RptE"][J[8]];if(J[9]!=null){var o=parseInt(J[9]);if(isNaN(o))o=248325464;o=Math.max(0,Math.min(268435455,o));
x.RndS.v=o}},sDspl:function(x,J){J[0]=x.HrzS.v;J[1]=x.VrtS.v;J[2]=0;J[3]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)},gDspl:function(x,J){x.HrzS.v=J[0];
x.VrtS.v=J[1];x.UndA.v.UndA=["WrpA","RptE"][J[3]];x.DspF.v.pth=J[4]},sbrit:function(x,J){J[0]=x.Brgh?x.Brgh.v:0;
J[1]=x.Cntr?x.Cntr.v:0;J[2]=x.useLegacy?x.useLegacy.v:!1},gbrit:function(x,J){x.Brgh.v=J[0];x.Cntr.v=J[1];
if(J[2]!=null)x.useLegacy.v=J[2]}};fn.a2o=function(x){var J=new ck(0,0);if(x.enab.v==!1)return J;var o=x.filterFXList.v;
for(var $=0;$<o.length;$++){var c=o[$].v;if(c.enab.v==!1)continue;var E=fn.sJ(c),b=fn.kj(E,c.Fltr?c.Fltr.v:null);
if(b.x>J.x)J.x=b.x;if(b.y>J.y)J.y=b.y}return J};fn.kj=function(x,J){var o=0,c=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(x)!=-1){var E=J.Rds?J.Rds.v.val:1;
o=c=E*2.57}if(x=="MtnB")o=c=J.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(x)!=-1){o=c=1e4}if(x=="GEfc")return dZ.kj(J);
return new ck(Math.ceil(o),Math.ceil(c))};fn.kN=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
fn.Xb=function(x,J){var o={o:J.Q6>>16,I:J.Q6>>8&255,J:J.Q6&255},c={o:J.xR>>16,I:J.xR>>8&255,J:J.xR&255},E=fn.names[x];
if(E==null)E=dv.names[x];var b=x;for(var l in dv.jh)if(dv.jh[l]==x)b=l;var i={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:h9.get(E)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:q.r.qP(o)},BckC:{t:"Objc",v:q.r.qP(c)},filterID:{t:"long",v:b.length==4?D.auZ(b):777}}},F=fn.Bt(x);
if(F)i.v.Fltr={t:"Objc",v:F};return i};fn.OI=function(x,J,o,c){var E=Date.now(),b=ai.mB&&Math.max(c.m,c.e)<=ai.n9.getParameter(ai.n9.MAX_TEXTURE_SIZE);
if(x<1){var l=Math.round(x*5),i=[1,2,1,2,[40,26,13,6,4,2][l],2,1,2,1];i=q.wh.el(i);if(!b){q.u4(o);var F=o.slice(0);
q.wh.eh(F,o,c.m,c.e,i,255);q.jB(o)}else{var k=c.m,U=c.e,I=ai.PW(0,k,U);I.set(o);var V=ai.PW(1,k,U),u=new Float32Array([1/k,1/U]);
ai.FW(V);ai.filter.YA({type:ai.filter.ad9,VK:u,ae1:new Float32Array(i)},I.Hp);V.get(o)}}else{var N=J==q.JS.lM?0:J==q.JS.atM?1:2,e=[];
while(N!=2&&x*[1,2.4][N]>20&&e.length<4){var B=q.Or(o,c);e.push(o,c);o=B.tM;c=B.rect;x/=2}var k=c.m,U=c.e;
if(!b||N==2&&x>15){q.u4(o);J(o,c,x);q.jB(o)}else{var I=ai.PW(0,k,U);I.set(o);var V=ai.PW(1,k,U),u=new Float32Array([1/k,1/U]);
if(N==0){var j=1;while(j<x)j<<=1;ai.FW(V);ai.filter.YA({type:ai.filter.V3,VK:u,xw:x,Ek:[0,0,j]},I.Hp);
ai.FW(I);ai.filter.YA({type:ai.filter.V3,VK:u,xw:x,Ek:[0,1,j]},V.Hp);I.get(o)}else if(N==1){var T=3,a=q.JS.OF(x,T);
for(var $=0;$<T;$++){var P=a[$]>>>1,v=1;while(v<P)v<<=1;if(P==0)continue;ai.FW(V);ai.filter.YA({type:ai.filter.V3,VK:u,xw:P,Ek:[0,0,v]},I.Hp);
ai.FW(I);ai.filter.YA({type:ai.filter.V3,VK:u,xw:P,Ek:[0,1,v]},V.Hp)}I.get(o)}else{var j=1;while(j<x)j<<=1;
ai.FW(V);ai.filter.YA({type:ai.filter.V3,VK:u,xw:x,Ek:[0,0,j]},I.Hp);V.get(o)}}var R=Date.now();while(e.length!=0){var y=e.pop(),t=e.pop();
q.scale.ayC(o,c.m,c.e,t,y.m,y.e);o=t;c=y}}};fn.ab6=function(x,J,o,c){for(var $=0;$<x.length;$++){o[$]=x[$]*(1/255);
c[$]=0}FFT.fft2d(o,c);var E=J>>>1,b=16384,l=128,F=100;while(l<J){l<<=1;b<<=2}var i=255/Math.log(b),k=-100;
for(var U=0;U<J;U++)for(var I=0;I<E;I++){var V=J+E+U&J-1,u=o[V*J+I],N=c[V*J+I],e=Math.sqrt(u*u+N*N),B=Math.atan2(N,u);
x[U*J+I]=Math.round(i*Math.log(e+1));x[U*J+E+I]=Math.round((Math.PI+B)*(255*.5/Math.PI))}};fn.aww=function(x,J,o,c){o.fill(0);
c.fill(0);var E=J>>>1,b=16384,l=128;while(l<J){l<<=1;b<<=2}var i=255/Math.log(b),F=[],k=[],U=[];for(var $=0;
$<256;$++){F[$]=Math.exp($/i)-1;var I=$*(2*Math.PI/255)-Math.PI;k[$]=Math.sin(I);U[$]=Math.cos(I)}for(var V=0;
V<J;V++)for(var u=0;u<E;u++){var N=J+E+V&J-1,e=F[x[V*J+u]],I=x[V*J+E+u],B=e*U[I],j=e*k[I];o[N*J+u]=B;
c[N*J+u]=j;if(u!=0){var T=N==0?N*J+J-u:(J-N)*J+(J-u);o[T]=B;c[T]=-j}}FFT.ifft2d(o,c);for(var $=0;$<x.length;
$++){x[$]=Math.max(0,Math.min(255,~~(.5+255*o[$])))}};fn.a3T=new ArrayBuffer(512);fn.axj=function(x){var J=fn.a3T,o=x.length;
if(J.byteLength<o)fn.a3T=J=new ArrayBuffer(o);var c=new Uint8Array(J);for(var $=0;$<o;$+=4){c[$]=x[$];
c[$+1]=x[$+1];c[$+2]=x[$+2];c[$+3]=x[$+3]}return J};fn.fa=function(x,J,o,c,E,b,l){if(b==null)b={buffer:q.R(J.buffer.length),rect:J.rect.clone()};
b.buffer.set(J.buffer);var i=o&&o.RndS?o.RndS.v>>>1:0;if(x=="GEfc"){var F=[];if(o.GEfs){var k=o.GEfs.v;
for(var $=0;$<k.length;$++){var U=k[$].v;if(U.GELv&&U.GELv.v==!1)continue;F.push(U)}}else F=[o];for(var $=0;
$<F.length;$++){var I;if($==0)dZ.fa(x,J,F[$],c,E,b,l);else{if(I==null)I={buffer:q.R(J.buffer.length),rect:J.rect.clone()};
q.N8(b.buffer,I.buffer);dZ.fa(x,I,F[$],c,E,b,l)}}}if(x=="Dila"){var V=o.Crop.v.val,u=o.Rds.v.val+V;u=u*u;
if(u==0)return;var N=J.rect,e=N.m,B=N.e,j=e*B,T=J.buffer,I=b.buffer,a=q.R(j);q.z$(T,a,3);if(V!=0){var P=N.clone();
P.wI(1,1);var v=q.R(P.P());q.zc(a,N,v,P);q.Mr(v);q.style.stroke(v,v,P,V);q.Mr(v);q.zc(v,P,a,N)}var R=q.style.Dl(a,e,B);
I.fill(0);for(var y=0;y<B;y++)for(var t=0;t<e;t++){var $=y*e+t,g=$<<1,H=$<<2,_=R[g],Y=R[g+1];if(_*_+Y*Y<u){var K=(y+Y)*e+(t+_)<<2;
I[H]=T[K];I[H+1]=T[K+1];I[H+2]=T[K+2];I[H+3]=255}}}if(x=="Adobe Camera Raw Filter"){var N=J.rect,e=N.m,B=N.e,j=e*B,f=j*4,m=j*3,C=new Float32Array(e*B*3),Z=J.buffer;
for(var $=0;$<j;$++){var A=$*3,H=$*4;C[A]=Z[H]*(1/255);C[A+1]=Z[H+1]*(1/255);C[A+2]=Z[H+2]*(1/255)}var d=JSON.parse(JSON.stringify(o));
delete d.Upri;delete d.GuUr;var G=C.slice(0);gT(C,e,B,G,d);C=G;Z=b.buffer;for(var $=0;$<j;$++){var A=$*3,H=$*4;
Z[H]=255*Math.max(0,Math.min(1,C[A]));Z[H+1]=255*Math.max(0,Math.min(1,C[A+1]));Z[H+2]=255*Math.max(0,Math.min(1,C[A+2]))}}if(x=="Fct "){var N=J.rect,e=N.m,B=N.e,j=e*B,f=j*4;
function r(cy){var f4=cy.slice(0);for(var y=0;y<3;y++)for(var t=0;t<3;t++)f4[y*3+t]=cy[(2-t)*3+y];return f4}function X(iQ,jW,i4,hO){var hS=0;
for(var y=0;y<3;y++)for(var t=0;t<3;t++)hS+=jW[y*3+t]*iQ[(hO-1+y)*e+i4-1+t];return hS}var w=[8,5,2,5,2,-1,2,-1,-4],S=[5,5,5,2,2,2,-1,-1,-1],z=[2,2,2,2,2,2,2,2,2],s=[];
s.push(w);for(var $=0;$<3;$++)s.push(r(s[s.length-1]));s.push(S);for(var $=0;$<3;$++)s.push(r(s[s.length-1]));
s.push(z);for(var $=0;$<9;$++)s[$]=q.wh.el(s[$]);var M=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1],Q=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],O=q.R(j),W=new Float32Array(j),G=q.R(j);
for(var e9=0;e9<3;e9++){q.z$(J.buffer,O,e9);for(var jV=0;jV<1;jV++){for(var y=1;y<B-1;y++)for(var t=1;
t<e-1;t++){var co=y*e+t,dz=O[co];W[co]=1e9;for(var $=0;$<9;$++){var eh=X(O,s[$],t,y),a9=(eh-dz)*(eh-dz);
if(a9<W[co])W[co]=a9}}for(var y=1;y<B-1;y++)for(var t=1;t<e-1;t++){var kB=0,dc=1e9;for(var $=0;$<9;$++){var eT=y*e+t+M[$],a9=W[eT];
if(a9<dc){dc=a9;kB=O[eT]}}G[y*e+t]=kB}O.set(G)}q.qR(G,b.buffer,e9)}}if(x=="adaptCorrect"){var N=J.rect,e=N.m,B=N.e,j=e*B,f=j*4,jS=o.sdwM.v,cx=jS.Amnt.v.val/100,bX=jS.Wdth.v.val/100,gi=jS.Rds.v,cM=o.hglM.v,ea=cM.Amnt.v.val/100,a1=cM.Wdth.v.val/100,db=cM.Rds.v;
q.am9.Pl(J.buffer,b.buffer,e,B,cx,bX,gi,ea,a1,db,o.ClrC.v/100,o.Cntr.v/100)}if(x=="denoise"){var N=J.rect,e=N.m,B=N.e,d2=o.channelDenoise.v[0].v;
q.ag6.ap$(J.buffer,e,B,b.buffer,d2.Amnt.v/10,d2.EdgF.v/100)}if(x=="HsbP"){var hu=o.Inpt.v.ClrS,fF=o.Otpt.v.ClrS,N=J.rect,e=N.m,B=N.e,j=e*B;
for(var $=0;$<j;$++){var H=$*4,jV=J.buffer[H]*(1/255),il=J.buffer[H+1]*(1/255),f4=J.buffer[H+2]*(1/255);
if(hu=="RGBC"){}else if(hu=="HSLC"){var G=q.zw(jV,il,f4);jV=G.o;il=G.I;f4=G.J}else if(hu=="HSBl"){var G=q.azn(jV,il,f4);
jV=G.o;il=G.I;f4=G.J}var aK=jV,f9=il,e0=f4;if(fF=="RGBC"){}else if(fF=="HSLC"){var G=q.Yg(jV,il,f4);
aK=G.ao;f9=G.Rw;e0=G.dg}else if(fF=="HSBl"){var G=q.ed(jV,il,f4);aK=G.ao;f9=G.Rw;e0=G.J}b.buffer[H]=~~(255*aK);
b.buffer[H+1]=~~(255*f9);b.buffer[H+2]=~~(255*e0)}}if(x=="Fbrs"){var N=J.rect,e=N.m,B=N.e;q.X.aCD(J.buffer,e,B,b.buffer,[o.Vrnc.v,o.Strg.v,i]);
var j7=q.R(e*B);q.z$(b.buffer,j7,0);q.Mr(j7);dZ.lf(j7,b.buffer,c,E)}if(x=="Frgm"){var N=J.rect,e=N.m,B=N.e,jb=J.buffer.slice(0);
q.u4(jb);q.X.a7E(jb,e,B,b.buffer);q.jB(b.buffer)}if(x=="Flam"){var N=J.rect,e=N.m,B=N.e,hN=o.Clr.v,fe={type:o.Type.v+1,length:o.Leng.v,adz:o.RndL.v,Sj:o.Widt.v,ags:o.Angl.v,ajD:o.Intr.v,a0d:o.Adpt.v,color:{o:hN.Rd.v,I:hN.Grn.v,J:hN.Bl.v},r8:o.Qual.v+1,qn:o.Turb.v,Gl:o.Jag.v,opacity:o.Opct.v.val,WB:o.Lins.v,at3:o.Botm.v,style:o.Styl.v+1,shape:o.Shap.v+1,av$:o.RnSh.v,aAE:o.Arng.v,aqp:!1},hn=l[3],a3=hn[0],bH=hn[1],jB=a3[bH.length!=0?bH[0]:0];
if(jB==null){alert("Make a path first");return}var jH=jB.add.vmsk.$,dL=q.p.Dd(jH),aq=[];for(var K=0;
K<dL;K++){var is=q.p.Yk(jH,K),dh=jH[is];if(dh.length<2)continue;var j_=[];aq.push(j_);var cH=dh.length-(dh.type==3?1:0);
for(var co=0;co<cH;co++){var bK=jH[is+1+co],eC=co==dh.length-1?jH[is+1]:jH[is+1+co+1],fp=bK.L,jq=bK.Dq,w=eC.HN,az=eC.L,de=Math.round(ck.q6(fp,az)/5);
for(var g3=0;g3<de;g3++){var hJ=g3/de,kc=1-hJ,t=kc*kc*kc*fp.x+3*kc*kc*hJ*jq.x+3*kc*hJ*hJ*w.x+hJ*hJ*hJ*az.x,y=kc*kc*kc*fp.y+3*kc*kc*hJ*jq.y+3*kc*hJ*hJ*w.y+hJ*hJ*hJ*az.y;
j_.push(t,y)}}}var bc=[aq,fe],kd=Date.now(),jR=gb(bc);d7(J.buffer,e,B,b.buffer,jR,bc)}if(x=="Dfs "){var N=J.rect,e=N.m,B=N.e,im=["Nrml","DrkO","LghO","anisotropic"].indexOf(o.Md.v.DfsM);
if(im<3)q.X.aij(J.buffer,e,B,b.buffer,[im]);else{var bc=[1.4,1.6,1,4,!1,2,[0,0,.001]],N=J.rect.clone();
N.x=N.y=0;q.Pr.filter(J.buffer,N,b.buffer,bc)}}if(x=="TrcC"){var N=J.rect,e=N.m,dO=e<<2,B=N.e,jd=o.Lvl.v,gJ=o.Edg.v.CntE=="Lwr",iA=J.buffer,gj=b.buffer;
q.xj(gj,16777215,4278190080);function jG(jO,i0){el(jO,i0);el(jO+1,i0+1);el(jO+2,i0+2)}function eG(jO,i0){gp(jO,i0);
gp(jO+1,i0+1);gp(jO+2,i0+2)}function el(jO,i0){var aK=iA[jO],f9=iA[i0];if(aK>=jd&&f9<jd)gj[jO]=0;if(aK<jd&&f9>=jd)gj[i0]=0}function gp(jO,i0){var aK=iA[jO],f9=iA[i0];
if(aK>jd&&f9<=jd)gj[i0]=0;if(aK<=jd&&f9>jd)gj[jO]=0}if(gJ)for(var y=1;y<B;y++)for(var t=1;t<e;t++){var H=y*e+t<<2;
jG(H,H-4);jG(H,H-dO)}else for(var y=1;y<B;y++)for(var t=1;t<e;t++){var H=y*e+t<<2;eG(H,H-4);eG(H,H-dO)}}if(x=="Embs"){var N=J.rect,e=N.m,B=N.e,ar=-o.Angl.v*Math.PI/180,jY=o.Hght.v,fH=o.Amnt.v/100;
jY/=2;var _=Math.cos(ar)*jY,Y=Math.sin(ar)*jY,iA=J.buffer,gj=b.buffer;gj.fill(0);var iH=new Uint32Array(iA.buffer),G=new Uint8Array(4),cz=new Uint32Array(G.buffer);
for(var y=0;y<B;y++)for(var t=0;t<e;t++){var cw=0,eP=0,c3=0;if(0<=t+_&&t+_<e&&0<=y+Y&&y+Y<B){q.D.p6(t+_+.5,y+Y+.5,iH,e,B,cz,0,0);
cw+=G[0]-128;eP+=G[1]-128;c3+=G[2]-128}if(0<=t-_&&t-_<e&&0<=y-Y&&y-Y<B){q.D.p6(t-_+.5,y-Y+.5,iH,e,B,cz,0,0);
cw-=G[0]-128;eP-=G[1]-128;c3-=G[2]-128}var H=y*e+t<<2;gj[H]=Math.max(0,Math.min(255,cw*fH+128));gj[H+1]=Math.max(0,Math.min(255,eP*fH+128));
gj[H+2]=Math.max(0,Math.min(255,c3*fH+128));gj[H+3]=iA[H+3]}}if(x=="ShrE"){var N=J.rect,e=N.m,B=N.e;
q.X.a5g(J.buffer,e,B,b.buffer)}if(x=="Dspc"){var N=J.rect,e=N.m,B=N.e;q.X.a00(J.buffer,e,B,b.buffer)}if(x=="Slrz"){var hg=b.buffer,eQ=128;
for(var $=0;$<hg.length;$+=4){if(hg[$]>eQ)hg[$]=255-hg[$];if(hg[$+1]>eQ)hg[$+1]=255-hg[$+1];if(hg[$+2]>eQ)hg[$+2]=255-hg[$+2]}}if(x=="Wnd "){var N=J.rect,e=N.m,B=N.e,gM=["Wnd","Blst","Stgr"],hZ=o.WndM.v.WndM;
q.X.AN(J.buffer,e,B,b.buffer,[gM.indexOf(hZ),o.Drct.v.Drct!="Left"])}if(x=="Bokh"){var N=J.rect,e=N.m,B=N.e,j=e*B,f=j*4,ev=J.buffer.slice(0),ay=o.BkDi.v.BtDi,a$=o.BkDc,g6=o.BkDs.v,ik=o.BkDp.v/255;
if(ay=="BeIn")ik=0;var dV=57*(.3+.7*((e+B)/2)/1750)*(o.BkIb.v/100)*(1+.2*Math.pow(ik,.1)),bz=parseInt(o.BkIs.v.BtIs.slice(3)),kE=-o.BkIr.v*Math.PI/180,fG=[];
for(var $=0;$<8;$++){var jZ=kE+$*(Math.PI*2/bz),hV=kE+($+1)*(Math.PI*2/bz),kx=Math.cos(jZ),iw=Math.sin(jZ),ic=Math.cos(hV),aB=Math.sin(hV),ge=[0,0,0];
q.ng.qU([[kx,iw,1,0],[ic,aB,1,0],[1,1,1,1]],ge);if(ge[2]>0){ge[0]*=-1;ge[1]*=-1;ge[2]*=-1}fG.push(ge[0],ge[1],ge[2],0)}if(ay=="BeIn"){q.xj(ev,0,16777215);
ik=1}else if(ay=="BeIt"&&a$.v.BtDc=="BeCt"){}else{var gm;if(ay=="BeIt"&&a$.v.BtDc=="BeCm")gm=l[1];else if(ay=="BeIa")gm=l[2][a$.v];
if(gm==null){q.xj(ev,0,16777215)}else{var O;if(gm.rect.U5(N))O=gm.channel;else O=gm.Dy(N);q.qR(O,ev,3)}}if(g6)for(var $=0;
$<f;$+=4)ev[$+3]=255-ev[$+3];if(ai.mB){var fc=ev,bO=e,eu=B,aQ=1,jf=(o.BkSb.v==0||o.BkSt.v==255)&&ay=="BeIn";
if(!jf){var fz=0;for(var $=0;$<f;$+=4)fz+=Math.abs(ik-ev[$+3]*(1/255));fz=fz/j*dV;var gr=3.14*fz*fz*e*B/3e6;
if(gr>2e3){alert("too large radius");return}}while(jf&&3*(dV/aQ)*(dV/aQ)*e*B>500*2e3*2e3){var hK=q.M3(ev,new ha(0,0,bO,eu));
ev=hK.tM;bO=hK.rect.m;eu=hK.rect.e;aQ*=2}var kd=Date.now(),T=ai.PW(0,bO,eu);T.set(ev);var jU=ai.PW(1,e,B);
ai.FW(jU);ai.filter.YA({type:ai.filter.asj,VK:new Float32Array([1/bO,1/eu]),a94:ik,FL:dV/aQ,a7d:new Float32Array([o.BkSb.v/100,o.BkSt.v/255]),auw:new Float32Array([o.BkNa.v/100,o.BkNt.v.BtNt=="BeNu"?0:1,o.BkNm.v?1:0]),acF:new Float32Array(fG.slice(0,16)),axF:new Float32Array(fG.slice(16))},T.Hp);
jU.get(b.buffer);var aC=b.buffer;for(var $=0;$<f;$+=4)aC[$+3]=J.buffer[$+3]}}if(x=="rigidTransform"){var kd=Date.now(),hj=fn.axj,T=J.buffer.slice(0),eI=0,ak=0;
q.u4(T);q.xj(b.buffer,0);var e=J.rect.m,B=J.rect.e,g_=o.puppetShapeList.v,jI=[],gH=[],d3=[],eB=[];for(var co=0;
co<g_.length;co++){var j6=g_[co].v,g=eI*2,A=ak*3,fU=j6.originalVertexArray.v.length>>>2,b$=j6.indexArray.v.length>>>2,hW=new Float32Array(hj(j6.originalVertexArray.v));
for(var $=0;$<fU;$++)jI[g+$]=hW[$];var gI=new Float32Array(hj(j6.deformedVertexArray.v));for(var $=0;
$<fU;$++)gH[g+$]=gI[$];var d_=new Uint32Array(hj(j6.indexArray.v));for(var $=0;$<b$;$++)d3[A+$]=eI+d_[$];
var fI=[],aP=[],ed=j6.PnDp.v;for(var $=0;$<ed.length;$++){fI.push(j6.pinVertexIndices.v[$].v);aP.push(ed[$].v)}var jN=q.bq.ahS(hW,d_,fI,aP);
for(var $=0;$<jN.length;$++)eB[eI+$]=jN[$];eI+=fU>>>1;ak+=~~(b$/3)}var jV=J.rect,e=jV.m,B=jV.e;q.bq.tV(T,e,B,b.buffer,e,B,jI,gH,eB,d3);
q.jB(b.buffer)}if(x=="lightFilterGradient"){function ep(fp){var jW=1/Math.sqrt(fp[0]*fp[0]+fp[1]*fp[1]+fp[2]*fp[2]);
fp[0]*=jW;fp[1]*=jW;fp[2]*=jW}var e=J.rect.m,B=J.rect.e,j=e*B,kd=Date.now(),fl=q.R(j),f9=.3,e0=.7;q.Sk(b.buffer,fl);
var bl=q.R(j);q.JS.Bp(fl,bl,b.rect,16);var ij=q.R(j);q.JS.Bp(fl,ij,b.rect,8);var je=fl,gq=new Float32Array(j),iB=o.Dtl.v,eL=iB[2].v,at=iB[1].v,iu=iB[0].v,hS=o.Scl.v*40*o.textureScale.v/(eL+at+iu);
eL*=hS;at*=hS;iu*=hS;for(var $=0;$<j;$++){var dW=bl[$]*(1/255),iM=ij[$]*(1/255),aH=je[$]*(1/255);aH=aH*aH;
gq[$]=eL*dW+at*iM+iu*aH}var ad=o.blur.v;if(ad!=0){var eW=gq.slice(0);q.JS.In(eW,gq,b.rect,ad)}var fg=e-1,e5=B-1;
for(var y=0;y<B;y++)for(var t=0;t<e;t++){var $=y*e+t,H=$*4,ek=gq[$],_=f9*(gq[$+(t==fg?0:1)]-ek)+e0*(ek-gq[$-(t==0?0:1)]),Y=f9*(gq[$+(y==e5?0:e)]-ek)+e0*(ek-gq[$-(y==0?0:e)]),fp=[1,0,_],jq=[0,1,Y];
ep(fp);ep(jq);var hV=fp[0],cC=fp[2],kv=jq[1],ci=jq[2],kD=-cC*kv,d9=-hV*ci,c4=hV*kv;b.buffer[H]=~~(127.5+kD*127.5);
b.buffer[H+1]=~~(127.5+d9*127.5);b.buffer[H+2]=~~(127.5+c4*127.5)}}if(x=="defr"){var e=J.rect.m,B=J.rect.e;
ej(J.buffer,e,B,b.buffer)}if(x=="dDFT"||x=="iDFT"){function hT(bz){if(bz==0)return 1;bz--;bz|=bz>>1;
bz|=bz>>2;bz|=bz>>4;bz|=bz>>8;bz|=bz>>16;return bz+1}var e=J.rect.m,B=J.rect.e,j9=hT(Math.max(e,B)),gg=j9>>>1,kk=new ha(0,0,j9,j9),iF=new ha(0,0,e,B);
iF.y=j9-B>>>1;var ct=e>>>1,j2=new ha(0,iF.y,ct,B),b0=new q.HC(e*B);q.f8(J.buffer,b0);var cR=new Float64Array(j9*j9),dJ=new Float64Array(j9*j9),O=q.R(j9*j9);
FFT.init(j9);var hl=[b0.o,b0.I,b0.J];for(var $=0;$<3;$++){var er=hl[$];O.fill(0);if(x=="dDFT"){q.zc(er,iF,O,kk);
fn.ab6(O,j9,cR,dJ);q.zc(O,kk,er,iF,j2);j2.x+=ct;kk.x-=gg-ct;q.zc(O,kk,er,iF,j2);j2.x-=ct;kk.x+=gg-ct}else{q.zc(er,iF,O,kk,j2);
j2.x+=gg;iF.x+=gg-ct;q.zc(er,iF,O,kk,j2);j2.x-=gg;iF.x-=gg-ct;fn.aww(O,j9,cR,dJ);q.zc(O,kk,er,iF)}}q.rL(b0,b.buffer)}if(x=="Avrg"){var bT=0,eY=0,aZ=0,i9=0,jz=1;
for(var $=0;$<J.buffer.length;$+=4){var a=J.buffer[$+3];aZ+=J.buffer[$]*a;eY+=J.buffer[$+1]*a;bT+=J.buffer[$+2]*a;
i9+=a}var bN=1/i9;bT=Math.round(jz*(bT*bN)+(1-jz)*255);eY=Math.round(jz*(eY*bN)+(1-jz)*255);aZ=Math.round(jz*(aZ*bN)+(1-jz)*255);
q.xj(b.buffer,bT<<16|eY<<8|aZ,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(x)!=-1){var hd=o.Rds?o.Rds.v.val:1,kG=x=="boxblur"?q.JS.lM:q.JS.atM;
fn.OI(hd,kG,b.buffer,b.rect);if(x=="UnsM"||x=="smartSharpen"){var fH=(o.Amnt?o.Amnt.v.val:200)/100,iq=0;
if(x=="UnsM")iq=o.Thsh.v;else fH*=.75;for(var $=0;$<J.buffer.length;$++){if(($&3)==3){b.buffer[$]=J.buffer[$];
continue}var dz=J.buffer[$],eh=b.buffer[$],av=fH*(dz-eh);if(av>0)av=Math.max(0,av-iq);else av=Math.min(0,av+iq);
b.buffer[$]=Math.max(0,Math.min(255,dz+av))}}if(x=="HghP")for(var $=0;$<J.buffer.length;$++){if(($&3)==3){b.buffer[$]=J.buffer[$];
continue}var dz=J.buffer[$],eh=b.buffer[$];b.buffer[$]=Math.max(0,Math.min(255,128+dz-eh))}}if(x=="AdNs"){var em=new Uint8ClampedArray(b.buffer.buffer),aU=255*o.Nose.v.val/100,dg;
if(o.Dstr.v.Dstr=="Gsn")dg=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else dg=function(){return Math.random()*2-1};for(var $=0;$<em.length;$+=4){var jV=em[$],il=em[$+1],f4=em[$+2],it,hm,e4;
if(o.Mnch.v){it=hm=e4=dg()}else{it=dg();hm=dg();e4=dg()}jV+=aU*it;il+=aU*hm;f4+=aU*e4;em[$]=jV;em[$+1]=il;
em[$+2]=f4}}var kd=Date.now();if(x=="Mdn "||x=="DstS"||x=="Mxm "||x=="Mnm "||x=="surfaceBlur"){var jV=0,d4=o.Thsh,j6=0;
if(d4)d4=d4.v;else d4=0;if(x=="Mdn "||x=="Mxm "||x=="Mnm "||x=="surfaceBlur")jV=o.Rds.v.val;else jV=o.Rds.v;
var hh=10*Math.ceil(jV/10),e=J.rect.m,B=J.rect.e,fT=["Mnm ","Mxm ","surfaceBlur"].indexOf(x),c8=(j6==0?1:.75)*[.73,.73,1.2][fT]*(e*B*Math.pow(hh*hh,1.05))/6022387,fh=.6*(e*B*Math.pow(jV,1/2.6))/6500;
if(x=="Mxm "||x=="Mnm ")fh=e*B/13e3;var jg=o.preserveShape;if(jg&&jg.v.preserveShape=="Rndn")j6=1;if(ai.mB&&fT!=-1&&(c8<fh||j6==1)&&c8<500){var T=ai.PW(0,e,B);
T.set(J.buffer);var I=ai.PW(1,e,B);ai.FW(I);ai.filter.YA({type:ai.filter.apY,VK:new Float32Array([1/e,1/B]),FL:jV,akl:d4/255,Ek:[j6,fT,hh]},T.Hp);
I.get(b.buffer)}else if(x=="Mxm "||x=="Mnm "){var e=J.rect.m,B=J.rect.e;q.hn.awt(J.buffer,b.buffer,e,B,1+Math.floor(o.Rds.v.val)*2,x=="Mxm ")}else{jV=Math.round(jV);
q.i9.ol=.5;q.i9.do=d4;var kG=x=="surfaceBlur"?1:0;q.i9.uN(J.buffer,b.buffer,e,B,jV,kG);if(x=="DstS")for(var $=0;
$<e*B*4;$++){var jh=Math.abs(J.buffer[$]-b.buffer[$]);if(jh<=d4)b.buffer[$]=J.buffer[$]}}}if(x=="ClrH"){var j2=J.rect.clone();
j2.x=j2.y=0;var jV=o.Rds.v;jV=Math.round(jV*Math.sqrt(2));var e=j2.m,B=j2.e,b0=new q.HC(e*B);q.f8(J.buffer,b0);
q.Mr(b0.o);q.Mr(b0.I);q.Mr(b0.J);var b4=q.T6(e,B),aC=q.R(e*B*4);for(var iQ=0;iQ<3;iQ++){var O=iQ==0?b0.o:iQ==1?b0.I:b0.J,ar=Math.PI*o["Ang"+(iQ+1)].v/180,gz=new cW(1/jV,0,0,1/jV,0,0);
gz.rotate(ar);q.qR(O,aC,3);var G=n.Y.yo([aC,j2],gz,!0),iF=G.rect;b4.clearRect(0,0,e,B);var eE=Math.sin(ar),ff=Math.cos(ar);
for(var $=0;$<iF.e;$++)for(var g3=0;g3<iF.m;g3++){var t=(g3+iF.x+.5)*jV,y=($+iF.y+.5)*jV,ew=t,bM=y;t=ff*ew-eE*bM;
y=eE*ew+ff*bM;var j=G.buffer[($*iF.m+g3<<2)+3]*(1/255),hd=jV*Math.sqrt(j*(1/Math.PI));b4.beginPath();
b4.arc(t,y,hd,0,2*Math.PI);b4.fill()}var hx=b4.getImageData(0,0,e,B);q.z$(hx.data,O,3)}q.Mr(b0.o);q.Mr(b0.I);
q.Mr(b0.J);q.rL(b0,b.buffer)}if(x=="Crst"||x=="Pntl"){var e=J.rect.m,B=J.rect.e,kG=x=="Crst"?q.i3.a30:q.i3.aj1;
kG(J.buffer,e,B,b.buffer,o.ClSz.v,[Math.round(E.o),Math.round(E.I),Math.round(E.J)])}if(x=="Mztn"){var e=J.rect.m,B=J.rect.e,j=e*B,b0=new q.HC(j),hs=[b0.o,b0.I,b0.J];
q.f8(J.buffer,b0);var hZ=o.MztT.v.MztT,ee={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[hZ],kd=Date.now(),cq=[];
for(var $=0;$<j;$++){cq[$]=Math.random()}var j=e*B,jL=Math.round(j*ee[0]),jw=j-e-1;for(var $=0;$<jL;
$++){var cs=Math.random(),dP=1;if(cs<.5){dP=e;cs*=2}else cs=2*(cs-.5);var jO=Math.floor(cs*jw),i0=jO+dP;
cq[jO]=cq[i0]}var f0=Math.round(e*ee[1]);for(var y=0;y<B;y++)for(var $=0;$<f0;$++){var cs=q.l.eV(y*j+$),jO=y*e+Math.floor(cs*(e-1));
cq[jO]=cq[jO+1]}var gv=new Float64Array(256);for(var $=0;$<256;$++){var ez=$/255,g5=2*(ez<.5?ez:1-ez);
g5=ee[2]+Math.pow(g5,ee[3])*(1-ee[2]);ez=ez<.5?g5*.5:1-g5*.5;gv[$]=ez}for(var e9=0;e9<3;e9++){var O=hs[e9];
for(var y=0;y<B;y++){for(var t=0;t<e;t++){var $=y*e+t,iC=O[$],ez=gv[iC],cs=cq[$];O[$]=cs>ez?0:255}}}q.rL(b0,b.buffer)}if(x=="Msc "){var dL=o.ClSz.v.val,e=J.rect.m,B=J.rect.e,dj=Math.ceil(e/dL),gS=Math.ceil(B/dL),hE=q.R(dj*gS*4);
q.scale.EW(J.buffer,e,B,hE,dj,gS,1/dL);q.scale.EW(hE,dj,gS,b.buffer,e,B,dL)}if(x=="Clds"||x=="DfrC"){var e=b.rect.m,B=b.rect.e,j=e*B,dd=q.R(j);
if(x=="Clds")q.xj(b.buffer,4278190080);var hI=q.R(256*4);for(var $=0;$<256;$++){var H=$<<2,cy=$/255,d_=1-cy;
hI[H]=Math.round(cy*c.o+d_*E.o);hI[H+1]=Math.round(cy*c.I+d_*E.I);hI[H+2]=Math.round(cy*c.J+d_*E.J)}q.X.a5q(J.buffer,e,B,dd);
var fP=b.buffer;for(var $=0;$<j;$++){var H=$<<2,e9=dd[$]<<2,jV=hI[e9],il=hI[e9+1],f4=hI[e9+2];if(x=="Clds"){fP[H]=jV;
fP[H+1]=il;fP[H+2]=f4}else{fP[H]=Math.abs(fP[4*$]-jV);fP[H+1]=Math.abs(fP[4*$+1]-il);fP[H+2]=Math.abs(fP[4*$+2]-f4)}}}if(x=="LnsF"){var e=J.rect.m,B=J.rect.e,hZ=["Zm","Nkn","Nkn1","PnVs"].indexOf(o.Lns.v.Lns),kn=o.FlrC.v,dT=[Math.min(hZ,2),o.Brgh.v/100,kn.Hrzn.v,kn.Vrtc.v],kd=Date.now();
q.aw5(J.buffer,e,B,b.buffer,dT)}var gl=["Blr ","BlrM","Shrp","ShrM"].indexOf(x);if(gl!=-1){var he=gl>1,e=J.rect.m,B=J.rect.e,jF=q.wh.KG[gl],b_=J.buffer.slice(0);
if(!he)q.u4(b_);q.wh.eh(b_,b.buffer,e,B,jF,255,!1,he);if(!he)q.jB(b.buffer)}if(x=="MtnB"){var di=-o.Angl.v*Math.PI/180,e_=o.Dstn.v.val/2,kd=Date.now(),e=J.rect.m,B=J.rect.e,N=J.rect.clone();
N.x=N.y=0;if(ai.mB){var kd=Date.now(),cS=b.buffer;cS.set(J.buffer);q.u4(cS);var gQ=ai.PW(0,e,B);gQ.set(cS);
var iA=q.R(4);iA[0]=Math.round(128+127*Math.cos(di));iA[1]=Math.round(128+127*Math.sin(di));new Uint32Array(cS.buffer).fill(new Uint32Array(iA.buffer)[0]);
var ib=ai.PW(1,e,B);ib.set(cS);ai.FW(gQ,N);gQ.bU(N);ai.filter.YA({type:ai.filter.ZQ,Zh:ib.Hp,VK:new Float32Array([1/e,1/B]),adn:e_/2,amk:1},gQ.DF);
gQ.get(cS);q.jB(cS)}else{var gz=new cW;gz.rotate(di);var G=n.Y.yo([J.buffer,J.rect],gz,!1,null,!0);fn.OI(e_,q.JS.av1,G.buffer,G.rect);
gz.Mr();G=n.Y.yo([G.buffer,G.rect],gz,!1,b.buffer.buffer,!0,b.rect)}console.log(Date.now()-kd)}if(x=="RdlB"){var e=J.rect.m,B=J.rect.e,fH=o.Amnt.v,c6=o.BlrM.v.BlrM=="Zm",iQ=o.Cntr.v,i4=iQ.Hrzn.v,hO=iQ.Vrtc.v,_=Math.max(i4,1-i4)*e,Y=Math.max(hO,1-hO)*B,hd=Math.sqrt(_*_+Y*Y),gt=2*Math.PI*hd*1.5,dX=Math.round(gt),df=Math.round(hd),j2=new ha(0,0,dX,df),ja=q.R(dX*df*4),bg=c6?4:1,i2=c6?.6:8*((e+B)/2)/1400,fw=.1,aQ=1,dt=1;
q.D.a6K(J.buffer,e,B,ja,dX,df,i4,hO,bg,fw,aQ,dt);var bA=c6?q.R(dX*df*4):null;if(c6){q.D.NB(ja,bA,dX,df);
var hJ=bA;bA=ja;ja=hJ;j2.m=df;j2.e=dX}fn.OI(i2*fH,q.JS.av1,ja,j2);if(c6){q.D.NB(ja,bA,df,dX);var hJ=bA;
bA=ja;ja=hJ;j2.m=dX;j2.e=df}q.D.ajW(ja,dX,df,b.buffer,e,B,i4,hO,bg,fw,aQ,dt)}if(x=="Plr "){var e=J.rect.m,B=J.rect.e;
if(o.Cnvr.v.Cnvr=="RctP")q.D.ajW(J.buffer,e,B,b.buffer,e,B,.5,.5,1,0,2,e/B);else q.D.a6K(J.buffer,e,B,b.buffer,e,B,.5,.5,1,0,2,e/B)}if(x=="FndE"){var e=J.rect.m,B=J.rect.e;
q.wh.apW(J.buffer,b.buffer,e,B)}if(x=="oilPaint"){var ar=o.LghD.v*Math.PI/180,ah=[Math.cos(ar),Math.sin(ar),.001],bc=[o.stylization.v,o.cleanliness.v,o.brushScale.v,o.microBrush.v,o.lightingOn.v,o.specularity.v,ah],N=J.rect.clone();
N.x=N.y=0;q.Pr.filter(J.buffer,N,b.buffer,bc)}if(x=="Ofst"){var e=J.rect.m,B=J.rect.e,ia=new Uint32Array(J.buffer.buffer),ao=new Uint32Array(b.buffer.buffer),ew=o.Hrzn.v,bM=o.Vrtc.v,aJ=o.Fl.v.FlMd;
q.xj(ao,0);if(aJ=="Bckg"||aJ=="Rpt"){var j2=J.rect.clone();j2.offset(ew,bM);q.St(ia,j2,ao,b.rect)}if(aJ=="Rpt"){var kx,iw,ic,aB,fR;
ew=Math.max(-e,Math.min(e,ew));bM=Math.max(-B,Math.min(B,bM));kx=ew>0?ew:0;ic=ew>0?e:e+ew;iw=bM>0?0:bM+B;
aB=bM>0?bM:B;fR=bM>0?0:e*(B-1);for(var y=iw;y<aB;y++)for(var t=kx;t<ic;t++)ao[y*e+t]=ia[fR+t-ew];kx=ew>0?0:e+ew;
ic=ew>0?ew:e;iw=bM>0?bM:0;aB=bM>0?B:B+bM;fR=ew>0?0:e-1;for(var y=iw;y<aB;y++)for(var t=kx;t<ic;t++)ao[y*e+t]=ia[fR+e*(y-bM)];
if(ew>=0&&bM>=0){kx=0;ic=ew;iw=0;aB=bM;fR=0}if(ew>=0&&bM<0){kx=0;ic=ew;iw=B+bM;aB=B;fR=e*(B-1)}if(ew<0&&bM>=0){kx=e+ew;
ic=e;iw=0;aB=bM;fR=e-1}if(ew<0&&bM<0){kx=e+ew;ic=e;iw=B+bM;aB=B;fR=e*B-1}for(var y=iw;y<aB;y++)for(var t=kx;
t<ic;t++)ao[y*e+t]=ia[fR]}if(aJ=="Wrp"){ew=(ew+100*e)%e;bM=(bM+100*B)%B;var j2=new ha(ew-e,bM-B,e,B);
q.St(ia,j2,ao,b.rect);j2.offset(e,0);q.St(ia,j2,ao,b.rect);j2.offset(0,B);q.St(ia,j2,ao,b.rect);j2.offset(-e,0);
q.St(ia,j2,ao,b.rect)}}if(x=="Rept"){var cv=o.Rsft.v.val/100,dA=o.SpcX.v.val/100;dA=Math.max(dA,-.99);
var et=o.SpcY.v.val/100;et=Math.max(et,-.99);var aQ=o.Scl.v.val/100,gz=new cW;gz.rotate(o.Angl.v*Math.PI/180);
gz.scale(aQ,aQ);var h8={buffer:J.buffer,rect:J.rect};q.Ir(h8);if(h8.rect.Kx()){h8.buffer=J.buffer;h8.rect=J.rect}var fP=h8.buffer,j2=h8.rect,cj=q.Bm(fP,j2,0),b1=new Uint32Array(fP.buffer)[0];
if(!cj.Kx()&&!cj.U5(j2)){var jC=q.R(cj.P()*4);q.St(fP,j2,jC,cj);fP=jC;j2=cj}j2.x=j2.y=0;b1=dA==0&&et==0||o.SpcC.v?b1:0;
function gh(t){return t<0?Math.ceil(t):Math.floor(t)}var bG=gz.iI(new ck(j2.m,0));bG.x=gh(bG.x);bG.y=gh(bG.y);
var cZ=gz.iI(new ck(0,j2.e));cZ.x=gh(cZ.x);cZ.y=gh(cZ.y);var G=n.Y.yo([fP,j2],gz,!1),iF=G.rect,gj=G.buffer,jK=Math.round(iF.x),ca=Math.round(iF.y),fr=Math.max(b.rect.m,b.rect.e)/Math.min(j2.m*aQ*(1+dA),j2.e*aQ*(1+et));
fr=Math.ceil(fr*1.7);q.xj(b.buffer,b1);for(var y=-fr;y<fr;y++){for(var t=-fr;t<fr;t++){var dn=(t+y*cv)*(1+dA),a5=y*(1+et);
iF.x=jK+Math.round(dn*bG.x+a5*cZ.x);iF.y=ca+Math.round(dn*bG.y+a5*cZ.y);if(iF.$G(b.rect))q.l.j6("norm",gj,iF,b.buffer,b.rect,iF,1)}}}if(x=="Ctoa"){var E=q.r.fL(o.Clr.v),d4=o.Trsp.v.val/100,iD=o.Opct.v.val/100;
d4=iD==0?0:d4/iD;var e=J.rect.m,B=J.rect.e,cE=~~E.o,f$=~~E.I,gA=~~E.J,fR=J.buffer,eT=b.buffer;for(var y=0;
y<B;y++)for(var t=0;t<e;t++){var $=y*e+t,H=$<<2,j2=fR[H],ap=fR[H+1],fP=fR[H+2],fq=Math.abs(cE-j2),dp=Math.abs(f$-ap),ho=Math.abs(gA-fP),br=Math.max(fq,dp,ho)*(1/255);
br=Math.max(0,Math.min(1,br/iD));var i7=br==0?0:1/br,dN=d4==1?1:Math.max(0,Math.min(1,(br-d4)/(1-d4)));
eT[H]=Math.max(0,Math.min(255,(j2-cE*(1-br))*i7));eT[H+1]=Math.max(0,Math.min(255,(ap-f$*(1-br))*i7));
eT[H+2]=Math.max(0,Math.min(255,(fP-gA*(1-br))*i7));eT[H+3]=~~(.5+dN*255)}}if(x=="Dthr"){function fi(t){return~~(.5+255*q.Ea(t/255))}var co=o.Plte.v,fK;
if(co==0)fK=[4278190080,4294967295];else{var h$=[[1,1,1],[2,2,2],[3,3,2]][co-1],js=[1<<h$[0],1<<h$[1],1<<h$[2]],cn=[~~(255/(js[0]-1)),~~(255/(js[1]-1)),~~(255/(js[2]-1))];
fK=[];for(var jV=0;jV<js[0];jV++)for(var il=0;il<js[1];il++)for(var f4=0;f4<js[2];f4++)fK.push(255<<24|fi(f4*cn[2])<<16|fi(il*cn[1])<<8|fi(jV*cn[0]))}var e=J.rect.m,B=J.rect.e,j=e*B,fD=j*4,c3=J.buffer.slice(0),gE=b.buffer;
for(var $=0;$<fD;$++)c3[$]=~~(.5+255*q.Ea(c3[$]/255));var jn=q.R(e*B);UPNG.encode.dither(c3,e,B,fK,gE,jn,o.Mthd?o.Mthd.v:1);
for(var $=0;$<fD;$++)gE[$]=~~(.5+255*q.cW(gE[$]/255))}if(x=="Part"){var hX=[o.RndS.v,o.Cont.v/100,o.Size.v,o.Dpth.v/100,o.Brgh.v/100,q.r.fL(o.Clr.v),o.Time.v,o.Blnk.v,o.Fall.v,o.Turb.v/100];
q.v5.Bb(b.buffer,J.rect.m,J.rect.e,hX)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(x)!=-1){var dY=l[0],e=J.rect.m,B=J.rect.e,gv,hD=0;
if(x=="LqFy")gv=fZ.QE(new Uint8Array(o.LqMe.v).buffer);else{var g4=3;if(x=="Wave")g4=Math.min(3,o.WLMn.v);
gv={Qh:Math.floor(e/g4),ao:Math.floor(B/g4)};gv.map=new Float32Array(gv.Qh*gv.ao*2);if(x=="LnCr"){var i4=.5*(gv.Qh-1),hO=.5*(gv.ao-1),f7=Math.max(Math.abs(0-i4),Math.abs(1-i4)),ht=Math.max(Math.abs(0-hO),Math.abs(1-hO)),aM=Math.sqrt(f7*f7+ht*ht),d1=0,gC=0,bp=-1,jk=2,aQ=o.LnSi.v/100,c6=1/aQ,gc=o.LnIa.v/100,cm=gc==0?1e-6:gc*4.6,eD=c6/aM;
for(var y=0;y<gv.ao;y++){for(var t=0;t<gv.Qh;t++){var _=(t-i4)*eD,Y=(y-hO)*eD,jV=Math.sqrt(_*_+Y*Y)*cm,fo=Math.atan(jV),cO=gc>0?fo/jV:jV/fo,dt=i4+aM*cO*_,ft=hO+aM*cO*Y,$=y*gv.Qh+t<<1;
gv.map[$]=dt-t;gv.map[$+1]=ft-y}}}else if(x=="Kale"){var dj=gv.Qh,gS=gv.ao,dD=(dj-1)*.5,e5=(gS-1)*.5,ix=o.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,as=o.Mirr.v,ex=Math.PI*2/as,cD=.5*ex;
for(var y=0;y<gS;y++)for(var t=0;t<dj;t++){var _=t-dD,Y=y-e5,d0=Math.sqrt(_*_+Y*Y),ar=Math.atan2(Y,_)+ix;
ar=ar%ex;if(ar>cD)ar=ex-ar;var dt=dD+Math.cos(ar-ix)*d0,ft=e5+Math.sin(ar-ix)*d0,$=(y*dj+t)*2;gv.map[$]=dt-t;
gv.map[$+1]=ft-y}}else if(x=="Dspl"&&dY.length!=0){hD=o.UndA.v.UndA=="WrpA"?2:1;var aw=o.DspF.v.pth,aj,by=o.DspD,iO,cr,e8;
if(by){var bT=by.v;iO=bT[1]*256+bT[0];cr=bT[5]*256+bT[4];e8=new Uint8Array(bT.slice(10,10+iO*cr))}else{for(var $=0;
$<dY.length;$++)if(dY[$].UU==aw)aj=dY[$];if(aj==null)aj=dY[0];aj.or();var fq=aj.pH[1],e8=q.R(fq.P());
q.Sk(aj.pH[0],e8);iO=fq.m;cr=fq.e}gv={Qh:iO,ao:cr};gv.map=new Float32Array(gv.Qh*gv.ao*2);var iS=2.54*o.HrzS.v*iO/e,eU=2.54*o.VrtS.v*cr/B;
for(var y=0;y<gv.ao;y++){for(var t=0;t<gv.Qh;t++){var jh=-.5+e8[y*iO+t]*(1/255),$=y*gv.Qh+t<<1;gv.map[$]=jh*iS;
gv.map[$+1]=jh*eU}}}else if(x=="Pnch"||x=="Twrl"||x=="Sphr"||x=="ZgZg"){var fH=1,di=Math.PI,f_=0,h7=1,ab=0,iQ=3,dL=1.53,cO=1;
if(x=="Pnch"||x=="Sphr"||x=="ZgZg")fH=o.Amnt.v/100;if(x=="ZgZg"){h7=o.NmbR.v;ab=["ArnC","OtFr","PndR"].indexOf(o.ZZTy.v.ZZTy)}if(x=="Twrl")di=o.Angl.v*Math.PI/180;
if(x=="Sphr")f_=["Nrml","HrzO","VrtO"].indexOf(o.SphM.v.SphM);function kG(t){t=Math.pow(t,1-t*.3-t*t*(t*t)*.5);
return-.225*Math.sin(t*Math.PI)}function bQ(B,jW,jV,kx,iw,ic,aB,cO){var _=ic-kx,Y=aB-iw,iJ=kx-B,fu=iw-jW,cy=_*_+Y*Y,f4=2*(_*iJ+Y*fu),iQ=iJ*iJ+fu*fu-jV*jV,ce=Math.sqrt(f4*f4-4*cy*iQ),dS=cO/(2*cy),c0=(-f4+ce)*dS,iE=(-f4-ce)*dS;
return cO*Math.min(c0,iE)}var dj=gv.Qh,gS=gv.ao,dD=gv.Qh/2,e5=gv.ao/2,kC=1/dD,jV=Math.sqrt(iQ*iQ+1)/iQ,er=iQ+Math.sqrt(1/(iQ*iQ));
if(fH<0){iQ=1.72;jV=1;er=iQ;dL=-1;cO=-1}for(var y=0;y<gS;y++){var Y=(y-e5)/e5;for(var t=0;t<dj;t++){var _=(t-dD)*kC;
if(f_==1)Y=0;else if(f_==2)_=0;var cl=Math.sqrt(_*_+Y*Y);if(cl<1&&cl!=0){var $=y*gv.Qh+t<<1;if(x=="Pnch"){var hz=-fH*kG(cl)/cl;
gv.map[$]=_*hz*dD;gv.map[$+1]=Y*hz*e5}else if(x=="Sphr"){var hJ=bQ(0,er,jV,0,0,cl,iQ,cO),ga=dL*fH*(hJ-1);
gv.map[$]=_*ga*dD;gv.map[$+1]=Y*ga*e5}else if(x=="Twrl"){var ar=Math.atan2(Y,_)-di*(1-cl)*(1-cl),iz=Math.cos(ar),i_=Math.sin(ar);
gv.map[$]=(cl*iz-_)*dD;gv.map[$+1]=(cl*i_-Y)*e5}else if(x=="ZgZg"){var iz=0,i_=0,gR=fH*(.5-.5*Math.cos(cl*h7*2*Math.PI))*(1-cl);
if(ab==0){var ar=Math.atan2(Y,_)-3.5*gR;iz=cl*Math.cos(ar);i_=cl*Math.sin(ar)}if(ab==1){gR=100/e*gR/cl;
iz=(1-gR)*_;i_=(1-gR)*Y}if(ab==2){var z=512/e*gR*Math.PI/4;iz=z+_;i_=z+Y}gv.map[$]=(iz-_)*dD;gv.map[$+1]=(i_-Y)*e5}}}}}else if(x=="Shr "){var jH=JSON.parse(JSON.stringify(o.ShrP.v));
q._8.M(jH,new cW(0,255/127,255/127,0,-2,0));var dH=q._8.MQ(jH,gv.ao,!0);hD=o.UndA.v.UndA=="WrpA"?2:1;
for(var y=0;y<gv.ao;y++){var _=-dH[y]*gv.Qh;for(var t=0;t<gv.Qh;t++){var $=y*gv.Qh+t<<1;gv.map[$]=_}}}else if(x=="Wave"){var f5=o.NmbG.v,jl=o.WLMn.v,id=o.WLMx.v,ch=o.AmMn.v*(Math.PI/4),cT=o.AmMx.v*(Math.PI/4),ir=o.SclH.v/100,gK=o.SclV.v/100,hZ=o.Wvtp.v.Wvtp,gR=Math.sin;
if(hZ=="WvTr")gR=function(t){t*=2/Math.PI;return-.5+Math.abs(t%2-1)};if(hZ=="WvSq")gR=function(t){t*=2/Math.PI;
return 1+2*Math.floor(t%2-1)};var aY=[],gW=new q.l.ce(o.RndS.v);for(var $=0;$<f5;$++){aY.push(gW.get()*10);
aY.push(Math.PI*g4/(jl+gW.get()*(id-jl)));aY.push(ir*(ch+gW.get()*(cT-ch))/g4);aY.push(gW.get()*10);
aY.push(Math.PI*g4/(jl+gW.get()*(id-jl)));aY.push(gK*(ch+gW.get()*(cT-ch))/g4)}var b3=[],ig=[],kt=Math.max(gv.Qh,gv.ao);
for(var $=0;$<kt;$++){var _=0,Y=0;for(var g3=0;g3<f5;g3++){var hM=g3*6;_+=aY[hM+2]*gR(aY[hM]+$*aY[hM+1]);
Y+=aY[hM+5]*gR(aY[hM+3]+$*aY[hM+4])}b3[$]=Y;ig[$]=_}for(var y=0;y<gv.ao;y++){for(var t=0;t<gv.Qh;t++){var $=y*gv.Qh+t<<1;
gv.map[$]=ig[y];gv.map[$+1]=b3[t]}}hD=o.UndA.v.UndA=="WrpA"?2:1}else if(x=="Rple"){hD=1;var fH=o.Amnt.v/100,cV=4,ks=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],jT=1,cf=1,iJ=0,h1=["Sml","Mdm","Lrg"].indexOf(o.RplS.v.RplS);
if(h1==0){jT=1;cf=.2;iJ=3}if(h1==2){jT=1;cf=2;iJ=-1;ks=ks.reverse()}var fm=function(t,y){var iQ=Math.cos,hS=0;
for(var $=0;$<cV;$++)for(var g3=0;g3<cV;g3++)hS+=ks[$*cV+g3]*iQ(t*($+iJ)-y*(g3+iJ));return hS},bJ=Math.floor(50/g4),b6=new Float32Array(bJ*bJ*2),hv=cf*fH*.5/g4;
for(var y=0;y<bJ;y++)for(var t=0;t<bJ;t++){var i4=jT*t*2*Math.PI/bJ,hO=jT*y*2*Math.PI/bJ,kr=fm(i4,hO),_=(fm(i4+.01,hO)-kr)*100,Y=(fm(i4,hO+.01)-kr)*100,$=(y*bJ+t)*2;
b6[$]=_*hv;b6[$+1]=Y*hv}for(var y=0;y<gv.ao;y++)for(var t=0;t<gv.Qh;t++){var i_=y%bJ,iz=t%bJ,$=y*gv.Qh+t<<1,aW=i_*bJ+iz<<1;
gv.map[$]=b6[aW];gv.map[$+1]=b6[aW+1]}}}q.$T.s9(J.buffer,b.buffer,e,B,null,gv.map,gv.Qh,gv.ao,hD)}return b};
var dZ={};dZ.a8P="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");dZ.CH="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
dZ.I1=["ScrC","ScrD","ScrL"];dZ.tL=["SDRD","SDHz","SDLD","SDVt"];dZ.dl="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
dZ.r4="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");dZ.ad="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
dZ.OM=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];dZ.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
dZ.Bt=function(x){var J;if(x=="ClrP")J={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(x=="Ct")J={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(x=="DryB")J={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(x=="FlmG")J={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(x=="Frsc")J={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(x=="NGlw")J={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(x=="PntD")J={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(x=="PltK")J={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(x=="PlsW")J={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(x=="PstE")J={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(x=="RghP")J={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(x=="SmdS")J={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(x=="Spng")J={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(x=="Undr")J={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(x=="Wtrc")J={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(x=="AccE")J={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(x=="AngS")J={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(x=="Crsh")J={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(x=="DrkS")J={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(x=="InkO")J={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(x=="Smie")J={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(x=="Spt")J={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(x=="SprS")J={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(x=="DfsG")J={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(x=="Gls")J={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(x=="OcnR")J={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(x=="BsRl")J={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(x=="ChlC")J={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(x=="Chrc")J={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(x=="Chrm")J={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(x=="CntC")J={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(x=="GraP")J={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(x=="HlfS")J={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(x=="NtPr")J={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(x=="Phtc")J={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(x=="Plst")J={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(x=="Rtcl")J={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(x=="Stmp")J={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(x=="TrnE")J={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(x=="WtrP")J={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(x=="GlwE")J={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(x=="Crql")J={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(x=="Grn")J={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(x=="MscT")J={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(x=="Ptch")J={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(x=="StnG")J={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(x=="Txtz")J={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
J.__name="Filter Gallery";J.classID="GEfc";J.GEfk={t:"enum",v:{GEft:x}};J.GELv={t:"bool",v:!0};return J};
dZ.oT=function(x,J){for(var $=0;$<J.length;$++)~~(J[$]=(x[4*$]+x[4*$+1]+x[4*$+2])*(1/3))};dZ.a89=function(x,J,o,c,E){var b=UPNG.quantize(x,J);
b={qz:b.inds,d_:b.plte};var l=Math.floor((o+c)*.015);if(l!=0&&E)q.lY.adI(b.qz,o,c,l);return b};dZ.fa=function(x,J,o,c,E,b,l){x=o.GEfk.v.GEft;
var i=J.rect,F=i.m,k=i.e,U=F*k,I=o.FlRs?o.FlRs.v>>>1:0;function V(v){return v.o<<24|v.I<<16|v.J<<8|255}if(x=="ClrP")q.X.a64(J.buffer,F,k,b.buffer,[o.Pncl.v,o.StrP.v,o.PprB.v]);
if(x=="Ct"){var u=o.NmbL.v,N=o.EdgS.v,e=dZ.a89(J.buffer.buffer,u*2,F,k,!0);for(var $=0;$<e.qz.length;
$++)e.qz[$]++;var B=new Uint8Array((F+2)*(k+2));q.zc(e.qz,new ha(1,1,F,k),B,new ha(0,0,F+2,k+2));var j=q.O.amT(B,F+2,k+2,N,!1),T=new cW(1,0,0,1,-1,-1);
for(var $=0;$<j.length;$++)q.O.M(j[$].path.j,T,j[$].path.j);var a=[],P=e.d_;for(var $=0;$<P.length;$++){var v=P[$].est.q;
a.push({o:Math.round(255*v[0]),I:Math.round(255*v[1]),J:Math.round(255*v[2]),V:Math.round(255*v[3])})}var R=q.T6(F,k);
for(var $=0;$<j.length;$++){var y=j[$],v=a[y.color-1];if(v.V==0)continue;R.fillStyle="rgba("+v.o+","+v.I+","+v.J+","+v.V/255+")";
R.beginPath();Typr.U.pathToContext({crds:y.path.j,cmds:y.path.G},R);R.fill()}if(!i.Kx()){var t=R.getImageData(0,0,F,k);
q.N8(t.data,b.buffer)}}if(x=="DryB")q.X.an2(J.buffer,F,k,b.buffer,[o.BrsS.v,o.BrsD.v,o.Txtr.v]);if(x=="FlmG")q.X.ax3(J.buffer,F,k,b.buffer,[o.Grn.v,o.HghA.v,o.Intn.v,I]);
if(x=="Frsc")q.X.a8M(J.buffer,F,k,b.buffer,[o.BrsS.v,o.BrsD.v,o.Txtr.v]);if(x=="NGlw")q.X.alJ(J.buffer,F,k,b.buffer,[o.Sz.v,o.Brgh.v,V(q.r.fL(o.Clr.v)),V(c),V(E)]);
if(x=="PltK")q.X.afw(J.buffer,F,k,b.buffer,[o.StrS.v,o.StDt.v,o.Sftn.v]);if(x=="PstE")q.X.af3(J.buffer,F,k,b.buffer,[o.EdgT.v,o.EdgI.v,o.Pstr.v]);
if(x=="RghP")q.X.awL(J.buffer,F,k,b.buffer,[o.StrL.v,o.StDt.v,dZ.dl.indexOf(o.TxtT.v.TxtT),o.Scln.v,o.Rlf.v,dZ.CH.indexOf(o.LghD.v.LghD),o.InvT.v]);
if(x=="SmdS")q.X.aCW(J.buffer,F,k,b.buffer,[o.StrL.v,o.HghA.v,o.Intn.v,o.FlRs?o.FlRs.v:0,I]);if(x=="Spng")q.X.agy(J.buffer,F,k,b.buffer,[o.BrsS.v,o.Dfnt.v,o.Smth.v,o.FlRs?o.FlRs.v:0,I]);
if(x=="Undr")q.X.azi(J.buffer,F,k,b.buffer,[o.BrsS.v,o.TxtC.v,dZ.dl.indexOf(o.TxtT.v.TxtT),o.Scln.v,o.Rlf.v,dZ.CH.indexOf(o.LghD.v.LghD),o.InvT.v]);
if(x=="Wtrc")q.X.a6F(J.buffer,F,k,b.buffer,[o.BrsD.v,o.ShdI.v,o.Txtr.v]);if(x=="AccE")q.X.ao$(J.buffer,F,k,b.buffer,[o.EdgW.v,o.EdgB.v,o.Smth.v]);
if(x=="AngS")q.X.aBa(J.buffer,F,k,b.buffer,[o.DrcB.v,o.StrL.v,o.Shrp.v]);if(x=="Crsh")q.X.art(J.buffer,F,k,b.buffer,[o.StrL.v,o.Shrp.v,o.Strg.v]);
if(x=="DrkS")q.X.apr(J.buffer,F,k,b.buffer,[o.Blnc.v,o.BlcI.v,o.WhtI.v]);if(x=="InkO")q.X.aqL(J.buffer,F,k,b.buffer,[o.StrL.v,o.DrkI.v,o.LghI.v]);
if(x=="Smie")q.X.avK(J.buffer,F,k,b.buffer,[o.StrW.v,o.StrP.v,o.Cntr.v]);if(x=="DfsG")q.X.aAn(J.buffer,F,k,b.buffer,[o.Grns.v,o.GlwA.v,o.ClrA.v,V(E),I]);
if(x=="CntC")q.X.avn(J.buffer,F,k,b.buffer,[o.FrgL.v,o.BckL.v,dZ.dl.indexOf(o.TxtT.v.TxtT),o.Scln.v,o.Rlf.v,dZ.CH.indexOf(o.LghD.v.LghD),o.InvT.v,V(E),V(c)]);
if(x=="ChlC")q.X.a4U(J.buffer,F,k,b.buffer,[o.ChrA.v,o.ChlA.v,o.StrP.v,I,V(E),V(c)]);var g=x=="GraP"||x=="Chrc"||x=="Plst"||x=="Rtcl"||x=="Stmp"||x=="TrnE";
if(g){var H=q.R(F*k);if(x=="GraP")q.X.atN(J.buffer,F,k,b.buffer,[o.StrL.v,o.LgDr.v,dZ.tL.indexOf(o.SDir.v.StrD),I]);
if(x=="Chrc")q.X.a7P(J.buffer,F,k,b.buffer,[o.ChAm.v,o.Dtl.v,o.LgDr.v]);if(x=="Plst")q.X.amN(J.buffer,F,k,b.buffer,[o.ImgB.v,dZ.r4.indexOf(o.LghP.v.LghP),o.Smth.v]);
if(x=="Rtcl")q.X.ai$(J.buffer,F,k,b.buffer,[o.Dnst.v,o.BlcL.v,o.WhtL.v,I]);if(x=="Stmp")q.X.a0V(J.buffer,F,k,b.buffer,[o.LgDr.v,o.Smth.v]);
if(x=="TrnE")q.X.a6f(J.buffer,F,k,b.buffer,[o.ImgB.v,o.Smth.v,o.Cntr.v,I]);q.z$(b.buffer,H,0);dZ.lf(H,b.buffer,c,E)}if(x=="NtPr")q.X.a2H(J.buffer,F,k,b.buffer,[o.ImgB.v,o.Grns.v,o.Rlf.v,V(c),V(E),I]);
if(x=="WtrP")q.X.awm(J.buffer,F,k,b.buffer,[o.FbrL.v,o.Brgh.v,o.Cntr.v,I>>>1]);if(x=="Crql")q.X.amZ(J.buffer,F,k,b.buffer,[o.CrcS.v,o.CrcD.v,o.CrcB.v,I]);
if(x=="Grn")q.X.aiN(J.buffer,F,k,b.buffer,[o.Intn.v,dZ.ad.indexOf(o.Grnt.v.Grnt),o.Cntr.v,V(c),V(E),I]);
if(x=="MscT")q.X.adk(J.buffer,F,k,b.buffer,[o.TlSz.v,o.GrtW.v,o.LghG.v,I]);if(x=="Ptch")q.X.aDv(J.buffer,F,k,b.buffer,[o.SqrS.v,o.Rlf.v,I]);
if(x=="Phtc"){function _(jH,dL,i,ar){q.JS.gu(jH,dL,i,ar);for(var $=0;$<U;$++)dL[$]=Math.max(0,Math.min(255,128+jH[$]-dL[$]))}var Y=o.Dtl.v,K=o.Drkn.v,f=q.R(U);
q.Sk(J.buffer,f);var m=q.R(U);_(f,m,i,1);if(Y==1){Y=2;K=Math.round(K/4)}var C=q.R(U);_(f,C,i,Y);for(var $=0;
$<U;$++)f[$]=Math.max(0,Math.min(255,255-(m[$]-C[$])*K));dZ.lf(f,b.buffer,c,E)}if(x=="Spt"||x=="SprS"){var Z,A=1,d=1;
Z={Qh:Math.floor(F/d),ao:Math.floor(k/d)};Z.map=new Float32Array(Z.Qh*Z.ao*2);var G=new q.l.ce(I),r=new Float32Array(8192),X=o.SprR.v,w=X<20?.018*X:.36+(X-20)*.128;
if(x=="SprS"){w=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][X]}for(var $=0;
$<8192;$++)r[$]=(-1+2*G.get())*w*70;for(var S=0;S<k;S++)for(var z=0;z<F;z++){var s=S*F+z<<1;Z.map[s]=r[s%7919];
Z.map[s+1]=r[(s+1)%7919]}var M=Z.map.slice(0),Q=x=="Spt"?o.Smth.v-1:1;if(x=="Spt"&&Q!=0){dZ.aaP(Z.map,M,F,k,Q);
dZ.ac1(M,Z.map,F,k,Q)}if(x=="SprS"){var O=o.StrL.v>>>1,W=O==0?2:1;dZ.aaP(Z.map,M,F,k,W);dZ.ac1(M,Z.map,F,k,W);
if(O!=0){var e9=dZ.tL.indexOf(o.SDir.v.StrD),jV=[1,1,1,0][e9],co=[-1,0,1,1][e9],dz=2*O+1,eh=1/dz;for(var S=0;
S<k;S++)for(var z=0;z<F;z++){var s=S*F+z<<1,a9=0,kB=0;for(var $=0;$<dz;$++){var dc=Math.max(0,Math.min(F-1,z-(O+$)*jV)),eT=Math.max(0,Math.min(k-1,S-(O+$)*co)),jS=eT*F+dc<<1;
a9+=Z.map[jS];kB+=Z.map[jS+1]}M[s]=a9*eh;M[s+1]=kB*eh}Z.map=M}}q.$T.s9(J.buffer,b.buffer,F,k,null,Z.map,Z.Qh,Z.ao,A)}if(x=="BsRl"||x=="PlsW"||x=="Chrm"){var cx=Date.now(),bX=q.R(U),gi=bX.slice(0);
q.Sk(J.buffer,bX);var Y=o.Dtl.v,cM=o.Smth.v;if(Y!=15){q.JS.Bp(bX,gi,i,Math.round((15-Y)*.5));q.N8(gi,bX)}var ea=1.4/F,a1=1.4/k,db=new Float32Array(U),d2=new Float32Array(U),hu=new Float32Array(b.buffer.buffer);
for(var S=0;S<k;S++)for(var z=0;z<F;z++){var $=S*F+z,jV=z==F-1?bX[$]-bX[$-1]:bX[$+1]-bX[$],co=S==k-1?bX[$]-bX[$-F]:bX[$+F]-bX[$],fF=z*ea-.7,il=S*a1-.7;
db[$]=jV==0?fF:jV*.4;d2[$]=co==0?il:co*.4}if(x=="BsRl"){var f4=(2+dZ.CH.indexOf(o.LghD.v.LghD))*Math.PI*.25,a9=Math.cos(f4);
if(Math.abs(a9)<.1)a9=0;a9=Math.sign(a9);var kB=Math.sin(f4);if(Math.abs(kB)<.1)kB=0;kB=Math.sign(kB);
var aK=1/(a9*a9+kB*kB);for(var S=0;S<k;S++)for(var z=0;z<F;z++){var $=S*F+z,f9=Math.max(-1,Math.min(1,a9*db[$])),e0=Math.max(-1,Math.min(1,kB*d2[$]));
gi[$]=128+127*(f9+e0)*aK}if(cM!=1){q.JS.Bp(gi,bX,i,Math.round((cM-1)*.5));q.N8(bX,gi)}dZ.lf(gi,b.buffer,c,E)}else{if(x=="Chrm")cM=5+cM;
if(cM>1)dZ.OI(db,d2,hu,i,cM-1);if(x=="PlsW"){var j7=new Uint8Array(db.buffer);for(var $=0;$<U;$++){var jb=$<<2,jV=db[$],co=d2[$],hN=1/(Math.sqrt(1+jV*jV)*Math.sqrt(1+co*co)),fe=hN*hN,hn=fe*fe,v=~~(255*(hn*hn*fe));
j7[jb+0]=v;j7[jb+1]=v;j7[jb+2]=v;j7[jb+3]=v}b.buffer.set(J.buffer);q.l.j6("norm",j7,i,b.buffer,i,i,o.HghS.v/20)}else if(x=="Chrm"){var a3=b.buffer,bH=F>>>1,jB=k>>>1;
for(var $=0;$<U;$++){var jb=$<<2,jV=db[$],co=d2[$],jH={x:1,y:0,fj:jV};cI.gk(jH);var dL={x:0,y:1,fj:co};
cI.gk(dL);var aq=cI.a3o(jH,dL),is=1/aq.fj,dh=~~Math.max(0,Math.min(F-1,bH-aq.x*is*bH)),j_=~~Math.max(0,Math.min(k-1,jB-aq.y*is*jB)),v=bX[j_*F+dh];
a3[jb+0]=v;a3[jb+1]=v;a3[jb+2]=v}}}}if(x=="Gls"||x=="OcnR"||x=="Txtz"){var cH=x=="OcnR"?2:dZ.dl.indexOf(o.TxtT.v.TxtT),bK=dZ.Vv(cH),eC=bK[0],bX=bK[1],fp=eC.m,jq=eC.e,dz=24,im=0,dO,jd;
function az(gm,fc,bO){return~~(de*(gm+fc)+8192)&127}var db=new Float32Array(U),d2=new Float32Array(U),hu=new Float32Array(b.buffer.buffer),de=x=="OcnR"?1/(1+(o.RplS.v-1)*.1):100/o.Scln.v;
if(cH==3)de*=32/22.2;var cx=Date.now(),g3=de,ea=1.4/F,a1=1.4/k;if(x=="Txtz"){g3*=1/255;dz=256}for(var S=0;
S<k;S++){var hJ=az(S,i.y,jq),eT=hJ+1&127;for(var z=0;z<F;z++){var $=S*F+z,kc=az(z,i.x,fp),dc=kc+1&127,bc=0,kd=0,jR=0;
if(x=="Txtz"){bc=q.D.vt(de*z,de*S,bX,128,128);kd=q.D.vt(de*z,de*S+1,bX,128,128);jR=q.D.vt(de*z+1,de*S,bX,128,128)}else{bc=bX[hJ*fp+kc];
kd=bX[eT*fp+kc];jR=bX[hJ*fp+dc]}db[$]=Math.max(-dz,Math.min((jR-bc)*g3,dz));d2[$]=Math.max(-dz,Math.min((kd-bc)*g3,dz))}}if(x=="Txtz")dZ.avD(db,d2,hu,i,6);
else dZ.OI(db,d2,hu,i,x=="Txtz"?1:x=="OcnR"?3.5/de:o.Smth.v);if(x=="Txtz")im=o.InvT.v?-1:1;else if(x=="Gls"){im=[1,.4,.5,.5][cH]*(Math.exp(o.Dstr.v*.155)-1);
if(o.InvT.v)im=-im}else{im=.5*(Math.exp(o.RplM.v*.155)-1)}var a3=b.buffer;if(x=="Txtz"){var f4=(2+dZ.CH.indexOf(o.LghD.v.LghD))*Math.PI*.25,a9=Math.cos(f4),kB=Math.sin(f4);
dO={x:a9,y:kB,fj:0};cI.gk(dO);jd=o.Rlf.v;jd=jd/4+Math.max(0,(jd-35)*2)}function gJ(jH,dL,gj){var eP=q.l.overF(dL,jH,1),gm=(1-gj)*jH+gj*(gj*dL+(1-gj)*eP);
return gm*255}for(var S=0;S<k;S++)for(var z=0;z<F;z++){var $=S*F+z,jb=$<<2,jV=db[$],co=d2[$],jH={x:1,y:0,fj:jV};
cI.gk(jH);var dL={x:0,y:1,fj:co};cI.gk(dL);var aq=cI.a3o(jH,dL);if(x=="Txtz"){var iA=cI.am$(aq,dO)*im,gj=1,v=1;
if(iA<0){v=0;iA=-iA}gj=Math.min(1,iA*jd);a3[jb+0]=~~gJ(J.buffer[jb]*(1/255),v,gj);a3[jb+1]=~~gJ(J.buffer[jb+1]*(1/255),v,gj);
a3[jb+2]=~~gJ(J.buffer[jb+2]*(1/255),v,gj)}else{var is=im/aq.fj,dh=~~Math.max(0,Math.min(F-1,z-aq.x*is)),j_=~~Math.max(0,Math.min(k-1,S-aq.y*is)),jG=j_*F+dh<<2;
a3[jb+0]=J.buffer[jG];a3[jb+1]=J.buffer[jG+1];a3[jb+2]=J.buffer[jG+2]}}}if(x=="PntD"){var eG=o.Shrp.v*.4,el=o.BrsT.v.BrsT,gp={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[el],ar=Math.round(o.Sz.v*.5);
q.i9.ol=gp[0];q.i9.uN(J.buffer,b.buffer,F,k,ar,0,[]);var jY=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];jY=q.wh.el(jY);
var fH=b.buffer.slice(0);q.wh.eh(fH,b.buffer,F,k,jY,0);for(var $=0;$<J.buffer.length;$++){var iH=b.buffer[$]-fH[$];
b.buffer[$]=Math.max(0,Math.min(255,fH[$]+eG*iH))}}if(x=="GlwE"){var cz=b.buffer.slice(0);q.i9.ol=.5;
q.i9.uN(J.buffer,cz,F,k,o.Smth.v>>>1,0,[]);q.wh.apW(cz,b.buffer,F,k);q.N8(b.buffer,cz);q.Mr(cz);q.xj(cz,4278190080,16777215);
q.hn.awt(cz,b.buffer,F,k,(o.EdgW.v>>>1)*2+1,!0);var cw=o.EdgB.v/10;for(var $=0;$<cz.length;$++){if(($&3)==3)continue;
var eP=b.buffer[$];b.buffer[$]=Math.max(0,Math.min(255,eP*cw))}}if(x=="StnG"){q.i3.aef(J.buffer,F,k,b.buffer,o.ClSz.v,[Math.round(c.o),Math.round(c.I),Math.round(c.J)],o.BrdT.v)}if(x=="HlfS"){var c3=o.HlSz.v,hg=c3*2+1,eQ=o.Cntr.v,gM=dZ.I1.indexOf(o.ScrT.v.ScrT),U=F*k,hZ=U*4,ev=q.R(U),ay=J.buffer,kE=0,fG=0;
dZ.oT(ay,ev);var a$=ev.slice(0);q.JS.acy(a$,ev,i,c3);var g6=Math.PI/hg,ik=new Float64Array(F),a9=new Float64Array(F),dV=new Float64Array(2*F);
for(var z=0;z<F;z++){var kc=(z-(F>>>1))*g6;ik[z]=kc*kc;a9[z]=Math.cos(kc);var jV=z<<1;dV[jV]=Math.sin(jV*(1/4.5));
dV[jV+1]=Math.sin((jV+1)*(1/4.5))}for(var S=0;S<k;S++){var hJ=(S-(k>>>1))*g6,kB=Math.cos(hJ),jZ=hJ*hJ;
for(var z=0;z<F;z++){var v=kB;if(gM==0){var hV=.5+Math.sqrt(ik[z]+jZ)*4.5;v=dV[~~hV]}else if(gM==1){v=a9[z]*kB}var $=S*F+z,kx=ev[$]*(.75+.25*v),gj=ay[($<<2)+3]*(1/255),iw=Math.max(0,Math.min(255,~~kx));
kE+=iw*gj,fG+=gj;ev[$]=iw}}kE/=fG;var ic=128+1.26*(kE-128),cw=.08+.25*Math.abs((128-kE)/128),ge=1+cw*eQ;
for(var $=0;$<U;$++){var kx=ic+(ev[$]-ic)*ge;ev[$]=Math.max(0,Math.min(255,~~kx))}if(eQ>46)q.round(ev);
dZ.lf(ev,b.buffer,c,E)}for(var $=0;$<J.buffer.length;$+=4)b.buffer[$+3]=J.buffer[$+3]};dZ.lf=function(x,J,o,c){var E=x.length,b=o.o,l=o.I,i=o.J,F=c.o,k=c.I,U=c.J;
for(var $=0;$<E;$++){var I=x[$]*(1/255),V=1-I,u=$<<2;J[u]=~~(b*V+F*I);J[u+1]=~~(l*V+k*I);J[u+2]=~~(i*V+U*I)}};
dZ.Vv=function(x){if(x==6)x=2;var J="blocks canvas frosted tinylens brick burlap".split(" ")[x];if(dZ.Ud==null)dZ.Ud=[];
if(dZ.Ud[x]==null){var o,c;if(x==2){c=new ha(0,0,128,128);var E=fn.Bt("AdNs");E.Mnch.v=!0;E.Dstr.v.Dstr="Gsn";
E.Nose.v.val=50;var o=q.R(c.P()*4),b=o.slice(0);new Uint32Array(b.buffer).fill(4286611584);fn.fa("AdNs",{buffer:b,rect:c},E,0,0,{buffer:o,rect:c})}else{var l=hR.Xe.get("tex/"+J,!0)[0];
c=l.XO;o=new Uint8Array(l.data)}var i=q.R(c.P());q.z$(o,i,0);dZ.Ud[x]=[c,i]}return dZ.Ud[x]};dZ.OI=function(x,J,o,c,E){if(E<=1){E=Math.round(E);
dZ.avD(x,J,o,c,[1,16,4][E]);return}var b=E*.42;if(x){q.JS.In(x,o,c,b,3);x.set(o)}if(J){q.JS.In(J,o,c,b,3);
J.set(o)}};dZ.avD=function(x,J,o,c,E){var b=q.wh.el([1,2,1,2,E,2,1,2,1]);if(x){o.set(x);q.wh.aoL(x,o,c.m,c.e,b);
x.set(o)}if(J){o.set(J);q.wh.aoL(J,o,c.m,c.e,b);J.set(o)}};dZ.kj=function(x){if(x==null)return new ck(0,0);
var J=0,o=x.GEfs?x.GEfs.v:[{v:x}];for(var $=0;$<o.length;$++){var c=o[$].v,b=1e4;if(c.GELv&&!c.GELv.v)continue;
var E=c.GEfk.v.GEft;if(E=="GlwE"||E=="Phtc"||E=="BsRl"||E=="PlsW"||E=="Chrm"||E=="Gls"||E=="OcnR"||E=="InkO")b=0;
J=Math.max(J,b)}return new ck(J,J)};dZ.aA2=function(x){var J=[0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][x];
for(var $=0;$<13;$++){var c=$-6;J[$]=1/(o*Math.sqrt(2*Math.PI))*Math.exp(-.5*(c/o)*(c/o))}return J};
dZ.aaP=function(x,J,o,c,E){var b=dZ.aA2(E),l=6,i=13;for(var F=0;F<c;F++)for(var k=0;k<o;k++){var U=F*o+k<<1,I=0,V=0;
for(var $=0;$<i;$++){var u=k+$-l,N=u<0?0:u>=o?o-1:u,e=(F*o+N)*2,B=b[$];I+=B*x[e];V+=B*x[e+1]}J[U]=I;
J[U+1]=V}};dZ.ac1=function(x,J,o,c,E){var b=dZ.aA2(E),l=6,i=13;for(var F=0;F<c;F++)for(var k=0;k<o;k++){var U=F*o+k<<1,I=0,V=0;
for(var $=0;$<i;$++){var u=F+$-l,N=u<0?0:u>=c?c-1:u,e=(N*o+k)*2,B=b[$];I+=B*x[e];V+=B*x[e+1]}J[U]=I;
J[U+1]=V}};function iP(){}iP.QK=[2,5,5,7,4,4];iP.f5="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
iP.$l="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
iP.pP=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
iP.Cf=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
iP.Am=function(x){if(x=="passThrough")return"pass";return iP.f5[iP.$l.indexOf(x)]};iP.V0=function(x){if(x=="pass")return"passThrough";
return iP.$l[iP.f5.indexOf(x)]};iP.getName=function(x){return iP.pP[iP.f5.indexOf(x)]};function h(){this.rect=null;
this.buffer=null;this.n5="norm";this.opacity=255;this.$j=!1;this.j1=!1;this.Il=0;this.vc=0;this.yG=!0;
this.v9=[];for(var $=0;$<10;$++)this.v9.push(0,0,255,255);this.name=null;this.add={};this._Z=null;this.iK=null;
this.F=null;this.Ie=null;this.apN=30;this.PB=null;this.V$=null;this.tT=null;this.b6=null;this.tB=0;this.Hn=!1;
this.Xi=null;this.Ex=new h.ME}h.ME=function(){this.tq=!0;this.$Y=!0;this.C_=q.R(0);this.a6r=q.R(0);this.mI=null;
this.sU={};this.ahn=null;this.JB=null;this.nV=null;this.ph=null;this.To=null;this.sQ=null;this.aJ=null;
this.hs=null;this.ZX=null;this.O0=null;this.NO=null;this.VI=null;this.lb=!1};h.ME.prototype.ajZ=function(){this.tq=null;
this.$Y=!1;this.mI=null;this.lb=ai.mB};h.ME.prototype.aAi=function(){cI.aj_(this.sU);this.C_=q.R(0);
this.a6r=q.R(0);if(this.ph)this.ph.delete();if(this.To)this.To.delete();this.ph=null;this.To=null;var x=[this.sQ,this.aJ,this.hs,this.ZX,this.O0,this.NO];
for(var $=0;$<6;$++)if(x[$]!=null&&x[$]instanceof ai.HC)x[$].delete();this.sQ=null;this.aJ=null;this.hs=null;
this.ZX=null;this.O0=null;this.NO=null};h.prototype.W=function(x){if(x==null)x=this.rect.clone();if(this.Ex.mI==null)this.Ex.mI=x;
else this.Ex.mI=this.Ex.mI.k7(x)};h.prototype.Zk=function(){return this.add.lsct==es.tI||this.add.lsct==es.tm};
h.prototype.A0=function(){var x=this.add;return x.SoCo!=null||x.GdFl!=null||x.PtFl!=null||x.vstl!=null};
h.prototype.a9Q=function(){var x=this.add.lmfx;if(x==null)return;var J=["GrFl","patternFill"];for(var $=0;
$<J.length;$++){var o=bs.x0[bs.order.indexOf(J[$])],c=x[o].v;if(c.length==0)continue;for(var E=0;E<c.length;
E++){var b=c[E].v;if(b.enab.v&&(b.Algn==null||!b.Algn.v))this.Ex.$Y=!0}}};h.prototype.aqQ=function(){var x=this.F,J=this.Ex.tq;
if(this.A0())x=this.Da();if(!ai.mB)return x.R6();if(this.Ex.To==null||J||ai.mB!=this.Ex.lb){var o=x.mZ(),c=this.Ex.To,E=null;
if(J!=!0&&J!=null){E=J.clone();E.offset(-o.x,-o.y)}if(c==null||c.m!=o.m||c.e!=o.e){c=this.Ex.To=new ai.Kk(o.m,o.e);
E=null}c.set(x.R6(),E)}return this.Ex.To};h.prototype.amY=function(x){var J=this.rect,o=this.buffer;
if(!ai.mB){var c=this.re(x,o,J);if(c){o=c.tM;J=c.rect}return o}if(this.Ex.mI!=null||ai.mB!=this.Ex.lb){var c=this.re(x,o,J);
if(c){o=c.tM;J=c.rect}var E=J;if(ai.mB!=this.Ex.lb||this.Ex.ph==null||this.Ex.ph.m!=E.m||this.Ex.ph.e!=E.e){if(this.Ex.ph)this.Ex.ph.delete();
this.Ex.ph=new ai.HC(E.m,E.e);this.Ex.ph.set(o)}else{var b=this.Ex.mI.clone();b.offset(-J.x,-J.y);this.Ex.ph.set(o,b)}}return this.Ex.ph};
h.prototype.MC=function(){var x=this.F;if(this.A0())x=this.Da();return x!=null&&x.isEnabled&&(!x.rect.Kx()||x.fL()!=255)};
h.prototype.re=function(x,J,o){if(this.AD()){var c=this.O5(x);if(c.F&&c.F.isEnabled&&(!c.F.rect.Kx()||c.F.color==0)){var E=this.add.SoLd.filterFX.v;
c.F.lA=E.filterMaskDensity?E.filterMaskDensity.v:255;c.F._M=E.filterMaskFeather?E.filterMaskFeather.v:0;
var b=c.buffer,l=c.rect;if(l.P()<o.P()){l=o;b=q.R(l.P()*4);q.St(c.buffer,c.rect,b,l)}var i=c.F.Dy(o);
q.Mr(i);J=J.slice(0);q.l.UH(b,l,J,o,i,o,0,o,1);return{tM:J,rect:o}}}};h.prototype.acY=function(){var x={zv:!1,Az:!1,yM:0,mP:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)x.Az=!0;if(this.Da()&&this.Da().isEnabled)x.zv=!0;if(x.zv&&x.Az){x.yM=this.Da().rect.x-this.add.vmsk.Da().rect.x;
x.mP=this.Da().rect.y-this.add.vmsk.Da().rect.y}return x};h.prototype.vl=function(x,J){if(b5!=0)return;
if(J&&this.Da()._M!=0){J=J.clone();var o=Math.round(this.Da()._M*2.4);J.wI(o,o)}var c=!1;if(this.add.lsct==es.qF)return;
var E=this,b=this.Da()!=null&&this.Da().op,l=this.add.vmsk!=null&&this.add.vmsk.op,i=this.acY(),F=JSON.stringify(i)!=this.Ex.ahn||i.zv&&b||i.Az&&l;
if(F){if(i.Az){var k=this.add.vmsk.Da();if(i.zv){this.F=this.Da().hf(k);this.Ex.JB=new ck(this.F.rect.x-this.Da().rect.x,this.F.rect.y-this.Da().rect.y)}else this.F=k}if(this.F)c=!0;
if(this.F)this.Ex.nV=new ck(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);if(i.zv)this.Da().op=!1;
if(i.Az)this.add.vmsk.op=!1;this.W(J)}else{if(i.zv&&i.Az){this.F.rect.x=this.Da().rect.x+this.Ex.JB.x;
this.F.rect.y=this.Da().rect.y+this.Ex.JB.y}}if(E.A0()){this.NU(x)}if(E.xm()){var U;if(this.F)U=new ck(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);
if(this.F&&this.F.isEnabled&&(this.Ex.nV==null||!U.U5(this.Ex.nV))){this.Ex.nV=U;this.W(J);c=!0}}if(dv.get(E.add)!=null)c=!0;
if(c){var I=this.Ex.tq;if(J&&I&&I!=!0)I=I.k7(J);else I=J?J:!0;this.Ex.tq=I}this.Ex.ahn=JSON.stringify(i)};
h.prototype.NU=function(x){if(b5!=0)return;var J=this,o=J.add.vstk,c=new ha(0,0,x.m,x.e),E,b=J.add.vmsk?this.add.vmsk.Da():null,F=!0,I;
if(b&&b.isEnabled&&b.fL()==0)E=b.mZ().clone();else E=c;var l=J.Da();if(l&&l.isEnabled&&l.fL()==0)E=E.Kc(J.F.mZ());
var i=b&&o;if(o&&(!o.strokeEnabled.v||o.strokeStyleLineWidth.v.val==0))i=!1;if(o&&!o.fillEnabled.v&&i)F=!1;
var k=q.R(E.P()*4);if(F){if(J.add.SoCo)cI.La(k,J.add.SoCo.Clr.v);if(J.add.GdFl){var U=b&&b.color==0?q.p.d5(J.add.vmsk.$,null,!0):null;
cI.xQ(J.add.GdFl,k,E,x,null,U)}if(J.add.PtFl)cI.ye(J.add.PtFl,k,E,x.add.Patt,J.add.fxrp)}if(i)I=bs.Ao.lS.indexOf(o.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(b){var V=b.lA;if(i)b.lA=255;var u=q.R(E.P());if(b.fL()!=0)u.fill(Math.round(b.fL()));if(b&&b.isEnabled){var N=b.mZ(),e=b.R6();
if(N.U5(E))q.N8(e,u);else q.zc(e,N,u,E)}if(i&&I==2){}else{if(J.add.SoCo&&F){q.qR(u,k,3)}else q.gV(u,E,k,E)}if(i)b.lA=V}J.buffer=k;
J.rect=E;if(i){var B=o.strokeStyleContent.v,j=bs.Ao.Ce.indexOf(B.classID),T=this.add.vmsk.Da(o);if(I!=0&&!J.rect.U5(c))J.extend(J.rect.k7(T.mZ()));
var V=T.lA;T.lA=255;var a=T.Dy(J.rect);T.lA=V;if(T.color==255)q.Mr(a);var P=q.R(J.rect.P()*4);if(j==0)cI.La(P,B.Clr.v);
if(j==1)cI.xQ(B,P,J.rect,x,null,b.color==0?b.rect:null);if(j==2)cI.ye(B,P,J.rect,x.add.Patt,J.add.fxrp);
var v=o.strokeStyleOpacity.v.val/100;if(v!=1)q.m5(a,v);if(T.color==255)I=2-I;if(I<2){q.l.UH(P,J.rect,J.buffer,J.rect,a,J.rect,255,J.rect,1,!1);
if(I==0)q.nc(u,J.buffer)}if(I==2){q.nc(a,P);q.Mr(u);q.l.UH(P,J.rect,J.buffer,J.rect,u,E,255,J.rect,1,!1);
q.Mr(u)}if(T.lA!=255){var R=P.slice(0);q.xj(R,4278190080,16777215);q.l.j6("norm",R,J.rect,J.buffer,J.rect,J.rect,1-T.lA/255)}V=b.lA;
b.lA=255;this.a6r=b.Dy(J.rect);b.lA=V}this.W()};h.prototype.aW=function(x,J,o,c){var E=this,b=E.add.SoLd.Idnt.v,l=E.add.SoLd,i=n.Y.AX(l.nonAffineTransform),F=q.O.Cg(i),k=x.eB(b,l.Crop?l.Crop.v:null,[F.m,F.e],l.Impr.v.classID,o),T=null;
if(k==null)return;var U=k.pH;l.Sz.v.Wdth.v=U[1].m;l.Sz.v.Hght.v=U[1].e;if(b5!=0)return;var I=k.yV==null?l.Rslt.v.val:k.yV,V=l.quiltWarp.v;
if(q.Oq.IQ(V))V=null;var u=q.D.LH(i,U[1]);if(V){var F=q.O.Cg(q.Oq.h7(V)[3]),N=F.x,e=F.y,B=1/F.m,j=1/F.e;
u=q.D.LH(i);u=q.D.hf(u,[B,0,-N*B,0,j,-e*j,0,0])}if(!J&&!E.AD()&&V==null){var a=x.B.indexOf(E),P=h.se(E);
for(var $=0;$<a;$++){var v=x.B[$];if(v.add.SoLd&&!v.AD()&&h.se(v)[0]==P[0]){var R=h.se(v);T={buffer:v.buffer.slice(0),rect:v.rect.clone()};
T.rect.offset(Math.round(P[1]-R[1]),Math.round(P[2]-R[2]));break}}}if(T==null)T=n.Y.$v(U,J?0:1,u,V,null,null,null,J);
if(T==null){E.buffer=q.R();E.rect=new ha}else if(E.AD()){var y=E.O5(x);if(c){y.buffer.fill(0);q.St(T.buffer,T.rect,y.buffer,y.rect)}else{y.buffer=T.buffer;
y.rect=T.rect.clone()}this.RD(x,J)}else{E.buffer=T.buffer;E.rect=T.rect}E.vl(x);E.W();x.W()};h.se=function(x){var J=x.add.SoLd,o=J.Idnt.v,c=n.Y.AX(J.nonAffineTransform),E=q.D.LH(c,new ha(0,0,1e3,1e3)),b=J.quiltWarp.v;
if(q.Oq.IQ(b))b=null;return[[o,E[0],E[1],E[3],E[4],E[6],E[7],b==null].join(":"),E[2],E[5]]};h.prototype.RD=function(x,J){if(J==null)J=!1;
var o=this.O5(x),c=this.add.SoLd.filterFX.v,E=fn.a2o(c),b=new ha(0,0,x.m,x.e),l=o.rect.k7(b),i=o.rect.clone();
i.wI(E.x,E.y);var F={buffer:null,rect:l.Kc(i)};F.buffer=q.R(F.rect.P()*4);q.St(o.buffer,o.rect,F.buffer,F.rect);
if(c.enab.v&&J==!1){var k=c.filterFXList.v;for(var $=0;$<k.length;$++){var U=k[$].v;if(U.enab.v==!1)continue;
var I=U.blendOptions.v,V=iP.Am(I.Md.v.BlnM),u=I.Opct.v.val/100,N=q.r.fL(U.FrgC.v),e=q.r.fL(U.BckC.v),B=fn.sJ(U),j={buffer:q.R(F.buffer.length),rect:F.rect.clone()},T=U.Fltr?U.Fltr.v:null;
if(dv.jh[B]!=null){var a=dv.jh[B],P=dv.SR(a,T);if(P)dv.fa(P,F.buffer,j.buffer,F.rect)}else fn.fa(B,F,T,N,e,j,[x.add.lnk2?x.add.lnk2:[],this.Da(),x._w]);
if(V=="norm"&&u==1)F=j;else if(V=="norm"){q.l.UH(j.buffer,j.rect,F.buffer,F.rect,null,null,null,F.rect,u)}else{q.l.j6(V,j.buffer,j.rect,F.buffer,F.rect,F.rect,u)}}}this.rect=F.rect;
this.buffer=F.buffer;this.xz();this.W();x.W()};h.prototype.Mc=function(x,J,o){this.Xi=this.arh(x,J,o)};
h.prototype.Dt=function(x,J){var o=this.arh(x,J,!0);if(o==null)return null;var c={nJ:o.tB,kC:o.T8,rect:o.ne};
if(c.nJ==1||c.nJ==3){var E=c.rect,b=q.R(E.m*E.e*4);q.qR(c.kC,b,0);q.qR(c.kC,b,1);q.qR(c.kC,b,2);q.yP(x.u.channel,x.u.rect,b,E);
c.kC=b}return c};h.prototype.arh=function(x,J,o){var c,E,b,l,i,F,k;if(this.tB<=0){var U=q.R(this.rect.P());
q.z$(this.buffer,U,3);c=q.ZP.h_(J,{channel:U,rect:this.rect},3);if(c==null)return null;var I=q.d6(c.channel,c.rect);
l=c.rect.clone();i=this.rect.clone();E=q.R(l.P()*4);q.St(this.buffer,i,E,l);q.qR(c.channel,E,3);b=this.buffer.slice(0);
if(!o){var V=J.channel.slice(0);q.Mr(V);q.gV(V,J.rect,b,i)}F=this.buffer.slice(0);k=this.rect.clone()}if(this.tB==1||this.tB==3){var u=this.tB==1?this.Da():this.O5(x).F;
l=J.rect.clone();i=u.rect.clone();E=u.iM(l);var b=u.channel.slice(0);if(!o)q.l.E2(u.color==255?q.ov(l.P()):q.Qs(l.P()),l,b,i,J.channel,l,1);
F=u.channel.slice(0);k=u.rect.clone()}return{tB:this.tB,T8:E,ne:l,YP:b,Qw:i,sE:F,h9:k}};h.prototype.xX=function(x,J){var o=this.Xi;
if(o.tB==0){this.rect=o.h9;this.buffer=o.sE;this.W()}if(o.tB==1||o.tB==3){var c=o.tB==1?this.Da():this.O5(x).F;
c.channel=o.sE;c.rect=o.h9;if(this.tB==1){c.op=!0;this.vl(x)}if(this.tB==3)this.W()}this.Xi=J};h.prototype.x8=function(x,J){if(this.tB<=0&&J.rect.U5(this.rect)){var o=q.R(this.rect.P());
q.z$(this.buffer,o,3);if(q.U5(x.u.channel,o)){var c=this.rect,E=this.buffer;this.Xi={tB:this.tB,T8:E.slice(0),ne:c.clone(),YP:q.R(0),Qw:new ha,sE:q.R(0),h9:new ha};
return!0}}var b=this.Xi;if(b==null)return!1;if(b.tB!=this.tB)return!1;if(!J.rect.U5(b.ne))return!1;var l=b.Qw.k7(b.ne);
if(b.tB<=0){if(!l.U5(this.rect))return!1;var i=q.R(b.T8.length>>2);q.z$(b.T8,i,3);if(!q.U5(J.channel,i))return!1;
var F=q.R(l.m*l.e*4);q.St(b.YP,b.Qw,F,l);q.l.j6("norm",b.T8,b.ne,F,l,l,1);return q.U5(F,this.buffer)}if(b.tB==1||b.tB==3){var k=b.tB==1?this.Da():this.O5(x).F;
if(!l.U5(k.rect))return!1;var U=q.R(l.P());U.fill(k.color);q.zc(b.YP,b.Qw,U,l);q.l.E2(b.T8,b.ne,U,l,J.channel,l,1);
return q.U5(U,k.channel)}};h.prototype.IR=function(x,J,o,c){var E=this.Xi;E.ne.offset(J,o);var b=E.Qw.k7(E.ne);
if(E.tB<=0){var l=q.R(b.P()*4);q.St(E.YP,E.Qw,l,b);q.l.j6("norm",E.T8,E.ne,l,b,b,1);this.buffer=l;this.rect=b;
this.W()}else{var i=this.tB==1?this.Da():this.O5(x).F,F=q.R(b.P());F.fill(i.color);q.zc(E.YP,E.Qw,F,b);
q.l.E2(E.T8,E.ne,F,b,c.channel,b,1);i.channel=F;i.rect=b.clone();if(this.tB==1){i.op=!0;this.vl(x)}if(this.tB==3)this.W()}};
h.prototype.ayT=function(x){var J=[-1,0,1,2];if(x)J.push(3);if(this.F)J.push(-2);if(this.Ie)J.push(-3);
return J};h.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};h.prototype.Yq=function(bz){this.add.luni=this.name=bz};
h.prototype.SX=function(x){var J=this.add.lnsr,o=this.add.TySh;if(J=="rend"&&o){var c=iv.K1(o.TC);this.Yq(c.slice(0,c.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
h.prototype.kR=function(){return(this.Il&1<<1)==0};h.prototype.xm=function(){return(this.Il&1<<4)==0};
h.prototype.vX=function(){return(this.Il&1<<5)!=0};h.prototype.al9=function(){var x=this;if(x.add.lnsr!="bgnd"){x.add.lnsr="bgnd";
x.Yq("Background");x.add.lspf=1<<2}};h.prototype.arM=function(){var x=this;if(x.add.lnsr=="bgnd"){delete x.add.lnsr;
x.Yq("Layer 0");x.add.lspf=0}};h.prototype.Sm=function(x){var J=this.add.lspf;return J==null?!1:(J>>x&1)!=0};
h.prototype.Ut=function(x){if(x&&!this.kR())this.Il-=2;if(!x&&this.kR())this.Il+=2};h.prototype.tg=function(){var x=this.add.lmfx;
if(x==null)return!1;for(var J in x){if(J=="masterFXSwitch")continue;if(J=="Scl")continue;if(J=="classID")continue;
if(x[J].v.length>0)return!0}return!1};h.prototype.AD=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
h.prototype.oS=function(){var x=this.add.lmfx;if(x==null)return!1;if(!x.masterFXSwitch.v)return!1;for(var J in x){if(J=="masterFXSwitch")continue;
if(J=="Scl")continue;if(J=="classID")continue;var o=x[J].v;for(var $=0;$<o.length;$++)if(o[$].v.enab.v)return!0}return!1};
h.prototype.Zg=function(){var x=this,J=x.add.SoLd,o=x.add.TySh,c=x.add.vmsk,E=[];if(J)E=n.Y.AX(J.nonAffineTransform);
if(o&&this.Ex.kI){E=q.O.ny(x.Ex.kI).j;q.O.M(E,o.M,E)}if(c)E=q.O.ny(c.aqN()).j;return E};h.prototype.UG=function(x,J,o,c){if(b5==1)return q.O.Cg(this.Zg());
var E=new ha,b=this.eG(x,o,c);if(b.indexOf(0)!=-1)E=E.k7(this.rect);if(b.indexOf(1)!=-1){var l=this.Da(),i=l.mZ();
E=o&&l.fL()==0?E.Kx()?i:E.Kc(i):E.k7(i)}if(b.indexOf(2)!=-1){var F=this.add.vmsk,k=this.add.vstk,U;if(J){if(F.tx.length>1){var I=q.p.Uz(F.$,null,F.tx);
U=q.O.Cg(I);if(U.Kx())U=null}if(U==null)U=q.p.d5(F.$,F.g.length!=0?F.g:null)}else U=q.p.d5(F.$);if(!c&&k&&k.strokeEnabled.v){var V=k.strokeStyleLineAlignment.v.strokeStyleLineAlignment,u=k.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(V!="strokeStyleAlignInside"){var N=k.strokeStyleLineWidth.v.val;if(u=="strokeStyleMiterJoin")U=new ha(0,0,x.m,x.e);
else U.wI(N,N)}}E=E.k7(U)}if(b.indexOf(3)!=-1)E=E.k7(this.O5(x).F.mZ());if(b.length==0&&this.A0())E=c?new ha(0,0,0,0):new ha(0,0,x.m,x.e);
return E};h.prototype.kz=function(){var x=this.add.artb,J=x.artboardBackgroundType.v,o=0;if(J==1)o=4294967295;
else if(J==2)o=4278190080;else if(J==3)o=0;else if(J==4){o=x.Clr.v;o=255<<24|o.Bl.v<<16|o.Grn.v<<8|o.Rd.v}else throw J;
return o};h.prototype.uc=function(){var x=this.add.artb.artboardRect.v,J=x.Btom.v,o=x.Left.v,c=x.Rght.v,top=x.Top.v;
return new ha(o,top,c-o,J-top)};h.prototype.dZ=function(x){var J=h.yk(x);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=J};h.yk=function(x){var J={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
J.Btom.v=x.y+x.e;J.Left.v=x.x;J.Rght.v=x.x+x.m;J.Top.v=x.y;return J};h.prototype.eG=function(x,J,o){var c=[],E=this;
if(!J&&E.Hn&&o){c.push(2)}else if(E.tB<=0||J){if(E.xm()){if(b5==1&&E.add.TySh)c.push(0);if(b5==1&&E.add.SoLd)c.push(0);
else if(!this.rect.Kx())c.push(0)}if(E.Da()&&!E.Da().rect.Kx())if(E.Da().uM||J)c.push(1);if(E.add.vmsk)if(E.add.vmsk.uM||J)c.push(2);
if(E.AD()&&E.O5(x).F&&!E.O5(x).F.rect.Kx())c.push(3)}else if(E.tB==1){c.push(1);if(E.Da().uM&&!E.Da().rect.Kx()){if(E.xm())if(!this.rect.Kx())c.push(0);
if(E.add.vmsk)if(E.add.vmsk.uM)c.push(2)}}else if(E.tB==3&&!E.O5(x).F.rect.Kx())c.push(3);if(E.add.artb&&c.indexOf(0)==-1)c.push(0);
c.sort();return c};h.prototype.Da=function(){var x=this;return x.Ie?x.Ie:x.add.vmsk&&x.add.vmsk.isEnabled?null:x.F};
h.prototype.O5=function(x){var J=this.add.SoLd.placed.v,o=x.add.FEid;if(o==null)return null;for(var $=0;
$<o.length;$++)if(o[$].id==J)return o[$];return null};h.prototype.extend=function(x){q.af7(this,x)};
h.prototype.ac3=function(x,J,o){var c=x.clone();if(this.oS()){var E=this.add.lmfx,b=J.root.qX(J.B.indexOf(this)),l=E.gradientFillMulti.v,i=!1;
for(var $=0;$<l.length;$++)if(l[$].v.enab.v&&l[$].v.Algn.v)i=!0;if(i)c=c.k7(b.mZ(J,!1));var F=cI.a3b(this.add.lmfx,J,o);
c.offset(F.x,F.y);c.m+=F.m;c.e+=F.e}return c};h.prototype.xz=function(){if(this.xm())q.Ir(this);var x=this.Da();
if(x)x.xz()};h.prototype.clone=function(){var x=new h;x.rect=this.rect.clone();x.buffer=this.buffer.slice(0);
x.n5=this.n5;x.opacity=this.opacity;x.$j=this.$j;x.Il=this.Il;x.name=this.name;x.v9=this.v9.slice(0);
if(this.F)x.F=this.F.clone();if(this.Ie)x.Ie=this.Ie.clone();for(var J in this.add)x.add[J]=ie.clone(J,this.add[J]);
return x};h.prototype._1=function(x){var J=this;if(J.add.TySh)delete J.add.TySh;if(J.add.SoLd){var o=this.re(x,this.buffer,this.rect);
if(o){this.buffer=o.tM;this.rect=o.rect;this.W()}delete J.add.SoLd}if(J.add.SoCo||J.add.GdFl||J.add.PtFl){if(J.add.vogk)delete J.add.vogk;
if(J.add.SoCo)delete J.add.SoCo;if(J.add.GdFl)delete J.add.GdFl;if(J.add.PtFl)delete J.add.PtFl;if(J.add.vmsk){console.log(J.Ie,J.F);
delete J.add.vmsk;if(J.Ie==null&&J.F)delete J.F;else if(J.Ie!=null&&J.F!=null){J.F=J.Ie;delete J.Ie}}}if(!J.Zk()&&dv.get(J.add)==null&&!this.xm())this.Il-=16};
h.prototype.vw=function(x){var J=255,o=0;if(x==2){var c=this.add.SoLd.filterFX.v;if(c.filterMaskDensity)J=c.filterMaskDensity.v;
if(c.filterMaskFeather)o=c.filterMaskFeather.v}else{var E=x==0?this.Da():this.add.vmsk;J=E.lA;o=E._M}return{Nz:x,fb:J,I$:o}};
h.prototype.ak9=function(x){if(x.Nz==2){var J=this.add.SoLd.filterFX.v;if(x.fb==255)delete J.filterMaskDensity;
else J.filterMaskDensity={t:"long",v:x.fb};if(x.I$==0)delete J.filterMaskFeather;else J.filterMaskFeather={t:"doub",v:x.I$};
this.W()}else{var o=x.Nz==0?this.Da():this.add.vmsk;o.lA=x.fb;o._M=x.I$;o.op=!0}};h.prototype.pw=function(){var x=this,J=x.add.vmsk;
if(J==null)return;x.add.vogk=q.WE.axp(J.$)};h.pw=function(x){var J=[],o=q.p.Dd(x);for(var c=0;c<o;c++)J.push(q.WE.Qs());
return J};var es={rc:0,tI:1,tm:2,qF:3};h.Tj=function(){this.name="Mask";this.AH=!1;this.xK={o:255,I:0,J:0};
this.wS=50;this.jP=0;this.color=255;this.uM=!0;this.isEnabled=!0;this.sV=!1;this.lA=255;this._M=0;this.rect=new ha;
this.channel=q.R(0);this.J9=null;this.a69=null;this.op=!0};h.Tj.prototype.hf=function(x){if(!this.isEnabled)return x;
var J=new h.Tj;J.color=Math.round(this.fL()*x.fL()/255);if(this.fL()==0&&x.fL()==0)J.rect=this.mZ().Kc(x.mZ());
else if(x.fL()==0)J.rect=x.mZ().clone();else if(this.fL()==0)J.rect=this.mZ().clone();else J.rect=this.mZ().k7(x.mZ());
J.channel=this.Dy(J.rect);J.lA=255;J._M=0;var o=x.Dy(J.rect);q.a8C(o,J.rect,J.channel,J.rect);return J};
h.Tj.prototype.mZ=function(){if(this._M==0)return this.rect;var x=Math.ceil(this._M*2.2),J=this.rect.clone();
if(J.y==0){if(J.x==0)J.m+=x;else J.wI(x,0);J.e+=x}else J.wI(x,x);return J};h.Tj.prototype.R6=function(){if(this._M==0&&this.lA==255)return this.channel;
if(this._M==0){var x=this.channel.slice(0);q.Mr(x);q.m5(x,this.lA/255);q.Mr(x);return x}var J=this.mZ(),o=this.iM(J),x=q.R(J.P());
q.JS.Bp(o,x,J,this._M);if(this.lA!=255){q.Mr(x);q.m5(x,this.lA/255);q.Mr(x)}return x};h.Tj.prototype.fL=function(){return Math.round(255-(255-this.color)*(this.lA/255))};
h.Tj.prototype.extend=function(x){q.extend(this,x,this.color)};h.Tj.prototype.xz=function(){if(this.color==255)q.Mr(this.channel);
q.xz(this);if(this.color==255)q.Mr(this.channel)};h.Tj.prototype.clone=function(){var x=new h.Tj;x.name=this.name;
x.AH=this.AH;x.xK=this.xK;x.wS=this.wS;x.jP=this.jP;x.color=this.color;x.uM=this.uM;x.isEnabled=this.isEnabled;
x.sV=this.sV;x.lA=this.lA;x._M=this._M;x.rect=this.rect.clone();x.channel=this.channel.slice(0);return x};
h.Tj.prototype.iM=function(x,J){if(J==null)J=q.R(x.P());J.fill(this.color);q.zc(this.channel,this.rect,J,x);
return J};h.Tj.prototype.Dy=function(x,J){var o=this.mZ(),c=this.R6();if(J==null)J=q.R(x.P());J.fill(this.fL());
q.zc(c,o,J,x);return J};h._b=function(){this.uM=!0;this.isEnabled=!0;this.lA=255;this._M=0;this.xq=0;
this.sm=0;this.$=[{type:6},{type:8,all:0}];this.wD=[-3,-3];this.pn=!1;this.Ie=null;this.op=!0;this.g=[];
this.tx=[]};h._b.prototype.aqN=function(x){var J=h._b.AL(this.$),o=new cW;if(x)o.rotate(-this.xq);q.p.Sp(J,o);
return q.p.d5(J)};h._b.prototype.a1l=function(){var x=this.aqN(!0),J=q.O.ny(x).j,o=new cW;o.rotate(this.xq);
q.O.M(J,o,J);return J};h._b.prototype.offset=function(x,J){this.Ie=this.Da();q.p.Sp(this.$,new cW(1,0,0,1,x,J));
this.Ie.rect.offset(x,J)};h._b.prototype.Da=function(x){if(!this.op&&this.Ie&&x==null){this.Ie.isEnabled=this.isEnabled;
return this.Ie}var J=q.p.d5(this.$),o="strokeStyleLineAlignment",c="strokeStyleLineJoinType";if(J.P()>2e4*2e4)J=new ha(0,0,100,100);
if(x&&x[o].v[o]!="strokeStyleAlignInside"){var E=1;if(x[c].v[c]=="strokeStyleMiterJoin"){var b=q.p.agQ(this.$),l=b/2,i=Math.sin(l),F=Math.cos(l);
F/=i;i=1;var E=Math.sqrt(F*F+i*i);if(isNaN(E)||E<1)E=1}E*=x[o].v[o]=="strokeStyleAlignOutside"?1:.5;
var k=Math.ceil(x.strokeStyleLineWidth.v.val*E);k=Math.min(k,600);J.wI(k,k)}J=q.O.uS(J);var U=new h.Tj;
U.color=q.p.gb(this.$)?0:255;U.uM=this.uM;U.isEnabled=this.isEnabled;U.sV=!0;U.rect=J;U.lA=this.lA;U._M=this._M;
U.channel=q.R(U.rect.P());if(!J.Kx())q.p.aaW(this.$,U.channel,U.rect,x);if(x==null){this.Ie=U;this.op=!1}return U};
h._b.prototype.clone=function(){var x=new h._b;x.uM=this.uM;x.isEnabled=this.isEnabled;x.lA=this.lA;
x._M=this._M;x.xq=this.xq;x.$=h._b.AL(this.$);x.wD=this.wD.slice(0);x.pn=this.pn;x.g=this.g.slice(0);
x.tx=this.tx.slice(0);return x};h._b.prototype.concat=function(x){var J=x.$.slice(2);if(J.length==0)return;
J[0].sm=3;this.$=this.$.concat(J)};h._b.AL=function(x){var J=[];for(var $=0;$<x.length;$++){var o=x[$];
if(o.type>5||o.type==0||o.type==3)J.push(JSON.parse(JSON.stringify(o)));else J.push({type:o.type,HN:o.HN.clone(),L:o.L.clone(),Dq:o.Dq.clone()})}return J};
h._b.axD=function(x,J,o){if(x.length!=J.length)return!1;for(var $=2;$<x.length;$++){var c=x[$],E=J[$];
if(c.type!=E.type)return!1;if(c.type==0||c.type==3){if(c.length!=E.length||!o&&c.sm!=E.sm)return!1}else if(!c.HN.U5(E.HN)||!c.L.U5(E.L)||!c.Dq.U5(E.Dq))return!1}return!0};
h._b.prototype.a4E=function(){var x=this.$;for(var $=3;$<x.length;$++)if(x[$].type==0||x[$].type==3)x[$].sm=-1};
h.dJ=function(){this.type=null;this.ZA=2;this.UU=null;this.C0="";this.lZ="";this.ax="";this.open=0;this.raw=null;
this.pH=null;this.a1A="";this.C6=!1};h.dJ.prototype.clone=function(){var x=new h.dJ;x.type=this.type;
x.ZA=this.ZA;x.UU=this.UU;x.C0=this.C0;x.lZ=this.lZ;x.ax=this.ax;x.open=this.open;x.raw=new Uint8Array(this.raw.buffer.slice(0));
return x};h.dJ.prototype.or=function(x,J,o,c,E){if(o==null)o="none";var b=this,l=hR.M1(b.raw.buffer),i=l=="svg"||l=="pdf"||l=="ai";
if(b.pH){var F=J&&i&&Math.max(b.pH[1].m,b.pH[1].e)<Math.max(J[0],J[1]);if(!F&&o==this.a1A&&!b.C6)return}this.a1A=o;
if(!i)x=0;if(l==null){alert("Unsupported format: "+D.it(b.raw,0,4));return null}var k=hR.rb(l);if(k.gi){var U=new hk(name+(l=="psd"?"":"-"+l)+".psd"),I;
k.zu(b.raw.buffer,U,J);var V=new ha(0,0,U.m,U.e);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(o)!=-1){var u=[];
for(var $=0;$<U.B.length;$++){var N=U.B[$],e=N.buffer;if(!N.rect.U5(V)){e=q.R(V.P()*4);q.St(N.buffer,N.rect,e,V);
console.log("resizing")}u.push(e)}I=q.R(V.P()*4);q.stack.stack(u,I,o)}else{for(var $=0;$<U.B.length;
$++)if(U.B[$].A0())U.B[$].vl(U);if(c&&U.C6){var B=i6.Pn(U,c,E);b.C6=!B;if(B)i6.vJ(U,c,E)}U.NT();U.W();
U.Q4();I=U.or()}b.pH=[I,V];b.yV=U.yV!=null&&U.yV!=0?U.yV:72}else if(k){var j=k.zu(b.raw.buffer)[0];b.pH=[new Uint8Array(j.data),j.XO];
b.yV=j.yV!=null&&j.yV!=0?j.yV:72}if(b.pH){if(x==1){var e=b.pH[0],T=b.pH[1],a=q.R(T.P());q.z$(e,a,3);
var P=q.d6(a,T),v=q.R(P.P()*4);q.St(e,T,v,P);P.x=P.y=0;b.pH=[v,P]}q.mw(b.pH)}};h.gc="0";h.ni="2";h.wN="2.5";
h.qI="2.6";h.rK="3";h.oq="4";h.Y7="4.5";h.a6s="4.6";h.aen="5";h.Kh="5.5";h.aN="6";h.n_="7";h.a7Y="8";
h.w2="9";h.YW="9.3";h.a2Y="9.5";h.th="9.6";h.YB="10";h.vu="11";h.Zr="12";h.UZ="13";h.Z5="13.1";h.ah8="13.2";
h.Uq="13.3";h.t7="13.4";h.B_="14";h.fH="14.1";h.fv="14.2";h.mE="14.3";h.$n="17";h.KT="18";h.apR="19";
h.R2="19.5";h.Jh="19.6";h.Ru="19.7";h.FT="19.8";h.QA="20";h.CE="21";h.QF="21.5";h.a9="22";h.RI="22.5";
h.cm="23";h.abJ="24";h.Ve="25";h.asL="26";h.a3Y="27";h.Lf="28";h.U_="29";h.IK="30";h.LE="31";h.H5="32";
h.ag="33";h.a3="34";h.EZ="35";h.z5="36";h.PY="36.5";h.z9="37";h.FX="37.5";h.asF="37.6";h.mx="38";h.TL="38.5";
h.cw="38.6";h.$k="39";h.Lz="40";h.aui="41";h.cJ="42";h.xa="50";h.Jz="51";h.oB="52";h.vM="53";h.Av="54";
h.aoa="54.5";h.am="54.6";h.a2y="54.7";h.D7="54.8";h.d3="55";h.W5="56";h.xy="57";h.bL="58";h.tN="59";
h.yL="60";function hY(){this.depth=0;this.index=-1;this.a=null;this.abL=null;this.Yx=-1;this.children=null;
this.parent=null;this.oC=null}hY.prototype.aoN=function(x,J){if(this.depth!=0)x.push(this.a.getName());
if(this.children)for(var $=0;$<this.children.length;$++)this.children[$].aoN(x,J);if(x.length>J.fz.length)J.fz=x.slice(0);
if(this.depth!=0)x.pop()};hY.prototype.az8=function(){var x=0;if(this.a.Zk()){for(var $=0;$<this.children.length;
$++)x+=this.children[$].az8()}else if(this.a.buffer)x+=this.a.buffer.length;return x};hY.prototype.qX=function(x){var J=this.oC[x];
return this.oC[x]};hY.prototype.a9d=function(x,J){var o=this.a;if(!o.kR()||o.Sm(2)||o.Sm(31))return null;
if(o.MC()){var c=o.F.rect.$G(x);if(!c&&o.F.color==0)return}if(o.Zk()){for(var $=0;$<this.children.length;
$++){var bz=this.children[$];bz.a9d(x,J)}}else if(b5==1){var E=o.Zg();if(x.$G(q.O.Cg(E))&&J.indexOf(this.index)==-1)J.push(this.index)}else if(o.rect.$G(x))J.push(this.index)};
hY.prototype.zo=function(x,J){var o=this.a;if(!o.kR()||o.Sm(2)||o.Sm(31))return null;if(o.MC()){if(o.F.rect.GT(x)){if(!q.zo(x,o.F.channel,o.F.rect))return null}else if(o.F.color==0)return null}if(o.Zk()){if(o.add.artb&&!o.uc().GT(x))return null;
for(var $=this.children.length-1;$>=0;$--){var bz=this.children[$],c=bz.zo(x,J);if(c&&J==null)return c}return null}else if(b5==1){if(o.add.vmsk){var E=o.add.vstk,b=!E.fillEnabled.v&&!o.j1,l=E.strokeStyleLineWidth.v.val*.5,i=q.p.zo(o.add.vmsk.$,x,b,l);
return i.cD==-1?null:this}var F=o.Zg();if(fE.GY(F,x.x,x.y))return this}else if(o.add.TySh&&o.rect.GT(x)||q.a8F(x,o.buffer,o.rect)){if(J==null)return this;
else J.push(this.index)}return null};hY.prototype.axL=function(x){var J=this.a;if(!J.kR()||J.Sm(2)||J.Sm(31))return null;
var o=J.add.vmsk;if(o&&o.isEnabled){var c=q.p.zo(o.$,x).cD;if(c!=-1)return{a6q:this,an4:c}}if(J.Zk()){if(J.add.artb&&!J.uc().GT(x))return null;
for(var $=this.children.length-1;$>=0;$--){var bz=this.children[$],E=bz.axL(x);if(E)return E}return null}return null};
hY.prototype.IW=function(x,J){x.push(this.index);if(this.a.Zk()){x.push(this.Yx);if(J)if(this.a.tB==1&&this.a.Da().uM==!1)return;
for(var $=0;$<this.children.length;$++)this.children[$].IW(x)}};hY.RX=function(){var x=document.createElement("canvas");
return x.getContext("2d")};hY.ay5=function(x,J){var o,c;if(x.m>x.e){o=J;c=Math.floor(J*(x.e/x.m))}else{o=Math.floor(J*(x.m/x.e));
c=J}return new ck(o,c)};hY.tD=32;hY.Fm=1;hY.prototype.dh=function(x,J,o){var c=hY.Fm,E=this.a;if(E.Zk()&&E.add.artb!=null)J=E.uc();
var b=c==0?E.rect:J;if(b.Kx()||E.add.TySh)b=J;var l=hY.tD*n.IJ(),i=hY.ay5(b,l),F=i.x,k=i.y,U=hY.ay5(J,l);
if(E.A0()&&E.add.vmsk==null||E.add.TySh)F=k=Math.max(k,16);else if(E.Zk()){F=k=Math.round(18*n.IJ())}else{F=Math.max(F,6);
k=Math.max(k,6)}if(o&&E.PB==null){E.PB=hY.RX();E.V$=hY.RX();E.tT=hY.RX();E.b6=hY.RX()}var I=E.A0()&&E.add.vmsk;
if(I){if(o&&E.add.vstk)q.hh.k_(E.PB,F,k,b,E.buffer,E.rect,!1,null,!E.add.vstk.fillEnabled.v&&!E.add.vstk.strokeEnabled.v);
if(o)q.hh.aAA(E.PB,F,k)}else if(E.add.TySh){if(o)q.hh.ain(E.PB,k,k,E.add.TySh)}else if(E.add.SoCo){if(o)q.hh.acU(E.PB,k,k,E.add.SoCo)}else if(E.add.GdFl){if(o)q.hh.a8E(E.PB,k,k,E.add.GdFl)}else if(E.add.PtFl){if(o)q.hh.ahO(E.PB,k,k,E.add.PtFl,x)}else if(dv.get(E.add)!=null){if(o)q.hh.ar1(E.PB,k,k,E.add)}else if(E.add.SoLd){if(o)q.hh.k_(E.PB,F,k,b,E.buffer,E.rect,!1);
if(o)q.hh.ayN(E.PB,F,k,E.add.SoLd)}else if(E.Zk()){}else{if(o){if(E.xm())q.hh.k_(E.PB,F,k,b,E.buffer,E.rect,!1);
else{q.hh.acp(E.PB,k,k)}}}var V=E.Da();if(o){if(V)q.hh.yR(E.V$,U.x,U.y,J,V);if(E.AD()&&E.O5(x)&&E.O5(x).F){var u=E.O5(x).F;
q.hh.yR(E.b6,U.x,U.y,J,u)}if(!I&&E.add.vmsk){q.hh.yR(E.tT,U.x,U.y,J,E.add.vmsk.Da(),!0)}}if(V||E.add.vmsk)k=Math.max(k,U.y);
E.apN=Math.max(k,16);if(o!=!0&&E.Zk()&&(E.add.lsct==es.tI||x.B.length<4e3))for(var $=0;$<this.children.length;
$++)this.children[$].dh(x,J)};hY.prototype.aDg=function(x,J,o,c){this.depth=o;var E=x[J];if(c==null)c=[];
this.oC=c;if(E.add.lsct==es.qF){this.abL=E;this.Yx=J-1;this.children=[];var $=J+1;while(!0){var b=x[$];
if(b==null)console.log($,x.length);if(b.add.lsct==es.tI||b.add.lsct==es.tm){if(E.add.lyid==b.add.lyid)E.add.lyid+=16777215;
this.a=b;this.index=$-1;c[this.index]=this;c[J-1]=this;break}var l=new hY;l.parent=this;$=l.aDg(x,$,o+1,c);
this.children.push(l)}return $+1}else{this.a=E;this.index=J-1;c[this.index]=this;return J+1}};hY.prototype.N$=function(x,J,o,c){var E=this.qX(o),b=x;
while(E.parent!=null){b=E.a.ac3(b,J,c);E=E.parent}return b};hY.prototype.mZ=function(x,J){var o=this.a,c=new ha;
if(!o.kR())return c;var E=o.Da();if(o.Zk())for(var $=0;$<this.children.length;$++){var b=this.children[$].mZ(x,!0);
c=c.k7(b)}else if(dv.get(o.add)!=null)c=o.MC()&&o.F.color==0?o.F.mZ().clone():new ha(0,0,x.m,x.e);else if(o.A0()&&o.add.vmsk&&o.add.vmsk.isEnabled&&o.add.vstk){c=o.rect.clone()}else if(o.A0()&&E&&E.isEnabled&&E.fL()!=0)c=new ha(0,0,x.m,x.e);
else{c=o.UG(x,!1,!0);if(o.add.vmsk)c=q.O.uS(c)}return J?o.ac3(c,x):c};hY.KK={delete:function(x){if(x&&x.m)x.delete()},R:function(x,J){return ai.mB?new ai.HC(x,J):q.R(x*J*4)},J2:function(x,J,o){if(ai.mB){if(x==null||x.m!=J||x.e!=o){hY.KK.delete(x);
return new ai.HC(J,o)}}else{if(x==null||!(x instanceof Uint8Array)||x.length!=J*o*4){hY.KK.delete(x);
return q.R(J*o*4)}}return x},zc:function(x,J,o,c,E){(ai.mB?ai.Ei:q.St)(x,J,o,c,E)},UH:function(x,J,o,c,E,b,l,i,$,F,k){(ai.mB?ai.l.qB:q.l.UH)(x,J,o,c,E,b,l,i,$,F,k)},a0g:function(x,J,o,c,E,b,l,i){var F=o.clone(),k=E.m,U=E.e,I=F.x,V=F.y,u=F.x+F.m>k?-1:0,N=F.x<0?2:1,e=F.y+F.e>U?-1:0,B=F.y<0?2:1;
for(var j=e;j<B;j++)for(var T=u;T<N;T++){F.x=I+T*k;F.y=V+j*U;hY.KK.j6(x,J,F,c,E,b,l,i)}},j6:function(x,J,o,c,E,b,l,i){if(ai.mB)ai.l.aD(x,J,o,c,E,b,l,i);
else q.l.j6(x,J,o,c,E,b,l,i)},xj:function(x,J,o){if(ai.mB){ai.FW(x);ai.Ja(J,o)}else q.xj(x,J,o)},a2G:function(x,J,o,c,E){if(ai.mB){ai.l.qB(null,null,c,E,x,J,o,E,1,!1)}else{if(o==255)q.gV(x,J,c,E);
else{var b=q.R(J.P());q.ae(c,E,b,J);q.HF(x,b);q.xj(c,0,16777215);q.yP(b,J,c,E)}}},Tk:function(x,J,o,c){if(ai.mB)ai.l.qB(null,null,o,c,x,J,0,c,1,!1);
else q.Tk(x,J,o,c)}};hY.prototype.z_=function(x,J,o,c,E,b){var l=typeof b=="number";if(!this.a.Zk()&&(l&&this.index>b||!l&&b.indexOf(this.index)==-1)){return}var i=this.a,F=cI.Aw(i),k=hY.KK,U=i.A0()?i.Da():i.F;
if(!i.kR())return;if(i.MC()&&U.rect.Kx()&&U.fL()==0){return}if(i.add.vstk==null&&this.mZ(c,!1).Kx()){return}var I=this.mZ(c,!0).Kc(o);
if(!J.U5(o)&&!o.$G(I))return;if(i.Zk()&&i.add.artb){var V=i.uc();o=o.Kc(V)}var u=hY.ajd(i,E,F);if(!u){this.apU(x,J,o,c,E,b);
return}i.Ex.sQ=k.J2(i.Ex.sQ,I.m,I.e);k.zc(x,J,i.Ex.sQ,I,o);this.apU(i.Ex.sQ,I,o,c,E,b);k.UH(i.Ex.sQ,I,x,J,null,null,0,o,i.opacity/255,i.n5=="diss",F.kZ)};
hY.ajd=function(x,J,o){if(o.kZ[0]*o.kZ[1]*o.kZ[2]==0)return!0;return x.opacity!=255&&(J.length!=0||x.Zk()||x.oS())};
hY.axg={Ex:{}};hY.prototype.apU=function(x,J,o,c,E,b){var l=this.a,i=cI.Aw(l),F=dv.get(l.add)!=null,k=hY.KK,U=hY.ajd(l,E,i),I=U?1:l.opacity/255,V=l.A0()?l.Da():l.F,u=l.Zk()&&i.UJ==null&&(l.n5=="pass"||l.add.artb)&&!(E.length>0||i.fill!=1||l.oS()),N=!l.Zk()&&!F&&!l.oS()&&E.length==0,e=F&&!l.oS()&&E.length==0,v=null,R=null,y=null,Y;
if(u||N||e){var B=x,j=J;if(l.MC()){j=this.mZ(c,!1);B=l.Ex.ZX=k.J2(l.Ex.ZX,j.m,j.e);k.zc(x,J,l.Ex.ZX,j)}if(u)this.t$(B,j,o,c,b);
if(N)k.j6(l.n5,l.amY(c),l.rect,B,j,o,I,i);if(e){var T=l.MC()&&V.fL()==0?V.mZ().clone():j.clone(),a=l.Ex;
if(T.U5(new ha(0,0,c.m,c.e)))a=hY.axg;a.hs=this.al0(B,j,a.hs,T,l.add);i.R3=!0;k.j6(l.n5,a.hs,T,B,j,o,I,i)}if(l.MC())k.UH(B,j,x,J,l.aqQ(),V.mZ(),V.fL(),o,1,l.n5=="diss");
l.Ex.ajZ();return}var P=l.Zk()&&l.n5=="pass"&&(E.length>0||i.fill!=1||l.oS()),T=l.rect;if(l.Zk()){T=this.mZ(c,!1);
y=l.Ex.hs=k.J2(l.Ex.hs,T.m,T.e);k.xj(y,0);this.t$(y,T,T,c,b);R=k.J2(l.Ex.aJ,T.m,T.e);k.zc(y,T,R,T)}else if(F){T=l.MC()&&V.fL()==0?V.mZ().clone():J.clone();
R=k.J2(l.Ex.aJ,T.m,T.e);k.xj(R,4294967295)}else{T=l.rect;v=l.amY(c);R=k.J2(l.Ex.aJ,T.m,T.e);k.zc(v,T,R,T)}l.Ex.aJ=R;
if(l.MC())k.a2G(l.aqQ(),V.mZ(),V.fL(),R,T);if(l.oS())if(l.Ex.mI||l.Ex.$Y||l.Ex.lb!=ai.mB||l.Ex.tq||l.Zk()){var t=l.add.vmsk,g=q.R(T.P());
if(cI.a1s(l.add.lmfx)){if(ai.mB){if(!l.Zk()&&l.Da()==null&&l.rect.U5(T)&&t==null)q.z$(l.buffer,g,3);
else{var H=q.R(T.P()*4);R.get(H);q.z$(H,g,3)}}else q.z$(R,g,3)}if(l.Ex.$Y||l.Ex.lb!=ai.mB||!q.U5(g,l.Ex.C_)){var _=null;
if(l.A0()&&t&&t.isEnabled&&t.Da().color==0)_=t.Da().rect;cI.aj_(l.Ex.sU);l.Ex.sU=cI.azl(g,T,l.add.lmfx,l.add.fxrp,c,_);
l.Ex.C_=g;l.Ex.a0_=T}}if(l.oS())cI.aj6(l.add.lmfx,l.Ex.sU,T,x,J,o);if(l.Zk()){v=k.J2(l.Ex.ZX,T.m,T.e);
k.xj(v,0);if(l.n5=="pass")k.zc(x,J,v,T);if(P)k.Tk(y,T,v,T);this.t$(v,T,o,c,b);l.Ex.ZX=v}if(F){v=l.Ex.ZX=this.al0(x,J,l.Ex.ZX,T,l.add)}if(l.Zk()||F)Y=v;
else{Y=k.J2(l.Ex.ZX,T.m,T.e);k.zc(v,T,Y,T,o);l.Ex.ZX=Y}k.xj(Y,4278190080,16777215);for(var $=0;$<E.length;
$++)E[$].z_(Y,T,o,c,[],b);var K=l.Ex.O0=k.J2(l.Ex.O0,T.m,T.e);k.zc(x,J,K,T,o);if(F)i.R3=!0;k.j6(l.n5=="pass"?"norm":l.n5,Y,T,K,T,o,1,i);
if(l.oS()){var f=l.Ex.sU.type.FrFX,m=null;if(f.length!=0){m=f[0];for(var $=0;$<f.length;$++)if(f[$].mF.m>m.mF.m)m=f[$];
l.Ex.NO=k.J2(l.Ex.NO,m.mF.m,m.mF.e);k.zc(x,J,l.Ex.NO,m.mF,o);l.Ex.VI=k.J2(l.Ex.VI,m.mF.m,m.mF.e)}cI.a8q(l.add.lmfx,l.Ex.sU,T,x,J,o,K,l.Ex.NO,l.Ex.VI,m?m.mF:null)}if(!ai.mB){var C=q.R(T.P());
q.z$(R,C,3);R=C}k.UH(K,T,x,J,R,T,0,o,1,l.n5=="diss");l.Ex.ajZ()};hY.prototype.al0=function(x,J,o,c,E){var b=dv.get(E),l;
if(b)l=dv.SR(b,E[b]);var i=hY.KK;o=i.J2(o,c.m,c.e);if(!(ai.mB&&J.U5(c)))i.zc(x,J,o,c);if(l){if(ai.mB){var F=c.clone();
F.x=F.y=0;if(J.U5(c)){ai.FW(o,F);dv.YA(l,x.Hp,F)}else{ai.FW(o,c);o.bU(c);dv.YA(l,o.DF,F)}}else dv.fa(l,o,o,c)}return o};
hY.prototype.t$=function(x,J,o,c,E){var b=J,l=b.m,i=b.e,F=b.x,k=b.y,bz=o,U=bz.x,I=bz.y,V=-1,u=-1,N=2,e=2;
if(!c.Yb){V=u=0;N=e=1}var B=this.children;for(var $=0;$<B.length;$++){var j=[];for(var T=$+1;T<B.length;
T++)if(B[T].a.$j)j.push(B[T]);else break;for(var a=u;a<e;a++)for(var P=V;P<N;P++){b.x=F+P*l;b.y=k+a*i;
bz.x=U+P*l;bz.y=I+a*i;B[$].z_(x,b,bz,c,j,E)}$+=j.length}b.x=F;b.y=k;bz.x=U;bz.y=I};function hk(x){this.wo="psd";
this.k6=!1;this.name=x;this.ZB=-1;this.Yb=!1;this._E=null;this.z8=null;this.GD=null;this.Vg=null;this.m=0;
this.e=0;this.buffer=null;this.B=[];this.gx={};this.add={};this.Eb=[];this.Qr={};this.iA=4;this.Wc=null;
this.yV=72;this.TP={};this.g=[];this.Kt=[];this.fo=!1;this.IL=[];this.m8=[];this.yB=[hk.qd("Work Path")];
this.Np=[];this.vd=null;this.Ib={classID:"CompList",list:{t:"VlLs",v:[]}};this.HB=[];this.Jr=[];this.V8=[];
this.root=null;this.b0=null;this.C6=!1;this.agH=!1;this.arn=!1;this.MY=!1;this.ji=!1;this.sD=!1;this.o0=!1;
this.Gf=!1;this.yx=!1;this.$t=!1;this.mI=null;this.tA=null;this.u=null;this._w=[];this.X7=[];this.t={R_:{},EY:[],Xc:[],wR:[],UD:[],X5:[],XV:null,ha:null,w0:null,Ap:null,qr:null,Ad:null,QP:[],MJ:[],wp:null};
this.history=[new bk([1,0],null)];this.sW=0;this.TD=0;this.RO=0;this.pl=0;this.Q=new e7(this);this.bl=null;
this.fX=null}hk.prototype.aV=function(x){if(x){if(x.length==30240){this.aV(null);return}this.gx.r1039=x;
var J=ICC.R(x.buffer),E=null,b=17,F,k;if(J==null){this.aV(null);return}var o=J.header.spaceIn.toLowerCase(),c=JSON.stringify(J.tags.desc).toLowerCase();
try{E=ICC.U.profileName(J)}catch(j4){}if(o!="rgb "||E==null||c.indexOf("srgb")!=-1||o=="rgb "&&this.add.fcmy==1){this.aV(null);
return}console.log("We got an ICC profile!",J,E);try{var l=ICC.U.sampleLUT(J,b)}catch(j4){this.aV(null);
return}var i=l.slice(0),U=q.R(4),I=q.lX("rgbToRgbC"),V=I[2],u=I[3];for(var $=0;$<l.length;$+=3){U[0]=l[$]*255;
U[1]=l[$+1]*255;U[2]=l[$+2]*255;ICC.U.applyLUT(u,V,U,U);i[$]=U[0]/255;i[$+1]=U[1]/255;i[$+2]=U[2]/255}if(ai.mB){F=new ai.HC(b,b*b);
F.set(ICC.U.lutToRGBA8(l,b));k=new ai.HC(b,b*b);k.set(ICC.U.lutToRGBA8(i,b))}this.bl=[x,J,b,l,F,i,k]}else{delete this.gx.r1039;
this.bl=null}};hk.prototype.on=function(){return this.bl};hk.prototype.$E=function(){if(this.bl)return this.bl;
if(this.add.fcmy==1){if(this.fX==null){var x=q.lX("rgbToRgbC"),J=x[2],o=x[3],c;if(ai.mB){c=new ai.HC(J,J*J);
c.set(ICC.U.lutToRGBA8(o,J))}this.fX=[null,null,J,null,null,o,c]}return this.fX}};hk.prototype.atA=function(){var x=this;
if(x.Q.U.join("")!="111"){x.Q.U=[1,1,1];x.sD=!0}for(var $=0;$<x.B.length;$++){var J=x.B[$],o=J.add.vmsk;
if(J.AD()){var c=J.O5(x);if(c&&c.F&&c.F.AH){c.F.AH=!1;x.sD=!0}}var E=J.Da();if(E&&E.AH){E.AH=!1;x.sD=!0}if(o){if(o.g.length!=0)o.g=[];
if(o.tx.length!=0)o.tx=[]}}};hk.prototype.jg=function(){var x=this;return x.u!=null||x.l$()[1].length!=0||x.g.length>1};
hk.prototype.yl=function(){var x=this.Kt,J=[];for(var $=0;$<x.length;$++)J[$]=-1;var o=this.root.children;
for(var $=0;$<o.length;$++){var c=o[$],E=c.a.add.artb;if(E==null)continue;var b=E.guideIndeces;b=b?b.v:[];
for(var l=0;l<b.length;l++)J[b[l].v]=c.index}return[JSON.parse(JSON.stringify(x)),J]};hk.prototype.xW=function(x){this.Kt=JSON.parse(JSON.stringify(x[0]));
var J=x[1],o=this.root.children;for(var $=0;$<o.length;$++){var c=o[$],E=c.a.add.artb;if(E==null)continue;
E.guideIndeces={t:"VlLs",v:[]}}for(var $=0;$<J.length;$++)if(J[$]!=-1)this.B[J[$]].add.artb.guideIndeces.v.push({t:"long",v:$})};
hk.prototype.aer=function(x){var J=this;if(x[0])J.add.lnk2=x[0];else delete J.add.lnk2;if(x[1])J.add.FEid=x[1];
else delete J.add.FEid;if(x[2])J.add.Patt=x[2];else delete J.add.Patt};hk.prototype.a63=function(x){var J=this,o=[],c=[],E=[],N=null,e=null,B=null;
for(var $=0;$<x.length;$++){var b=x[$];if(b.add.SoLd){o.push(b.add.SoLd.Idnt.v);c.push(b.add.SoLd.placed.v)}if(b.add.PtFl)E.push(b.add.PtFl.Ptrn.v.Idnt.v);
if(b.add.lmfx){for(var l=0;l<bs.x0.length;l++){var i=b.add.lmfx[bs.x0[l]].v;for(var F=0;F<i.length;F++)if(i[F].v.Ptrn){var k=i[F].v;
if(k.classID=="FrFX"&&k.PntT.v.FrFl!="Ptrn")continue;E.push(k.Ptrn.v.Idnt.v)}}}var U=b.add.vstk;if(U&&U.strokeStyleContent.v.classID=="patternLayer"){E.push(U.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var I=J.add.lnk2,V=J.add.FEid,u=J.add.Patt;
if(I){N=[];for(var $=0;$<I.length;$++)if(o.indexOf(I[$].UU)!=-1)N.push(I[$]);if(N.length==0)N=null}if(V){e=[];
for(var $=0;$<V.length;$++)if(c.indexOf(V[$].id)!=-1)e.push(V[$]);if(e.length==0)e=null}if(u){B=[];for(var $=0;
$<u.length;$++)if(E.indexOf(u[$].id)!=-1)B.push(u[$]);if(B.length==0)B=null}return[N,e,B]};hk.prototype.P6=function(x){var J=this,o=J.root.qX(x==null?J.g[0]:x),c=!1;
while(o.parent!=null){c=c||o.a.Sm(31);o=o.parent}return c};hk.prototype.kU=function(){var x=this._w,J=this._w.length;
if(J!=0&&x[J-1].name=="Quick Mask")return x[J-1]};hk.prototype.Ds=function(){return this.wo==cG.mV("% |/!)")||this.wo==cG.hC("gP")};
hk.prototype.Zy=function(x){var J=this.add.artd;if(x!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:x},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};hk.prototype.ie=function(x){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(x)==-1)this.add.FEid.push(x)};
hk.prototype.qg=function(x){var J=this.add.FEid.indexOf(x);this.add.FEid.splice(J,1);if(this.add.FEid.length==0)delete this.add.FEid};
hk.prototype.W=function(x){if(x==null)x=new ha(0,0,this.m,this.e);if(this.mI==null)this.mI=x;else this.mI=this.mI.k7(x)};
hk.prototype.azb=function(x){return this.mI!=null};hk.prototype.b3=function(x){var J=this.B[x],o=this.root.qX(x);
if(o==null)return!1;if(J.Zk()||o.parent.children.indexOf(o)==0)return!1;return!0};hk.a6Z=function(x){if(x.add.lnk2)for(var $=0;
$<x.add.lnk2.length;$++){var J=x.add.lnk2[$].UU;x.add.lnk2[$].UU=hk.si()+J.slice(8);for(var o=0;o<x.B.length;
o++){var c=x.B[o].add.SoLd;if(c&&c.Idnt.v==J)c.Idnt.v=x.add.lnk2[$].UU}}};hk.prototype.wJ=function(x,J,o){x.sort(function(I,V){return I-V});
var top=x[x.length-1],c=this.B.slice(0),E=this.g.slice(0),b=[],l=[];for(var $=0;$<this.B.length;$++){if(x.indexOf($)!=-1)l.push(this.B[$]);
else b.push(this.B[$])}this.VQ(l);this.g=[];var i=this.root.mZ(this,!0);if(J)i=i.Kc(J);if(o)i=i.k7(o);
if(i.Kx())i=new ha(0,0,100,100);var F=new ha(-i.x,-i.y,this.m,this.e),k=new Uint8Array(hR.rb("PSD").Jy(this,0,0,[!0,!1]));
this.VQ(c);this.g=E;var U=new hk(this.B[top].getName());hR.rb("PSD").zu(k.buffer,U);delete U.add.artd;
U.IL=[];U.VQ(U.B);U.xW([[],[]]);hk.a6Z(U);n.Pm.Pq(U,i);U.W();U.Q4();U.or();return[U,i,b,top]};hk.prototype.ak$=function(x,J,o){var c=this.wJ(x),E=c[0],b=c[1],l=c[2],top=c[3],i;
if(o=="jpg")i=new Uint8Array(hR.rb("JPG").Jy([[E.or().buffer]],E.m,E.e,[80]));else i=new Uint8Array(hR.rb("PSD").Jy(E,null,null,[!0,!1]));
if(J)l=this.B.slice(0);var F=this.cv(i,E.name,b.x,b.y);if(top==this.B.length-1)l.push(F);else l.splice(J?top+1:top-x.length+1,0,F);
this.VQ(l);this.g=[l.indexOf(F)]};hk.si=function(x){if(x==null)x="";var J="";while(J==""||J==x){J="";
for(var $=0;$<8;$++)J+=Math.floor(Math.random()*16).toString(16)}return J};hk.prototype.K0=function(x){if(x==null)return;
if(this.add.Patt==null)this.add.Patt=[];var J=this.add.Patt;for(var $=0;$<J.length;$++)if(J[$].id==x.id)return;
J.push(x)};hk.prototype.cv=function(x,J,o,c,E,b,l){if(this.add.lnk2==null)this.add.lnk2=[];var i=null;
for(var $=0;$<this.add.lnk2.length;$++)if(q.U5(x,this.add.lnk2[$].raw)){i=this.add.lnk2[$].UU;break}if(i==null){var F=hR.M1(x.buffer);
i=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f";var k=new h.dJ;k.UU=i;k.ax=F=="psd"?"8BIM":"    ";k.C0=J+"."+F;
k.lZ=F=="psd"?"8BPB":"    ";k.open=0;k.raw=x;k.type="liFD";k.ZA=2;this.add.lnk2.push(k)}var U=this.eB(i,null,null,null,b,l),I=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f",V=this._I(),u=U?U.pH[1]:new ha;
V.Yq(J);V.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:i},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:I},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:q.Oq.R(u)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:u.m},Hght:{t:"doub",v:u.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:U?U.yV:72}}};
var N=u.clone();if(o!=null)N.offset(o,c);if(U!=null&&E){var F=hR.M1(x.buffer),e=E.x,B=E.y,j=E.m,T=E.e;
N=U.pH[1].clone();N.offset(e+o,B+c);var a=a=this.yV/(F=="pdf"?144:U.yV?U.yV:this.yV);N.m=N.m*a;N.e=N.e*a;
var P=Math.max(N.m/j,N.e/T);if(P>1.0001){N.m=N.m/P;N.e=N.e/P}N.x=Math.round(e+(j-N.m)/2);N.y=Math.round(B+(T-N.e)/2)}var v=q.O.ny(N).j;
V.add.SoLd.Trnf=n.Y.AA(v);V.add.SoLd.nonAffineTransform=n.Y.AA(v);if(U){if(E)V.aW(this,!1);else if(b5==0){V.rect=N;
V.buffer=U.pH[0].slice(0)}}return V};hk.prototype.azQ=function(x,J,o){var c=q.T6(x,J);c.save();c.scale(x/this.m,J/this.e);
this.root.arJ(this,c,o,new ha(0,0,x,J));c.restore();return c.getImageData(0,0,x,J).data.buffer};hk.prototype.or=function(x){if(x!=null){this.W();
this.Q4(x);var J=this.buffer;if(ai.mB)this.b0.get(J);else J=J.slice(0);this.W();this.Q4();return J}if(this.mI){this.Q4();
this.mI=null}if(ai.mB&&this.tA){this.b0.get(this.buffer);this.tA=null;this.o0=!0}return this.buffer};
hk.prototype.avp=function(){for(var $=0;$<this.B.length;$++)this.B[$].a9Q();this.W()};hk.prototype.aw9=function(){for(var $=0;
$<this.B.length;$++)if(this.B[$].add.lmfx)this.B[$].Ex.$Y=!0};hk.prototype.gI=function(){var x=this.gx.r1044;
if(x==null){x=this.gx.r1044=new Uint8Array(4);var J=0;for(var $=0;$<this.B.length;$++)J=Math.max(J,this.B[$].add.lyid);
D.lO(x,0,J)}var o=D.s(x,0);D.lO(x,0,o+1);return o+1};hk.prototype.$K=function(x,J,o){if(x==null)x=!0;
var c=this;if(c.X7.length!=0)return!0;if(c.g.length!=1){if(x)alert(c.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.FJ(x,J,o)};hk.prototype.FJ=function(x,J,o){if(x==null)x=!0;if(J==null)J=!1;var c=this;
if(c.X7.length!=0)return!0;for(var $=0;$<c.g.length;$++){var E=c.B[c.g[$]],b=J||E.tB<=0;if(E.add.lsct!=null&&E.add.lsct!=es.rc&&E.tB!=1){if(x)alert(h9.get([15,7,2]));
return!1}if(b&&!E.xm()){if(x)alert(h9.get([15,7,2]));return!1}if(b&&E.add.TySh){return this.ajy(x,[15,7,3],o)}if(b&&E.add.SoLd){return this.ajy(x,[15,7,4],o)}if(E.Sm(1)||c.P6(c.g[$])){if(x)alert(h9.get([6,57,0]));
return!1}}return!0};hk.prototype.ajy=function(x,J,o){if(x&&typeof x=="object"){var c=new ko(L.E.N);c.data={d:L.H.yI,AN:"confirm"};
c.data.b=h9.get(J)+". "+h9.get([6,8])+"?";var E=x;c.data.sA=function(){var b=new ko(L.E.p4,!0);b.data={bV:"rasterizeLayer",Rx:{classID:"rasterizeLayer",null:hi.X$("Lyr",!0)}};
E.c(b)};x.c(c);return!1}if(x)alert(h9.get(J));return!1};hk.prototype.aiY=function(x){var J=this.root.qX(x);
if(J.parent)return J.a.kR()&&this.aiY(J.parent.index);else return J.a.kR()};hk.prototype.Eq=function(x){var J=this;
if(x){var o=0;for(var $=0;$<J.g.length;$++)if(J.B[J.g[$]].add.artb)o++;if(o>1)return-1}if(J.add.artd&&J.g.length!=0){var c=J.root.qX(J.g[0]);
while(c.parent.parent)c=c.parent;if(c.a.add.artb)return c.index}return-1};hk.prototype.auI=function(){var x=this.B[this.g[0]];
if(x.tB<=0&&!x.rect.$G(this.u.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.u){var J=q.R(this.u.channel.length);
q.ae(x.buffer,x.rect,J,this.u.rect);q.HF(this.u.channel,J);if(q.Ps(J,0)){alert("Selected area is empty.");
return!1}}return!0};hk.prototype.xb=function(){if(this.gx["r"+1037]==null)this.Ok(30);return D.du(this.gx["r"+1037],0)};
hk.prototype.Ok=function(x){if(this.gx["r"+1037]==null)this.gx["r"+1037]=new Uint8Array(4);if(D.du(this.gx["r"+1037],0)==x)return;
D.kH(this.gx["r"+1037],0,x);this.aw9()};hk.prototype.kA=function(){if(this.gx["r"+1049]==null)this.Hd(30);
return D.du(this.gx["r"+1049],0)};hk.prototype.Hd=function(x){if(this.gx["r"+1049]==null)this.gx["r"+1049]=new Uint8Array(4);
if(D.du(this.gx["r"+1049],0)==x)return;D.kH(this.gx["r"+1049],0,x);this.aw9()};hk.prototype.lx=function(x){if(this.add.lnk2==null)return null;
for(var $=0;$<this.add.lnk2.length;$++)if(this.add.lnk2[$].UU==x)return this.add.lnk2[$];return null};
hk.prototype.azE=function(x){var J=this.lx(x);if(J==null)return!1;var o=hR.M1(J.raw.buffer);if(o==null)return!1;
if(hR.rb(o)!=null||o=="psd")return!0;return!1};hk.prototype.eB=function(x,J,o,c,E,b){var l=this.lx(x);
if(l==null)return null;l.or(J,o,c,E,b);if(l.pH)return l};hk.prototype.aC3=function(){var x=this.m,J=this.e;
if(ai.mB&&this.b0==null)this.b0=new ai.HC(x,J,!0);if(this.buffer==null||this.buffer.length!=x*J*4||ai.mB&&(this.b0.m!=x||this.b0.e!=J)){this.buffer=q.R(x*J*4);
if(this.b0)this.b0.delete();if(ai.mB)this.b0=new ai.HC(x,J,!0)}};hk.prototype.a5R=function(){this.aC3();
if(ai.mB){this.b0.set(this.buffer)}};hk.prototype.Q4=function(x){if(b5!=0)throw"redrawing in vector mode";
var J=this.m,o=this.e,c=new ha(0,0,J,o),E=this.Yb?c:c.Kc(this.mI);this.aC3();if(E.Kx())return;if(!E.U5(c)){if(!ai.mB){var b=q.Qs(E.P()*4);
q.St(b,E,this.buffer,c)}if(ai.mB){ai.FW(this.b0,E);ai.Ja(0)}}else{if(ai.mB){this.b0.set(null)}else{this.buffer.fill(0)}}var l=Date.now(),i=ai.mB?this.b0:this.buffer;
if(x==null)x=1e9;var F=this.root.children;for(var $=0;$<F.length;$++){var k=F[$].a;if(k.kR()&&k.add.artb&&this.add.artd){var U=k.uc(),I=E.Kc(U),V=k.kz();
if(V!=0){if(ai.mB){ai.FW(i,I);ai.Ja(V);ai.Ja(V)}else q.aCP(i,c,I,V)}}}this.root.z_(i,c,E,this,[],x);
this.tA=this.mI.clone()};hk.prototype._I=function(x){var J=new h;J.rect=new ha(0,0,0,0);J.buffer=q.R(1);
J.add.luni=new ck(0,0);if(x!=!0)J.add.lyid=this.gI();J.add.lsct=es.rc;J.add.lclr=0;J.add.fxrp=new ck(0,0);
return J};hk.prototype.Tv=function(x){var J=this._I(x);J.Yq("</Layer group>");J.add.lsct=es.qF;J.Il=24;
return J};hk.prototype.kG=function(){return this.sW!=this.TD};hk.prototype.VR=function(x){while(this.history.length>this.sW+1)this.history.pop();
if(this.TD>this.sW)this.TD=-1;if(x.v.id!=n.mY){this.MY=!0;if(this.Ib.lastAppliedComp){delete this.Ib.lastAppliedComp;
this.o0=!0}}this.history.push(x);this.sW++;this.o0=!0;var J=j4.I4()?60:30,o=0;for(var $=this.history.length-1;
$>=0;$--){var c=this.history[$];if(c.lt)continue;o++;if(o==J){this.sW-=$;this.history=this.history.slice($);
break}}};hk.prototype.Xz=function(){if(this.sW!=this.history.length-1)return null;return this.history[this.history.length-1]};
hk.prototype.kw=function(x,J,o,c){if(x==null)x=!1;var E=J!=null?[J]:this.g.slice(0);if(c){var b=[];for(var $=0;
$<E.length;$++){var l=this.B[E[$]],i=l.vc;if(l.yG&&i!=0&&b.indexOf(i)==-1)b.push(i)}if(b.length!=0)for(var $=0;
$<this.B.length;$++){var l=this.B[$],i=l.vc;if(l.yG&&i!=0&&b.indexOf(i)!=-1&&E.indexOf($)==-1)E.push($)}}var F=[];
for(var $=0;$<E.length;$++){var k=this.BZ(E[$],x);for(var U=0;U<k.length;U++)if(F.indexOf(k[U])==-1)F.push(k[U]);
if(o){var bz=this.root.qX(E[$]);while(bz.parent!=null&&bz.parent.parent!=null){bz=bz.parent;if(F.indexOf(bz.index)==-1){F.push(bz.index,bz.Yx)}}}}return F};
hk.prototype.VG=function(x,J,o){var c=this,E=c.kw(!1,x,null,o);E.sort(function(a,P){return a-P});var b={};
for(var l=0;l<c.B.length;l++){var i=c.B[l].getName();b[i]=!0}var F=[];for(var $=0;$<E.length;$++){var k=c.B[E[$]].clone(),B,j;
k.add.lyid=c.gI();k.add.lspf=0;if(k.AD()){var U=k.O5(c),I=hk.acT(U);c.ie(I);k.add.SoLd.placed.v=I.id}else if(k.add.SoLd){var V=k.add.SoLd.placed.v;
k.add.SoLd.placed.v=hk.si(V.slice(0,8))+V.slice(8)}k.vl(c);var u=k.getName(),N=u.length;while(48<=u.charCodeAt(N-1)&&u.charCodeAt(N-1)<=57)N--;
var e=parseInt(u.slice(N));if(isNaN(e)){if(u.endsWith(" copy")){e=1;B=u.slice(0,u.length-5)}else{e=0;
B=u}}else if(u.slice(0,N).endsWith(" copy ")){e=e;B=u.slice(0,N-6)}else{e=0;B=u}e++;while(!0){j=B+" copy"+(e==1?"":" "+e);
if(b[j]==null)break;e++}var T=E.indexOf(this.root.qX(E[$]).parent.index)!=-1;if(u=="Background"&&c.B.length==1)j="Layer 1";
if(J!=!0&&!T)k.Yq(j);b[j]=!0;F.push(k)}return F};hk.acT=function(x){return{id:hk.si(x.id.slice(0,8))+x.id.slice(8),buffer:x.buffer.slice(0),rect:x.rect.clone(),F:x.F?x.F.clone():null}};
hk.a86=function(x){return{id:x,rect:new ha,buffer:q.R(1),F:new h.Tj}};hk.qd=function(x,J){if(J==null)J={vmsk:new h._b};
if(J.vogk==null){J.vogk=[];var o=q.p.Dd(J.vmsk.$);for(var c=0;c<o;c++)J.vogk.push(q.WE.Qs())}return{name:x,cD:0,add:J}};
hk.prototype.l$=function(x){var J=[],o=[],c=this;for(var $=1;$<c.yB.length;$++){var E=c.yB[$];E.cD=-1-$;
J.push(E);if(c.Np.indexOf($)!=-1)o.push(J.length-1)}if(c.yB[0].add.vmsk.$.length>2){var E=c.yB[0];E.cD=-1;
J.push(E);if(c.Np.indexOf(0)!=-1)o.push(J.length-1)}var b=c.vd==null;if(b)c.vd=[];for(var $=c.g.length-1;
$>=0;$--){var l=c.g[$],i=c.B[l],F=i.add.TySh;if(i.add.vmsk!=null){var E=hk.qd("\""+i.getName()+"\" Shape Path",i.add);
E.cD=l;J.push(E);if(b&&(i.Hn||i.A0()))c.vd.push(l);if(c.vd.indexOf(l)!=-1)o.push(J.length-1)}if(x!=!0&&F&&F.add&&q.Oq.IQ(F.Ma)){var E=hk.qd("\""+i.getName().slice(0,10)+"..\" Text Path",F.add);
E.cD=1e6+c.g[$];J.push(E);o.push(J.length-1)}}if(o.length==0&&x){c.yB[0].cD=-1;c.Np=[0];o.push(J.length);
J.push(c.yB[0])}return[J,o]};hk.prototype.BZ=function($,x){var J=[],bz=this.root.qX($);if(bz)bz.IW(J,x);
return J};hk.prototype.va=function(){this.root.dh(this,new ha(0,0,this.m,this.e))};hk.prototype.VQ=function(x){for(var $=0;
$<this.B.length;$++){var J=this.B[$];if(x.indexOf(J)==-1){J.Ex.aAi();J.W()}}var o=0;for(var $=0;$<x.length;
$++)if(x[$].add.artb)o++;this.Zy(o);this.B=x.slice(0);this.NT()};hk.prototype.NT=function(){var x=this.B,J=x.length;
this.root=new hY;var o=this._I(!0);o.n5="pass";o.add.lsct=es.tI;o.Yq("");var c=this.Tv(!0),E=[c];for(var $=0;
$<J;$++)E.push(x[$]);E.push(o);this.root.aDg(E,0,0);if(this.g.length==0)this.g=[J-1]};hk.prototype.CQ=function(){if(this.g.length!=1)return;
var x=this.root.qX(this.g[0]);while(x.parent!=null){var J=x.parent.a;J.add.lsct=es.tI;x=x.parent}this.sD=this.ayd=!0};
hk.prototype.ahK=function(){this.NT();var x=[this.root],a4=0;while(x.length!=0){var top=x.pop();a4++;
if(top.a.add.lsct==es.tI)for(var $=0;$<top.children.length;$++)x.push(top.children[$])}if(a4>1e3){var J=this.root.children;
for(var $=0;$<J.length;$++)if(J[$].a.add.lsct==es.tI)J[$].a.add.lsct=es.tm}};hk.qm=function(x,J,o,c,E,b,l,i){if(i==null)i="sRGB IEC61966-2.1";
var F={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:c},artboard:{t:"bool",v:b},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:x*72/o}},Hght:{t:"UntF",v:{type:"#Rlt",val:J*72/o}},Rslt:{t:"UntF",v:{type:"#Rsl",val:o}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:E}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:i}}}};
if(E=="Clr")F.Nw.v.FlCl={t:"Objc",v:l};return{bV:"make",Rx:F}};hk.aCY=function(x,J){var o=0,c=0,E=72,b=J.apw,l=x.preset&&x.preset.v=="Clipboard";
if(l){o=b.m;c=b.e}else{o=x.Wdth.v.val;c=x.Hght.v.val;E=x.Rslt.v.val;o=Math.round(o*E/72);c=Math.round(c*E/72)}var i=new hk((x.Nm?x.Nm.v:h9.get([11,7]))+".psd");
i.m=o;i.e=c;i.yV=E;var F=x.Fl?x.Fl.v.Fl:"Wht";if(x.artboard&&x.artboard.v){var k=i._I();k.Yq(h9.get([1,16,0])+" 1");
k.add.lsct=es.tI;k.dZ(new ha(0,0,o,c));k.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[F]};
if(F=="Clr")k.add.artb.Clr={t:"Objc",v:q.r.qP(q.r.fL(x.FlCl.v))};k.n5="pass";k.Il=24;var U=i._I();U.Yq("Layer 1");
i.VQ([i.Tv(),U,k]);i.Zy(1);i.g=[1]}else{var I=i._I(),V=0;I.Yq("Background");i.VQ([I]);I.add.lspf=1<<2;
if(F=="Clr"){V=q.r.fL(x.FlCl.v);V=255<<24|Math.round(V.J)<<16|Math.round(V.I)<<8|Math.round(V.o)}else{var u=J.xR;
u=(u&255)<<16|(u>>>8&255)<<8|u>>>16;V={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|u}[F]}I.rect=new ha(0,0,o,c);
I.buffer=q.R(o*c*4);q.xj(I.buffer,V)}i.buffer=q.R(o*c*4);var N=x.profile;if(N){var e={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[N.v];
if(e)i.aV(hR.Xe.get(e))}return i};hk.prototype.aeT=function(){var x=this,J=x.add.arts=[];J.push({LB:"Artboard 1",YP:[0,0,x.m,x.e],g:!0});
if(x.buffer)x.buffer=null;for(var $=0;$<x.B.length;$++){var o=x.B[$],c=o.rect;if(o.Zk()&&o.add.vmsk){var E=x._I();
x.B.splice($,0,E);E.Yq("<Clipping Path>");E.j1=!0;E.add.vogk=o.add.vogk;delete o.add.vogk;E.add.vmsk=o.add.vmsk;
delete o.add.vmsk;E.add.vstk=bs.Ao.Bt();E.add.SoCo=JSON.parse(bs.Kl[bs.order.indexOf("SoFi")]);E.add.vstl={};
console.log("mask here!")}else if(o.A0()&&o.add.vstl==null){var b=bs.Ao.mf(o.add.vstk),l=o.add.vstl={};
bs.zs.write(l,b,1);var i=bs.wr(o.add),F=bs.JM(o.add.vstk);for(var k=0;k<2;k++){var U=k==0?i:F,I=null;
if(U.lZ==1)I=aN.GG(U.h5.Clr.v);if(U.lZ==2)I=e2.RB(U.h5,o.add.vmsk.$);if(k==0)l.TK=I;else l.ma=I}}if(o.add.SoLd||o.add.TySh||o.add.vmsk||c.Kx())continue;
var V=c.m,u=c.e,N=q.u2(o.buffer,V,u)?"JPG":"PNG";if(V*u<700*700)N="PNG";var e=hR.rb(N).Jy([[o.buffer.buffer]],V,u);
x.B[$]=x.cv(new Uint8Array(e),"<Image>",0,0)}};function e7(x){this.Th=x;this.Z=0;this.Fo=1;this.z=new ck(0,0);
this.n4=new ck(0,0);this.o7=0;this.U=[1,1,1];this.n3=0;this.T3=new ha(0,0,1,1);this.app=new ha(0,0,x.m,x.e);
this.GJ=null;this.lW=null;this.SS=new Uint32Array(0);this.NP=null;this.Su=null;this.gK=q.R(0);this.Q_=null;
this.gD=null}e7.prototype.AY=function(x){var J=new cW,o=this.T3,c=this.Th,E=x?this.Fo:this.Z,b=x?this.n4:this.z,l=Math.round((o.m-c.m*E)/2+b.x),i=Math.round((o.e-c.e*E)/2+b.y);
J.translate(-l,-i);J.scale(1/E,1/E);var F=c.m/2,k=c.e/2;J.translate(-F,-k);J.rotate(this.o7);J.translate(F,k);
return J};e7.prototype.a6o=function(x){var J=this.T3,o=this.Th,c=Math.atan2(-x.J,x.V),E=o.m/2,b=o.e/2;
x.translate(-E,-b);x.rotate(-c);x.translate(E,b);var l=1/x.z1();x.scale(l,l);var i=-x.Iw,F=-x.s7,k=Math.round(i-(J.m-o.m*l)/2),U=Math.round(F-(J.e-o.e*l)/2);
if(Math.abs(l-Math.round(l))<1e-6)l=Math.round(l);this.o7=c;this.Z=l;this.z=new ck(k,U)};e7.prototype.Vx=function(x,J){var o=this.AY();
return o.iI(new ck(x,J))};e7.prototype.OY=function(x,J){var o=this.AY();o.Mr();return o.iI(new ck(x,J))};
function bs(){}bs.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");bs.x0="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
bs.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];bs.aqt=["DrSh","IrSh","SoFi","GrFl","FrFX"];
bs.MA=["Clr"];bs.Xp="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");bs.X2=["Ptrn","Angl","Scl","Algn","phase"];
bs.lC={Xu:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",awI:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a9J:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",acO:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",LG:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
bs.lC.Xu="\"Clr\": "+bs.lC.Xu;bs.lC.r="\"Grad\":"+bs.lC.awI+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
bs.lC.LG="\"Ptrn\":"+bs.lC.LG+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
bs.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
bs.Kl=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+bs.lC.Xu+","+bs.lC.r+","+bs.lC.LG+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+bs.lC.Xu+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+bs.lC.r+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+bs.lC.LG+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
bs.r={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
bs.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],jI:["SClr","GrFl","Ptrn"],avN:[[13,0],[12,37],[12,62]]};
bs.ui={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],atj:["SrcC","SrcE"],a47:[[19,5,1],[12,69]]};bs.ML={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a95:["SfBL","PrBL","Slmt"],agX:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
bs.Ao={Kd:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],lS:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Ce:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+bs.lC.Xu+"}")},strokeStyleResolution:{t:"doub",v:72}},Bt:function(x,J){var o=JSON.parse(bs.Ao.a4N);
if(x)o.fillEnabled.v=!0;if(J)o.strokeEnabled.v=!0;return o},mf:function(x,J,o){if(J==null)J={};if(o==null)o=1;
var c=x.strokeStyleLineDashSet.v,E=J.lwidth=x.strokeStyleLineWidth.v.val*o;J.mlimit=x.strokeStyleMiterLimit.v;
J.doff=x.strokeStyleLineDashOffset.v.val;J.ljoin=bs.Ao.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
J.lcap=bs.Ao.Kd.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType);J.sal=bs.Ao.lS.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
J.dash=[];for(var $=0;$<c.length;$++)J.dash.push(c[$].v.val*E);if(J.dash.length==1&&J.dash[0]==0)J.dash=[];
return J},write:function(x,J,o){var c=J.lwidth,E=J.mlimit,b=J.dash,l=J.doff,i=J.ljoin,F=J.lcap;if(c!=null)c=x.strokeStyleLineWidth.v.val=Math.max(.4,c*o);
else c=x.strokeStyleLineWidth.v.val;if(E!=null)x.strokeStyleMiterLimit.v=E;if(b!=null)x.strokeStyleLineDashSet.v=cI.N9(b,o/c);
if(l!=null)x.strokeStyleLineDashOffset.v.val=l;if(i!=null)x.strokeStyleLineJoinType.v.strokeStyleLineJoinType=bs.Ao.join[i];
if(F!=null)x.strokeStyleLineCapType.v.strokeStyleLineCapType=bs.Ao.Kd[F]}};bs.Ao.a4N=JSON.stringify(bs.Ao.default);
bs.zs={mf:function(x,J,o){if(J==null)J={};var c=J.lwidth=x.atF*o,E=x.Wd.slice(0);for(var $=0;$<E.length;
$++)E[$]*=c;J.mlimit=x.a5u;J.doff=x.ar$;J.ljoin=x.a7q;J.lcap=x.alf;J.sal=x.aze;J.dash=E;if(J.dash.length==1&&J.dash[0]==0)J.dash=[];
return J},write:function(x,J,o){var c=J.lwidth*o,E=J.mlimit,b=J.dash.slice(0),l=J.doff,i=J.ljoin,F=J.lcap;
x.atF=c;x.a5u=E;x.Wd=b;for(var $=0;$<b.length;$++)b[$]*=o/c;x.ar$=l;x.a7q=i;x.alf=F;x.aze=1},Bt:function(){return{TK:[1,1,1],ma:[0,0,0],atF:1,a5u:0,Wd:[],ar$:0,a7q:0,alf:0,aze:1}}};
bs.JM=function(x){var J=x.strokeEnabled.v,o=x.strokeStyleContent.v;return J?{lZ:1+bs.Ao.Ce.indexOf(o.classID),h5:o}:{lZ:0}};
bs.u3=function(x,J){var o=J.lZ;x.strokeEnabled.v=o!=0;if(o!=0){x.strokeStyleContent.v=J.h5;J.h5.classID=bs.Ao.Ce[o-1]}};
bs.wr=function(x){var J=x.vstk,o=null;if(J&&!J.fillEnabled.v)o={lZ:0};else if(x.SoCo)o={lZ:1,h5:x.SoCo};
else if(x.GdFl)o={lZ:2,h5:x.GdFl};else if(x.PtFl)o={lZ:3,h5:x.PtFl};return o};bs.AJ=function(x,J){var o=x.vmsk,c=x.vstk,E=J.lZ;
if(c)c.fillEnabled.v=E!=0;if(E>0){var b=["SoCo","GdFl","PtFl"][E-1];for(var $=0;$<3;$++)delete x[["SoCo","GdFl","PtFl"][$]];
x[b]=J.h5}};bs.zQ=[{classID:"null",Clr:JSON.parse(bs.Kl[5]).Clr},{classID:"null",Grad:JSON.parse(bs.Kl[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(bs.Kl[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var cI={};cI.tC=function(x,J){function o(x,V){if(x==null||!x.masterFXSwitch.v)return null;var u=x[V].v,N;
if(u.length!=0){N=u[0].v;if(!N.enab.v)N=null}return N}var c=J.SoCo,E=J.GdFl,b=o(x,"solidFillMulti"),l=o(x,"gradientFillMulti");
if(b==null&&l==null)return[c,E];var i=cI.apb;if(c&&b&&l==null){var F=JSON.parse(JSON.stringify(c));F.Clr.v=i(b.Clr.v,c.Clr.v,b);
return[F,null]}if(E&&b&&l==null){var k=JSON.parse(JSON.stringify(E)),U=k.Grad.v.Clrs.v;for(var $=0;$<U.length;
$++){var I=U[$].v.Clr;I.v=i(b.Clr.v,I.v,b)}return[null,k]}if(c&&l){var k=JSON.parse(JSON.stringify(l)),U=k.Grad.v.Clrs.v;
for(var $=0;$<U.length;$++){var I=U[$].v.Clr;I.v=i(I.v,c.Clr.v,l)}return[null,k]}return[b,l]};cI.D3={la:q.R(4),_x:q.R(4),o:new ha(0,0,1,1)};
cI.apb=function(x,J,o){var c=iP.Am(o.Md.v.BlnM),E=o.Opct.v.val/100,b=cI.D3;x=q.r.fL(x);J=q.r.fL(J);b.la[0]=x.o;
b.la[1]=x.I;b.la[2]=x.J;b.la[3]=255;b._x[0]=J.o;b._x[1]=J.I;b._x[2]=J.J;b._x[3]=255;q.l.j6(c,b.la,b.o,b._x,b.o,b.o,E);
return{classID:"RGBC",Rd:{t:"doub",v:b._x[0]},Grn:{t:"doub",v:b._x[1]},Bl:{t:"doub",v:b._x[2]}}};cI.a7o=function(x,J,o){var c=x;
x=x.slice(0);var E=iP.f5[iP.$l.indexOf(J.Md.v.BlnM)],b=q.r.fL(J.Clr.v),l=4278190080|Math.round(b.J)<<16|Math.round(b.I)<<8|Math.round(b.o),i=q.R(o.P()*4);
q.xj(i,l);q.l.j6(E,i,o,x,o,o,J.Opct.v.val/100);for(var $=0;$<x.length;$+=4)x[$+3]=c[$+3];return x};cI.bw=function(x,J){var o=["Sz","blur","Sftn","Dstn"];
for(var $=0;$<bs.order.length;$++){var c=bs.order[$],E=x[bs.x0[$]].v;for(var b=0;b<E.length;b++){var l=E[b].v;
for(var i=0;i<o.length;i++){var F=l[o[i]];if(F){var k=F.v.val,U=k;U=Math.max(k==0?0:1,U*J);if(c=="ChFX")U=Math.min(U,250);
if(c=="ebbl"){if(o[i]=="blur")U=Math.min(U,250);if(o[i]=="Sftn")U=Math.min(U,16)}F.v.val=Math.round(U)}}if(c=="ebbl"||c=="patternFill"||c=="FrFX")if(l.Ptrn&&l.Scl)l.Scl.v.val=Math.max(1,Math.min(1e3,l.Scl.v.val*J))}}};
cI.a3b=function(x,J,o){var c=new ha(-.5,-.5,1,1);for(var $=0;$<bs.order.length;$++){var E=bs.order[$],b=x[bs.x0[$]].v;
for(var l=0;l<b.length;l++){var i=b[l].v,I;if(!i.enab.v)continue;var F=i.blur?i.blur.v.val+1:0,k=i.Ckmt?i.Ckmt.v.val/100:0,U=Math.round(F*k);
if(E=="DrSh"||E=="IrSh"&&o){I=new ha(-.5,-.5,1,1);I.wI(F,F);cI.Df(I,i,J,0)}if(E=="St3D"){I=new ha(-.5,-.5,1,1);
cI.Df(I,i,J,Math.PI,"Angl")}if(E=="OrGl"||E=="IrGl"&&o){I=new ha(-.5,-.5,1,1);I.wI(F,F)}if(E=="FrFX"){var V=cI.KP(i),u=V[1];
if(o)u=Math.max(V[0],u);I=new ha(-.5,-.5,1,1);I.wI(Math.ceil(u),Math.ceil(u))}if(E=="ebbl"){var F=i.blur.v.val,N=i.bvlS.v.BESl;
if(N=="Embs"||N=="PlEb")F/=2;var e=["OtrB","InrB","Embs","PlEb","strokeEmboss"],B=["SfBL","PrBL","Slmt"],j=["In","Out"],T=i.bvlT.v.bvlT!="SfBL"?F:F*.43,a=Math.round(F);
I=new ha(-a-1,-a-1,2*a+2,2*a+2)}if(o&&E=="ChFX"){I=new ha(-.5,-.5,1,1);I.wI(F,F);var P=I.clone();cI.Df(I,i,J,0);
cI.Df(P,i,J,Math.PI);I=I.k7(P)}if(I)c=c.k7(I)}}if(c.x!=Math.ceil(c.x)){c.x=Math.ceil(c.x);c.m-=1}if(c.y!=Math.ceil(c.y)){c.y=Math.ceil(c.y);
c.e-=1}c.m=Math.floor(c.m);c.e=Math.floor(c.e);return c};cI.KP=function(x){var J=0,o=0,c=x.Styl.v.FStl,E=x.Sz.v.val;
if(c=="OutF")o=E;if(c=="InsF")J=E;if(c=="CtrF")J=o=E/2;return[J,o]};cI.axm=function(x){if(ai.mB&&x.qE==null){x.qE=new ai.HC(x.SI.m,x.SI.e);
x.qE.set(x.tM);delete x.tM;if(x.as){x.Nq=new ai.Kk(x.SI.m,x.SI.e);x.Nq.set(x.as);delete x.as}if(x.Nm){x.Zd=new ai.Kk(x.SI.m,x.SI.e);
x.Zd.set(x.Nm);delete x.Nm}}};cI.aqC=function(x){if(x.qE)x.qE.delete();if(x.Nq)x.Nq.delete();if(x.Zd)x.Zd.delete()};
cI.aj_=function(x){if(x.all==null)return;for(var $=0;$<x.all.length;$++){cI.aqC(x.all[$])}};cI.azl=function(x,J,o,c,E,b){var l=cI.WO(o,c,x,J,E,b);
for(var $=0;$<l.all.length;$++)cI.axm(l.all[$]);return l};cI.a1s=function(x){for(var $=0;$<bs.order.length;
$++){var J=bs.order[$],o=bs.x0[$],c=x[o].v;for(var E=0;E<c.length;E++){var b=c[E].v;if(b.enab.v&&["patternFill","GrFl","SoFi"].indexOf(J)==-1)return!0}}return!1};
cI.WO=function(x,J,o,c,E,b){if(b==null)b=c;var l=0,i=0;for(var $=0;$<bs.order.length;$++){var F=bs.order[$],k=bs.x0[$],U=x[k].v;
for(var I=0;I<U.length;I++){var V=U[I].v;if(F=="DrSh"&&V.enab.v&&V.Ckmt.v.val>0&&V.blur.v.val>0)l=Math.max(l,Math.ceil(V.Ckmt.v.val*V.blur.v.val/100));
if(F=="OrGl"&&V.enab.v&&V.Ckmt.v.val>0&&V.blur.v.val>0&&V.GlwT.v.BETE=="SfBL")l=Math.max(l,Math.ceil(V.Ckmt.v.val*V.blur.v.val/100));
if(F=="OrGl"&&V.enab.v&&V.blur.v.val>0&&V.GlwT.v.BETE=="PrBL")l=Math.max(l,V.blur.v.val);if(F=="FrFX"&&V.enab.v&&V.Sz.v.val>0){if(V.Styl.v.FStl=="OutF")l=Math.max(l,V.Sz.v.val);
if(V.Styl.v.FStl=="CtrF")l=Math.max(l,Math.ceil(V.Sz.v.val/2));i=Math.max(i,cI.KP(V)[1])}}}var u=new cI.vI(o,c,l,cI.a1s(x)),N=-c.x,e=-c.y,B={type:{},all:[]};
for(var j=0;j<bs.order.length;j++){var F=bs.order[j],k=bs.x0[j];B.type[F]=[];for(var T=x[k].v.length-1;
T>=0;T--){var a=x[k].v[T].v,y;if(!a.enab.v)continue;var P=a.blur?a.blur.v.val:0,v=a.Ckmt?a.Ckmt.v.val/100:0,R=P*v;
if(F=="St3D"){var t=Math.max(1e-4,1-a.Srnk.v.val/100),f=2,kB=0;function g(H,cx,a){var gM=a.Angl.v.val;
gM*=Math.PI/180;var X=a.Dstn.v.val,eW=Math.cos(gM)*X,fg=-Math.sin(gM)*X,e5=t+cx*(1-t),gi=new cW;gi.translate(-H.m/2,-H.e/2);
gi.scale(e5,e5);gi.translate(H.m/2,H.e/2);gi.translate((1-cx)*eW,(1-cx)*fg);return gi}var H=c.clone(),_=o;
H.x=H.y=0;var Y=Date.now(),K=H.clone();K.wI(f,f);var m=q.R(K.P());q.zc(_,H,m,K);K.x=K.y=0;q.JS.Bp(m,m,K,2);
var C=q.R(K.P()*4);C.fill(255);q.Qz(m,C);var Z=q.R(H.P()),A=H.m,d=H.e,G=K.m,r=cI.aBX(a,E),X=Math.cos(r[1]),w=-Math.cos(r[0])*X,S=Math.sin(r[0])*X;
if(Math.abs(w)<.001&&Math.abs(S)<.001)w=S=0;for(var z=0;z<d;z++)for(var s=0;s<A;s++){var $=(z+f)*G+s+f,M=m[$+1]-m[$-1],Q=m[$+G]-m[$-G],O=M*M+Q*Q;
if(O>10){var W=1/Math.sqrt(O);Z[z*A+s]=Math.max(0,Math.min(255,128+127*(w*W*M+S*W*Q)))}}var e9=[_,H],jV=g(H,0,a),co=q.O.ny(H).j,dz=co.slice(0);
q.O.M(co,jV,dz);var eh=H.k7(q.O.ql(dz)),a9=q.R(eh.P()*4);for(var $=0;$<8;$+=2){var M=co[$]-dz[$],Q=co[$+1]-dz[$+1];
kB=Math.max(kB,Math.sqrt(M*M+Q*Q))}var dc=Math.round(kB/2),eT=q.r.fL(a.Clr.v);eT.o/=255;eT.I/=255;eT.J/=255;
var fv=a.Drkn.v.val/100;for(var jS=0;jS<dc;jS++){var cx=jS/dc,bX=1-fv+cx*fv,gi=g(H,cx,a),cM=H.clone(),ea=_;
if(t!=1){var a1=n.Y.HK(e9,gi);cM=a1.rect;ea=a1.channel}else{var db=gi.iI(new ck(0,0));cM.x+=Math.round(db.x);
cM.y+=Math.round(db.y)}var d2=q.R(cM.P()*4);if(w!=0||S!=0){var hu=cM.m,fF=cM.e,il=eT.o,f4=eT.I,aK=eT.J,f9=gi.clone();
f9.Mr();var e0=f9.iI(new ck(.5,.5)),j7=f9.iI(new ck(1.5,1.5)),M=j7.x-e0.x,Q=j7.y-e0.y;for(var z=0;z<fF;
z++){for(var s=0;s<hu;s++){var $=z*hu+s,jb=$*4,hN=Math.max(0,Math.min(A-1,~~(.5+M*s))),fe=Math.max(0,Math.min(d-1,~~(.5+Q*z))),hn=Z[fe*A+hN],a3=-1+2*hn*(1/255),bH=-a3,jB=0;
if(a3>0){bH=0;jB=a3}d2[jb]=255*(1-bH)*(jB+(1-jB)*il)*bX;d2[jb+1]=255*(1-bH)*(jB+(1-jB)*f4)*bX;d2[jb+2]=255*(1-bH)*(jB+(1-jB)*aK)*bX}}}else cI.La(d2,a.Clr.v,null,bX);
q.qR(ea,d2,3);q.l.j6("norm",d2,cM,a9,eh,cM,1)}y={tM:a9,SI:eh}}else if(F=="DrSh"){var jH=u.Zq(R,P-R,!0),dL=jH.SJ,aq=jH.By.clone();
cI.Us(dL,a,!1);if(a.Cntn&&a.Cntn.v){var is=new ha;cI.Df(is,a,E,0);var dh=aq.clone();dh.offset(-is.x,-is.y);
dh=dh.k7(aq);var j_=q.R(dh.P());q.zc(dL,aq,j_,dh);var cH=Math.sqrt(is.x*is.x+is.y*is.y),bK=dL.slice(0);
for(var $=0;$<cH-1;$++){var M=Math.round(-is.x*$/cH),Q=Math.round(-is.y*$/cH),eC=jH.By.clone();eC.offset(M,Q);
q.a35(bK,eC,j_,dh)}dL=j_;aq=dh}aq.offset(N,e);cI.Df(aq,a,E,0);var a9=q.R(aq.P()*4);cI.La(a9,a.Clr.v);
q.qR(dL,a9,3);y={tM:a9,SI:aq,ade:a.layerConceals.v}}else if(F=="IrSh"){var jH=u.Zq(R,P-R,!1);cI.Df(jH.By,a,E,0);
var aq=u.rect().clone(),dL=q.R(aq.P());dL.fill(255);q.zc(jH.SJ,jH.By,dL,aq);cI.Us(dL,a,!0,!0);var a9=q.R(aq.P()*4);
cI.La(a9,a.Clr.v);q.qR(dL,a9,3);aq.offset(N,e);y={tM:a9,SI:aq}}else if(F=="GrFl"){var a9=q.R(u.rect().P()*4);
cI.xQ(a,a9,u.rect(),E,null,b);var aq=u.rect().clone();aq.offset(N,e);y={tM:a9,SI:aq}}else if(F=="SoFi"){var a9=q.R(u.SJ().length*4);
cI.La(a9,a.Clr.v);var aq=u.rect().clone();aq.offset(N,e);y={tM:a9,SI:aq}}else if(F=="ebbl"){var fp=!1;
if(fp)console.log(a);var Y=Date.now(),jq=a.bvlS.v.BESl;if(jq=="strokeEmboss"){var az=x.frameFXMulti.v;
if(az.length==0)continue;az=az[0].v;if(!az.enab.v)continue;var de=az.Styl.v.FStl;if(de=="OutF")jq="OtrB";
if(de=="CtrF")jq="Embs";if(de=="InsF")jq="InrB"}var P=a.blur.v.val;if(P==0)P=.7;if(jq=="Embs"||jq=="PlEb")P/=2;
var g3=["OtrB","InrB","Embs","PlEb","strokeEmboss"],hJ=["SfBL","PrBL","Slmt"],kc=["In","Out"],bc=a.bvlT.v.bvlT!="SfBL"?P:P*.45,kd=Math.round(P),jR=u.rect().clone(),im=jR.clone();
im.wI(kd,kd);var A=im.m,d=im.e,dO=A*d,jd=q.R(dO);q.zc(u.SJ(),jR,jd,im);var gJ=new Float64Array(dO),iA=new Float64Array(dO);
q.style.EC(jd,gJ,A,d);q.Mr(jd);q.style.EC(jd,iA,A,d);if(fp)console.log("distTransform computed",Date.now()-Y);
for(var $=0;$<dO;$++)iA[$]=iA[$]-gJ[$];for(var $=0;$<dO;$++){var gj=iA[$];if(gj<-bc)iA[$]=-bc;else if(gj>bc)iA[$]=bc}if(fp)console.log("summing + cropping",Date.now()-Y);
if(a.bvlT.v.bvlT=="SfBL"){var jG=Math.pow(P*.21,1.22);if(!0)jG=Math.max(jG,2);var eG=q.JS.OF(jG,2);q.JS.t4(iA,gJ,im,eG[0]>>>1);
q.JS.t4(gJ,iA,im,eG[1]>>>1)}if(fp)console.log("blurring",Date.now()-Y);var el=iA,gp=el.slice(0);if(a.useShape.v){var ar=Math.min(100,a.Inpr.v.val+1)/100;
if(jq!="OtrB"&&jq!="InrB")ar=1;var jY=q._8.MQ(a.MpgS.v.Crv.v,2e3),fH=Math.round(2e3/ar);jY=q._8.aqT(jY,fH,jq=="InrB");
var iH=.5/bc;for(var $=0;$<dO;$++){var cz=el[$],cw=.99999*(cz+bc)*iH;el[$]=-bc+2*bc*jY[~~(cw*(fH-1))]}if(fp)console.log("applying shape",Date.now()-Y)}if(a.useTexture.v){var d2=q.R(A*d*4);
cI.ye(a,d2,im,E.add.Patt,J);var eP=q.R(A*d);q.Sk(d2,eP);var c3=q.R(A*d);q.JS.acy(eP,c3,im,1);eP=c3;var hg=P*a.textureDepth.v.val*(1/100)*(1/255);
if(a.InvT.v)hg=-hg;for(var $=0;$<dO;$++)el[$]+=-hg*eP[$];if(fp)console.log("applying texture",Date.now()-Y)}var eQ=(a.bvlT.v.bvlT=="SfBL"?1:.5)*(a.bvlD.v.BESs=="In"?1:-1)*a.srgR.v.val/100;
for(var $=0;$<dO;$++)el[$]*=eQ;if(fp)console.log("scaling",Date.now()-Y);var r=cI.aBX(a,E),gM=r[0],hZ=r[1],w=Math.cos(gM)*Math.cos(hZ),S=-Math.sin(gM)*Math.cos(hZ),ev=Math.sin(hZ),ay=new Float64Array(dO),a$=new Float64Array(dO),g6=jq=="PlEb";
for(var z=0;z<d;z++)for(var s=0;s<A;s++){var $=z*A+s,ik=0,dV=0,kE=1;if(z!=0&&z!=d-1&&s!=0&&s!=A-1){var fG=el[$-A-1],jZ=el[$-A+1],hV=el[$+A-1],kx=el[$+A+1];
ik=-.125*(jZ+2*el[$+1]+kx-(fG+2*el[$-1]+hV));dV=-.125*(hV+2*el[$+A]+kx-(fG+2*el[$-A]+jZ))}else{var iw=el[$];
dV=-(z==0?el[$+A]-iw:z==d-1?iw-el[$-A]:.5*(el[$+A]-el[$-A]));ik=-(s==0?el[$+1]-iw:s==A-1?iw-el[$-1]:.5*(el[$+1]-el[$-1]))}var ic=1/Math.sqrt(ik*ik+dV*dV+1);
ik*=ic;dV*=ic;kE*=ic;var aB=ik*w+dV*S+kE*ev,ge=aB;if(g6)ge=-ik*w-dV*S+kE*ev;if(aB>0)ay[$]=aB;if(ge>0)a$[$]=ge}if(fp)console.log("raycasting",Date.now()-Y);
if(a.Sftn.v.val!=0){q.JS.In(ay,gJ,im,a.Sftn.v.val*.43);var gm=gJ,gJ=ay,ay=gm;if(g6){q.JS.In(a$,gJ,im,a.Sftn.v.val*.43);
var gm=gJ,gJ=a$,a$=gm}else q.N8(ay,a$)}if(fp)console.log("softening",Date.now()-Y);var jY=q._8.MQ(a.TrnS.v.Crv.v,1024);
for(var $=0;$<dO;$++){ay[$]=jY[~~(ay[$]*1024)];a$[$]=jY[~~(a$[$]*1024)]}if(fp)console.log("contour remap",Date.now()-Y);
A=Math.round(A);d=Math.round(d);var fc=q.R(A*d*4);cI.La(fc,a.hglC.v);var bO=q.R(A*d*4);cI.La(bO,a.sdwC.v);
var eu=q.R(A*d*4);cI.La(eu,a.hglC.v);var aQ=q.R(A*d*4);cI.La(aQ,a.sdwC.v);var jf=1/ev,fz=1/(1-ev),iH=1/bc,gr=new Float64Array(1e3);
for(var $=0;$<1e3;$++)gr[$]=Math.pow($*.001,.2);for(var z=0;z<d;z++)for(var s=0;s<A;s++){var $=z*A+s,hK=4*$+3,jU=0,aC=0;
jU=ay[$];aC=a$[$];var hj=Math.max(0,Math.min(.9999,(gp[$]+bc*.993)*iH));hj=gr[Math.floor(hj*1e3)];var g_=hj*(1-Math.min(1,jU*jf)),jI=hj*(1-Math.min(1,(1-jU)*fz)),gH=hj*(1-Math.min(1,aC*jf)),fF=hj*(1-Math.min(1,(1-aC)*fz));
bO[hK]=Math.round(255*g_);fc[hK]=Math.round(255*jI);aQ[hK]=Math.round(255*gH);eu[hK]=Math.round(255*fF)}if(fp)console.log("baking textures",Date.now()-Y);
im=u.rect().clone();im.wI(kd,kd);im.offset(N,e);y={anD:a.bvlS.v.BESl=="strokeEmboss"};var d3=iP.Am(a.hglM.v.BlnM),eB=a.hglO.v.val/100,eI=iP.Am(a.sdwM.v.BlnM),ak=a.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(jq)!=-1){y.Er={tM:fc,SI:im,Nu:d3,bJ:eB};y.nD={tM:bO,SI:im,Nu:eI,bJ:ak}}if(["OtrB","Embs","PlEb"].indexOf(jq)!=-1){y.Hq={tM:eu,SI:im,Nu:d3,bJ:eB};
y.JP={tM:aQ,SI:im,Nu:eI,bJ:ak}}if(fp)console.log(Date.now()-Y)}else if(F=="patternFill"){var j6=u.rect(),a9=q.R(j6.P()*4);
cI.ye(a,a9,j6,E.add.Patt,J);var aq=j6.clone();aq.offset(N,e);y={tM:a9,SI:aq}}else if(F=="ChFX"){var a9=q.R(u.SJ().length*4);
cI.La(a9,a.Clr.v);var P=a.blur.v.val,fU=u.rect().clone();fU.wI(P,P);var b$=q.R(fU.P()),hW=q.R(fU.P());
q.zc(u.SJ(),u.rect(),hW,fU);q.JS.Bp(hW,b$,fU,P*.43);var gI=q._8.g1(a.MpgS.v.Crv.v,256,!0);q.GZ(b$,gI);
var d_=q.R(u.SJ().length),fI=q.R(u.SJ().length),aP=u.rect().clone();cI.Df(aP,a,E,0);q.zc(b$,fU,d_,aP);
aP=u.rect().clone();cI.Df(aP,a,E,Math.PI);q.zc(b$,fU,fI,aP);var ed=d_.length;for(var $=0;$<ed;$++)a9[4*$+3]=Math.abs(d_[$]-fI[$]);
if(a.Invr.v)for(var $=0;$<ed;$++)a9[4*$+3]=255-a9[4*$+3];var aq=u.rect().clone();aq.offset(N,e);y={tM:a9,SI:aq}}else if(F=="OrGl"){var jH;
if(a.GlwT.v.BETE=="SfBL")jH=u.Zq(R,P-R,!0);else jH=u.aqD(P,v,!0);var dL=jH.SJ,aq=jH.By,jN=dL.slice(0);
cI.azL(dL,a);var a9=q.R(aq.P()*4);if(a.Grad==null){cI.La(a9,a.Clr.v);cI.Us(dL,a,!1)}else{cI.Us(dL,a,null);
var ep={og:dL,$L:255,z0:0,QM:aq};cI.xQ(a,a9,aq,E,ep);var fl=a.Nose.v.val/100,bl=aq.m;for(var $=0;$<jN.length;
$++){var ij=255,je=jN[$];if(je<32){var gq=(je+jN[$-1]+jN[$+1]+jN[$-bl]+jN[$+bl])*.2-1;ij=Math.min(255,Math.round(Math.max(0,gq)*8))}dL[$]=ij}cI.aeM(dL,a)}q.qR(dL,a9,3);
aq.offset(N,e);y={tM:a9,SI:aq}}else if(F=="IrGl"){var jH;if(a.GlwT.v.BETE=="SfBL")jH=u.Zq(R,P-R,!1);
else jH=u.aqD(P,v,!1);var dL=jH.SJ,aq=jH.By;cI.azL(dL,a);if(a.glwS.v.IGSr=="SrcC")q.Mr(dL);var a9=q.R(aq.P()*4);
if(a.Grad==null){cI.La(a9,a.Clr.v);cI.Us(dL,a,!0)}else{cI.Us(dL,a,null);var ep={og:dL,$L:255,z0:0,QM:aq};
cI.xQ(a,a9,aq,E,ep);dL.fill(255);cI.aeM(dL,a)}q.qR(dL,a9,3);aq.offset(N,e);y={tM:a9,SI:aq}}else if(F=="FrFX"){var iB=cI.KP(a),eL=iB[0],at=iB[1],aq=u.rect().clone(),iu=null,hS=null;
aq.wI(Math.ceil(i),Math.ceil(i));if(at>0){var jH=u.Zq(at,0,!0);hS=jH.SJ;if(hS.length<aq.P()){hS=q.R(aq.P());
q.zc(jH.SJ,jH.By,hS,aq)}}if(eL>0){var jH=u.Zq(eL,0,!1);iu=q.R(aq.P());iu.fill(255);q.zc(jH.SJ,jH.By,iu,aq)}aq.offset(N,e);
var a9=q.R(aq.P()*4),dW=a.PntT.v.FrFl;if(dW=="SClr")cI.La(a9,a.Clr.v);if(dW=="GrFl")cI.xQ(a,a9,aq,E,u.aq9(eL,at));
if(dW=="Ptrn")cI.ye(a,a9,aq,E.add.Patt,J);var iM=a.overprint,aH=iM?iM.v:!1;if(aH){var ad=iu?iu:hS;if(iu&&hS)q.ZP.Kc(iu,hS,ad);
q.qR(ad,a9,3)}y={tM:a9,SI:aq,Nm:hS,as:iu,a82:aH}}B.type[F].push(y);if(F=="ebbl"){if(y.Er)B.all.push(y.Er,y.nD);
if(y.Hq)B.all.push(y.Hq,y.JP)}else{y.Nu=iP.Am(a.Md.v.BlnM);y.bJ=a.Opct.v.val/100,B.all.push(y)}}}return B};
cI.gk=function(x){var J=1/Math.sqrt(x.x*x.x+x.y*x.y+x.fj*x.fj);x.x*=J;x.y*=J;x.fj*=J};cI.a3o=function(x,J){return{x:x.y*J.fj-x.fj*J.y,y:x.fj*J.x-x.x*J.fj,fj:x.x*J.y-x.y*J.x}};
cI.am$=function(x,J){return x.x*J.x+x.y*J.y+x.fj*J.fj};cI.aeM=function(x,J){var o=J.Nose.v.val/100;if(o>0)for(var $=0;
$<x.length;$++){var c=x[$];c=Math.min(510-(1+o)*q.style.eV($),c);x[$]=c}};cI.Aw=function(x){var J=cI.N1(),o=x.v9,c=!1;
for(var $=0;$<32;$+=8)if(o[$]+o[$+1]+o[$+4]+o[$+5]!=0||o[$+2]+o[$+3]+o[$+6]+o[$+7]!=1020)c=!0;if(c){o=o.slice(0);
for(var $=0;$<40;$+=4){var E=o[$]/255,b=o[$+1]/255,l=o[$+2]/255,i=o[$+3]/255;o[$]=E-.001;o[$+1]=E==b?1e6:1/(b-E);
o[$+2]=l==i?-1e6:1/(l-i);o[$+3]=i+.001}}var F=x.add.iOpa!=null?x.add.iOpa/255:J.fill,k=x.add.vstk;if(k&&!k.fillEnabled.v&&(!k.strokeEnabled.v||k.strokeStyleLineWidth.v.val==0))F=0;
return{fill:F,UJ:c?o:null,kZ:x.add.brst!=null?x.add.brst:J.kZ,atz:x.add.knko!=null?x.add.knko:J.atz,style:!1,R3:!1}};
cI.N1=function(){return{fill:1,UJ:null,kZ:[1,1,1],atz:0,style:!1,R3:!1}};cI.a26=function(x,J,o,c,E,b,l,i){if(i==null)i=1;
if(l==null)l=new cW;var F=x.Gc[1].m,k=x.Gc[1].e,U=new cW,I=E<2;if(I)U.translate(-F/2,-k/2);if(E==0){i*=Math.max(o/F,c/k)}else if(E==1){i*=Math.min(o/F,c/k)}else if(E==2){U.scale(1/F,1/k);
U.concat(l);U.scale(o,c)}else if(E==3){i=i}U.scale(i,i);if(I)U.translate(o/2,c/2);U.concat(b);J.Ptrn.v.Idnt.v=x.id;
J.Scl.v.val=Math.round(100*U.z1());J.Angl.v.val=Math.round(180*Math.atan2(-U.J,U.V)/Math.PI);J.Algn.v=!0;
var V=J.phase.v;V.Hrzn.v=Math.round(U.Iw);V.Vrtc.v=Math.round(U.s7)};cI.$N=function(x,J){if(J==null)return null;
var o=x.Idnt.v,c=x.Nm.v;for(var $=0;$<J.length;$++)if(J[$].id==o)return J[$];for(var $=0;$<J.length;
$++)if(J[$].name==c)return J[$];return null};cI.aBt=function(x,J,o){var c=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var $=0;$<c.length;$++){var E=x.v[c[$]].v;for(var b=0;b<E.length;b++)if(E[b].v.Ptrn)J.K0(cI.$N(E[b].v.Ptrn.v,o))}};
cI.af8=function(x,J,o){var c=["patternFillMulti","ebblMulti","frameFXMulti"];for(var $=0;$<c.length;
$++){var E=x.v[c[$]].v;for(var b=0;b<E.length;b++)if(E[b].v.Ptrn){var l=E[b].v.Ptrn.v,i=cI.$N(l,o),F=cI.$N(l,J.add.Patt);
if(i==null&&F)o.push(F)}}};cI.ye=function(x,J,o,c,E){var b=cI.$N(x.Ptrn.v,c);if(b!=null&&!o.Kx()){var l=b.Gc,i=l[0],F=l[1],k=0;
q.mw(l);var U=(x.Scl?x.Scl.v.val:100)/100;while((U<.3||U==.5)&&l[k+2]){U*=F.m/l[k+3].m;k+=2;i=l[k];F=l[k+1]}var I=q.scale.ye(i,F.m,F.e),V=x.phase?x.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},u=x.Angl?x.Angl.v.val:0,N=-o.x+V.Hrzn.v-1,e=-o.y+V.Vrtc.v-1;
if(x.Algn!=null&&!x.Algn.v){}else{N+=E.x;e+=E.y}if(J)q.scale.att(I,J,o.m,o.e,U,U,N+1,e+1,u*Math.PI/180);
else return[I,U,N+1,e+1,u*Math.PI/180]}};cI.xQ=function(x,J,o,c,E,b){if(b==null)b=o;var l=x.Type?x.Type.v.GrdT:"shapeburst",i=x.Algn&&x.Algn.v?b:new ha(0,0,c.m,c.e),F=x.Angl?q.r.Fi(x,i):[new ck(0,0),new ck(100,0)],k=F[0].x,U=F[0].y,I=F[1].x-k,V=F[1].y-U,u=Math.sqrt(I*I+V*V);
u=1/(2*u*u);var N=[I*u,V*u,-V*u,I*u],e=x.Rvrs?x.Rvrs.v:!1,B=x.Dthr?x.Dthr.v:!1;q.r.VB(x.Grad.v,J,o,N,k,U,e,bs.r.types.indexOf(l),0,0,E,B)};
cI.a9b=function(x,J,o){for(var $=0;$<x.all.length;$++){var c=x.all[$];c.mF=c.SI.clone();c.mF.offset(J,o)}};
cI.aj6=function(x,J,o,c,E,b){var l=ai.mB?cI.a8u:cI.atU;cI.a9b(J,o.x,o.y);var i=J.type.DrSh;for(var $=0;
$<i.length;$++)if(!i[$].ade)l(i[$],c,E,b)};cI.a8q=function(x,J,o,c,E,b,l,i,F,k){var U=o,I=ai.mB?cI.a8u:cI.atU,V=ai.mB?ai.l.qB:q.l.UH,u;
u=J.type.DrSh;for(var $=0;$<u.length;$++)if(u[$].ade)I(u[$],c,E,b);u=J.type.St3D;for(var $=0;$<u.length;
$++)I(u[$],c,E,b);u=J.type.OrGl;for(var $=0;$<u.length;$++)I(u[$],c,E,b);var N="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var e=0;e<N.length;e++){var u=J.type[N[e]];for(var $=0;$<u.length;$++)I(u[$],l,U,b)}var B=J.type.ebbl[0],j=B!=null&&B.anD;
u=J.type.FrFX;for(var $=0;$<u.length;$++){var T=u[$];hY.KK.zc(i,k,F,k,b);I(T,F,k,b);if(j&&$==u.length-1){if(B.JP)I(B.JP,F,k,b);
if(B.Hq)I(B.Hq,F,k,b);if(B.nD)I(B.nD,F,k,b);if(B.Er)I(B.Er,F,k,b)}if(T.a82){if(T.as||T.Nq){I(T,l,U,b)}if(T.Nm||T.Zd){I(T,c,E,b)}}else{if(T.as||T.Nq)V(F,k,l,U,ai.mB?T.Nq:T.as,T.mF,0,b,1);
if(T.Nm||T.Zd)V(F,k,c,E,ai.mB?T.Zd:T.Nm,T.mF,0,b,1)}}if(!j&&B!=null){if(B.JP)I(B.JP,c,E,b);if(B.Hq)I(B.Hq,c,E,b);
if(B.nD)I(B.nD,l,U,b);if(B.Er)I(B.Er,l,U,b)}};cI.atU=function(x,J,o,c){var E=cI.N1();E.fill=x.bJ;E.style=!0;
q.l.j6(x.Nu,x.tM,x.mF,J,o,c,1,E)};cI.a8u=function(x,J,o,c){var E=cI.N1();E.fill=x.bJ;E.style=!0;ai.l.aD(x.Nu,x.qE,x.mF,J,o,c,1,E)};
cI.azL=function(x,J){var o=1-J.Inpr.v.val/100,c=1+Math.tan(o*(Math.PI/2)),E=x.length;for(var $=0;$<E;
$++)x[$]=Math.min(255,Math.round(x[$]*c))};cI.Us=function(x,J,o,c){var E=J.blur.v.val,b=Math.round(E*(J.Ckmt.v.val/100));
if(E>b){var l=q._8.g1(J.TrnS.v.Crv.v,256,c!=!0);q.GZ(x,l)}if(o!=null&&J.Nose.v.val>0)q.style.aX(x,J.Nose.v.val/100,o)};
cI.La=function(x,J,o,c){if(o==null)o=255;var E=q.r.fL(J);if(c!=null){E.o=Math.round(E.o*c);E.I=Math.round(E.I*c);
E.J=Math.round(E.J*c)}var b=o<<24|E.J<<16|E.I<<8|E.o,l=new Uint32Array(x.buffer);l.fill(b)};cI.Df=function(x,J,o,c,E){var b=J.uglg&&J.uglg.v?o.xb():J[E?E:"lagl"].v.val;
b=b*Math.PI/180+c;var l=Math.cos(b)*J.Dstn.v.val,i=Math.sin(b)*J.Dstn.v.val;x.x-=Math.round(l);x.y+=Math.round(i)};
cI.aBX=function(x,J){var o=x.uglg&&x.uglg.v?J.xb():x.lagl.v.val;o=o*(Math.PI/180);var c=x.uglg&&x.uglg.v?J.kA():x.Lald.v.val;
c=c*(Math.PI/180);return[o,c]};cI.xE=function(x){if(x==null)return null;var J=x.frameFXMulti.v;if(J.length==0)return null;
J=J[0].v;var o=bs.Ao.Bt();cI.auo(J,o);return o};cI.auo=function(x,J){var o=bs.stroke.jI.indexOf(x.PntT.v.FrFl),c=[bs.MA,bs.Xp,bs.X2][o],E=J.strokeStyleContent.v={classID:bs.Ao.Ce[o]};
for(var $=0;$<c.length;$++)E[c[$]]=x[c[$]];J.strokeEnabled=x.enab;J.strokeStyleLineWidth=x.Sz;J.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bs.Ao.lS[bs.stroke.types.indexOf(x.Styl.v.FStl)];
J.strokeStyleOpacity=x.Opct;J.strokeStyleBlendMode=x.Md;J.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
cI.N9=function(x,J){var o=[];for(var $=0;$<x.length;$++)o.push({t:"UntF",v:{type:"#Nne",val:Math.round(x[$]*J)}});
return o};cI.a8Z=function(x,J){var o=x.opacity/255*(x.add.iOpa?x.add.iOpa/255:1),c=x.add.TySh,E=x.Zk()||x.A0()&&x.add.vmsk&&x.add.vstk.fillEnabled.v&&x.add.vstk.strokeEnabled.v;
if(c){var b=c.TC.EngineDict.StyleRun.RunArray,l=b[0].StyleSheet.StyleSheetData,i=0;if(l.FillFlag)i++;
if(l.StrokeFlag)i++;if(l._FillBackgroundFlag)i++;if(i>1)E=!0}return E&&(J||o!=1||x.n5!="pass"&&x.n5!="norm")};
cI.vI=function(x,J,o,c){this.Rt=J.clone();this.adr=J.clone();this.adr.wI(o,o);if(c){this.Rt.wI(1,1);
this.Zu=q.R(this.Rt.P());q.zc(x,J,this.Zu,this.Rt)}else this.Zu=x;this.lV=null;this.FN=null;this.BW=null};
cI.vI.prototype.SJ=function(){return this.Zu};cI.vI.prototype.rect=function(){return this.Rt};cI.vI.prototype.S_=function(){return this.adr};
cI.vI.prototype.PM=function(){if(this.lV)return this.lV;this.lV=this.SJ().slice(0);q.Mr(this.lV);return this.lV};
cI.vI.prototype.BC=function(){if(this.FN)return this.FN;this.FN=new Float64Array(this.rect().P());q.style.EC(this.PM(),this.FN,this.rect().m,this.rect().e);
return this.FN};cI.vI.prototype.oZ=function(){if(this.BW)return this.BW;var x=this.S_(),J=q.R(x.P());
q.zc(this.SJ(),this.rect(),J,x);this.BW=new Float64Array(x.P());q.style.EC(J,this.BW,x.m,x.e);return this.BW};
cI.vI.prototype.aq9=function(x,J){var o={$L:-J,z0:x,QM:null,og:null};if(J==0){o.QM=this.rect();o.og=this.BC();
return o}var c=this.oZ().slice(0),E=this.S_();o.QM=E;o.og=c;for(var $=0;$<c.length;$++)c[$]=-c[$];if(x==0)return o;
var b=this.BC(),l=this.rect();for(var i=0;i<l.e;i++)for(var F=0;F<l.m;F++){var k=i*l.m+F,U=(i+l.y-E.y)*E.m+F+l.x-E.x;
c[U]+=b[k]}return o};cI.vI.prototype.Zq=function(x,J,o){var c=Math.ceil(x+J),E={By:this.rect().clone(),SJ:null};
E.By.wI(c,c);E.SJ=q.R(E.By.P());if(x==0&&J==0)q.N8(o?this.SJ():this.PM(),E.SJ);else{var b=q.R(E.By.P());
q.zc(this.SJ(),this.rect(),b,E.By);if(!o)q.Mr(b);if(x!=0){if(o)q.style.dY(b,E.By,this.oZ(),this.S_(),x);
else q.style.dY(b,E.By,this.BC(),this.rect(),x)}if(J!=0)q.JS.Bp(b,E.SJ,E.By,Math.max(1,J*.43));else E.SJ=b}return E};
cI.vI.prototype.aqD=function(x,J,o){var c=x*(J-.5),E={By:this.rect().clone(),SJ:null};if(o)E.By.wI(x,x);
E.SJ=q.R(E.By.P());var b=E.By.m,l=E.By.e,i=o?this.oZ():this.BC(),F=o?this.S_():this.rect(),k=E.By,U=k.Kc(F),b=U.m,l=U.e,I=U.x-k.x,V=U.y-k.y,u=U.x-F.x,N=U.y-F.y,e=1-J*2;
for(var B=0;B<l;B++)for(var j=0;j<b;j++){var T=i[(B+N)*F.m+j+u],a=T/x;E.SJ[(B+V)*k.m+j+I]=Math.max(0,Math.min(255,255-255*((a+e)/(1+e))))}return E};
cI.ao5=function(x,J,o,c){var E=x.Lefx,b=x.blendOptions;if(E){var l=J.add.lmfx;if(o==null)o=l?l.Scl.v.val:100;
J.add.lmfx=JSON.parse(JSON.stringify(E.v));if(J.add.lmfx.Scl==null)J.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
cI.bw(J.add.lmfx,o/J.add.lmfx.Scl.v.val);if(l)J.add.lmfx.Scl.v.val=l.Scl.v.val;var i=E.v.gagl;if(i&&c)c.Ok(i.v.val)}else delete J.add.lmfx;
if(b){b=b.v;if(b.Md)J.n5=iP.Am(b.Md.v.BlnM);if(b.Opct)J.opacity=Math.round(b.Opct.v.val*255/100);if(b.fillOpacity)J.add.iOpa=Math.round(b.fillOpacity.v.val*255/100);
if(b.Blnd){var F=[];for(var $=0;$<10;$++)F.push(0,0,255,255);var k=b.Blnd.v,U="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var $=0;$<k.length;$++){var I=k[$].v,V=8*["Gry","Rd","Grn","Bl"].indexOf(I.Chnl.v[0].v.enum);for(var u=0;
u<8;u++){F[V+u]=I[U[u]].v}}J.v9=F}}};cI.ahf=function(x){var J="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),o=[],c=x.v9;
for(var $=0;$<4;$++){var E=$*8;if(c[E]+c[E+1]+c[E+4]+c[E+5]==0&&c[E+2]+c[E+3]+c[E+6]+c[E+7]==4*255)continue;
var b={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][$]}}]}}};
o.push(b);for(var l=0;l<8;l++)b.v[J[l]]={t:"long",v:c[$*8+l]}}var i={classID:"blendOptions"};if(x.n5!="norm")i.Md={t:"enum",v:{BlnM:iP.V0(x.n5)}};
if(x.opacity!=255)i.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(x.opacity*100/255)}};if(x.add.iOpa!=null)i.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(x.add.iOpa*100/255)}};
if(o.length!=0)i.Blnd={t:"VlLs",v:o};var F={OA:{classID:"null",Idnt:{t:"TEXT",v:hk.si()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},oe:{classID:"Styl",blendOptions:{t:"Objc",v:i}}},k=x.add.lmfx;
if(k)F.oe.Lefx={t:"Objc",v:k};return F};function aR(){}aR.dw=function(x){return JSON.parse(JSON.stringify(x))};
aR.iY=function(x){var J=aR.dw(aR.azS),o=J.Brsh.v;if(x!=null){delete o.Hrdn;o.classID="sampledBrush";
o.sampledData={t:"TEXT",v:x}}return J};aR.azS={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
aR.a5k=function(x,J){var o=["opVr","szVr"],c=["usePaintDynamics","useTipDynamics"];for(var $=0;$<2;$++){var E=o[$];
if(x[E]==null)x[E]=JSON.parse(aR.gk.R$[E]);x[E].v.bVTy.v=J[$]?2:0;if(J[$])x[c[$]].v=!0}aR.gk.aAr(x)};
aR.gk={};aR.gk.check=function(x){var J=aR.gk.e7;for(var $=0;$<J.length;$++)if(x[J[$]]==null)x[J[$]]=JSON.parse(aR.gk.R$[J[$]]);
var o=[];for(var $=0;$<J.length;$++)o.push(J[$]);var c=aR.gk.aqv;for(var $=0;$<c.length;$++){var E=c[$][0],b=c[$][1],l=!0;
for(var i=0;i<E.length;i++)l=l&&x[E[i]].v==!0;if(l)for(var i=0;i<b.length;i++){if(x[b[i]]==null)console.log("Missing conditional parameter "+b[i]);
else o.push(b[i])}}for(var F in x)if(o.indexOf(F)==-1&&F!="toolOptions")console.log("Extra parameter "+F);
x=x.Brsh.v;J=aR.gk.jQ.e7;for(var $=0;$<J.length;$++)if(x[J[$]]==null)x[J[$]]=JSON.parse(aR.gk.jQ.R$[J[$]]);
o=[];for(var $=0;$<J.length;$++)if(x[J[$]])o.push(J[$]);else console.log("Missing default parameter "+J[$]);
c=aR.gk.jQ.afu[x.classID];for(var $=0;$<c.length;$++)if(x[c[$]]==null&&c[$]!="dtipsGridSize"&&c[$]!="dtipsErodibleTipHeightMap"&&x.acn!=1)console.log("Missing conditional parameter "+c[$]);
else o.push(c[$]);for(var F in x)if(o.indexOf(F)==-1)console.log("Extra parameter "+F)};aR.gk.aAr=function(x){var J=aR.gk.aqv;
for(var $=0;$<J.length;$++){var o=J[$][0],c=J[$][1],E=!0;for(var b=0;b<o.length;b++)E=E&&x[o[b]]&&x[o[b]].v==!0;
if(E){for(var b=0;b<c.length;b++)if(x[c[b]]==null){x[c[b]]=JSON.parse(aR.gk.R$[c[b]])}}else for(var b=0;
b<c.length;b++)if(x[c[b]]!=null){delete x[c[b]]}}};aR.gk.jQ={};aR.gk.jQ.e7="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
aR.gk.jQ.R$={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};aR.gk.jQ.afu={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
aR.gk.aqv=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
aR.gk.e7="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
aR.gk.R$={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function g9(x,J){this.ayU=x;this.o7=J==null?0:J;this.dir=0}g9.prototype.hg=function(x,J){var o=this.ayU,c=new ck(x.x-o.x,x.y-o.y),E=new cW;
E.rotate(-this.o7);c=E.iI(c);if(this.dir==0&&!o.U5(x))this.dir=Math.abs(c.x)<Math.abs(c.y)?1:2;if(J.S(dG.uJ)){if(this.dir==1)c.x=0;
if(this.dir==2)c.y=0}E.Mr();c=E.iI(c);var b=new ck(o.x+c.x,o.y+c.y);return b};g9.prototype.asE=function(x){if(x.S(dG.uJ))return this.dir;
return 0};var c7=function(){function x(){this.ayV={}}x.agG=function(J,o){var c=J.clone();c.Iw-=Math.floor(c.Iw);
c.s7-=Math.floor(c.s7);var E=new ck(o,0),b=new ck(0,o),l=c.iI(E),i=c.iI(b),F=new ck(c.Iw,c.s7);return[l,i,F]};
x.amO=function(J,o){var c=ck.q6;return c(J[0],o[0])+c(J[1],o[1])+c(J[2],o[2]);return dsum};x.prototype.ajk=function(J){var o=this.ayV,c=o[J];
if(c==null)c=o[J]={kc:[],P4:0,P:0,agm:0,amC:0};c.P4=Date.now();while(Object.keys(o).length>3){var E="",b=Date.now();
for(var l in o){var i=o[l].P4;if(i<b){b=i;E=l}}delete o[E]}return c};x.prototype.a3h=function(J,o){var c=J.kc,E,b=1e6;
for(var $=0;$<c.length;$++){var l=c[$],i=x.amO(l._M,o);if(i<b){E=l;b=i}}return E};x.prototype.a06=function(J,o){var c=J.kc;
c.push(o);J.P+=o.rect.P();if(c.length>1e3||J.P>100*100*1600){console.log("pruning",J.P,c.length);c.sort(function(b,l){return l.P4-b.P4});
while(c.length>500||J.P>100*100*800){var E=c.pop();J.P-=E.rect.P()}}};return x}();function bd(x,J,o,c,E,b,l,i,F){this.I2=J;
this.Uc=o;this.xR=b;this.T1=c;this.GE=null;this.TN=null;this.x_=0;this.a9L=0;this.aiF=0;this.N_=0;this.MH=0;
this.XE=F==null?Math.floor(Math.random()*16777215):F;this.vo=F==null?Math.floor(Math.random()*16777215):F;
this.XO=new ha;this.w1=new ha;if(i!=null){this.tM=i}else{var k=bd.aw4;if(k.length!=l.P()*4)k=q.R(l.P()*4);
else k.fill(0);this.tM=bd.aw4=k}this.rect=l.clone();this.LK=[];this.BR=[];this.uE=null;this.Q6=0;this.J=null;
this.ax6="";this.q9=null;this.aiM(x,E)}bd.aw4=q.R(16);bd.prototype.aiM=function(x,J){this.Q6=J;this.J=x;
this.ax6=JSON.stringify(x)+JSON.stringify(this.T1.Xl);this.q9=bd.a7L(this.J,this.I2,this.Uc)};bd.prototype.moveTo=function(x,J,o){o=this.acj(o);
this.x_=o;var c=new ck(x,J),E=this.J.Brsh.v.Dmtr.v.val;this.GE=c.clone();this.TN=c.clone();this.uE=c.clone();
this.LK=[x,J];this.BR=[o];if(this.T1.rU!=bd.zL){var b=this.J.angleDynamics,l=b?b.v.bVTy.v==6:!1;this.cR(l?new ha:this.aff(c,this.a3S(o),o,new ck(0,0)))}this.N_=c.clone()};
bd.prototype.lineTo=function(x,J,o){o=this.acj(o);var c=this.LK,E=c.length,b=c[E-2],l=c[E-1];if(x==b&&J==l)return;
var i=this.J.Brsh.v.Dmtr.v.val,F=Math.ceil(i)+1,k=new ha(Math.round(b),Math.round(l),0,0);k.wI(F,F);
var U=new ha(Math.round(x),Math.round(J),0,0);U.wI(F,F);this.LK.push(x,J);this.BR.push(o);E+=2;if(E>=6)this.cR(this.aux(E))};
bd.prototype.acj=function(x){if(x==null)x=1;x=Math.max(.05,Math.min(5,x));if(isNaN(x)){alert("Pressure is not a number");
throw"e"}return x};bd.prototype.cR=function(x){this.XO=x;this.w1=this.w1.k7(x)};bd.prototype.finish=function(){var x=this.LK,J=x.length,o;
if(J==4)o=this.ym(x[J-2],x[J-1],this.BR[(J>>1)-1],!0);if(J>4)o=this.aux(J+2);if(o)this.cR(o)};bd.prototype.mZ=function(){return this.rect.clone()};
bd.prototype.nd=function(){return this.XO.Kc(this.rect)};bd.prototype.ZS=function(){return this.w1.Kc(this.rect)};
bd.prototype.BE=function(){return this.tM};bd.prototype.aux=function(x){var J=this.LK,o=this.BR,c=J[x-6],E=J[x-5],b=J[x-4],l=J[x-3],i=o[(x>>1)-3],F=o[(x>>1)-2],k=new ck(0,0),U=new ck(0,0);
if(8<=x)k=bd.a37(J[x-8],J[x-7],c,E,b,l);if(x<=J.length)U=bd.a37(J[x-2],J[x-1],b,l,c,E);var I=c+k.x,V=E+k.y,u=b+U.x,N=l+U.y,e=new ha,B=this.aDo()?1:10;
for(var $=0;$<B;$++){var j=($+1)/B,T=1-j,a=T*T*T*c+3*j*T*T*I+3*j*j*T*u+j*j*j*b,P=T*T*T*E+3*j*T*T*V+3*j*j*T*N+j*j*j*l,v=this.ym(a,P,i+j*(F-i));
e=e.k7(v)}return e};bd.a37=function(x,J,o,c,E,b){var l=x-o,i=J-c,F=E-o,k=b-c,U=Math.sqrt(l*l+i*i),I=Math.sqrt(F*F+k*k),V=Math.acos((l*F+i*k)/(U*I))/Math.PI,u=.35,N=.1;
V=N+V*(u-N);var e=E-x,B=b-J,j=Math.sqrt(e*e+B*B),T=V*I/j;return new ck(e*T,B*T)};bd.prototype.ym=function(x,J,o,c){var E=new ha,b=this.T1.a4g;
if(b==null)b=0;if(b==0||c){E=this.a2T(x,J,o);return E}var l=this.uE,i=x-l.x,F=J-l.y,k=Math.sqrt(i*i+F*F);
i/=k;F/=k;if(k>b){var U=l.x+i*(k-b),I=l.y+F*(k-b);E=this.a2T(U,I,o);this.uE.DQ(U,I)}return E};bd.prototype.aDo=function(){var x=this.J,J=x.Brsh.v.Dmtr.v.val;
return this.T1.Xl&&J==1};bd.prototype.a2T=function(x,J,o){var c=new ha,E=new ck(x,J),b=this.T1.rU,l=E._u(this.TN);
l.normalize(1);var i=ck.q6(this.TN,E),F=-this.a9L,k=this.TN.clone();if(this.aDo()){if(i>.99){var U=this.TN;
bd.asQ(U,E,this.tM,this.rect,this.b8(this.J));c=q.O.ql([U.x,U.y,E.x,E.y]);F=i}else E=this.TN}else while(!0){var I=this.x_+(o-this.x_)*(Math.max(0,F)/i),V=this.a3S(I),u=this.a1r()*(V+this.aiF)/2*this.q9.ajG;
if(b==bd.zL)u=1;u=Math.max(u,.5);if(F+u<i){F+=u;this.MH+=u;var N=new ck(this.TN.x+l.x*F,this.TN.y+l.y*F),j=1;
if(b==bd.zL){var e=k.clone();e.x+=l.x>0?1:-1;var B=k.clone();B.y+=l.y>0?1:-1;if(ck.q6(e,N)<ck.q6(B,N))N=e;
else N=B;F=ck.q6(N,this.TN)}if(this.J.useScatter.v==!0){j=this.J.Cnt.v;var T=this.J.countDynamics.v.jitter.v.val/100,a=T*(-1+2*this.sX());
j+=Math.round(j*a)}for(var $=0;$<j;$++){var P=this.aff(N,V,o,l);c=c.k7(P)}k=N}else break}this.a9L=i-F;
this.TN=E;this.x_=o;return c};bd.prototype.a1r=function(){var x=this.J.Brsh.v,J=x.Spcn.v.val,o=Math.max(5,x.Rndn.v.val);
return o/100*(J/100)};bd.prototype.a3S=function(x){var J=this.J,o=J.Brsh.v.Dmtr.v.val;if(J.useTipDynamics.v){var c=o*(J.minimumDiameter.v.val/100);
o=c+(o-c)*(1-this.sX(this.vo)*(J.szVr.v.jitter.v.val/100));o*=bd.J6(J,"szVr",x,this.MH)}return o};bd.J6=function(x,J,o,c){var E=1,b=x[J].v,l=b.bVTy.v,i=b.fStp.v;
if(l==1)E*=Math.max(0,(i-c)/i);if(l==2)E*=o;return E};bd.prototype.aff=function(x,J,o,c){var E=this.T1.c8,e=0;
E=Math.min(1,E);var b=this.J,l=this.J.Brsh.v,i=l.Dmtr.v.val,F=this.T1,k=F.rU,U=F.aqs,I=this.q9.Gc[1],V=new cW;
V.translate(-I.m/2,-I.e/2);V.scale(1/this.q9.a74,1/this.q9.a74);V.scale(J/i,J/i);V.scale(1,Math.max(5,l.Rndn.v.val)/100);
if(b.usePaintDynamics&&b.usePaintDynamics.v){var u=b.opVr.v.jitter.v.val/100,N=b.prVr.v.jitter.v.val/100;
E*=1-this.sX()*u;E*=1-this.sX()*N;E*=bd.J6(b,"opVr",o,this.MH)*bd.J6(b,"prVr",o,this.MH)}if(b.useTipDynamics.v){var B=b.angleDynamics.v,j=b.minimumRoundness.v.val/100;
V.scale(1,j+(1-j)*Math.round(100-this.sX()*b.roundnessDynamics.v.jitter.v.val)/100);e+=(-.5+this.sX())*4*Math.PI*(B.jitter.v.val/100);
e+=bd.J6(b,"angleDynamics",o,this.MH)*2*Math.PI;if(B.bVTy.v==6)e+=Math.atan2(-c.y,c.x)}e+=l.Angl.v.val*(Math.PI/180);
V.rotate(e);if(b.useScatter.v){var T=(-1+2*this.sX())*b.scatterDynamics.v.jitter.v.val/100;V.translate(-T*J*c.y,T*J*c.x)}V.translate(x.x,x.y);
var a=this.aCo(V,x,J),P=a.rect.clone();if(k==null){var v=this.b8(b);q.xj(a.ss,Math.round(v.J*255)<<16|Math.round(v.I*255)<<8|Math.round(v.o*255)<<0,4278190080);
if(this.w1.Kx()&&this.rect.U5(a.rect)&&E==1)this.tM=a.ss.slice(0);else{var R=-1,y=2,t=-1,g=2;if(!F.Yb){R=t=0;
y=g=1}for(var H=t;H<g;H++)for(var _=R;_<y;_++){var Y=a.rect.clone();Y.x+=_*this.rect.m;Y.y+=H*this.rect.e;
if(Y.$G(this.rect)){P=P.k7(Y);q.l.a4s(a.ss,Y,this.tM,this.rect,Y,E)}}}}if(k==bd.zL){var K=new ck(a.rect.x+a.rect.m/2,a.rect.y+a.rect.e/2),f=Math.round(K.x-this.N_.x),m=Math.round(K.y-this.N_.y),C=a.rect.clone();
C.offset(-f,-m);var Z=C.Kc(this.rect);Z.offset(f,m);q.St(this.tM,this.rect,a.ss,C);q.l.azp(a.ss,a.rect,this.tM,this.rect,a.nt,a.rect,E)}if(k==bd.V3||k==bd.rN||k==bd.B2){var A=a.rect.Kc(this.rect),d;
if(A.U5(a.rect))d=a.nt;else{d=q.R(A.P());q.zc(a.nt,a.rect,d,A)}var G=q.R(A.P()*4);q.St(this.tM,this.rect,G,A);
if(k==bd.rN){var r=G.slice(0),X=q.wh.el([-1,-1,-1,-1,25,-1,-1,-1,-1]);q.wh.eh(G,r,A.m,A.e,X,0);q.N8(r,G)}else if(k==bd.B2){var w=fn.Bt("UnsM");
w.Amnt.v.val=15;w.Thsh.v=0;w.Rds.v.val=5;var r=q.R(G.length);fn.fa("UnsM",{buffer:G,rect:A},w,0,0,{buffer:r,rect:A});
q.N8(r,G)}else{fn.OI(1,q.JS.lM,G,A)}q.l.azp(G,A,this.tM,this.rect,d,A,E)}this.aiF=J;this.N_=K;this.vo++;
return P};bd.prototype.b8=function(x){var J=bd.ax8(this.Q6);if(x.useColorDynamics&&x.useColorDynamics.v){var o=1-this.sX()*x.clVr.v.jitter.v.val/100,c=bd.ax8(this.xR);
J.o=o*J.o+(1-o)*c.o;J.I=o*J.I+(1-o)*c.I;J.J=o*J.J+(1-o)*c.J;var E=(-.5+this.sX())*x.H.v.val/100,b=(-1+2*this.sX())*x.Strt.v.val/100,l=(-1+2*this.sX())*x.Brgh.v.val/100,i=q.tu(J.o,J.I,J.J);
i.ao=(i.ao+E+1)%1;i.Rw=i.Rw+b;if(i.Rw<0)i.Rw=-i.Rw;if(i.Rw>1)i.Rw=1-(i.Rw-1);i.fz=i.fz+l;if(i.fz<0)i.fz=-i.fz;
if(i.fz>1)i.fz=1-(i.fz-1);J=q.qf(i.ao,i.Rw,i.fz)}return J};bd.prototype.gk=function(x){return Math.max(0,Math.min(1,x))};
bd.prototype.sX=function(x){if(x==null){x=this.XE++}return bd.hash(x)};bd.ax8=function(x){return{o:(x>>16&255)/255,I:(x>>8&255)/255,J:(x>>0&255)/255}};
bd.hash=function(x){x=x^61^x>>16;x=x+(x<<3);x=x^x>>4;x=x*668265261;x=x^x>>15;return(x&16777215)/16777215};
bd.a1O=new c7;bd.prototype.aCo=function(x,J,o){var c=Math.sqrt(this.q9.Gc[1].P()),E=c*x.z1(),b=E<10?1:E<50?1.5:E<200?3:8;
if(E<30)b=0;var l=bd.a1O,i=l.ajk(this.ax6),F=this.T1.Xl,k=c7.agG(x,c),U=l.a3h(i,k);if(U&&c7.amO(U._M,k)>b)U=null;
if(U){U.rect.x=Math.round(U.ajn.x+x.Iw);U.rect.y=Math.round(U.ajn.y+x.s7);U.P4=Date.now()}else{var I=Math.round(this.J.Brsh.v.Dmtr.v.val),V;
if(F&&I<=3){V={channel:q.R(I*I),rect:new ha(Math.round(J.x-I/2),Math.round(J.y-I/2),I,I)};V.channel.fill(255)}else if(x.V==1&&x.J==0&&x.xt==0&&x.Lu==1){V={channel:this.q9.Gc[0],rect:this.q9.Gc[1].clone()};
V.rect.x=Math.round(x.Iw);V.rect.y=Math.round(x.s7)}else{if(x.z1()>1e-4)V=n.Y.HK(this.q9.Gc,x)}if(F){for(var $=0;
$<V.channel.length;$++)V.channel[$]=V.channel[$]>127?255:0}if(V==null)V={channel:q.R(0),rect:new ha};
U={ss:q.R(V.rect.P()*4),nt:V.channel,rect:V.rect,ajn:new ck(V.rect.x-x.Iw,V.rect.y-x.s7),_M:k,P4:Date.now()};
q.qR(U.nt,U.ss,3);if(i)l.a06(i,U)}return U};bd.a7L=function(x,J,o){var c,E,b,l=x.Brsh.v.Dmtr.v.val,i=x.Brsh.v.classID;
if(i=="computedBrush"){var F=x.Brsh.v.Hrdn.v.val/100;E=l<100?1.4:1;b=1;c=q.aje.akv(l,F,E)}if(i=="sampledBrush"){var k;
for(var $=0;$<J.length;$++)if(J[$].id==x.Brsh.v.sampledData.v)k=J[$];c=k.Gc;var U=c[1];E=Math.max(U.m,U.e)/l;
b=Math.min(U.m,U.e)/Math.max(U.m,U.e)}return{a74:E,ajG:b,Gc:c}};bd.$H=null;bd.n9=null;bd.dh=function(x,J,o,c,E,b){var l=bd.$H,i=bd.n9;
if(l==null){bd.$H=l=document.createElement("canvas");bd.n9=i=l.getContext("2d")}if(b==null)b=c;if(l.width!=b||l.height!=E){l.width=b;
l.height=E}else i.clearRect(0,0,b,E);i.fillStyle="#000000";i.font=Math.floor(10*n.IJ())+"px sans-serif";
var F=x.Brsh.v.Dmtr.v.val,k=""+F,U=x.useBrushSize;if(U&&U.v)k="---";var I=i.measureText(k);i.fillText(k,(c-I.width)/2,E-2);
var u=c,N=E-10*n.IJ(),e=Math.min(u,N),B=x.Brsh.v.classID;if(B=="computedBrush"){i.translate(u/2,N/2);
i.rotate(-x.Brsh.v.Angl.v.val*Math.PI/180);i.scale(1,.1+.9*x.Brsh.v.Rndn.v.val/100);var j=Math.min(.95*e/2,F/2)+.5,T=.9*x.Brsh.v.Hrdn.v.val/100,a=i.createRadialGradient(0,0,0,0,0,j);
a.addColorStop(T,"rgba(0,0,0,1)");a.addColorStop((.5+T)/1.5,"rgba(0,0,0,.5)");a.addColorStop(1,"rgba(0,0,0,0)");
i.fillStyle=a;i.fillRect(-j,-j,2*j,2*j);i.setTransform(1,0,0,1,0,0)}else if(B=="sampledBrush"){var P,g=0;
for(var $=0;$<J.length;$++)if(J[$].id==x.Brsh.v.sampledData.v)P=J[$];var v=P.Gc;q.PF(v);var R=v[0],y=v[1].m,t=v[1].e;
while((y>u||t>N)&&v[g+2]){g+=2;R=v[g];y=v[g+1].m;t=v[g+1].e}if(y*t!=0){var H=q.R(y*t*4);q.qR(R,H,3);
var _=new ImageData(new Uint8ClampedArray(H.buffer),y,t);i.putImageData(_,Math.round((u-y)/2),Math.round((N-t)/2))}}else{}return l.toDataURL()};
bd.gB=function(x,J,o,c){if(o==0)o=1;var E=x.Brsh.v,b=E.Dmtr.v.val,l=E.Dmtr.v.val=Math.min(c!=null?Math.round(c*2.6):3e3,b*o),i=E.Hrdn?E.Hrdn.v.val/100:1,F=c!=null?c:Math.round(l*(1+.55*(1-i)))+4,I;
F=Math.max(15,Math.min(F,3e3));var k=new ha(0,0,F,F),U=new bd(x,J,null,{c8:1},16711712,0,k);E.Dmtr.v.val=b;
U.moveTo(k.m/2,k.e/2);var V=U.BE(),u=U.mZ();if(k.U5(u))I=V;else{I=q.R(k.P()*4);q.St(V,u,I,k)}return[I,k,l]};
bd.a25=function(x,J,o,c){var E=J.m,b=E>>>1;for(var $=0;$<4;$++){var l=6-$;x[E*(b-l)+b-1]=c;x[E*(b-l)+b]=o;
x[E*(b-l)+b+1]=c;x[E*(b+l)+b-1]=c;x[E*(b+l)+b]=o;x[E*(b+l)+b+1]=c;x[E*(b-1)+b-l]=c;x[E*b+b-l]=o;x[E*(b+1)+b-l]=c;
x[E*(b-1)+b+l]=c;x[E*b+b+l]=o;x[E*(b+1)+b+l]=c}};bd.kO=function(x,J,o,c){var E=bd.gB(x,J,o),b=E[0].slice(0),l=E[1],i=E[2],F=l.P(),k=q.R(F);
q.z$(b,k,3);var U=q.R(F);q.u.aAq(k,U,l,n.IJ()>1.9);if(i<3||q.Ps(U,0)||c&&i>12){bd.a25(U,l,255,0)}var I=[3,5,3,4,8,4,3,5,3];
I=q.wh.el(I);q.wh.Xy(U,k,l.m,l.e,I);q.xj(b,4294967295);q.qR(k,b,3);for(var $=0;$<F;$++)if(U[$]==255){b[$<<2]=b[($<<2)+1]=b[($<<2)+2]=0;
b[($<<2)+3]=255}return{bA:b,By:l,FH:new ck(l.m/2,l.e/2)}};bd.asQ=function(x,J,o,c,E){var b=4278190080|Math.round(E.J*255)<<16|Math.round(E.I*255)<<8|Math.round(E.o*255)<<0;
o=new Uint32Array(o.buffer);var l=Math.floor(x.x),i=Math.floor(x.y),F=Math.floor(J.x),k=Math.floor(J.y),U=Math.abs(F-l),I=Math.abs(k-i),V=l<F?1:-1,u=i<k?1:-1,N=U-I;
while(!0){o[i*c.m+l]=b;if(l==F&&i==k)break;var e=2*N;if(e>-I){N-=I;l+=V}if(e<U){N+=U;i+=u}}};bd.zL="0";
bd.V3="1";bd.rN="2";bd.B2="3";var i6={};i6.n$=function(x,J,o){if(o==null)o=!0;var c=x.add.TySh,E=new gD(c.TC,J);
x.Ex.kI=E.II();var b=x.Ex.path=i6.RF(E,c);if(b5!=0)return[b,E,null];var l=i6.tV(b,c.M,iv.ea(c));if(o){x.rect=l.By;
x.buffer=l.tM;x.W()}return[b,E,l]};i6.tV=function(x,J,o){x={G:x.G,j:x.j.slice(0)};q.O.M(x.j,J,x.j);var c=q.O.ql(x.j),E=0;
for(var $=0;$<x.G.length;$++){var b=x.G[$];if(b[0]=="O"&&b[1]=="-")E=Math.max(E,parseFloat(b.split("-").pop()))}E=Math.ceil(E*J.z1()/2);
c.wI(E,E);if(c.Kx())return{tM:q.R(0),By:new ha};var l=q.T6(c.m,c.e);l.translate(-c.x,-c.y);i6.agM(x,l);
var i=l.getImageData(0,0,c.m,c.e),F=new Uint8Array(i.data.buffer);if(o==0)for(var $=0;$<F.length;$+=4)F[$+3]=F[$+3]>80?255:0;
if(o==3)for(var $=0;$<F.length;$+=4)F[$+3]=Math.min(255,F[$+3]*1.5);l.resetTransform();l.beginPath();
return{tM:F,By:c}};i6.RF=function(x,J,o){var c=J.M,E=J.TC;i6.kF=c.z1();var b=iv.ea(J),l=Math.max(c.J*c.J,c.xt*c.xt)<1e-9?c:null;
if(b==3||b==4)l=null;var i={G:[],j:[]};i6.a0R(x,i,l,!0);i6.a0R(x,i,l,!1);i=i6.HU(i,J,x,o);return i};
i6.kF=1;i6.HU=function(x,J,o,c){if(x==null)return x;if(o&&o.my)q.O.M(x.j,o.my,x.j);if(o&&!q.Oq.IQ(J.Ma)){var E=iv.mZ(J,o);
if(!E.Kx()){if(x.G){x=q.O.G8(x);var b=Math.min(E.m,E.e)/8;if(b<1)b=1;x=q.O.cl(x,b)}var l=q.Oq.h7(J.Ma,E);
q.bf.M(l,x.j,E)}}var i=J.M;if(c)q.O.M(x.j,i,x.j);return x};i6.agM=function(x,J){J.save();J.miterLimit=2;
Typr.U.pathToContext({crds:x.j,cmds:x.G},J);J.restore()};i6.Wi=function(x,J,o){var c=gD.afh(o),E=x.TC,b=E.ResourceDict.FontSet,l=E.ResourceDict.StyleSheetSet[0].StyleSheetData,i=E.EngineDict.StyleRun.RunLengthArray,F=E.EngineDict.StyleRun.RunArray,k=iv.K1(E),U=!0,I={},V=0;
for(var $=0;$<F.length;$++){var u=F[$].StyleSheet.StyleSheetData.Font;if(u==null)u=l.Font;for(var N=0;
N<i[$];N++){var e=k.charCodeAt(V+N),B=u+","+(e>128?e:-1);if(I[B]==null){I[B]=1;if(J.wv(b[u].Name,e)==null)U=!1}}V+=i[$]}return U&&c};
i6.Pn=function(x,J,o){var c=!0;for(var E=0;E<x.B.length;E++){var b=x.B[E],l=b.add.TySh;if(l!=null&&!i6.Wi(l,J,o))c=!1}return c};
i6.vJ=function(x,J,o){for(var c=0;c<x.B.length;c++){var E=x.B[c],b=E.add.TySh;if(b!=null&&i6.Wi(b,J,o)){i6.n$(E,J);
x.W()}}};i6.a0R=function(x,J,o,c){var E=new cW;for(var $=0;$<x.zR.length;$++)i6.ady(x.kJ,x.zR[$],J,E,o,c)};
i6.ady=function(x,J,o,c,E,b){c.translate(J.B9.x,J.B9.y);for(var $=0;$<J.EE.length;$++){var l={},i=J.EE[$];
if(!i.NR)break;var F=c.clone();F.translate(i.B9.x,i.B9.y);if(E){var k=E.s7+F.s7*E.Lu;F.s7=(Math.round(k)-E.s7)/E.Lu}for(var U=i.start;
U<i.end;U++)i6.aig(x,J.DM[U],J,l,o,F,b)}c.translate(-J.B9.x,-J.B9.y)};i6.aex="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
i6.aig=function(x,J,o,c,E,b,l){b.translate(J.B9.x,J.B9.y);for(var i=J.Nn;i<=J.vs;i++){var F=o.r5[i],k=F.By.m,U=x[o.ajt+F.wa],I=U.LZ._FillBackgroundFlag;
if(U.D_=="\n"||l&&!I)continue;var V=U.LZ.FontSize/U._Y.head.unitsPerEm,u=b.clone();u.translate(F.B9.x+F.yM*V,F.B9.y-F.mP*V);
var N=new cW;N.scale(V,-V);if(U.EM==1&&i6.aex.indexOf(U.D_)!=-1)N.concat(new cW(-1,0,0,1,k,0));if(U.LZ.FauxItalic)N.concat(new cW(1,0,-Math.tan(.18),1,0,0));
N.translate(0,U.Ms);N.scale(U.scale.x,U.scale.y);if(U.LZ.BaselineShift!=null)N.translate(0,-U.LZ.BaselineShift);
if(F.o7!=0){N.rotate(-F.o7)}N.concat(u);var e=(U.LZ._LineWidth?U.LZ._LineWidth:1)*i6.kF;if(l){E.G.push(i6.b8(U.LZ._FillBackgroundColor));
var B=1.005*F.By.e/V,j=new ha(-F.yM,-B*.27,1.03*F.By.m/(V*U.scale.x),B);if(U.LZ.StrokeFlag)j.wI(e/V,e/V);
q.O.concat(E,q.O.ny(j),N);E.G.push("X");continue}if(U.LZ.FillFlag)E.G.push(i6.b8(U.LZ.FillColor));if(U.LZ.StrokeFlag)E.G.push("O-"+i6.b8(U.LZ.StrokeColor)+"-"+e);
if(F.path.G.length!=0&&U.D_!="\t"){if(U.LZ.FauxBold){var T=U.LZ.FontSize/2048*27*U.scale.x,a=Math.cos(F.o7)*T,P=Math.sin(F.o7)*T;
N.Iw+=a;N.s7+=P;q.O.concat(E,F.path,N);N.Iw-=a+a;N.s7-=P+P;q.O.concat(E,F.path,N)}else q.O.concat(E,F.path,N)}if(U.D_!="\n"){if(U.LZ.Underline){if(c.sx==null)c.sx=U._Y.post.underlineThickness;
if(c.aqa==null)c.aqa=U._Y.post.underlinePosition;var v=0,R=c.aqa-c.sx/2,y=F.rR*1.05,t=-c.sx;q.O.concat(E,{G:["M","L","L","L","Z"],j:[v,R,v+y,R,v+y,R+t,v,R+t]},N)}if(U.LZ.Strikethrough){var g=U._Y["OS/2"].yStrikeoutSize,H=U._Y["OS/2"].yStrikeoutPosition,v=0,R=H+g/2,y=F.rR*1.05,t=-g;
q.O.concat(E,{G:["M","L","L","L","Z"],j:[v,R,v+y,R,v+y,R+t,v,R+t]},N)}}if(U.LZ.FillFlag)E.G.push("X");
if(U.LZ.StrokeFlag)E.G.push("OX")}b.translate(-J.B9.x,-J.B9.y)};i6.b8=function(x){var J=iv.fL(x),o=(Math.round(J.o)<<16)+(Math.round(J.I)<<8)+Math.round(J.J);
return"#"+q.uW(o)};function gD(x,J){var o=iv.hT(x),c,E,b=iv.C9(x),l=x._LineOrientation==2?new cW:null,U,V;
if(x.Curve)E=gD.Z0(x.Curve);if(o!=0){c=new ha(b[0],b[1],b[2],b[3]);if(l){var i=c.m;c.m=c.e;c.e=i;l.translate(0,-b[2])}if(o==2){c.m=E[5]-E[4];
c.e=9999}}this.zR=[];this.kJ=[];this.jP=o;this.my=l;var F=this.aaV=iv.K1(x),k=-1,I=-1;for(var $=0;$<F.length;
$++){var u=U,N=iv.atb(x,$);if(N!=k){k=N;u=U=iv.abb(x,N)}var e=V,N=iv.aAt(x,$);if(N!=I){I=N;e=V=iv.aaM(x,N)}var B={D_:F.charAt($),LZ:u,_Y:null,Ai:-1,$I:iv.ar5(x,$),Ms:0,scale:new ck(0,0),p1:0,lineHeight:0,EM:0},j=x.ResourceDict.FontSet[u.Font].Name,T=B._Y=J.wv(j,F.charCodeAt($));
B.scale.x=u.HorizontalScale==null?1:u.HorizontalScale;B.scale.y=u.VerticalScale==null?1:u.VerticalScale;
var a=T["OS/2"],P=T.hhea;if(u.FontCaps==1&&B.D_!=B.D_.toUpperCase()){var v=a.sxHeight?a.sxHeight/a.sTypoAscender:.76;
B.scale.x*=v;B.scale.y*=v}var R=1/T.head.unitsPerEm*u.FontSize;if(u.FontBaseline==1){var v=x.ResourceDict.SuperscriptSize;
B.scale.x*=v;B.scale.y*=v;B.Ms-=x.ResourceDict.SuperscriptPosition*u.FontSize}if(u.FontBaseline==2){var v=x.ResourceDict.SubscriptSize;
B.scale.x*=v;B.scale.y*=v;B.Ms+=x.ResourceDict.SubscriptPosition*u.FontSize}B.p1=gD.p1(T)*u.FontSize;
var y=e.AutoLeading;B.lineHeight=u.FontSize*(y==null?1.2:y);if(u.AutoLeading==!1)B.lineHeight=u.Leading;
if(B.lineHeight==0)B.lineHeight=.01;this.kJ.push(B)}var t=this.zR,g=[0];for(var $=0;$<x.EngineDict.ParagraphRun.RunLengthArray.length;
$++){var H=new gD.S8(x,J,this.kJ,$,c,g,o==1?E:null);t.push(H)}if(l){if(o==0)l.translate(0,t[0].DM[0].p1/2);
l.rotate(-Math.PI/2)}if(o==2){var _=x.Curve.Points,Y=E[0],K=E[1],f=E[2],m=E[3],C=E[4],Z=E[5];for(var $=0;
$<t.length;$++)for(var A=0;A<t[$].EE.length;A++)if(!($==0&&A==0))t[$].EE[A].NR=!1;var H=t[0],d=H.EE[0];
H.B9.DQ(0,0);d.B9.DQ(0,0);for(var A=d.start;A<d.end;A++){var G=H.DM[A],r=G.B9.x;G.B9.x=0;for(var X=G.Nn;
X<=G.vs;X++){var w=H.r5[X],S=w.By.m/2;w.B9.x+=r;var z=gD.alQ(Y,(C+w.B9.x+S)%m);w.B9.x=z[0]-S*z[2];w.B9.y=z[1]-S*z[3];
w.o7=Math.atan2(z[3],z[2])}}}}gD.p1=function(x){var J=x._hhhh;if(J==null){var o=Typr.U,c=o.codeToGlyph(x,104),E=q.O.Cg(Typr.U.glyphToPath(x,c).crds).e;
J=x._hhhh=E*(1/x.head.unitsPerEm)}return J};gD.prototype.aCV=function(){return!this.any(0)};gD.prototype.a6Y=function(){return this.any(1)};
gD.prototype.any=function(x){var J=this.zR,o=!0,c=0;for(var $=0;$<J.length;$++){var E=J[$].EE,b=E.length;
c+=b;for(var l=0;l<b;l++)o&=E[l].NR}return[o,c][x]};gD.Z0=function(x,J,o){if(J==null)J=.25;var c=x.Points,E=c.length,b=E>>>3,l=x.TextOnPathTRange,i=x.Reversed,V=0,u=0;
if(i){var F=c.slice(0);for(var $=0;$<E;$+=2){F[$]=c[E-2-$];F[$+1]=c[E-1-$]}c=F;l=[b-l[1]%b,b-l[0]%b]}var k=[],U=[0],I=[0];
for(var $=0;$<E;$+=8){var N=c[$+6]-c[$+0],e=c[$+7]-c[$+1],B=Math.round(Math.sqrt(N*N+e*e)/J),j=o&&$==E-8?B+1:B;
for(var T=0;T<j;T++){var a=T/B,P=1-a,v=P*P*P*c[$+0]+3*P*P*a*c[$+2]+3*P*a*a*c[$+4]+a*a*a*c[$+6],R=P*P*P*c[$+1]+3*P*P*a*c[$+3]+3*P*a*a*c[$+5]+a*a*a*c[$+7];
k.push(v,R);if($+T!=0){var N=v-V,e=R-u;I.push(I[I.length-1]+Math.sqrt(N*N+e*e));U.push(($>>>3)+a)}V=v;
u=R}}var J=I.length,y=I[J-1],t=gD.K3(l[0]%b,U),g=gD.K3(l[1]%b,U),H=I[t%J],_=I[g%J];if(H>=_)_+=y;return[k,U,I,y,H,_]};
gD.K3=function(x,J){var $=0;while(J[$]<x)$++;return $};gD.alQ=function(x,J){var o=0,$=0,c,E,b;while(o<J){c=x[$+2]-x[$];
E=x[$+3]-x[$+1];b=Math.sqrt(c*c+E*E);o+=b;$+=2}return[x[$],x[$+1],c/b,E/b]};gD.prototype.alG=function(x){return this.kJ[x]};
gD.prototype.a0m=function(x){for(var J=0;J<this.zR.length;J++){var o=this.zR[J];for(var c=0;c<o.EE.length;
c++){var E=o.EE[c],b=o.DM[E.start].start,l=o.DM[E.end-1].end;if(b<x&&x<l)return[b,l-1]}}return[0,1]};
gD.prototype.arf=function(x,J){var o=-1,c=this.zR;if(this.jP==2){var E=1e9,b=0,l=c[0],i=l.EE[0];for(var F=i.start;
F<i.end;F++){var k=l.DM[F];for(var U=k.Nn;U<=k.vs;U++){var I=l.r5[U],V=I.By.m,u=x.x-I.B9.x,N=x.y-I.B9.y,e=u*u+N*N;
if(e<E){E=e;b=I.wa}}}if(b!=0&&this.aaV.codePointAt(b-1)>65535)b--;return b}for(var B=0;B<c.length;B++){var l=c[B];
for(var j=0;j<l.EE.length;j++){o++;var i=l.EE[j],T=l.EE[j+1];if(T==null&&B<c.length-1)T=c[B+1].EE[0];
if(J!=null){if(o!=J)continue}else{if(T!=null&&l.B9.y+i.B9.y<x.y)continue}for(var F=i.start;F<i.end;F++){var k=l.DM[F];
for(var U=k.Nn;U<=k.vs;U++){var I=l.r5[U],V=I.By.m,a=l.B9.x+i.B9.x+k.B9.x,P=a+I.B9.x,v=a+(U<k.vs?l.r5[U+1].B9.x:I.B9.x+V);
if(x.x<=v||F+1==i.end&&U==k.vs){var R=l.ajt+I.wa,y=this.kJ[R],t=y.EM&1;if(y.D_!="\n"&&(t==0&&x.x>P+V/2||t==1&&x.x<P+V/2))R+=this.aaV.codePointAt(R)>65535?2:1;
return R}}}}}};gD.prototype.j2=function(x){var J={By:new ha,lG:0},o=0;for(var c=0;c<this.zR.length;c++){var E=this.zR[c];
for(var b=0;b<E.EE.length;b++){var l=E.EE[b];J.lG=o;o++;for(var i=l.start;i<l.end;i++){var F=E.DM[i];
for(var k=F.start;k<F.end;k++){if(k==x){var U=this.kJ[k],I=U.Ai,V=E.r5[I].wa,u=1;while(E.r5[I]!=null&&E.r5[I].wa==V){var N=E.r5[I],e=E.B9.x+l.B9.x+F.B9.x+N.B9.x,B=E.B9.y+l.B9.y+F.B9.y+N.B9.y;
J.By=J.By.k7(new ha(e,B-U.lineHeight,N.By.m,U.lineHeight));J.o7=N.o7;I+=u}return J}}}}}};gD.prototype.II=function(){var x=Infinity,J=Infinity,o=-Infinity,c=-Infinity;
for(var $=0;$<this.zR.length;$++){var E=this.zR[$];for(var b=0;b<E.EE.length;b++){var l=E.EE[b];if(!l.NR)break;
for(var i=l.start;i<l.end;i++){var F=E.DM[i];for(var k=F.Nn;k<=F.vs;k++){var U=E.r5[k],I=U.By,V=E.B9.x+l.B9.x+F.B9.x+U.B9.x,u=E.B9.y+l.B9.y+F.B9.y+U.B9.y;
x=Math.min(x,V+I.x);J=Math.min(J,u+I.y);o=Math.max(o,V+I.x+I.m);c=Math.max(c,u+I.y+I.e)}}}}return new ha(x,J,o-x,c-J)};
gD.iG=function(x){return 19968<=x&&x<=40959||12288<=x&&x<=12543};gD.Px=function(x,J,o,c,E,b,l){var i=[b],F=0;
for(var $=b;$<l;$++){if(o[$]==null)console.log($,b,l,o);var k=o[$].D_,U=k.charCodeAt(0);if(U==32||U==9){i.push(F,$,1,$+1);
F=0}else if(U==3851){i.push(F+1,$+1);F=0}else if(gD.iG(U)){i.push(F,$);F=1}else if($!=b&&o[$].EM!=o[$-1].EM){i.push(F,$);
F=1}else F++}i.push(F);var I=[];for(var $=0;$<i.length;$+=2){var V=i[$],u=i[$+1];if(u==0)continue;I.push(new gD.ams(x,J,o,c,E,V,u))}return I};
gD.a38=function(x,J,o,c,E,b,l){var i=[0,J?J.m:1e9],F=[];if(c){var k=x[b].p1,U=E+(E==0?k:x[b].lineHeight),I=U-k*.9,V=q.O.am7(c[0],I),u=V.length,N=q.O.am7(c[0],U),e=N.length;
if(u!=0&&e!=0){var B=0,j=0,T=[];while(B<u&&j<e){var a=Math.max(V[B],N[j]),P=V[B+1],v=N[j+1],R=Math.min(P,v);
if(a<R)T.push(a,R);if(P<v)B+=2;else j+=2}if(T.length!=0)i=T}}for(var y=0;y<i.length;y+=2){var t=0,g=b,H=J?i[y+1]-i[y]-o.StartIndent-o.EndIndent-(b==0?o.FirstLineIndent:0):Infinity;
while(b!=x.length){var _=x[b],Y=t==0||(_.V9||_.L2)||t+_.By.m<H;if(!Y)break;t+=_.By.m;b++}F.push(b-g)}l[0]=F;
l[1]=i;l[2]=b};gD.a0H=function(x,J){var o=x.length,c=new Uint32Array(o),E=new Uint8Array(o),b=0;for(var $=0;
$<o;$++){E[$]=0;var l=x.charCodeAt($);c[$]=l;if(l>b)b=l}if(b>1424)E=gD.agp(c,J);return E};gD.af$=function(x){return x=="ß"?x:x.toUpperCase()};
gD.S8=function(x,J,o,c,E,b,l){this.DM=[];this.EE=[];this.B9=new ck(0,0);this.r5=null;this.DM=null;this.LZ=iv.aaM(x,c);
var i=this.LZ,I=0,N="",a=0,P=1,w=0;if(c!=0){var F=i.SpaceBefore;if(F!=null)b[0]+=F}var k=x.EngineDict.ParagraphRun.RunLengthArray,U=k[c];
for(var $=0;$<c;$++)I+=k[$];var V=i._Direction?i._Direction:0;this.ajt=I;var u=iv.K1(x).slice(I,I+U);
for(var e=0;e<u.length;e++){var B=u.charAt(e);N+=o[I+e].LZ.FontCaps==0?B:gD.af$(B)}u=N;var j=gD.a0H(u,V),T=[],v=j[$]&1,R=o[I]._Y;
o[I].EM=j[0];for(var $=1;$<u.length;$++){var B=o[I+$],y=j[$];B.EM=y;if(y!=v||B._Y!=R){T.push(a,P);a=$;
P=1;v=y;R=B._Y}else P++}T.push(a,P);var t=this.r5=[];for(var $=0;$<T.length;$+=2){var g=T[$],H=T[$+1],_=(o[I+g].EM&1)==0,Y=u.slice(g,g+H),K=Typr.U.shapeHB(o[I+g]._Y,Y,_),f=[],Z=0;
for(var e=0;e<K.length;e++){var m=K[e];f.push({I:m.g,wa:m.cl,rR:m.ax,ru:m.ay,yM:m.dx,mP:m.dy})}K=f;var C=K.slice(0);
if(!_)C.reverse();for(var e=0;e<Y.length;e++){while(Z+1<C.length&&C[Z+1].wa<=e){Z++}while(Z>0&&C[Z-1].wa==e)Z--;
o[I+g+e].Ai=t.length+(_?Z:C.length-Z-1)}for(var e=0;e<K.length;e++){t.push(K[e]);K[e].wa+=g;var B=o[I+K[e].wa];
if(B.$I!=-1&&B.$I<B._Y.maxp.numGlyphs){K[e].I=B.$I;var A=B._Y.hmtx;if(A){var d=Object.keys(A)[0];K[e].rR=A[d][B.$I]}}if(B.D_=="\n")K[e].rR=0;
if(B.D_=="\t")K[e].rR=B._Y.head.unitsPerEm*36/B.LZ.FontSize}}var G=iv.$Z(i),r=this.DM=gD.Px(x,J,o,I,t,I,I+U),X=this.EE,S=-1,N=[null,null,0];
while(w<r.length){gD.a38(r,E,i,l,b[0],w,N);S++;var z={start:w,end:0,By:new ha,B9:new ck(0,0),NR:!0},jS=0,cx=0;
X.push(z);z.end=N[2];if(z.start==z.end)throw"e";var s=z.end==r.length;function M(C,g,cM){var ea=cM-g>>>1;
for(var $=0;$<ea;$++){var a1=C[g+$];C[g+$]=C[cM-1-$];C[cM-1-$]=a1}}for(var Q=1;Q<5;Q++){var O=-1;for(var $=z.start;
$<z.end;$++){var y=o[r[$].start].EM;if(O==-1&&y>=Q)O=$;else if(O!=-1&&y<Q){M(r,O,$);O=-1}}var W=z.end;
if(V==0&&r[W-1].V9)W--;if(O!=-1)M(r,O,W)}var e9=N[0],jV=N[1],O=w,co=w;for(var dz=0;dz<jV.length;dz+=2){var eh=E?jV[dz+1]-jV[dz]-i.StartIndent-i.EndIndent-(w==0?i.FirstLineIndent:0):Infinity,a9=0;
O=co;co+=e9[dz>>>1];var kB=this.a0U(O,co,r,V,E!=null);if(E){if(G==1||s&&G==4)a9=kB[1]+(eh-kB[0]);if(G==2||s&&G==5)a9=kB[1]+(eh-kB[0])/2;
if(co-O==1&&r[O].By.m>eh)a9=0;if(S==0)a9+=i.FirstLineIndent;a9+=i.StartIndent}else{if(G==0)a9=i.StartIndent+i.FirstLineIndent;
if(G==1)a9=-kB[0]-i.EndIndent;if(G==2)a9=-kB[0]/2}a9+=jV[dz];if(E&&G>2&&(G==6||!s))this.a7r(O,co,r,eh,V,a9);
else{var dc=a9;for(var $=O;$<co;$++){var eT=r[$],fv=eT.By.m;eT.B9.x=dc;if(eT.XW=="\t")fv=Math.ceil((dc+4)/36)*36-dc;
dc+=fv}}}w=z.end;for(var $=z.start;$<z.end;$++){var bX=r[$].By.clone();bX.A6(r[$].B9);z.By=z.By.k7(bX);
jS=Math.max(jS,r[$].p1);cx=Math.max(cx,r[$].lineHeight)}z.B9.y=S==0?0:X[S-1].B9.y+cx;if(S==0){if(c==0&&E)b[0]+=jS;
if(c!=0)b[0]+=cx;this.B9.y=b[0]}else b[0]+=cx;if(E)z.NR=this.B9.y+z.B9.y<E.y+E.e||c==0&&S==0}var gi=i.SpaceAfter;
if(gi!=null)b[0]+=gi};gD.S8.prototype.a0U=function(x,J,o,c,E){var b=0,l=0;for(var $=x;$<J;$++)b+=o[$].By.m;
if(E){if(c==0)for(var $=J-1;$>=x;$--)if(o[$].V9||o[$].L2)b-=o[$].By.m;else break;if(c==1)for(var $=x;
$<J;$++)if(o[$].V9||o[$].L2){var i=o[$].By.m;b-=i;l-=i}else break}return[b,l]};gD.S8.prototype.a7r=function(x,J,o,c,E,b){var l=0,i=0,F=0,k=0;
for(var $=x;$<J;$++)if(o[$].V9)F++;else{l+=o[$].By.m;i++}if(E==0)for(var $=J-1;$>=x;$--)if(o[$].V9||o[$].L2){if(o[$].V9){F--}}else break;
if(E==1)for(var $=x;$<J;$++)if(o[$].V9||o[$].L2){if(o[$].V9){F--;k++}}else break;if(i<=1||F==0){if(i==1)o[x].B9.x=b;
return}var U=(c-l)/F,I=-k*U;for(var $=x;$<J;$++){if(o[$].V9)this.r5[o[$].Nn].By.m=o[$].By.m=U;o[$].B9.x=b+I;
I+=o[$].By.m}};gD.ams=function(x,J,o,c,E,b,l){this.XW="";for(var $=0;$<l;$++)this.XW+=o[b+$].D_;this.V9=l==1&&(o[b].D_==" "||o[b].D_=="\t");
this.L2=l==1&&o[b].D_=="\n";this.start=b;this.end=b+l;this.By=new ha;this.B9=new ck(0,0);this.p1=0;this.lineHeight=0;
var i=0,F=0;if(l==0){this.lineHeight=o[b].lineHeight;this.p1=o[b].p1;this.By=new ha(0,-o[b].lineHeight,0,o[b].lineHeight)}var k=o[b].Ai,U=o[b+l-1].Ai;
if(U<k){var I=k;k=U;U=I}while(U+1<E.length&&E[U].wa==E[U+1].wa){U++}this.Nn=k;this.vs=U;for(var V=k;
V<=U;V++){var u=E[V],N=o[c+u.wa],e=x._LineOrientation==2&&(N.LZ.BaselineDirection!=2||gD.iG(N.D_.charCodeAt(0))),B=Typr.U.glyphToPath(N._Y,u.I),v=0;
u.path={G:B.cmds,j:B.crds};var j=N.LZ.FontSize,T=1/N._Y.head.unitsPerEm*j;if(!N.LZ.AutoKerning)i+=N.LZ.Kerning*2*T*N.scale.x;
u.B9=new ck(i,0);u.o7=0;if(e&&u.path.j.length>0){u.o7=-Math.PI/2;u.B9.x+=j*.83;u.B9.y=-j*.3+u.rR*T/2;
u.rR=j/T}var a=u.rR*T*N.scale.x;u.By=new ha(0,-N.lineHeight,a,N.lineHeight);var P=u.By.clone();P.A6(u.B9);
if(N.LZ.Tracking!=null)v=N.LZ.Tracking*.001*j;if(N.LZ.FauxBold==!0)v+=.027*j;i+=a+v;if(l==1&&N.D_==" ")P.m+=2*v;
else if(l==1&&N.D_!=null&&gD.iG(N.D_.charCodeAt(0)))P.m+=v;this.By=this.By.k7(P);this.p1=Math.max(this.p1,N.p1);
this.lineHeight=Math.max(this.lineHeight,N.lineHeight)}};gD.fO=0;gD.afh=function(x){if(gD.fO==2)return!0;
if(gD.fO==1)return!1;gD.fO=1;function J(){fetch("code/ext/fribidi.wasm").then(function(o){return o.arrayBuffer()}).then(function(o){return WebAssembly.instantiate(o)}).then(function(o){var c=o.instance.exports,E=c.memory,b=16,l=256,i=1,F=b|l,k=b|l|i;
gD.agp=function(V,u){var N=V.length,e=N*4+4+N*4+N*4+N;hR.Pg(c,e+N+1e7);var B=new Uint8Array(E.buffer),j=new Uint32Array(E.buffer),T=c.calloc(e,1),a=T+N*4,P=a+4,v=P+N*4,R=v+N*4;
j.set(V,T>>>2);j[a>>>2]=u==0?F:k;c.fribidi_get_bidi_types(T,N,P);c.fribidi_get_bracket_types(T,N,P,v);
c.fribidi_get_par_embedding_levels_ex(P,v,N,a,R);var y=B.slice(R,R+N);c.free(T);return y};gD.fO=2;var U=new ko(L.E.N,!0);
U.data={d:L.H.bS,_E:"add",KJ:h4.B5,AF:null};x.c(U)})}Typr.U.initHB("code/ext/hb.wasm",J);return!1};function iv(){}iv.dw=function(x){return JSON.parse(JSON.stringify(x))};
iv.oG=function(x,J){for(var o in J)x[o]=J[o]};iv.hK=function(x,J,o,c){var E=iv.agL();if(o)iv.oO(E,0,0,o);
var b=new cW;if(c!=null)b.rotate(c);b.translate(Math.round(x),Math.round(J));var l={M:b,TC:E};l.kQ=iv.a04();
l.Ma=q.Oq.R();l.Ca=new ha;return l};iv.a14=function(x){var J=["CharacterDirection",0];for(var $=0;$<J.length;
$+=2){if(x[J[$]]!=null&&x[J[$]]!=J[$+1]){throw"e";console.log(J[$],x[J[$]])}}if(x instanceof Array)for(var $=0;
$<x.length;$++)iv.a14(x[$]);else if(x instanceof Object)for(var o in x)iv.a14(x[o])};iv.$Z=function(x,J){if(J==null)J=x.Justification;
var o=x._Direction?x._Direction:0;if(o==1){if(J==0||J==3)J++;else if(J==1||J==4)J--}return J};iv.PL=function(x){if(x.add==null)return;
var J=x.TC,o=J.Curve,c=x.add.vmsk,E=c.$,b=q.O.uG(E,2).j,l=x.M.clone();l.Mr();q.O.M(b,l,b);var i=b.slice(0,8);
for(var F=8;F<b.length;F+=6)i.push(b[F-2],b[F-1],b[F],b[F+1],b[F+2],b[F+3],b[F+4],b[F+5]);o.Points=i;
o.TextOnPathTRange=c.wD.slice(0);o.Reversed=c.pn;if(iv.hT(J)==1){var o=gD.Z0(J.Curve),k=q.O.Cg(o[0]);
iv.UC(J,[0,0,k.m,k.e].map(Math.round));for(var $=0;$<i.length;$+=2){i[$]-=k.x;i[$+1]-=k.y}var U=new cW(1,0,0,1,k.x,k.y);
U.concat(x.M);x.M=U}};iv.ww=function(x){if(x.add==null)return;var J=x.add.vmsk,o=x.TC.Curve,c=o.Points,E={G:["M"],j:[c[0],c[1]]};
for(var $=0;$<c.length;$+=8){E.G.push("C");E.j.push(c[$+2],c[$+3],c[$+4],c[$+5],c[$+6],c[$+7])}q.O.M(E.j,x.M,E.j);
var b=q.O.XR(E,!0);J.$=b;J.pn=o.Reversed;J.wD=o.TextOnPathTRange.slice(0);x.add.vogk=h.pw(b)};iv.fL=function(x){var J={o:0,I:0,J:0};
if(x){var o=x.Values;if(x.Type==1)J={o:o[1]*255,I:o[2]*255,J:o[3]*255};else if(x.Type==2){var c={classID:"CMYC",Cyn:{t:"doub",v:o[1]*100},Mgnt:{t:"doub",v:o[2]*100},Ylw:{t:"doub",v:o[3]*100},Blck:{t:"doub",v:o[4]*100}};
J=q.r.fL(c)}else console.log("Unknown color type")}return J};iv.a7W=function(x){for(var $=0;$<x.length;
$++){var J=x[$].StyleSheet.StyleSheetData,o=J.FillColor;if(o&&o.Type==2){var c=iv.fL(o);o.Type=1;o.Values=[1,c.o/255,c.I/255,c.J/255]}}};
iv.mZ=function(x,J){var o;if(iv.hT(x.TC)==1){var c=iv.C9(x.TC);o=new ha(0,0,c[2]-c[0],c[3]-c[1])}else{o=J.II();
if(J.my){var E=J.my.clone(),b=q.O.ny(o);q.O.M(b.j,E,b.j);o=q.O.Cg(b.j)}}return o};iv.hf=function(x){var J=x[0];
for(var $=0;$<x.length;$++)J=iv.ajR(J,x[$]);return J};iv.ajR=function(x,J){var o={};for(var c in x)if(JSON.stringify(x[c])==JSON.stringify(J[c]))o[c]=x[c];
return o};iv.UE=function(x,J){var o=x.SY,c=-1;for(var $=0;$<o.length;$++)if(o[$].Name==J)c=$;if(c==-1){c=o.length;
o.push({FontType:1,Name:J,Script:0,Synthetic:0})}x.kJ.Font=c};iv.K1=function(x){return x.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
iv.Sz=function(x,J){x.EngineDict.Editor.Text=J.replace(/\n/g,"\r")};iv.hT=function(x){return x.Curve&&x.Curve.TextOnPathTRange[0]>=0?2:x.EngineDict.Rendered.Shapes.Children[0].ShapeType};
iv.Ag=function(x,J){var o=x.EngineDict.Rendered.Shapes.Children[0];o.ShapeType=J;var c=o.Cookie.Photoshop;
c.ShapeType=J;c.Base.ShapeType=J;if(J==0){delete c.BoxBounds;c.PointBase=[0,0]}if(J==1){delete c.PointBase;
c.BoxBounds=[0,0,1,1]}};iv.C9=function(x){return x.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
iv.UC=function(x,J){x.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=J};iv.ar5=function(x,J){var o=x.EngineDict.AlternateGlyphRun;
if(o==null)return-1;var c=iv.ux(o.RunLengthArray,J).te;if(o.RunArray[c]==null)return-1;var E=o.RunArray[c].Glyph;
return E==null?-1:E};iv.aAD=function(x,J,o){var c=x.EngineDict.AlternateGlyphRun;if(c==null){c=x.EngineDict.AlternateGlyphRun=iv.aqo();
c.RunArray.push({});c.RunLengthArray.push(iv.K1(x).length)}var E=iv.ux(c.RunLengthArray,J),b=E.te,l=J-E.Pj,i=c.RunArray[b],F=JSON.stringify(i),k=c.RunLengthArray[b];
if(l!=0){c.RunArray.splice(b,0,JSON.parse(F));c.RunLengthArray.splice(b,0,l);c.RunLengthArray[b+1]-=l;
b++;k-=l;l=0}if(k!=1){c.RunArray.splice(b+1,0,JSON.parse(F));c.RunLengthArray.splice(b+1,0,k-1);c.RunLengthArray[b]=1;
k=1}i.Glyph=o};iv.atb=function(x,J){var o=x.EngineDict.StyleRun.RunLengthArray;return iv.ux(o,J).te};
iv.abb=function(x,J){var o=x.ResourceDict.StyleSheetSet[0].StyleSheetData,c={};for(var E in o)c[E]=o[E];
var b=x.EngineDict.StyleRun.RunArray[J].StyleSheet.StyleSheetData;iv.oG(c,b);return c};iv.aAt=function(x,J){var o=x.EngineDict.ParagraphRun.RunLengthArray;
return iv.ux(o,J).te};iv.aaM=function(x,J){var o=x.ResourceDict.ParagraphSheetSet[0].Properties,c={};
for(var E in o)c[E]=o[E];var b=x.EngineDict.ParagraphRun.RunArray[J].ParagraphSheet.Properties;iv.oG(c,b);
var l=["StartIndent","EndIndent","FirstLineIndent"];for(var $=0;$<3;$++)if(c[l[$]]==null)c[l[$]]=0;return c};
iv.Jq=function(x,J,o){if(o=="")return;var c=iv.K1(x);iv.Sz(x,c.substring(0,J)+o+c.substring(J,c.length));
var E=x.EngineDict.StyleRun,b=E.RunLengthArray,l=iv.ux(b,J-1);b[l.te]+=o.length;var i=x.EngineDict.AlternateGlyphRun;
if(i){var b=i.RunLengthArray,l=iv.ux(b,J-1);b[l.te]+=o.length}var F=x.EngineDict.ParagraphRun,b=F.RunLengthArray,k=iv.ux(b,J),U=o.split("\n");
if(U.length==1){b[k.te]+=o.length;return}b.splice(k.te+1,0,b[k.te]-(J-k.Pj));F.RunArray.splice(k.te+1,0,iv.dw(F.RunArray[k.te]));
b[k.te]-=b[k.te+1];b[k.te]+=U[0].length+1;for(var $=1;$<U.length-1;$++){F.RunArray.splice(k.te+$,0,iv.dw(F.RunArray[k.te+$-1]));
F.RunLengthArray.splice(k.te+$,0,U[$].length+1)}b[k.te+U.length-1]+=U[U.length-1].length};iv.mS=function(x,J,o){var c=iv.K1(x);
iv.Sz(x,c.substring(0,J)+c.substring(o,c.length));iv.c$(x.EngineDict.ParagraphRun,J,o,!0);iv.c$(x.EngineDict.StyleRun,J,o,!1);
var E=x.EngineDict.AlternateGlyphRun;if(E)iv.c$(E,J,o,!1)};iv.c$=function(x,J,o,c){var E=x.RunLengthArray,b=iv.ux(E,J),l=iv.ux(E,o),i=[];
for(var $=0;$<E.length;$++)for(var F=0;F<E[$];F++)i.push($);i.splice(J,o-J);var k=[];for(var $=0;$<E.length;
$++)k.push(0);for(var $=0;$<i.length;$++)k[i[$]]++;for(var $=0;$<E.length;$++){if(k[$]==0){k.splice($,1);
E.splice($,1);x.RunArray.splice($,1);$--}else if(k[$]<E[$])E[$]=k[$]}if(c&&b.te!=l.te&&b.Pj!=J){E[b.te]+=E[b.te+1];
E.splice(b.te+1,1);x.RunArray.splice(b.te+1,1)}};iv.oO=function(x,J,o,c){var E=x.EngineDict.Editor.Text.length;
if(o==E-2)o++;if(c.kJ.Font!=null)x.ResourceDict.FontSet=c.SY.slice(0);if(J<=o)iv.agN(x.EngineDict.StyleRun,c.kJ,J,o,!0);
iv.agN(x.EngineDict.ParagraphRun,c.zR,J,o,!1)};iv.eU=function(x,J,o){var c={SY:x.ResourceDict.FontSet.slice(0),kJ:[],zR:[]},E=x.EngineDict.StyleRun.RunLengthArray,b=iv.ux(E,J).te,l=iv.ux(E,o).te;
for(var $=b;$<=l;$++){var i=iv.dw(x.ResourceDict.StyleSheetSet[0].StyleSheetData),F=x.EngineDict.StyleRun.RunArray;
if(F.length==0)continue;var k=F[$].StyleSheet.StyleSheetData;iv.oG(i,k);c.kJ.push(i)}var U=x.EngineDict.ParagraphRun.RunLengthArray,I=iv.ux(U,J).te,V=iv.ux(U,o).te;
for(var $=I;$<=V;$++){var u=x.EngineDict.ParagraphRun.RunArray;if(u.length==0)continue;c.zR.push(iv.dw(u[$].ParagraphSheet.Properties))}c.kJ=c.kJ.length==0?{}:iv.hf(c.kJ);
c.zR=c.zR.length==0?{}:iv.hf(c.zR);return c};iv.agN=function(x,J,o,c,E){var b=x.RunLengthArray;if(E){var l=iv.ux(b,o);
if(l.Pj!=o){var i=b[l.te];b.splice(l.te,0,o-l.Pj);b[l.te+1]=i-b[l.te];x.RunArray.splice(l.te+1,0,iv.dw(x.RunArray[l.te]))}var F=iv.ux(b,c);
if(F.Pj+b[F.te]-1!=c){var i=b[F.te];b.splice(F.te,0,c-F.Pj+1);b[F.te+1]=i-b[F.te];x.RunArray.splice(F.te+1,0,iv.dw(x.RunArray[F.te]))}}var l=iv.ux(b,o),F=iv.ux(b,c);
if(E)for(var $=l.te;$<=F.te;$++)iv.oG(x.RunArray[$].StyleSheet.StyleSheetData,J);else for(var $=l.te;
$<=F.te;$++)iv.oG(x.RunArray[$].ParagraphSheet.Properties,J)};iv.a5b=function(x,J,o){var c=x.EngineDict.StyleRun.RunLengthArray,E=[],b=0;
for(var $=0;$<c.length;$++){var l=c[$];for(var i=0;i<l;i++)if(J<=b+i&&b+i<o)E.push($);b+=l}var F=E[0],k=[];
for(var $=0;$<E.length;$++){var U=E[$]-F;if(U==k.length)k.push(0);k[U]++}return k};iv.arz=function(x){var J=x.EngineDict.StyleRun,o=J.RunArray,c=J.RunLengthArray;
for(var $=0;$<c.length-1;$++){var E=o[$].StyleSheet.StyleSheetData,b=o[$+1].StyleSheet.StyleSheetData;
if(JSON.stringify(E)==JSON.stringify(b)){o.splice($+1,1);c[$]+=c[$+1];c.splice($+1,1);$--}}};iv.ea=function(x){var J=x.kQ.AntA.v.Annt;
J=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(J);if(J==-1)J=1;return J};iv.pT=function(x,J){x.kQ.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][J]};
iv.Fw=function(x,J){var o,c;o=["FontSize","Leading","BaselineShift","_LineWidth"];c=x.kJ;for(var $=0;
$<o.length;$++)if(c[o[$]]!=null)c[o[$]]*=J;o=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
c=x.zR;for(var $=0;$<o.length;$++)if(c[o[$]]!=null)c[o[$]]*=J};iv.a5a=function(){return iv.eU(iv.ax5,0,0)};
iv.a04=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
iv.ux=function(x,J){var o=0,$=0;while(o+x[$]<=J){o+=x[$];$++}return{te:$,Pj:o}};iv.agL=function(){var x=iv.dw(this.ax5);
return x};iv.awO=function(x,J){var o=J.zR};iv.aBM=function(x,J){var o=J.kJ,c;c=x.Undl;if(c&&c.v.Undl=="underlineOnLeftInVertical")o.Underline=!0;
c=x.syntheticItalic;if(c)o.FauxItalic=c.v};iv.a0Z={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
iv.aik={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
iv.aqo=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};iv.ax5={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(iv.a0Z))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(iv.a0Z))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(iv.aik))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var c9={};c9.a3B=function(x){var J=c9.aeJ(x._0,x._1);c9.asu(J,x._0);return J};c9.aas=function(x,J,o){var c={};
c._98={_0:"i7"};c._0=c9.aq0(x,J,o?o._0:null);c._1=c9.a4S(x,J,c._0,o?o._1:null);return c};c9.aq0=function(x,J,o){var c={};
c._1=c9.a9B(x,o?o._1:null);c._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};c._3=JSON.parse(JSON.stringify(c9.aCO));
c._4=JSON.parse(JSON.stringify(c9.ajs));c._5=c9.acq(x,c._1._0,o?o._5:null);c._6=c9.ao_(x,o?o._6:null);
c._8=c9.arC(x,J,o?o._8:null);c._9=c9.aet;return c};c9.asu=function(x,J){c9.a4K(x,J._5,J._1._0)};c9.a9B=function(x,J){var o=[],c=[];
for(var $=0;$<x.length;$++){var E=x[$].ResourceDict.FontSet;for(var b=0;b<E.length;b++){var l=E[b];if(c.indexOf(l.Name)!=-1)continue;
o.push(l);c.push(l.Name)}}var i={_0:[]};for(var $=0;$<o.length;$++){var F=o[$],k={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+F.Name,_1:"i"+F.Script,_2:"i"+F.FontType}}};
if(F.Script==0)delete k._0._0._1;i._0.push(k)}return i};c9.acq=function(x,J,o){var c={_0:[],_1:[]},E={_0:JSON.parse(JSON.stringify(c9.asH))};
c9.ar2(E._0,x[0].ResourceDict.StyleSheetSet[0],J,x[0].ResourceDict.FontSet);c._0.push(E);c._1.push({_0:"i0"});
c._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});c._1.push({_0:"i1"});return c};c9.a4K=function(x,J,o){var c=J._0[0];
for(var $=0;$<x.length;$++)c9.auV(c._0,x[$].ResourceDict.StyleSheetSet[0],o,x[$].ResourceDict.FontSet)};
c9.ao_=function(x,J){var o={_0:[],_1:[]},c={_0:JSON.parse(JSON.stringify(c9.uz))};c9.zp(c._0,x[0].ResourceDict.ParagraphSheetSet[0]);
o._0.push(c);o._1.push({_0:"i0"});c={_0:JSON.parse(JSON.stringify(c9.uz))};c9.zp(c._0,x[0].ResourceDict.ParagraphSheetSet[0]);
c._0._0="sBasic Paragraph";c._0._6="i0";o._0.push(c);o._1.push({_0:"i1"});return o};c9.arC=function(x,J,o){var c={_0:[]};
for(var $=0;$<x.length;$++){var E=x[$].Curve,b={};c._0.push({_0:b});var l=iv.hT(x[$]);b._1={};b._2={};
b._2._0="i"+l;if(x[$]._LineOrientation==2)b._2._1="i2";if(l==0){delete b._1;b._2._6=["f-1","f-1"];b._2._11={_4:"i-1",_7:!1}}else if(l==1&&E==null){var i=iv.C9(x[$]),F=i[2],k=i[3];
b._1._0=c9.Vw("f",[0,0,0,0,F,0,F,0,F,0,F,0,F,k,F,k,F,k,F,k,0,k,0,k,0,k,0,k,0,0,0,0]);b._2._6=["f-2","f-2"];
b._2._11={_4:"i-2",_7:!1}}else if(l==1){var i=iv.C9(x[$]),F=i[2],k=i[3];b._1._0=c9.Vw("f",E.Points);
b._2._6=["f-3","f-3"];b._2._11={_4:"i-3",_7:!1}}else if(l==2){b._1._0=c9.Vw("f",E.Points);b._2._6=c9.Vw("f",E.TextOnPathTRange);
b._2._11={_0:E.Reversed,_3:"i0",_5:"f0",_7:!1}}}return c};c9.a4S=function(x,J,o,c){var E={};E._0=JSON.parse(JSON.stringify(c9.a6U));
E._1=c9.asU(x,J,o,c?c._1:null);E._2=JSON.parse(JSON.stringify(c9.asH._6));E._3=JSON.parse(JSON.stringify(c9.uz._5));
return E};c9.aeJ=function(x,J){return c9.agZ(x,J._1)};c9.asU=function(x,J,o,c){var E=[],b=o._1._0;for(var $=0;
$<x.length;$++){var l=x[$],i={_0:{}};E.push(i);i._0._0="s"+l.EngineDict.Editor.Text;i._0._0=i._0._0;
var F=i._0._5={_0:[]},k=l.EngineDict.ParagraphRun;for(var U=0;U<k.RunArray.length;U++){var I={_0:{}};
F._0.push(I);I._0._0={_0:"s",_5:{},_6:"i1"};c9.zp(I._0._0,k.RunArray[U].ParagraphSheet);I._1="i"+k.RunLengthArray[U]}var V=i._0._6={_0:[]};
k=l.EngineDict.StyleRun;for(var U=0;U<k.RunArray.length;U++){var u={_0:{}};V._0.push(u);u._0._0={_0:"s",_5:"i1",_6:{}};
c9.ar2(u._0._0,k.RunArray[U].StyleSheet,b,l.ResourceDict.FontSet);u._1="i"+k.RunLengthArray[U]}k=l.EngineDict.AlternateGlyphRun;
if(k){var N=i._0._9={_0:[]};for(var U=0;U<k.RunArray.length;U++){var e={_0:{}};N._0.push(e);var B=k.RunArray[U];
if(B.Glyph!=null){e._0._0={_0:"i"+B.Glyph,_1:"e"}}e._1="i"+k.RunLengthArray[U]}}i._0._10={_0:"i4",_2:!0};
i._1=c9.view.ah3(l,null,$,null)}return E};c9.agZ=function(x,J){var o=[],c=x._1._0;if(J)for(var $=0;$<J.length;
$++){var E=iv.agL();o.push(E);var b=J[$];E.EngineDict.Editor.Text=b._0._0.slice(1);var l=E.EngineDict.ParagraphRun.RunArray[0],i=E.EngineDict.ParagraphRun,F=b._0._5;
if(F)for(var k=0;k<F._0.length;k++){var U=F._0[k];i.RunLengthArray[k]=parseInt(U._1.slice(1));i.RunArray[k]=JSON.parse(JSON.stringify(l));
c9.aqH(U._0._0,i.RunArray[k].ParagraphSheet)}else{i.RunLengthArray[0]=iv.K1(E).length}var I=b._0._6;
i=E.EngineDict.StyleRun;if(I)for(var k=0;k<I._0.length;k++){var V=I._0[k];i.RunLengthArray[k]=parseInt(V._1.slice(1));
i.RunArray[k]={StyleSheet:{StyleSheetData:{}}};c9.auV(V._0._0,i.RunArray[k].StyleSheet,c,E.ResourceDict.FontSet)}else{i.RunLengthArray[0]=iv.K1(E).length;
i.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return o};c9.ar2=function(x,J,o,c,E){x._0="s"+(J.Name?J.Name:"");
var b=x._6,l=E?E._6:null,i=J.StyleSheetData;if(i.Font!=null){var F=c[i.Font].Name,k=-1;for(var $=0;$<o.length;
$++)if("s"+F==o[$]._0._0._0){k=$;break}b._0="i"+k}if(i.FontSize!=null)b._1="f"+i.FontSize;if(i.FauxBold!=null)b._2=i.FauxBold;
if(i.FauxItalic!=null)b._3=i.FauxItalic;if(i.AutoLeading!=null)b._4=i.AutoLeading;if(i.Leading!=null)b._5="f"+i.Leading;
if(i.HorizontalScale!=null)b._6="f"+i.HorizontalScale;if(i.VerticalScale!=null)b._7="f"+i.VerticalScale;
if(i.Tracking!=null)b._8="i"+i.Tracking;if(i.BaselineShift!=null)b._9="f"+i.BaselineShift;if(i.AutoKerning!=null)b._11="i"+(i.AutoKerning?1:0);
if(i.FontCaps!=null)b._12="i"+i.FontCaps;if(i.FontBaseline!=null)b._13="i"+i.FontBaseline;if(i.Strikethrough!=null)b._15="i"+(i.Strikethrough?1:0);
if(i.Underline!=null)b._16="i"+(i.Underline?2:0);if(i.Ligatures!=null)b._18=i.Ligatures;if(i.DLigatures!=null)b._19=i.DLigatures;
if(i.BaselineDirection!=null)b._35="i"+i.BaselineDirection;if(i.Language!=null)b._38="i"+i.Language;
if(i.FillColor!=null)b._53=c9.b8(i.FillColor);if(i.StrokeColor!=null)b._54=c9.b8(i.StrokeColor);if(i.FillFlag!=null)b._56=i.FillFlag;
if(i.StrokeFlag!=null)b._57=i.StrokeFlag;if(i._LineWidth!=null)b._63="f"+i._LineWidth;if(i._FillBackgroundColor!=null)b._79=c9.b8(i._FillBackgroundColor);
if(i._FillBackgroundFlag!=null)b._80=i._FillBackgroundFlag};c9.b8=function(x){return{_99:"/SimplePaint",_0:{_0:"i1",_1:c9.Vw("f",x.Values)}}};
c9.auV=function(x,J,o,c){var E=x._6;if(E==null)return;var b=J.StyleSheetData;if(E._0){var l=parseInt(E._0.slice(1)),i=o[l]._0._0._0.slice(1);
iv.UE({kJ:b,SY:c},i)}if(E._1!=null)b.FontSize=parseFloat(E._1.slice(1));if(E._2!=null)b.FauxBold=E._2;
if(E._3!=null)b.FauxItalic=E._3;if(E._4!=null)b.AutoLeading=E._4;if(E._5!=null)b.Leading=parseFloat(E._5.slice(1));
if(E._6!=null)b.HorizontalScale=parseFloat(E._6.slice(1));if(E._7!=null)b.VerticalScale=parseFloat(E._7.slice(1));
if(E._8!=null)b.Tracking=parseFloat(E._8.slice(1));if(E._9!=null)b.BaselineShift=parseFloat(E._9.slice(1));
if(E._11!=null)b.AutoKerning=parseFloat(E._11.slice(1))==1;if(E._12!=null)b.FontCaps=parseFloat(E._12.slice(1));
if(E._13!=null)b.FontBaseline=parseFloat(E._13.slice(1));if(E._15!=null)b.Strikethrough=parseFloat(E._15.slice(1))==1;
if(E._16!=null)b.Underline=parseFloat(E._16.slice(1))==1;if(E._18!=null)b.Ligatures=E._18;if(E._19!=null)b.DLigatures=E._19;
if(E._35!=null)b.BaselineDirection=parseFloat(E._35.slice(1));if(E._38!=null)b.Language=parseFloat(E._38.slice(1));
if(E._53!=null)b.FillColor=c9.bm(E._53);if(E._54!=null)b.StrokeColor=c9.bm(E._54);if(E._56!=null)b.FillFlag=E._56;
if(E._57!=null)b.StrokeFlag=E._57;if(E._63!=null)b._LineWidth=parseFloat(E._63.slice(1));if(E._79!=null)b._FillBackgroundColor=c9.bm(E._79);
if(E._80!=null)b._FillBackgroundFlag=E._80};c9.bm=function(x){var J=x._0._0,o=x._0._1,c=[1,0,0,0],E=[];
for(var $=0;$<o.length;$++)E[$]=parseFloat(o[$].slice(1));if(J=="i0")c[1]=c[2]=c[3]=E[1];else if(J=="i1")c=E;
else if(J=="i2")c=[1].concat(UDOC.C.cmykToRgb(E.slice(1)));else console.log("unknown color type",J,E);
return{Type:1,Values:c}};c9.zp=function(x,J){x._0="s"+(J.Name?J.Name:"");var o=x._5,c=J.Properties;if(c.Justification!=null)o._0="i"+c.Justification;
if(c.FirstLineIndent!=null)o._1="f"+c.FirstLineIndent;if(c.StartIndent!=null)o._2="f"+c.StartIndent;
if(c.EndIndent!=null)o._3="f"+c.EndIndent;if(c.SpaceBefore!=null)o._4="f"+c.SpaceBefore;if(c.SpaceAfter!=null)o._5="f"+c.SpaceAfter;
if(c.AutoLeading!=null)o._7="f"+c.AutoLeading;if(c.AutoHyphenate!=null)o._9=c.AutoHyphenate;if(c._Direction!=null)o._33="i"+c._Direction;
if(c._ComposerEngine!=null)o._35="i"+c._ComposerEngine};c9.aqH=function(x,J){var o=x._5;if(o==null)return;
var c=J.Properties;if(o._0)c.Justification=parseInt(o._0.slice(1))};c9.Vw=function(x,J){var o=[];for(var $=0;
$<J.length;$++)o.push(x+J[$]);return o};c9.aCO={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
c9.ajs={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
c9.asH={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
c9.uz={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
c9.aet={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
c9.a6U={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var dE={};dE.alk=function(x){return dE.Ys(x,dE.fN,0)};dE.apm=function(x){return dE.oH(x,dE.fN)};dE.Ys=function(x,J,o){var c;
if(typeof x=="string")return x;if(x instanceof Array){c=[];for(var $=0;$<x.length;$++)c[$]=dE.Ys(x[$],J,o+1)}else{c={};
var E={};for(var b in J){var l=J[b],i="_"+l[0];if(x[i]!=null){c[b]=l[1]?dE.Ys(x[i],l[1],o+1):x[i];E[i]=!0}}for(var b in x){if(E[b]==null){if(b.length>3)continue;
console.log(J,E);console.log(b,x);throw"e"}}}return c};dE.oH=function(x,J){var o;if(typeof x=="string")return x;
else if(x instanceof Array){o=[];for(var $=0;$<x.length;$++)o[$]=dE.oH(x[$],J)}else{o={};var c={};for(var E in J){var b=J[E],l="_"+b[0];
if(x[E]!=null){o[l]=b[1]?dE.oH(x[E],b[1]):x[E];c[E]=!0}}for(var E in x){if(c[E]==null){console.log(J,c);
console.log(E,x);throw"e"}}}return o};dE.Z3={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
dE.$l={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,dE.Z3],_StrokeColor:[54,dE.Z3],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,dE.Z3],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
dE.atO={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,dE.$l],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
dE.an1={_Name:[0],_Features:[5,dE.atO],_Parent:[6],_UUID:[97]};dE.a7n={_Name:[0],_Parent:[5],_Features:[6,dE.$l],_UUID:[97]};
dE.fN={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,dE.a7n]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,dE.an1]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,dE.an1]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,dE.a7n]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,dE.$l],_OriginalNormalParagraphFeatures:[3,dE.atO]}]};
c9.view={};c9.view.ah3=function(x,J,o,c){var E={},b=iv.hT(x);E._0=[{_0:"i"+o}];return E};function CSS(){}CSS.aD2=function(x,J){var o=x.add,c=o.vmsk,E=o.vstk,b=o.lmfx,l=o.TySh,i=[],F=CSS.wr(b,o),k=x.opacity/255*(x.add.iOpa!=null?x.add.iOpa/255:1);
if(k!=1)i.push("opacity: "+k.toFixed(3));if(x.A0()&&c){var U=q.p.d5(c.$);if(!U.Kx()){i.push("width: "+Math.round(U.m)+"px");
i.push("height: "+Math.round(U.e)+"px")}var I=q.p.aDx(c.$);if(I>0)i.push("border-radius: "+Math.round(I)+"px")}else if(l){var V=l.TC;
if(iv.hT(V)==1){var U=iv.C9(V);i.push("width: "+Math.round(U[2])+"px");i.push("height: "+Math.round(U[3])+"px")}CSS.a7h(i,iv.eU(V,0,0),l.M,!1,!1,F[0])}CSS.a8h(J,b,i);
if(l==null)CSS.akz(F,i);if(E==null||!E.strokeEnabled.v)E=cI.xE(b);if(E&&E.strokeEnabled.v){var u=E.strokeStyleContent.v,N=u.classID,e=E.strokeStyleOpacity.v.val/100,B=E.strokeStyleLineWidth.v.val,j="";
if(N=="solidColorLayer")j=CSS.Bs(u.Clr.v,e);i.push("border: "+B+"px solid "+j)}return i};CSS.a8h=function(x,J,o){if(J==null||!J.masterFXSwitch.v)return;
var c=J.dropShadowMulti.v.concat(J.innerShadowMulti.v);for(var $=0;$<c.length;$++){var E=c[$].v;if(E.enab.v){var b=E.classID=="IrSh",l=E.Dstn.v.val,i=E.lagl.v.val*Math.PI/180;
if(E.uglg&&E.uglg.v)i=x.xb()*Math.PI/180;var F=l*Math.cos(i),k=l*Math.sin(i),U=(F==0?"0 ":CSS.aao(-F)+"px ")+(k==0?"0 ":CSS.aao(k)+"px ")+E.blur.v.val/2+"px "+CSS.Bs(E.Clr.v,E.Opct.v.val/100);
if(b)o.push("box-shadow: inset "+U);else o.push("filter: drop-shadow("+U+")")}}};CSS.wr=function(x,J){var o=cI.tC(x,J),c=o[0],E=o[1],b,l;
if(c){b=CSS.Bs(c.Clr.v,J.iOpa!=null?J.iOpa/255:1)}else if(E){l=CSS.RB(E)}return[b,l]};CSS.akz=function(x,J){if(x[0])J.push("background-color: "+x[0]);
if(x[1])J.push("background-image: "+x[1])};CSS.Kq={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aao=function(bz){return""+parseFloat(bz.toFixed(3))};CSS.vp=function(x){if(x==null)return{o:0,I:0,J:0};
var J=x.indexOf("(");if(J!=-1){var o=x.slice(J+1,x.length-1).split(",");for(var $=0;$<o.length;$++){var c=o[$].trim();
o[$]=parseFloat(c)*(c.endsWith("%")?255/100:1)}return{o:o[0],I:o[1],J:o[2]}}if(x.charAt(0)!="#"){var E=CSS.Kq;
if(E[x])x=E[x];else console.log("unknown color "+x)}x=x.slice(1);if(x.length==4)x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]+x[3]+x[3];
if(x.length==3)x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2];var b=-1;if(x.length==8){b=parseInt(x.slice(6),16);x=x.slice(0,6)}x=parseInt(x,16);
var l={o:x>>16&255,I:x>>8&255,J:x&255};if(b!=-1)l.V=b;return l};CSS.Bs=function(x,J){return CSS.DP(q.r.fL(x),J)};
CSS.DP=function(x,J){if(J==null)J=1;var o=Math.round(x.o),c=Math.round(x.I),E=Math.round(x.J),b=o<<16|c<<8|E;
return J==1?"#"+q.uW(b):"rgba("+o+","+c+","+E+","+J+")"};CSS.RB=function(x){var J=x.Grad.v;if(J.Clrs==null)return"";
var o=J.Clrs.v.slice(0),c=J.Trns.v.slice(0),E=x.Ofst.v,b=x.Type.v.GrdT=="Rdl"?1:0,l=(b==1?"radial":"linear")+"-gradient",i=b==0?Math.round(-x.Angl.v.val+90)+"deg":"circle at center",F=x.Rvrs.v,k=q.r.nL(J,F);
for(var $=0;$<k.length;$++){var U=k[$],I=U[1];i+=", "+CSS.DP({o:I[0]*255,I:I[1]*255,J:I[2]*255},U[2])+" "+Math.round(U[0]*100)+"%"}return l+"("+i+")"};
CSS.a7h=function(x,J,o,c,E,b){var l=J.kJ,i=c?1:o.z1(),F=Math.round(l.FontSize*i);x.push("font-size: "+F+"px");
var k=l.Tracking;if(!c&&k!=null&&k!=0)x.push("letter-spacing: "+Math.round(k*F/1e3)+"px");if(!l.AutoLeading)x.push("line-height: "+Math.round(l.Leading*i)+"px");
if(l.Strikethrough)x.push("text-decoration: line-through");if(l.Underline)x.push("text-decoration: underline");
if(l.FontCaps==2)x.push("text-transform: uppercase");var U=iv.fL(l.FillColor);U=[U.o,U.I,U.J].map(Math.round);
x.push((c?"fill: ":"color: ")+(b?b:"#"+q.uW(U[0]<<16|U[1]<<8|U[2])));var I=J.SY[l.Font].Name;if(I){var V=cg.KW.wv(I),u="",N=null,e=null;
if(V!=null&&I!=cg.WX(V))V=null;if(E&&V)u+="\""+I+"\", ";var B=I.toLowerCase();if(V){N=cg.uj(V)[0];if(V["OS/2"])e=V["OS/2"].usWeightClass}else{N=CSS.aAa(I);
if(B.indexOf("light")!=-1)e=300;else if(B.indexOf("medium")!=-1)e=500;else if(B.indexOf("black")!=-1||B.indexOf("extrabold")!=-1)e=800;
else if(B.indexOf("bold")!=-1)e="bold"}if(N!=null)u+="\""+N+"\"";if(e!=null)x.push("font-weight: "+e);
if(B.indexOf("italic")!=-1||B.indexOf("oblique")!=-1)x.push("font-style: italic");if(u)x.push("font-family: "+u)}var j=J.zR.Justification;
if(j!=null&&j!=0)if(c){}else x.push("text-align: "+["left","right","center"][j%3])};CSS.aAa=function(x){x=x.split("-")[0];
while(x.endsWith("MT")||x.endsWith("PS"))x=x.slice(0,x.length-2);var J=!0;for(var $=0;$<x.length;$++){var o=x.charAt($);
if(!J&&o.toLowerCase()!=o){x=x.slice(0,$)+" "+x.slice($);$++;J=!0}else J=!1}return x};function kj(){}kj.V6={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
kj.uL=function(x,J){var o=Date.now(),c=x.split("\n"),E;if(c.length==1)c=x.split("\r");for(var $=0;$<c.length;
$++)if(c[$].trim()[0]=="#"){c[$]=""}x=c.join("\n");try{E=acorn.parse(x)}catch(j4){console.log(j4);return}var b=JSON.parse(JSON.stringify(kj.t8.Yd));
b.__return=!1;b.__continue=!1;b.__break=!1;b.__throw=!1;b.__fs={};b.__window={};kj.eval(E,J,b);var l=b.__fs;
if(Object.keys(l).length!=0){var i=UZIP.encode(l);bB.save(i,"output.zip")}};kj.eval=function(x,J,o){var c=x.type;
if(!1){}else if(c=="Program"||c=="BlockStatement"){var E=x.body;for(var $=0;$<E.length;$++){var b=E[$].type;
if(b=="FunctionDeclaration")o[E[$].id.name]=E[$]}for(var $=0;$<E.length;$++){var b=E[$].type,l=kj.eval(E[$],J,o);
if(o.__continue&&o.__pif==null){o.__continue=!1;return l}if(o.__return||o.__break||o.__throw)return l}}else if(c=="ReturnStatement"){o.__return=!0;
return x.argument?kj.Vs(x.argument,J,o):null}else if(c=="BreakStatement"){o.__break=!0}else if(c=="ContinueStatement"){o.__continue=!0}else if(c=="VariableDeclaration"){var i=x.declarations;
for(var $=0;$<i.length;$++)kj.eval(i[$],J,o)}else if(c=="VariableDeclarator"){o[x.id.name]=x.init?kj.Vs(x.init,J,o):null}else if(c=="FunctionDeclaration"){o[x.id.name]=x}else if(c=="MemberExpression"){var F=kj.Vs(x.object,J,o),k=x.computed?kj.Vs(x.property,J,o):kj.eval(x.property,J,o),l;
if(F.U!=null)l=kj.t8.Sy(F,k,J,o);else if(F==window&&kj.V6[k]){}else l=F[k];return l}else if(c=="ArrayExpression"){var U=[],I=x.elements;
for(var $=0;$<I.length;$++)U.push(kj.Vs(I[$],J,o));return U}else if(c=="ObjectExpression"){var U={},I=x.properties;
for(var $=0;$<I.length;$++){var V=I[$],u=I[$].key.name?I[$].key.name:I[$].key.value;U[u]=kj.Vs(I[$].value,J,o)}return U}else if(c=="ExpressionStatement"){return kj.eval(x.expression,J,o)}else if(c=="NewExpression"){var N=x.arguments,e=x.callee,B=e.type,j=e.name,T=[],U=null;
for(var $=0;$<N.length;$++)T.push(kj.Vs(N[$],J,o));if(j=="Array")U=new window[j];else if(B=="Identifier")U=kj.t8.as3(j,T,J,o);
else throw"e";if(U==null)throw"new "+j;return U}else if(c=="CallExpression"){var N=x.arguments,e=x.callee,B=e.type,a={};
for(var P in o)a[P]=o[P];var T=[];for(var $=0;$<N.length;$++)T.push(kj.Vs(N[$],J,o));if(B=="Identifier"){var v=e.name,R=o[v];
if(R&&R.U=="AppFunc"){v=R.LB;R=null}if(R){if(R.params){var y=R.params;for(var $=0;$<y.length;$++)a[y[$].name]=T[$];
return kj.eval(R.body,J,a)}else{return R.apply(null,T)}}else if(kj.t8.a1x.indexOf(v)!=-1)return kj.t8.B7({U:"Application"},v,T,J,o);
else if(window[v]==null)console.log("Unknown function "+v);else if(kj.V6[v])alert(v+"() not available");
else{var t=window[v].apply(window,T);return t}}else if(B=="MemberExpression"){var F=kj.Vs(e.object,J,o),k=e.computed?kj.Vs(e.property,J,o):kj.eval(e.property,J,o);
if(F==window&&kj.V6[k])return;if(F.U!=null)return kj.t8.B7(F,k,T,J,o);else if(k=="sort"&&F[0]&&F[0].U=="Layer"){return F.sort(function(s,M){return s.b.getName()>M.b.getName()?1:-1})}else if(k=="toSource")return JSON.stringify(F);
else return F[k].apply(F,T)}else if(B=="FunctionExpression"){return kj.eval(e.body,J,o)}else console.log(x)}else if(c=="AssignmentExpression"){var g=x.operator,H=x.left,_=H.type,Y=kj.Vs(H,J,o),K=kj.Vs(x.right,J,o),l=null;
if(!1){}else if(g=="=")l=K;else if(g=="+=")l=Y+K;else if(g=="-=")l=Y-K;else if(g=="*=")l=Y*K;else if(g=="/=")l=Y/K;
else if(g=="%=")l=Y%K;else if(g=="&=")l=Y&K;else if(g=="|=")l=Y|K;else if(g=="&&=")l=Y&&K;else if(g=="||=")l=Y||K;
else console.log(x);if(_=="Identifier"){var f=H.name;if(o.hasOwnProperty(f))o[f]=l;else o.__window[f]=l}else if(_=="MemberExpression"){var m=kj.eval(H.property,J,o),C=kj.Vs(H.object,J,o);
if(C.U!=null)kj.t8.ahi(C,m,l,J,o);else C[m]=l}else console.log(x);return l}else if(c=="Identifier")return x.name;
else if(c=="Literal")return x.value;else if(c=="UpdateExpression"){var g=x.operator,Z=x.argument.name,U=kj.Vs(x.argument,J,o),A=o;
if(A[Z]==null)A=o.__window;if(!1){}else if(g=="++"){A[Z]++;return x.prefix?A[Z]:A[Z]-1}else if(g=="--"){A[Z]--;
return x.prefix?A[Z]:A[Z]+1}else console.log(x)}else if(c=="UnaryExpression"){var g=x.operator,d=kj.Vs(x.argument,J,o);
if(d&&d.U=="UnitValue"){if(g=="-")return-d.b;else return kj.axR(d.b,g)}else return kj.axR(d,g)}else if(c=="BinaryExpression"||c=="LogicalExpression"){var g=x.operator,H=kj.Vs(x.left,J,o);
if(c=="LogicalExpression"&&g=="&&"&&!H)return H;var d=kj.Vs(x.right,J,o);if(H==null||d==null)return kj.zy(H,d,g);
else if(H.U=="UnitValue"&&d.U=="UnitValue")return kj.zy(H.b,d.b,g);else if(H.U=="UnitValue")return kj.zy(H.b,d,g);
else if(d.U=="UnitValue"){if(g=="-")return-(H-d.b);else return kj.zy(H,d.b,g)}else return kj.zy(H,d,g)}else if(c=="IfStatement"){var G=kj.Vs(x.test,J,o),r=o.__pif,l=null;
o.__pif=!0;if(G)l=kj.eval(x.consequent,J,o);else if(x.alternate)l=kj.eval(x.alternate,J,o);o.__pif=r;
return l}else if(c=="ConditionalExpression"){var G=kj.Vs(x.test,J,o);if(G)return kj.Vs(x.consequent,J,o);
else if(x.alternate)return kj.Vs(x.alternate,J,o)}else if(c=="ForInStatement"){kj.eval(x.left,J,o);var X=x.left.declarations[0].id.name,w=kj.Vs(x.right,J,o);
for(var P in w){o[X]=P;var S=kj.eval(x.body,J,o);if(o.__break)break;if(o.__return)return S}o.__break=!1}else if(c=="ForStatement"){kj.eval(x.init,J,o);
while(kj.eval(x.test,J,o)){var S=kj.eval(x.body,J,o);if(o.__break)break;if(o.__return)return S;kj.eval(x.update,J,o)}o.__break=!1}else if(c=="DoWhileStatement"){do{var S=kj.eval(x.body,J,o);
if(o.__break)break;if(o.__return)return S}while(kj.eval(x.test,J,o));o.__break=!1}else if(c=="TryStatement"){kj.eval(x.block,J,o);
if(o.__throw){var z=x.handler;o[z.param.name]=o.__throw;o.__throw=!1;kj.eval(z.body,J,o);delete o[z.param.name]}}else if(c=="EmptyStatement"){}else console.log(x)};
kj.zy=function(x,J,o){if(o=="+")return x+J;else if(o=="-")return x-J;else if(o=="*")return x*J;else if(o=="/")return x/J;
else if(o=="%")return x%J;else if(o=="^")return x^J;else if(o=="&")return x&J;else if(o=="&&")return x&&J;
else if(o=="|")return x|J;else if(o=="||")return x||J;else if(o=="<")return x<J;else if(o==">")return x>J;
else if(o=="=="){if(x!=null&&J!=null&&x.U&&J.U)return x.b==J.b;return x==J}else if(o=="===")return x===J;
else if(o=="<=")return x<=J;else if(o==">=")return x>=J;else if(o=="!=")return x!=J;else if(o=="!==")return x!==J;
else if(o=="<<")return x<<J;else if(o==">>")return x>>J;else console.log(o)};kj.axR=function(x,J){if(J=="-")return-x;
else if(J=="!")return!x;else if(J=="~")return~x;else if(J=="+")return x;else if(J=="typeof")return typeof x;
else console.log(J,x)};kj.Vs=function(x,J,o){var c=x.type;if(c=="Identifier")return kj.aaO(x.name,J,o);
else return kj.eval(x,J,o)};kj.aaO=function(x,J,o){if(x=="undefined")return undefined;else if(o.hasOwnProperty(x))return o[x];
else if(x=="app")return{U:"Application"};else if(x=="Folder")return{U:"Folder"};else if(x=="File")return{U:"File"};
else if(x=="$")return{U:"$"};else if(kj.t8.a70.indexOf(x)!=-1)return kj.t8.Sy({U:"Application"},x,J,o);
else if(kj.t8.a1x.indexOf(x)!=-1)return{U:"AppFunc",LB:x};else if(o.__window.hasOwnProperty(x))return o.__window[x];
else if(window[x]&&!kj.V6[x])return window[x];else{o[x]=null;return null}};kj.t8={};kj.t8.as3=function(x,J,o,c){var E;
if(x=="SolidColor")E={U:x,b:[1,0,0,0]};if(x=="RGBColor")E={U:x,b:[1,0,0,0]};if(x=="Window")E={U:x,b:new d6(J[0],J[1],J[2])};
if(x=="ExportOptionsSaveForWeb")E={U:x,b:{UY:"png",Ep:100}};if(x=="PhotoshopSaveOptions")E={U:x,b:{UY:"psd"}};
if(x=="PNGSaveOptions")E={U:x,b:{UY:"png",Ep:100}};if(x=="JPEGSaveOptions")E={U:x,b:{UY:"jpg",Ep:100}};
if(x=="PDFSaveOptions")E={U:x,b:{UY:"pdf",apd:""}};if(x=="File")E={U:x,b:J[0]};if(x=="ActionReference")E={U:x,b:[]};
if(x=="ActionDescriptor")E={U:x,b:{classID:"null"}};if(x=="ActionList")E={U:x,b:[]};if(x=="UnitValue")E={U:x,b:J.length==0?0:parseFloat(J[0])};
return E};kj.t8.a70="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
kj.t8.a1x="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
kj.t8.Sy=function(x,J,o,c){var E=o.lg,b=o.je();if(!1){}else if(J=="typename"){if(x.U=="Layer")return x.b.Zk()?"LayerSet":"ArtLayer";
else return x.U}else if(["Document","Layer"].indexOf(x.U)!=-1&&["layers","artLayers","layerSets"].indexOf(J)!=-1){var l=b;
if(x.U=="Document")l=x.b;else l=x.a6;var i=l.root,F={U:"Layers",a1p:J,b:[],a6:l};if(x.U=="Layer")i=l.root.qX(l.B.indexOf(x.b));
if(i.children==null)return null;for(var $=0;$<i.children.length;$++){var k=i.children[$].a,U=k.Zk();
if(U&&J=="artLayers"||!U&&J=="layerSets")continue;F.b.push({U:"Layer",b:k,a6:l})}F.b.reverse();return F}else if(x.U=="Documents"||x.U=="Layers"||x.U=="HistoryStates"||x.U=="LayerComps"){if(!1){}else if(J=="length")return x.b.length;
else if(Number.isInteger(J))return x.b[J];else console.log(x.U+": unknown property ",J)}else if(x.U=="Application"){if(!1){}else if(J=="activeDocument")return{U:"Document",b:o.je()};
else if(J=="documents"){var F={U:"Documents",b:[]};for(var $=0;$<o.Zw.length;$++)F.b.push({U:"Document",b:o.Zw[$]});
return F}else if(J=="fonts")return{U:"TextFonts"};else if(J=="preferences")return{U:"Preferences"};else if(J=="displayDialogs")return{U:"DialogModes"};
else if(J=="foregroundColor"||J=="backgroundColor"){var I=J[0]=="f"?E.Q6:E.xR;return{U:"SolidColor",b:[1,(I>>>16&255)/255,(I>>>8&255)/255,(I>>>0&255)/255]}}else if(J=="UI")return{U:"UI"};
else if(J=="version")return 30;else console.log(x,J)}else if(x.U=="Document"){var b=x.b;if(!1){}else if(J=="activeLayer"){var k=b.B[b.g[0]];
return{U:"Layer",b:k,a6:b}}else if(J=="resolution")return b.yV;else if(J=="width")return b.m;else if(J=="height")return b.e;
else if(J=="name")return b.name;else if(J=="saved")return!b.kG();else if(J=="selection")return{U:"Selection"};
else if(J=="activeHistoryState")return{U:"HistoryState",cD:b.sW};else if(J=="source")return b.z8;else if(J=="layerComps"){var V=b.Ib.list.v,u=[];
for(var $=0;$<V.length;$++)u.push({U:"LayerComp",b:$});return{U:"LayerComps",b:u}}else if(J=="historyStates"){var N=[];
for(var $=0;$<b.history.length;$++)N.push({U:"HistoryState",cD:$});return{U:"HistoryStates",b:N}}else if(J=="mode")return 7;
else if(J=="colorSamplers"){var F={U:"ColorSamplers",a1p:J,b:b.Eb.slice(0),a6:b};return F}else console.log(x,J)}else if(x.U=="LayerComp"){if(J=="name")return b.Ib.list.v[x.b].v.Nm.v;
else throw J}else if(x.U=="ColorSamplers"){if(Number.isInteger(J))return{U:"ColorSampler",b:x.b[J]};
else if(J=="length")return b.Eb.length}else if(x.U=="ColorSampler"){if(J=="color"){var I=n.um.Tx(b,b.Q.OY(x.b.x,x.b.y),1,2);
return{U:"SolidColor",b:[1,(I>>>16&255)/255,(I>>>8&255)/255,(I>>>0&255)/255]}}else if(J=="position")return[x.b.x,x.b.y]}else if(x.U=="Layer"){var e={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},k=x.b;
if(!1){}else if(J=="visible")return k.kR();else if(J=="selected")return b.g.indexOf(b.B.indexOf(k))!=-1;
else if(J=="grouped")return k.$j;else if(e[J]!=null)return k.Sm(e[J]);else if(J=="opacity")return k.opacity*100/255;
else if(J=="fillOpacity")return(k.add.iOpa==null?255:k.add.iOpa)*100/255;else if(J=="blendMode")return k.n5;
else if(J=="name")return k.getName();else if(J=="textItem")return{U:"TextItem",b:k};else if(J=="bounds"){var B=n.Y.mZ(b,[b.B.indexOf(k)]);
return kj.t8.agV(B,b)}else if(J=="parent"){var j=o.Zw,l;for(var $=0;$<j.length;$++)if(j[$].B.indexOf(k)!=-1)l=j[$];
var T=l.root.qX(l.B.indexOf(k)).parent;return T.depth==0?{U:"Document",b:l}:{U:"Layer",b:T.a,a6:l}}else if(J=="kind"){var a=kj.t8.DS;
for(var $=0;$<a.length;$++)if(k.add[a[$]]!=null)return $;return 0}else if(J=="isBackgroundLayer")return k.add.lnsr="bgnd";
else console.log(x,J)}else if(x.U=="Selection"){if(!1){}else if(J=="bounds"){if(b.u==null)c.__throw={message:"no selection"};
else return kj.t8.agV(b.u.rect,b)}else console.log(x,J)}else if(x.U=="TextItem"){var P=x.b.add.TySh,v=P.TC,R=iv.K1(v),y=P.M.z1(),t=iv.eU(v,0,0);
if(J=="contents")return R.slice(0,R.length-1).replace(/\n/g,"\r");else if(J=="font")return t.kJ.Font!=null?t.SY[t.kJ.Font].Name:null;
else if(J=="size")return kj.t8.oA(t.kJ.FontSize*y,b);else if(J=="leading")return kj.t8.oA(t.kJ.Leading*y,b);
else if(J=="tracking")return kj.t8.oA(t.kJ.Tracking);else if(J=="baselineShift")return kj.t8.oA(t.kJ.BaselineShift);
else if(J=="fauxBold")return t.kJ.FauxBold;else if(J=="fauxItalic")return t.kJ.FauxItalic;else if(J=="kind")return 1-iv.hT(v);
else if(J=="useAutoLeading")return t.zR.AutoLeading;else if(J=="hyphenation")return t.zR.AutoHyphenate;
else if(J=="justification")return kj.t8.oA(t.zR.Justification);else if(J=="color")return{U:"SolidColor",b:t.kJ.FillColor.Values.slice(0)};
else if(J=="width"||J=="height"){var g=iv.C9(v),H=(g[2]-g[0])*y,_=(g[3]-g[1])*y;return kj.t8.oA(J=="width"?H:_,b)}else if(J=="position"){var Y=P.M;
return kj.t8.avY([Y.Iw,Y.s7],b)}else if(J=="horizontalScale"||J=="verticalScale"){var K=J[0].toUpperCase()+J.slice(1);
return Math.round(t.kJ[K]*100)}else if(J=="antiAliasMethod")iv.ea(P);else if(J=="totalTextStyle"){var F={};
for(var f=0;f<2;f++){var m=["Style","Paragraph"][f],C=v.EngineDict[m+"Run"].RunLengthArray,Z=[],A=0;
for(var $=0;$<C.length;$++){var d=iv.eU(v,A,Math.min(A+C[$],R.length-2));A+=C[$];Z.push(f==0?d.kJ:d.zR);
F.fontSet=d.SY}F[m]={runs:C,styles:Z}}return JSON.stringify(F)}else if(J=="transform"){var Y=P.M;return JSON.stringify([Y.V,Y.J,Y.xt,Y.Lu,Y.Iw,Y.s7])}else console.log(x,J)}else if(x.U=="Preferences"){if(J=="rulerUnits")return E.Km.jm;
else console.log(x,J)}else if(x.U=="SolidColor"){if(J=="rgb")return{U:"RGBColor",b:x.b};if(J=="cmyk")return{U:"CMYKColor",b:q.cE(x.b.slice(1))};
else console.log(x,J)}else if(x.U=="RGBColor"){var B=Math.round(255*x.b[1]),G=Math.round(255*x.b[2]),r=Math.round(255*x.b[3]);
if(!1){}else if(J=="red")return B;else if(J=="green")return G;else if(J=="blue")return r;else if(J=="hexValue")return"#"+q.uW(B<<16|G<<8|r).toUpperCase();
else console.log(x,J)}else if(x.U=="CMYKColor"){var X=[];for(var $=0;$<4;$++)X.push(Math.round(x.b[$]*100));
var w=["cyan","magenta","yellow","black"].indexOf(J);if(w!=-1)return X[w];else console.log(x,J)}else if(x.U=="UnitValue"){if(J=="value")return x.b;
else throw"e"}else if(x.U=="ExportOptionsSaveForWeb"){if(J=="format")return x.b.UY;else if(J=="PNG8"||J=="interlaced")return!1;
else if(J=="quality")return x.b.Ep;else if(J=="transparency")return!0;else throw J}else if(x.U=="PNGSaveOptions"||x.U=="JPEGSaveOptions"||x.U=="PDFSaveOptions"){return 0}else if(x.U=="$"){if(J=="localize")return!1;
else if(J=="os")return"Windows";else throw J}else if(x.U=="ActionList"){if(J=="count")return x.b.v.length;
else throw J}else console.log(x,J)};kj.t8.agV=function(x,J){return kj.t8.avY([x.x,x.y,x.x+x.m,x.y+x.e],J)};
kj.t8.avY=function(x,J){var o=[];for(var $=0;$<x.length;$++)o.push(kj.t8.oA(x[$],J));return o};kj.t8.aS=function(x){var J=[];
for(var $=0;$<x.length;$++)J.push(x[$].U?x[$].b:x[$]);return J};kj.t8.oA=function(x,J){return{U:"UnitValue",b:x}};
kj.t8.auf=function(x,J){if(x.U=="UnitValue")return x.b;return x};kj.t8.ahi=function(x,J,o,c,E){var b=new ko(L.E.f,!0),l=new ko(L.E.N,!0),i=c.je(),F=c.lg;
if(!1){}else if(x.U=="Application"){if(!1){}else if(J=="activeDocument"){l.data={d:L.H.wl,Th:o.b};c.c(l)}else if(J=="displayDialogs"){}else if(J=="foregroundColor"||J=="backgroundColor"){var k=o.b,U=k[1]*255<<16|k[2]*255<<8|k[3]*255<<0;
l.data={d:L.H.bS,KJ:h4.uq,XC:J=="foregroundColor"?0:1,b:U};c.c(l)}else console.log(x,J,o)}else if(x.U=="Document"){var V=x.b;
if(!1){}else if(J=="name"){b.v=n.uH;b.data={d:h.TL,b:o,agY:!0,NK:V};i.o0=!0}else if(J=="source")V.z8=o;
else if(J=="activeLayer"){V.g=[V.B.indexOf(o.b)]}else if(J=="activeHistoryState"){b.v=n.$y;b.data={d:"h_itemchange",index:o.cD}}else console.log(x,J)}else if(x.U=="Layer"){b.v=n.uH;
var u={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},N=x.b,e=i.B.indexOf(N);
if(!1){}else if(J=="visible"){if(N.kR()!=o)b.data={d:h.cm,a:e}}else if(J=="opacity"){b.data={d:h.CE,a:e,_Q:Math.round(255*o/100)}}else if(J=="fillOpacity"){b.data={d:h.a9,a:e,_Q:Math.round(255*o/100)}}else if(J=="blendMode"){b.data={d:h.QA,a:e,_Q:iP.f5.indexOf(o)}}else if(J=="name"){b.data={d:h.mx,a:e,name:o}}else if(u[J]!=null){b.data={d:h.QF,a:e,_Q:[[o],[u[J]]]}}else if(J=="kind"){b.data={d:h.RI,a:e,P5:kj.t8.DS[o]}}else if(J=="grouped"){b.data={d:h.LE,a:e,_Q:o}}else console.log(x,J,o)}else if(x.U=="TextItem"){b.v=n.eY;
var N=x.b,B=N.add.TySh,j=JSON.parse(JSON.stringify(B.TC)),T=B.M.clone(),a=B.M.z1(),P=iv.K1(j),v=iv.eU(j,0,P.length-2),R=!1;
if(!1){}else if(J=="contents"){iv.mS(j,0,P.length-1);iv.Jq(j,0,o.replace(/\r/g,"\n"))}else if(J=="size"){v.kJ.FontSize=(o.b!=null?o.b:o)/a;
R=!0}else if(J=="leading"){v.kJ.Leading=(o.b!=null?o.b:o)/a;R=!0}else if(J=="tracking"){v.kJ.Tracking=o.b!=null?o.b:o;
R=!0}else if(J=="baselineShift"){v.kJ.BaselineShift=o.b!=null?o.b:o;R=!0}else if(J=="fauxBold"){v.kJ.FauxBold=o;
R=!0}else if(J=="fauxItalic"){v.kJ.FauxItalic=o;R=!0}else if(J=="kind"){var y=iv.hT(j);if(y==1&&o==1){var t=new gD(j,c.lg.a0).zR[0],g=t.EE[0].end,H=t.DM[g-1].end;
iv.mS(j,0,P.length-1);iv.Jq(j,0,P.slice(0,H-1))}if(y==o)iv.Ag(j,1-o)}else if(J=="useAutoLeading"){v.zR.AutoLeading=o;
R=!0}else if(J=="hyphenation"){v.zR.AutoHyphenate=o;R=!0}else if(J=="justification"){v.zR.Justification=o;
R=!0}else if(J=="font"){iv.UE(v,o);R=!0}else if(J=="color"){v.kJ.FillColor.Values=o.b.slice(0);R=!0}else if(J=="width"||J=="height"){var _=iv.C9(j).slice(0),Y=kj.t8.auf(o);
if(J=="width")_[2]=Math.round(_[0]+Y/a);else _[3]=Math.round(_[1]+Y/a);iv.UC(j,_)}else if(J=="position"){T.Iw=o[0];
T.s7=o[1]}else if(J=="horizontalScale"||J=="verticalScale"){var K=J[0].toUpperCase()+J.slice(1);v.kJ[K]=o/100;
R=!0}else if(J=="antiAliasMethod")iv.pT(B,o);else console.log(x,J,o);if(R)iv.oO(j,0,P.length-1,v);b.data={d:"newED",mo:i.B.indexOf(N),$d:j,M:T}}else if(x.U=="Preferences"){if(!1){}else if(J=="rulerUnits"){var f=JSON.parse(JSON.stringify(F.Km));
f.jm=o;l.data={d:L.H.bS,KJ:h4.MU,_Q:f};c.c(l)}else console.log(x,J,o)}else if(x.U=="SolidColor"){if(J=="rgb")x.b=o.b;
else throw J}else if(x.U=="RGBColor"){if(!1){}else if(J=="red")x.b[1]=o/255;else if(J=="green")x.b[2]=o/255;
else if(J=="blue")x.b[3]=o/255;else if(J=="hexValue"){var m=q.pO(o.slice(1));x.b[1]=(m>>>16&255)/255;
x.b[2]=(m>>>8&255)/255;x.b[3]=(m>>>0&255)/255}else console.log(x,J)}else if(x.U=="ExportOptionsSaveForWeb"){if(J=="format")x.b.UY=o;
else if(J=="PNG8"||J=="transparency"||J=="interlaced"){}else if(J=="quality")x.b.Ep=o;else throw J}else if(x.U=="PNGSaveOptions"||x.U=="JPEGSaveOptions"){if(J=="quality")x.b.Ep=Math.round(100*o/12)}else if(x.U=="PDFSaveOptions"){if(J=="preset")x.b.apd=o}else if(x.U=="$"){if(J=="localize"){}}else console.log(x,J,o);
if(b.data!=null)c.c(b)};kj.t8.B7=function(x,J,o,c,E){var b=x.U,l=null,i=new ko(L.E.f,!0),F=new ko(L.E.p4,!0),k=new ko(L.E.N,!0),U=c.je(),V=c.Zw;
if(!1){}else if(b=="Application"){if(!1){}else if(J=="charIDToTypeID"){var u=o[0].trim(),N={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show"};
return N[u]?N[u]:u}else if(J=="stringIDToTypeID"){var e=o[0].trim(),N={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},B=N[e];
return B==null?e:B}else if(J=="typeIDToStringID"){return o[0].trim()}else if(J=="executeAction"){console.log(o);
var j;if(o[1]){j=o[1].b;j.classID=o[0]}var T={setd:"set"},a=T[o[0]];if(a==null)a=o[0];var P=dv.jh[o[0]];
if(P&&dv.V5[P])a=dv.V5[P];F.data={bV:a,Rx:j}}else if(J=="executeActionGet"){var v=o[0].b,l={};console.log(v);
if(v.length==1){var R=l.classID=v[0].v.classID;if(R=="Lyr"){var y=hi.yv(U,v[0]),t=U.B[y],g=t.add.SoLd;
l.smartObjectMore={t:"Objc",v:{transform:g.nonAffineTransform}}}return{U:"ActionDescriptor",b:{t:"null",v:l}}}if(v.length==2){var R=l.classID=v[1].v.classID,e=v[0].v.keyID;
if(R=="Dcmn"){var H=U;if(e=="numberOfLayers")l[e]={t:"long",v:H.B.length};else throw e}else if(R=="Lyr"){var y=hi.yv(U,v[1]),t=U.B[y],_=t.add.TySh;
if(e=="textKey"){if(_){var Y=_.TC.EngineDict.StyleRun.RunArray,K=_.TC.ResourceDict.FontSet,f=[];for(var $=0;
$<Y.length;$++){var m=Y[$].StyleSheet.StyleSheetData,C=K[m.Font].Name,Z=c.lg.a0.wv(C);if(Z&&Z.name.postScriptName!=C)Z=null;
f.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:Z!=null},fontPostScriptName:{t:"TEXT",v:C}}}}})}l[e]={t:e,v:{textStyleRange:{t:"obj ",v:f}}}}}else throw e}else throw R;
return{U:"ActionDescriptor",b:{t:"null",v:l}}}}else if(J=="doAction"){k.data={d:L.H._t,T1:[o[0],o[1]]}}else if(J=="bringToFront"){}else if(J=="open"){k.data={d:L.H.lL,KJ:{url:o[0]}};
if(o[2]&&V.length!=0)k.data.KJ.dD=V.indexOf(U)}else if(J=="echoToOE"){k.data={d:L.H.rG,KJ:o[0]}}else if(J=="showWindow"){k.data={d:L.H.yI,AN:o[0]}}else if(J=="UnitValue"){return o[0]+" "+o[1]}else console.log(J)}else if(b=="LayerComp"){if(J=="apply"){i.v=n.mY;
i.data={d:"setLC",cD:U.Ib.list.v[x.b].v.compID.v}}else throw J}else if(b=="Document"){var U=x.b;if(!1){}else if(J=="crop"){F.data=n.Pm.ahl(o[0])}else if(J=="trim"){var A=[];
for(var $=0;$<4;$++)A.push(o[$+1]!=null?o[$+1]:!0);F.data=n.Pm.y1(o[0]!=null?o[0]:0,A)}else if(J=="suspendHistory"){var d=acorn.parse(o[1]);
kj.eval(d,c,E)}else if(J=="save"){k.data={d:L.H.YO}}else if(J=="saveToOE"){k.data={d:L.H.YO,IG:o}}else if(J=="rotateCanvas"){F.data=n.Y.zt(!0,o[0])}else if(J=="resizeImage"||J=="resizeCanvas"){var G=o[0],r=o[1];
if(typeof G!="number"){G=U.m*parseFloat(G.slice(0,G.length-1))/100;r=U.e*parseFloat(r.slice(0,r.length-1))/100}if(J=="resizeCanvas")F.data=n.Pm.a8K(Math.round(G),Math.round(r),o[2]);
else F.data=n.Pm.av6(Math.round(G),Math.round(r),null,1)}else if(J=="paste"){k.data={d:L.H.R9,f2:o.length!=0&&o[0],ll:!0}}else if(J=="close"){k.data={d:L.H.JN,PN:U}}else if(J=="exportDocument"||J=="saveAs"){var X=E.__fs,w=J=="exportDocument"?o[2].b:o[1].b,S=o[0].b.replace(":","").replace("~/","");
if(!S.toLowerCase().endsWith("."+w.UY))S+="."+w.UY;var z=hR.GU(U,w.UY,null,null,w.UY=="pdf"?null:[w.Ep],c.lg);
X[S]=new Uint8Array(z)}else if(J=="flatten"){F.data={bV:"flattenImage"}}else if(J=="clearHistory"){i.v=n.$y;
i.data={d:"h_clear",force:!0}}else console.log(x,J,o)}else if(b=="Layer"){var s=x.b,y=U.B.indexOf(s);
if(!1){}else if(J=="copy"){kj.t8.t0(U,c,0);k.data={d:L.H._4,Xo:o[0],gg:y,ll:!0};c.c(k);delete k.data;
kj.t8.t0(U,c,1)}else if(J=="clear"){kj.t8.t0(U,c,0);F.data={bV:"delete"};c.c(F);delete F.data;kj.t8.t0(U,c,1)}else if(J=="duplicate"){if(o.length==0){var M=U.g.slice(0);
i.data={d:h.gc,a:y};i.v=n.uH;c.c(i);i.data=null;l={U:"Layer",b:U.B[U.g[0]],a6:x.a6};U.g=M}else if(o[0].U=="Document"){i.data={d:h.IK,B:U.VG(y),HM:U,Lk:o[0].b};
i.v=n.uH}if(i.data){c.c(i);i.data=null;return{U:"Layer",b:U.B[U.g[0]],a6:U}}}else if(J=="merge"||J=="remove"){i.data={d:J=="merge"?h.w2:h.ni,a:y};
i.v=n.uH;if(J!="remove")l={U:"Layer",b:U.B[U.g[0]],a6:x.a6}}else if(J=="move"){i.data={d:h.z5,source:y,target:U.B.indexOf(o[0].b),vL:o[1]!=3?.6:.3};
i.v=n.uH}else if(J=="rasterize"){i.v=n.uH;i.data={d:h.aN,a:y};c.c(i);i.data=null;x.b=U.B[y]}else if(J=="rotate"){i.data={d:"rot",wd:[2,5],b:-o[0]*Math.PI/180,vQ:o[1],a:y};
i.v=n.Ih}else if(J=="resize"){i.data={d:"scl",wd:[2,4],b:new ck(o[0]/100,o[1]/100),vQ:o[2],a:y};i.v=n.Ih}else if(J=="translate"){var Q=kj.t8.aS(o);
i.data={d:"trsl",a:y,k2:Q[0],h0:Q[1]};i.v=n.ug}else if(J=="link"){i.data={d:h.wN,az0:[y,U.B.indexOf(o[0].b)]};
i.v=n.uH}else if(J=="invert"){i.v=n.pC;i.data={d:"start",fI:"nvrt"}}else if(J=="desaturate"){F.data={bV:"desaturate"}}else if(J.startsWith("apply")&&fn.qp[J.slice(5)]||J.startsWith("adjust")&&fn.qp[J.slice(6)]){var O=J.startsWith("apply"),Q=kj.t8.aS(o),W=fn.qp[J.slice(O?5:6)];
if(W=="Dspl"){for(var $=0;$<U.B.length;$++)if(U.B[$].getName()==Q[4]){Q[4]=U.B[$].add.SoLd.Idnt.v;break}}F.data={bV:O?fn.V5[W]:dv.V5[W]};
var j=fn.Bt(W);if(j){U.g=[y];fn.sR["g"+W](j,Q);F.data.Rx=j}}else if(J=="applyStyle"){var e9=c.lg.sU,m=null;
for(var $=0;$<e9.length;$++)if(e9[$].OA.Nm.v.split("/").pop()==o[0])m=e9[$];if(m==null){alert("Style not found!");
return}i.v=n.yq;i.data={d:"setstl",b:m.oe,a:y};c.c(i);i.data={d:"confirm",a:y}}else console.log(x,J,o)}else if(b=="Documents"){if(J=="getByName"){for(var $=0;
$<V.length;$++)if(V[$].name==o[0])return{U:"Document",b:V[$]};return null}else if(J=="add"){if(o.length==0)o=[100,100,72,"New Project"];
var jV=o[5];if(jV==null)jV=1;F.data=hk.qm(o[0],o[1],o[2],o[3],["Wht","Trns","BckC"][jV],!1);c.c(F);F.data=null;
return{U:"Document",b:c.je()}}else throw"e"}else if(b=="Layers"){if(J=="getByName"){for(var $=0;$<x.b.length;
$++)if(x.b[$].b.getName()==o[0]){l=x.b[$];break}if(l==null)E.__throw={message:"No layer with a name "+o[0]}}else if(J=="add"){i.data={d:x.a1p=="layerSets"?h.ag:h.H5};
i.v=n.uH;c.c(i);i.data=null;l={U:"Layer",b:U.B[U.g[0]],a6:x.a6}}else console.log(x,J,o)}else if(x.U=="Selection"){if(J=="select"){var co=o[0],dz=[];
for(var $=0;$<co.length;$++)dz.push(co[$][0],co[$][1]);F.data=n.vh.HZ(kj.t8.aS(dz))}else if(J=="clear"){F.data={bV:"delete"}}else if(J=="selectAll"){F.data=n.vh.No(!0)}else if(J=="invert"){F.data={bV:"inverse"}}else if(J=="copy"){k.data={d:L.H._4}}else if(J=="deselect"){F.data=n.vh.No()}else if(J=="fill"){var eh=o[0].b;
eh=q.r.qP({o:eh[1]*255,I:eh[2]*255,J:eh[3]*255});F.data=n.mv.uQ("Clr",o[1],o[2]==null?1:o[2]/100,eh)}else if(J=="grow"||J=="similar"){var j={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(o[0]!=null)j.Tlrn={t:"long",v:o[0]};F.data={bV:J,Rx:j}}else if(J=="expand"||J=="contract"||J=="feather"){F.data=n.vh.gh(J,o[0],!0)}else if(J=="translate"){var j={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o[1]}}}}};
F.data={bV:"move",Rx:j}}else if(J=="smooth"){F.data=n.vh.gh("smoothness",o[0],!1)}else if(J=="stroke"){var m=JSON.parse(bs.Kl[1]),a9=m.Clr.v,eh=o[0].b;
a9.Rd.v=eh[1]*255;a9.Grn.v=eh[2]*255;a9.Bl.v=eh[3]*255;m.Sz.v.val=o[1];m.Styl.v.FStl=bs.stroke.types[o[2]];
console.log(m,o);i.v=n.FI;i.data={d:"stroke",ak8:m}}else console.log(x,J,o)}else if(x.U=="Window"){if(J=="show"){k.data={d:L.H.yI,AN:x.b}}else throw"e"}else if(x.U=="ActionReference"){if(J=="putProperty"){x.b.push({t:"prop",v:{classID:o[0],keyID:o[1]}})}else if(J=="putClass"){x.b.push({t:"Clss",v:{classID:o[0]}})}else if(J=="putEnumerated"){x.b.push({t:"Enmr",v:{classID:o[0],typeID:o[1],enum:o[2]}})}else if(J=="putName"){x.b.push({t:"name",v:{classID:o[0],val:o[1]}})}else if(J=="putIndex"){x.b.push({t:"indx",v:{classID:o[0],val:o[1]}})}else console.log(J,o)}else if(x.U=="ActionDescriptor"||x.U=="ActionList"){if(J=="putReference"){x.b[o[0]]={t:"obj ",v:o[1].b}}else if(J=="putDouble"){x.b[o[0]]={t:"doub",v:o[1]}}else if(J=="putUnitDouble"){x.b[o[0]]={t:"UntF",v:{type:o[1],val:o[2]}}}else if(J=="putObject"){if(x.U=="ActionList"){var kB=o[1].b;
kB.classID=o[0];x.b.push({t:"Objc",v:kB})}else{var kB=o[2].b;kB.classID=o[1];x.b[o[0]]={t:"Objc",v:kB}}}else if(J=="putList"){x.b[o[0]]={t:"VlLs",v:o[1].b}}else if(J=="putBoolean"){x.b[o[0]]={t:"bool",v:o[1]}}else if(J=="putInteger"){x.b[o[0]]={t:"long",v:o[1]}}else if(J=="putString"){x.b[o[0]]={t:"TEXT",v:o[1]}}else if(J=="putEnumerated"){var dc={};
dc[o[1]]=o[2];x.b[o[0]]={t:"enum",v:dc}}else if(J=="hasKey"){return x.b.v[o[0]]!=null}else if(J=="getEnumerationValue"){if(o[0]=="layerSection")l="layerSectionContent";
else console.log(o)}else if(J=="getBoolean"){l=x.b.v[o[0]].v}else if(J=="getString"){l=x.b.v[o[0]].v}else if(J=="getObjectValue"){var l=x.b.v[o[0]];
return{U:"ActionDescriptor",b:l}}else if(J=="getList"){var l=x.b.v[o[0]];return{U:"ActionList",b:l}}else if(J=="getInteger"||J=="getDouble"){return x.b.v[o[0]].v}else console.log(J,o)}else if(x.U=="$"){if(J=="writeln"){console.log(o[0])}else throw J}else if(x.U=="UI"){if(J=="scroll"||J=="scrollTo"){var eT=o[0],fv=o[1],jS=U.Q.Z;
if(J=="scrollTo"){eT=(-U.m/2+eT)*jS+U.Q.z.x;fv=(-U.e/2+fv)*jS+U.Q.z.y}i.v=n.cL;i.data={d:"scroll",s_:new ck(Math.round(eT),Math.round(fv))}}else{var cx;
if(J=="zoomIn"||J=="zoomOut"){cx={d:"zoom",ZD:J=="zoomIn"}}else if(J=="fitTheArea"){cx={d:"adapt",b:"fitscr"}}else if(J=="pixelToPixel"){cx={d:"adapt",b:"pixel"}}i.v=n.PE;
i.data=cx;if(J=="switchFullscreen"){var bX=c.lg.uO,gi=document.fullscreenElement!=null==(bX==2);k.data={d:L.H.ri,b:bX==0?2:0,S6:gi}}}}else if(x.U=="ColorSamplers"){if(J=="removeAll")U.Eb=[];
else if(J=="add"){var cM={x:o[0][0],y:o[0][1]};U.Eb.push(cM);var l={U:"ColorSampler",b:cM}}}else if(x.U=="ColorSampler"){if(J=="move"){var ea=U.Eb.indexOf(x.b);
cM=U.Eb[ea];cM.x=o[0][0];cM.y=o[0][1]}else if(J=="remove"){var ea=U.Eb.indexOf(x.b);U.Eb.splice(ea,1)}}else if(x.U=="Folder"){if(J=="selectDialog")l="img";
else throw J}else if(x.U=="File"){if(J=="openDialog")alert("A website can not show the Open dialog from a script");
else throw J}else console.log(x,J,o);if(i.data)c.c(i);if(F.data)c.c(F);if(k.data)c.c(k);return l};kj.t8.t0=function(x,J,o){var c=new ko(L.E.f,!0);
c.v=n.Ks;var E=new ko(L.E.p4,!0);if(o==0){kj.t8.avZ=x.u;E.data=n.vh.No(!0)}else{var b=kj.t8.avZ;if(b)c.data={d:"setsel",wd:"Restore Selection",u:{rect:b.rect.clone(),channel:b.channel.slice(0)}};
else E.data=n.vh.No()}J.c(c.data?c:E)};kj.t8.avZ=null;kj.t8.Yd={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2}};
kj.t8.Yd.ColorBlendMode=kj.t8.Yd.BlendMode;kj.t8.DS="---- SoLd TySh SoCo GdFl PtFl".split(" ");function eK(){}eK.RE={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
eK.Gy={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
eK.a3f=function(x,J){if(J==null)J={};var o=eK.Gy,c=[],E=[],b="";for(var $=0;$<x.length;$++){var l=x[$],i=o[l[0]+""];
if(i&&J[i]==null)J[i]=l[1];else if(l[0]==12)E.push(l[1]);else if(l[0]==25)c.push(l[1]);else if(l[0]==55)b=l[1];
else if(l[0]==60)b+=";"+l[1]}if(b!=""&&J["exif:DateTimeOriginal"]==null)J["exif:DateTimeOriginal"]=b;
if(E.length!=0&&J["Iptc4xmpCore:SubjectCode"]==null)J["Iptc4xmpCore:SubjectCode"]=E.join(";");if(c.length!=0&&J["dc:Keywords"]==null)J["dc:Keywords"]=c.join(";");
return J};eK.aBr=function(x){var J=eK.Gy,o=[];for(var c in J)if(x[J[c]])o.push([parseInt(c),x[J[c]]]);
if(x["Iptc4xmpCore:SubjectCode"]){var E=x["Iptc4xmpCore:SubjectCode"].split(";");for(var $=0;$<E.length;
$++)o.push([12,E[$].trim()])}if(x["dc:Keywords"]){var E=x["dc:Keywords"].split(";");for(var $=0;$<E.length;
$++)o.push([25,E[$].trim()])}o.sort(function(b,l){return b[0]-l[0]});return o};eK.zE=function(x,J){if(J==null)J={};
var o=new DOMParser,c=o.parseFromString(x,"image/svg+xml"),E=c.getElementsByTagName("rdf:Description")[0];
if(E==null)return J;var b=eK.RE;for(var l in b){var i=b[l][2];if(i==null)continue;var F=E.getElementsByTagName(i)[0];
if(F==null)continue;var k=F.getElementsByTagName("rdf:li"),U=[];for(var $=0;$<k.length;$++)U.push(k[$].textContent);
J[l]=U.join("; ")}return J};eK.J4=function(x){var J=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],o=eK.RE;
for(var c in o){var E=x[c],b=o[c][2],l="Seq",i="";if(E==null||b==null)continue;if(b=="dc:title"||b=="dc:description"){l="Alt";
i=" xml:lang=\"x-default\""}if(b=="dc:subject")l="Bag";J.push("\t<"+b+"><rdf:"+l+">");var F=b=="dc:subject"?E.split(";").join(",").split(","):[E];
for(var $=0;$<F.length;$++)J.push("\t\t<rdf:li"+i+">"+F[$].trim()+"</rdf:li>");J.push("\t</rdf:"+l+"></"+b+">")}J.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return J.join("\n")};eK.a2k=function(x){var J=[];for(var $=0;$<x.length;$++)J[$]=x[$][1]==0?0:x[$][0]/x[$][1];
return J};eK.aek=function(x){var J=[];for(var $=0;$<x.length;$++){var o=x[$],c=1;if(o!=Math.round(o)){c=1e3;
o=Math.round(o*c)}J[$]=[o,c]}return J};eK.Bc=function(x,J){var o=eK.RE;if(J==null)J={};for(var c in o){var E=o[c][1],b="t"+E;
if(E!=null&&x[b]!=null){var l=x[b];if(E==0)l=l.join(".");else if(E==2||E==4){var i=x["t"+(E-1)];if(i==null)i=[E==2?"N":"E"];
l=eK.a2k(l).join(",")+i[0]}else if(E==42034)l=eK.a2k(l).join(" ");else if(E==270||E==315){var F=l[0],k=new Uint8Array(F.length);
D.wZ(k,0,F);l=D.cA(k)}else l=l[0];J[c]=l}}if(x.exifIFD)eK.Bc(x.exifIFD,J);if(x.gpsiIFD)eK.Bc(x.gpsiIFD,J);
return J};eK.wY=function(x,J,o){var c=eK.RE,b=0,i=0;if(J==null)J={};var E={},l={};for(var F in c){if(x[F]==null||c[F][1]==null)continue;
var k=c[F][1],U="t"+k,I=J;if(F.startsWith("exif:")){I=E;b++;if(F.startsWith("exif:GPS")){I=l;i++}}var V=x[F];
if(k==0)V=new Uint8Array(V.split(".").map(parseFloat));else if(k==2||k==4){var u=V.length;I["t"+(k-1)]=[V.slice(V.length-1)];
V=eK.aek(V.split(",").map(parseFloat))}else if(k==42034)V=eK.aek(V.split(" ").map(parseFloat));else if(k==270||k==315){var N=D.Ey(V);
V=[D.it(N,0,N.length)]}else V=[V];I[U]=V}if(b!=0){J.exifIFD=E;J.t34665=[0]}if(i!=0){J.gpsiIFD=l;J.t34853=[0]}var e=new Date,B=[e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()];
for(var $=0;$<6;$++)B[$]=(B[$]+"").padStart(2,"0");J.t305=["Photopea Editor (www.photopea.com)"];if(o!=!0)J.t306=[B[0]+":"+B[1]+":"+B[2]+" "+B[3]+":"+B[4]+":"+B[5]];
return J};function da(){}da.QE=function(x){var J={a4h:",",D2:"\r\n",df:"\""},o=[[""]],c,E,b,l,i;for(c=E=b=l=0;
b<x.length;b++){switch(i=x.charAt(b)){case J.df:if(l&&x.charAt(b+1)==J.df){o[c][E]+=J.df;++b}else{l^=1}break;
case J.a4h:if(!l){o[c][++E]=""}else{o[c][E]+=i}break;case J.D2.charAt(0):if(!l&&(!J.D2.charAt(1)||J.D2.charAt(1)&&J.D2.charAt(1)==x.charAt(b+1))){o[++c]=[""];
o[c][E=0]="";if(J.D2.charAt(1)){++b}}else{o[c][E]+=i}break;default:o[c][E]+=i}}if(o[o.length-1].length<o[0].length)o.pop();
return o};var p={};p.ahC=0;p.sJ=function(){p.ahC++;return p.ahC};p.a9D="uint8";p.xS=function(x){x.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
x.n.style.opacity="1";x.n.style.transform="scale(1)"};p.Wo=function(x,J){x.n.style.opacity="0";x.n.style.transform="scale(0.95)";
if(J)setTimeout(function(){J.removeChild(x.n)},100)};p.avF=function(){var x=p.an3();if(x=="")return 0;
if(x!=p.hC("_TXZRPB;d7@;")){var J=p.ND[cG.BU][cG.Cu],o=J.indexOf(String.fromCharCode(35)),c;if(o==-1)return 0;
try{c=JSON.parse(p.ND[cG.aon](J.slice(o+1)))}catch(j4){return 0}var E=c[p.hC("bQ[ODL<E<M")];if(E==null||E.length<<2!=64)return 0;
var b=cG.P4(),l=parseInt(E.slice(3*4).split("").reverse().join(""),16)<<16;if(l<b||E!=cG.auu(l,x))return 0;
return 2}return 1};p.an3=function(){var x=p.ND[p.mV("}$z{2*35")][p.hC("W[\\ZQAJ?")],J=String.fromCharCode(46),o=x.split(J);
if(o.length<2)return"";var c=o.pop();c=o.pop()+J+c;return c};p.aml=function(){if(p.ND[cG.a2j][cG.ahQ]){var x=new p.ND[cG.Hr];
x[cG.ih](cG.awe,p.hC("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+p.an3());x[cG.$M]()}};p.Bo=function(){if(window.top!=window.self)return!1;
var x=navigator.userAgent.toLowerCase();if(x.indexOf("safari")!=-1&&x.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};p.WJ=function(x){this.rV=x;this.JJ=p.i("img");this.$g=p.i("canvas");
this.p2=null;this.Ts="";this.NG=null;this.p9=new ck(0,0);this.YQ=!0;p.aP(this.rV,this.e$.bind(this))};
p.WJ.prototype.L8=function(x,J){this.p2=x;if(J)this.Ts=J;this.e$()};p.WJ.prototype.po=function(x){this.YQ=x;
this.e$()};p.WJ.prototype.e$=function(x){if(x)this.p9=p.x2(x,this.rV);var J=this.YQ?this.p2:"auto",o=typeof J=="string";
if(!o){var c=p.IJ(),E=this.p9,b=J.By.m,l=J.By.e,i=typeof J.bA=="string",F=i?this.JJ:this.$g;if(i)F.setAttribute("src",J.bA);
else{F.width=b;F.height=l;var k=F.getContext("2d"),U=new ImageData(new Uint8ClampedArray(J.bA.buffer),b,l);
k.putImageData(U,0,0)}F.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(E.y-J.FH.y/c)+"px; left:"+(E.x-J.FH.x/c)+"px; width:"+b/c+"px; height:"+l/c+"px");
var I=this.NG;if(I==null||I!=F){if(I)this.rV.removeChild(I);this.rV.appendChild(F);this.NG=F}}else if(this.NG){this.rV.removeChild(this.NG);
this.NG=null}this.rV.setAttribute("style","cursor:"+(o?J:"none")+"; "+this.Ts)};p.Ln=function(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
p.iO=function(x,J){x.bo(h9.get([12,41]).charAt(0)+":");J.bo(h9.get([12,42]).charAt(0)+":")};p.i=function(x,J){var o=document.createElement(x);
if(J!=null)o.className=J;return o};p.LX=function(x){while(x.firstChild)x.removeChild(x.firstChild)};
p.na=function(x,o){var c=x.className;c=c.split(" ");if(c.indexOf(o)==-1)c.push(o);x.className=c.join(" ")};
p.ml=function(x,o){var c=x.className;if(c=="")return;c=c.split(" ");if(c.indexOf(o)!=-1)c.splice(c.indexOf(o),1);
x.className=c.join(" ")};p.j5=function(x){while(!0){if(x==document)return!0;if(x==null)return!1;x=x.parentNode}};
p.UF=function(x){x.appendChild(p.i("br"))};p.bN=function(x){x.appendChild(p.i("hr"))};p._j=function(x,J,o){var c=new eH([1,12,1],o==null?!0:o,null,!0);
if(x)c.k("click",x.CO,x);if(J)J.appendChild(c.n);return c};p.ND=document;p.tr=function(x){var J=0;for(var $=0;
$<x;$++)J+=Math.random();return J/x<Math.PI/4};p.hC=function(x){var J="";if(!p.tr(28))x+="-3";for(var $=0;
$<x.length;$++){var o=x.charCodeAt($);if(o<32||126<o)throw"e";J+=String.fromCharCode(32+(o-32+17+3*$)%95)}return J};
p.mV=function(x){var J="";if(!p.tr(28))x+="-1";for(var $=0;$<x.length;$++){var o=x.charCodeAt($);o-=32;
o+=95e4;o-=17+3*$;o=o%95;J+=String.fromCharCode(32+o)}return J};p.TE=function(x){var J=Math.random();
p.a9D="uint"+(3+J);return new x};(function(){var x=window.PointerEvent,J=x?"pointer":"mouse",o=J+"down",c=J+"move",E=J+"up",b=!1;
p.Ra=function(l,i){l.addEventListener(o,i,b);if(!x)l.addEventListener("touchstart",i,b)};p.aP=function(l,i){l.addEventListener(c,i,b);
if(!x)l.addEventListener("touchmove",i,b)};p.iU=function(l,i){l.addEventListener(E,i,b);if(!x)l.addEventListener("touchend",i,b)};
p.awM=function(l,i){l.removeEventListener(o,i,b);if(!x)l.removeEventListener("touchstart",i,b)};p.Qx=function(l,i){l.removeEventListener(c,i,b);
if(!x)l.removeEventListener("touchmove",i,b)};p.Ro=function(l,i){l.removeEventListener(E,i,b);if(!x)l.removeEventListener("touchend",i,b)}}());
p.Oo=function(x){x.addEventListener("touchstart",p.nA,!1);x.addEventListener("touchmove",p.nA,!1);x.addEventListener("touchend",p.nA,!1);
x.addEventListener("gesturestart",p.nA,!1);x.addEventListener("gesturechange",p.nA,!1);x.addEventListener("gestureend",p.nA,!1)};
p.ay$=function(x){var J=x.sourceCapabilities;if(J)return J.firesTouchEvents;return!1};p.Pi=function(x,J,o,c){var E=p.IJ();
x.width=Math.floor(J*E);x.height=Math.floor(o*E);if(c)c.scale(E,E);p.Op(x)};p.Op=function(x){var J=p.IJ();
x.style.width=x.width/J+"px";x.style.height=x.height/J+"px"};p.ev=function(x,o,c){x.setAttribute("style","width:"+o/p.IJ()+"px; height:"+c/p.IJ()+"px")};
p.x2=function(x,J){if(J==null)J=x.currentTarget;var o=J.getBoundingClientRect();if(x.touches)x=x.touches.item(0);
return{x:x.clientX-o.left,y:x.clientY-o.top}};p.IJ=function(){return window.devicePixelRatio||1};p.l8=function(x){x.addEventListener("keydown",p.anT,!1)};
p.anT=function(x){x.stopPropagation()};p.nA=function(x){x.preventDefault()};p.NV=function(x){x.stopPropagation();
x.preventDefault()};p.e3=function(x,J,o){o=o?o:"";if(PIMG["__"+x]==null)o+=" gsicon";return"<img src=\""+PIMG[x]+"\" alt=\""+(J?J:"")+"\" class=\""+o+"\" />"};
p.kX=function(x,J,o,c){var E=x.dataTransfer.getData("text/uri-list");if(E!=null&&E.startsWith("http")){var b=new ko(L.E.N,!0);
b.data={d:L.H.lL,KJ:{url:E,vg:!0,dD:o,GH:c}};J.c(b)}if(x.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var l=[],i=x.dataTransfer.items.length,k=x.dataTransfer.files;
for(var U of x.dataTransfer.items)U.getAsFileSystemHandle().then(function(V){l.push(V);if(l.length==i){var b=new ko(L.E.N,!0);
b.data={d:L.H.$U,data:k,dD:o,GH:c,ado:l};J.c(b)}})}else{var b=new ko(L.E.N,!0);b.data={d:L.H.$U,data:x.dataTransfer.files,dD:o,GH:c};
J.c(b)}};if(p.tr(27))p.ND=window;else p.ND=p.a0y;p.ND._cwY=p.ND[p.mV("t$&!'31")];var a8={};a8.awo=function($){var x=a8.Qm[$],J=document.documentElement.style,c=1;
J.setProperty("--base","#"+q.uW(x["--base"]));J.setProperty("--bg-panel","#"+q.uW(x["--bg-panel"]));
J.setProperty("--bg-canvas","#"+q.uW(x["--bg-canvas"]));J.setProperty("--bg-input","#"+q.uW(x["--bg-input"]));
J.setProperty("--bg-bbtn","#"+q.uW(x["--bg-bbtn"]));J.setProperty("--bg-bbtnOver","#"+q.uW(x["--bg-bbtnOver"]));
J.setProperty("--brdr","#"+q.uW(x["--brdr"]));J.setProperty("--text-color","#"+q.uW(x["--text-color"]));
J.setProperty("--brdrLgt","rgba(255,255,255,"+x["--brdrLgt"]+")");J.setProperty("--brdrDrk","rgba(  0,  0,  0,"+x["--brdrDrk"]+")");
J.setProperty("--alphaDark",""+x["--alphaDark"]);J.setProperty("--gs-invert",""+x["--gs-invert"]);J.setProperty("--accent","#"+q.uW(x["--accent"]));
var o=x["--sh-clr"];J.setProperty("--sh-clr","rgba("+(o>>16)+","+(o>>8&255)+","+(o&255)+", 0.45)");J.setProperty("--absc",""+x["--absc"]);
J.setProperty("--abs255",""+x["--abs255"]);if(1<p.IJ()&&p.IJ()<1.5)c=1/p.IJ();J.setProperty("--img20",20*c+"px");
J.setProperty("--img18",18*c+"px");J.setProperty("--img15",15*c+"px");if(PIMG!=null){var E="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var $=0;$<E.length;$++){var b=E[$],l=b.split("/").pop(),i=PIMG["__"+b]==null?x["--gs-invert"]:"0";
J.setProperty("--icon_"+l,"url("+PIMG[b]+")");J.setProperty("--icon_"+l+"_invrt",i)}}var F=document.querySelector("meta[name=theme-color]");
if(F)F.setAttribute("content","#"+q.uW(x["--base"]))};(function(){var x=3441398,J=3441398;a8.Qm=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":J},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":J}]}());
function c$(){this.d7={};this.eH={}}c$.prototype.alh=function(x){var J=this.d7[x];if(J==null)return!1;
return J.length>0};c$.prototype.addEventListener=function(x,J){this.k(x,J,null)};c$.prototype.k=function(x,J,o){if(this.d7[x]==null){this.d7[x]=[];
this.eH[x]=[]}this.d7[x].push(J);this.eH[x].push(o)};c$.prototype.removeEventListener=function(x,J){var o=this.d7[x];
if(o==null)return;var c=o.indexOf(J);if(c<0)return;var E=this.eH[x];o.splice(c,1);E.splice(c,1)};c$.prototype.c=function(x){x.currentTarget=this;
if(x.target==null)x.target=this;var J=this.d7[x.type];if(J==null)return;var o=this.eH[x.type];for(var $=0;
$<J.length;$++){if(o[$]==null)J[$](x);else J[$].call(o[$],x)}};var ko=function(x,J){if(!J)J=!1;this.type=x;
this.target=null;this.currentTarget=null;this.bubbles=J;this.v=null;this.A8=!1},L={E:{f:"0",N:"1",p4:"1.5",A:"2",xA:"3",a23:"4"},H:{bO:"10",c4:"11",ci:"12",i0:"13",TG:"14",a10:"14.1",lL:"15",o2:"16",MZ:"17",I9:"18",YO:"19",awQ:"19.5",acI:"20",ays:"20.1",a9h:"20.5",a0L:"20.6",Q5:"21",_4:"22",R9:"23",mW:"24",yI:"25",tQ:"26",wl:"27",h8:"28",a1$:"28.5",aDq:"29",$U:"30",zq:"31",HA:"32",jT:"33",dC:"34",bS:"35",aBe:"35.5",pp:"37",ap6:"38",oa:"39",Ew:"40",w9:"41",rG:"41.5",go:"42",Qn:"43",aAx:"43.5",JN:"44",a1n:"45",BG:"46",AE:"47",wq:"48",_t:"49",aDl:"50",ri:"51"}};
function gB(){c$.call(this);this.parent=null;this.n=null;this.Qh=0;this.ao=0;this.axK=!1}gB.prototype=new c$;
gB.prototype.ap_=function(x){var bz=this;while(bz!=null){if(bz==x)return!0;bz=bz.parent}return!1};gB.prototype.Mm=function(){var x=this.n;
return x.offsetWidth+x.clientLeft};gB.prototype.ai8=function(){var x=this.n;return x.offsetHeight+x.clientTop};
gB.prototype.update=function(x){};gB.prototype.c=function(x){c$.prototype.c.call(this,x);if(x.bubbles&&this.parent!=null)this.parent.c(x)};
gB.prototype._=function(){};gB.prototype.ip=function(x,J){};gB.prototype.gt=function(x){p.na(this.n,"disabled")};
gB.prototype.G0=function(x){p.ml(this.n,"disabled")};gB.prototype.po=function(x){if(x)this.G0();else this.gt()};
gB.prototype.Em=function(){this.axK=!0};gB.prototype._r=function(){var x=this.pM,J=this.axK,o=this.PH;
if(x){x=h9.get(this.pM);if(!J)x+=":";o.textContent=x;if(J){o.style.display="block";o.style.lineHeight="1.6em";
o.style.marginLeft="3px";p.ml(o,"flabel")}}if(J){this.yg.style.fontSize="1.15em"}};function dI(x){gB.call(this);
this.Of=[];this.ko=!1;this.aeF=0;this.nq={x:0,y:0,sz:!1};this.Gs=x;this.ag5=this.eN.bind(this);this.p_=this.FB.bind(this);
this.awB=this.cK.bind(this);p.Ra(x,this.ag5);p.aP(x,this.p_);x.addEventListener("wheel",this.Xx.bind(this),!1);
x.addEventListener("contextmenu",this.awr.bind(this),!1);var J=this.aut.bind(this);x.addEventListener("gesturestart",J,!1);
x.addEventListener("gesturechange",J,!1);x.addEventListener("gestureend",J,!1);p.Oo(x)}dI.prototype=new gB;
dI.prototype.aut=function(x){if(x.type=="gesturestart")this.kF=x.scale;if(x.type=="gesturechange"){var J=new ko("mouse",!0);
J.action="scroll";J.ia=!0;this.UT(x,J);var o=(this.kF-x.scale)/this.kF;J.s_=new ck(0,100*o);this.kF=x.scale;
this.c(J)}};dI.prototype.IU=function(x){var J=-1,o=this.Of;for(var $=0;$<o.length;$++)if(o[$].pointerId==x.pointerId)J=$;
return J};dI.DD=function(x){var J=x.pointerType,o=window.__kb;return J=="touch"&&o.S(dG.agt)};dI.prototype.eN=function(x){if(dI.DD(x))return;
var J=this.IU(x);if(J!=-1)this.Of[J]=x;else this.Of.push(x);if(this.Of.length==1){this.aeF=Date.now();
var o=x.button!=null&&x.button!=0?x.which==2?"idown":"rdown":"down",c=new ko("mouse",!0);c.action=o;
this.UT(x,c);this.c(c);p.Qx(this.Gs,this.p_);p.aP(window,this.p_);p.iU(window,this.awB)}if(this.Of.length==2){if(Date.now()-this.aeF<100){var c=new ko("mouse",!0);
c.action="cancellast";this.UT(x,c);this.c(c)}this.ko=!0}if(this.Of.length==2)this.azP("multidown")};
dI.prototype.FB=function(x){if(dI.DD(x))return;var J=this.IU(x);if(J!=-1)this.Of[J]=x;if(this.Of.length>1){this.azP("multimove")}if(this.ko)return;
if(this.Of.length==1&&J==-1)return;var o=new ko("mouse",!0);o.action="move";this.UT(x,o);this.c(o)};
dI.prototype.cK=function(x){if(dI.DD(x))return;var J=this.Of;J=this.Of=[];if(J.length==0){var o=x.button!=null&&x.button>0?x.which==2?"iup":"rup":"up",c=new ko("mouse",!0);
c.action=o;this.UT(x,c);this.c(c);p.Qx(window,this.p_);p.Ro(window,this.awB);p.aP(this.Gs,this.p_);this.ko=!1}};
dI.prototype.Xx=function(x){x.preventDefault();if(x.deltaX==0&&x.deltaY==0)return;var J=new ko("mouse",!0);
J.action="scroll";J.ia=x.ctrlKey;this.UT(x,J);this.c(J)};dI.prototype.awr=function(x){p.NV(x);if(p.ay$(x)){var J=new ko("mouse",!0);
this.UT(x,J);J.action="rdown";this.c(J);J.action="rup";this.c(J)}};dI.prototype.azP=function(x){var J=this.Of,o=p.IJ(),c=[];
for(var $=0;$<J.length;$++){var E=c[$]=p.x2(J[$],this.Gs);E.x*=o;E.y*=o}var b=new ko("mouse",!0);b.action=x;
b.B6=c;if(J.length==2)this.c(b)};dI.prototype.UT=function(x,J,o){var c=this.Of.length!=0;if(J.action!="up"){var E=p.IJ();
if(o==null)o=p.x2(x,this.Gs);this.nq=J.lN={x:E*o.x,y:E*o.y,sz:c};var b=p.x2(x,document.body);J.lN.rR=b.x;
J.lN.ru=b.y}else this.nq=J.lN={x:this.nq.x,y:this.nq.y,sz:c};J.lN.FC=.5;if(x.pressure!=null)J.lN.FC=x.pressure;
if(x.pointerType=="mouse")J.lN.FC*=2;J.lN.axw=x.pointerType;if(x.deltaX!=null){var l=x.deltaMode==0?1:40;
J.s_=new ck(x.deltaX*l,x.deltaY*l)}};function iy(x,J,o){gB.call(this);this._U=null;this.a7V=this.cK.bind(this);
this.a1B=this.o$.bind(this);this.a8b=this.aAK.bind(this);this.abm=this.a6S.bind(this);this.qr=[];this.DW=[];
this.WW=[];this.ahI=[];this.at6=o;this.n=p.i("div","contextpanel "+(o?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",p.nA,!1);
this.mR=null;this.p7=0;this.FE=x;this.qx=J;this.uY=[];for(var $=0;$<x.length;$++){var c=p.i("div","enab");
this.DW.push(c);this.n.appendChild(c);var E=x[$].hh;if(E){if(E.startsWith("#")){var b=p.i("span");b.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+E);
c.appendChild(b)}else c.innerHTML=p.e3(x[$].hh,null,"thumb")}else{var l=p.i("span","check");this.ahI.push(l);
c.appendChild(l)}var i=p.i("span","label");i.textContent=h9.get(x[$].name);c.appendChild(i);this.WW.push(i);
if(x[$].U7)this.n.appendChild(p.i("hr"));if(x[$].l1||x[$].sub){var F=c.QS=p.i("span","right");c.appendChild(F);
if(x[$].l1)F.textContent=dG.aY(x[$].l1);else if(x[$].sub)F.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}c.addEventListener(o?"mouseup":"click",this.a7V,!1);
c.addEventListener("mouseover",this.a1B,!0);c.addEventListener("mouseout",this.a8b,!0);if(x[$].sub){var k=new iy(x[$].sub,J?J[$].sub:null);
k.parent=this;this.uY.push(k);k.k("select",this.aAo,this)}else this.uY.push(null)}}iy.prototype=new gB;
iy.prototype.aog=function(x){p.LX(this.n);for(var $=0;$<x.length;$++)if(x[$]!=0&&x[$]!=null){this.n.appendChild(this.DW[$]);
if(x[$]!=1&&this.uY[$])this.uY[$].aog(x[$])}};iy.prototype._=function(){var x=this.FE;for(var $=0;$<x.length;
$++){if(x[$].title)this.DW[$].title=h9.get(x[$].title);this.WW[$].textContent=h9.get(x[$].name)+(x[$].hV?"...":"")}for(var $=0;
$<this.uY.length;$++)if(this.uY[$])this.uY[$]._()};iy.prototype.update=function(x,J){if(!this.at6){this.n.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var o=this.FE,c=window.innerWidth<450?"none":"inline";
for(var $=0;$<o.length;$++){var E=this.DW[$];if(E.QS&&!this.uY[$])E.QS.style.display=c;if(o[$].T){var b=o[$].T(x,J,$);
if(b.T!=null)this.DW[$].className=b.T?"enab":"disab";if(b.hI!=null)this.WW[$].textContent=b.hI;if(b.tK!=null)this.ahI[$].innerHTML=b.tK?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(b.C!=null)this.qx[$]=b.C}}for(var $=0;$<this.uY.length;$++)if(this.uY[$])this.uY[$].update(x,J)};
iy.prototype.xi=function(){return this.qr};iy.prototype.cK=function(x){if(x.button!=0)return;var $=this.DW.indexOf(x.currentTarget);
if(this.uY[$]){this.p7=$;this.a6S()}else{if(this.qx){var J=this.qx[$],o=new ko(J.K,!0);o.v=J.v;o.data=J.C;
this.c(o)}this._U=null;this.qr=[$];this.c(new ko("select",!1));var o=new ko(L.E.N,!0);o.data={d:L.H.i0};
this.c(o)}};iy.prototype.o$=function(x){var $=this.DW.indexOf(x.currentTarget);this.Ct();this.p7=$;this.mR=setTimeout(this.abm,300)};
iy.prototype.aAK=function(x){this.Ct()};iy.prototype.Ct=function(){if(this.mR){clearTimeout(this.mR);
this.mR=null}};iy.prototype.a6S=function(){this.Ct();var $=this.p7;if(this._U)this._U.a6i();if(this.uY[$]==null)return;
this._U=this.uY[$];var x=this.DW[$].getBoundingClientRect(),J=new ko(L.E.N,!0);J.data={d:L.H.c4,BM:this.uY[$],x:x.left+x.width+2,y:x.top};
this.c(J)};iy.prototype.a6i=function(){for(var $=0;$<this.uY.length;$++)if(this.uY[$])this.uY[$].a6i();
var x=new ko(L.E.N,!0);x.data={d:L.H.ci,BM:this};this.c(x)};iy.prototype.aAo=function(x){var $=this.uY.indexOf(x.target);
this.qr=[$].concat(x.target.xi());this.c(new ko("select",!1))};function j8(x,J,o){gB.call(this);this.n=p.i("span","fitem cbox");
if(J==null)J=!0;if(o==null)o="flabel";var c="cb"+p.sJ();this.yg=p.i("input","");this.yg.setAttribute("type","checkbox");
this.yg.setAttribute("id",c);this.n.appendChild(this.yg);this.pM=x;this.ff=p.i("label",o);if(J)this.ff.setAttribute("for",c);
this.n.appendChild(this.ff);this._();this.yg.addEventListener("change",this.l4.bind(this),!1)}j8.prototype=new gB;
j8.prototype.aqc=function(){return this.pM};j8.prototype.bo=function(x){this.ff.textContent=x};j8.prototype._=function(){var x=this.pM;
if(typeof x=="string"&&x.startsWith("<"))this.ff.innerHTML=x;else this.ff.textContent=h9.get(x)};j8.prototype.V2=function(){this.yg.checked=!0};
j8.prototype.jH=function(){this.yg.checked=!1};j8.prototype.U9=function(){return this.yg.checked};j8.prototype.w=function(x){this.yg.checked=x};
j8.prototype.h=j8.prototype.U9;j8.prototype.l4=function(x){this.c(new ko(L.E.A,!1))};function dr(x,J){gB.call(this);
this.pM=x;this.n=p.i("span","labelitem fitem"+(J?" spread":""));this._()}dr.prototype=new gB;dr.prototype.w=function(x){this.n.textContent=x};
dr.prototype.h=function(){return this.n.textContent};dr.prototype.G0=function(){this.n.removeAttribute("disabled")};
dr.prototype.gt=function(){this.n.setAttribute("disabled","")};dr.prototype.bo=function(x){this.n.textContent=x};
dr.prototype._=function(){this.n.textContent=h9.get(this.pM)};dr.prototype.aqc=function(){return this.pM};
function eH(x,J,o,c,E){gB.call(this);this.aK=!1;this.n=p.i("button","fitem"+(J?" spread":"")+(c?" bbtn":""));
this.pM=x;this.u0=o;this._();var b=E&&window.PointerEvent?"pointerup":"click";this.n.addEventListener(b,this.Iq.bind(this),!1)}eH.prototype=new gB;
eH.prototype._=function(){var x=this.n,J=this.pM,o=this.u0;if(typeof J=="string"&&(J.startsWith("<img")||J.startsWith("<svg")||J.startsWith("<span"))){if(!this.aK){x.innerHTML=J;
x.setAttribute("style","padding:2px");this.aK=!0}}else x.textContent=h9.get(J);if(o){x.setAttribute("title",h9.get(o))}};
eH.prototype.a6v=function(x){this.n.setAttribute("title",x)};eH.prototype.Iq=function(x){this.c(new ko("click",!1))};
eH.prototype.V2=function(){p.na(this.n,"bactive")};eH.prototype.jH=function(){p.ml(this.n,"bactive")};
eH.prototype.bo=function(x,J){if(x&&x!=this.pM){this.pM=x;this.aK=!1}if(J)this.u0=J;this._()};eH.prototype.w=function(x){if(x)this.V2();
else this.jH()};eH.prototype.U9=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
eH.prototype.h=function(){return this.U9()};function cA(x,J,o,c,E){gB.call(this);var b=p.sJ();this.n=p.i("span","fitem tinput");
if(x){this.pM=x;this.PH=p.i("label","flabel");this.n.appendChild(this.PH);this.PH.setAttribute("for",b);
this._()}if(E){this.yg=p.i("span")}else if(c==null){this.yg=p.i("input");this.yg.setAttribute("type","text")}else this.yg=p.i("textarea","scrollable");
this.yg.setAttribute("id",b);if(o)this.yg.setAttribute("style","width:"+o+"em;"+(E?" display:inline-block; margin-left:6px;":""));
if(c)this.yg.setAttribute("rows",c);this.n.appendChild(this.yg);if(J){this.Vr=p.i("span");this.Vr.textContent=J;
this.Vr.style.marginLeft="2px";this.n.appendChild(this.Vr)}p.l8(this.yg);dG.fP(this.yg);this.yg.addEventListener("change",this.l4.bind(this),!1);
this.yg.addEventListener("input",this.aA$.bind(this),!1);if(c==null)this.yg.addEventListener("keyup",this.C1.bind(this),!1)}cA.prototype=new gB;
cA.prototype._=function(){this._r()};cA.prototype.C1=function(x){var J=dG.eW(x.code,dG.Fh),o=dG.eW(x.code,dG.eP);
if(o||J)this.yg.blur()};cA.prototype.bo=function(x){this.PH.textContent=x};cA.prototype.w=function(x){var J=this.yg,o=x==null?"":x,c=J.tagName=="SPAN";
if(c){J.textContent=" "+o;if(this.Vr)J.appendChild(this.Vr)}else J.value=o};cA.prototype.au$=function(x){this.Vr.textContent=x};
cA.prototype.h=function(){return this.yg.value};cA.prototype.U1=function(){this.yg.select();this.yg.focus()};
cA.prototype.l4=function(x){this.c(new ko(L.E.A,!1))};cA.prototype.aA$=function(x){this.c(new ko("input",!1))};
function ip(x,J,o,c,E,b,l,i,F){gB.call(this);if(E==null)E=0;this.n=p.i("span","fitem");var k=p.sJ();
this.pM=x;this.u0=i;this.p2=0;this.u_=F;this.$L=J;this.z0=o;this.DU=null;if(c instanceof Array){this.DU=c;
c=c[0]}this.v7=c;this.Vo=E;this.atd=b;this.Ov=l;this.Gn=0;this.PH=p.i("label","flabel");this.PH.setAttribute("style","cursor:col-resize;");
this.F$=p.i("input");this.F$.setAttribute("type","range");if(l){this.F$.min=0;this.F$.max=400}else{this.F$.min=J;
this.F$.max=o;if(E!=0)this.F$.step=(o-J)/200}this.yg=p.i("input");this.yg.setAttribute("type","text");
this.yg.setAttribute("id",k);this.Vr=p.i("span");this.Vr.textContent=c;p.l8(this.yg);this.yg.addEventListener("change",this.l4.bind(this),!1);
this.yg.addEventListener("keydown",this.Ht.bind(this),!1);dG.fP(this.yg);this.yg.addEventListener("keyup",this.C1.bind(this),!1);
this.yg.addEventListener("wheel",this.Xx.bind(this),!1);this.F$.addEventListener("input",this.l4.bind(this),!1);
if(F)this.F$.addEventListener("change",this.l4.bind(this),!1);this.F$.addEventListener("click",this.a9l.bind(this),!1);
this.ag$=this.agU.bind(this);this.a9p=this.awk.bind(this);this.a5H=this.a8D.bind(this);this.em=0;this.Ik=0;
this.qj=!1;p.Ra(this.PH,this.ag$);p.Oo(this.PH)}ip.prototype=new gB;ip.prototype.NY=function(x){this.Vo=x};
ip.prototype.bo=function(x){this.PH.style.display=x?"inherit":"none";if(x)this.PH.textContent=h9.get(x)};
ip.prototype._=function(){var bz=this.pM,x=this.u0;if(bz){if(typeof bz=="string"&&bz.startsWith("<"))this.PH.innerHTML=bz;
else this._r()}if(x){x=h9.get(x);if(bz)this.PH.setAttribute("title",x);this.yg.setAttribute("title",x)}};
ip.prototype.w=function(x,J){var o=this.$L==this.z0,E;if(!o&&this.$L>=0)x=Math.max(this.$L,x);if(this.Vo==0)x=Math.round(x);
var c=this.v7;this.p2=x;this.yg.value=(this.Vo!=0?x.toFixed(this.Vo):x)+(this.atd&&c?(c.toLowerCase()==c.toUpperCase()?"":" ")+c:"");
if(-this.$L==this.z0)E=200+Math.sign(x)*200*Math.pow(Math.abs(x)/this.z0,1/2.7);else E=400*Math.pow((x-this.$L)/(this.z0-this.$L),1/2.7);
this.F$.value=this.Ov?E:x;if(J)this.ZL()};ip.prototype.h=function(){var x=this.p2;if(isNaN(x))x=0;return x};
ip.prototype.uk=function(){return this.v7};ip.prototype.l4=function(x){var J=0;if(x.currentTarget==this.yg){var o=x.target.value,c=0;
if(o=="")J=0;else if(this.v7){J=parseFloat(o)}else{try{J=eval(o)}catch(x){J=1}}if(isNaN(J))J=0;while(c<o.length&&(o.charAt(c)=="."||48<=o.charCodeAt(c)&&o.charCodeAt(c)<=57))c++;
var E=o.slice(c).trim();if(this.DU&&this.DU.indexOf(E)!=-1)this.v7=E}else{if(Date.now()-this.Gn<10)return;
J=parseFloat(x.target.value);if(this.Ov){if(-this.$L==this.z0)J=Math.sign(J-200)*Math.pow(Math.abs(J-200)/200,2.7)*this.z0;
else J=this.$L+Math.pow(J/400,2.7)*(this.z0-this.$L);J=this.aCL(J)}}this.w(J);if(x.type=="input"&&this.u_)return;
this.ZL()};ip.prototype.ZL=function(){this.c(new ko(L.E.A))};ip.prototype.aCL=function(x){if(this.z0-this.$L>50&&x>10)x=Math.round(x);
return x};ip.prototype.Ht=function(x){var J=0;if(dG.eW(x.code,dG.WQ))J=1;if(dG.eW(x.code,dG.XL))J=-1;
if(J!=0)this.aat(J,x.shiftKey)};ip.prototype.C1=function(x){var J=dG.eW(x.code,dG.Fh),o=dG.eW(x.code,dG.eP);
if(J)this.w(this.h());if(o||J)this.yg.blur()};ip.prototype.Xx=function(x){this.aat(x.deltaY>0?-1:1,x.shiftKey)};
ip.prototype.aat=function(x,J){var o=this.h(),c=this.Vo,E=x*(c==null||c==0||o>5?1:.1);if(J)E*=10;var b=o+E;
if(!this.Ov&&this.z0!=this.$L)b=Math.min(this.z0,b);this.w(b);this.ZL()};ip.prototype.a9l=function(x){var J=Date.now()-this.Gn;
this.Gn=Date.now();if(J>200)return;var o=this.$L,c=this.z0,E=(o+c)/2;if(o<1&&c>1&&c<10)E=1;else if(o<90&&c>110)E=100;
else if(o<0&&c>0)E=0;this.w(E);this.ZL()};ip.prototype.agU=function(x){p.aP(document,this.a9p);p.iU(document,this.a5H);
this.em=p.x2(x,document.body).x;this.Ik=this.h()};ip.prototype.awk=function(x){p.NV(x);var J=this.$L==this.z0,o=p.x2(x,document.body).x,c=(o-this.em)*(J?1:1/120*(this.z0-this.$L)),E=this.Ik+c;
if(J)E=Math.round(E);if(!J){if(!0){E=Math.max(this.$L,E);if(E==this.$L){this.em=o;this.Ik=this.$L}}if(!this.Ov){E=Math.min(this.z0,E);
if(E==this.z0){this.em=o;this.Ik=this.z0}}E=this.aCL(E)}this.qj=!0;this.w(E);if(!this.u_)this.ZL()};
ip.prototype.a8D=function(x){if(!this.qj)this.yg.focus();this.qj=!1;if(this.u_)this.ZL();p.Qx(document,this.a9p);
p.Ro(document,this.a5H)};ip.prototype.U1=function(){this.yg.select();this.yg.focus()};function f1(x,J,o,c,E,b,l,i,F,k){ip.call(this,x,J,o,c,E,!0,b,F,k);
p.na(this.n,"rangedropinput");this.n.appendChild(this.PH);this.yg.setAttribute("style","width:"+(i?i:3.3)+"em");
this.n.appendChild(this.yg);this.a8Y=p.i("span","rangecontFloat");this.a8Y.appendChild(this.F$);this.PS=p.i("button");
this.PS.textContent="\u25BC";p.Ra(this.PS,this.alC.bind(this));if(l!=!0)this.n.appendChild(this.PS);
this.zm=new gB;this.zm.n=this.a8Y}f1.prototype=new ip;f1.prototype.alC=function(x){if(p.j5(this.zm.n))return;
x.stopPropagation();var J=this.n.getBoundingClientRect();this.F$.setAttribute("style","width:"+J.width+"px;");
var o=new ko(L.E.N,!0);o.data={d:L.H.c4,BM:this.zm,x:J.left-10,y:J.top+J.height};this.c(o)};function jQ(x,J,o,c,E,b){ip.call(this,x,J,o,c,E,!1,b);
this.n.appendChild(this.PH);var l=p.i("span");this.n.appendChild(l);l.appendChild(this.F$);this.n.appendChild(this.yg);
this.yg.setAttribute("style","width:3.3em");if(this.v7)this.n.appendChild(this.Vr)}jQ.prototype=new ip;
function fb(x,J,o,c,E,b,l,i){ip.call(this,x,J,o,c,E,!0,b,null,l);p.na(this.n,"trangeinput");this.n.appendChild(this.PH);
this.n.appendChild(this.yg);var F=p.i("span");if(i!=!0)this.n.appendChild(F);F.appendChild(this.F$)}fb.prototype=new ip;
function i3(x,J,o){gB.call(this);if(!J)return;this.f0=0;this.pM=x;this.Gy=null;this.akr=o;this.Gi=[];
var c="dd"+p.sJ();this.n=p.i("span","fitem ddmenu");if(x){this.PH=p.i("label","flabel");this.n.appendChild(this.PH);
this.PH.setAttribute("for",c)}this.yg=p.i("select");dG.fP(this.yg);this.yg.setAttribute("id",c);this.n.appendChild(this.yg);
this.yg.addEventListener("change",this.l4.bind(this),!1);function E(b){var l=0;if(dG.eW(b.code,dG.WQ))l=1;
if(dG.eW(b.code,dG.XL))l=-1;if(l!=0)b.stopPropagation()}this.yg.addEventListener("keydown",E,!1);this.yg.addEventListener("keyup",E,!1);
this.oP=[];this.XJ=null;this.Ed(J,o);this._()}i3.prototype=new gB;i3.prototype.bo=function(x){this.pM=x;
this._()};i3.prototype._=function(){this._r();if(this.XJ)this.Ed(this.XJ,this.akr);this.w(this.f0)};
i3.prototype.h=function(){return this.f0};i3.prototype.Ed=function(x,J){p.LX(this.yg);var o=[],c=0;if(J){o.push(J[0]);
for(var $=1;$<J.length;$++)o.push(o[$-1]+J[$])}this.XJ=x;this.Gy=[];this.akr=J;for(var $=0;$<x.length;
$++){var E=p.i("option");if(this.Gi.indexOf($)!=-1)E.setAttribute("disabled","");E.textContent=h9.get(x[$]);
E.setAttribute("value",$);this.yg.appendChild(E);this.oP.push(E);this.Gy.push($+c);if(o.indexOf($+1)!=-1&&$!=x.length-1){var b=p.i("option");
b.setAttribute("disabled","");b.textContent="";this.yg.appendChild(b);c++}}};i3.prototype.a1g=function($){var x=this.Gi,J=x.indexOf($);
if(J==-1)x.push($);this._()};i3.prototype.acG=function($){var x=this.Gi,J=x.indexOf($);if(J!=-1)x.splice(J,1);
this._()};i3.prototype.w=function(x){this.f0=x;this.yg.selectedIndex=this.Gy[x]};i3.prototype.l4=function(x){this.f0=this.Gy.indexOf(this.yg.selectedIndex);
this.c(new ko(L.E.A,!1))};i3.prototype.U1=function(){this.yg.focus()};function fW(x,J,o,c,E){gB.call(this);
if(!J)return;this.f0=0;this.aoq=c;this.a17=E;this.n=p.i("span","fitem bbmenu");this.ff=p.i("label","flabel");
if(x){this.pM=x;this.ff.textContent=x+":";this.n.appendChild(this.ff)}this.oP=[];this.Ot=p.i("span");
this.n.appendChild(this.Ot);this.XJ=null;this.Ed(J,o);this.w(0)}fW.prototype=new gB;fW.prototype.bo=function(x){this.pM=x;
this._()};fW.prototype._=function(){var x=this.ff.parentNode!=null,J=this.n;if(this.pM!=null){if(!x){J.appendChild(this.ff);
J.appendChild(this.Ot)}this.ff.textContent=h9.get(this.pM)+": "}else if(x)J.removeChild(this.ff);for(var $=0;
$<this.oP.length;$++)this.oP[$]._()};fW.prototype.h=function(){return this.f0};fW.prototype.Ed=function(x,J){p.LX(this.Ot);
this.oP=[];this.XJ=x;for(var $=0;$<x.length;$++){var o=new eH(x[$],!1,J?J[$]:null,this.aoq);o.k("click",this.l4,this);
this.Ot.appendChild(o.n);this.oP.push(o)}this._()};fW.prototype.w=function(x){this.f0=x;for(var $=0;
$<this.oP.length;$++)this.oP[$].jH();if(x!=-1)this.oP[x].V2()};fW.prototype.l4=function(x){var $=this.oP.indexOf(x.target);
this.w(this.a17&&$==this.f0?-1:$);this.c(new ko(L.E.A,!1))};fW.c5=function(x,J,o){if(J==null)J=16;var c=fW.$g,E=c.getContext("2d"),b=J>>>1;
c.width=c.height=J;var l=[];for(var $=0;$<x.length;$++){if(x[$][0]=="-")l.push(x[$].slice(1));else if(x[$]=="checker"||x[$].startsWith("#")){if(x[$]=="checker"){E.fillStyle="white";
E.fillRect(0,0,J,J);E.fillStyle="#bbbbbb";E.fillRect(b,0,b,b);E.fillRect(0,b,b,b)}else if(x[$].startsWith("#")){E.fillStyle=x[$];
E.fillRect(0,0,J,J)}l.push("<img src=\""+c.toDataURL()+"\" />")}else l.push(p.e3(x[$],null,o?o:"autoscale"))}return l};
fW.$g=p.i("canvas");function fA(x,J,o,c,E,b){gB.call(this);this.n=p.i("span","fitem mbox");this.al2=o;
this.aw6=E;if(x){this.pM=x;this.ff=p.i("label","flabel");this.n.appendChild(this.ff)}this.Vp=J;this.oX=[];
for(var $=0;$<J.length;$++){var l=o?new eH(J[$],!1,c?c[$]:null,!1,b):new j8(J[$],!0,"");l.k(o?"click":L.E.A,this.l4,this);
this.oX.push(l);this.n.appendChild(l.n)}this._()}fA.prototype=new gB;fA.prototype.w=function(x){for(var J=0;
J<this.Vp.length;J++)this.oX[J].w(x[J])};fA.prototype.h=function(){var x=[];for(var J=0;J<this.Vp.length;
J++)x[J]=this.oX[J].h();return x};fA.prototype._=function(){if(this.pM)this.ff.innerHTML=h9.get(this.pM)+": ";
var x=this.oX;for(var J=0;J<x.length;J++){x[J]._();if(J==x.length-1)x[J].n.style.marginRight="0px"}};
fA.prototype.l4=function(x){var $=this.oX.indexOf(x.currentTarget),J=this.oX[$];if(this.al2)J.w(!J.h());
if(this.aw6){var o=J.h();for(var $=0;$<this.oX.length;$++)this.oX[$].w(!1);J.w(o)}this.c(new ko(L.E.A,!1))};
function go(x,J){gB.call(this);this.FZ=[];this.g=[];this.aiT=x;this.sF=J;this.RR=0;this.Ou=null;this.p9=new ck(0,0);
if(J!=null){this.LO=new iy([{name:[6,37]},{name:[5,4]}]);this.LO.parent=this;this.LO.k("select",this.Cw,this)}this.n=p.i("div","imageset scrollable");
this.n.addEventListener("contextmenu",p.nA,!1)}go.prototype=new gB;go.prototype._=function(){if(this.LO)this.LO._()};
go.prototype.Cw=function(x){var $=this.LO.xi()[0],J=new ko(L.E.N,!0),o={d:L.H.bS,KJ:this.sF,qz:this.g.slice(0)};
if($==0){var c=this.Ou[1][this.g[0]],E=c.split("/");if(E.length==2){o.ly=E[0]+"/";c=E[1]}o._E="rnm";
J.data={d:L.H.yI,AN:"namewindow",xg:c,A3:{K:L.E.N,C:o}}}else{J.data=o;o._E="del"}this.c(J)};go.prototype.ahd=function(){return this.RR};
go.prototype.TR=function(x){this.RR=x;if(this.Ou)this.A1()};go.prototype.Qk=function(x,J,o,c){this.Ou=[x,J,o,c];
this.A1()};go.prototype.A1=function(){var x=this.Ou,J=this.n,o=x[0],c=x[1],E=x[2],b=x[3];this.FZ=[];
p.LX(J);var l=this.Iq.bind(this),i=this.RR;if(i==0)p.na(J,"imageset");else p.ml(J,"imageset");var F={};
for(var $=0;$<o.length;$++){var k=o[$],U=null,I=null;if(k==null){this.FZ.push(null);continue}if(typeof k=="string"){U=p.i("img","image");
U.setAttribute("src",k)}else U=k;if(E)p.ev(U,E,b);if(this.aiT)p.na(U,"gsicon");if(c){var I=c[$],V=I.split("/");
if(V.length==2){var u=F[V[0]];I=V[1];if(u==null)u=F[V[0]]=[];u.push($)}}if(i==0){}else{var N=p.i("div","listitem");
N.appendChild(U);var e=p.i("span");e.textContent=I?I:"Item "+($+1);e.setAttribute("style","margin-left:4px;");
N.appendChild(e);U=N}if(I)U.setAttribute("title",I);U.addEventListener("mousedown",l,!1);this.FZ.push(U);
J.appendChild(U)}if(Object.keys(F).length!=0){p.LX(J);for(var B in F){var u=F[B],j=p.i("div","listitem head");
j.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var T=p.i("div","headL");j.appendChild(T);T.appendChild(p.i("div","folder"));var e=p.i("span");e.textContent=B;
T.appendChild(e);J.appendChild(j);for(var $=0;$<u.length;$++)J.appendChild(this.FZ[u[$]])}}};go.prototype.Iq=function(x){if(this.sF==null)x.preventDefault();
var J=this.FZ.indexOf(x.currentTarget),o=window.__kb,c=this.g,E=c.length;if(o.S(dG.uJ)){var b=Math.min(c[0],c[c.length-1],J),l=Math.max(c[0],c[c.length-1],J);
c=[];for(var $=b;$<=l;$++)c.push($)}else if(o.S(dG._k)){var i=c.indexOf(J);if(i==-1)c.push(J);else c.splice(i,1)}else c=[J];
c.sort(function(V,u){return V-u});if(x.button==0||E==1)this.w(c);this.p9=p.x2(x,x.currentTarget);if(x.button==0)this.c(new ko(L.E.A));
if(x.button==2&&this.LO){var F=this.LO;F.update(null);var k=p.x2(x,document.body),U=new ko(L.E.N,!0);
U.data={d:L.H.c4,BM:F,x:k.x,y:k.y+2};this.c(U)}};go.prototype.h=function(){return this.g.slice(0)};go.prototype.arl=function(){var x=this.p9;
return new ck(x.x,x.y)};go.prototype.w=function(x){this.g=x.slice(0);for(var $=0;$<this.FZ.length;$++){var J=this.FZ[$];
if(J==null)continue;if(x.indexOf($)!=-1)p.na(J,"selected");else p.ml(J,"selected")}};function k7(x,J,o,c,E,b,l){gB.call(this);
this.n=p.i("span","fitem "+o);this.E9=new gB;this.E9.n=p.i("div","floatcont");this.ee=c;this.E9.parent=this;
this.ajc=p.i("div");this.E9.n.appendChild(this.ajc);this.aO=p.i("div");this.E9.n.appendChild(this.aO);
if(x){this.pM=x;this.ff=p.i("label","flabel");this.n.appendChild(this.ff)}this.d=p.i("button",l?"nopadding":"");
this.d.setAttribute("style","position:relative;");var i=this.Q$.bind(this),F=this.Xh.bind(this);p.Ra(this.d,J?F:i);
this.n.appendChild(this.d);this.qT=p.i("img",l?"gsicon":"");this.d.appendChild(this.qT);if(J){var k=p.i("button");
k.textContent="\u25BC";p.Ra(k,i);this.n.appendChild(k)}else{var U=p.i("span");U.textContent="\u25BC";
U.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(U)}var I=this.a9k=p.i("span");
this.aO.appendChild(I);I.setAttribute("style","display:inline-block;  vertical-align:top;");this.wU=new go(l,b);
I.appendChild(this.wU.n);this.wU.parent=this.E9;this.wU.k(L.E.A,this.wQ,this);this.wU.n.style.height=E+"px";
this.Sd=p.i("button");this.Sd.textContent="\u25BC";this.Sd.setAttribute("style","padding:3px");p.Ra(this.Sd,this.Cz.bind(this));
this.aO.appendChild(this.Sd);var V=this.fe(),u=this.amb=b!=h4.Dh&&b!=h4.mL?b:null,N=this.ak1=b==null?!1:h4.RH[b][4]!=0,e=b==null?"":h4.RH[b][0].toUpperCase(),B=[];
if(u)B.push({name:[12,87]});B.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],U7:!0});B.push({name:[[23,6],"."+(e=="ICC"?"icc .cube .look .3dl":e)]},{name:["VAR0 ."+e,[1,8]]},{name:[6,37]},{name:[5,4],U7:V.length!=0});
for(var $=0;$<V.length;$++)B.push({name:V[$].split("/").pop()});this.awq=B;this.sF=b;this.Nc=null;this.TY=!0;
this.S9=null}k7.prototype=new gB;k7.prototype.fe=function(){return[]};k7.prototype.Xh=function(){};k7.prototype._=function(){this.wU._();
var x=this.pM;if(x)this.ff.textContent=h9.get(x)+":"};k7.prototype.bo=function(x){this.ff.textContent=x};
k7.prototype.Rd=function(x){var J=this.sF,o=0;if(J==h4.lF){o=this.Nc?this.Nc.length:0;x=x.slice(0)}this.Nc=x;
this.TY=!0;if(p.j5(this.wU.n)||J==h4.Xt)this.gw();if(J==h4.lF&&x.length-o==1&&p.j5(this.n)){this.w(x[o]);
this.TY=!0;this.gw();this.wU.w([o]);this.c(new ko(L.E.A))}};k7.prototype.Cw=function(x){var J=x.target.xi()[0];
if(this.amb==null)J++;var o=new ko(L.E.N,!0);if(J==0){var c=this.g7();if(this.sF==h4.lF&&c[0].profile==null)return;
o.data={d:L.H.bS,_E:"add",KJ:this.amb,AF:c}}else if(J==1)this.wU.TR(1-this.wU.ahd());else if(J<=5)this.E4(J-2);
else{var E=this.fe();o.data={d:L.H.lL,KJ:{url:"rsrc/"+E[J-6]}}}if(o.data)this.c(o)};k7.prototype.E4=function(x){var J=new ko(L.E.N,!0),o=this.wU.h(),c={d:L.H.bS,KJ:this.sF,qz:o};
if(x>1&&o.length==0){alert("No items selected");return}if(x==0)J.data={d:L.H.o2};else if(x==1)J.data={d:L.H.BG,ayK:this.sF,qz:o.length==0?null:o};
else if(x==2){var E=this.wU.Ou[1][o[0]],b=E.split("/");if(b.length==2){c.ly=b[0]+"/";E=b[1]}c._E="rnm";
J.data={d:L.H.yI,AN:"namewindow",xg:E,A3:{K:L.E.N,C:c}}}else if(x==3){J.data=c;c._E="del"}this.c(J)};
k7.prototype.g7=function(){return[this.h()]};k7.prototype.Cz=function(x){if(this.LO==null){this.LO=new iy(this.awq);
this.LO.parent=this.E9;this.LO.k("select",this.Cw,this)}if(p.j5(this.LO.n))return;x.stopPropagation();
var J=this.LO;J._();J.update(null);var o=x.currentTarget.getBoundingClientRect(),c=new ko(L.E.N,!0);
c.data={d:L.H.c4,BM:J,x:o.left,y:o.top+o.height};this.c(c)};k7.prototype.Q$=function(x,J,o){if(p.j5(this.E9.n))return;
if(x)x.stopPropagation();this.gw();if(J==null){var c=this.d.getBoundingClientRect(),J=c.left,o=c.top+c.height}this.ip();
var E=new ko(L.E.N,!0);E.data={d:L.H.c4,BM:this.E9,x:J,y:o,uP:!0};this.c(E)};k7.prototype.ip=function(x,J){var x=Math.min(this.ee,window.innerWidth-40);
this.a9k.style.width=x+"px";this.E9.n.style.width=x+20+"px"};k7.prototype.a4e=function(x,J){this.Q$(null,x,J)};
function aS(){gB.call(this);this.n=p.i("div");this.p2=!1;this.JL=[new i3([12,19,1],[[13,1,7]].concat(dv.rF)),new f3([17,1]),new f3([12,46])];
for(var $=0;$<3;$++){var x=this.JL[$];this.n.appendChild(x.n);x.k(L.E.A,this.GP,this)}this._()}aS.prototype=new gB;
aS.prototype._=function(){for(var $=0;$<3;$++)this.JL[$]._()};aS.prototype.h=function(){return this.p2.slice(0)};
aS.prototype.w=function(x){this.p2=x.slice(0);var J=this.JL,o=J[0].h();J[1].w(x.slice(o*8,o*8+4),o);
J[2].w(x.slice(o*8+4,o*8+8),o)};aS.prototype.GP=function(x){var J=this.JL,o=J.indexOf(x.currentTarget);
if(o==0)this.w(this.p2);else{var c=J[0].h()*8+(o==1?0:4),E=J[o].h();for(var $=0;$<4;$++)this.p2[c+$]=E[$];
this.c(new ko(L.E.A,!1))}};function f3(x){gB.call(this);this.n=p.i("div");this.$H=p.i("canvas");this.Nh=x;
this.p2=[0,20,200,255];this.GG=0;this.g$=-1;this.asD=[];for(var $=0;$<5;$++){var J=p.i("span");J.setAttribute("style","display:inline-block;width:"+($==0?8:$==2?7:2)+"em");
this.asD.push(J);this.n.appendChild(J)}this.sl=this.eN.bind(this);this.N3=this.FB.bind(this);this.js=this.cK.bind(this);
p.Oo(this.$H);p.Ra(this.$H,this.sl);this.n.appendChild(this.$H);this.A1()}f3.prototype=new gB;f3.prototype._=function(){this.A1()};
f3.prototype.w=function(x,J){this.p2=x;this.GG=J;this.A1()};f3.prototype.h=function(){return this.p2.slice(0)};
f3.prototype.eN=function(x){var J=this.p2,o=p.x2(x,this.$H),c=o.x-8,E=-1,b=1e9;for(var $=0;$<4;$++){var l=c-J[$],i=Math.abs(l);
if(i<8&&i<b&&(($&1)==0&&l<0||($&1)==1&&l>0)){b=l;E=$}}if(E==-1)return;this.g$=E;this.cn=window.__kb.S(dG.Zj)||J[(E>>>1)*2]!=J[(E>>>1)*2+1];
p.aP(window,this.N3);p.iU(window,this.js)};f3.prototype.FB=function(x){var J=this.p2,o=this.g$,c=(o>>>1)*2,E=c+1,b=p.x2(x,this.$H),l=Math.round(Math.max(0,Math.min(255,b.x-8)));
J[o]=l;if(this.cn&&J[c]>=J[E])this.cn=!1;if(!this.cn)J[c]=J[E]=l;this.A1();this.c(new ko(L.E.A,!1))};
f3.prototype.cK=function(x){p.Qx(window,this.N3);p.Ro(window,this.js)};f3.prototype.A1=function(){var x=this.$H;
p.Pi(x,255+16,16);var J=x.getContext("2d"),o=x.width,c=x.height,E=Math.round(255*p.IJ()),b=Math.round(8*p.IJ());
J.translate(b,0);var l=J.createLinearGradient(0,0,E,0);l.addColorStop(0,"black");l.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.GG]);
J.fillStyle=l;J.fillRect(0,0,E,b);var i=this.asD,F=h9.get(this.Nh)+":";i[0].textContent=F;for(var $=0;
$<4;$++){var k=this.p2[$];i[1+$].textContent=k;var U=Math.round(k*p.IJ());J.beginPath();J.moveTo(U,b);
J.lineTo(U,b+b);J.lineTo(U+(($&1)==0?-1:1)*b,b+b);J.closePath();J.fillStyle=$<2?"#666666":"#cccccc";
J.fill();J.strokeStyle="black";J.stroke()}};function gL(x,J,o){gB.call(this);if(o==null)o=!1;this.b=[0,0,1];
this.a1h=J;this.a7p=o;this.S2=0;var c="ai"+p.sJ();this.n=p.i("span","fitem angleinput");if(x){this.ff=p.i("label","flabel");
this.pM=x;this.n.appendChild(this.ff);this.ff.setAttribute("for",c)}this.xw=o?44:20;this.$H=p.i("canvas","gsicon");
this.n9=this.$H.getContext("2d");p.Oo(this.$H);p.Pi(this.$H,this.xw*2+1,this.xw*2+1);this.n9.scale(p.IJ(),p.IJ());
this.n.appendChild(this.$H);p.Ra(this.$H,this.c_.bind(this));this.dj=this.yt.bind(this);this._T=this._N.bind(this);
var E=this.l4.bind(this),b=p.i("div");b.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!o)this.n.appendChild(b);this.qQ=[];for(var $=0;$<2;$++){var l=p.i("input");this.qQ.push(l);l.setAttribute("type","text");
p.l8(l);if($==0)l.setAttribute("id",c);l.addEventListener("change",E,!1);var i=p.i("span");i.textContent="\xB0";
if($==0||J){b.appendChild(l);b.appendChild(i);p.UF(b)}}this.w(this.b)}gL.prototype=new gB;gL.prototype._=function(){if(this.pM)this.ff.textContent=h9.get(this.pM)+":"};
gL.prototype.bo=function(x){this.ff.textContent=x};gL.prototype.h=function(){return this.b.slice(0)};
gL.prototype.w=function(x,J){var o=this.b;x=x.slice(0);if(x[0]==null)x[0]=o[0];if(x[1]==null)x[1]=o[1];
if(x[2]==null)x[2]=o[2];this.b=x;var c=x[0],E=x[1],b=x[2],l=this.a1h,i=this.a7p,F=this.xw*.85;if(!l)E=0;
this.qQ[0].value=c;this.qQ[1].value=E;var k=this.n9;k.clearRect(0,0,100,100);c=Math.PI*c/180;E=F*(90-E)/90;
var U=this.xw+.5;k.save();k.translate(U,U);k.rotate(-c);k.strokeStyle="rgba(0,0,0,0.5)";k.beginPath();
k.ellipse(0,0,F,F*b,0,0,2*Math.PI);if(i){k.moveTo(0,-F*b);k.lineTo(0,F*b);k.moveTo(-E,0)}else k.moveTo(0,0);
k.lineTo(E,0);k.stroke();var I=this.xw*.15;k.fillStyle="black";k.beginPath();if(i){k.arc(0,-F*b,I*.66,0,2*Math.PI);
k.arc(0,F*b,I*.66,0,2*Math.PI)}if(l){k.arc(E,0,I*.4,0,2*Math.PI)}else{k.moveTo(U-I,-I*.66);k.lineTo(U,0);
k.lineTo(U-I,I*.66)}k.fill();k.restore();if(J)this.l4()};gL.prototype.l4=function(x){var J=parseInt(this.qQ[0].value);
if(isNaN(J))J=0;var o=parseInt(this.qQ[1].value);if(isNaN(o))o=0;J=J%360;o=o%360;this.w([J,o]);this.c(new ko(L.E.A,!1))};
gL.prototype.c_=function(x){p.aP(window,this.dj);p.iU(window,this._T);var J=p.x2(x,this.$H),U=0,I=1e9;
J.x-=this.xw;J.y-=this.xw;var o=this.b,c=o[0]*Math.PI/180,E=(90-o[1])/90,b=o[2],l=this.xw*.85,i=Math.sin(-c),F=Math.cos(-c),k=[new ck(F*l,i*l)];
if(this.a7p)k.push(new ck(-i*l*b,F*l*b),new ck(i*l*b,-F*l*b));for(var $=0;$<k.length;$++){var V=ck.q6(J,k[$]);
if(V<I){I=V;U=$}}this.S2=U;if(U==0)this.yt(x)};gL.prototype.yt=function(x){var J=p.x2(x,this.$H),o=this.S2,c=[],E=J.x-this.xw,b=J.y-this.xw,l=this.xw*.85;
if(o==0){var i=180*Math.atan2(-b,E)/Math.PI,F=90-90*Math.min(1,Math.sqrt(E*E+b*b)/l);if(x.shiftKey)i=Math.round(i/15)*15;
c=[Math.round(i),Math.round(F)]}else c=[null,null,Math.max(.01,Math.min(1,Math.sqrt(E*E+b*b)/l))];this.w(c);
this.c(new ko(L.E.A,!1))};gL.prototype._N=function(x){this.c(new ko(L.E.A,!1));p.Qx(window,this.dj);
p.Ro(window,this._T)};function a6(x,J){gB.call(this);this.p2=0;this.DA=J;this.n=p.i("span","fitem angleinput");
if(x){this.ff=p.i("label","flabel");this.pM=x;this.n.appendChild(this.ff)}this.$H=p.i("canvas","gsicon");
this.n9=this.$H.getContext("2d");p.Pi(this.$H,J,J);this.n.appendChild(this.$H);p.Oo(this.$H);p.Ra(this.$H,this.c_.bind(this));
this.dj=this.yt.bind(this);this._T=this._N.bind(this);this.w(0)}a6.prototype=new gB;a6.prototype._=function(){if(this.pM)this.ff.textContent=h9.get(this.pM)+":"};
a6.prototype.bo=function(x){this.ff.textContent=x};a6.prototype.h=function(){return this.p2};a6.prototype.akA=function(x){var J=this.p2,o=Math.floor(J/3),c=J-o*3;
c=Math.max(0,Math.min(2,c+x.x));o=Math.max(0,Math.min(2,o+x.y));this.w(o*3+c)};a6.prototype.w=function(x){this.p2=x;
var J=this.$H.width,o=Math.floor(x/3),c=x-3*o,E=(c+.5)*J/3,b=(o+.5)*J/3,l=this.n9,i=[.5,Math.round(J/3)+.5,Math.round(2*J/3)+.5,J-.5];
l.clearRect(0,0,J,J);var F=this.DA<30;l.setLineDash([]);l.strokeStyle=F?"rgba(0,0,0,0.5)":"#000000";
l.beginPath();for(var $=0;$<4;$++){var k=i[$];l.moveTo(k,0);l.lineTo(k,J);l.moveTo(0,k);l.lineTo(J,k)}l.stroke();
if(x==9)return;if(!F){l.setLineDash([1,2]);var U=J*.53,I=Math.max(0,Math.min(J-U,E-U/2)),V=Math.max(0,Math.min(J-U,b-U/2));
l.strokeRect(Math.round(I)+.5,Math.round(V)+.5,Math.round(U),Math.round(U))}l.fillStyle="#000000";l.beginPath();
l.arc(E,b,J/8,0,Math.PI*2);l.fill()};a6.prototype.c_=function(x){p.aP(document.body,this.dj);p.iU(document.body,this._T);
this.yt(x)};a6.prototype.yt=function(x){var J=p.x2(x,this.$H),o=Math.max(0,Math.min(2,Math.floor(J.x/(this.DA/3)))),c=Math.max(0,Math.min(2,Math.floor(J.y/(this.DA/3))));
this.w(c*3+o)};a6.prototype._N=function(x){this.c(new ko(L.E.A,!1));p.Qx(document.body,this.dj);p.Ro(document.body,this._T)};
function dw(bz){gB.call(this);this.n=p.i("span","fitem cswatch");this.acS=0;this.Hv=[];this.Hj=[];var x=this.aDA.bind(this);
for(var $=0;$<bz;$++){this.Hv.push(0);var J=p.i("span","colorsample");J.addEventListener("click",x,!1);
this.Hj.push(J);this.n.appendChild(J)}var o=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],c=Math.min(bz,o.length);
for(var $=0;$<c;$++)this.Hv[$]=o[$];this.bK()}dw.prototype=new gB;dw.prototype.aDA=function(x){this.acS=this.Hj.indexOf(x.currentTarget);
this.c(new ko(L.E.A))};dw.prototype.h=function(){return this.Hv[this.acS]};dw.prototype.w=function(x){var J=this.Hv,o=J.indexOf(x);
if(o!=-1)J.splice(o,1);else J.pop();J.unshift(x);this.bK()};dw.prototype.bK=function(){for(var $=0;$<this.Hv.length;
$++){this.Hj[$].setAttribute("style","background-color:#"+q.uW(this.Hv[$]))}};function cp(x){gB.call(this);
this.Z3={o:0,I:0,J:0};this.DZ=x;this.n=p.i("span","fitem colorsample");this.n.addEventListener("click",this.tJ.bind(this),!1)}cp.prototype=new gB;
cp.prototype._=function(){};cp.prototype.tJ=function(x){var J=this.Z3;this.c(new ko("click"));var o=new ko(L.E.N,!0);
o.data={d:L.H.yI,AN:"colorpicker",xK:Math.round(J.o)<<16|Math.round(J.I)<<8|Math.round(J.J),Uh:this.sw.bind(this),hy:this.DZ};
this.c(o)};cp.prototype.sw=function(x){this.RT(x);this.c(new ko(L.E.A))};cp.prototype.NL=function(){this.tJ(null)};
cp.prototype.H8=function(){var x=this.Z3;return x.o<<16|x.I<<8|x.J};cp.prototype.h=function(){return q.r.qP(this.Z3)};
cp.prototype.RT=function(x){this.Z3={o:x>>16&255,I:x>>8&255,J:x&255};this.au3()};cp.prototype.w=function(x){this.Z3=q.r.fL(x);
this.au3()};cp.prototype.au3=function(){var x=this.Z3,J=x.o,o=x.I,c=x.J,E=J<<16|o<<8|c;this.n.setAttribute("style","background-color:#"+q.uW(E))};
function ii(){gB.call(this);this.yO=!1;this.$a=20;this.aAk=10;this.ZM=0;this.yO=!1;this.C$={o:255,I:0,J:0};
this.f9={o:0,I:0,J:0};this.Vh=null;this.VE=null;this.n=p.i("canvas");this.A1();p.Oo(this.n);p.Ra(this.n,this.sl.bind(this))}ii.prototype=new gB;
ii.prototype.adG=function(x){if(this.yO==x)return;this.yO=x;this.A1()};ii.prototype._=function(){};ii.prototype.azV=function(x,J){function o(c){return{o:c>>16&255,I:c>>8&255,J:c&255}}if(x!=null)this.C$=o(x);
if(J!=null)this.f9=o(J);this.A1()};ii.prototype.a56=function(x,J){this.Vh=x;this.VE=J;this.A1()};ii.prototype.sl=function(x){var J=p.x2(x,this.n),o=J.x*p.IJ(),c=J.y*p.IJ(),E=this.$a,b=this.aAk,l=0;
if(o<b&&c<b){l=0}else if(o>E-b&&c>E-b){l=1}else if(o<b){l=2}else{l=3}this.NL(l)};ii.prototype.NL=function(x){var J=this.Vh,o=new ko(L.E.N,!0);
if(x>1){if(b5==0)o.data={d:L.H.bS,KJ:h4.uq,XC:x};else{var c={lZ:1,h5:JSON.parse(JSON.stringify(J.Se[1]))},E=JSON.parse(JSON.stringify(J.wb)),b={lZ:1,h5:JSON.parse(JSON.stringify(J.$c[1]))};
if(x==2){c=bs.JM(E);bs.u3(E,J.wB)}else{c.h5.Clr.v=q.r.qP({o:255,I:255,J:255});b.h5.Clr.v=q.r.qP({o:0,I:0,J:0});
bs.u3(E,b)}o.data={d:L.H.bS,KJ:h4.Y1,b:c};this.c(o);o.data={d:L.H.bS,KJ:h4.x4,b:E}}}else{this.ZM=x;var l=null;
if(b5==0)l=x==0?this.C$:this.f9;else{var i=x==0?J.Se:J.$c;l=q.r.fL(i[1].Clr.v)}o.data={d:L.H.yI,AN:"colorpicker",xK:l.o<<16|l.I<<8|l.J,Uh:this.sw.bind(this)}}this.c(o)};
ii.prototype.sw=function(x){var J=new ko(L.E.N,!0),o=this.ZM,c=this.Vh;if(b5==0)J.data={d:L.H.bS,KJ:h4.uq,XC:o,b:x};
else{var E={lZ:1,h5:JSON.parse(JSON.stringify(c.Se[1]))};E.h5.Clr.v=q.r.qP(q.ix(x));var b=JSON.parse(JSON.stringify(c.wb));
bs.u3(b,E);if(o==1)E=b;J.data={d:L.H.bS,KJ:o==0?h4.Y1:h4.x4,b:E}}this.c(J)};ii.prototype.A1=function(){var x=this.n,J=x.getContext("2d"),o=p.IJ(),E="#aaaaaa",b=.62;
p.Pi(x,34,34);x.setAttribute("style",x.getAttribute("style")+";cursor:pointer");var c=this.$a=x.width,l=this.aAk=Math.round(c*b);
function i(T,a){var P=T.o,v=T.I,R=T.J;if(a)P=v=R=Math.round(q.TM(P,v,R));var y=P<<16|v<<8|R;return"#"+q.uW(y)}function F(J,I,T,a,P,v){J.beginPath();
if(a>=v*2&&P>=v*2){J.moveTo(I+v,T);J.lineTo(I+a-v,T);J.quadraticCurveTo(I+a,T,I+a,T+v);J.lineTo(I+a,T+P-v);
J.quadraticCurveTo(I+a,T+P,I+a-v,T+P);J.lineTo(I+v,T+P);J.quadraticCurveTo(I,T+P,I,T+P-v);J.lineTo(I,T+v);
J.quadraticCurveTo(I,T,I+v,T)}J.closePath()}function k(I,T,l,a,P){J.strokeStyle=P?P:"black";J.fillStyle=a;
F(J,I+.5,T+.5,l-1,l-1,l*.2);J.fill();J.stroke()}var U=this.Vh;if(U){J.beginPath();var I=c-l,V=Math.floor(l*.28),u=l-2*V;
eF.ald(J,U.zs.ma,this.VE,l,l,I,I);J.lineWidth=1;J.strokeStyle="white";J.clearRect(I+V,I+V,u,u);J.strokeRect(I+V+.5,I+V+.5,u-1,u-1);
J.strokeRect(I+.5,I+.5,l-1,l-1);eF.ald(J,U.zs.TK,this.VE,l,l,0,0);J.lineWidth=1;J.strokeStyle="white";
J.strokeRect(.5,.5,l-1,l-1)}else{k(c-l,c-l,l,i(this.f9,this.yO));k(0,0,l,i(this.C$,this.yO))}var N=c-l,e=Math.round(N*b);
k(c-e,N-e,e,b5==0?"white":"black",E);k(c-N,0,e,b5==0?"black":"white",E);J.save();J.fillStyle=E;J.translate(0,c);
J.rotate(-Math.PI/2);N=c-l;var B=Math.round(N*.28),j=Math.round(N*.25);for(var $=0;$<2;$++){J.fillRect(B,B,N-B,1);
J.beginPath();J.moveTo(N-j,B+.5-j);J.lineTo(N,B+.5);J.lineTo(N-j,B+.5+j);J.closePath();J.fill();J.transform(0,1,1,0,0,0)}J.restore()};
function aV(x){k7.call(this,x,!1,"brushbutton nopadding",19*13,10*13,h4.di,!0);var J=this.ajc;p.na(J,"flexrow");
var o=p.i("div");J.appendChild(o);var c=p.i("div");J.appendChild(c);c.setAttribute("style","margin-left:8px");
this.bD=new gL(null,null,!0);this.bD.k(L.E.A,this.Yj,this);o.appendChild(this.bD.n);this.sB=new fb([12,14,0],1,1e3," px",0,!0);
this.sB.k(L.E.A,this.Yj,this);c.appendChild(this.sB.n);this.S0=new fb([12,17],0,100,"%");this.S0.k(L.E.A,this.Yj,this);
c.appendChild(this.S0.n);this.cZ=new fA(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.cZ.k(L.E.A,this.Yj,this);c.appendChild(this.cZ.n)}aV.prototype=new k7;aV.prototype.fe=function(){var x=["pencil","trees"];
for(var $=0;$<x.length;$++)x[$]="brushes/"+x[$]+".abr";return x};aV.prototype.w=function(x,J,o){this.S9=JSON.parse(JSON.stringify(x));
var c=Math.floor(20*p.IJ()),E=Math.floor(36*p.IJ()),b=Math.floor(24*p.IJ()),l=bd.dh(x,J,o,c,b,E);this.qT.setAttribute("src",l);
p.ev(this.qT,E,b);var i=x.Brsh.v;this.sB.w(i.Dmtr.v.val);if(i.Hrdn!=null){this.S0.G0();this.S0.w(i.Hrdn.v.val)}else this.S0.gt();
if(i.Angl!=null)this.bD.w([i.Angl.v.val]);if(i.Rndn!=null)this.bD.w([null,null,i.Rndn.v.val/100]);var F=[!1,!1];
if(x.opVr)F[0]=x.opVr.v.bVTy.v==2;if(x.szVr)F[1]=x.szVr.v.bVTy.v==2;this.cZ.w(F)};aV.prototype.g7=function(){return{list:[{t:"Objc",v:this.h()}],I2:[],Uc:[]}};
aV.prototype.h=function(){return this.S9};aV.prototype.gw=function(){if(!this.TY)return;var x=[],J=[],o=this.Nc,c=Math.floor(33*p.IJ()),E=Math.floor(40*p.IJ());
for(var $=0;$<o.list.length;$++){var b=o.list[$].v,l=bd.dh(b,o.I2,o.Uc,c,E);x.push(l);J.push(b.Nm.v)}this.wU.Qk(x,J,c,E);
this.TY=!1};aV.prototype.wQ=function(x){var J=this.Nc;this.w(J.list[this.wU.h()[0]].v,J.I2,J.Uc);this.c(new ko(L.E.A))};
aV.prototype._=function(){k7.prototype._.call(this);this.bD._();this.sB._();this.S0._()};aV.prototype.Yj=function(x){var J=this.Nc,o=this.S9,c=o.Brsh.v;
c.Dmtr.v.val=this.sB.h();if(c.Hrdn!=null)c.Hrdn.v.val=this.S0.h();if(c.Angl!=null)c.Angl.v.val=this.bD.h()[0];
if(c.Rndn!=null)c.Rndn.v.val=Math.round(this.bD.h()[2]*100);if(x.target==this.cZ)aR.a5k(o,this.cZ.h());
this.w(o,J.I2,J.Uc);this.c(new ko(L.E.A))};function b8(x){k7.call(this,x,!0,"contourbutton",17*13,10.5*13,h4.SQ)}b8.prototype=new k7;
b8.prototype.wQ=function(x){this.w(this.Nc[x.target.h()]);this.c(new ko(L.E.A))};b8.prototype.Xh=function(x){var J=new ko(L.E.N,!0);
J.data={d:L.H.yI,AN:"contoureditor",T3:this.S9,response:this.awX.bind(this)};this.c(J)};b8.prototype.awX=function(x){this.w(x);
this.c(new ko(L.E.A))};b8.prototype.gw=function(){if(!this.TY)return;var x=Math.floor(38*p.IJ()),J=Math.floor(38*p.IJ()),o=[],c=[],E=this.Nc;
for(var $=0;$<E.length;$++){c.push(E[$].Nm?E[$].Nm.v:"");o.push(q._8.dh(E[$].Crv.v,x,J))}this.wU.Qk(o,c,x,J);
this.TY=!1};b8.prototype.w=function(x){this.S9=JSON.parse(JSON.stringify(x));var J=this.S9.Crv.v;for(var $=0;
$<J.length;$++)if(J[$].v.Cnty==null)J[$].v.Cnty={t:"bool",v:!0};this.Ah()};b8.prototype.Ah=function(){var x=Math.floor(30*p.IJ()),J=Math.floor(30*p.IJ()),o=q._8.dh(this.S9.Crv.v,x,J);
this.qT.setAttribute("src",o);p.ev(this.qT,x,J)};b8.prototype.h=function(){return JSON.parse(JSON.stringify(this.S9))};
function eF(x){gB.call(this);this.jX=null;this.Vh=null;this.SG=null;this.k5=null;this.amJ=[];this.a6R=[];
this.n=p.i("span","fitem fillbutton");this.E9=new gB;this.E9.n=p.i("div","floatcont form");this.E9.n.setAttribute("style","width: 21em;");
this.E9.parent=this;this.eJ=x;this.ff=this.ff=p.i("label","flabel");this.n.appendChild(this.ff);this.$H=p.i("canvas");
this.n9=this.$H.getContext("2d");this.atY=null;this.n.appendChild(this.$H);p.Ra(this.$H,this.Q$.bind(this));
this.yw=new fW([12,66],["","Color","Grad","Patt"]);this.E9.n.appendChild(this.yw.n);this.yw.k(L.E.A,this.GP,this);
this.E9.n.appendChild(p.i("hr"));this.aAz=p.i("span");this.Md=new cp(!1);this.Md.parent=this.E9;this.Md.k(L.E.A,this.GP,this);
this.FG=new dw(10);this.FG.k(L.E.A,this.GP,this);this.Lb=p.i("div","marged hiline");this.Lb.appendChild(this.Md.n);
p.UF(this.Lb);this.Lb.appendChild(this.FG.n);this.OS=new ba("GrFl",!0);this.OS.parent=this.E9;this.OS.k(L.E.A,this.GP,this);
this.de=p.i("div","marged hiline");var J="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var $=0;
$<J.length;$++){var o=this.OS.Vd[J[$]].n;this.de.appendChild(o)}this.WR=new ba("patternFill",!0);this.WR.parent=this.E9;
this.WR.k(L.E.A,this.GP,this);this.Td=p.i("div","marged hiline");var J=["Ptrn","Angl","Scl","Algn","phase"];
for(var $=0;$<J.length;$++){var o=this.WR.Vd[J[$]].n;this.Td.appendChild(o)}}eF.prototype=new gB;eF.prototype.DL=function(x,J){var o=cc.c0(x,J);
if(o!=null)this.FG.w(o);if(J==h4.Vi){this.amJ=[];this.a6R=[];if(this.jX)this.w(this.SG,this.h(),this.jX)}this.Vh=x;
this.OS.DL(x,J);this.WR.DL(x,J)};eF.prototype._=function(){this.ff.textContent=h9.get(this.eJ)+": ";
this.yw._();this.Md._();this.OS._();this.WR._()};eF.prototype.GP=function(x){var J=x.currentTarget;if(J==this.yw){var o=this.yw.h(),c={lZ:o,h5:this.jX[o]};
if(o>0&&c.h5==null)c.h5=JSON.parse(JSON.stringify(bs.zQ[o-1]));if(this.jX)this.w(this.SG,c,this.jX)}if(J==this.FG)this.Md.RT(J.h());
this.c(new ko(L.E.A,!1))};eF.prototype.Q$=function(x){if(p.j5(this.E9.n))return;x.stopPropagation();
var J=this.$H.getBoundingClientRect(),o=new ko(L.E.N,!0);o.data={d:L.H.c4,BM:this.E9,x:J.left,y:J.top+J.height+4};
this.c(o)};eF.prototype.w=function(x,J,o){this.jX=o;this.SG=x;var c=[[13,1,0],[13,0],[12,37],[12,62]],E=this.amJ,b=this.a6R,l=!1,U;
for(var $=0;$<4;$++){var i={lZ:$,h5:o[$]},F=eF.abD(i);if(b[$]==F)continue;l=!0;var k=eF.ajT(null,i,this.Vh,this.SG,22,22,!1);
E[$]="<img width=\"22\" height=\"22\" src=\""+k+"\" />";b[$]=F}if(l)this.yw.Ed(E,c);this.yw.w(J.lZ);
var F=eF.abD(J);if(F!=this.atY)eF.ajT(this.n9,J,this.Vh,this.SG,30,23,!0);this.atY=F;var I=J.lZ;if(I==0){U=this.aAz}if(I==1){this.Md.w(J.h5.Clr.v);
U=this.Lb}if(I==2){this.OS.update(x,J.h5);U=this.de}if(I==3){this.WR.update(x,J.h5);U=this.Td}if(U!=this.k5){if(this.k5!=null){this.E9.n.removeChild(this.k5)}this.E9.n.appendChild(U);
this.k5=U}};eF.prototype.h=function(){var x={lZ:this.yw.h()};if(x.lZ==1){x.h5=JSON.parse(JSON.stringify(bs.zQ[0]));
x.h5.Clr.v=this.Md.h()}if(x.lZ==2){x.h5=this.OS.h()}if(x.lZ==3){x.h5=this.WR.h()}return x};eF.abD=function(x){var J=x.lZ,o=x.h5,c="empty";
if(J==1){c=q.r.fL(o.Clr.v);c=c.o+","+c.I+","+c.J}if(J==2)c=JSON.stringify(o.Grad.v);if(J==3)c=o.Ptrn.v.Idnt.v;
return c};eF.ajT=function(x,J,o,c,E,b,l){if(x==null)x=eF.n9;var i=Math.floor(E*p.IJ()),F=Math.floor(b*p.IJ()),k=x.canvas;
k.width=i;k.height=F;p.ev(k,i,F);eF.a3p(x,J,o,c,i,F);if(l){x.beginPath();x.strokeStyle="#000000";x.fillStyle="#ffffff";
x.lineWidth=2;var U=i*.7,I=Math.floor(F*.7),V=7*p.IJ();x.moveTo(U,I);x.lineTo(U+V,I);x.lineTo(U+V/2,I+V/2);
x.closePath();x.stroke();x.fill()}if(x==eF.n9)return k.toDataURL()};eF.n9=p.i("canvas").getContext("2d");
eF.a3p=function(x,J,o,c,E,b,l,i){if(l==null)l=0;if(i==null)i=0;var F=J.lZ;if(F==0){x.fillStyle="#ffffff";
x.fillRect(l,i,E,b);x.strokeStyle="#ff0000";x.lineWidth=2;x.moveTo(l,i);x.lineTo(l+E,i+b);x.moveTo(l,i+b);
x.lineTo(l+E,i);x.stroke()}if(F==1){var k=J.h5.Clr.v;k=q.r.fL(k);x.fillStyle="#"+q.uW(k.o<<16|k.I<<8|k.J);
x.fillRect(l,i,E,b)}if(F==2){var U=n.yT.dh(J.h5.Grad.v,E,b,0,o.Q6,o.xR,!0);x.putImageData(U,l,i)}if(F==3){var I=J.h5.Ptrn.v,V;
if(c!=null)V=cI.$N(I,c.add.Patt);if(V==null)V=cI.$N(I,o.yC);dq.dh(V,E,b,x.canvas)}};eF.ald=function(x,J,o,c,E,b,l){function i(u,N){return CSS.DP({o:u[0]*255,I:u[1]*255,J:u[2]*255},N)}if(J==null){x.fillStyle="#ffffff";
x.fillRect(b,l,c,E);x.strokeStyle="#ff0000";x.lineWidth=2;x.moveTo(b,l);x.lineTo(b+c,l+E);x.moveTo(b,l+E);
x.lineTo(b+c,l);x.stroke()}else if(J.length==3){x.fillStyle=i(J);x.fillRect(b,l,c,E)}else if(J.length==4){var F=b+c/2,k=l+E/2,U=J[0]==0?x.createLinearGradient(b,l,b+c,l):x.createRadialGradient(F,k,0,F,k,c/2),I=J[1];
for(var $=0;$<I.length;$++)U.addColorStop(I[$][0],i(I[$][1],I[$][2]));x.fillStyle=U;x.fillRect(b,l,c,E)}else if(J.length==2){var V=o.Qr[J[0]];
x.save();x.fillStyle="white";x.fillRect(b,l,c,E);x.rect(b,l,c,E);x.scale(c/V.m,E/V.e);x.fillStyle=V.a48;
x.fill();x.restore()}};function dq(x){k7.call(this,x,!1,"patternbutton",18*13,10*13,h4.Vi);this.Pa=null}dq.prototype=new k7;
dq.prototype.wQ=function(x){var J=this.Nc[this.wU.h()];this.S9={classID:"Ptrn",Nm:{t:"TEXT",v:J.name},Idnt:{t:"TEXT",v:J.id}};
this.c(new ko(L.E.A));this.Ah()};dq.prototype.gw=function(){if(!this.TY)return;var x=this.Nc,J=Math.floor(34*p.IJ()),o=Math.floor(34*p.IJ()),c=[],E=[];
for(var $=0;$<x.length;$++){c.push(dq.dh(x[$],J,o));E.push(x[$].name)}this.wU.Qk(c,E,J,o);this.TY=!1};
dq.prototype.w=function(x,J){if(this.S9&&x.Idnt.v==this.S9.Idnt.v)return;this.S9=JSON.parse(JSON.stringify(x));
this.Ah(J)};dq.prototype.h=function(){return JSON.parse(JSON.stringify(this.S9))};dq.prototype.g7=function(){return this.Pa?[this.Pa]:[]};
dq.prototype.Ah=function(x){var J=Math.floor(50*p.IJ()),o=Math.floor(50*p.IJ()),c;if(x!=null)c=cI.$N(this.S9,x.add.Patt);
if(c==null)c=cI.$N(this.S9,this.Nc);this.Pa=c;var E=dq.dh(c,J,o);this.qT.setAttribute("src",E);p.ev(this.qT,J,o)};
dq.$H=p.i("canvas","");dq.dh=function(x,J,o,c){if(c==null)c=dq.$H;var E=c.getContext("2d");c.width=J;
c.height=o;if(x){var b=x.Gc[1],l=b.m,i=b.e,F=x.Gc[0],k=Math.min(J/l,o/i),U=k;if(U*l<2)U=2/l;var I=k;
if(I*i<2)I=2/i;var V=n.Y.yo([F,b],new cW(U,0,0,I,0,0),U>2),u=V.rect.m,N=V.rect.e,e=E.createImageData(u,N);
q.N8(V.buffer,e.data);E.putImageData(e,Math.floor((J-u)/2),Math.floor((o-N)/2))}return c.toDataURL()};
function kw(x,J,o){if(J==null)J=24.2;if(o==null)o=17;k7.call(this,x,!1,"patternbutton",J*13,o*13,h4.Dh);
this.UP=""}kw.prototype=new k7;kw.prototype.wQ=function(x){this.S9=JSON.parse(JSON.stringify(this.Nc[0][this.wU.h()[0]]));
this.c(new ko(L.E.A))};kw.prototype.gw=function(){var x=this.Nc;if(x==null||!this.TY)return;var J=Math.floor(50*p.IJ()),o=Math.floor(50*p.IJ()),c=[],E=[];
for(var $=0;$<x[0].length;$++){c.push(kw.dh(this.Nc[0][$].oe,J,o,this.Nc[1]));E.push(x[0][$].OA.Nm.v.split("=").pop())}this.wU.Qk(c,E,J,o);
this.TY=!1};kw.prototype.w=function(x,J,o,c){var E=JSON.stringify(x.oe)+","+o+","+c;if(this.UP!=E){this.UP=E;
this.S9=JSON.parse(JSON.stringify(x));this.Ah(J,o,c)}};kw.prototype.h=function(){return JSON.parse(JSON.stringify(this.S9))};
kw.prototype.Ah=function(x,J,o){var c=Math.floor(68*p.IJ()),E=Math.floor(68*p.IJ()),b=kw.dh(this.S9.oe,c,E,x?x:this.Nc[1],J,o);
this.qT.setAttribute("src",b);p.ev(this.qT,c,E)};kw.dh=function(x,J,o,c,E,b){var l=new hk;l.m=J;l.e=o;
l.buffer=q.R(J*o*4);l.add.Patt=c;l.Ok(E==null?90:E);l.Hd(b==null?30:b);var i=new ha(0,0,Math.round(J*.5),Math.round(o*.5));
i.x=Math.round((J-i.m)/2);i.y=Math.round((o-i.e)/2);var F=l._I();F.rect=i;F.buffer=q.R(i.P()*4);q.xj(F.buffer,4284045657);
cI.ao5(x,F,.5*100);l.B.push(F);l.NT();l.W();var k=ai.mB;ai.mB=!1;l.Q4();var U=l.or();ai.mB=k;var I=hR.jr(U.buffer,l.m,l.e);
return I};function hC(x){k7.call(this,null,!1,"tpresetbutton",18*13,24*13,h4.zx,!0);p.ml(this.n,"fitem");
this.wU.TR(1);this.id=x;this.Ah();this.d.style.overflow="hidden";this.XQ=new j8([15,7,9]);this.XQ.w(!0);
this.XQ.k(L.E.A,this.aar,this);this.aO.appendChild(this.XQ.n)}hC.prototype=new k7;hC.prototype.axh=function(x){if(this.id==x)return;
this.id=x;this.Rd(this.Nc)};hC.prototype.wQ=function(x){var J=this.Nc[this.wU.h()],o=new ko(L.E.N,!0);
o.data={d:L.H.bS,_E:"set",KJ:h4.zx,AF:J};this.c(o)};hC.prototype._=function(){k7.prototype._.call(this);
this.XQ._()};hC.prototype.aar=function(){this.TY=!0;this.gw()};hC.prototype.gw=function(){if(!this.TY)return;
var x=Math.floor(16*p.IJ()),J=Math.floor(16*p.IJ()),o=[],c=[],E=this.Nc,b=this.XQ.h();for(var $=0;$<E.length;
$++){var l=n.V5[E[$][1].classID];if(!b||l==this.id){c.push(E[$][0]?E[$][0].split("=").pop():"");o.push(l==-1?"":PIMG[n.BD[l]])}else{o.push(null);
c.push(null)}}this.wU.Qk(o,c,x,J);this.TY=!1};hC.prototype.Ah=function(){var x=this.qT;x.setAttribute("src",PIMG[n.BD[this.id]]);
p.na(x,"toolicon")};hC.prototype.g7=function(){return null};hC.fN={};hC.dh=function(x,J,o){var c=hC.n9,E=hC.fN,b=q.uW(x.o<<16|x.I<<8|x.J);
if(E[b])return E[b];if(c==null){var l=p.i("canvas");c=hC.n9=l.getContext("2d")}var l=c.canvas;l.width=J;
l.height=o;c.fillStyle="#"+b;c.fillRect(0,0,J,o);var i=E[b]=l.toDataURL();return i};function bu(x,J,o){gB.call(this);
this.n=p.i("span","fitem curveeditor");this.QY=null;this.a4T=0;this.GG="";this.mode=0;this.qh=x;this.azK=J;
this.axe=o;this.pk=null;this.MX=null;this.auG=0;this.ao8=0;this.TN=new ck;this.o9=this.yt.bind(this);
this.HX=this._N.bind(this);this.DA=256;this.$H=p.i("canvas");this.n9=this.$H.getContext("2d");p.Oo(this.$H);
this.n.appendChild(this.$H);this.ip(256,256);p.Ra(this.$H,this.c_.bind(this));this.coords=p.i("div");
this.coords.setAttribute("style","width:250px");this.n.appendChild(this.coords);var c=this.z0=o?100:255,E=null;
this.QD=new f1("X (in)",0,c,E,0,!1,!0);this.kk=new f1("Y (out)",0,c,E,0,!1,!0);this.TT=new j8([19,3,0]);
this.QD.k(L.E.A,this.Cy,this);this.kk.k(L.E.A,this.Cy,this);this.TT.k(L.E.A,this.Cy,this);this.coords.appendChild(this.QD.n);
if(o)this.coords.appendChild(this.TT.n);this.coords.appendChild(this.kk.n)}bu.prototype=new gB;bu.prototype._=function(){this.TT._();
this.QD._();this.kk._()};bu.prototype.ip=function(x,J){this.DA=Math.round(x);this.n9.resetTransform();
p.Pi(this.$H,this.DA,this.DA,this.n9);this.n9.scale(this.DA/256,this.DA/256);if(this.pk)this._A()};bu.prototype.Cy=function(x){var $=this.adf(),J=this.pk[$],o=255/this.z0;
J.v.Hrzn.v=this.QD.h()*o;J.v.Vrtc.v=this.kk.h()*o;if(this.axe)J.v.Cnty.v=this.TT.h();this.pk.sort(function(c,E){return c.v.Hrzn.v-E.v.Hrzn.v});
this._A();this.c(new ko(L.E.A))};bu.prototype.w=function(x,$){var J=JSON.stringify(x);if(J==JSON.stringify(this.pk))return;
this.mode=x.length==256?1:0;this.pk=JSON.parse(J);if($!=null)this.MX=this.pk[$];this._A()};bu.prototype.RY=function(x,J,o){this.QY=x;
this.a4T=J;this.GG=o;this._A()};bu.prototype.h=function(){return JSON.parse(JSON.stringify(this.pk))};
bu.prototype.adf=function(){return this.pk.indexOf(this.MX)};bu.prototype.c_=function(x){var J=256/this.DA,o=p.x2(x,this.$H);
o.x*=J;o.y*=J;var c=o.x,E=256-o.y;if(this.qh){var b=c;c=256-E;E=b}this.TN.DQ(c,E);if(this.mode==0){var l=0,i=1e9,V;
for(var $=0;$<this.pk.length;$++){var F=this.pk[$].v,k=F.Hrzn.v-c,U=F.Vrtc.v-E,I=Math.sqrt(k*k+U*U);
if(I<i){i=I;l=$}}if(i<15)V=this.pk[l];else{V=q._8.Ji(c,E,!0);this.pk.push(V);this.pk.sort(function(u,N){return u.v.Hrzn.v-N.v.Hrzn.v})}this.MX=V;
this.ao8=this.pk.slice(0)}p.aP(document.body,this.o9);p.iU(document.body,this.HX);this.yt(x)};bu.prototype.yt=function(x){var J=256/this.DA,o=p.x2(x,this.$H);
o.x*=J;o.y*=J;var c=o.x,E=256-o.y;if(this.qh){var b=c;c=256-E;E=b}if(this.mode==0){var l=this.pk,i=this.MX,F=this.ao8,k=F.indexOf(i),U=l.indexOf(i)!=-1,I=F.length-1,V=c;
if(k==0){V=Math.max(0,Math.min(F[1].v.Hrzn.v-1,c))}else if(k==I){V=Math.min(255,Math.max(F[I-1].v.Hrzn.v+1,c))}else{var u=c<0||c>255||E<0||E>255;
if(c<=F[k-1].v.Hrzn.v||c>=F[k+1].v.Hrzn.v)u=!0;if(!u&&!U)l.splice(k,0,i);if(u&&U)l.splice(k,1)}if(this.azK&&(k==0||k==F.length-1)){}else i.v.Hrzn.v=Math.round(V);
i.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(E)))}else{c=Math.round(c);E=Math.round(E);c=Math.max(0,Math.min(255,c));
E=Math.max(0,Math.min(255,E));var N=this.TN.x,e=c,B=this.TN.y,j=E;if(c<this.TN.x){e=N;N=c;j=B;B=E}this.pk[c]=E;
if(N!=e)for(var T=N;T<=e;T++)this.pk[T]=Math.round(B+(T-N)*(j-B)/(e-N))}this.TN.DQ(c,E);this._A();this.c(new ko(L.E.A))};
bu.prototype._N=function(x){p.Qx(document.body,this.o9);p.Ro(document.body,this.HX);this.c(new ko(L.E.A))};
bu.prototype._A=function(){var x=this.n9,J=this.$H;x.fillStyle="#ffffff";x.fillRect(0,0,256,256);var o=256/J.width;
if(this.QY){x.save();x.translate(0,256);x.scale(1,-1);fX.alA(x,this.QY,5700/this.a4T,this.GG);x.restore()}x.strokeStyle="#aaaaaa";
x.lineWidth=1*o;x.beginPath();for(var $=1;$<4;$++){var c=(Math.floor(64*$/o)+.5)*o;x.moveTo(0,c);x.lineTo(255,c);
x.moveTo(c,0);x.lineTo(c,255)}x.stroke();if(this.qh){x.save();x.transform(0,1,-1,0,256,0)}if(this.mode==0){var E=this.pk,b=q._8.g1(E,256);
x.strokeStyle="#000000";x.beginPath();x.moveTo(0,255.5-b[0]);for(var $=0;$<256;$++)x.lineTo($,255.5-b[$]);
x.stroke();x.lineWidth=2*o;for(var $=0;$<E.length;$++){var l=E[$].v;x.fillStyle=this.MX==E[$]?"#333":"#fff";
x.beginPath();x.moveTo(l.Hrzn.v,255.5-l.Vrtc.v);x.arc(l.Hrzn.v,255.5-l.Vrtc.v,5*o,0,2*Math.PI);x.stroke();
x.fill()}}else{var b=this.pk;x.strokeStyle="#000000";x.beginPath();x.moveTo(0,255.5-b[0]);for(var $=0;
$<256;$++)x.lineTo($,255.5-b[$]);x.stroke()}if(this.qh)x.restore();var $=this.adf();this.coords.className=$==-1?"disabled":"";
if($==-1)return;var l=this.pk[$].v,i=255/this.z0;this.QD.w(Math.round(l.Hrzn.v/i));this.kk.w(Math.round(l.Vrtc.v/i));
if(l.Cnty)this.TT.w(l.Cnty.v)};function fX(x,J){gB.call(this);this.n=p.i("span","");this.fr=new i3([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.fr.k(L.E.A,this.A1,this);this.n.appendChild(this.fr.n);p.UF(this.n);var o=p.i("div");this.n.appendChild(o);
o.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.$H=p.i("canvas");var c=this.$H;
o.appendChild(c);c.width=Math.round(x*p.IJ());c.height=Math.round(100*p.IJ());p.ev(c,c.width,c.height);
c.style.display="block";this.n9=c.getContext("2d");this.QY=null;this.$S=0;this.an7=null;this.aAZ=[];
this.fW=[];var E=["Mean:","Pixels:"],b=this.n;if(J)for(var $=0;$<E.length;$++){var l=new dr(E[$]);this.aAZ.push(l);
b.appendChild(l.n);var i=new dr("hi");this.fW.push(i);b.appendChild(i.n);p.UF(b)}}fX.prototype=new gB;
fX.prototype._=function(){this.fr._()};fX.prototype.TR=function(x){this.fr.w(x);this.A1()};fX.prototype.w=function(x,J){this.QY=x;
this.an7=J;this.A1()};fX.prototype.RT=function(x){if(x==this.$S)return;this.$S=x;this.A1()};fX.prototype.A1=function(){if(this.QY==null)return;
var x=this.$H,J=this.n9,o=this.QY,c=this.an7,E=this.fr.h(),b=6e3/o[4],l="#"+q.uW(this.$S),i=fX.alA;x.width=x.width;
J.setTransform(x.width/256,0,0,-x.height/100,0,x.height);J.globalCompositeOperation="lighter";if(E==0)i(J,o[0],b/3,l);
else if(E<4)i(J,o[E],b,l);else{i(J,o[1],b,"#ff0000");i(J,o[2],b,"#00ff00");i(J,o[3],b,"#0000ff")}J.setTransform(1,0,0,1,0,0);
if(c!=null){if(E==4)E=0;var F=0;for(var $=0;$<256;$++)F+=$*o[E][$];if(E==0)F/=3;this.fW[0].w((F/c).toFixed(1)+"");
this.fW[1].w(c+"")}};fX.alA=function(x,J,o,c){x.beginPath();x.moveTo(0,0);for(var E=0;E<256;E++)x.lineTo(E,J[E]*o);
x.lineTo(256,0);x.closePath();x.fillStyle=c;x.fill()};function fQ(x,J){gB.call(this);this.M$={o:0,I:0,J:0};
if(Math.abs(x-256/p.IJ())<10)x=256/p.IJ();var o=this.n=p.i("div","flexrow");o.style.position="relative";
var c=this.a3K=p.i("div");o.appendChild(c);this.jD=new ck;this.Xq=new ck;this.dj=this.jV.bind(this);
this._T=this.ajF.bind(this);this.$H=p.i("canvas","");this.n9=this.$H.getContext("2d");this.$H.width=this.$H.height=256;
this.a4l=this.n9.getImageData(0,0,256,256);this.ac6=-1;this.a3n="";this.Nz=null;p.Oo(this.$H);p.Ra(this.$H,this.a7N.bind(this));
c.appendChild(this.$H);this.a4z=this.a4j.bind(this);this.asV=this.acc.bind(this);this.O3=p.i("canvas","");
this.m6=this.O3.getContext("2d");this.O3.width=20;this.O3.height=256;this.aq$=this.m6.getImageData(0,0,20,256);
fQ.a66(this.aq$.data,20,256);p.Oo(this.O3);p.Ra(this.O3,this.aqR.bind(this));o.appendChild(this.O3);
this.$H.setAttribute("style","width:"+x+"px; height:"+x+"px");this.O3.setAttribute("style","width:16px; height:"+x+"px");
this.wO=new j8("Web Colors\u2001");this.wO.k(L.E.A,this.update,this);this.TO=new j8("CMYK gamut");this.TO.k(L.E.A,this.update,this);
if(J){p.UF(c);c.appendChild(this.wO.n);c.appendChild(this.TO.n)}var E=this.U6=document.createElementNS("http://www.w3.org/2000/svg","svg");
o.appendChild(E)}fQ.prototype=new gB;fQ.prototype.ip=function(x,J){this.$H.style.width=this.a3K.style.width=x-16+"px"};
fQ.prototype.w=function(x){if(this.wO.h()){var J=JSON.parse(JSON.stringify(x));fQ.R4(J);var o=this.h();
if(J.o==o.o&&J.I==o.I&&J.J==o.J)x=this.M$}this.M$=x;this.update()};fQ.prototype.h=function(){var x=JSON.parse(JSON.stringify(this.M$));
if(this.wO.h())fQ.R4(x);return x};fQ.prototype.update=function(){var x=this.M$,J=q.tu(x.o,x.I,x.J),i=18;
if(J.fz==0)J.Rw=this.jD.x/255;if(J.Rw==0||J.fz==0)J.ao=(255-this.gk(this.Xq.y))/255;if(J.fz!=0)this.jD.x=J.Rw*255;
this.jD.y=(1-J.fz)*255;this.Xq.y=(1-J.ao)*255;var o=this.a4l,c=this.wO.h(),E=this.TO.h(),b=c+","+E;if(Math.abs(J.ao-this.ac6)>.002||this.a3n!=b){this.alo(o.data,256,256,J.ao,c,E);
this.azX();this.ac6=J.ao;this.a3n=b}var l=this.n9;l.putImageData(o,0,0);o=this.aq$;l=this.m6;l.putImageData(o,0,0);
l.strokeStyle="#ffffff";l.beginPath();l.moveTo(0,this.Xq.y);l.lineTo(20,this.Xq.y);l.lineWidth=2;l.stroke();
var F=this.jD.y/255,k=parseFloat(this.$H.style.width),U=parseFloat(this.$H.style.height),I=this.U6;I.setAttribute("width",i);
I.setAttribute("height",i);var V=Math.round(x.o*255)<<16|Math.round(x.I*255)<<8|Math.round(x.J*255),u="<circle cx=\""+i/2+"\" cy=\""+i/2+"\" r=\""+i/2+"\" fill=\"#"+q.uW(V)+"\"></circle>";
u+="<circle cx=\""+i/2+"\" cy=\""+i/2+"\" r=\""+(-.5+i/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*F)+")\" stroke-width=\"1\"></circle>";
u+="<circle cx=\""+i/2+"\" cy=\""+i/2+"\" r=\""+(-1.2+i/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
I.innerHTML=u;I.style.pointerEvents="none";I.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
I.style.position="absolute";I.style.left=k*(this.jD.x/255)-i/2+"px";I.style.top=U*(this.jD.y/255)-i/2+"px"};
fQ.R4=function(x){x.o=~~(.5+x.o*5)*.2;x.I=~~(.5+x.I*5)*.2;x.J=~~(.5+x.J*5)*.2};fQ.prototype.alo=function(x,J,o,c,E,b){var l=1/J,i=1/o;
for(var F=0;F<o;F++)for(var k=0;k<J;k++){var U=q.qf(c,k*l,(o-F-1)*i);if(E)fQ.R4(U);var $=F*J+k<<2;x[$+0]=~~(U.o*255);
x[$+1]=~~(U.I*255);x[$+2]=~~(U.J*255);x[$+3]=255}if(b){var I=x.slice(0),V=q.lX("rgbToRgbC"),u=V[2],N=V[3];
ICC.U.applyLUT(N,u,I,I);this.Nz=q.R(J*o);for(var $=0;$<x.length;$+=4){var e=x[$]-I[$],B=x[$+1]-I[$+1],j=x[$+2]-I[$+2],T=e*e+B*B+j*j;
if(T>300){x[$]=x[$+1]=x[$+2]=200;this.Nz[$>>>2]=255}}}};fQ.a66=function(x,J,o,c,E){if(c==null)c=1;if(E==null)E=0;
var b=new Uint32Array(x.buffer);for(var l=0;l<o;l++){var i=q.qf((1+c*(1-l/o)+E)%1,1,1),F=255<<24|i.J*255<<16|i.I*255<<8|i.o*255;
for(var k=0;k<J;k++)b[l*J+k]=F}};fQ.prototype.a7N=function(x){p.aP(window,this.dj);p.iU(window,this._T);
this.jV(x);this.U6.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.U6.style.transform="scale(2.4)"};
fQ.prototype.ajF=function(x){p.Qx(window,this.dj);p.Ro(window,this._T);this.U6.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.U6.style.transform="scale(1)"};fQ.prototype.jV=function(x){var J=p.x2(x,this.$H);J.x=J.x*(256/parseFloat(this.$H.style.width));
J.y=J.y*(256/parseFloat(this.$H.style.height));this.jD.DQ(this.gk(J.x),this.gk(J.y));this.azX();this.ZL()};
fQ.prototype.azX=function(){if(!this.TO.h())return;var x=this.jD,J=0,o=0,c=1e9;for(var E=0;E<256;E++){for(var b=0;
b<256;b++){if(this.Nz[E*256+b]==255)continue;var l=b-x.x,i=E-x.y,F=l*l+i*i;if(F<c){J=b;o=E;c=F}}}x.x=J;
x.y=o};fQ.prototype.ZL=function(){this.M$=this.an5();this.c(new ko(L.E.A))};fQ.prototype.an5=function(){var x=q.qf((255-this.gk(this.Xq.y))/255,this.Ke(this.jD.x/255),this.Ke(1-this.jD.y/255));
return{o:x.o,I:x.I,J:x.J}};fQ.prototype.aqR=function(x){p.aP(window,this.a4z);p.iU(window,this.asV);
this.a4j(x)};fQ.prototype.acc=function(x){p.Qx(window,this.a4z);p.Ro(window,this.asV)};fQ.prototype.a4j=function(x){var J=p.x2(x,this.O3);
J.y=J.y*(256/parseFloat(this.O3.style.height));this.Xq.DQ(this.gk(J.x),this.gk(J.y));this.ZL()};fQ.prototype.gk=function(x){return Math.max(0,Math.min(255,x))};
fQ.prototype.Ke=function(x){return Math.max(0,Math.min(1,x))};function bC(x,J,o,c){var E=fW.c5(J,c);
fW.call(this,x,E,o)}bC.prototype=new fW;function c1(){gB.call(this);this.XK=null;this.SU=new eN;this.SU.k(L.E.A,this.atP,this);
this.SU.parent=this;this.p0=new f1([12,14,0],1,150,"px",0,!0);this.p0.k(L.E.A,this.lw,this);this.p0.parent=this;
this.fn=new f1([16,0],.01,100,"px",2,!0,null,5);this.fn.k(L.E.A,this.lw,this);this.fn.parent=this;this.fF=new j8("Auto");
this.fF.k(L.E.A,this.lw,this);this.ve=new f1([16,1],-500,5e3,"%",0,!0);this.ve.k(L.E.A,this.lw,this);
this.ve.parent=this;this.Lp=new f1("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Lp.k(L.E.A,this.lw,this);
this.Lp.parent=this;this.Og=new f1("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Og.k(L.E.A,this.lw,this);
this.Og.parent=this;this.rm=new f1([16,2],-10,10,"px");this.rm.k(L.E.A,this.lw,this);this.rm.parent=this;
this.RQ=new cp(!0);this.RQ.k(L.E.A,this.bI,this);this.RQ.parent=this;this.ze=new cp(!0);this.ze.k(L.E.A,this.bI,this);
this.ze.parent=this;this.Rm=new cp(!0);this.Rm.k(L.E.A,this.bI,this);this.Rm.parent=this;this.ak=new cp(!0);
this.ak.k(L.E.A,this.bI,this);this.ak.parent=this;this.Uu=new j8([2,3]);this.Uu.k(L.E.A,this.lw,this);
this.aw=new j8([14,9]);this.aw.k(L.E.A,this.lw,this);this._s=new j8([12,46]);this._s.k(L.E.A,this.lw,this);
this.JO=new eH("...",null,null,!0);this.JO.n.style.marginLeft="-8px";p.Ra(this.JO.n,this.a9P.bind(this));
this.E9=new gB;var x=this.E9.n=p.i("div","floatcont form"),E=100;this.E9.parent=this;this.n8=new f1([12,41],1,20,"px",0,!0,!0);
this.n8.n.style.marginLeft="16px";this.n8.k(L.E.A,this.lw,this);this.n8.parent=this.E9;x.appendChild(this.ze.n);
x.appendChild(this.Uu.n);p.UF(this.E9.n);x.appendChild(this.Rm.n);x.appendChild(this.aw.n);x.appendChild(this.n8.n);
p.UF(this.E9.n);x.appendChild(this.ak.n);x.appendChild(this._s.n);this.gd=new eH("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.e8=new eH("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.o_=new eH("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.pr=new eH("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.L$=new eH("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.ka=new eH("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.et=new eH("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.wk=new eH("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var J=[this.gd,this.e8,this.o_,this.pr,this.L$,this.ka,this.et,this.wk];
for(var $=0;$<J.length;$++)J[$].k("click",this.aAv,this);this.ZK=new eH("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Mq=new eH("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.UW=new eH("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a8G=new eH("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a5o=new eH("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.avw=new eH("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.ahD=new eH("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.hL=[this.ZK,this.Mq,this.UW,this.a8G,this.a5o,this.avw,this.ahD];for(var $=0;$<this.hL.length;$++)this.hL[$].k("click",this.lw,this);
var o=["lind","rind","flind","bind","aind"],c=[];for(var $=0;$<5;$++)c.push("<img src=\""+PIMG["par/"+o[$]]+"\" class=\"autoscale gsicon\" /> ");
this.y3=new f1(c[0],-E,E,"px");this.Fg=new f1(c[1],-E,E,"px");this.rT=new f1(c[2],-E,E,"px");this.Ze=new f1(c[3],-E,E,"px");
this.us=new f1(c[4],-E,E,"px");this.W7=new fW([12,33],["Abc ...","... أي بي"]);this.If=new f1(["Auto VAR0",[16,0]],0,500,"%");
this.AP=[this.y3,this.Fg,this.rT,this.Ze,this.us,this.W7,this.If];for(var $=0;$<this.AP.length;$++){var b=this.AP[$];
b.k(L.E.A,this.lw,this);b.parent=this}}c1.prototype=new gB;c1.prototype.a9P=function(x){if(p.j5(this.E9.n))return;
x.stopPropagation();var J=this.JO.n.getBoundingClientRect(),o=new ko(L.E.N,!0);o.data={d:L.H.c4,BM:this.E9,x:J.left,y:J.top+J.height+4};
this.c(o)};c1.prototype._=function(){this.SU._();this.p0._();this.fn._();this.ve._();this.rm._();this.Lp._();
this.Og._();this.Uu._();this.aw._();this._s._();this.n8._();for(var $=0;$<this.AP.length;$++)this.AP[$]._()};
c1.prototype.w=function(x,J,o){this.Mf=JSON.parse(JSON.stringify(x));var c=this.Mf,E=c.kJ,b=c.zR;this.gd.w(E.FauxBold!=null?E.FauxBold:!1);
this.e8.w(E.FauxItalic!=null?E.FauxItalic:!1);this.o_.w(E.FontCaps==2);this.pr.w(E.FontCaps==1);this.ka.w(E.FontBaseline==1);
this.L$.w(E.FontBaseline==2);this.et.w(E.Underline);this.wk.w(E.Strikethrough);this.SU.w(E.Font==null?null:c.SY[E.Font].Name,J,o);
var l=E.FontSize==null?20:E.FontSize;this.p0.w(l);var i=E.Tracking;this.ve.w(i==null?0:i);this.n8.w(E._LineWidth!=null?E._LineWidth:1);
this.fn.w(E.Leading!=null&&E.Leading!=0?E.Leading:l);this.fF.w(E.AutoLeading);this.Lp.w((E.VerticalScale!=null?E.VerticalScale:0)*100);
this.Og.w((E.HorizontalScale!=null?E.HorizontalScale:0)*100);this.rm.w(E.BaselineShift!=null?E.BaselineShift:0);
this.Uu.w(E.FillFlag!=null?E.FillFlag:!1);this.aw.w(E.StrokeFlag!=null?E.StrokeFlag:!1);this._s.w(E._FillBackgroundFlag!=null?E._FillBackgroundFlag:!1);
this.y4(E.FillColor,this.RQ);this.y4(E.FillColor,this.ze);this.y4(E.StrokeColor,this.Rm);this.y4(E._FillBackgroundColor,this.ak);
var F=b._Direction!=null?b._Direction:0,k=iv.$Z(b);for(var $=0;$<this.hL.length;$++)this.hL[$].w(k==$);
this.W7.w(F);this.If.w((b.AutoLeading!=null?b.AutoLeading:1.2)*100);this.y3.w(b.StartIndent!=null?b.StartIndent:0);
this.Fg.w(b.EndIndent!=null?b.EndIndent:0);this.rT.w(b.FirstLineIndent!=null?b.FirstLineIndent:0);this.Ze.w(b.SpaceBefore!=null?b.SpaceBefore:0);
this.us.w(b.SpaceAfter!=null?b.SpaceAfter:0)};c1.prototype.y4=function(x,J){if(x){var o=iv.fL(x);J.RT(Math.round(o.o)<<16|Math.round(o.I)<<8|Math.round(o.J))}else J.RT(0)};
c1.prototype.LJ=function(){var x=new ko(L.E.N,!0);x.data={d:L.H.bS,KJ:h4.A7,Mf:this.Mf};this.c(x);var x=new ko(L.E.f,!0);
x.v=n.eY;x.data={d:"updateStyles"};this.c(x)};c1.prototype.aAv=function(x){var J=this.Mf.kJ,o=x.target,c=!o.U9();
if(o==this.gd)J.FauxBold=c;if(o==this.e8)J.FauxItalic=c;if(o==this.o_)J.FontCaps=c?2:0;if(o==this.pr)J.FontCaps=c?1:0;
if(o==this.ka)J.FontBaseline=c?1:0;if(o==this.L$)J.FontBaseline=c?2:0;if(o==this.et)J.Underline=c;if(o==this.wk)J.Strikethrough=c;
this.LJ()};c1.prototype.lw=function(x){var J=this.Mf.kJ,o=this.Mf.zR,c=x.target;if(c==this.ve){var E=this.ve.h();
J.Tracking=E}if(c==this.fn){J.AutoLeading=!1;J.Leading=this.fn.h()}if(c==this.fF){J.AutoLeading=this.fF.h()}if(c==this.n8)J._LineWidth=c.h();
if(c==this.p0)J.FontSize=c.h();if(c==this.Lp)J.VerticalScale=c.h()/100;if(c==this.Og)J.HorizontalScale=c.h()/100;
if(c==this.rm)J.BaselineShift=c.h();if(c==this.Uu)J.FillFlag=c.h();if(c==this.aw)J.StrokeFlag=c.h();
if(c==this._s)J._FillBackgroundFlag=c.h();if(this.hL.indexOf(c)!=-1){o.Justification=iv.$Z(o,this.hL.indexOf(c))}if(c==this.y3)o.StartIndent=c.h();
if(c==this.Fg)o.EndIndent=c.h();if(c==this.rT)o.FirstLineIndent=c.h();if(c==this.Ze)o.SpaceBefore=c.h();
if(c==this.us)o.SpaceAfter=c.h();if(c==this.W7)o._Direction=c.h();if(c==this.If)o.AutoLeading=c.h()/100;
this.LJ()};c1.prototype.atP=function(x){var J=this.Mf,o=this.SU.h(),c=-1;for(var $=0;$<J.SY.length;$++)if(J.SY[$].Name==o)c=$;
if(c==-1){c=J.SY.length;var E=JSON.parse(JSON.stringify(J.SY[0]));E.Name=o;J.SY.splice(c,0,E)}J.kJ.Font=c;
this.LJ()};c1.prototype.bI=function(x){var J=x.target,o=J.H8(),c={Type:1,Values:[1,(o>>16&255)/255,(o>>8&255)/255,(o>>0&255)/255]};
for(var $=0;$<4;$++)c.Values[$]=Math.round(c.Values[$]*1e3)/1e3;var E=J==this.RQ||J==this.ze?0:J==this.Rm?1:2;
this.Mf.kJ[["FillColor","StrokeColor","_FillBackgroundColor"][E]]=c;this.LJ()};function eN(){gB.call(this);
this.n=p.i("span","fontinput");this.bZ=null;this.Lm=null;this.oc=null;this.pg="";this.FZ={};this.Yc=[];
this.qW={};this.aud={};this.El=[];this.S7=!1;this.e9=p.i("button","fitem");this.e9.setAttribute("style","width:9em;");
this.e9.textContent="Family Name \u25BC";this.n.appendChild(this.e9);p.Ra(this.e9,this.a1J.bind(this));
this.JD=new gB;this.JD.parent=this;var x=this.JD.n=p.i("div","floatcont");x.style.padding="7px 7px 3px 7px";
var J=new dr("Recent");x.appendChild(J.n);var o=this.a3t=new eH([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
o.k("click",this.aq7,this);o.n.style.float="right";x.appendChild(o.n);var c=this.U2=new j8("Local Fonts");
c.k(L.E.A,this.adl,this);c.n.style.float="right";c.n.style.marginRight="10px";c.n.style.marginTop="3px";
x.appendChild(c.n);p.UF(x);this.eK=p.i("span","fitem imageset scrollable");this.eK.style.maxHeight="8em";
x.appendChild(this.eK);var E=p.i("div","form");this.JD.n.appendChild(E);this.me=new eH(p.e3("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.me.k("click",this.awn,this);E.appendChild(this.me.n);this.SK=new cA([12,86],null,7.5);this.SK.k("input",this.pi,this);
E.appendChild(this.SK.n);this.kr=new hA(10,"\u2630");E.appendChild(this.kr.n);this.kr.parent=this.JD;
this.kr.k(L.E.A,this.tz,this);this.kr.n.style.float="right";this.kr.n.style.marginRight="0";this.jx=p.i("span","fitem imageset scrollable");
this.jx.style.height="30em";this.JD.n.appendChild(this.jx);this.jx.addEventListener("scroll",this.ack.bind(this),!1);
this.Lt=p.i("button","fitem");this.Lt.setAttribute("style","width:7em;");this.Lt.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.Lt);p.Ra(this.Lt,this.a1J.bind(this));this.l2=new gB;this.l2.parent=this;this.l2.n=p.i("div","floatcont");
this.z7=p.i("span","fitem imageset scrollable");this.l2.n.appendChild(this.z7);this.aBm=this.aro.bind(this);
this.a2q=this.a16.bind(this)}eN.prototype=new gB;eN.prototype.adl=function(x){cg.eQ.po(x.target.h(),function(){this.w();
this.tz()}.bind(this),function(){this.U2.w(!1)}.bind(this));this.tz()};eN.prototype.ack=function(x){var J=this.jx.scrollTop,o=this.Yc,c=Math.floor(J/27),E=Math.min(c+20,o.length);
for(var $=c;$<E;$++)this.a5J(o[$])};eN.prototype.aq7=function(){var x=new ko(L.E.N,!0);x.data={d:L.H.o2,al6:".otf,.ttf,.ttc"};
this.c(x)};eN.prototype._=function(){this.kr._();this.a3t._();this.U2.w(cg.eQ.U9());this.me.bo(p.e3("tools/cshape",null,"autoscale"))};
eN.prototype.awn=function(x){this.me.w(!this.me.U9());this.tz()};eN.prototype.pi=function(x){this.pg=this.SK.h().toLowerCase();
this.tz()};eN.prototype.a1J=function(x){p.NV(x);var J=x.currentTarget,o=J.getBoundingClientRect(),c=J==this.e9,E=c?this.JD:this.l2;
if(p.j5(E.n)){this.atT(E);return}if(!c&&this.bZ.o4()[this.oc]==null)return;var b=new ko(L.E.N,!0);b.data={d:L.H.c4,BM:E,x:o.left,y:o.top+o.height};
this.c(b);if(c){this.tz(null,!0)}};eN.prototype.aro=function(x){var J=x.currentTarget.firstChild.nextSibling.textContent;
if(x.target.tagName.toLowerCase()=="button"){var o=this.Lm.slice(0),c=o.indexOf(J);if(c==-1){o=o.slice(Math.max(0,o.length-29));
o.push(J)}else o.splice(c,1);var E=new ko(L.E.N,!0);E.data={d:L.H.bS,KJ:h4.jG,_Q:o};this.c(E);this.S7=!0;
this.tz()}else{this.a7S(J,null)}};eN.prototype.a16=function(x){this.a7S(null,x.currentTarget.firstChild.textContent)};
eN.prototype.a7S=function(x,J){var o=x==null?this.l2:this.JD,c=this.bZ;if(x==null)x=c.o4()[this.oc][0];
else{var E=c.Od(x),b=c.o4()[this.oc];J=cg.q0(E,b?b[1]:"regular")}var l=c.NI(x,J)[2];this.w(l,c);this.c(new ko(L.E.A,!1));
this.atT(o);this.tz()};eN.prototype.atT=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.ci,BM:x};this.c(J)};
eN.prototype.h=function(){return this.oc};eN.prototype.w=function(x,J,o){var c=this.bZ;if(x!=null)this.oc=x;
else x=this.oc;if(J)this.bZ=J;else J=this.bZ;if(o)this.Lm=o;else o=this.Lm;if(x!=null){var E=J.o4()[x],b,l;
if(E==null){b="- "+x;l="-------"}else{b=E[0];l=E[1];var i=this.El;for(var $=0;$<i.length;$++)if(i[$][0][0]==b)i.splice($,1);
i.push([E,Date.now()]);i.sort(function(I,V){return V[1]-I[1]});i=i.slice(0,10);p.LX(this.eK);for(var $=1;
$<i.length;$++){var F=i[$][0],k=this.bu(F,!0);this.Wq(k,F,!0);this.eK.appendChild(k)}var U=J.Od(b);U.sort(cg.axx);
this.z7.textContent="";for(var $=0;$<U.length;$++){var E=J.NI(b,U[$]);if(!this.kr.ke(E))continue;var k=this.bu(E,!1);
this.z7.appendChild(k)}}this.e9.textContent=b.substring(0,15)+" \u25BC";this.e9.setAttribute("title",b+", \""+x+"\"");
this.Lt.textContent=l.substring(0,10)+" \u25BC";this.Lt.setAttribute("title",l)}};eN.prototype.tz=function(x,J){var o=this.bZ.o4()[this.oc],c=this.Lm,E=this.bZ.Ww();
this.Yc=[];var b=this.U2.h();for(var l in E){var i=c.indexOf(l)!=-1,F=this.bZ.Od(l),k=!1;for(var $=0;
$<F.length;$++){var U=this.bZ.NI(l,F[$]),I=!0;if(this.pg.length>0&&U[0].toLowerCase().indexOf(this.pg)==-1)I=!1;
else if(!this.kr.ke(U))I=!1;else if(this.me.U9()&&!i)I=!1;else if(U[5]=="--loc"&&!b)I=!1;if(I)k=!0}var V=this.FZ[l];
if(V==null){var u=cg.q0(E[l],"regular"),N=this.bZ.NI(l,u),V=this.bu(N,!0);this.FZ[l]=V;this.jx.appendChild(V);
this.qW[l]="[true,false,false]"}if(k)this.Yc.push(l);var e=o!=null&&o[0]==l;this.aud[l]="["+k+","+e+","+i+"]";
if(!J)this.a5J(l)}if(o&&!this.S7){var B=this.FZ[o[0]];this.jx.scrollTop=B.offsetTop-210}this.ack();this.S7=!1};
eN.prototype.a5J=function(x){var J=this.FZ[x];if(J.firstChild==null){var o=this.bZ.Ww(),c=cg.q0(o[x],"regular"),E=this.bZ.NI(x,c);
this.Wq(J,E,!0)}var b=this.qW[x],l=this.aud[x];if(b==l)return;var i=JSON.parse(b),F=JSON.parse(l);if(i[0]!=F[0]||i[1]!=F[1]){var k=F[0]?"":"display:none; ";
if(F[1])k+="background-color:rgba(0,0,0,0.13);";J.setAttribute("style",k)}if(i[2]!=F[2])J.firstChild.setAttribute("style","opacity: "+(F[2]?"1":"0.2"));
this.qW[x]=l};eN.prototype.bu=function(x,J){var o=p.i("div","fontitem");if(!J)this.Wq(o,x,J);return o};
eN.prototype.Wq=function(x,J,o){var c=J[o?0:1],E=o?this.aBm:this.a2q,F="";x.addEventListener("click",E,!1);
if(o)x.appendChild(p.i("button","star"));var b=p.i("span","label");b.setAttribute("title",c);b.textContent=c;
x.appendChild(b);var l=p.IJ(),i=1/l,k=cg.zH*i,U=cg.Gj*i;if(1<l&&l<1.5)F="width:"+k+"px; height:"+U+"px;";
var I=p.i("span","thumb gsicon");if(J.bv){F+="background: url("+J.bv+");";if(1<l&&l<1.5)F+="background-size: "+k+"px "+U+"px;"}else{var V=Math.ceil(FNTS.list.length/cg.cols),u=Math.floor(J.cD/cg.cols),N=J.cD-u*cg.cols,e=N*cg.zH,B=u*cg.Gj;
if(1<l&&l<1.5){F+="background-size: "+cg.cols*k+"px "+V*U+"px;";e*=i;B*=i}F+="background-position:-"+e+"px -"+B+"px;"}I.setAttribute("style",F);
x.appendChild(I)};function hA(x,J){gB.call(this);this.n=p.i("button","fitem bbtn");this.n.addEventListener("click",this.aBJ.bind(this),!1);
this.E9=new gB;this.E9.n=p.i("div","floatcont");this.E9.parent=this;this.dB=p.i("div","flexrow");this.E9.n.appendChild(this.dB);
this.Nh=J;this._L=[];this.D9=[];var o=this.dB,c=p.i("div",""),E=p.i("div","");o.appendChild(c);o.appendChild(E);
this.OM=[];for(var $=0;$<FNTS.cats.length;$++)this.OM.push({name:FNTS.cats[$],index:$,u6:0});this.zl=new j8([7,0]);
this.zl.w(!0);this.zl.k(L.E.A,this.aqJ,this);c.appendChild(this.zl.n);this.st=p.i("div","vlist marged scrollable");
this.st.setAttribute("style","width:10.3em; height:"+x+"em; ");c.appendChild(this.st);this.i1=[];for(var $=0;
$<this.OM.length;$++){var b=this.OM[$],l=new j8(b.name);this.i1.push(l);l.k(L.E.A,this.aib,this);l.w(!0);
this.st.appendChild(l.n);this._L.push(1)}this.awi=new j8([7,0]);this.awi.k(L.E.A,this.a9G,this);this.Rh=p.i("div","vlist marged scrollable");
this.Rh.setAttribute("style","width:8.6em; height:"+(x+1.5)+"em; ");E.appendChild(this.Rh);this.xx=[];
for(var $=0;$<FNTS.subsetNames.length;$++){var l=new j8(FNTS.subsetNames[$]);this.xx.push(l);l.k(L.E.A,this.a4y,this);
l.w(!1);this.Rh.appendChild(l.n);this.D9.push(l.h()?1:0)}}hA.prototype=new gB;hA.prototype.acu=function(x){var J=this.xx;
for(var $=0;$<J.length;$++){var o=(x>>>$&1)==1;this.D9[$]=o;J[$].w(o)}};hA.prototype.a4f=function(){return this.dB};
hA.prototype._=function(){this.n.textContent=this.Nh?this.Nh:h9.get([25,1,0])+" \u25BC";this.zl._();
this.awi._()};hA.prototype.aBJ=function(x){var J=this.n.getBoundingClientRect(),o=new ko(L.E.N,!0);o.data={d:L.H.c4,BM:this.E9,x:J.left,y:J.top+J.height,uP:!1};
this.c(o)};hA.prototype.ke=function(x){if(this._L[x[4]]==0)return!1;else for(var J=0;J<this.D9.length;
J++)if(this.D9[J]==1&&(x[3]>>>J&1)==0)return!1;return!0};hA.prototype.aqJ=function(x){var J=x.target.h(),o=this.i1,c=this._L;
for(var $=0;$<o.length;$++){o[$].w(J);c[$]=J?1:0}this.c(new ko(L.E.A,!1))};hA.prototype.a9G=function(x){var J=x.target.h(),o=this.xx,c=this.D9;
for(var $=0;$<o.length;$++){o[$].w(J);c[$]=J?1:0}this.c(new ko(L.E.A,!1))};hA.prototype.aib=function(x){var $=this.i1.indexOf(x.target),J=this.OM[$].index;
this._L[J]=1-this._L[J];this.c(new ko(L.E.A,!1));this.a4t(this.i1,this.zl)};hA.prototype.a4y=function(x){var $=this.xx.indexOf(x.target);
this.D9[$]=1-this.D9[$];this.c(new ko(L.E.A,!1))};hA.prototype.a4t=function(x,J){var o=!0;for(var $=0;
$<x.length;$++)o=o&&x[$].h();J.w(o)};function dQ(x,J,o){k7.call(this,J,!0,"gradientbutton",18*13,10*13,h4.f1);
this.Q6=-1;this.xR=-1;this.alL=null;this.ajE=x;this.DZ=o}dQ.prototype=new k7;dQ.prototype.wQ=function(x){var J=this.Nc;
this.w(J[this.wU.h()]);this.c(new ko(L.E.A))};dQ.prototype.Xh=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.yI,AN:"gradienteditor",r:this.S9,Uh:this.avL.bind(this),hy:this.DZ};
this.c(J)};dQ.prototype.avL=function(x){this.w(x);this.c(new ko(L.E.A))};dQ.prototype.gw=function(){if(!this.TY)return;
var x=Math.floor(36*p.IJ()),J=Math.floor(36*p.IJ()),o=[],c=[],E=this.Nc,b=Date.now();for(var $=0;$<E.length;
$++){var l=E[$];c.push(l.Nm?l.Nm.v:"");var i=n.yT.dh(l,x,J,Math.PI/4,this.Q6,this.xR);o.push(i)}this.wU.Qk(o,c,x,J);
this.TY=!1};dQ.prototype.Zf=function(x,J){this.a5s(this.S9,x,J)};dQ.prototype.w=function(x){this.a5s(x,this.Q6,this.xR)};
dQ.prototype.a5s=function(x,J,o){this.Q6=J;this.xR=o;if(x==null)return;var c=JSON.stringify(x),E=c+J+","+o;
if(E==this.alL)return;this.alL=E;this.S9=JSON.parse(c);var b=Math.floor(80*p.IJ()),l=Math.floor(16*p.IJ()),i=n.yT.dh(this.S9,b,l,0,this.Q6,this.xR);
this.qT.setAttribute("src",i);p.ev(this.qT,b,l)};dQ.prototype.h=function(){var x;if(this.ajE)x=n.yT.aB$(this.S9,this.Q6,this.xR);
else x=JSON.parse(JSON.stringify(this.S9));return x};function iU(x){k7.call(this,x,!1,"swatchbutton",16*13,8.75*13,h4.Xt)}iU.prototype=new k7;
iU.prototype.wQ=function(x){this.w(this.Nc[x.target.h()]);this.c(new ko(L.E.A))};iU.prototype.gw=function(){if(!this.TY)return;
var x=Date.now(),J=Math.floor(10*p.IJ()),o=Math.floor(10*p.IJ()),c=[],E=[],b=this.Nc;for(var $=0;$<b.length;
$++){E.push(b[$].aR?b[$].aR.split("=").pop():"");c.push(iU.dh(b[$],J,o))}this.wU.Qk(c,E,J,o);this.TY=!1};
iU.prototype.w=function(x){this.S9=JSON.parse(JSON.stringify(x));this.Ah()};iU.prototype.Ah=function(){var x=Math.floor(24*p.IJ()),J=Math.floor(20*p.IJ()),o=iU.dh(this.S9,x,J);
this.qT.setAttribute("src",o);p.ev(this.qT,x,J)};iU.prototype.h=function(){return JSON.parse(JSON.stringify(this.S9))};
iU.fN={};iU.dh=function(x,J,o){var c=255<<24|q.RZ(x),E=":"+c,b=iU.fN;if(b[E])return b[E];var l=new Uint32Array(J*o);
l.fill(c);var i=UPNG.encode([l.buffer],J,o),F=b[E]="data:image/png;base64,"+hR.EA(i);return F};function b9(x,J,o){gB.call(this);
this.n=p.i(o?"div":"span");var c=this.sG=p.i("input");this.sG.setAttribute("type","file");if(J)c.setAttribute("multiple","");
this.sG.addEventListener("change",this.azx.bind(this),!1);this.ak5=this.a7F.bind(this);this.kd={};this.He=0;
this.PH=x;var E=this.aAW=new eH(h9.get(x)+" (0)",null,null,!0);this.n.appendChild(E.n);E.addEventListener("click",function(b){c.click()});
if(o){this.Fu=p.i("div","scrollable");this.Fu.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.n.appendChild(this.Fu);this.A1()}}b9.prototype=new gB;b9.prototype.w=function(x){this.kd=x;this.A1()};
b9.prototype.h=function(x){return this.kd};b9.prototype.azx=function(x){var J=x.target.files;this.He=J.length;
this.kd={};for(var $=0;$<J.length;$++){var o=J[$],c=new FileReader;c.onload=this.ak5;c.pM=o.name;c.readAsArrayBuffer(o)}};
b9.prototype.a7F=function(x){var J=this.kd[x.target.pM]=new Uint8Array(x.target.result);this.He--;if(this.He==0){this.A1();
this.c(new ko(L.E.A));this.sG.value=null}};b9.prototype.A1=function(){var x=this.kd;this.aAW.bo(h9.get(this.PH)+" ("+Object.keys(x).length+")");
var J=this.Fu;if(J==null)return;p.LX(J);var o=[];for(var c in x)o.push(c);o.sort();for(var $=0;$<o.length;
$++){var E=p.i("div");E.textContent=o[$];J.appendChild(E)}};function b2(x,J,o,c,E){if(x==null)x=!1;if(J==null)J=!1;
if(o==null)o=!1;gB.call(this);this.Xj=new ck;this.b1=new ck;this.wV=72;this.Lg=72;this.Fl=!0;this.oy=!1;
this.n=p.i("span");this._e=new f1([12,41],0,0,null,0,!1,!0,4);this.n.appendChild(this._e.n);this._e.k(L.E.A,this.GP,this);
var b=["px","%"];if(x)b=b.concat(["cm","mm","in"]);if(E){b=[[12,76,2],[12,76,6]];if(x)b=b.concat([[12,76,4],[12,76,5],[12,76,3]])}this.uw=new i3(null,b);
this.n.appendChild(this.uw.n);p.UF(this.n);this.uw.k(L.E.A,this.GP,this);this.Du=new f1([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.Du.n);this.Du.k(L.E.A,this.GP,this);var l=new eH("\u21F5",!1,null,!0);l.k("click",this.B4,this);
this.ZO=new eH("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.ZO.k("click",this.GP,this);
this.Qu=new dr("");this.Qu.n.style.margin="0";this.Qu.n.style.padding="0";if(J){this.n.appendChild(this.ZO.n);
this.n.appendChild(this.Qu.n);this.ZO.V2()}else this.n.appendChild(l.n);this.Oe=new f1("DPI",0,0,null,3,!1,!0,4);
this.Zx=new i3(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(x&&!c){p.UF(this.n);this.n.appendChild(this.Oe.n);
this.n.appendChild(this.Zx.n)}this.Zx.k(L.E.A,this.GP,this);this.Oe.k(L.E.A,this.GP,this);this.yJ=new j8([12,23,1]);
this.yJ.k(L.E.A,this.GP,this);if(o){p.UF(this.n);this.n.appendChild(this.yJ.n)}p.UF(this.n)}b2.prototype=new gB;
b2.prototype.ip=function(x,J){this._e.yg.style.width=this.Du.yg.style.width=(x-78-this.ZO.Mm())/2+"px"};
b2.prototype.Em=function(){this._e.Em();this.Du.Em();this.uw.Em();var x=this.n;p.LX(x);this.uw.n.style.marginRight="0";
x.appendChild(this._e.n);x.appendChild(this.ZO.n);x.appendChild(this.Du.n);x.appendChild(this.uw.n)};
b2.prototype.U1=function(){this._e.U1()};b2.prototype.azw=function(x,J){this.Fl=x;if(J!=null)this.oy=J;
if(!this.Fl&&!this.oy&&this.uw.h()==0){this.uw.w(4);this.cf()}};b2.prototype.a3J=function(x){this.ZO.w(x)};
b2.prototype._=function(){this._e._();this.Du._();this.Oe._();this.Zx._();this.ZO._();this.yJ._();this.uw._()};
b2.prototype.B4=function(x){var J=this.b1.x;this.b1.x=this.b1.y;this.b1.y=J;this.cf();this.c(new ko(L.E.A,!1))};
b2.prototype.GP=function(x){if(x.target==this.uw&&!this.Fl&&!this.oy&&this.uw.h()==0)this.uw.w(4);if(x.target==this.uw||x.target==this.yJ){this.cf();
return}if(x.target==this.ZO)x.target.w(!x.target.h());var J=this.Xj,o=parseFloat(this._e.h());if(isNaN(o))o=1;
var c=parseFloat(this.Du.h());if(isNaN(c))c=1;var E=this.Oe.h()*[1,2.54][this.Zx.h()],b=this.uw.h();
if(this.Fl){var l=this.Lg;if(b==1){o=this.Xj.x*(o/100);c=this.Xj.y*(c/100)}var i=[1,1,2.54/l,25.4/l,1/l][b];
o/=i;c/=i;if(this.yJ.h()){o+=this.Xj.x;c+=this.Xj.y}if(x.target==this.Oe){var F=E;if(!this.oy){var k=F/l;
o*=k;c*=k}l=F}if(this.ZO.h()){if(x.target==this._e)c=o*(J.y/J.x);else o=c*(J.x/J.y)}o=Math.max(Math.abs(o),1);
c=Math.max(Math.abs(c),1)}else{var l=this.wV;if(x.target==this.Oe)l=E;else{if(this.ZO.h()){if(x.target==this._e)c=o*(J.y/J.x);
else o=c*(J.x/J.y)}var i=[1,1,2.54/l,25.4/l,1/l][b],U=o/(b==1?100:J.x*i);l=l/U}o=J.x;c=J.y}this.b1=new ck(Math.round(o),Math.round(c));
this.Lg=l;this.cf();this.c(new ko(L.E.A,!1))};b2.prototype.axB=function($){this.uw.w($);this.cf()};b2.prototype.w=function(x,J,o){if(o!=!0)this.Xj=x.clone();
this.b1=x.clone();if(J!=null){this.wV=J;this.Lg=J}this.cf()};b2.prototype.cf=function(){var x=this.b1.x,J=this.b1.y,o=this.Lg,c=(x/J).toFixed(3);
while(c.charAt(c.length-1)=="0")c=c.substring(0,c.length-1);if(c.charAt(c.length-1)==".")c=c.substring(0,c.length-1);
var E="  "+c+" : 1",b=function(U,I){while(I!=0){var V=I;I=U%I;U=V}return U},l=b(x,J);if(Math.min(x,J)/l<10)E="  "+Math.round(x/l)+" : "+Math.round(J/l);
this.Qu.w(E);if(this.yJ.h()){x-=this.Xj.x;J-=this.Xj.y}var i=this.uw.h();if(i==1){if(this.Fl){x=100*x/this.Xj.x;
J=100*J/this.Xj.y}else{x=J=100*this.wV/this.Lg}}else{x=Math.round(x);J=Math.round(J)}var F=[1,1,2.54/o,25.4/o,1/o][i];
x*=F;J*=F;var k=i==1||i==2||i==4?2:0;this._e.NY(k);this.Du.NY(k);this._e.w(x);this.Du.w(J);this.Oe.w(o*[1,1/2.54][this.Zx.h()])};
b2.prototype.h=function(){return this.b1.clone()};b2.prototype.X8=function(){return this.Lg};function k4(x,J,o){gB.call(this);
var c=x==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.mn=x;this.avk=J;this._h=1;this.lk=[1,1,0];
var E=this.n=p.i("div","numlist"),b=this.fi=[];for(var $=0;$<4;$++){var l=new f1(c[$],0,0,null,2,!1,!0,4,null,o&&($==0||$==2));
l.k(L.E.A,this.GP,this);E.appendChild(l.n);b[$]=l;if($==1||$==3)p.UF(E)}b[4]=new j8(x==0?[12,51]:[12,91,2]);
b[4].w(!0);E.appendChild(b[4].n)}k4.prototype=new gB;k4.prototype._=function(){var x=this.fi;for(var $=0;
$<5;$++)x[$]._();if(this.mn==0)p.iO(x[0],x[2])};k4.prototype.w=function(x,J,o){if(J)this.lk=J;J=this.lk;
var c=o?x:this.mn==0?[x[2],x[0],x[3],x[1]]:[x[0],x[1],x[3],x[2]];this._h=c[0]/c[2];for(var $=0;$<4;$++){var E=this.fi[$];
E.NY(J[2]==0&&this.avk?0:2);E.w(q.xP.asC(c[$],J[0],J[1],J[2]))}};k4.prototype.h=function(x){var J=[],o=this.lk;
for(var $=0;$<4;$++){var c=q.xP.Uf(this.fi[$].h(),o[0],o[1],o[2]);J[$]=this.avk?Math.round(c):c}return x?J:this.mn==0?[J[1],J[3],J[0],J[2]]:[J[0],J[1],J[3],J[2]]};
k4.prototype.GP=function(x){var J=this.mn,o=this.fi.indexOf(x.currentTarget),c=this.h(!0),E=this.fi[4].h();
if(J==0){c[0]=Math.max(1,c[0]);c[2]=Math.max(1,c[2]);if(E&&o==0)c[2]=c[0]/this._h;if(E&&o==2)c[0]=c[2]*this._h}if(J==1){c[o]=Math.max(0,c[o]);
if(E)for(var $=0;$<4;$++)c[$]=c[o]}this.w(c,null,!0);this.c(new ko(L.E.A,!1))};function d5(){gB.call(this);
this.IY=0;this.fW=[0,0,1,1,100,100];this.af=[10,5,1,1,4,3,3,2,16,9];this.n=p.i("span","fitem");this.l5=new i3(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.n.appendChild(this.l5.n);this.l5.k(L.E.A,this.GP,this);this._e=new f1("W",0,0,null,0,!1,!0);this.n.appendChild(this._e.n);
this._e.k(L.E.A,this.GP,this);var x=this.Ri=new eH("\u21C4",!1,null,!0);x.k("click",this.B4,this);this.n.appendChild(x.n);
this.Du=new f1("H",0,0,null,0,!1,!0);this.n.appendChild(this.Du.n);this.Du.k(L.E.A,this.GP,this);this.w({vB:0,x:0,y:0})}d5.prototype=new gB;
d5.prototype.a5I=function(x,J){this.af[0]=x;this.af[1]=J};d5.prototype._=function(){p.iO(this._e,this.Du);
this.l5._()};d5.prototype.B4=function(x){var J=this.Du.h();this.Du.w(this._e.h());this._e.w(J);this.GP(x)};
d5.prototype.GP=function(x){if(x.target==this.l5){var $=this.l5.h(),J=this.fW;if($>2){$-=3;var o=this.af[2*$],c=this.af[2*$+1];
J[2]=o;J[3]=c;this._e.w(o);this.Du.w(c);this.l5.w(1)}var E=this.h();J[this.IY*2]=E.x;J[this.IY*2+1]=E.y;
this.IY=E.vB;this.w({vB:E.vB,x:J[E.vB*2],y:J[E.vB*2+1]})}if(this._e.h()<1)this._e.w(1);if(this.Du.h()<1)this.Du.w(1);
this.c(new ko(L.E.A,!1))};d5.prototype.w=function(x){this.l5.w(x.vB);this._e.w(x.x);this.Du.w(x.y);if(x.vB==0){this._e.gt();
this.Du.gt();this.Ri.gt()}else{this._e.G0();this.Du.G0();this.Ri.G0()}};d5.prototype.h=function(){return{vB:this.l5.h(),x:this._e.h(),y:this.Du.h()}};
function gk(x){gB.call(this);this.n=p.i("span","");this.aay=x;this.YX=new jQ("Off X",-100,100,x?"%":"px",0,!1);
this.Al=new jQ("Off Y",-100,100,x?"%":"px",0,!1);this.YX.k(L.E.A,this.GP,this);this.Al.k(L.E.A,this.GP,this);
this.n.appendChild(this.YX.n);this.n.appendChild(this.Al.n)}gk.prototype=new gB;gk.prototype._=function(){this.YX._();
this.Al._()};gk.prototype.GP=function(x){this.c(new ko(L.E.A,!1))};gk.prototype.ao3=function(x){this.YX.w(x.x);
this.Al.w(x.y)};gk.prototype.ayD=function(){return new ck(this.YX.h(),this.Al.h())};gk.prototype.w=function(x,J){var o=x.Hrzn.v,c=x.Vrtc.v;
if(this.aay){o=o.val;c=c.val}this.YX.w(o);this.Al.w(c);if(J==!0)this.GP()};gk.prototype.h=function(){var x=this.YX.h(),J=this.Al.h();
if(this.aay)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:x}},Vrtc:{t:"UntF",v:{type:"#Prc",val:J}}};
else return{classID:"Pnt",Hrzn:{v:x,t:"doub"},Vrtc:{v:J,t:"doub"}}};function jX(){gB.call(this);this.n=p.i("span","fitem strokebutton");
this.gq=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.XZ=bs.Ao.Bt();this.JQ=p.i("button");
this.n.appendChild(this.JQ);p.Ra(this.n,this.Q$.bind(this));var x=p.i("canvas","gsicon");this.n9=x.getContext("2d");
this.JQ.appendChild(x);var J=p.i("span");J.textContent=" \u25BC";this.JQ.appendChild(J);this.E9=new gB;
this.E9.parent=this;this.E9.n=p.i("div","floatcont form");var o=this.E9.n;o.setAttribute("style","width: 16.7em;");
this.FZ=[new i3([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new fW([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new fW([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new f1("Limit",0,50,null,null,null,!0,2.5),new cA([19,9,2])];
for(var $=0;$<this.FZ.length;$++){var c=this.FZ[$];o.appendChild(c.n);c.k(L.E.A,this.GP,this)}p.UF(o);
this.Hj=[];var E=this.MD.bind(this);this.XZ.strokeStyleLineWidth.v.val=3;for(var $=0;$<this.gq.length;
$++){var b=p.i("button","fitem");this.Hj.push(b);o.appendChild(b);b.addEventListener("click",E,!1);var x=p.i("canvas","gsicon"),l=x.getContext("2d");
b.appendChild(x);this.aov(l,40,20,this.gq[$])}this.XZ.strokeStyleLineWidth.v.val=1}jX.prototype=new gB;
jX.prototype.Q$=function(x){if(p.j5(this.E9.n))return;x.stopPropagation();var J=this.JQ.getBoundingClientRect(),o=new ko(L.E.N,!0);
o.data={d:L.H.c4,BM:this.E9,x:J.left,y:J.top+J.height+4};this.c(o)};jX.prototype.GP=function(x){var J=this.FZ,o=[];
for(var $=0;$<5;$++)o.push(J[$].h());this.XZ=this.a6M(o);this.c(new ko(L.E.A,!1))};jX.prototype.MD=function(x){var J=this.Hj.indexOf(x.currentTarget);
this.w(this.a6M(this.gq[J]));this.c(new ko(L.E.A,!1))};jX.prototype.a6M=function(x){var J=JSON.parse(JSON.stringify(this.XZ)),o=x[0],c=x[1],E=x[2],b=x[3],l=x[4];
if(o!=null)J.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bs.Ao.lS[o];if(c!=null)J.strokeStyleLineCapType.v.strokeStyleLineCapType=bs.Ao.Kd[c];
if(E!=null)J.strokeStyleLineJoinType.v.strokeStyleLineJoinType=bs.Ao.join[E];J.strokeStyleMiterLimit.v=b;
var i=J.strokeStyleLineDashSet.v=[];l=l.split(" ");while((l.length&1)!=0)l.pop();for(var $=0;$<l.length;
$++)i.push({t:"UntF",v:{type:"#Nne",val:parseInt(l[$])}});return J};jX.prototype._=function(){for(var $=0;
$<this.FZ.length;$++)this.FZ[$]._()};jX.prototype.w=function(x){this.XZ=JSON.parse(JSON.stringify(x));
var J=bs.Ao.lS.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment),o=bs.Ao.Kd.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType),c=bs.Ao.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType),E=x.strokeStyleMiterLimit.v,b=[],l=x.strokeStyleLineDashSet.v;
for(var i=0;i<l.length;i++)b.push(l[i].v.val);var F=this.FZ;F[0].w(J);F[1].w(o);F[2].w(c);F[3].w(E);
F[3].po(c==0);F[4].w(b.join(" "));var k=[];for(var $=0;$<5;$++)k.push(F[$].h());this.aov(this.n9,40,16,k)};
jX.prototype.h=function(){return JSON.parse(JSON.stringify(this.XZ))};jX.prototype.aov=function(x,J,o,c){var E=c[0],b=c[1],l=c[2],i=c[3],F=c[4].split(" ").map(parseFloat);
p.Pi(x.canvas,J,o);var k=Math.min(5,this.XZ.strokeStyleLineWidth.v.val);for(var $=0;$<F.length;$++)F[$]*=k;
x.clearRect(0,0,J,o);x.setLineDash(F);x.lineCap=["butt","round","square"][b];x.lineJoin=["miter","round","bevel"][l];
x.lineWidth=k;x.beginPath();x.moveTo(0,o/2);x.lineTo(J*2,o/2);x.stroke()};function g$(x){k7.call(this,x,!1,"contourbutton",34*13,16*13,h4.mL,!0);
this.SK=new cA([12,86],null,16);this.SK.k("input",this.pi,this);this.E9.n.appendChild(this.SK.n);this.yY=null;
this.pg="";this.jq=null;this.w(fV.Bt())}g$.prototype=new k7;g$.prototype._=function(){k7.prototype._.call(this);
this.SK._()};g$.prototype.wQ=function(x){this.w(this.yY[x.target.h()[0]]);this.c(new ko(L.E.A))};g$.prototype.pi=function(x){this.pg=this.SK.h().toLowerCase();
this.ali()};g$.an_=!1;g$.prototype.gw=function(){if(!this.TY)return;var x=this.Nc;if(x==null||!g$.an_){var J=new ko(L.E.N,!0);
J.data={d:L.H.lL,KJ:{url:"rsrc/basic/Default.csh"}};this.c(J);g$.an_=!0}else{var o=Math.floor(38*p.IJ()),c=Math.floor(38*p.IJ());
this.jq=[];for(var $=0;$<x.length;$++)this.jq.push(g$.aB3(x[$],o,c));this.ali();this.TY=!1}};g$.prototype.ali=function(){var x=Math.floor(38*p.IJ()),J=Math.floor(38*p.IJ());
this.yY=[];var o=[],c=[],E=this.Nc;for(var $=0;$<E.length;$++){if(E[$].W4.toLowerCase().indexOf(this.pg)==-1)continue;
this.yY.push(E[$]);o.push(this.jq[$]);c.push(E[$].W4)}this.wU.Qk(o,c,x,J)};g$.prototype.w=function(x){this.S9=g$.clone(x);
this.Ah()};g$.prototype.Ah=function(){var x=Math.floor(23*p.IJ()),J=Math.floor(23*p.IJ()),o=g$.aB3(this.S9,x,J);
this.qT.setAttribute("src",o);p.ev(this.qT,x,J)};g$.prototype.h=function(){return g$.clone(this.S9)};
g$.clone=function(x){return{W4:x.W4,OA:x.OA,$:h._b.AL(x.$),YP:x.YP.clone()}};g$.$H=null;g$.eu=null;g$.aB3=function(x,J,o){var c=h._b.AL(x.$),E=x.YP,b=Math.min(J/E.m,o/E.e)*.9,l=new cW;
l.translate(-.5,-.5);l.scale(.95,.95);l.translate(.5,.5);l.scale(b*E.m,b*E.e);q.p.Sp(c,l);var i=new h._b;
i.$=c;var F=i.Da();F.rect.x=Math.floor((J-F.rect.m)/2);F.rect.y=Math.floor((o-F.rect.e)/2);var k=q.R(F.rect.P()*4);
q.qR(F.channel,k,3);var U=g$;if(U.$H==null)U.$H=p.i("canvas");var I=U.$H,V=I.getContext("2d");if(I.width!=J||I.height!=o||U.eu==null){I.width=J;
I.height=o;U.eu=V.createImageData(J,o)}var u=U.eu;u.data.fill(0);q.St(k,F.rect,u.data,new ha(0,0,J,o));
V.putImageData(u,0,0);return I.toDataURL()};function gd(x){k7.call(this,x,!1,"ICCButton",16*13,12*13,h4.lF,!0);
this.wU.TR(1)}gd.prototype=new k7;gd.prototype.fe=function(){var x="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var $=0;$<x.length;$++)x[$]="luts/"+x[$]+".CUBE";return x};gd.prototype.wQ=function(x){this.w(this.Nc[x.target.h()]);
this.c(new ko(L.E.A))};gd.prototype.gw=function(){if(!this.TY)return;var x=Math.floor(1*p.IJ()),J=Math.floor(1*p.IJ()),o=[],c=[],E=this.Nc;
for(var $=0;$<E.length;$++){var b=E[$].Nm.v.split("\\").pop().split("/").pop();c.push(b);o.push(gd.dh(E[$],x,J))}this.wU.Qk(o,c,x,J);
this.TY=!1};gd.prototype.w=function(x){this.S9=JSON.parse(JSON.stringify(x));this.Ah()};gd.dh=function(x,J,o){var c=p.i("canvas"),l="ICC / 3DL / look / cube";
c.width=J;c.height=o;var E=c.getContext("2d"),b=Math.floor(14*p.IJ());E.font=b+"px sans-serif";if(x.Nm)l=x.Nm.v.split("\\").pop().split("/").pop();
E.fillText(l,10,b);return c.toDataURL()};gd.prototype.Ah=function(){var x=Math.floor(120*p.IJ()),J=Math.floor(20*p.IJ());
this.qT.setAttribute("src",gd.dh(this.S9,x,J));p.ev(this.qT,x,J)};gd.prototype.h=function(){return JSON.parse(JSON.stringify(this.S9))};
function cF(){gB.call(this);this.M$=null;this.n=p.i("span","fitem");this.pK=new eF([14,9]);this.Yu=new f1(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.hr=new jX;this.DX=[this.pK,this.Yu,this.hr];for(var $=0;$<this.DX.length;$++){var x=this.DX[$];
this.n.appendChild(x.n);x.parent=this;x.k(L.E.A,this.GP,this)}}cF.prototype=new gB;cF.prototype._=function(){for(var $=0;
$<this.DX.length;$++)this.DX[$]._()};cF.prototype.DL=function(x,J){this.pK.DL(x,J)};cF.prototype.GP=function(x){var J=this.M$,o=this.pK.h();
bs.u3(J,o);J.strokeStyleLineWidth.v.val=this.Yu.h();if(x.target==this.hr)J=this.hr.h();this.M$=J;this.c(new ko(L.E.A,!1))};
cF.prototype.w=function(x,J,o){this.M$=JSON.parse(JSON.stringify(J));var c=bs.JM(J);this.pK.w(x,c,o);
this.Yu.w(J.strokeStyleLineWidth.v.val);this.hr.w(J)};cF.prototype.h=function(){return JSON.parse(JSON.stringify(this.M$))};
function ef(x){var J=[[18,0],[18,1],[18,2],[18,3]],o=fW.c5(["set/front","set/union","set/difference","set/intersection"]);
fW.call(this,x?[12,36]:null,o,J)}ef.prototype=new fW;function gn(){gB.call(this);this.n=p.i("button","fitem bbtn");
p.Ra(this.n,this.Q$.bind(this));this.E9=new gB;this.E9.n=p.i("div","floatcont form");this.E9.n.setAttribute("style","max-width: 200px;");
this.E9.parent=this;var x=fb;this.OE=[new j8("Start"),new j8("End"),new x([12,41],0,100,"px",null,!0,null,!0),new x([12,80,0],0,100,"px",null,!0,null,!0),new x("Concavity",-50,50,"%",null,null,null,!0)];
for(var $=0;$<this.OE.length;$++){var J=this.OE[$];J.parent=this;J.k(L.E.A,this.ZL,this);this.E9.n.appendChild(J.n)}this.aez=p.i("div");
this.E9.n.appendChild(this.aez)}gn.prototype=new gB;gn.prototype.w=function(x){for(var $=0;$<5;$++)this.OE[$].w(x[$]);
this.A1()};gn.prototype.h=function(x){var J=[];for(var $=0;$<5;$++)J[$]=this.OE[$].h();return J};gn.prototype._=function(){this.n.textContent=h9.get([12,93,4]);
for(var $=0;$<this.OE.length;$++)this.OE[$]._()};gn.prototype.ZL=function(x){this.c(new ko(L.E.A,!1));
this.A1()};gn.prototype.A1=function(x){var J=this.h(),o=200,c=60;J[2]/=p.IJ();J[3]/=p.IJ();var E=q.p.MP.KX(0,c/2,o,c/2,5,J),b=q.p.W2(E);
this.aez.innerHTML="<svg width=\""+o+"\" height=\""+c+"\" class=\"gsicon\">\t\t\t<path d=\""+b.Ho+"\" />\t\t\t</svg>"};
gn.prototype.Q$=function(x){if(p.j5(this.E9.n))return;x.stopPropagation();var J=this.n.getBoundingClientRect(),o=new ko(L.E.N,!0);
o.data={d:L.H.c4,BM:this.E9,x:J.left,y:J.top+J.height,uP:!0};this.c(o)};function gU(){gB.call(this);
this.n=p.i("div");this.fi=[];this.auz=[];var x=this.KW=p.i("div"),J=p.i("h2");J.textContent="Create Teams";
x.appendChild(J);J.style.margin="26px 0 16px 0";var o=new eH("More about Teams",!1,null,!0);J.appendChild(o.n);
o.n.style.float="right";o.k("click",this.axU,this);this.oz=p.i("div");x.appendChild(this.oz);this.aeR=new cA("Team Name",null,10);
x.appendChild(this.aeR.n);var c=this.a05=new eH("Create Team",null,null,!0);x.appendChild(c.n);c.k("click",this.axC,this);
var J=p.i("h2");J.textContent="Join Teams";x.appendChild(J);J.style.margin="26px 0 16px 0";this.P7=p.i("div");
x.appendChild(this.P7);this.avH=new cA("Team ID",null,10);x.appendChild(this.avH.n);var c=new eH("Join Team",null,null,!0);
x.appendChild(c.n);c.k("click",this.axC,this);this.ayY;this.acl=this.L8.bind(this);this.aDp=this.acV.bind(this);
this.$b=!1;this.UR();this.kh=null;this.a9o=""}gU.prototype=new gB;gU.prototype.axU=function(x){var J=new ko(L.E.N,!0);
J.data={d:L.H.pp,link:"https://www.photopea.com/api/accounts#teams"};this.c(J)};gU.prototype.UR=function(){clearTimeout(this.a4u);
this.a4u=setTimeout(this.aDp,this.kh?10:3e3)};gU.prototype.acV=function(){var x=j4.c6();if(document.hidden||!p.j5(this.n)||x==null){this.UR();
return}var J=j4.f7();if(this.kh==null&&J==null)return;j4.T9(this.kh?this.kh:J,this.acl);this.$b=!0;this.kh=null};
gU.prototype.aAJ=function(x){x.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.$b)this.kh=x;else{clearTimeout(this.a4u);j4.T9(x,this.acl)}};gU.prototype.bp=function(x){var J=typeof x=="string"?this.ayY:this.fi.indexOf(x.target),o=this.auz[J],c=o[0],E=j4.f7();
if(E==null)E={};var b=E.acc,l=b.tjoin,i=b.tstart;if(c=="leave"){l.splice(l.indexOf(o[1]),1)}if(c=="add"||c=="remove"||c=="delTeam"||c=="showRename"||c=="rename"){var F=-1,k=0;
for(var $=0;$<i.length;$++){k+=i[$][1].length;if(i[$][2]==o[1])F=$}var U=i[F];if(c=="add"){var V=j4.I4();
if(V&&V[0]==0&&V[1][2]<=k){alert("You can have at most "+V[1][2]+" members in your Premium.");return}U[1].push(o[2])}if(c=="remove")U[1].splice(U[1].indexOf(o[2]),1);
if(c=="delTeam"){if(U[1].length!=0){alert("Remove members first.");return}i.splice(F,1)}if(c=="showRename"){var u=new ko(L.E.N,!0);
u.data={d:L.H.yI,AN:"namewindow",xg:U[0],sA:this.bp.bind(this)};this.c(u);this.ayY=J;o[0]="rename";return}if(c=="rename")U[0]=x}this.aAJ(E)};
gU.prototype.axC=function(x){var J=this.a05==x.target,o=(J?this.aeR:this.avH).h().trim();if(o==""){alert("The Team "+(J?"Name":"ID")+" is empty.");
return}if(!J){o=parseInt(o);if(isNaN(o)){alert("The ID must be a number");return}}var c=j4.f7();if(c==null)c={};
var E=c.acc;if(E==null)E=c.acc={};var b=E.tstart,l=E.tjoin;if(J){if(b==null)b=E.tstart=[];if(b.length>5){alert("You can have at most 5 teams");
return}b.push([o,[]])}else{if(b)for(var $=0;$<b.length;$++)if(b[$][2]==o){alert("You are the owner of this team");
return}if(l==null)l=E.tjoin=[];if(l.indexOf(o)!=-1){alert("You already asked to join this team.");return}E.tjoin.push(o)}E.update=!0;
this.aAJ(c)};gU.prototype.L8=function(){this.$b=!1;var x=j4.c6(),J=x!=null,o=this.KW.parentNode!=null;
if(J!=o){p.LX(this.n);if(J)this.n.appendChild(this.KW);else this.n.textContent="Log In to access Team Settings."}if(!J)return;
var c=j4.f7();if(c==null)c={};var E=c.acc;if(E==null)E={};var b=JSON.stringify(E)+"===="+JSON.stringify(x);
if(b!=this.a9o){this.a9o=b;var l=this.oz,i=this.P7;p.LX(l);p.LX(i);var F=this.fi=[],k=this.auz=[],U=this.bp.bind(this);
function I(f,m){f.addEventListener("click",U);F.push(f);k.push(m)}function V(P,f){var y=p.i("div"),m="rgba(255,255,255,0.15)";
y.appendChild(N("ID: "+P[2],54,m));y.appendChild(N(P[0],160,null,!0));if(f){y.appendChild(N(P[1].length+" members",80,null,!0))}else{y.appendChild(N(P[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<P[1]*1e3)y.appendChild(N("Premium",80,"rgba(0,140,0,1)"))}var C=N("",120);y.appendChild(C);
C.setAttribute("style","float:right;text-align:right");if(f){var Z=new eH("Rename",null,null,!0);I(Z,["showRename",P[2]]);
C.appendChild(Z.n)}var Z=new eH(f?"Delete":"Leave",null,null,!0);I(Z,[f?"delTeam":"leave",P[2]]);C.appendChild(Z.n);
return y}function u(f,m,K){var y=p.i("div");y.style.paddingLeft="46px";y.appendChild(N(m?"\u2713":"...",8,m?"#229922":"#aa7700"));
y.appendChild(N(f[1],200));y.appendChild(N(f[2],240));var C=N("",120);y.appendChild(C);C.setAttribute("style","float:right;text-align:right");
var Z=new eH(m?"Remove":"Add",null,null,!0);I(Z,[m?"remove":"add",K,f[0]]);C.appendChild(Z.n);return y}function N(f,m,C,Z){var A=p.i("span");
A.textContent=f;A.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+m+"px;  "+(C!=null?"background-color:"+C+";":"")+(Z?"font-weight:bold;":""));
return A}var e=E.tstart,B=E.tjoin,j=x.wantToJoin,T=x.inTeams;if(e)for(var a=0;a<e.length;a++){var P=e[a],v=j["t"+P[2]];
if(v==null)v=[];var R={};for(var $=0;$<v.length;$++)R["u"+v[$][0]]=v[$];var y=V(P,!0);l.appendChild(y);
y.style.marginTop="10px";for(var $=0;$<P[1].length;$++){var t=P[1][$],g=R["u"+t];if(g==null)g=[t,"========","... user has left your team"];
delete R["u"+t];var H=u(g,!0,P[2]);l.appendChild(H)}for(var _ in R){var g=R[_],H=u(g,!1,P[2]);l.appendChild(H)}}if(B){var Y={};
for(var $=0;$<T.length;$++)Y["t"+T[$][2]]=T[$];for(var a=0;a<B.length;a++){var K=B[a],P=Y["t"+K],y=V(P?P:["==========",-1,K],!1);
i.appendChild(y)}}this.c(new ko(L.E.A))}if(this.kh==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this.UR()};
function fJ(){gB.call(this);this.Ou=[16,!0,!0];this.n=p.i("span","");this.JL=[new f1([12,24],0,255),new j8([12,25,1]),new j8([12,25,0])];
for(var $=0;$<3;$++){var x=this.JL[$];x.parent=this;x.w(this.Ou[$]);this.n.appendChild(x.n);x.k(L.E.A,this.GP,this)}}fJ.prototype=new gB;
fJ.prototype.GP=function(){for(var $=0;$<3;$++)this.Ou[$]=this.JL[$].h();this.c(new ko(L.E.A,!1))};fJ.prototype.w=function(x){this.Ou=x.slice(0);
for(var $=0;$<3;$++)this.JL[$].w(x[$])};fJ.prototype.h=function(){return this.Ou.slice(0)};fJ.prototype._=function(){for(var $=0;
$<3;$++)this.JL[$]._()};function dK(x,J){gB.call(this);if(J==null)J=!1;this.jq=[];this.VM=Math.floor(120*p.IJ());
this.ag2=Math.floor(23*p.IJ());this.xr=0;this.xF=[];this.pP=[];for(var o in q.Oq.type){if((o=="warpCustom"||o=="warpCylinder")&&!J)continue;
this.xF.push(o);this.pP.push(q.Oq.type[o])}this.n=p.i("span","fitem warpbutton");this.E9=new gB;this.E9.n=p.i("div","floatcont");
if(x){this.PH=x;this.ff=p.i("label","flabel");this.n.appendChild(this.ff)}this.d=p.i("button");this.n.appendChild(this.d);
p.Ra(this.d,this.Q$.bind(this));this.jn=new go(!0);this.E9.n.appendChild(this.jn.n);this.jn.k(L.E.A,this.a1m,this);
this.E9.n.setAttribute("style","width:"+Math.floor(8+this.VM/p.IJ())+"px;");this._()}dK.prototype=new gB;
dK.prototype.bo=function(x){this.ff.textContent=x};dK.prototype._=function(){if(this.PH)this.ff.innerHTML=h9.get(this.PH)+":";
this.Ah()};dK.a2a={};dK.abo=function(x,J,o){var c=h9.get(q.Oq.type[x]),E=c+"-"+x+"-"+J+"-"+o,b=dK.a2a[E];
if(b)return b;var l=dK.n9;if(i==null){var i=p.i("canvas");l=dK.n9=i.getContext("2d")}var i=l.canvas;
if(i.width!=J||i.height!=o){i.width=J;i.height=o}l.font=Math.floor(13*p.IJ())+"px sans-serif";l.lineWidth=1;
l.strokeStyle="#000000";var F=Math.floor(16*p.IJ()),k=new ha(0,0,F,F);l.clearRect(0,0,i.width,i.height);
var U=q.Oq.Oq(x,x=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);q.Oq.aua(U[3],k);var I=q.O.ny(k);
I.G.push("M","L","M","L");I.j.push(0,F/2,F,F/2);I.j.push(F/2,0,F/2,F);I=q.O.G8(I);I=q.O.cl(I,F/5);q.bf.M(U,I.j,k);
q.O.M(I.j,new cW(1,0,0,1,Math.floor(8*p.IJ())+.5,Math.floor(3*p.IJ())+.5),I.j);l.beginPath();Typr.U.pathToContext({cmds:I.G,crds:I.j},l);
l.stroke();l.fillText(c,Math.floor(40*p.IJ()),Math.floor(16*p.IJ()));b=dK.a2a[E]=i.toDataURL();return b};
dK.prototype.Q$=function(x){if(p.j5(this.E9.n))return;x.stopPropagation();var J=this.VM,o=this.ag2;for(var $=0;
$<this.xF.length;$++)this.jq[$]=dK.abo(this.xF[$],J,o);this.jn.Qk(this.jq,null,J,o);var c=this.d.getBoundingClientRect(),E=new ko(L.E.N,!0);
E.data={d:L.H.c4,BM:this.E9,x:c.left,y:c.top+c.height+4};this.c(E)};dK.prototype.a1m=function(x){var J=new ko(L.E.N,!0);
J.data={d:L.H.ci,BM:this.E9};this.c(J);this.xr=x.target.h()[0];this.Ah();this.c(new ko(L.E.A))};dK.prototype.Ah=function(){var x=this.VM,J=this.ag2;
this.jn.w([this.xr]);this.d.innerHTML="<img src=\""+dK.abo(this.xF[this.xr],x,J)+"\" class=\"gsicon\" />";
p.ev(this.d.firstChild,x,J)};dK.prototype.h=function(){return this.xF[this.xr]};dK.prototype.w=function(x){this.xr=this.xF.indexOf(x);
this.Ah()};function eq(x,J,o){gB.call(this);if(x==null)x=!1;if(J==null)J=!1;if(o==null)o=!1;this.aCy=J;
this.Oq=null;this.CM=new dK([12,22],o);this.CM.parent=this;this.CM.k(L.E.A,this.LJ,this);this.LC=new i3([22,0],[[22,4,0],[22,4,1]]);
this.LC.k(L.E.A,this.LJ,this);var c=x?f1:fb;this.ot=new c([22,1],-100,100,"%");this.Zs=new c("Horizontal Distortion:",-100,100,"%");
this.cP=new c("Vertical Distortion:",-100,100,"%");this.ot.parent=this.Zs.parent=this.cP.parent=this;
this.ot.k(L.E.A,this.LJ,this);this.Zs.k(L.E.A,this.LJ,this);this.cP.k(L.E.A,this.LJ,this)}eq.prototype=new gB;
eq.prototype._=function(){this.CM._();this.LC._();this.ot._();var x=this.aCy?1:100;this.Zs.bo(h9.get([22,2]).substring(0,x)+":");
this.cP.bo(h9.get([22,3]).substring(0,x)+":")};eq.prototype.LJ=function(){var x=this.Oq,J=this.CM.h(),o=x.warpStyle.v.warpStyle;
if(J=="warpCustom")q.Oq.qt(x,q.Oq.h7(x));else delete x.customEnvelopeWarp;x.warpStyle.v.warpStyle=this.CM.h();
x.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.LC.h()];var c=this.ot.h();x.warpPerspective.v=this.Zs.h();x.warpPerspectiveOther.v=this.cP.h();
if(J=="warpNone"||J=="warpCustom"){c=0;x.warpPerspective.v=0;x.warpPerspectiveOther.v=0}else if(o=="warpNone"||o=="warpCustom"||o=="warpCylinder")c=50;
if(J!="warpCylinder"){x.warpValue={t:"doub",v:c};delete x.warpValues}else{x.warpValues=n.Y.AA([0,100,100,0,.15,.2,1]);
delete x.warpValue}this.c(new ko(L.E.A,!1));this.w(x)};eq.prototype.h=function(x){return JSON.parse(JSON.stringify(this.Oq))};
eq.prototype.w=function(x){this.Oq=JSON.parse(JSON.stringify(x));var J=x.warpStyle.v.warpStyle,o=J=="warpNone"||J=="warpCustom"||J=="warpCylinder";
this.CM.w(J);if(!o){this.LC.w(x.warpRotate.v.Ornt=="Hrzn"?0:1);this.ot.w(x.warpValue.v);this.Zs.w(x.warpPerspective.v);
this.cP.w(x.warpPerspectiveOther.v)}var c=[this.LC,this.ot,this.Zs,this.cP];for(var $=0;$<c.length;$++)if(o)c[$].gt();
else c[$].G0()};function f6(x){gB.call(this);this.gN={};this.n=p.i("div");this.D5=x;this.Gv=null;this.p9=new ck(0,0);
this.Ts="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.Aj=null;this.QW=new p.WJ(this.n);
this.YZ("grab");this.$H=p.i("canvas","canv");this.n.appendChild(this.$H);this.n9=this.$H.getContext("2d",{willReadFrequently:!0});
this.a4X=null;this.Bx=null;this.bb=null;this.Vy=0;this.e5=0;this.Fv=0;this.Ia=0;this.aDd=this.auc.bind(this);
this.apF=null;this.Q=new e7({m:1,e:1});this.Tc=null;this.XU=null;this.Of=[];this.avC=0;this.dq=0;this.aAc=this.eN.bind(this);
this.aly=this.FB.bind(this);this.atZ=this.cK.bind(this);this.a4n=this.Xx.bind(this);this.axJ=0;this.le=null;
this.aey(this.$H);this.KL(this)}f6.prototype=new gB;f6.prototype.a7B=function(x){this.gN=x;this._A()};
f6.cT=function(x){var J=new dG(!0);if(x>=0)J.km("Space");if(x>=1){J.km("ControlLeft");if(x==2)J.km("AltLeft")}return J};
f6.prototype.B3=function(x){var J=this.Aj,o=null;if(x.S(dG.nw)){o="grab";if(x.S(dG._k)){o="zoom-in";
if(x.S(dG.Zj))o="zoom-out"}}this.Gv=o;if(o)J=o;this.QW.L8(J,this.Ts);if(x.S(dG._k)){var c=0;if(x.S(dG.l7))c=1;
if(x.S(dG.oN))c=-1;if(c!=0){this.Un(new ck(this.$H.width/2,this.$H.height/2),c==1)}}};f6.prototype.YZ=function(x){this.Aj=x;
if(this.Gv)return;this.QW.L8(x,this.Ts)};f6.prototype.aey=function(x){p.Ra(x,this.aAc);p.Oo(x);x.addEventListener("wheel",this.a4n,!1)};
f6.prototype.KL=function(x){x.k("viewchange",this.aym,this)};f6.prototype.aym=function(x){var J=this.Q.Z,o=x.currentTarget.Jw();
this.Q.Z=o.Z;this.Q.z=o.z.clone();if(J!=o.Z)this.g2();this._A()};f6.prototype.Jw=function(){return{Z:this.Q.Z,z:this.Q.z}};
f6.prototype.w=function(x,J,o,c){var E=x[0].XO;if(this.Bx!=null&&this.Bx[0].XO.U5(E)){}else{this.Q.Th={m:E.m,e:E.e};
this.Q.Z=1;this.Q.z=new ck(0,0)}this.Bx=x;this.g2(c);this.YF();this.Vy=0;this.e5=Date.now();this.Fv=0;
this.Ia=J==null?0:J;if(o)this.gN=o;this.auc()};f6.prototype.Xx=function(x){x.preventDefault();if(x.deltaY==0||Date.now()-this.axJ<100)return;
var J=p.x2(x);J.x=p.IJ()*J.x;J.y=p.IJ()*J.y;this.axJ=Date.now();this.Un(J,x.deltaY<0)};f6.prototype.Un=function(x,J){n.FF.Gt(this.Q,x,J);
this.alu()};f6.prototype.pJ=function(x){var J=this.Q,o=J.Th;this.Q.Z=n.FF.cM(o.m,o.e,J.T3.m,J.T3.e);
if(x)this.Q.z=new ck(0,0);this.alu()};f6.prototype.alu=function(){this.g2();this.c(new ko("viewchange"));
this.c(new ko("zoom"))};f6.prototype.g2=function(x){var J=this.bb;this.bb=[];var o=this.Q.Z;if(this.Bx==null)return;
if(x){var c=q.jw(o),E=1;for(var b=0;b<c.length;b++)E*=c[b];var l=x.x,i=x.y,F=l+x.m,k=i+x.e;l=Math.floor(l/E)*E;
F=Math.ceil(F/E)*E;i=Math.floor(i/E)*E;k=Math.ceil(k/E)*E;x=new ha(l,i,F-l,k-i)}for(var $=0;$<this.Bx.length;
$++){var U=this.Bx[$],I=new Uint8Array(U.data),V;if(o>=1)V={tM:I,rect:U.XO};else{if(J&&J[$]&&x){var u=q.R(x.P()*4);
q.St(I,U.XO,u,x);var N=q.d8(u,x,o),e=N.rect;e.x=Math.floor(e.x*o);e.y=Math.floor(e.y*o);V=J[$];q.St(N.tM,N.rect,V.tM,V.rect)}else V=q.d8(I,U.XO,o)}this.bb[$]=V}};
f6.prototype.YF=function(){clearTimeout(this.apF)};f6.prototype._A=function(){if(this.Bx==null||!p.j5(this.$H))return;
var x=this.a4X,J=this.$H.width,o=this.$H.height,N,e;if(x==null||x.width!=J||x.height!=o){x=this.a4X=this.n9.createImageData(J,o);
console.log("creating image data")}var c=this.Bx[this.Vy],E=this.bb[this.Vy],b=this.Q,l=b.Th,i=b.T3,F=i.m,k=i.e,U=l.m*b.Z,I=l.e*b.Z,V=Math.round((F-U)/2+b.z.x),u=Math.round((k-I)/2+b.z.y);
if(b.Z<=1){e=E.rect.clone();e.x=V;e.y=u;U=e.m;I=e.e;N=E.tM}else{var B=1/b.Z,j=new ha(Math.floor((i.x-V)*B),Math.floor((i.y-u)*B),Math.ceil(i.m*B)+1,Math.ceil(i.e*B)+1),T=new ha(0,0,j.m*b.Z,j.e*b.Z);
T.x=j.x*b.Z+V;T.y=j.y*b.Z+u;if(b.SS==null||b.SS.length!=j.P()*4){b.SS=q.R(j.P()*4)}if(b.lW==null||b.lW.length!=T.P()*4){b.lW=q.R(T.P()*4)}q.xj(b.SS,0);
q.St(E.tM,E.rect,b.SS,j);q.scale.EW(b.SS,j.m,j.e,b.lW,T.m,T.e,b.Z);N=b.lW;e=T}var a=new Uint8Array(x.data.buffer);
q.iQ(a,F,k,8,-V,-u);q.l.j6("norm",N,e,a,i,i,1);var P=this.n9;P.setTransform(1,0,0,1,0,0);P.putImageData(x,0,0);
P.clearRect(V-4e3,u,4e3,I);P.clearRect(V+U,u,4e3,I);P.clearRect(V-4e3,u-4e3,U+8e3,4e3);P.clearRect(V-4e3,u+I,U+8e3,4e3);
var v=f6.avq(b.Z,"#ffffff");P.putImageData(v,0,b.T3.e-v.height);var R=this.gN,b=this.Q;if(R){var y=bi.a_([.1,.5,1,1]),t=bi.a_([1,0,0,1]),g=bi.a_([1,1,1,1]),H=bi.a_([0,0,0,1]),_=b.AY(!1);
_.Mr();P.save();P.setTransform(_.V,_.J,_.xt,_.Lu,_.Iw,_.s7);P.strokeStyle=t;if(R.aD5){bi.lc(R.aD5,null,P);
P.lineWidth=1/b.Z;P.stroke()}P.strokeStyle=g;if(R.amh){bi.lc(R.amh,null,P);P.lineWidth=1/b.Z;P.stroke();
P.strokeStyle=H;P.setLineDash([4/b.Z,4/b.Z]);P.stroke();P.setLineDash([])}P.strokeStyle=y;P.fillStyle=bi.a_([1,1,1,1]);
if(R.XV){bi.lc(R.XV,null,P);P.lineWidth=1/b.Z;P.stroke()}if(R.EY){bi.qV(R.EY,P,b,.5);P.lineWidth=2/b.Z;
P.stroke();P.fill()}if(R.WW){P.font=16/b.Z+"px sans-serif";var Y=1/b.Z;for(var $=0;$<R.WW.length;$++){var K=R.WW[$],f=K[0],m=K[1]+6/b.Z,C=K[2];
P.fillStyle="black";P.fillText(C,f-Y,m);P.fillText(C,f+Y,m);P.fillStyle="white";P.fillText(C,f,m)}}P.restore()}P.getImageData(0,0,1,1)};
f6.ax9="";f6.am6=null;f6.avq=function(x,J,o,c){if(o==null){o=0;c=0}var E=o+" \xD7 "+c,b="z"+x+","+J+","+o+","+c;
if(b==f6.ax9)return f6.am6;var l=Math.round(50*p.IJ()),i=Math.round(18*p.IJ()),F=o==0?0:Math.round((E.length+2)*i*.35),k=p.i("canvas"),U=k.getContext("2d");
k.width=l+F;k.height=i;U.fillStyle="rgba(1,1,1,1)";U.fillRect(0,0,l,i);if(o!=0)U.fillRect(l+2,0,F,i);
U.font=Math.round(11*p.IJ())+"px monospace";U.fillStyle=J;var I=x*100;if(I<100)I=I.toFixed(2);else I=Math.round(I);
I=I+"%";var V=U.measureText(I).width;U.fillText(I,(l-V)/2,Math.round(i*.7));if(o!=0){var N=U.measureText(E).width;
U.fillText(E,l+(F-N)/2+1,Math.round(i*.7))}var e=U.getImageData(0,0,l+F,i);f6.ax9=b;f6.am6=e;return e};
f6.prototype.auc=function(){var x=this.Bx,J=x.length,o=this.Vy,c=this.Bx[o],E=(o+1)%J;this._A();var b=Date.now();
if(J!=1&&x[E].XO.U5(c.XO)){var l=c.a1?parseInt(c.a1.split(",").pop()):30;if(l==0)l=16;l-=Math.floor((b-this.e5)*.4);
if(E==0)this.Fv++;if(this.Ia==0||this.Fv<this.Ia)this.apF=setTimeout(this.aDd,l)}this.Vy=E;this.e5=b};
f6.prototype.ip=function(x,J){if(x<=0||J<=0)return;var o=Math.floor(x*p.IJ()),c=Math.floor(J*p.IJ());
this.Q.T3=new ha(0,0,o,c);this.$H.width=o;this.$H.height=c;this.$H.setAttribute("style","width:"+o/p.IJ()+"px; height:"+c/p.IJ()+"px; display:block;");
this._A()};f6.prototype.IU=function(x){var J=-1,o=this.Of;for(var $=0;$<o.length;$++)if(o[$].pointerId==x.pointerId)J=$;
return J};f6.prototype.eN=function(x){var J=this.IU(x),o=this.Of;if(J!=-1)o[J]=x;else o.push(x);if(o.length==1){this.le=x.target;
p.aP(window,this.aly);p.iU(window,this.atZ);this.Tc=p.x2(x,this.$H);this.Tc.x*=p.IJ();this.Tc.y*=p.IJ();
this.p9=this.Tc;this.XU=this.Q.z.clone();if(this.D5&&this.le==this.$H&&!this.Gv)this.c(new ko("mousedown"))}else this.avC=this.dq=ck.q6(p.x2(o[0],this.$H),p.x2(o[1],this.$H))};
f6.prototype.FB=function(x){var J=this.IU(x),o=this.Of;if(J!=-1)o[J]=x;var c=this.Q,E=this.Gv,b=this.Bx[this.Vy].XO.clone();
b.m*=c.Z;b.e*=c.Z;var l=p.x2(x,this.$H);l.x*=p.IJ();l.y*=p.IJ();this.p9=l;if(this.D5&&this.le==this.$H&&!E)this.c(new ko("mousemove"));
else if(E=="grab"||E==null){if(o.length>1){var i=p.x2(o[0],this.$H),F=p.x2(o[1],this.$H),k=new ck(p.IJ()*(i.x+F.x)/2,p.IJ()*(i.y+F.y)/2),U=ck.q6(i,F),I=null;
if(U>this.dq+50){this.dq+=50;I=!0}if(U<this.dq-50){this.dq-=50;I=!1}if(I!=null)this.Un(k,I);return}else{var V=l.x-this.Tc.x,u=l.y-this.Tc.y;
c.z.x=this.XU.x+Math.round(V);c.z.y=this.XU.y+Math.round(u)}this.c(new ko("viewchange"))}};f6.prototype.cK=function(x){var J=this.IU(x),o=this.Of;
o.splice(J,1);if(o.length==0){p.Qx(window,this.aly);p.Ro(window,this.atZ);var c=this.Gv;if(x.detail>1){this.Q.Z=1;
this.Q.z.DQ(0,0);this._A()}if(this.D5&&this.le==this.$H&&!this.Gv)this.c(new ko("mouseup"));else{if(c=="zoom-in"||c=="zoom-out")this.Un(this.p9,c=="zoom-in")}}else{var E=this.Tc=p.x2(o[0],this.$H);
E.x*=p.IJ();E.y*=p.IJ()}};f6.prototype.eM=function(x){var J=this.p9;if(x){J=p.x2(x,this.$H);J.x*=p.IJ();
J.y*=p.IJ()}return this.Q.Vx(J.x,J.y)};function bo(){gB.call(this);this.eo=null;this.$a=null;this.n0=null;
this.v_=null;this.adR="";this.AG=[];this.yN=0;this.kS=[];this.Dj=0;this.Vh=null;var x=this.n=p.i("div",""),J=this.a5L=p.i("div","form");
J.setAttribute("style","line-height:0; margin-bottom:0.5em;");x.appendChild(J);var o=this.PH=p.i("span");
J.appendChild(o);o.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var c=this.ayM=new j8([25,2,0]);
c.w(!0);J.appendChild(c.n);c.k(L.E.A,this.bK,this);var E=this.t6=new j8([25,2,1]);E.w(!0);J.appendChild(E.n);
E.k(L.E.A,this.bK,this);var b=new dr(" ");J.appendChild(b.n);var l=this._$=new cA([25,1,1]);J.appendChild(l.n);
l.k(L.E.A,this.bK,this);this.kr=new hA(14);this.kr.acu(3);J.appendChild(this.kr.n);this.kr.parent=this;
this.kr.k(L.E.A,this.ai1,this);var i=this.aha=new eH([25,1,2],null,null,!0);J.appendChild(i.n);i.k("click",this.r1,this);
var F=new eH("?",null,null,!0);J.appendChild(F.n);F.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a4Z=this.a3L.bind(this);this.eq=p.i("div","svggallery scrollable");x.appendChild(this.eq);this.eq.addEventListener("scroll",this.aeb.bind(this))}bo.prototype=new gB;
bo.prototype.DL=function(x){this.ah4=x};bo.prototype._=function(){this.PH.textContent=h9.get([25,0]);
this.kr._();this.ayM._();this.t6._();this._$._();this.aha._()};bo.prototype.ip=function(x,J){this.eo=new ck(x,J);
this.a5L.setAttribute("style","width:"+x+"px");var o=this.a5L.getBoundingClientRect();J-=o.height;this.eq.setAttribute("style","width:"+x+"px; height:"+J+"px");
if(p.j5(this.n))this.bK()};bo.prototype.w=function(x){this.$a=x;this.bK()};bo.prototype.aeb=function(x){var J=this.eq;
if(J.scrollTop+J.clientHeight+10>=J.scrollHeight){this.bK(!0)}};bo.prototype.ai1=function(x){this.n0=null;
this.bK()};bo.prototype.a3L=function(x){if(Date.now()-this.Dj<2e3)return;this.Dj=Date.now();this.yN=this.kS.indexOf(x.currentTarget);
var J=this.uZ(this.$a.x,this.$a.y);if(J[1]){var o=J[1].largeImageURL,c=new XMLHttpRequest;c.responseType="arraybuffer";
c.open("GET",o,!0);c.onload=this.a6O.bind(this);c.send();return}this.aqn(J)};bo.prototype.a6O=function(x){var J=x.target.response,o=hR.M1(J),c=hR.rb(o),E=c.zu(J),b=this.uZ(this.$a.x,this.$a.y,[J,E[0].XO.m,E[0].XO.e]);
this.aqn(b)};bo.prototype.aqn=function(x){var J=x[0],o=hR.M1(J),c=hR.rb(o),E=new hk("template.psd");
c.zu(J,E);var b=new ko("tempready",!0);b.data={Th:E};this.c(b)};bo.prototype.r1=function(x){var J=x.target;
this.AG=[];this.n0=null;this.bK()};bo.prototype.a0N=function(x){var J=JSON.parse(x.target.response),o=this.v_=J.hits;
for(var $=0;$<o.length;$++)if(o[$].user_id==6314823)o.splice($,1);this.bK()};bo.prototype.bK=function(x){if(this.$a==null||this.eo==null||this.ah4==null)return;
if(this.eo.x<=0)return;var J=this.$a.x,o=this.$a.y;if(Math.min(J,o)<50)return;if(x!=!0){this.kS=[];p.LX(this.eq);
this.eq.scrollTop=0}if(this.kS.length>300)return;var c=Math.min(1,300/Math.max(J,o)),E=this.eo.clone();
E.x-=20;var b=Math.max(1,Math.floor(E.x/(J*c))),l=Math.max(1,Math.ceil(E.y/(o*c)));c=E.x/b/J;var i=b*l;
if(this.n0==null){var F=this.ah4.a0.o4(),k=[];for(var U in F){var I=F[U],V=I[3];if(!this.kr.ke(I))continue;
if(I[5]==null||I[5].slice(0,2)=="gf")continue;k.push(I)}if(k.length==0)k.push(F.DejaVuSans);var u=k.length;
for(var $=0;$<u*10;$++){var N=Math.floor(Math.random()*u),e=Math.floor(Math.random()*u),B=k[N];k[N]=k[e];
k[e]=B}k=k.slice(0,10);this.n0=k}var j=this.t6.h(),T=this._$.h().trim();this._$.po(j);if(j&&(this.v_==null||T!=this.adR)){var a=new XMLHttpRequest,P="https://pixabay.com/api/?image_type=photo"+(T==""?"":"&q="+encodeURIComponent(T))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(T=="")P="plugins/gallery.json";a.open("GET",P,!0);a.onload=this.a0N.bind(this);a.onerror=function(H){console.log(H.target.response)};
a.send();this.adR=T;return}c*=(J*c-5)/(J*c);var v=this.kS.length;for(var $=0;$<i;$++){var R=this.yN=v+$;
if(this.AG[R]==null)this.AG[R]=Math.floor(Math.random()*4294967295);var y=this.uZ(Math.round(J*c),Math.round(o*c)),t=y[0];
t=D.cA(new Uint8Array(t));var g=p.i("span");g.innerHTML=t;this.kS.push(g);this.eq.appendChild(g);g.addEventListener("click",this.a4Z,!1)}};
bo.prototype.uZ=function(x,J,o){var c=this.t6.h(),E=this.ayM.h(),b=c&&this.v_.length!=0?this.v_:null;
if(E&&!c)b=null;if(E&&c&&(this.yN&1)==0)b=null;return gw.MP(x,J,this.AG[this.yN],this.n0,o?o:b)};function cQ(){gB.call(this);
this.n=p.i("div");this.KW=null;this.a27=null;this.Y9=-1;this.oU={JPG:[{tb:new fb([12,52,0],0,100,"%",null,null,!0),Yn:70},{tb:new j8("attach metadata"),Yn:!1}],TIFF:[{tb:new j8("attach metadata"),Yn:!1}],WEBP:[{tb:new fb([12,52,0],0,100,"%",null,null,!0),Yn:70},{tb:new j8("attach metadata"),Yn:!1}],GIF:[{tb:new fb([12,52,0],0,100,"%",null,null,!0),Yn:100},{tb:new j8([12,23,3]),Yn:!1}],PNG:[{tb:new fb([12,52,0],0,100,"%",null,null,!0),Yn:100},{tb:new j8("don't use palettes"),Yn:!1}],BMP:[{tb:new j8("don't use palettes"),Yn:!1}],PDF:[{tb:new cA([12,52,1]),Yn:""},{tb:new fb([12,52,0],0,100,"%",null,null,!0),Yn:100},{tb:new j8("reverse pages"),Yn:!1},{tb:new j8("rasterize all"),Yn:!1},{tb:new j8("vectorize text"),Yn:!1},{tb:new fb("Add Margin",0,5,"in",2),Yn:0},{tb:new j8("add crop marks"),Yn:!1}],EMF:[{tb:new cA([12,52,1]),Yn:""},{tb:new fb([12,52,0],0,100,"%",null,null,!0),Yn:100},{tb:new j8("reverse pages"),Yn:!1},{tb:new j8("rasterize all"),Yn:!1},{tb:new j8("vectorize text"),Yn:!1},{tb:new fb("Add Margin",0,5,"in",2),Yn:0}],SVG:[{tb:new j8("add raster graphics"),Yn:!0},{tb:new j8("add hidden layers"),Yn:!1},{tb:new j8("vectorize text"),Yn:!1},{tb:new j8("rasterize text"),Yn:!1},{tb:new j8("minify"),Yn:!1}],RAW:[{tb:new fW([12,72],["1","3","4"]),Yn:2},{tb:new fW([12,34],["8 Bits","16 Bits"]),Yn:0},{tb:new fW("Byte Order",["12-34","34-12"]),Yn:0}],DDS:[{tb:new i3("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),Yn:0},{tb:new j8("Add Mipmaps"),Yn:!0}],MP4:[{tb:new fb([12,52,0],0,100,"%",null,null,!0),Yn:50}],anim:[{tb:new fb("Speed",10,1e3,"%",null,!0,!0),Yn:100},{tb:new f1("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Yn:0},{tb:new j8("reverse frames"),Yn:!1},{tb:new j8("boomerang"),Yn:!1}],slcs:[{tb:new j8([8,11,0]),Yn:!0}],artb:[{tb:new j8([1,16,1]),Yn:!0}],hicc:[{tb:new j8("convert to sRGB"),Yn:!0}]};
for(var x in this.oU){var J=this.oU[x];for(var $=0;$<J.length;$++){J[$].tb.w(J[$].Yn);J[$].tb.k(L.E.A,this.xs,this)}}}cQ.prototype=new gB;
cQ.prototype.adb=function(){this.Y9=-1};cQ.prototype._=function(){for(var x in this.oU)for(var $=0;$<this.oU[x].length;
$++)this.oU[x][$].tb._()};cQ.prototype.xs=function(){this.bK();this.c(new ko(L.E.A,!1))};cQ.prototype.bK=function(){var x=this.KW,J=x[0],o=x[1],c=x[2],E=x[3],b=x[4],l=this.oU[J];
if(l==null)l=[];else l=l.slice(0);if(o)l=l.concat(this.oU.anim);if(["GIF","PNG","JPG"].indexOf(J)!=-1&&c)l=l.concat(this.oU.slcs);
else if(["GIF","PNG","JPG","SVG"].indexOf(J)!=-1&&E)l=l.concat(this.oU.artb);if(b)l=l.concat(this.oU.hicc);
var i=x.join(",");if(i!=this.Y9){this.Y9=i;p.LX(this.n);for(var $=0;$<l.length;$++){if(J=="PDF"&&!E&&($==0||$==2))continue;
this.n.appendChild(l[$].tb.n);p.UF(this.n)}}var F=this.a27=[];for(var $=0;$<l.length;$++)F.push(l[$].tb.h())};
cQ.prototype.zZ=function(x,J,o,c,E){this.KW=[x,J,o,c,E];this.bK()};cQ.prototype.h=function(){return this.a27.slice(0)};
cQ.prototype.w=function(x,J){var o=this.KW,c=o[0],E=this.oU[c],b=Math.min(E.length,x.length);for(var $=0;
$<b;$++)E[$].tb.w(x[$]);this.bK();if(J!=!0)this.xs()};function dm(){gB.call(this);this.n=p.i("span","fitem");
this.p2=!1;this.Hs=new eH("No",!1,"Cancel");this.wx=new eH("Yes",!1,"Confirm");this.n.appendChild(this.Hs.n);
this.n.appendChild(this.wx.n);this.Hs.k("click",this.Mu,this);this.wx.k("click",this.Mu,this);this._()}dm.prototype=new gB;
dm.prototype._=function(){this.Hs.bo(p.e3("cross",null,"autoscale"));this.wx.bo(p.e3("checkmark",null,"autoscale"))};
dm.prototype.Mu=function(x){this.p2=x.target==this.wx;this.c(new UIEvent("click"))};dm.prototype.h=function(){return this.p2};
function aX(x){gB.call(this);this.n=p.i("span","fitem");this.cp=new eH("\u25BC",null,"Auto Options",!0);
p.Ra(this.cp.n,this.axS.bind(this));this.n.appendChild(this.cp.n);this.Bq=new eH("Auto",null,null,!0);
this.Bq.k("click",this.ZL,this);this.n.appendChild(this.Bq.n);this.uB=new fA("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.uB.k(L.E.A,this.ZL,this);this.uB.w([!1,!1,!1,!0]);this.E9=new gB;var J=this.E9.n=p.i("div","floatcont form");
J.setAttribute("style","width: 250px;");this.E9.parent=this;J.appendChild(this.uB.n);this.RV=[];for(var $=0;
$<2;$++){var o=new f1(($==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);o.w(.1);o.k(L.E.A,this.ZL,this);
this.RV.push(o);J.appendChild(o.n)}}aX.prototype=new gB;aX.prototype.ZL=function(x){this.c(new ko(L.E.A,!1))};
aX.prototype._=function(){};aX.prototype.h=function(){return[this.uB.h().indexOf(!0),this.RV[0].h(),this.RV[1].h()]};
aX.prototype.axS=function(x){if(p.j5(this.E9.n))return;x.stopPropagation();var J=this.cp.n.getBoundingClientRect(),o=new ko(L.E.N,!0);
o.data={d:L.H.c4,BM:this.E9,x:J.left,y:J.top+J.height+4};this.c(o)};function gy(){gB.call(this);var x=this.n=p.i("div","fitem");
this.YV=new i3([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.YV.k(L.E.A,this.GP,this);x.appendChild(this.YV.n);
this.q8=new cp(!1);this.q8.parent=this;this.q8.RT(16777215);this.q8.k(L.E.A,this.GP,this);x.appendChild(this.q8.n)}gy.prototype=new gB;
gy.prototype._=function(){this.YV._();this.q8._()};gy.prototype.af4=function(x){var J=[x.artboardBackgroundType.v-1];
if(x.Clr)J.push(x.Clr.v);this.w(J)};gy.prototype.afW=function(){var x=this.h();return{classID:"artboard",Clr:{t:"Objc",v:x[1]},artboardBackgroundType:{t:"long",v:x[0]+1}}};
gy.prototype.w=function(x){this.YV.w(x[0]);if(x[1])this.q8.w(x[1])};gy.prototype.h=function(){return[this.YV.h(),this.q8.h()]};
gy.prototype.GP=function(x){if(x.target==this.q8)this.YV.w(3);this.c(new ko(L.E.A,!1))};function gf(x){gB.call(this);
this.oh=x;this.h2=0;this.agT=!1;this.F_=x?new gf.N2:null;this.n=p.i("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.uo=p.i("div");this.n.appendChild(this.uo);this.QS=p.i("div");this.n.appendChild(this.QS);this.Hj=[];
var J=Storage.list.length;if(x)J++;var o=this._c.bind(this);for(var $=0;$<J;$++){var c=p.i("div");this.Hj.push(c);
this.uo.appendChild(c);c.addEventListener("click",o,!1)}this._c(null,0)}gf.prototype=new gB;gf.Fu=[];
gf.Bh=function(x){gf.Fu.push(x);x.A1()};gf.bG=function(){var x=gf.Fu;x.pop();x[x.length-1].A1()};gf.prototype.A1=function(){console.log(this.h2);
this._c(null,this.h2)};gf.prototype.DL=function(x,J){if(!x.Hg&&!this.agT){var o=this.oh?2:1;for(var $=o;
$<this.Hj.length;$++)this.uo.removeChild(this.Hj[$]);this.agT=!0;if(this.oh)this.F_.DL(x,J)}if(this.jy)this.jy.DL(x,J)};
gf.prototype._=function(){if(this.oh)this.F_._();if(this.jy)this.jy._()};gf.prototype._c=function(x,J){var o=this.Hj,c;
if(J==null)J=o.indexOf(x.currentTarget);this.h2=J;for(var $=0;$<o.length;$++)p.ml(o[$],"active");p.na(o[J],"active");
if(this.oh)J--;p.LX(this.QS);if(J==-1)c=this.F_;else c=Storage.KU(J);this.jy=c;c.parent=this;this.QS.appendChild(c.n);
this.ip(this.Qh,this.ao);this._()};gf.prototype.ip=function(x,J){this.Qh=x;this.ao=J;var o=x<850,c=o?50:200,E=Storage.list;
if(this.oh)E=[["Home",null,"strg/home"]].concat(E);for(var $=0;$<E.length;$++){var b=this.Hj[$],l="padding: 8px "+(o?13:36)+"px; cursor:pointer;";
b.setAttribute("style",l);b.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[E[$][2]]+"\" /> "+(o?"":E[$][0])}this.n.style.width=x+"px";
this.n.style.height=J+"px";this.uo.style.width=c+"px";this.uo.style.paddingTop="32px";if(this.jy)this.jy.ip(x-c,J)};
gf.N2=function(){this.zf=null;var x=this.n=p.i("div");x.style.background="var(--bg-canvas)";var J=this.Pt=p.i("div");
x.appendChild(J);var o=p.i("style");x.appendChild(o);o.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var $=0;$<2;$++){var c=p.i("div"),o="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";J.appendChild(c);
if($==0)o+="padding: 12px 0px";if($==1)o+="position:absolute;  bottom:0;";c.setAttribute("style",o);
var E=p.i("img");c.appendChild(E);E.setAttribute("src",PIMG[$==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if($==0)this.oE=E;else this.auq=E;if($==0)this.ala=c;else this.a5V=c}this.Hj=[];o="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var b=this.kn.bind(this),l=p.i("div");J.appendChild(l);l.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var $=0;$<4;$++){var i=p.i("span","bhover");this.Hj.push(i);i.setAttribute("style",o+"cursor:pointer; padding:12px;");
i.addEventListener("click",b,!1);l.appendChild(i)}p.UF(J);var c=p.i("div");c.setAttribute("style",o+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
c.textContent="Drop any files here";J.appendChild(c);this.$H=p.i("canvas");this.$H.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.n9=this.$H.getContext("2d");this.adC=q.R(4);x.appendChild(this.$H);var F=new Date().getDate(),k=new Date().getMonth();
if(k==11&&F>20||k==0&&F<10){var U=Math.random()<.5,I={o:255,I:255,J:255};if(!U){I=q.qf(Math.random(),Math.random()*.7,1);
I.o*=255;I.I*=255;I.J*=255}this.bW=[Math.round(1048575*Math.random()),U?.05:.02,Math.round(4+Math.random()*8),1,U?3:15,I,0,!0,U,U?1:.2,3];
this.abY=U?.1:.2;this.uV=this.Kn.bind(this);window.requestAnimationFrame(this.uV)}};gf.N2.prototype=new gB;
gf.N2.prototype.Kn=function(){window.requestAnimationFrame(this.uV);if(!p.j5(this.n))return;var x=this.adC,J=this.$H,o=this.n9,c=J.width,E=J.height;
this.bW[6]=Date.now()*.001*this.abY;q.v5.Bb(x,c,E,this.bW,!0);o.putImageData(new ImageData(new Uint8ClampedArray(x.buffer),c,E),0,0)};
gf.N2.prototype.kn=function(x){var $=this.Hj.indexOf(x.currentTarget),J=new ko(L.E.N,!0);if($==0)J.data={d:L.H.yI,AN:"newproject"};
if($==1)J.data={d:L.H.o2};if($==2)J.data={d:L.H.yI,AN:"res0"};if($==3)J.data={d:L.H.go};this.c(J)};gf.N2.prototype._=function(){var x=this.Hj,J=[[11,7],[1,6],[25,0],[0,17,6]],o=["\u2605","\uD83E\uDC7F","\u25A3"],o=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var $=0;$<x.length;$++)x[$].innerHTML="<span style=\"vertical-align:middle\">"+p.e3(o[$],null,"autoscale")+"</span>\u2000"+h9.get(J[$]);
var c="l"+"o"+"g"+"o",E=c+"_"+["pp","vp"][b5],b=new Date;if(b.getMonth()==3&&b.getDate()==1)E="lo"+"go_cuc"+"umber";
if(PIMG[c])E=c;this.oE.setAttribute("src",PIMG[E]);this.auq.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
gf.N2.prototype.ip=function(x,J){var o=Math.min(J*1.5,Math.min(x,600));p.Pi(this.$H,x,o*.26);var c=this.$H.width,E=this.$H.height;
this.adC=q.R(c*E*4);this.n.style.width=x+"px";this.n.style.height=J+"px";this.a5V.style.width=x+"px";
this.Pt.style.marginLeft=Math.max(0,Math.round((x+200-600)/2)-200)+"px";this.oE.style.width=o+"px";this.auq.style.width=o+"px"};
gf.N2.prototype.DL=function(x,J){var o=x;if(x==null)x=this.Vh;this.Vh=x;if(!x.Hg&&this.Hj[2].parent){this.Pt.removeChild(this.Hj[2]);
this.Pt.removeChild(this.Hj[3])}this.Hj[3].style.display=x.m$?"inline-block":"none";if(o)this.zf=setTimeout(this.DL.bind(this),100)};
function Storage(x){gB.call(this);var J=this.n=p.i("div","storage");p.l8(J);J.addEventListener("drop",this.adH.bind(this),!1);
var o=this.ajr=p.i("style");J.appendChild(o);J.setAttribute("tabindex","0");J.style.outline="none";J.addEventListener("keydown",this.ak6.bind(this),!1);
this.Jb=this.aqj.bind(this);this.uR=0;this.iC=0;var c=p.i("div");J.appendChild(c);var E=this.a3y.bind(this);
this.ky=p.i("div","bar");c.appendChild(this.ky);this.Jp=p.i("div","fls scrollable");c.appendChild(this.Jp);
this.J3=p.i("div");c.appendChild(this.J3);this.J3.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this._B=p.i("div","bar");this._B.textContent="Name: ";var b=this.pR=p.i("input");b.setAttribute("type","text");
this._B.appendChild(b);var l=this.Qv=p.i("div","btn");l.textContent="Save";this._B.appendChild(l);p.iU(l,E);
p.Ra(this.Jp,this.Jb);this.im=0;this.LN=x;var i=this.a0D.bind(this),F=this.axn=p.i("div");F.setAttribute("style","text-align:center; font-size:1.6em");
var k=p.i("img");F.appendChild(k);p.UF(F);k.setAttribute("src",PIMG[Storage.list[this.LN][2]]);k.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
p.iU(k,i);this.Fd=p.i("div","btn");F.appendChild(this.Fd);p.iU(this.Fd,i);this.Cm=new iy([{name:[6,20]},{name:[5,2],l1:[dG._k,dG.iw],T:function(){return{T:Storage.MW!=null}}}]);
this.Cm.parent=this;this.Cm.k("select",this.y6,this);this.Jp.addEventListener("contextmenu",this.Jb);
this.aqY=p.i("span");this.ez=p.i("span");this.ez.setAttribute("style","position:absolute; right:0; top:5px;");
this.Wk=[];this.ub=[];for(var $=0;$<3;$++){var U=p.i("div","btn");this.Wk.push(U);this.aqY.appendChild(U);
p.iU(U,E);U.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][$]}for(var $=0;$<5;$++){var U=p.i("div","btn");
this.ub.push(U);this.ez.appendChild(U);p.iU(U,E)}window.addEventListener("message",this.ash.bind(this),!1);
this.aCF=!1;this.v$=0;setInterval(this.aiJ.bind(this),300);this.aK();var I=this.a7y=document.createElement("input");
I.setAttribute("type","file");I.addEventListener("change",this.adH.bind(this),!1);document.body.appendChild(I);
I.setAttribute("style","display:none");I.setAttribute("multiple","")}Storage.prototype=new gB;Storage.x3=!1;
Storage.prototype.adH=function(x){x.stopPropagation();x.preventDefault();var J=x.dataTransfer?x.dataTransfer.files:x.target.files;
this.a1v=J.length;Storage.MW={};for(var $=0;$<J.length;$++){var o=J[$],c=new FileReader;c.wM=o;c.onload=this.aA3.bind(this);
c.readAsArrayBuffer(o)}};Storage.prototype.aA3=function(x){var J=Storage.MW;J[x.target.wM.name]=x.target.result;
this.a1v--;if(this.a1v==0)this.pb()};Storage.prototype.DL=function(x,J){var o=Storage.list[this.LN][3],c=j4.c6();
if(o){if(this.v$==1&&p.j5(this.n)&&c!=null){this.aK()}if(this.v$==2&&c==null){this.$M("forget","")}}};
Storage.prototype.aiJ=function(){var x=p.j5(this.n),J=this.aCF;if(x&&!J){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!x&&J){window.onpopstate=function(){};history.go(-1)}this.aCF=x};
Storage.prototype.aK=function(){if(this.Lq)document.body.removeChild(this.Lq);this.uI=[[]];this.qK=0;
this.axE={"/":[]};this.a2b="";this.QC=null;this.JL=[];this.jl=[];this.axr=[];this.a4P=null;var x="code/storages/"+Storage.list[this.LN][1],J=this.Lq=p.i("iframe");
J.setAttribute("src",x);J.setAttribute("style","display:none");document.body.appendChild(J)};Storage.prototype.TF=function(){return this.axE[this.Tf()]};
Storage.prototype.gS=function(x){this.axE[this.Tf()]=x};Storage.KU=function($){var x=Storage.zh[$];if(x==null)x=Storage.zh[$]=new Storage($);
return x};Storage.zh=[];Storage.mn=0;Storage.a0K="";Storage.TR=function(x,J){Storage.mn=x;Storage.a0K=J;
var o=Storage.zh;for(var $=0;$<o.length;$++)if(o[$])o[$].A1()};Storage.a52=[500*(1<<20),5e3*(1<<20)];
Storage.En=0;Storage.qc=2;Storage.rd=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.a6B=function(x){for(var $=0;$<Storage.zh.length;$++){if(Storage.zh[$]&&Storage.zh[$].Lq.contentWindow==x)return!0}return!1};
Storage.prototype.ak6=function(x){if(x.target.tagName=="INPUT")return;var J=dG;if(J.eW(x.code,J.OT)&&this.Tf().length!=0)this.acL();
else if(x.ctrlKey){if(J.eW(x.code,J.H)){var o=[];this.gS(o);for(var $=0;$<this.QC.length;$++)o.push($);
this.C3()}if(J.eW(x.code,J.uA))this.TW(2);if(J.eW(x.code,J.iw))this.pb()}else if(J.eW(x.code,J.eP)){var c=this.TF();
if(c.length!=0)this.alp(c[0])}else if(J.eW(x.code,J.BK)){this.qK=Math.max(this.qK-1,0);this.Yh()}else{var E=0;
for(var $=65;$<=90;$++)if(x.code=="Key"+String.fromCharCode($))E=$;if(E!=0){var b=String.fromCharCode(E).toLowerCase(),l=[],i=this.QC,F;
for(var $=0;$<i.length;$++)if(i[$][0][0].toLowerCase()==b)l.push($);if(l.length==0)return;var c=this.TF();
if(c.length==0)F=l[0];else{var k=l.indexOf(c[0]);if(k==-1){F=l[0];for(var $=0;$<l.length;$++)if(l[$]>c[0]){F=l[$];
break}}else F=l[(k+1)%l.length]}this.gS([F]);this.C3(!0)}}};Storage.prototype.ip=function(x,J){this.Qh=x;
this.ao=J;this.n.style.width=x+"px";this.n.style.height=J+"px";var o=x-30,c=Math.floor(o/230),o=Math.floor(o/c)-70;
this.ajr.textContent=".storage .tile .name {  width:"+o+"px;  }";this.pR.style.width=x-140+"px";this.Jp.style.width=this.ky.style.width=x-20+"px";
this.Jp.style.height=J-70-(Storage.mn==0?0:45)+"px"};Storage.prototype.a0D=function(){this.Yh()};Storage.prototype.Yh=function(){this.iC=1;
this.$M("show",this.Tf())};Storage.prototype.Tf=function(x){var J=this.uI[this.qK],o="/"+J.join("/");
if(x&&J.length!=0)o+="/";return o};Storage.prototype.a3y=function(x){var J=x.currentTarget,o=this.qK,c=this.Wk.indexOf(J),E=this.ub.indexOf(J);
if(c>=0&&!this.aqM(c))return;if(c==0){this.qK=Math.max(o-1,0);this.Yh()}if(c==1){this.qK=Math.min(o+1,this.uI.length-1);
this.Yh()}if(c==2){var b=this.uI[o+1]=this.uI[o].slice(0);b.pop();this.qK++;this.uI=this.uI.slice(0,this.qK+1);
this.Yh()}if(E==0){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.a7y.dispatchEvent(l)}if(E==1){Storage.En=(Storage.En+1)%2;this.A1()}if(E==2){Storage.qc=(Storage.qc+1)%3;
this.A1()}if(E==3){Storage.rd=(Storage.rd+1)%3;this.A1()}if(E==4){this.$M("forget","")}if(J==this.Qv){var i=this.pR.value.trim(),F=this.QC,k=-1;
if(!i.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var $=0;
$<F.length;$++)if(F[$][0]==i)k=$;if(k!=-1){this.Tq("Do you really want to replace \""+i+"\"?",this.ab5.bind(this))}else this.ab5()}};
Storage.prototype.ab5=function(){var x=this.pR.value.trim(),J=[this.LN,this.Tf(!0)+x];this.wC({d:L.H.a0L,gf:J});
this.c(new ko("canclose",!0))};Storage.prototype.pb=function(){if(Storage.MW==null)return;this.wC({d:L.H.oa,mC:h9.get("Uploading ...")});
this.uR=4;aL.KU(2,this.Lq,[this.Tf(),Storage.MW,this.QC],null,this.aos.bind(this))};Storage.prototype.aos=function(x){this.uR=0;
this.wC({d:L.H.Ew,mC:h9.get("Uploading ...")});this.Yh()};Storage.prototype.y6=function(x){var J=x.target.xi();
if(x.target==this.Cm){if(J[0]==0){var o=[h9.get([6,20]),-1,0];this.QC.push(o);this.A1();var $=this.QC.indexOf(o),c=this.JL[$].querySelector(".name");
console.log(c);var E=new jj.U0(c,function(I){this.wC({d:L.H.oa,mC:h9.get([1,2])+" ..."});var V=this.Tf(!0)+I+"/";
console.log(V);this.$M("save",V)}.bind(this),!0)}else this.pb()}else{if(J[0]==0){this.TW(2)}else if(J[0]==1){var $=this.TF()[0],b=this.QC[$],c=this.JL[$].querySelector(".name");
console.log(c);c.innerHTML=b[0];var E=new jj.U0(c,function(I){I=I.trim();var V=this.QC;for(var $=0;$<V.length;
$++)if(V[$][0]==I){alert("Item with such name already exists.");this.A1();return}var u=this.Tf(!0)+b[0]+":"+I;
console.log(u);this.$M("rename",u)}.bind(this))}else if(J[0]==2){this.TW(3)}else if(J[0]==3)this.acL();
else if(J[0]==4){this.TW(1)}else{var l=this.QC[this.TF()[0]],i=Storage.KS(l),F=i[J[1]],k=F[0],U=this.AV().pop()[1];
if(Storage.a4w(l,k)!=-1){this.$M("share",U+":"+k+":-1");alert("Unshared.")}else{this.$M("share",U+":"+k+":"+J[2]);
alert("Shared.")}}}};Storage.a4w=function(x,J){var o=x[4];if(o==null)return-1;if(o.indexOf(J+":0")!=-1)return 0;
if(o.indexOf(J+":1")!=-1)return 1;return-1};Storage.prototype.acL=function(){var x=this.TF();this.Tq("Do you really want to delete "+(x.length==1?"\""+this.QC[x[0]][0]+"\"":"these files")+"?",this.vk.bind(this))};
Storage.prototype.Tq=function(x,J){var o={d:L.H.yI,AN:"confirm",b:x,sA:J};this.wC(o)};Storage.prototype.TW=function(x){this.uR=x;
if(1<x)this.wC({d:L.H.oa,mC:h9.get("Downloading ...")});else this.wC({d:L.H.oa,mC:h9.get("Getting info ...")});
aL.KU(0,this.Lq,this.Tf(),this.AV(!0),this.ahA.bind(this))};Storage.prototype.ahA=function(x){if(this.uR==1){var J=0,o=0;
for(var c in x){var E=x[c];J+=E[1];o++}this.Tq(o+" files, "+g8.if(J)+" in total.",function(){});this.wC({d:L.H.Ew,mC:h9.get("Getting info ...")});
this.uR=0}if(1<this.uR)aL.KU(1,this.Lq,x,null,this.aaT.bind(this))};Storage.prototype.aaT=function(x){if(1<this.uR){if(1<this.uR)this.wC({d:L.H.Ew,mC:h9.get("Downloading ...")});
var J={},o=this.Tf(!0);for(var c in x)J[c.slice(o.length)]=x[c];if(this.uR==2){Storage.MW=J;alert("Copied to a clipboard")}if(this.uR==3){var E=Object.keys(x);
if(E.length==1)bB.save(x[E[0]].buffer,E[0].split("/").pop());else bB.save(UZIP.encode(J),o=="/"?"files.zip":this.Tf().split("/").pop()+".zip")}}this.uR=0};
Storage.MW=null;Storage.prototype.vk=function(){this.wC({d:L.H.oa,mC:h9.get([5,4])+" ..."});this.jl=this.AV();
this.Yi()};Storage.prototype.Yi=function(){if(this.jl.length==0){this.wC({d:L.H.Ew,mC:h9.get([5,4])+" ..."});
this.gS([]);this.Yh()}else this.$M("delete",this.jl.pop()[1])};Storage.prototype.AV=function(x){var J=[],o=this.Tf(!0),c=this.TF();
for(var $=0;$<c.length;$++){var E=this.QC[c[$]];if(x)J.push(E[0]);else J.push([this.LN,o+E[0]])}return J};
Storage.prototype.$M=function(x,J){p.na(this.n,"disabled");this.a2b=x;if(Storage.x3)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+x+"\", \"prm\": "+JSON.stringify(J)+"  }");
this.Lq.contentWindow.postMessage("{\"code\": \""+x+"\", \"prm\": "+JSON.stringify(J)+"  }","*")};Storage.prototype.ash=function(x){if(x.source!=this.Lq.contentWindow||this.uR!=0)return;
p.ml(this.n,"disabled");if(typeof x.data=="string"){if(Storage.x3)console.log("==",Math.floor(Date.now()/1e3),x.data);
var J=JSON.parse(x.data),o=J.code,c=J.prm,E=this.a2b,b=Storage.list[this.LN][3];if(o=="ready"){if(b&&!c){var l=j4.c6();
console.log(l);var i=j4.f7(),F=i.acc;if(l==null){this.v$=1;alert("Log in to use this storage (press Account at the top).");
this.IC();return}var k=[],U=l.wantToJoin;for(var I in U)k.push(parseInt(I.slice(1)));var V=[],u=l.inTeams;
for(var $=0;$<u.length;$++)V.push(u[$][2]);var N={uid:l.id,limit:Storage.a52[j4.I4()?1:0],inTeams:V,myTeams:k};
N.secret=F&&F.pds?F.pds:"";this.$M("login",N);return}if(b)this.v$=2;if(b&&J.secret){var i=j4.f7(),F=i.acc;
if(F==null)F=i.acc={};F.pds=J.secret;j4.T9(i)}if(c)this.Yh();else this.IC()}else if(o!="0"){if(E=="save")this.wC({d:L.H.Ew,mC:h9.get([1,2])+" ..."});
if(E=="delete")this.Yi();alert(c);this.A1()}else if(E=="show"){this.iC=0;this.QC=c;this.A1()}else if(E=="save"){this.iC=0;
this.wC({d:L.H.Ew,mC:h9.get([1,2])+" ..."});this.Yh()}else if(E=="delete"){this.Yi()}else if(E=="forget"){if(b)this.IC();
else this.aK()}else if(E=="rename"||E=="share"){this.Yh()}else throw o}else{if(Storage.x3)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.wC({d:L.H.a9h,gf:this.AV()[0],kC:x.data});this.wC({d:L.H.Ew,mC:"Opening ..."})}};Storage.prototype.IC=function(){p.LX(this.ky);
p.LX(this.Jp);p.LX(this.J3);this.Jp.appendChild(this.axn)};Storage.prototype.aqM=function($){if($==0)return this.qK>0;
if($==1)return this.qK<this.uI.length-1;if($==2)return this.Tf()!="/"};Storage.prototype.A1=function(){var x=Storage.list[this.LN][3],J=this.QC,o=Storage.qc,c=Storage.En,E=Storage.rd;
if(J==null)return;J.sort(function(K,f){var m=K[1]==-1?1:5,C=f[1]==-1?1:5,Z=0;if(Math.min(m,C)==1&&m!=C)return m-C;
else if(m==1||o==0)Z=K[0].toLowerCase()<f[0].toLowerCase()?-1:1;else if(o==1)Z=K[1]-f[1];else if(o==2)Z=K[2]-f[2];
if(c==1)Z=-Z;if(K[0]=="Shared")Z=-1;if(f[0]=="Shared")Z=1;return Z});var b=this.Jp,l=this.ky,i=this.uI[this.qK];
p.LX(b);p.LX(l);this.JL=[];for(var $=0;$<3;$++)if(this.aqM($))p.ml(this.Wk[$],"disabled");else p.na(this.Wk[$],"disabled");
l.appendChild(this.aqY);l.appendChild(this.ez);var F=p.i("span");F.textContent="/";l.appendChild(F);
for(var $=0;$<i.length;$++){var F=p.i("span");F.textContent=i[$];l.appendChild(F);var F=p.i("span");
F.textContent="/";l.appendChild(F)}var k=["tile","icon","litm"][E];for(var $=0;$<J.length;$++){var U=J[$],I=U[1]==-1,V=I?"":g8.if(U[1]),u=p.i("div","cont "+k),y=!1;
b.appendChild(u);this.JL.push(u);u.setAttribute("title",U[0]+(I?"":"\nSize: "+V+"\nDate Modified: "+new Date(U[2]*1e3).toLocaleString().replaceAll(". ",".")));
var N=p.i("img");N.setAttribute("src",I?Storage.au6:U[3]?U[3]:Storage.wM);if(!I&&U[3])N.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var e=p.i("span","name"),B=U[0];if(k=="icon"&&B.length>30)B=B.slice(0,24)+".."+B.slice(B.length-5);if(x&&i.length==1&&i[0]=="Shared"){var j=Storage.KS(),T=parseInt(B.slice(5));
for(var a=0;a<j.length;a++)if(j[a][0]==T)B=j[a][1]}e.textContent=B;u.appendChild(N);u.appendChild(e);
if(k!="icon"&&!I){if(k=="tile")p.UF(e);var P=p.i("span");P.textContent=V;P.style.opacity="0.8";(k=="tile"?e:u).appendChild(P)}var v=U[0].split("."),R=(v.length==1?"":v.pop()).toUpperCase();
if(x&&U[0]=="Shared"&&i.length==0){y=!0;R="\u21E7"}if(k!="litm"&&(!I&&U[3]==null||y)){var t=p.i("span","ext");
t.textContent=R;var g=Storage.Kq[R];t.style.backgroundColor=g?g:Storage.aiO(R);u.appendChild(t)}p.Ra(u,this.Jb);
u.addEventListener("contextmenu",this.Jb)}this.C3();var H=this._B.parentNode!=null,_=Storage.mn,Y=this.n;
if(H&&_==0)Y.removeChild(this._B);if(!H&&_==1)Y.appendChild(this._B);this.ip(this.Qh,this.ao);this._()};
Storage.prototype.C3=function(x){var J=this.JL,o=this.QC,c=this.TF(),E=!1,b=0;for(var $=0;$<J.length;
$++){var l=o[$],i=l[1]==-1,F=J[$];if(Storage.mn==1&&!i&&!l[0].toLowerCase().endsWith(".psd"))F.style.display="none";
else F.style.display="auto";if(c.indexOf($)==-1)p.ml(F,"active");else{if(i)E=!0;else b+=l[1];p.na(F,"active");
if(x)F.scrollIntoView({block:"center",behavior:"smooth"})}}var k=E?"":g8.if(b);this.J3.textContent=c.length==0?"":c.length+" item"+(c.length==1?"":"s")+" selected\u2001"+k;
this.pR.value=c.length==1&&!E?o[c[0]][0]:Storage.a0K};Storage.prototype.alp=function($){var x=this.QC[$];
if(x[1]==-1){var J=this.uI[this.qK].slice(0);J.push(x[0]);this.qK++;this.uI[this.qK]=J;this.uI=this.uI.slice(0,this.qK+1);
this.gS([]);this.Yh()}else if(Storage.mn==0){this.wC({d:L.H.oa,mC:"Opening ..."});this.c(new ko("canclose",!0));
var o=this.Tf(!0)+x[0];this.$M("load",o)}};Storage.prototype._=function(){var x=Storage.qc,J=Storage.En,o=Storage.rd;
this.ub[0].textContent="Upload";this.ub[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][J];this.ub[2].textContent=h9.get([[12,48],[12,14,0],"Date"][x]);
this.ub[3].textContent=h9.get(["Tiles","Icons",[25,3,1]][o]);this.ub[4].textContent="\u2716";this.Fd.innerHTML=h9.get([[23,6],Storage.list[this.LN][0]])+"<br/><small><small>"+Storage.list[this.LN][4]+"</small></small>";
this.DL()};Storage.prototype.aqj=function(x){this.wC({d:L.H.i0});if(p.j5(this.axn))return;if(x.button==3||x.button==4){if(Date.now()-this.aqr>50){var J=this.qK;
if(x.button==3)this.qK=Math.max(J-1,0);else this.qK=Math.min(J+1,this.uI.length-1);this.Yh()}this.aqr=Date.now();
return}x.stopPropagation();var $=this.JL.indexOf(x.currentTarget);if(x.type=="contextmenu"){if(this.QC==null)return;
x.preventDefault();var o=this.Cm;if($!=-1){var c=[{name:[5,1],l1:[dG._k,dG.uA]},{name:[6,37]},{name:"Download",U7:!0},{name:[5,4],l1:[dG.OT]},{name:[9,2]}];
if(Storage.list[this.LN][3]){var E=this.QC[$],b=Storage.KS(E);if(b.length!=0){var l=[];for(var i=0;i<b.length;
i++){var F=[],k=b[i],U=Storage.a4w(E,k[0]);if(U!=-1)F.push({name:"Unshare"});else F.push({name:"Allow Read"},{name:"Allow Read & Write"});
l.push({name:k[1]+[""," (R)"," (R,W)"][U+1],sub:F})}c.push({name:"Share With",sub:l})}}o=new iy(c);o.parent=this;
o.k("select",this.y6,this)}o.parent=this;o._();o.update();this.wC({d:L.H.c4,BM:o,x:x.clientX+4,y:x.clientY});
return}var I=this.TF(),V=I.indexOf($);if(x.button!=0&&V!=-1)return;if(x.target==this.Jp)this.gS([]);
else{if(x.ctrlKey){if(V==-1)I.push($);else I.splice(V,1)}else if(x.shiftKey&&I.length!=0){var i=I[0];
if(i<$){var u=$;$=i;i=u}I=[];this.gS(I);for(var N=$;N<=i;N++)I.push(N)}else{this.gS([$]);if(Date.now()-this.im<300&&I.length!=0&&I[0]==$){this.alp($);
this.im=0}}}this.im=Date.now();this.C3()};Storage.prototype.wC=function(x){var J=new ko(L.E.N,!0);J.data=x;
this.c(J)};Storage.KS=function(x){var J=[],o=[],c=j4.f7(),E=c.acc.tstart;if(E)for(var $=0;$<E.length;
$++){J.push([E[$][2],E[$][0]]);o.push(E[$][2])}var b=j4.c6();E=b.inTeams;if(E)for(var $=0;$<E.length;
$++){J.push([E[$][2],E[$][0]]);o.push(E[$][2])}if(x&&x[4]){for(var $=0;$<x[4].length;$++){var l=parseInt(x[4][$].split(":")[0]);
if(o.indexOf(l)==-1)J.push([l,"Team "+l])}}return J};Storage.prototype.a5d=function(x,J){if(this.iC!=0)return 1;
this.iC=2;this.wC({d:L.H.oa,mC:h9.get([1,2])+" ..."});this.$M("save",x);if(Storage.x3)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.Lq.contentWindow.postMessage(J,"*")};Storage.Kq={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.aiO=function(x){x=x.toLowerCase();
var J=0;for(var $=0;$<x.length;$++)J+=x.charCodeAt($)*613<<8*$;return"#"+q.uW(J&16777215)};Storage.au6="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.wM="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var aL=function(){var x,J,o,c,E,b,l,i;function F(u,N,e,B,j){J=N;c=B;l=j;x=u;b={};if(x==0){o=[e]}if(x==1){o=[];
for(var T in e)o.push(T)}if(x==2){var a=e[0],P=e[1],v=e[2],R={};for(var $=0;$<v.length;$++)R[v[$][0]]=!0;
var y={};for(var T in P){var t=T.split("/"),g=t[0],H=g.split("."),_="";if(H.length!=1){_="."+H.pop();
g=H.join(".")}while(R[g+_])g+=" - Copy";t[0]=g+_;y[t.join("/")]=P[T]}var Y={};o=[];for(var T in y){var t=T.split("/");
for(var $=0;$<t.length-1;$++){var K=a+t.slice(0,$+1).join("/")+"/";if(Y[K]==null){Y[K]=!0;o.push([K])}}var f=a.endsWith("/")||T.startsWith("/")?"":"/";
o.push([a+f+T,y[T]])}}window.addEventListener("message",U,!1);i=Date.now();k()}function k(){if(o.length==0){V();
return}E=o.shift();if(x==0)I("show",E);if(x==1)I("load",E);if(x==2){I("save",E[0]);if(E.length==2)J.contentWindow.postMessage(E[1],"*")}}function U(u){if(u.source!=J.contentWindow)return;
if(x==0){var N=JSON.parse(u.data),e=N.code,B=N.prm;for(var $=0;$<B.length;$++){var j=B[$];if(c&&c.indexOf(j[0])==-1)continue;
var T=E+(E=="/"?"":"/"),a=T+j[0];if(j[1]==-1)o.push(a);else b[a]=j}c=null}else if(x==1){b[E]=new Uint8Array(u.data)}k()}function I(u,N){var e=u=="show"?", \"nothumbs\": true":"",B="{\"code\": \""+u+"\", \"prm\": "+JSON.stringify(N)+e+"  }";
J.contentWindow.postMessage(B,"*")}function V(){console.log(Date.now()-i);window.removeEventListener("message",U,!1);
l(b)}return{KU:F}}();function jc(x){gB.call(this);var J=this.n=p.i("div","form scrollable padded label12");
this.Xa=x;this.b1=null;var o=[],c=jc.OM[x];this.V1=[];for(var E in c){var b=parseInt(E.slice(1)),l=b%10==0?"":"\u2800\u2800- ";
o.push(l+c[E]);this.V1.push(b)}this.g4=[new cA("Name",null,30),new cA("Description",null,30,4),x==0?new cA("File"," www.Photopea.com#i...",17):new b9("File",!1,!1),new cA("Thumbnail URL","* Use Imgur.com etc.",17),new i3("Category",o),new j8("Make Public"),new eH("<< Back",null,null,!0),new eH("Save",null,null,!0)];
if(x==0)this.g4.push(new dr("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new dr("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(x==1)this.g4.push(new dr("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(x!=0)this.g4.push(new dr("Do not load any file to preserve the old version."));for(var $=0;$<this.g4.length;
$++){var i=this.g4[$];J.appendChild(i.n);i.parent=this;if($!=4&&$!=6)p.UF(J);if(i instanceof eH)i.k("click",this.a3I,this);
if(x!=0&&$==2)i.k(L.E.A,this.ahJ,this)}}jc.prototype=new gB;jc.prototype.ahJ=function(x){var J=this.g4[2],o=J.h(),c=Object.keys(o),E=o[c[0]].buffer,b=hR.M1(E),l=" json atn abr grd asl pat csh icc".split(" ")[this.Xa];
if(b!=l){alert("This is a wrong file"+(b?" ("+b.toUpperCase()+")":"")+". You need to upload the "+l.toUpperCase()+" file.");
J.w({})}};jc.prototype.a3I=function(x){if(x.target==this.g4[6]){this.c(new ko("back"));return}var J=this.g4[3].h().trim(),o=J.startsWith("http")&&(J.endsWith(".jpeg")||J.endsWith(".jpg")||J.endsWith(".png")||J.endsWith(".gif"));
if(!o){alert("Thumbnail URL is incorrect.");return}var c=new XMLHttpRequest,E="mirror.php?url="+encodeURIComponent(J);
c.open("GET",E);c.responseType="arraybuffer";c.onload=this.adY.bind(this);c.send()};jc.prototype.adY=function(x){var J=x.target.response,o=J.byteLength;
if(o>2e5&&hR.M1(J)!="gif"){alert("Thumbnail is too large ("+g8.if(o)+"). Make it under 200 kB.");return}var c=this.g4[2].h(),E=Object.keys(c);
if(this.Xa!=0&&E.length==0&&(this.b1==null||this.b1.file==null||this.b1.file=="")){alert("You need to select a file.");
return}if(this.Xa!=0&&E.length!=0){console.log(c);bB.KW.aia(c[E[0]].buffer,E[0],this.anq.bind(this),"pp-resources");
return}this.anq()};jc.prototype.anq=function(x){var J=this.Xa,o="name desc file thmb catg publ".split(" "),c=this.b1;
for(var $=0;$<6;$++){if(J!=0&&$==2)continue;var E=this.g4[$].h();if($<=3){E=E.trim();if(E.length==0){alert("One of values is empty.");
return}}if($==2){var b=E.split("#i");if(b.length!=2||b[1].length!=8){alert("File ID is incorrect.");
return}E=b.pop()}if($==4)E=this.V1[E];c[o[$]]=E}if(J!=0){if(x)c.file=x;else if(c.file==null){alert("Select a file from your computer.");
return}}if(c.utme.length==0)c.utme=""+Math.round(Date.now()/1e3);c.type=J;this.c(new ko("save"))};jc.prototype._=function(){};
jc.prototype.w=function(x){var J=this.b1=JSON.parse(JSON.stringify(x)),o=this.Xa,c="name desc file thmb catg publ".split(" ");
for(var $=0;$<6;$++){if(o!=0&&$==2)continue;var E=J[c[$]];if(E!=""&&$==2)E="https://photopea.com#i"+E;
if($==4)E=this.V1.indexOf(E);if($==5&&E==null)E=!0;this.g4[$].w(E)}};jc.prototype.h=function(){return JSON.parse(JSON.stringify(this.b1))};
jc.OM=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function jM(x){gB.call(this);this.yZ=x;this.n=p.i("div","");this.Gb=[];this.Dg=null;this.arE=[]}jM.prototype=new gB;
jM.prototype.IE=function(x){};jM.prototype.CA=function(){return!1};jM.prototype.ip=function(x,J){};jM.prototype.DL=function(x,J){};
jM.prototype.RY=function(x){};jM.prototype.w=function(x,J,o,c,E,b){var l=[],i=this.Gb,F=0,k=fn.sR["s"+this.yZ];
if(this.yZ=="Dspl")this.vv(x,l,b);else k?k(x,l,b):this.vv(x,l,b);for(var $=0;$<i.length;$++)if(!(i[$]instanceof dr))i[$].w(l[F++]);
if(x.RndS)this.Dg=x.RndS.v};jM.prototype.h=function(){var x=fn.Bt(this.yZ),J=[],o=this.Gb,c=0;for(var $=0;
$<o.length;$++)if(!(o[$]instanceof dr))J[c++]=o[$].h();var E=fn.sR["g"+this.yZ];if(this.yZ=="Dspl")this.p$(x,J);
else E?E(x,J):this.p$(x,J);if(x.RndS)x.RndS.v=this.Dg;return x};jM.prototype.B3=function(x){};jM.prototype.LJ=function(x){if(x&&x.target instanceof eH){this.Dg=Math.floor(Math.random()*4294967295)}var J=this.arE;
for(var $=0;$<J.length;$+=2){var o=this.Gb[J[$]],c=this.Gb[J[$+1]],E=o.h(),b=c.h();if(x.target==o)c.w(Math.max(E,b));
else o.w(Math.min(E,b))}this.c(new ko(L.E.A))};jM.prototype._=function(){for(var $=0;$<this.Gb.length;
$++)this.Gb[$]._();var x=this.asn;if(x)x._()};jM.prototype.Rc=function(x){p.na(this.n,"form");var J=this.Gb;
for(var $=0;$<J.length;$++){var o=J[$];o.parent=this;o.k(L.E.A,this.LJ,this);this.n.appendChild(o.n);
if(o instanceof j8&&J[$+1]instanceof cp)continue;if(x&&x.indexOf($)!=-1)p.bN(this.n);else p.UF(this.n)}var c=fn.Bt(this.yZ);
if(c.RndS){var E=this.asn=new eH([25,1,2],null,null,!0);this.n.appendChild(E.n);E.k("click",this.LJ,this)}};
jM.prototype.f3=function(x){return!1};jM.prototype.XH=function(){return!1};jM.prototype.JC=function(x,J,o,c,E){};
jM.prototype.OC=function(x,J,o,c,E){};jM.prototype.w7=function(x,J,o,c,E){};jM.prototype.p$=function(x,J){};
jM.prototype.vv=function(x,J){};jM.prototype.u1=function(x){var J=x.target.h().indexOf(!0)!=-1,o=new ko(L.E.N,!0);
o.A8=!0;o.data={d:J?L.H.zq:L.H.HA,v:n.Z$};this.c(o);o=new ko(L.E.f,!0);o.v=n.Z$;o.A8=!0;o.data={d:"supertool",v:J?this:null};
this.c(o)};jM.aBG=function(x){x.XH=function(){return!0};x.JC=function(J,o,c,E,b){this.oi=!0;this.avo(J,b)};
x.OC=function(J,o,c,E,b){if(!this.oi)return;this.avo(J,b)};x.w7=function(J,o,c,E,b){this.oi=!1};x.avo=function(J,o){var c=new ha(0,0,J.m,J.e);
if(J.u)c=J.u.rect;var E=J.Q.Vx(o.x,o.y);E.x-=c.x;E.y-=c.y;function b(l,i){return Math.round(Math.max(0,Math.min(100,100*l/i)))}this.Gb[2].w(b(E.x,c.m));
this.Gb[3].w(b(E.y,c.e));this.LJ()}};jM.Bokh=function(){jM.call(this,"Bokh");this.Gb=[new i3("Depth Map",["A","b"]),new fb("Focal Distance",0,255),new j8([4,11]),new i3([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new fb([12,56],0,100),new fb([12,15],0,360),new fb([12,2],0,100),new fb([4,13],0,255),new fb([24,6],0,100),new fW([12,58],[[12,59,0],[12,59,1]]),new j8([12,60])];
this.Rc([5,7])};jM.Bokh.prototype=new jM;jM.Bokh.prototype.vv=function(x,J,o){var c=[[22,5,0],[6,5,3],[6,2]],E=x.BkDi.v.BtDi,b=x.BkDc,l=0;
if(E=="BeIn")l=0;else if(E=="BeIt"&&b.v.BtDc=="BeCt")l=1;else if(E=="BeIt"&&b.v.BtDc=="BeCm")l=2;else l=3+b.v;
for(var $=0;$<o[1].length;$++)c.push(o[1][$].name);this.Gb[0].Ed(c,[3]);J[0]=l;J[1]=x.BkDp.v;J[2]=x.BkDs.v;
J[3]=parseInt(x.BkIs.v.BtIs.slice(3))-3;J[4]=x.BkIb.v;J[5]=x.BkIr.v;J[6]=x.BkSb.v;J[7]=x.BkSt.v;J[8]=x.BkNa.v;
J[9]=x.BkNt.v.BtNt=="BeNu"?0:1;J[10]=x.BkNm.v};jM.Bokh.prototype.p$=function(x,J){var o;if(J[0]==0){o="BeIn";
delete x.BkDc}else if(J[0]<3){o="BeIt";x.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][J[0]-1]}}}else{o="BeIa";
x.BkDc={t:"long",v:J[0]-3}}x.BkDi.v.BtDi=o;x.BkDp.v=J[1];x.BkDs.v=J[2];x.BkIs.v.BtIs="BeS"+(3+J[3]);
x.BkIb.v=J[4];x.BkIr.v=J[5];x.BkSb.v=J[6];x.BkSt.v=J[7];x.BkNa.v=J[8];x.BkNt.v.BtNt=["BeNu","BeNg"][J[9]];
x.BkNm.v=J[10]};jM.oilPaint=function(){jM.call(this,"oilPaint");this.Gb=[new fb([12,56],.1,10,"px",!0),new fb("Cleanliness",0,10,"px",!0),new fb([12,38],.1,10,null,!0),new fb("Bristle Detail",0,10,null,!0),new j8("Lighting"),new fb("Shine",0,10,null,!0),new gL([12,15])];
this.Rc()};jM.oilPaint.prototype=new jM;jM.oilPaint.prototype.vv=function(x,J){var o="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var $=0;$<o.length;$++)J[$]=x[o[$]].v;J[6]=[x.LghD.v]};jM.oilPaint.prototype.p$=function(x,J){var o="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var $=0;$<o.length;$++)x[o[$]].v=J[$];x.LghD.v=J[6][0]};jM.TrcC=function(){jM.call(this,"TrcC");
this.Gb=[new fb("Level",0,255),new fW([12,69],[[19,4,1],[19,4,0]])];this.Rc()};jM.TrcC.prototype=new jM;
jM.TrcC.prototype.vv=function(x,J){J[0]=x.Lvl.v;J[1]=["Lwr","Upr"].indexOf(x.Edg.v.CntE)};jM.TrcC.prototype.p$=function(x,J){x.Lvl.v=J[0];
x.Edg.v.CntE=["Lwr","Upr"][J[1]]};jM["Dfs "]=function(){jM.call(this,"Dfs ");this.Gb=[new fW([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Rc()};jM["Dfs "].prototype=new jM;jM["Dfs "].prototype.vv=function(x,J){J[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(x.Md.v.DfsM)};
jM["Dfs "].prototype.p$=function(x,J){x.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][J[0]]};jM.Embs=function(){jM.call(this,"Embs");
this.Gb=[new gL([12,15]),new fb([12,42],1,100,"px"),new fb([12,57],1,500,"%")];this.Rc()};jM.Embs.prototype=new jM;
jM.Embs.prototype.vv=function(x,J){J[0]=[x.Angl.v];J[1]=x.Hght.v;J[2]=x.Amnt.v};jM.Embs.prototype.p$=function(x,J){x.Angl.v=J[0][0];
x.Hght.v=J[1];x.Amnt.v=J[2]};jM["Wnd "]=function(){jM.call(this,"Wnd ");this.Gb=[new fW([12,32],["Wind","Blast","Stagger"]),new fW([12,33],["From the Right","From the Left"])];
this.Rc()};jM["Wnd "].prototype=new jM;jM["Wnd "].prototype.vv=function(x,J){J[0]=["Wnd","Blst","Stgr"].indexOf(x.WndM.v.WndM);
J[1]=["Left","Rght"].indexOf(x.Drct.v.Drct)};jM["Wnd "].prototype.p$=function(x,J){x.WndM.v.WndM=["Wnd","Blst","Stgr"][J[0]];
x.Drct.v.Drct=["Left","Rght"][J[1]]};jM.denoise=function(){jM.call(this,"denoise");this.Gb=[new fb([12,64],0,10),new fb([12,65],0,100,"%")];
this.Rc()};jM.denoise.prototype=new jM;jM.denoise.prototype.vv=function(x,J){var o=x.channelDenoise.v[0].v;
J[0]=o.Amnt.v;J[1]=o.EdgF.v};jM.denoise.prototype.p$=function(x,J){var o=x.channelDenoise.v[0].v;o.Amnt.v=J[0];
o.EdgF.v=J[1]};jM.lightFilterGradient=function(){jM.call(this,"lightFilterGradient");this.Gb=[new fb([24,3,1],0,100,"px",1,!0),new fb([12,38],0,200,"%"),new j8([4,11]),new fb("High",0,100,"%"),new fb("Medium",0,100,"%"),new fb("Low",0,100,"%")];
this.Rc()};jM.lightFilterGradient.prototype=new jM;jM.lightFilterGradient.prototype.vv=function(x,J){J[0]=x.blur.v;
J[1]=x.textureScale.v*100;J[2]=x.Scl.v==-1;var o=x.Dtl.v;J[3]=o[0].v*100;J[4]=o[1].v*100;J[5]=o[2].v*100};
jM.lightFilterGradient.prototype.p$=function(x,J){x.blur.v=J[0];x.textureScale.v=J[1]/100;x.Scl.v=J[2]?-1:1;
var o=x.Dtl.v;o[0].v=J[3]/100;o[1].v=J[4]/100;o[2].v=J[5]/100};jM.Fbrs=function(){jM.call(this,"Fbrs");
this.Gb=[new fb("Variance",1,64),new fb([12,64],1,64)];this.Rc()};jM.Fbrs.prototype=new jM;jM.Fbrs.prototype.vv=function(x,J){J[0]=x.Vrnc.v;
J[1]=x.Strg.v};jM.Fbrs.prototype.p$=function(x,J){x.Vrnc.v=J[0];x.Strg.v=J[1]};jM.LnsF=function(){jM.call(this,"LnsF");
this.Gb=[new fb([12,2],10,300,"%"),new fW([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new fb("Position X",0,100,"%"),new fb("Position Y",0,100,"%")];
this.Rc()};jM.LnsF.prototype=new jM;jM.LnsF.prototype.vv=function(x,J){J[0]=x.Brgh.v;J[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(x.Lns.v.Lns);
var o=x.FlrC.v;J[2]=Math.round(o.Hrzn.v*100);J[3]=Math.round(o.Vrtc.v*100)};jM.LnsF.prototype.p$=function(x,J){x.Brgh.v=J[0];
x.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][J[1]];var o=x.FlrC.v;o.Hrzn.v=J[2]/100;o.Vrtc.v=J[3]/100};jM.aBG(jM.LnsF.prototype);
jM.blendOptions=function(){jM.call(this,"blendOptions");this.Gb.push(new i3([12,19,0],iP.pP,iP.QK));
this.Gb.push(new fb([12,0],0,100,"%"));this.Rc()};jM.blendOptions.prototype=new jM;jM.blendOptions.prototype.vv=function(x,J){J[0]=iP.$l.indexOf(x.Md.v.BlnM);
J[1]=x.Opct.v.val};jM.blendOptions.prototype.p$=function(x,J){x.Md.v.BlnM=iP.$l[J[0]];x.Opct.v.val=J[1]};
jM.LnCr=function(){jM.call(this,"LnCr");this.Gb=[new fb([12,57],-100,100),new fb([12,38],10,150,"%")];
this.Rc()};jM.LnCr.prototype=new jM;jM.LnCr.prototype.vv=function(x,J){J[0]=x.LnIa.v;J[1]=x.LnSi.v};
jM.LnCr.prototype.p$=function(x,J){x.LnIa.v=J[0];x.LnSi.v=J[1]};jM.adaptCorrect=function(){jM.call(this,"adaptCorrect");
var x=jQ;this.Gb=[new dr([19,6,0]),new x([12,57],0,100,"%"),new x("Tone",0,100,"%"),new x([12,56],0,200,"px"),new dr([19,6,2]),new x([12,57],0,100,"%"),new x("Tone",0,100,"%"),new x([12,56],0,200,"px"),new dr([3]),new x([13,0],-100,100)];
this.Rc([3,7])};jM.adaptCorrect.prototype=new jM;jM.adaptCorrect.prototype.vv=function(x,J){var o=x.sdwM.v;
J[0]=o.Amnt.v.val;J[1]=o.Wdth.v.val;J[2]=o.Rds.v;var o=x.hglM.v;J[3]=o.Amnt.v.val;J[4]=o.Wdth.v.val;
J[5]=o.Rds.v;J[6]=x.ClrC.v};jM.adaptCorrect.prototype.p$=function(x,J){var o=x.sdwM.v;o.Amnt.v.val=J[0];
o.Wdth.v.val=J[1];o.Rds.v=J[2];var o=x.hglM.v;o.Amnt.v.val=J[3];o.Wdth.v.val=J[4];o.Rds.v=J[5];x.ClrC.v=J[6]};
jM.Flam=function(){jM.call(this,"Flam");var x=this.Gb=[new i3([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new fb([12,80,0],20,1e3,"px"),new j8("Randomize Length"),new fb([12,41],5,600,"px"),new fb([12,15],0,360,"\xB0"),new fb("Interval",10,200,"px"),new j8("Adapt Interval for Loops"),new cp(!1),new i3([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new fb("Turbulent",0,100),new fb("Jag",0,100),new fb([12,0],0,100),new fb("Lines",2,30),new fb("Bottom",0,100),new i3([12,22],["Normal","Violent","Flat"]),new i3([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new j8("Randomize Shape"),new fb("Random Seed",0,100)];
this.Rc();var J=this.n;p.LX(J);var o=new fW(null,["Basic","Advanced"]);o.k(L.E.A,this.ai3,this);J.appendChild(o.n);
p.bN(J);var c=p.i("div"),E=p.i("div");this.a1q=[c,E];J.appendChild(c);for(var $=0;$<x.length;$++){($<9?c:E).appendChild(x[$].n);
if($==6)p.UF(c)}x[0].k(L.E.A,this.ay4,this);this.ay4()};jM.Flam.prototype=new jM;jM.Flam.prototype.ay4=function(x){var J=this.Gb,$=J[0].h();
J[1].po($!=0&&$!=5);J[2].po($!=0&&$!=5);J[4].po($!=0&&$!=5&&$!=1);J[5].po($!=0&&$!=5);J[6].po($!=0&&$!=5)};
jM.Flam.prototype.ai3=function(x){var $=x.target.h(),J=this.a1q,o=this.n;o.removeChild(J[1-$]);o.appendChild(J[$])};
jM.boxblur=function(){jM.call(this,"boxblur");this.Gb=[new fb([12,56],1,200," px")];this.Rc()};jM.boxblur.prototype=new jM;
jM.boxblur.prototype.vv=function(x,J){J[0]=x.Rds.v.val};jM.boxblur.prototype.p$=function(x,J){x.Rds.v.val=J[0]};
jM.GsnB=function(){jM.call(this,"GsnB");this.Gb=[new fb([12,56],.1,400,"px",1,!0)];this.Rc()};jM.GsnB.prototype=new jM;
jM.Dila=function(){jM.call(this,"Dila");this.Gb=[new fb([11,12,1],0,20,"px",0),new fb([12,56],0,400,"px",0,!0)];
this.Rc()};jM.Dila.prototype=new jM;jM.MtnB=function(){jM.call(this,"MtnB");this.Gb=[new gL([12,15]),new fb([12,28],1,100," px")];
this.Rc()};jM.MtnB.prototype=new jM;jM.RdlB=function(){jM.call(this,"RdlB");this.Gb=[new fb([12,57],1,100),new fW([12,36],["Spin","Zoom"]),new fb("Position X",0,100,"%"),new fb("Position Y",0,100,"%")];
this.Rc()};jM.RdlB.prototype=new jM;jM.RdlB.prototype.vv=function(x,J){J[0]=x.Amnt.v;J[1]=["Spn","Zm"].indexOf(x.BlrM.v.BlrM);
J[2]=x.Cntr.v.Hrzn.v*100;J[3]=x.Cntr.v.Vrtc.v*100};jM.RdlB.prototype.p$=function(x,J){x.Amnt.v=J[0];
x.BlrM.v.BlrM=["Spn","Zm"][J[1]];x.Cntr.v.Hrzn.v=J[2]/100;x.Cntr.v.Vrtc.v=J[3]/100};jM.aBG(jM.RdlB.prototype);
jM.Dspl=function(){jM.call(this,"Dspl");this.Gb=[new i3([6,36,3],["a","b"]),new fb([22,4,0],-100,100,"px"),new fb([22,4,1],-100,100,"px"),new i3([24,18,0],[[24,18,3],[24,18,2]])];
this.Rc()};jM.Dspl.prototype=new jM;jM.Dspl.prototype.vv=function(x,J,o){this.aD8=[];this.X9=[];var c=-1,E=o?o[0]:null;
if(E==null)E=this.anS;else this.anS=E;if(E)for(var $=0;$<E.length;$++){var b=E[$];this.aD8.push(b.C0.trim());
this.X9.push(b.UU);if(b.UU==x.DspF.v.pth)c=$}this.Gb[0].Ed(this.aD8);J[0]=c==-1?0:c;J[1]=x.HrzS.v;J[2]=x.VrtS.v;
J[3]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)};jM.Dspl.prototype.p$=function(x,J){var o=this.anS;if(this.X9.length==0)return;
x.DspF.v.pth=this.X9[J[0]];x.HrzS.v=J[1];x.VrtS.v=J[2];x.UndA.v.UndA=["WrpA","RptE"][J[3]];var c=o[J[0]];
c.or();var E=c.pH[1],b=E.m,l=E.e,i=q.R(E.P());q.Sk(c.pH[0],i);var F=[b&255,b>>>8,0,0,l&255,l>>>8,0,0,3,0];
for(var k=0;k<2;k++)for(var $=0;$<i.length;$++)F.push(i[$]);for(var $=0;$<1e3;$++)F.push(0);x.DspD={t:"tdta",v:F};
x.EmbF={t:"bool",v:!0}};jM.Pnch=function(){jM.call(this,"Pnch");this.Gb=[new fb([12,57],-100,100,"%")];
this.Rc()};jM.Pnch.prototype=new jM;jM["Plr "]=function(){jM.call(this,"Plr ");this.Gb=[new fW(null,["Rect to Polar","Polar to Rect"])];
this.Rc()};jM["Plr "].prototype=new jM;jM.Rple=function(){jM.call(this,"Rple");this.Gb=[new fb([12,57],-999,999),new i3([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.Rc()};jM.Rple.prototype=new jM;jM["Shr "]=function(){jM.call(this,"Shr ");this.Gb=[new bu(!0,!0),new i3([24,18,0],[[24,18,3],[24,18,2]])];
this.Rc()};jM["Shr "].prototype=new jM;jM["Shr "].prototype.vv=function(x,J){var o=new cW(0,255/127,255/127,0,-2,128),c=JSON.parse(JSON.stringify(x.ShrP.v));
q._8.M(c,o);J[0]=c;J[1]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)};jM["Shr "].prototype.p$=function(x,J){var o=new cW(0,255/127,255/127,0,-2,128);
o.Mr();q._8.M(J[0],o);x.ShrP.v=J[0];x.ShrE.v=J[0].length-1;x.UndA.v.UndA=["WrpA","RptE"][J[1]]};jM.Sphr=function(){jM.call(this,"Sphr");
this.Gb=[new fb([12,57],-100,100),new i3([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Rc()};jM.Sphr.prototype=new jM;
jM.Sphr.prototype.vv=function(x,J){J[0]=x.Amnt.v;J[1]=["Nrml","HrzO","VrtO"].indexOf(x.SphM.v.SphM)};
jM.Sphr.prototype.p$=function(x,J){x.Amnt.v=J[0];x.SphM.v.SphM=["Nrml","HrzO","VrtO"][J[1]]};jM.Dthr=function(){jM.call(this,"Dthr");
this.Gb=[new i3("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new fW("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Rc()};jM.Dthr.prototype=new jM;jM.Dthr.prototype.vv=function(x,J){J[0]=x.Plte.v;J[1]=x.Mthd?x.Mthd.v:1};
jM.Dthr.prototype.p$=function(x,J){x.Plte.v=J[0];x.Mthd.v=J[1]};jM.Part=function(){jM.call(this,"Part");
this.Gb=[new fb([15,5,1],0,100,"%"),new fb([12,14,0],1,50,"px"),new fb([12,34],0,100,"%"),new fb([12,2],10,1e3,"%"),new cp(!0),new fb("Time",0,1,null,3),new fb("Turbulence",0,100,"%"),new j8("Blink"),new j8("Fall")];
this.Rc([4])};jM.Part.prototype=new jM;jM.Part.prototype.vv=function(x,J){J[0]=x.Cont.v;J[1]=x.Size.v;
J[2]=x.Dpth.v;J[3]=x.Brgh.v;J[4]=x.Clr.v;J[5]=x.Time.v;J[6]=x.Turb.v;J[7]=x.Blnk.v;J[8]=x.Fall.v};jM.Part.prototype.p$=function(x,J){x.Cont.v=J[0];
x.Size.v=J[1];x.Dpth.v=J[2];x.Brgh.v=J[3];x.Clr.v=J[4];x.Time.v=J[5];x.Turb.v=J[6];x.Blnk.v=J[7];x.Fall.v=J[8]};
jM.Twrl=function(){jM.call(this,"Twrl");this.Gb=[new fb([12,15],-999,999)];this.Rc()};jM.Twrl.prototype=new jM;
jM.Wave=function(){jM.call(this,"Wave");this.arE=[1,2,3,4];this.Gb=[new fb("Number of Generators",1,100),new jQ("Min Length",1,999),new jQ("Max Length",1,999),new jQ("Min Ampl.",1,999),new jQ("Max Ampl.",1,999),new jQ("Scale X",1,100,"%"),new jQ("Scale Y",1,100,"%"),new fW([12,44],["Sine","Triangle",[12,93,3]]),new i3([24,18,0],[[24,18,3],[24,18,2]])];
this.Rc()};jM.Wave.prototype=new jM;jM.ZgZg=function(){jM.call(this,"ZgZg");this.Gb=[new fb([12,57],-100,100),new fb("Ridges",0,20),new i3([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Rc()};jM.ZgZg.prototype=new jM;jM.surfaceBlur=function(){jM.call(this,"surfaceBlur");this.Gb=[new fb([12,56],1,200," px"),new fb([4,13],1,255," px")];
this.Rc()};jM.surfaceBlur.prototype=new jM;jM.surfaceBlur.prototype.vv=function(x,J){J[0]=x.Rds.v.val;
J[1]=x.Thsh.v};jM.surfaceBlur.prototype.p$=function(x,J){x.Rds.v.val=J[0];x.Thsh.v=J[1]};jM.AdNs=function(){jM.call(this,"AdNs");
this.Gb=[new fb([12,57],0,200," %"),new i3([12,58],[[12,59,1],[12,59,0]]),new j8([12,60])];this.Rc()};
jM.AdNs.prototype=new jM;jM.DstS=function(){jM.call(this,"DstS");this.Gb=[new fb([12,56],1,200," px"),new fb([4,13],1,255," px")];
this.Rc()};jM.DstS.prototype=new jM;jM["Mdn "]=function(){jM.call(this,"Mdn ");this.Gb=[new fb([12,56],1,200," px")];
this.Rc()};jM["Mdn "].prototype=new jM;jM["Mdn "].prototype.vv=function(x,J){J[0]=x.Rds.v.val};jM["Mdn "].prototype.p$=function(x,J){x.Rds.v.val=J[0]};
jM.ClrH=function(){jM.call(this,"ClrH");this.Gb=[new fb([12,56],4,100," px")];for(var $=1;$<4;$++)this.Gb.push(new fb("Angle "+$,0,90," \xB0"));
this.Rc()};jM.ClrH.prototype=new jM;jM.ClrH.prototype.vv=function(x,J){J[0]=x.Rds.v;for(var $=1;$<4;
$++)J[$]=x["Ang"+$].v};jM.ClrH.prototype.p$=function(x,J){x.Rds.v=J[0];for(var $=1;$<4;$++)x["Ang"+$].v=J[$]};
jM.ClrH.prototype._=function(){var x=this.Gb;x[0]._();for(var $=1;$<4;$++)x[$].bo(h9.get([12,15])+" "+$)};
jM.Crst=function(){jM.call(this,"Crst");this.Gb=[new fb([12,61],3,100," px")];this.Rc()};jM.Crst.prototype=new jM;
jM.Crst.prototype.vv=function(x,J){J[0]=x.ClSz.v};jM.Crst.prototype.p$=function(x,J){x.ClSz.v=J[0]};
jM.Mztn=function(){jM.call(this,"Mztn");this.Gb.push(new i3([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.X9="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Rc()};jM.Mztn.prototype=new jM;
jM.Mztn.prototype.vv=function(x,J){J[0]=this.X9.indexOf(x.MztT.v.MztT)};jM.Mztn.prototype.p$=function(x,J){x.MztT.v.MztT=this.X9[J[0]]};
jM["Msc "]=function(){jM.call(this,"Msc ");this.Gb=[new fb([12,61],2,200," px")];this.Rc()};jM["Msc "].prototype=new jM;
jM["Msc "].prototype.vv=function(x,J){J[0]=x.ClSz.v.val};jM["Msc "].prototype.p$=function(x,J){x.ClSz.v.val=J[0]};
jM.Pntl=function(){jM.call(this,"Pntl");this.Gb=[new fb([12,61],3,100," px")];this.Rc()};jM.Pntl.prototype=new jM;
jM.Pntl.prototype.vv=function(x,J){J[0]=x.ClSz.v};jM.Pntl.prototype.p$=function(x,J){x.ClSz.v=J[0]};
jM.smartSharpen=function(){jM.call(this,"smartSharpen");this.Gb=[new fb([12,57],1,200,"%"),new fb([12,56],0,200,"px",1,!0)];
this.Rc()};jM.smartSharpen.prototype=new jM;jM.smartSharpen.prototype.vv=function(x,J){J[0]=x.Amnt?x.Amnt.v.val:200;
J[1]=x.Rds?x.Rds.v.val:1};jM.smartSharpen.prototype.p$=function(x,J){x.Amnt.v.val=J[0];x.Rds.v.val=J[1]};
jM.UnsM=function(){jM.call(this,"UnsM");this.Gb=[new fb([12,57],1,200," %"),new fb([12,56],.1,400,"px",1,!0),new fb([4,13],0,255," ")];
this.Rc()};jM.UnsM.prototype=new jM;jM.HghP=function(){jM.call(this,"HghP");this.Gb=[new fb([12,56],.1,400,"px",1,!0)];
this.Rc()};jM.HghP.prototype=new jM;jM.HsbP=function(){jM.call(this,"HsbP");this.Gb=[new fW("Input",["RGB","HSB","HSL"]),new fW("Output",["RGB","HSB","HSL"])];
this.Rc()};jM.HsbP.prototype=new jM;jM["Mxm "]=function(){jM.call(this,"Mxm ");this.Gb=[new fb([12,56],.1,200," px",1,!0),new i3([12,76,1],[[12,93,3],"Circle"])];
this.Rc()};jM["Mxm "].prototype=new jM;jM["Mnm "]=function(){jM.call(this,"Mnm ");this.Gb=[new fb([12,56],.1,200," px",1,!0),new i3([12,76,1],[[12,93,3],"Circle"])];
this.Rc()};jM["Mnm "].prototype=new jM;jM.Ofst=function(){jM.call(this,"Ofst");this.Gb=[new fb([22,4,0],-1024,1024," px"),new fb([22,4,1],-1024,1024," px"),new i3([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Rc()};jM.Ofst.prototype=new jM;jM.Kale=function(){jM.call(this,"Kale");this.Gb=[new jQ("Mirrors",2,20),new jQ([12,15],0,360,"\xB0")];
this.Rc()};jM.Kale.prototype=new jM;jM.Kale.prototype.vv=function(x,J){J[0]=x.Mirr.v;J[1]=x.MRot.v};
jM.Kale.prototype.p$=function(x,J){x.Mirr.v=J[0];x.MRot.v=J[1]};jM.Rept=function(){jM.call(this,"Rept");
this.Gb=[new jQ([12,38],1,300," %"),new jQ("Row Shift",-50,50," %"),new jQ("Space X",-99,200," %"),new jQ("Space Y",-99,200," %"),new j8([4,16,2]),new gL([12,15])];
this.Rc()};jM.Rept.prototype=new jM;jM.Rept.prototype.vv=function(x,J){J[0]=x.Scl.v.val;J[1]=x.Rsft.v.val;
J[2]=x.SpcX.v.val;J[3]=x.SpcY.v.val;J[4]=x.SpcC.v;J[5]=[x.Angl.v]};jM.Rept.prototype.p$=function(x,J){x.Scl.v.val=J[0];
x.Rsft.v.val=J[1];x.SpcX.v.val=J[2];x.SpcY.v.val=J[3];x.SpcC.v=J[4];x.Angl.v=J[5][0];return x};jM.Ctoa=function(){jM.call(this,"Ctoa");
this.Gb=[new dr([13,0]),new cp(!0),new fb(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new fb(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Rc()};jM.Ctoa.prototype=new jM;jM.Ctoa.prototype.vv=function(x,J){J[0]=x.Clr.v;J[1]=x.Trsp.v.val;
J[2]=x.Opct.v.val};jM.Ctoa.prototype.p$=function(x,J){x.Clr.v=J[0];x.Trsp.v.val=J[1];x.Opct.v.val=J[2]};
jM.LqFy=function(){jM.call(this,"LqFy");this.hb=!1;this.M2=!1;this.nq=null;this.aCs=null;this.v=0;this.gM=-1;
this.q={aF:[[{v:{id:0,name:[24,1,0,1,0],Ta:"liq/smudge"}}],[{v:{id:1,name:[24,1,0,1,1],Ta:"liq/reconstruct"}}],[{v:{id:2,name:[24,1,0,1,2],Ta:"liq/smooth"}}],[{v:{id:3,name:[24,1,0,1,3],Ta:"liq/twirl"}}],[{v:{id:4,name:[24,1,0,1,4],Ta:"liq/shrink"}}],[{v:{id:5,name:[24,1,0,1,5],Ta:"liq/blow"}}],[{v:{id:6,name:[24,1,0,1,6],Ta:"liq/pleft"}}],[{v:{id:7,name:"Hand",Ta:"tools/hand"}}],[{v:{id:8,name:"Zoom In",Ta:"zoomIn"}}],[{v:{id:9,name:"Zoom Out",Ta:"zoomOut"}}]],keys:[]};
this.Hc=new iV(this.q,!1);this.Hc.zb(0);this.Hc.k(L.E.N,this.vz,this);this.aL=aR.iY();this.fN=null;this.L_=[];
this.Sa=-1;this.QM=null;this.a02=null;this.RN=null;this.xT=null;this.RJ=null;var x=p.i("div","flexrow");
this.rV=x;this.n.appendChild(x);x.appendChild(this.Hc.n);this.view=new f6(!0);this.view.ip(100,100);
this.view.k("mousedown",this.eN,this);this.view.k("mousemove",this.FB,this);this.view.k("mouseup",this.cK,this);
this.view.k("zoom",this.JH,this);x.appendChild(this.view.n);var J=p.i("div","form");x.appendChild(J);
this.zG=J;J.style.width="230px";this.oX=[new fb([12,14,0],0,1e3,null,!1,!0),new fb([12,74],0,100,null,!1,!1),new fb([12,84],0,100,null,!1,!1),new j8([12,46]),new fb([12,0],0,100,null,!1,!1),new j8([24,18,5])];
var o=this.aL.Brsh.v;o.Dmtr.v.val=100;var c=[100,50,100,!1,100,!0];for(var $=0;$<this.oX.length;$++){var E=this.oX[$];
E.w(c[$]);if($==4)E.gt();E.k(L.E.A,this.ajL,this);J.appendChild(E.n)}var b=this.an$=new eH([1,12,2],!0,null,!0);
b.k("click",this.r1,this);J.appendChild(b.n);this.atk=this.V_.bind(this);this.h6=new gB;this.h6.n=p.i("div","floatcont");
this.Mx=new eH("Menu",!1,null,!0);var l=this.Mx.n;l.setAttribute("style","position:absolute; right:13px; top:47px");
p.Ra(l,this.axI.bind(this))};jM.LqFy.prototype=new jM;jM.LqFy.prototype.CA=function(){return!0};jM.LqFy.prototype.IE=function(x){this.zG.appendChild(x)};
jM.LqFy.prototype.axI=function(x){if(p.j5(this.h6.n))return;x.stopPropagation();var J=this.Mx.n.getBoundingClientRect();
this.h6.n.appendChild(this.zG);var o=new ko(L.E.N,!0);o.data={d:L.H.c4,BM:this.h6,x:J.right+J.width-290,y:J.top+J.height};
this.c(o)};jM.LqFy.prototype.B3=function(x){this.hb=x.S(dG.Zj);var J=n.mv.M4(this.aL,x);if(J!=null){this.aL=J;
this.JH();this.oX[0].w(J.Brsh.v.Dmtr.v.val)}else if(x.S(dG._k)&&x.S(dG.Mv)){var o=this.L_;if(x.S(dG.uJ)){if(this.Sa+1<o.length)this.Sa++}else if(this.Sa>0)this.Sa--;
this.fN.map=o[this.Sa].slice(0);this.A1(null)}else if(this.v<=6)this.view.B3(x);var c=this.v,E=-1,b=x.S(dG.Zj);
if(b&&this.gM==-1){if(c==0)E=1;if(c==4)E=5;if(c==5)E=4;if(E!=-1)this.gM=c}if(!b&&this.gM!=-1){E=this.gM;
this.gM=-1}if(E!=-1){this.v=E;this.Hc.zb(this.v)}};jM.LqFy.prototype.vz=function(x){if(x.data.d==L.H.zq){var J=this.v=x.data.v;
this.Hc.zb(this.v);this.view.B3(J>6?f6.cT(J-7):new dG)}};jM.LqFy.prototype.ajL=function(x){var J=x.currentTarget,$=this.oX.indexOf(J),o=this.aL.Brsh.v;
if($==0){o.Dmtr.v.val=J.h();this.JH()}this.oX[4].po(this.oX[3].h());if($>2)this.A1(null)};jM.LqFy.prototype.qJ=function(){var x=this.L_;
this.Sa++;x[this.Sa]=this.fN.map.slice(0);while(x.length>this.Sa+1)x.pop();while(x.length>50){x=x.slice(1);
this.Sa--}};jM.LqFy.prototype.eN=function(x){this.nq=this.view.eM();this.aCs=new ck(0,0);this.M2=!0;
window.requestAnimationFrame(this.atk)};jM.LqFy.prototype.FB=function(x){var J=this.view.eM(),o=new ck(J.x-this.nq.x,J.y-this.nq.y);
if(this.v==0||this.v==6)this.a6b(o);this.nq=J};jM.LqFy.prototype.cK=function(x){this.qJ();this.M2=!1};
jM.LqFy.prototype.V_=function(x){if(this.v!=0&&this.v!=6)this.a6b(new ck(0,0));if(this.M2)window.requestAnimationFrame(this.atk)};
jM.LqFy.prototype.a6b=function(x){var J=this.fN,o=J.Qh/this.QM.m,c=this.nq,E=this.aL.Brsh.v,b=E.Dmtr.v.val,l=Date.now(),i=J.Qh,F=J.ao,k=Math.sqrt(x.x*x.x+x.y*x.y),U=Math.max(1,Math.ceil(k/2)),I=x.x/U,V=x.y/U,u=c.clone(),N=this.v,e=this.oX[1].h()/100,B=this.oX[2].h()/100,j=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],T=j[N*2],a=j[N*2+1],P=(1-e)*T+e*a,v=b*o/2;
for(var $=0;$<U;$++){var R=[];u.x+=I;u.y+=V;q.$T.a6$(J.map,i,F,N,u.x*o,u.y*o,v,e,B,I*o,V*o,R,this.hb);
q.$T.ayG(i,F,J.map,R,2*P*B)}var y=new ha(0,0,i,F),t=new ha(c.x*o,c.y*o,0,0);t.wI(b*o*.5,b*o*.5);var g=t.clone();
g.offset(x.x*o,x.y*o);t=t.k7(g);var H=new ha(t.x/o,t.y/o,t.m/o,t.e/o);H=q.O.uS(H).Kc(this.QM);this.oX[5].w(!0);
this.A1(H)};jM.LqFy.prototype.JH=function(){var x=bd.kO(this.aL,null,this.view.Jw().Z);this.view.YZ(x)};
jM.LqFy.prototype.w=function(x,J,o,c,E){o=o.clone();if(J==null)return;if(!c.U5(o)){var b=o.k7(c),l=q.R(b.P()*4);
q.St(J,o,l,b);J=l;o=b;var i=q.R(b.P()*4);q.St(E,c,i,b);E=i}o.x=o.y=0;this.RN=J;this.a02=E;this.RJ=J.slice(0);
this.xT=J.slice(0);this.QM=o;this.fN=fZ.QE(new Uint8Array(x.LqMe.v).buffer);var F=o.m,k=o.e;if(this.fN.Qh/F<.22){this.fN={Qh:Math.floor(F/4),ao:Math.floor(k/4)};
this.fN.map=new Float32Array(this.fN.Qh*this.fN.ao*2)}this.L_=[];this.Sa=-1;this.qJ();this.A1(null);
this.view.pJ(!0);this.JH()};jM.LqFy.prototype.h=function(){var x=fn.Bt("LqFy"),J=new Uint8Array(fZ.gO(this.fN)),o=[];
for(var $=0;$<J.length;$++)o.push(J[$]);x.LqMe.v=o;return x};jM.LqFy.prototype.ip=function(x,J){this.Hc.ip(x,J);
var o=this.Mx.n,c=this.zG;this.rV.appendChild(c);this.rV.appendChild(o);if(x>450&&x-J>200){c.style.marginLeft="1em";
this.rV.removeChild(o);this.view.ip(x-238-45,J)}else{c.style.marginLeft="";this.rV.removeChild(c);this.view.ip(x-40,J)}};
jM.LqFy.prototype._=function(){this.Hc._();this.an$._();for(var $=0;$<this.oX.length;$++)this.oX[$]._()};
jM.LqFy.prototype.r1=function(){this.fN.map.fill(0);this.qJ();this.A1(null)};jM.LqFy.prototype.A1=function(x){var J=this.QM,o=this.RN,c=this.RJ,E=this.fN;
if(this.oX[5].h())q.$T.s9(o,this.xT,J.m,J.e,x,E.map,E.Qh,E.ao,0);else this.xT.set(o);if(this.oX[3].U9()){q.St(this.a02,J,c,J,x?x:J);
q.l.j6("norm",this.xT,J,c,J,x?x:J,this.oX[4].h()/100)}else q.N8(this.xT,c);this.view.w([{XO:J,data:c.buffer}])};
jM.GEfc=function(){jM.call(this,"GEfc");this.ee=0;this.bs=0;this.RN=null;this.RJ=null;this.QM=null;this.Vh=null;
this.b1=null;this.CC=0;this.zM=null;this.uD=null;var x=p.i("div","flexrow");this.rV=x;this.n.appendChild(x);
this.view=new f6(null);this.view.ip(100,100);x.appendChild(this.view.n);this.sr="";this.Ny=270;var J=this.ki=p.i("div","form scrollable");
x.appendChild(J);J.setAttribute("style","width:"+this.Ny+"px;");var o=this.ez=p.i("div","form");x.appendChild(o);
o.setAttribute("style","width:230px;  margin:0 10px");this.IA={};for(var c in dZ.names){var E=new jM.GEfc.DI(c);
E.parent=this;this.IA[c]=E;E.k(L.E.A,this.aw1,this)}this.DH=!0;this.Mx=new eH("Menu",null,null,!0);this.Mx.k("click",this.axf,this);
x.appendChild(this.Mx.n);this.Ka=new eH(">>",null,null,!0);this.Ka.k("click",this.axv,this);o.appendChild(this.Ka.n);
this.Rs=p.i("div");this.Rs.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
o.appendChild(this.Rs);this.SO=p.i("div");this.SO.style.minHeight="14em";this.SO.style.marginBottom="1em";
o.appendChild(this.SO);this.cd=p.i("div","lpbody scrollable");this.j8=p.i("div","lpfoot");o.appendChild(this.cd);
o.appendChild(this.j8);this.k("click",this.asM,this);this.fS=[];f8.dX([[5,3],[5,4]],this.fS,this.j8,this.tc.bind(this))};
jM.GEfc.prototype=new jM;jM.GEfc.prototype.CA=function(){return!0};jM.GEfc.prototype.IE=function(x){this.Rs.appendChild(x)};
jM.GEfc.prototype.DL=function(x,J){this.Vh=x};jM.GEfc.prototype.axv=function(x){var J=this.ki.style.display!="none";
this.ki.style.display=J?"none":"";this.Ka.bo(J?"<<":">>");this.ip()};jM.GEfc.prototype.axf=function(x){this.DH=!this.DH;
this.ip()};jM.GEfc.prototype.ip=function(x,J){var o=this.ki.style.display!="none";if(x!=null){this.ee=x;
this.bs=J;if(x<1e3&&o||x>=1e3&&!o){this.axv();o=!o}this.DH=x>600}else{x=this.ee;J=this.bs}var c=this.DH?250+(o?this.Ny:0):0;
if(p.j5(this.ez)&&!this.DH){this.rV.removeChild(this.ki);this.rV.removeChild(this.ez)}if(!p.j5(this.ez)&&this.DH){this.rV.appendChild(this.ki);
this.rV.appendChild(this.ez)}this.ki.style.height=J+"px";this.view.ip(x-c,J);this.cd.style.height=J-Math.max(this.SO.getBoundingClientRect().height,186)-96+"px";
this.Mx.n.setAttribute("style","position:absolute; top:46px;  right:"+(c+16)+"px")};jM.GEfc.prototype.aad=function(){var x=hR.Xe.get("img/beach",!0)[0],J=x.XO,o=this.ki,c=Math.floor(p.IJ()*(this.Ny-40)/3),E=~~(c*.7),b=new ha(0,0,c,E),l=q.R(c*E*4),i=l.slice(0),F=Math.round(10*p.IJ()),k=new ImageData(new Uint8ClampedArray(i.buffer),c,E);
q.St(new Uint8Array(x.data),J,l,new ha(Math.round((J.m-c)/2),Math.round((J.e-E)/2),c,E));var U=p.i("canvas"),I=U.getContext("2d");
U.width=c;U.height=E+Math.round(F*1.5);I.font=F+"px sans-serif";this.zM={};p.LX(o);var V=this.a7J.bind(this);
for(var $=0;$<dZ.OM.length;$++){var u=dZ.OM[$],N=p.i("div");o.appendChild(N);N.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
N.textContent=h9.get(u);for(var e in dZ.names){var B=dZ.names[e];if(B[0]!=$)continue;dZ.fa(e,{rect:b,buffer:l},dZ.Bt(e),{o:0,I:0,J:0},{o:255,I:255,J:255},{rect:b,buffer:i},{});
I.fillStyle="black";I.fillRect(0,0,500,500);I.putImageData(k,0,0);var j=h9.get(B[1]);I.fillStyle="white";
I.fillText(j,(c-I.measureText(j).width)/2,E+Math.round(F*1.1));var T=p.i("div");o.appendChild(T);T.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
T.addEventListener("click",V,!1);var N=p.i("img");T.appendChild(N);N.setAttribute("src",U.toDataURL());
N.setAttribute("style","width:"+c/p.IJ()+"px; margin-bottom:0px;");this.zM[e]=T}}};jM.GEfc.prototype.a7J=function(x){var J;
for(var o in this.zM)if(this.zM[o]==x.currentTarget)this.sr=o;this.aw1()};jM.GEfc.prototype.tc=function(x){var J=f8.mA(this.fS,x),o=this.b1.GEfs.v,c=o[this.CC].v;
if(J==0){o.push(JSON.parse(JSON.stringify(o[this.CC])));this.CC=o.length-1}else if(o.length>1){o.splice(this.CC,1);
if(this.CC==o.length)this.CC--}this.H$();this.A1()};jM.GEfc.prototype.aw1=function(x){var J=this.sr,o;
if(x==null)o=dZ.Bt(J);else o=this.IA[J].h();this.b1.GEfs.v[this.CC].v=o;this.H$();this.A1()};jM.GEfc.prototype.w=function(x,J,o,c,E){var b=h9.get([24,0]);
if(this.zM==null||b!=this.uD)this.aad();this.uD=b;x=this.b1=JSON.parse(JSON.stringify(x));if(x.GEfs==null)x=this.b1={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:x}]}};
var l=x.GEfs.v;for(var $=0;$<l.length;$++)if(l[$].v.GELv==null)l[$].v.GELv={t:"bool",v:!0};this.CC=l.length-1;
this.H$();o=o.clone();if(J==null)return;if(!c.U5(o)&&dZ.kj(x).x!=0){var i=o.k7(c),F=q.R(i.P()*4);q.St(J,o,F,i);
J=F;o=i}o.x=o.y=0;this.RN=J;this.RJ=J.slice(0);this.QM=o;this.A1();this.view.pJ()};jM.GEfc.prototype.asM=function(x){var J=x.data,$=J.cD,o=this.b1.GEfs.v;
if(J.K4){o[$].v.GELv.v=!o[$].v.GELv.v;this.A1()}else this.CC=$;this.H$()};jM.GEfc.prototype.H$=function(){var x=this.b1.GEfs.v,J=x[this.CC].v,o=J.GEfk.v.GEft,c=this.SO;
if(dZ.names[o]==null){alert("Unsupported gallery filter");p.LX(c)}else{this.sr=o;for(var E in this.zM)p.ml(this.zM[E],"selected");
p.na(this.zM[o],"selected");var b=this.IA[o];b.w(J);if(c.firstChild!=b.n){p.LX(c);c.appendChild(b.n)}}var l=[];
for(var $=0;$<x.length;$++){var i=x[$].v,F=dZ.names[i.GEfk.v.GEft],k=new hF($,!0,!0,null,F?F[1]:"Filter",$==this.CC,i.GELv.v);
k.parent=this;l.push(k.n)}p.LX(this.cd);l.reverse();for(var $=0;$<l.length;$++)this.cd.appendChild(l[$]);
this.ip()};jM.GEfc.prototype.h=function(){return JSON.parse(JSON.stringify(this.b1))};jM.GEfc.prototype.A1=function(x){var J=this.QM,o=this.RN,c=this.RJ,E=this.sr,b=this.b1,l=this.Vh;
function i(F){return{o:F>>>16,I:F>>>8&255,J:F&255}}fn.fa("GEfc",{rect:this.QM,buffer:this.RN},b,i(l.Q6),i(l.xR),{rect:this.QM,buffer:this.RJ},null);
this.view.w([{XO:J,data:c.buffer}])};jM.GEfc.prototype._=function(){for(var x in this.IA)this.IA[x]._();
f8.Zl(this.fS,["lrs/newlayer","lrs/bin"])};jM.GEfc.DI=function(x){gB.call(this);this.Ce=x;this.n=p.i("div");
this.eA={};var J=dZ.Bt(x);for(var o in J){var c=null;if(o=="__name"||o=="classID"||o=="GEfk"||o=="GELv"||["FlRs"].indexOf(o)!=-1)continue;
else if(o=="EdgW")c=new fb("Edge Width",1,14);else if(o=="EdgB")c=new fb("Edge Brightness",0,x=="AccE"?50:20);
else if(o=="Smth")c=new fb([19,3,3],1,x=="Stmp"?50:15);else if(o=="ClSz")c=new fb([12,61],3,100);else if(o=="BrdT")c=new fb([7,9],1,20);
else if(o=="HghS")c=new fb([12,64],0,20);else if(o=="HlSz")c=new fb([12,14,0],1,15);else if(o=="Cntr")c=new fb([12,3,0],0,x=="WtrP"?100:50);
else if(o=="Shrp")c=new fb("Sharpness",0,40);else if(o=="SprR")c=new fb("Spray Radius",0,25);else if(o=="LgDr")c=new fb("Light/Dark Balance",0,x=="Stmp"?50:100);
else if(o=="Drkn")c=new fb("Darkness",1,50);else if(o=="Dstr")c=new fb("Distortion",0,20);else if(o=="Scln")c=new fb([12,38],50,200);
else if(o=="Rlf")c=new fb("Relief",0,x=="Ptch"||x=="NtPr"?25:50);else if(o=="ChAm")c=new fb("Thickness",1,7);
else if(o=="Pncl")c=new fb([19,2,5],1,30);else if(o=="StrP")c=new fb("Stroke Pressure",0,15);else if(o=="PprB")c=new fb("Paper Brightness",0,50);
else if(o=="BrsS")c=new fb("Brush Size",0,10);else if(o=="BrsD")c=new fb("Brush Detail",0,10);else if(o=="Txtr")c=new fb([12,67],1,3);
else if(o=="Grn")c=new fb("Grain",0,20);else if(o=="HghA")c=new fb("Highlight Area",0,20);else if(o=="Intn")c=new fb("Intensity",0,10);
else if(o=="Brgh")c=new fb("Glow Brightness",0,x=="WtrP"?100:50);else if(o=="StrS")c=new fb("Stroke Size",1,50);
else if(o=="StDt")c=new fb("Stroke Detail",1,3);else if(o=="Sftn")c=new fb("Softness",0,10);else if(o=="EdgT")c=new fb("Edge Thickness",0,10);
else if(o=="EdgI")c=new fb("Edge Intensity",0,10);else if(o=="Pstr")c=new fb("Posterization",0,6);else if(o=="Dfnt")c=new fb("Definition",0,25);
else if(o=="TxtC")c=new fb("Texture Coverage",0,50);else if(o=="ShdI")c=new fb("Shadow Intensity",0,10);
else if(o=="DrcB")c=new fb("Direction Balance",0,100);else if(o=="Strg")c=new fb([12,64],1,3);else if(o=="Blnc")c=new fb("Balance",0,10);
else if(o=="BlcI")c=new fb("Black Intensity",0,10);else if(o=="WhtI")c=new fb("White Intensity",0,10);
else if(o=="DrkI")c=new fb("Dark Intensity",0,50);else if(o=="LghI")c=new fb("Light Intensity",0,50);
else if(o=="StrW")c=new fb("Stroke Width",3,15);else if(o=="Grns")c=new fb("Graininess",0,x=="NtPr"?20:10);
else if(o=="GlwA")c=new fb("Glow Amount",0,20);else if(o=="ClrA")c=new fb("Clear Amount",0,20);else if(o=="ChrA")c=new fb("Charcoal Area",0,20);
else if(o=="ChlA")c=new fb("Chalk Area",0,20);else if(o=="FrgL")c=new fb("Foreground Level",1,15);else if(o=="BckL")c=new fb("Background Level",1,15);
else if(o=="WhtL")c=new fb("Background Level",0,50);else if(o=="BlcL")c=new fb("Foreground Level",0,50);
else if(o=="ImgB")c=new fb("Image Balance",0,50);else if(o=="Dnst")c=new fb([12,74],0,50);else if(o=="FbrL")c=new fb("Fiber Length",3,50);
else if(o=="CrcS")c=new fb("Crack Spacing",2,100);else if(o=="CrcD")c=new fb("Crack Depth",0,10);else if(o=="CrcB")c=new fb("Crack Brightness",0,10);
else if(o=="TlSz")c=new fb("Tile Size",2,100);else if(o=="GrtW")c=new fb("Grout Width",1,15);else if(o=="LghG")c=new fb("Lighten Grout",0,10);
else if(o=="SqrS")c=new fb("Square Size",0,10);else if(o=="RplS")c=new fb("Ripple Size",1,15);else if(o=="RplM")c=new fb("Ripple Magnitude",0,20);
else if(o=="NmbL")c=new fb("Number of Levels",2,8);else if(o=="EdgS")c=new fb("Edge Simplicity",0,10);
else if(o=="EdgF")c=new fb("Edge Fidelity",1,3);else if(o=="Sz")c=x=="NGlw"?new fb("Glow Size",-24,24):new fb("Brush Size",1,50);
else if(o=="Dtl")c=x=="Chrc"?new fb("Detail",0,5):new fb("Detail",1,15);else if(o=="StrL")c=x=="InkO"?new fb("Stroke Length",1,50):new fb("Stroke Length",0,20);
else if(o=="TxtT")c=new i3([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(o=="BrsT")c=new i3("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(o=="Grnt")c=new i3("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(o=="SDir")c=new i3([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(o=="ScrT")c=new i3([12,62],["Circle","Dot",[10,35]]);
else if(o=="LghD"||o=="LghP")c=new i3("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(o=="Clr")c=new cp("Glow Color");else if(o=="InvT")c=new j8([4,11]);else console.log(o);c.k(L.E.A,this.ZL,this);
c.parent=this;this.eA[o]=c;this.n.appendChild(c.n)}};jM.GEfc.DI.prototype=new gB;jM.GEfc.DI.prototype.ZL=function(x){this.c(new ko(L.E.A,!1))};
jM.GEfc.a5S="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
jM.GEfc.DI.prototype.w=function(x){for(var J in this.eA){var o;if(jM.GEfc.a5S.indexOf(J)!=-1)o=x[J].v;
else if(J=="TxtT")o=dZ.dl.indexOf(x[J].v[J]);else if(J=="BrsT")o=dZ.a8P.indexOf(x[J].v[J]);else if(J=="LghD")o=dZ.CH.indexOf(x[J].v[J]);
else if(J=="LghP")o=dZ.r4.indexOf(x[J].v[J]);else if(J=="Grnt")o=dZ.ad.indexOf(x[J].v[J]);else if(J=="ScrT")o=dZ.I1.indexOf(x[J].v[J]);
else if(J=="SDir")o=dZ.tL.indexOf(x[J].v.StrD);this.eA[J].w(o)}};jM.GEfc.DI.prototype.h=function(){var x=dZ.Bt(this.Ce);
for(var J in this.eA){var o=this.eA[J].h();if(jM.GEfc.a5S.indexOf(J)!=-1)x[J].v=o;else if(J=="TxtT")x[J].v[J]=dZ.dl[o];
else if(J=="BrsT")x[J].v[J]=dZ.a8P[o];else if(J=="LghD")x[J].v[J]=dZ.CH[o];else if(J=="LghP")x[J].v[J]=dZ.r4[o];
else if(J=="Grnt")x[J].v[J]=dZ.ad[o];else if(J=="ScrT")x[J].v[J]=dZ.I1[o];else if(J=="SDir")x[J].v.StrD=dZ.tL[o]}return x};
jM.GEfc.DI.prototype._=function(){for(var x in this.eA)this.eA[x]._()};jM["Adobe Camera Raw Filter"]=function(x){jM.call(this,"Adobe Camera Raw Filter");
var J=this.n;this.aCU=x;this.HO=null;this.jL=null;this.Uv=1e3;this.bn=null;this.oE=null;p.na(J,"flexrow");
var o=p.i("div"),c=p.i("div","padded");J.appendChild(o);J.appendChild(c);this.IN=new f6;this.IN.k("zoom",this.A1,this);
o.appendChild(this.IN.n);this.QY=new fX(225);this.QY.TR(4);c.appendChild(this.QY.n);this._0=p.i("div");
this._0.setAttribute("style","width:18em;");c.appendChild(this._0);this.aaK=new dr("Hi",!0);this._0.appendChild(this.aaK.n);
this.EJ=p.i("div","scrollable");this._0.appendChild(this.EJ);this.eA=[new fb("Temperature",-100,100),new fb("Tint",-100,100),new fb([4,3],-4,4,null,!0),new fb([12,3,0],-100,100),new fb([4,4],-100,100),new fb([12,9],-100,100)];
this.Gy="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var $=0;$<this.eA.length;$++){var E=this.eA[$];
E.w(0);E.k(L.E.A,this.A1,this);this.EJ.appendChild(E.n);if($==1||$==3)this.EJ.appendChild(p.i("hr"))}};
jM["Adobe Camera Raw Filter"].prototype=new jM;jM["Adobe Camera Raw Filter"].prototype.CA=function(){return!0};
jM["Adobe Camera Raw Filter"].prototype.IE=function(x){this._0.appendChild(x)};jM["Adobe Camera Raw Filter"].prototype.DL=function(x,J){this.QY.RT(a8.Qm[x.zI]["--text-color"])};
jM["Adobe Camera Raw Filter"].prototype.w=function(x,J,o,c,E){this.b1=x;var b=o.m,l=o.e,i=b*l;this.aaK.w(b+" x "+l+", "+(b*l/1e6).toFixed(1)+" MPx");
this.QM=o;this.bn=new Float32Array(b*l*3);this.oE=new Uint8Array(b*l*4);this.oE.fill(255);if(J instanceof Float32Array)this.HO=J;
else{var F=this.HO=new Float32Array(b*l*3);for(var $=0;$<i;$++){var k=$*3,U=$*4;F[k+0]=J[U+0]*(1/255);
F[k+1]=J[U+1]*(1/255);F[k+2]=J[U+2]*(1/255)}}this.jL=[{tM:this.HO,rect:o.clone()}];this.Uv=1e3;var I=this.HO;
while(b>1&&l>1){var V=b,u=V*3;b=b>>>1;l=l>>>1;var N=I,I=new Float32Array(b*l*3);this.jL.push({tM:I,rect:new ha(0,0,b,l)});
for(var e=0;e<l;e++)for(var B=0;B<b;B++){var k=(e*b+B)*3,j=(e*2*V+B*2)*3,T=j+u;I[k]=.25*(N[j]+N[j+3]+N[j+u]+N[j+u+3]);
I[k+1]=.25*(N[j+1]+N[j+4]+N[j+u+1]+N[j+u+4]);I[k+2]=.25*(N[j+2]+N[j+5]+N[j+u+2]+N[j+u+5])}}var a=this.Gy;
for(var $=0;$<a.length;$++){var P=a[$];this.eA[$].w(x[P]?x[P].v:0)}this.IN.w([{XO:o,data:this.oE.buffer}]);
this.IN.pJ();this.A1(null)};jM["Adobe Camera Raw Filter"].prototype.h=function(x){if(x){this.A1(null,!0);
return this.oE}return JSON.parse(JSON.stringify(this.b1))};jM["Adobe Camera Raw Filter"].prototype.at8=function(){this.HO=null;
this.bn=null;this.jL=null;this.oE=null};jM["Adobe Camera Raw Filter"].prototype.A1=function(x,J){if(x&&this.eA.indexOf(x.target)!=-1){this.Uv=1e3;
var o=this.Gy;for(var $=0;$<o.length;$++){var c=o[$];this.b1[c]={t:c=="Ex12"?"doub":"long",v:this.eA[$].h()}}}var E=this.IN.Jw().Z,b=0;
while(E*2<=1&&!J){E*=2;b++}if(this.Uv<=b)return;this.Uv=b;var l=this.QM,i=this.a6D(this.HO,l,this.bn,this.b1,this.aCU,this.oE,b);
this.QY.w(i);this.IN.w([{XO:l,data:this.oE.buffer}])};jM["Adobe Camera Raw Filter"].prototype.a6D=function(x,J,o,c,E,b,l){var i=x,F=o,k=b,U=J.m,I=J.e,V=l!=0;
if(V){var u=this.jL[l];i=u.tM;U=u.rect.m;I=u.rect.e;F=new Float32Array(U*I*3);k=q.R(U*I*4)}gT(i,U,I,F,c,E);
var N=Date.now(),e=U*I;for(var $=0;$<e;$++){var B=$*3,j=$*4;k[j+0]=~~(.5+F[B+0]*255);k[j+1]=~~(.5+F[B+1]*255);
k[j+2]=~~(.5+F[B+2]*255);k[j+3]=255}console.log(Date.now()-N,"integer conversion");N=Date.now();var T=q.Hu(k,Math.max(1,Math.floor(e/2e5)));
console.log(Date.now()-N,"histogram done");N=Date.now();if(V){var a=new Uint32Array(k.buffer),P=new Uint32Array(b.buffer),v=J.m,R=J.e;
for(var y=0;y<R;y+=2)for(var t=0;t<v;t+=2){var B=y*v+t,g=a[(y>>>l)*U+(t>>>l)];P[B]=g;P[B+1]=g;P[B+v]=g;
P[B+v+1]=g}console.log(Date.now()-N,"upscale");N=Date.now()}return T};jM["Adobe Camera Raw Filter"].prototype.ip=function(x,J){this.arZ=x-248;
this.aeO=J;this.IN.ip(this.arZ,this.aeO);this.EJ.style.height=J-236+"px"};jM["Adobe Camera Raw Filter"].prototype._=function(){for(var $=0;
$<this.eA.length;$++)this.eA[$]._()};jM.VaPo=function(){jM.call(this,"VaPo");this.v=-1;this.S2=null;
this.oi=!1;this.Z_=null;this.Oc=null;this.dv=null;this.c9=null;this.eR=null;this.ek=null;this.$p=null;
this.Tw=null;this.MF=null;this.xC=null;this.tG=null;this.L_=[];this.Sa=-1;this.g=null;this.q={aF:[[{v:{id:0,name:"Move",Ta:"tools/move"}}],[{v:{id:1,name:"Create Plane",Ta:"tools/pcrop"}}],[{v:{id:2,name:"Marquee",Ta:"tools/rselect"}}],[{v:{id:3,name:"Stamp",Ta:"tools/clone"}}],[{v:{id:4,name:"Brush",Ta:"tools/brush"}}],[{v:{id:5,name:"Transform",Ta:"tools/transform"}}],[{v:{id:6,name:"Hand",Ta:"tools/hand"}}],[{v:{id:7,name:"Zoom In",Ta:"zoomIn"}}],[{v:{id:8,name:"Zoom Out",Ta:"zoomOut"}}]],keys:[dG.iw,dG.uA,dG.os,dG.Pu,dG.gz,dG.Ex,dG.Ip,dG.Mv]};
this.Hc=new iV(this.q,!1);this.Hc.k(L.E.N,this.vz,this);this.v2=null;this.QM=null;this.RN=null;this.a0p=null;
this.RJ=null;this.ti=null;var x=p.i("div","flexrow"),c=0;this.rV=x;this.n.appendChild(x);x.appendChild(this.Hc.n);
var J=p.i("div");x.appendChild(J);var top=p.i("div","form");J.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.nR=p.i("span");top.appendChild(this.nR);this.kE=[[new f1([12,80,5],1,1e3)],[new f1([7,6],0,30)],[new f1([12,14],1,200),new f1([12,17],0,100),new f1([12,0],0,100),new j8([12,75])],[new f1([12,14],1,200),new f1([12,17],0,100),new f1([12,0],0,100),new cp],[new j8("Flip"),new j8("Flop")],[]];
var o=[100,0,100,100,100,!1,100,100,100,JSON.parse(bs.lC.Xu.slice(6)).v];this.N4=[];for(var $=0;$<6;
$++){var E=p.i("span"),b=this.kE[$];this.N4.push(E);for(var l=0;l<b.length;l++){var i=b[l];i.parent=this;
i.w(o[c++]);i.k(L.E.A,this.aaw,this);E.appendChild(i.n)}}this.Xr=p.i("div");this.Xr.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.Xr);this.view=new f6(!0);this.view.ip(100,100);this.view.YZ("auto");this.view.k("mousedown",this.eN,this);
this.view.k("mousemove",this.FB,this);this.view.k("mouseup",this.cK,this);p.aP(this.view.$H,this.jV.bind(this));
J.appendChild(this.view.n)};jM.VaPo.prototype=new jM;jM.VaPo.prototype.CA=function(){return!0};jM.VaPo.prototype.IE=function(x){this.Xr.appendChild(x)};
jM.VaPo.prototype.aaw=function(x){if(x.target==this.kE[0][0]){var J=this.fw(),o=x.target.h();for(var $=0;
$<this.g.length;$++)if(this.g[$].length!=0&&J[$])J[$][0]=o;this.t5(J)}if(this.v==5){this.v2=this.om();
this.A1(!0)}this.A1()};jM.VaPo.prototype.B3=function(x){var J=this.v,o=this.Oc;if(J==3||J==4){var c=this.kE[J-1],E=aR.iY(),b=E.Brsh.v;
b.Dmtr.v.val=c[0].h();b.Hrdn.v.val=c[1].h();E=n.mv.M4(E,x);if(E){b=E.Brsh.v;c[0].w(b.Dmtr.v.val);c[1].w(b.Hrdn.v.val)}this.JH()}if(J==1&&o&&(x.S(dG.OT)||x.S(dG.BK))){o.pop();
o.pop();if(o.length==0)o=this.Oc=null;this.A1()}function l(U,$,N){q.St(U[$],U[0],N.RN,N.QM);N.T5(U[0])}this.Z_=x;
if(J<6)this.view.B3(x);var i=x.S(dG._k);if(i){var F=this.Sa,k=0;if(x.S(dG.Mv)){if(x.S(dG.uJ))k=1;else k=-1}else if(x.S(dG.Nr))k=1;
if(k!=0&&J!=5){console.log(this.Sa,k,this.L_);var U=this.L_[this.Sa],I=!1;if(U.length==3&&k==-1){l(U,1,this);
I=!0}F+=k;this.Sa=Math.max(0,Math.min(this.L_.length-1,F));U=this.L_[this.Sa];if(U.length==3&&k==1){l(U,2,this);
I=!0}this.A1(I)}if(x.S(dG.iw)){if(p.Bo())bB.alY(this.ZN.bind(this))}if(x.S(dG.er)){this.eR=null;this.A1()}}else{var V=this.q.keys;
for(var $=0;$<V.length;$++)if(x.S(V[$]))this.zb($)}if(x.S(dG.BK)||x.S(dG.OT)){var u=this.fw();u=q.HB.amQ(u,this.g);
this.g=[];for(var $=0;$<u.length;$++)this.g[$]=[];this.t5(u);this.A1()}};jM.VaPo.prototype.ZN=function(x){if(x=="granted")bB.kf(this,this.PV.bind(this))};
jM.VaPo.prototype.PV=function(x,J){if(this.c9==null)this.c9=[0,0];if(this.v==5)this.zb(0);this.zb(5,{kC:x,By:J})};
jM.VaPo.prototype.vz=function(x){if(x.data.d==L.H.zq){this.zb(x.data.v)}};jM.VaPo.prototype.avz=function(x){var J=this.view.eM(x),o=q.HB.ER(this.fw(),this.g),c=1e9,E=0;
for(var $=0;$<o.length;$++){var b=o[$][0],l=J.x-b[0],i=J.y-b[1],F=Math.sqrt(l*l+i*i);if(F<c){c=F;E=$}}if(c>4*p.IJ()/this.view.Jw().Z)return null;
return o[E]};jM.VaPo.prototype.jV=function(x){var J=this.v,o=this.Oc;if(J<2&&!this.oi){var c=this.S2=this.avz(x),E=this.fw(),b="auto";
if(J==0&&q.HB.bR(E,c)){var l=E[c[1]][1][c[2]],i=l[5+{1:0,5:1,7:2,3:3}[c[3]]],F=i[0],k=i[1];b=cK.a6I(F[1]-k[1],-F[0]+k[0])}if(q.HB.a3R(E,c))b="crosshair";
this.view.YZ(b)}if(o){var U=this.view.eM(x),I=o.slice(0);o[o.length-2]=U.x;o[o.length-1]=U.y;this.A1()}this.JH(x);
if(J==5&&!this.oi&&this.Vc){var U=this.view.eM(x),E=this.fw(),V=q.HB.Pw(E,U.x,U.y,this.yH());if(V){var u=new ck(V[2][0],V[2][1]),N=q.HB.KA(E,E[V[0]][1][V[1]],this.yH()),e=N[1],B=q.D.LH(N[0],e),j=[e.x+e.m/2,e.y+e.e/2];
q.D.M(B,j);var T=U.x-j[0],a=U.y-j[1],P=this.Vc.YI(u,this.view.Jw().Z,null,null,Math.atan2(-a,-T));this.view.YZ(P?P:"default")}}};
jM.VaPo.prototype.JH=function(x){var J=this.v,o=this.Z_;if((J==3||J==4)&&!this.oi){var c=x?this.view.eM(x):this.Db,E=this.fw();
this.Db=c;if(c==null)return;var b=q.HB.Pw(E,c.x,c.y,this.yH());if(b){if(J==3&&this.tG&&this.kE[2][3].h()){var l=new ck(b[2][0],b[2][1]);
this.xC=l._u(this.tG);this.A1()}if(J==3&&(this.xC==null||o&&(o.S(dG.Zj)||o.S(dG.Pv)))){if(this.v2){this.ti=null;
this.T5(this.v2);this.A1(!0,this.v2)}return}this.aoe(b,this.v2)}}};jM.VaPo.prototype.yH=function(){return[this.QM.m/2,this.QM.e/2]};
jM.VaPo.prototype.eN=function(x){this.oi=!0;var J=this.v,o=this.Oc,c=this.fw(),E=this.Z_,b=this.S2=this.avz(null),l=this.view.eM(),i=q.HB.Pw(c,l.x,l.y,this.yH()),F=i?new ck(i[2][0],i[2][1]):null;
if(q.HB.a3R(c,b)){var k=c[b[1]][1][b[2]];c.splice(b[1],1);this.g.splice(b[1],1);o=q.HB.aa9(k);var U=-1,l=b[0];
for(var $=0;$<8;$+=2){var I=o[$]-l[0],V=o[$+1]-l[1];if(I*I+V*V<1e-5)U=$}U=U+2&7;o=this.Oc=o.slice(U).concat(o.slice(0,U));
this.t5(c)}else if(q.HB.bR(c,b)){if(J==1||E&&E.S(dG._k)){c=q.HB.amn(c,b,this.yH());this.t5(c);b[2]=c[b[1]][1].length-1;
b[3]=8+(b[3]+4&7);this.g[b[1]].push(b[2]);this.t5(c,!0);this.zb(0)}else this.t5(this.fw(c))}else if(J==0){var u=[];
for(var $=0;$<c.length;$++)u.push([]);if(i){if(E&&E.S(dG.uJ))u=this.g;var N=u[i[0]].indexOf(i[1]);if(N==-1)u[i[0]].push(i[1]);
else u[i[0]].splice(N,1)}this.g=u;this.t5(c,!0);this.A1()}else if(J==2){if(i){var e=this.eR;if(e&&e.GT(F)){if(E)if(E.S(dG.Zj)||E.S(dG._k)){this.zb(5);
this.eN(x);return}this.ek=new ck(F.x-e.x,F.y-e.y)}else{this.dv=i[2].concat(i[2]);this.c9=i}}}else if(J==3||J==4){if(J==3){if(E&&(E.S(dG.Zj)||E.S(dG.Pv))){if(i){this.xC=F;
this.Tw=F.clone();this.tG=null;this.MF=i;this.A1()}else alert("You must click into a plane");this.oi=!1;
return}else if(this.xC==null){alert(h9.get([15,7,0]));this.oi=!1;return}else if(i){var B=this.tG=F._u(this.xC)}}if(i){this.aoe(i)}}else if(J==5){if(i){var j=new ck(i[2][0],i[2][1]),T=this.Vc.JC({Q:this.view.Jw()},{},E,j)}}};
jM.VaPo.prototype.aoe=function(x,J){var o=this.ti;if(o==null)this.ti=o=q.R(this.QM.P()*4);else o.fill(0);
var c=this.v;this.c9=x;var E=this.kE[c-1],b=q.aje.akv(E[0].h(),E[1].h()/100,1),l=q.R(b[1].P()*4);q.qR(b[0],l,3);
if(c==4){var i=q.r.fL(E[3].h());q.xj(l,Math.round(i.J)<<16|Math.round(i.I)<<8|Math.round(i.o)<<0,4278190080)}this.$p={acw:b[0],kC:l,By:b[1]};
var F=this.v2=this.ym(x[2],x[2]),k=J?J.k7(F):F;this.T5(k);this.A1(!0,k)};jM.VaPo.prototype.FB=function(x){var J=this.S2,o=this.v,c=this.fw();
if(o==0&&q.HB.bR(c,J)){c=q.HB.aiw(c,J,this.view.eM());this.t5(c,!0);this.A1()}var E=this.ek;if(o==2&&this.oi&&(this.dv||E)){var b=this.view.eM(),l=q.HB.Pw(c,b.x,b.y,this.yH());
if(l){this.c9=l;if(E){this.eR.x=l[2][0]-E.x;this.eR.y=l[2][1]-E.y}else{this.dv=this.dv.slice(0,2).concat(l[2]);
this.eR=q.O.ql(this.dv)}this.A1()}}if((o==3||o==4)&&this.oi){var b=this.view.eM(),l=q.HB.Pw(c,b.x,b.y,this.yH());
if(l){if(o==3){var i=this.tG;this.xC=new ck(l[2][0]-i.x,l[2][1]-i.y)}var F=this.ym(this.c9[2],l[2]);
this.v2=this.v2.k7(F);this.c9=l;this.T5(F);this.A1(!0,F)}}if(o==5&&this.oi){var b=this.view.eM(),l=q.HB.Pw(c,b.x,b.y,this.yH(),this.c9);
if(l){var k=new ck(l[2][0],l[2][1]);this.Vc.OC({Q:this.view.Jw()},{},this.Z_,k);this.c9=l;var F=this.v2;
if(F)this.T5(F);else F=new ha;this.v2=this.om(null,null,!0);this.A1(!0,F.k7(this.v2))}}};jM.VaPo.prototype.ym=function(x,J){x=new ck(x[0],x[1]);
J=new ck(J[0],J[1]);var o=Math.max(1e-5,ck.q6(x,J)),c=this.$p.By.m*.2,E=new ha;for(var b=0;b<o;b+=c){var l=1-b/o,i=l*x.x+(1-l)*J.x,F=l*x.y+(1-l)*J.y,k=this.$p.By.clone();
k.x=Math.round(i-k.m/2);k.y=Math.round(F-k.e/2);if(this.v==3){var U=this.tG;if(U==null)U=new ck(i,F)._u(this.xC);
var I=this.eR=k.clone();I.x=Math.round(I.x-U.x);I.y=Math.round(I.y-U.y);var V=this.$p.acw;this.$p=this.aBP(this.MF);
this.eR=null;q.nc(V,this.$p.kC);this.$p.acw=V}var u=this.om(this.ti,k);E=E.k7(u)}return E};jM.VaPo.prototype.cK=function(x){var J=this.S2;
if(J&&J[3]>=8){var o=q.HB.axO(this.fw(),J,this.yH());this.t5(o,!0);this.A1();alert("new plane added")}var c=this.v,E=this.Oc;
if(E||c==1){var b=this.view.eM();if(E==null)E=this.Oc=[b.x,b.y];if(E.length==8&&cK.vK(E)){var o=this.fw();
o.push([100,[q.HB.ahZ(E,this.yH())]]);this.g.push([0]);this.t5(o,!0);E=this.Oc=null;this.zb(0);this.A1()}else if(E.length<8){E.push(b.x,b.y);
if(E.length==8&&!cK.vK(E)){var l=E[0],i=E[1];E[0]=E[4];E[1]=E[5];E[4]=l;E[5]=i}}}var F=this.dv;if(c==2&&F&&F[0]==F[2]&&F[1]==F[3]){this.eR=null;
this.A1()}if((c==3||c==4)&&this.oi){if(c==3&&!this.kE[2][3].h()&&this.Tw){this.xC=this.Tw.clone();this.A1()}this.t5();
this.ti=null}if(!this.kE[2][3].h())this.tG=null;this.oi=!1;this.ek=null;this.dv=null};jM.VaPo.prototype.zb=function(x,J){if(x==this.v)return;
var o=this.v2,E=6;if(this.v==5){this.t5();this.T5(o);this.Vc=null;this.A1()}if(this.v==3||this.v==4){this.ti=null;
if(o)this.T5(o);this.A1(!0,o)}if(x==5){if(J==null&&this.eR==null){alert("Select the area to be transformed");
return}this.ajp(J)}if(x>1){var c=this.fw();this.y6();this.t5(c,!0);this.A1()}this.view.B3(x>=E?f6.cT(x-E):new dG);
if(x<E)this.view.YZ("auto");this.v=x;this.Hc.zb(x);p.LX(this.nR);var b={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[x];
this.nR.appendChild(this.N4[b])};jM.VaPo.prototype.fw=function(){var $=this.Sa,x=this.L_;while(x[$].length==3)$--;
var J=x[$];this.g=JSON.parse(J[1]);return JSON.parse(J[0])};jM.VaPo.prototype.t5=function(x,J){if(x==null&&this.v2==null)return;
var o=this.L_,c=this.Sa,$=c;while($>=0&&o[$].length==3)$--;if(J==null)this.Sa=c=c+1;if(x!=null)o[J?$:c]=[JSON.stringify(x),JSON.stringify(this.g)];
else{var E=this.QM,b=this.v2,l=q.R(b.P()*4),i=q.R(b.P()*4);o[c]=[b,l,i];q.St(this.RN,E,l,b);if(this.ti)q.l.j6("norm",this.ti,E,this.RN,E,E,this.aBI());
else this.om(this.RN);q.St(this.RN,E,i,b);this.v2=null}while(o.length!=c+1)o.pop()};jM.VaPo.prototype.aBI=function(){return this.kE[this.v-1][2].h()/100};
jM.VaPo.prototype.y6=function(x,J){if(x==null)x=this.fw();this.g=[];for(var $=0;$<x.length;$++){var o=[];
this.g.push(o);if(J)for(var c=0;c<x[$][1].length;c++)o.push(c)}};jM.VaPo.prototype.w=function(x,J,o,c,E,b){var l=JSON.parse(JSON.stringify(b[2].HB));
this.Sa=-1;this.y6(l);this.t5(l);var i=q.R(c.P()*4);q.St(J,o,i,c);this.apA=new ha;this.QM=c;this.a0p=E;
this.RN=i;this.RJ=E.slice(0);this.T5(c);this.A1(!0);this.view.pJ();this.zb(0)};jM.VaPo.prototype.ajp=function(x){this.$p=x?x:this.aBP();
var J=q.O.ny(this.$p.By).j;if(x){var o=this.fw(),c=q.HB.KA(o,o[0][1][0],this.yH()),E=c[1],b=Math.min(E.m/x.By.m,E.e/x.By.e)*.9;
if(b<1)q.O.M(J,new cW(b,0,0,b,0,0),J)}this.Vc=new cK(J,!0,!0);this.eR=null;this.v2=this.om();this.A1(!0)};
jM.VaPo.prototype.aBP=function(x){var J=this.QM,o=q.O.uS(this.eR),c=this.fw(),E=q.R(o.P()*4);if(x==null)x=this.c9;
var b=c[x[0]][1],l=q.HB.Xn(c[x[0]][1],x[1],o,this.yH());for(var i=0;i<l.length;i++){var F=b[l[i]],k=q.HB.KA(c,F,this.yH()),U=k[0],I=k[1],V=I.Kc(o);
if(V.Kx())continue;V=q.O.uS(V);var u=q.R(V.P()*4),N=q.D.LH(U,I);N=q.D.hf([1/J.m,0,0,0,1/J.e,0,0,0],N);
N=q.D.Mr(N);q.D.drawImage(N,this.RJ,J.m,J.e,u,V);q.St(u,V,E,o)}var e=this.kE[1][0].h(),B=Math.round(e*1.4),j=o.clone();
j.wI(-B,-B);var T=q.R(j.P());T.fill(255);var a=q.R(o.P());q.zc(T,j,a,o);var P=q.R(o.P());q.JS.Bp(a,P,o,e);
q.z$(E,a,3);q.ZP.Kc(a,P,P);q.qR(P,E,3);return{kC:E,By:o}};jM.VaPo.prototype.T5=function(x,J){var o=this.QM;
q.St(this.a0p,o,this.RJ,o,x);q.l.j6("norm",this.RN,o,this.RJ,o,x,1);if(this.ti)q.l.j6("norm",this.ti,o,this.RJ,o,x,this.aBI())};
jM.VaPo.prototype.om=function(x,J,o){var c=this.$p,E=c.By,b=this.QM,l,i=J?q.O.ny(J).j:this.Vc.ER(),F=q.O.Cg(i),l=q.D.LH(i,E),k=this.kE[4],U=new cW;
if(k[0].h()){U.V=-1;U.Iw=2*E.x+E.m}if(k[1].h()){U.Lu=-1;U.s7=2*E.y+E.e}l=q.D.hf(l,q.D.ay(U));function I(m,C){m.beginPath();
m.moveTo(C[0],C[1]);for(var $=1;$<4;$++)m.lineTo(C[$*2],C[$*2+1]);m.closePath()}var V=this.fw(),u=q.HB.Xn(V[this.c9[0]][1],this.c9[1],F,this.yH()),N=V[this.c9[0]][1],e=new ha;
for(var B=0;B<u.length;B++){var j=N[u[B]],T=q.HB.KA(V,j,this.yH()),a=T[0],P=T[1],v=P.Kc(F);if(this.eR)v=v.Kc(this.eR);
if(v.Kx())continue;var R=q.D.LH(a,P),y=q.O.ny(v).j;q.D.M(R,y);var t=i.slice(0);q.D.M(R,t);var g=q.O.ql(t).Kc(q.O.ql(y)),H=g.m,_=g.e;
if(g.Kx())continue;R=q.D.hf(q.D.hf(R,l),[E.m,0,E.x,0,E.e,E.y,0,0]);var Y=q.R(g.P()*4);q.D.drawImage(R,c.kC,E.m,E.e,Y,g,o);
if(v.P()!=F.P()){var K=q.T6(H,_);K.save();K.clearRect(0,0,H,_);K.translate(-g.x,-g.y);I(K,y);K.clip();
I(K,t);K.fill();K.restore();var f=new Uint8Array(K.getImageData(0,0,H,_).data.buffer);for(var $=3;$<Y.length;
$+=4)if(f[$]<Y[$])Y[$]=f[$]}q.l.j6("norm",Y,g,x?x:this.RJ,b,g,1);e=e.k7(g)}return e};jM.VaPo.prototype.h=function(){return JSON.parse(JSON.stringify(this.fw()))};
jM.VaPo.prototype.axG=function(){if(this.v==5)this.zb(0);var x=new ha,J=this.L_;for(var $=0;$<=this.Sa;
$++)if(J[$].length==3)x=x.k7(J[$][0]);var o=q.R(x.P()*4);q.St(this.RN,this.QM,o,x);return[o,x]};jM.VaPo.prototype.ip=function(x,J){this.Hc.ip(x,J);
this.view.ip(x-40,J-30)};jM.VaPo.prototype._=function(){this.Hc._();for(var $=0;$<this.kE.length;$++)for(var x=0;
x<this.kE[$].length;x++)this.kE[$][x]._()};jM.VaPo.prototype.A1=function(x,J){var o=this.QM,c=[],E=[],b=[],l=this.fw(),i=q.HB.ER(l,this.g),F=0,k=null,B=null,j=null,T=null;
for(var $=0;$<i.length;$++)b.push(i[$][0][0],i[$][0][1]);for(var $=0;$<l.length;$++){var U=this.g[$].length;
F+=U;if(U!=0)k=[$,this.g[$][0]]}var I=this.kE[0][0];I.po(F!=0);if(F!=0)I.w(Math.round(l[k[0]][0]));if(F==1){var V=l[k[0]][1]}var u=[];
if(this.eR&&l[this.c9[0]])u=q.HB.Xn(l[this.c9[0]][1],this.c9[1],this.eR,this.yH());var N=[];if(this.Vc){N=this.Vc.a5y();
N[4]=this.Vc.ge()}var e=[];if(this.Vc&&l[this.c9[0]])e=q.HB.Xn(l[this.c9[0]][1],this.c9[1],q.O.ql(this.Vc.ER()),this.yH());
for(var a=0;a<l.length;a++){var P=l[a][0],V=l[a][1],v=this.g[a];for(var R=0;R<V.length;R++){var k=V[R],y=q.HB.KA(l,k,this.yH()),t=y[0],o=y[1],g=q.D.LH(t,o);
if(o.Kx()){if(j==null)j={G:[],j:[]};q.O.concat(j,{G:["M","L","L","L","Z"],j:t});continue}var H=q.O.ny(o),_=H.j,Y=H.G,K=this.xC;
if(K&&o.GT(K)&&this.MF&&this.MF[0]==a){B=[K.x,K.y];q.D.M(g,B)}if(u.indexOf(R)!=-1){var f=this.eR.Kc(o);
if(a==this.c9[0]&&!f.Kx()){if(T==null)T={j:[],G:[]};var m=q.O.ny(f);q.D.M(g,m.j);q.O.concat(T,m)}}if(e.indexOf(R)!=-1&&a==this.c9[0]){var C=[];
for(var $=0;$<N.length;$++)if(o.GT(N[$]))C.push(N[$].x,N[$].y);if(C.length!=0){q.D.M(g,C);b=b.concat(C)}}if(v&&v.indexOf(R)!=-1){var Z=Math.ceil(o.x/P)*P,A=o.x+o.m,d=Math.ceil(o.y/P)*P,G=o.y+o.e;
for(var r=Z;r<A;r+=P){_.push(r,o.y,r,G);Y.push("M","L")}for(var X=d;X<G;X+=P){_.push(o.x,X,A,X);Y.push("M","L")}}q.D.M(g,_);
c=c.concat(Y);E=E.concat(_)}if(B&&this.v==3){var r=B[0],X=B[1],w=10/this.view.Jw().Z;E.push(r-w,X,r+w,X);
E.push(r,X-w,r,X+w);c.push("M","L","M","L")}}var t=this.Oc,o=this.QM;if(t){var S=["M"];for(var $=0;$<t.length-2;
$+=2)S.push("L");S.push("Z");var z=n.Pm.yD(t,o.m/2,o.e/2);if(isNaN(z)||z==Infinity||z==-Infinity||!cK.vK(t)){if(j==null)j={G:[],j:[]};
q.O.concat(j,{G:S,j:t})}else{E=E.concat(t);c=c.concat(S)}}var s={XV:{G:c,j:E},aD5:j,amh:T,EY:b,WW:null};
if(x){this.view.w([{XO:o,data:this.RJ.buffer}],null,s,J)}else this.view.a7B(s)};jM.blnc=function(){jM.call(this);
var x=this.n;this.p2=null;this.k1=new i3([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.k1.k(L.E.A,this.A1,this);
x.appendChild(this.k1.n);this.Wj=[];for(var $=0;$<3;$++){var J=new fb(["VAR0 - VAR1",dv.a2n[$],dv.rF[$]],-100,100);
J.k(L.E.A,this.LJ,this);this.Wj.push(J);x.appendChild(J.n)}this.Aa=new j8([13,4]);this.Aa.k(L.E.A,this.LJ,this);
x.appendChild(this.Aa.n)};jM.blnc.prototype=new jM;jM.blnc.prototype._=function(){this.k1._();for(var $=0;
$<3;$++)this.Wj[$]._();this.Aa._()};jM.blnc.prototype.w=function(x){this.p2=JSON.parse(JSON.stringify(x));
this.A1()};jM.blnc.prototype.h=function(x){var J=["ShdL","MdtL","HghL"],o=this.p2[J[this.k1.h()]].v;
for(var $=0;$<3;$++)o[$].v=this.Wj[$].h();this.p2.PrsL.v=this.Aa.h();return JSON.parse(JSON.stringify(this.p2))};
jM.blnc.prototype.A1=function(x){var J=["ShdL","MdtL","HghL"],o=this.p2[J[this.k1.h()]].v;for(var $=0;
$<3;$++)this.Wj[$].w(o[$].v);this.Aa.w(this.p2.PrsL.v)};jM.brit=function(){jM.call(this,"brit");this.Gb.push(new fb([12,2],-150,150,""));
this.Gb.push(new fb([12,3,0],-100,100,""));this.Gb.push(new j8([12,3,1]));this.Rc()};jM.brit.prototype=new jM;
jM.curv=function(){jM.call(this);this.value=null;this.kc=null;this.Vh=null;var x=this.n;this.UA=new i3("Preset",["basic","advanced"]);
this.UA.k(L.E.A,this.aBf,this);x.appendChild(this.UA.n);p.UF(x);this.ry=new i3([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.ry.k(L.E.A,this._A,this);x.appendChild(this.ry.n);this.l5=new i3(null,["Spline","Sketch"]);this.l5.k(L.E.A,this.aBf,this);
x.appendChild(this.l5.n);this.Bq=new aX;this.Bq.parent=this;this.Bq.k(L.E.A,this.KF,this);x.appendChild(this.Bq.n);
p.UF(x);this.FO=new bu;this.FO.k(L.E.A,this.ca,this);x.appendChild(this.FO.n);this.CV=null;this.alr=0;
this.xU=0;p.UF(x);this.Ga=new fA("Sample from image",fW.c5(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.Ga.k(L.E.A,this.u1,this);this.Ga.n.style.marginRight="0";x.appendChild(this.Ga.n)};jM.curv.prototype=new jM;
jM.curv.prototype.DL=function(x,J){if(J==h4.y_||J==h4.Vl){var o=x.ok,c=["Default"];for(var $=0;$<o.length;
$++)c.push(o[$].presetFileName.v);c.push("Custom");this.UA.Ed(c,[1,o.length,1]);this.Vh=x}};jM.curv.prototype.ip=function(x,J){this.FO.ip(x,J)};
jM.curv.prototype._=function(){this.ry._();this.FO._()};jM.curv.prototype.m3=function(){this.UA.w(this.Vh.ok.length+1)};
jM.curv.prototype.aBf=function(x){if(x.target==this.UA){var J=this.UA.h(),o=this.Vh.ok,c;if(J==0)c=fn.Bt("curv");
else if(J-1<o.length)c=JSON.parse(JSON.stringify(o[J-1]));else return;this.w(c);this.LJ();return}this.m3();
var E=fB.Ne(this.value,0),b=E.length==256?1:0,l=this.l5.h();if(b==l)return;var c=fn.Bt("curv");if(l==1){var i=[];
for(var $=0;$<256;$++)i.push($);fB.Fa(c,0,i)}this.w(c);this.LJ()};jM.curv.prototype.ca=function(){this.m3();
fB.Fa(this.value,this.ry.h(),this.FO.h());this.LJ()};jM.curv.prototype._A=function(){var x=this.ry.h(),J=fB.Ne(this.value,x),o=J.length==256?1:0;
this.l5.w(o);if(this.kc)this.FO.RY(this.kc[x],this.kc[4]*[1,.33,.33,.33][x],["#ccc","#fcc","#cfc","#ccf"][x]);
this.FO.w(J)};jM.curv.prototype.XH=function(){return!0};jM.curv.prototype.JC=function(x,J,o,c,E){var b=this.value;
this.value=fn.Bt("curv");this.LJ();var l=n.um.Tx(x,E,1,null,!0),i=this.CV=[l>>>16&255,l>>>8&255,l&255];
this.alr=E.y;var F=this.Ga.h().indexOf(!0);if(F==0){var k=(i[0]+i[1]+i[2])/3,U=this.ry.h(),I=fB.Ne(b,U),V=U==0?k:i[U-1],u=-1;
for(var $=0;$<I.length;$++)if(I[$].v.Hrzn.v==V)u=$;if(u==-1){var N=JSON.parse(JSON.stringify(I[0]));
N.v.Hrzn.v=V;N.v.Vrtc.v=V;I.push(N);I.sort(function(e,B){return e.v.Hrzn.v-B.v.Hrzn.v});fB.Fa(b,U,I);
this.xU=I.indexOf(N)}else this.xU=u}this.w(b);this.LJ()};jM.curv.prototype.OC=function(x,J,o,c,E){if(this.CV==null)return;
if(this.Ga.h().indexOf(!0)==0){var b=this.value,l=this.ry.h(),i=fB.Ne(b,l),F=i[this.xU];F.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(F.v.Hrzn.v+(this.alr-E.y))));
fB.Fa(b,l,i);this.w(b);this.LJ()}};jM.curv.prototype.w7=function(x,J,o,c,E){var b=this.value,l=this.CV,i=(l[0]+l[1]+l[2])/3,F=this.Ga.h().indexOf(!0)-1;
if(F<=-1){}else for(var $=0;$<3;$++){var k=fB.Ne(b,1+$);if(F==0)k[0].v.Hrzn.v=l[$];if(F==1){var U=Math.log(l[$]/255)/Math.log(i/255),I=Math.min(999,Math.max(10,Math.round(100*U)));
if(k.length==2)k.splice(1,0,JSON.parse(JSON.stringify(k[0])));k[1].v.Hrzn.v=127-Math.log(I/100)*127;
k[1].v.Vrtc.v=127}if(F==2)k[k.length-1].v.Hrzn.v=l[$];fB.Fa(b,1+$,k)}this.w(b);this.LJ();this.m3();this.CV=null};
jM.curv.prototype.w=function(x){this.value=x;this._A()};jM.curv.prototype.RY=function(x){this.kc=x;this._A()};
jM.curv.prototype.h=function(x){return JSON.parse(JSON.stringify(this.value))};jM.curv.prototype.KF=function(){var x=this.Bq.h(),J=this.kc,o=this.value,c=q.i$(x,J);
for(var $=0;$<4;$++){var E=c[$][0],b=c[$][1],l=c[$][2],i=[q._8.Ji(E,0,!0),q._8.Ji(b,255,!0)];if(l!=null)i.splice(1,0,q._8.Ji(128,l,!0));
fB.Fa(o,$,i)}this._A();this.LJ()};jM.expA=function(){jM.call(this,"expA");this.Gb.push(new fb([12,5],-20,20,null,2,!0));
this.Gb.push(new fb([12,6],-.5,.5,null,2));this.Gb.push(new fb([12,7],.01,9.99,null,2,!0));this.Rc()};
jM.expA.prototype=new jM;jM.expA.prototype.vv=function(x,J){J[0]=x.Exps.v;J[1]=x.Ofst?x.Ofst.v:0;J[2]=x.gammaCorrection?x.gammaCorrection.v:1};
jM.expA.prototype.p$=function(x,J){x.Exps={t:"doub",v:J[0]};x.Ofst={t:"doub",v:J[1]};x.gammaCorrection={t:"doub",v:J[2]}};
jM.grdm=function(){jM.call(this,"grdm");this.Gb.push(new dQ(!0,null,!0));this.Gb.push(new j8([12,23,0]));
this.Rc()};jM.grdm.prototype=new jM;jM.grdm.prototype.vv=function(x,J){J[0]=x.Grad.v;J[1]=x.Rvrs?x.Rvrs.v:!1};
jM.grdm.prototype.p$=function(x,J){x.Grad.v=J[0];x.Rvrs={t:"bool",v:J[1]}};jM.grdm.prototype.DL=function(x,J){this.Gb[0].Zf(x.Q6,x.xR);
if(J==h4.y_||J==h4.uq||J==h4.f1)this.Gb[0].Rd(x.y9)};jM.selc=function(){jM.call(this);var x=this.n;this.mM=[];
this.il=null;this.k1=new i3([12,82],dv.hU.concat([[13,1,8],[13,1,13],[13,1,10]]));this.k1.k(L.E.A,this.ZL,this);
x.appendChild(this.k1.n);p.UF(x);for(var $=0;$<4;$++){var J=new fb(dv.a2n[$],-100,100,"%");J.k(L.E.A,this.ZL,this);
this.mM.push(J);x.appendChild(J.n)}this.by=new j8([13,3]);x.appendChild(this.by.n);this.by.k(L.E.A,this.ZL,this)};
jM.selc.prototype=new jM;jM.selc.prototype._=function(){this.k1._();this.by._();for(var $=0;$<4;$++)this.mM[$]._()};
jM.selc.prototype.w=function(x){this.il=JSON.parse(JSON.stringify(x));this.A1()};jM.selc.prototype.h=function(x){return JSON.parse(JSON.stringify(this.il))};
jM.selc.prototype.ZL=function(x){if(x.target!=this.k1){var J=this.il,o=[];for(var $=0;$<4;$++)o[$]=this.mM[$].h();
dC.Fa(J,this.k1.h(),o);J.Mthd={t:"enum",v:{CrcM:this.by.h()?"Absl":"Rltv"}}}this.A1();this.LJ()};jM.selc.prototype.A1=function(){var x=this.il,J=dC.Ne(x,this.k1.h());
for(var $=0;$<4;$++)this.mM[$].w(J[$]);this.by.w(x.Mthd?x.Mthd.v.CrcM=="Absl":!1)};jM.blwh=function(){jM.call(this,"blwh");
this.Gb.push(new j8([12,11]));this.Gb.push(new cp(!0));for(var $=0;$<6;$++)this.Gb.push(new fb(dv.hU[$],-200,300));
this.Rc()};jM.blwh.prototype=new jM;jM.blwh.prototype.vv=function(x,J){J[0]=x.useTint.v;J[1]=x.tintColor.v;
var o="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var $=0;$<6;$++)J[2+$]=x[o[$]].v};jM.blwh.prototype.p$=function(x,J){x.useTint.v=J[0];
x.tintColor.v=J[1];var o="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var $=0;$<6;$++)x[o[$]].v=J[2+$]};
jM.hue2=function(){jM.call(this);this.value=null;this.YX=null;this.amD=null;this.ID=[[0,0,0],[0,50,0]];
var x=this.n;this.Ga=new fA(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.Ga.k(L.E.A,this.a1y,this);this.Ga.k(L.E.A,this.u1,this);x.appendChild(this.Ga.n);var J=this.Gb=[new i3([12,12],["Master"].concat(dv.hU)),new fb([12,8],-180,180),new fb([12,9],-100,100),new fb([12,10],-100,100),new j8([12,11])];
for(var $=0;$<J.length;$++){var o=J[$];o.k(L.E.A,$==0?this._A:this.a57,this);x.appendChild(o.n)}this.k1=J[0];
this.sZ=J[1];this.bF=J[2];this.rP=J[3];this.t2=J[4];this.j$=new fA("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.j$.k(L.E.A,this.a1y,this);this.j$.k(L.E.A,this.u1,this);this.j$.n.style.marginLeft="20px";x.appendChild(this.j$.n);
this.EQ=p.i("div");x.appendChild(this.EQ);this.o9=this.yt.bind(this);this.HX=this._N.bind(this);this.$H=p.i("canvas");
this.n9=this.$H.getContext("2d");this.g$=null;p.Oo(this.$H);p.Pi(this.$H,282,18);x.appendChild(this.$H);
p.Ra(this.$H,this.c_.bind(this))};jM.hue2.prototype=new jM;jM.hue2.prototype.ip=function(x,J){p.Pi(this.$H,Math.round(x),18);
if(this.value)this._A()};jM.hue2.prototype.a1y=function(x){var J=x.target.h().indexOf(!0);if(J==-1)return;
if(x.target==this.Ga)this.j$.w([!1,!1,!1]);else this.Ga.w([!1,!1,!1])};jM.hue2.prototype.c_=function(x){if(this.k1.h()==0||this.t2.h())return;
var J=p.x2(x,this.$H).x/(this.$H.width/p.IJ()),b=1e6;function o(I,V,u){return I<V&&V<u||u<I&&(I<V||V<u)}var c=this.mU(),E=-1;
for(var $=0;$<4;$++){var l=Math.abs(J-(c[$]+$*1e-5));if(l<b){b=l;E=$}}if(b>.025){E=-1;var i=c[0],F=c[1],k=c[2],U=c[3];
if(o(i,J,F))E=4;if(o(F,J,k))E=5;if(o(k,J,U))E=6}if(E==-1)return;this.g$=E;p.aP(document.body,this.o9);
p.iU(document.body,this.HX)};jM.hue2.prototype.yt=function(x){var J=p.x2(x,this.$H).x/(this.$H.width/p.IJ()),o=this.mU(),c=this.g$;
for(var $=1;$<4;$++)if(o[$]<o[$-1]){o[$]+=1}if(c<4){var E=1e6,b=0;for(var $=-20;$<20;$++){var l=Math.abs(o[c]-(J+$));
if(l<E){E=l;b=$}}J+=b;o[c]=J;for(var $=c+1;$<4;$++)if(o[$]<o[$-1]){o[$]=o[$-1]}for(var $=c-1;$>=0;$--)if(o[$]>o[$+1]){o[$]=o[$+1]}}else{var i=J-(o[c-4]+o[c-3])/2;
if(i<-.5)i+=1;if(c==4){o[0]+=i;o[1]+=i;o[2]=Math.max(o[1],o[2]);o[3]=Math.max(o[1],o[3])}if(c==5)for(var $=0;
$<4;$++)o[$]+=i;if(c==6){o[2]+=i;o[3]+=i;o[0]=Math.min(o[0],o[2]);o[1]=Math.min(o[1],o[2])}}for(var $=1;
$<4;$++)if(o[$]<o[$-1])throw"e";this.aja(o);this._A();this.LJ()};jM.hue2.prototype._N=function(x){p.Qx(document.body,this.o9);
p.Ro(document.body,this.HX)};jM.hue2.prototype._=function(){for(var $=0;$<this.Gb.length;$++)this.Gb[$]._()};
jM.hue2.prototype.a57=function(x){var J=this.value.Clrz.v=this.t2.h();if(J)this.k1.w(0);if(x&&x.target==this.t2){var o=J?1:0;
this.ID[1-o]=eZ.Ne(this.value,0);var c=this.ID[o];eZ.Fa(this.value,0,c);if(this.k1.h()==0){this.sZ.w(c[0]);
this.bF.w(c[1]);this.rP.w(c[2])}}var E=this.k1.h(),b=eZ.Ne(this.value,E),c=E==0?b:b.Wj;c[0]=this.sZ.h();
var l=this.bF.h();c[1]=J?Math.max(0,l):l;c[2]=this.rP.h();eZ.Fa(this.value,E,b);this._A();this.LJ()};
jM.hue2.prototype._A=function(){var x=this.k1.h(),J=this.value.Clrz?this.value.Clrz.v:!1;this.t2.w(J);
this.k1.po(!J);this.j$.po(!J&&x!=0);var o=eZ.Ne(this.value,x),c=x==0?o:o.Wj;this.sZ.w(c[0]);this.bF.w(c[1]);
this.rP.w(c[2]);var E=this.$H.width,b=this.$H.height,l=this.n9;l.clearRect(0,0,E,b);if(J||x==0){this.EQ.innerHTML="";
return}var i=o.hX;this.EQ.innerHTML=i[0]+"\xB0 / "+i[1]+"\xB0<span style=\"float:right\">"+i[2]+"\xB0 \\ "+i[3]+"\xB0</span>";
var F=q.R(E*4);fQ.a66(F,1,E,-1,.5);var k=new ImageData(new Uint8ClampedArray(F.buffer),E,1),U=Math.round(b/4);
for(var $=0;$<U;$++)l.putImageData(k,0,$);function I(j,T,a){l.fillStyle=a;var P=U*2;if(j<=T)l.fillRect(j*E,P,(T-j)*E,U);
else{l.fillRect(0,P,T*E,U);l.fillRect(j*E,P,(1-j)*E,U)}}var V=this.mU();I(V[0],V[1],"#888888");I(V[1],V[2],"#cccccc");
I(V[2],V[3],"#888888");l.fillStyle="#ffffff";l.lineWidth=1;l.beginPath();var u=U+.5,N=4*U+.5;for(var $=0;
$<4;$++){var e=Math.floor(E*V[$])+.5,B=($<2?-1:1)*U*($==1||$==2?1:2);l.moveTo(e,u);l.lineTo(e,N);l.lineTo(e+B,N);
l.lineTo(e+B,U+U+.5);l.closePath()}l.fill();l.stroke()};jM.hue2.prototype.mU=function(){var x=this.k1.h(),J=eZ.Ne(this.value,x).hX;
for(var $=0;$<4;$++)J[$]=(1000.5+J[$]/360)%1;return J};jM.hue2.prototype.aja=function(x){var J=this.k1.h(),o=eZ.Ne(this.value,J);
for(var $=0;$<4;$++)o.hX[$]=Math.round(36e3+(x[$]-.5)*360)%360;eZ.Fa(this.value,J,o)};jM.hue2.prototype.XH=function(){return!0};
jM.hue2.prototype.a4k=function(){var x=this.Ga.h().indexOf(!0),J=this.j$.h().indexOf(!0);return x!=-1?x:J!=-1?J+1:-1};
jM.hue2.prototype.JC=function(x,J,o,c,E){var b=this.a4k();if(b==-1)return;var l=this.value;this.value=fn.Bt("hue2");
this.LJ();var i=n.um.Tx(x,E,1,null,!0);this.w(l);var F=[i>>>16&255,i>>>8&255,i&255],k=q.tu(F[0]/255,F[1]/255,F[2]/255);
if(b==0){this.k1.w(1+Math.round(k.ao*6)%6)}else{var U=this.mU(),I=.5+k.ao,V=1/12,u=U[1],N=U[2];if(N<u){N++;
if(I<u&&I+1-N<u-I)I++}var e=u<=I&&I<=N;if(b==1){u=I-V/2;N=I+V/2}else if(b==2&&!e){u=Math.min(I,u);N=Math.max(I,N)}else if(b==3&&e){if(I-u<N-I)u=I;
else N=I}U=[u-V,u,N,N+V];this.aja(U)}this.LJ();this.YX=E.x;this.amD=this.bF.h()};jM.hue2.prototype.OC=function(x,J,o,c,E){var b=this.a4k();
if(b==-1)return;if(b==0){if(this.YX!=null){var l=E.x-this.YX;l=Math.max(-100,Math.min(100,this.amD+.5*l));
this.bF.w(l);this.a57()}}};jM.hue2.prototype.w7=function(x,J,o,c,E){this.YX=null};jM.hue2.prototype.w=function(x){this.value=JSON.parse(JSON.stringify(x));
var J=this.value.Clrz?this.value.Clrz.v:!1;this.ID[J?1:0]=eZ.Ne(this.value,0);this._A()};jM.hue2.prototype.h=function(x){return JSON.parse(JSON.stringify(this.value))};
jM.levl=function(){function x(){jM.call(this);this.value=null;this.kc=null;this.eb=[new ck(0,0),new ck(0,0),new ck(0,0),new ck(0,0),new ck(0,0)];
this.mQ=-1;this.o9=this.yt.bind(this);this.HX=this._N.bind(this);var J=this.n;this.ry=new i3([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.ry.k(L.E.A,this._A,this);J.appendChild(this.ry.n);this.Bq=new aX;this.Bq.parent=this;this.Bq.k(L.E.A,this.KF,this);
J.appendChild(this.Bq.n);var o=p.i("div","");J.appendChild(o);var c=p.i("div","");J.appendChild(c);this.$H=p.i("canvas");
o.appendChild(this.$H);this.n9=this.$H.getContext("2d");this._g=new ck(256,120);this.$H.setAttribute("style","display:block");
p.Oo(this.$H);p.Ra(this.$H,this.c_.bind(this));this.O3=p.i("canvas","");c.appendChild(this.O3);this.m6=this.O3.getContext("2d");
this.ta=new ck(this._g.x,40);this.O3.setAttribute("style","display:block");p.Oo(this.O3);p.Ra(this.O3,this.ada.bind(this));
var E=this._H=[];for(var $=0;$<5;$++){var b=new cA(null,null,3);E.push(b);b.k(L.E.A,this.az$,this);($<2||$==4?o:c).appendChild(b.n)}o.appendChild(E[1].n);
this.Ga=new fA("Sample from image",fW.c5(["#000000","#888888","#ffffff"]),!0,null,!0);this.Ga.k(L.E.A,this.u1,this);
J.appendChild(this.Ga.n);this.ip(250,100)}x.prototype=new jM;x.prototype.KF=function(){var J=this.Bq.h(),o=this.kc,c=this.value,E=q.i$(J,o);
for(var $=0;$<4;$++){var b=E[$][0],l=E[$][1],i=E[$][2],F=[q._8.Ji(b,0,!0),q._8.Ji(l,255,!0)];if(i!=null)F.splice(1,0,q._8.Ji(128,i,!0));
var k=[~~b,~~l,0,255,i==null?100:~~(100+.75*100*(i-128)/128)];bF.Fa(c,$,k)}this._A();this.LJ()};x.prototype.ip=function(J,o){J+=6;
this._g.x=this.ta.x=J;p.Pi(this.$H,J,this._g.y,this.n9);p.Pi(this.O3,J,this.ta.y,this.m6);var c=this._H;
c[3].n.setAttribute("style","margin-left: "+(J-104)+"px");c[4].n.setAttribute("style","margin: 0 "+(J/2-74)+"px");
if(this.value)this._A()};x.prototype._=function(){this.ry._()};x.prototype.az$=function(J){var o=[];
for(var $=0;$<5;$++){var c=255,E=1;if($==4){c=999;E=100}var b=parseFloat(this._H[$].h());o[$]=Math.max(0,Math.min(c,b*E))}bF.Fa(this.value,this.ry.h(),o);
this._A();this.LJ()};x.prototype._A=function(J){var o=this._g.x,c=this._g.y,E=this.ry.h(),b=this.n9;
b.clearRect(0,0,o,c);b.fillStyle="#cccccc";b.fillRect(8,8,o-16,c-16-8);if(this.kc){var l=this.kc[0].slice(0),N=0;
if(E==0){l.fill(0);var i=JSON.parse(JSON.stringify(this.value));bF.Fa(i,0,[0,255,0,255,100]);var F=dv.SR("levl",i),k=[F.my,F.Ym,F.Nu];
for(var U=0;U<3;U++){var I=this.kc[1+U],V=k[U];for(var $=0;$<256;$++)l[V[$]]+=I[$]}}var u=E==0?l:this.kc[E];
for(var $=0;$<u.length;$++)N+=u[$];b.fillStyle="#333333";b.beginPath();b.moveTo(8,c-16);for(var $=0;
$<256;$++){var e=55*u[$]/N;b.lineTo(8+$/256*(o-16),Math.max(8,c-16-c*e))}b.lineTo(o-8,c-16);b.closePath();
b.fill()}var B=bF.Ne(this.value,E);for(var $=0;$<5;$++)this._H[$].w(B[$]/($==4?100:1));this.eb[0].DQ(8+B[0]/255*(o-16),c-14);
this.eb[1].DQ(8+B[1]/255*(o-16),c-14);var j=Math.log(B[4]/100)/Math.log(9.99);j=.5-j/2;this.eb[4].DQ(this.eb[0].x+j*(this.eb[1].x-this.eb[0].x),c-14);
this.DG(b,this.eb[0],"#000000");this.DG(b,this.eb[1],"#ffffff");this.DG(b,this.eb[4],"#777777");var o=this.ta.x,c=this.ta.y;
b=this.m6;b.clearRect(0,0,o,c);var T=b.createLinearGradient(0,0,o-16,0);T.addColorStop(0,"black");T.addColorStop(1,"white");
b.fillStyle=T;b.fillRect(8,8,o-16,16);this.eb[2].DQ(8+B[2]/255*(o-16),c-14);this.eb[3].DQ(8+B[3]/255*(o-16),c-14);
this.DG(b,this.eb[2],"#000000");this.DG(b,this.eb[3],"#ffffff")};x.prototype.DG=function(J,o,c){J.fillStyle=c;
J.fillRect(o.x-5,o.y,10,10)};x.prototype.c_=function(J){var o=p.x2(J,this.$H),c=this.atB([0,1,4],o);
if(c!=-1)this.mQ=c;this.afp()};x.prototype.ada=function(J){var o=p.x2(J,this.O3),c=this.atB([2,3],o);
if(c!=-1)this.mQ=c;this.afp()};x.prototype.atB=function(J,o){var c=-1,E=1e9;for(var $=0;$<J.length;$++){var b=Math.abs(this.eb[J[$]].x-o.x);
if(b<E){E=b;c=J[$]}}return E<16?c:-1};x.prototype.afp=function(J){if(this.mQ==-1)return;p.aP(document.body,this.o9);
p.iU(document.body,this.HX)};x.prototype.yt=function(J){var o=bF.Ne(this.value,this.ry.h()),c=p.x2(J,this.mQ==2&&this.mQ==3?this.O3:this.$H),E=255*(c.x-8)/(this._g.x-16);
E=Math.max(0,Math.min(255,E));if(this.mQ==0)E=Math.min(E,o[1]-2);if(this.mQ==1)E=Math.max(E,o[0]+2);
if(this.mQ!=4)o[this.mQ]=Math.round(E);else{var b=(E-o[0])/(o[1]-o[0]);b=1-2*b;b=Math.pow(9.99,b);o[4]=Math.min(999,Math.max(10,Math.round(b*100)))}bF.Fa(this.value,this.ry.h(),o);
this._A();this.LJ()};x.prototype._N=function(J){p.Qx(document.body,this.o9);p.Ro(document.body,this.HX);
this.mQ=-1};x.prototype.XH=function(){return!0};x.prototype.w7=function(J,o,c,E,b){var l=this.value,i=this.Ga.h().indexOf(!0);
if(i==-1)return;this.value=fn.Bt("levl");this.LJ();var F=n.um.Tx(J,b,1,null,!0),k=[F>>>16&255,F>>>8&255,F&255];
for(var $=0;$<3;$++){var U=bF.Ne(l,1+$);if(i==0)U[0]=k[$];if(i==1){var I=Math.log(k[$]/255)/Math.log((k[0]+k[1]+k[2])*.333/255);
U[4]=Math.min(999,Math.max(10,Math.round(100*I)))}if(i==2)U[1]=k[$];bF.Fa(l,1+$,U)}this.w(l);this.LJ()};
x.prototype.w=function(J){this.value=J;this._A()};x.prototype.RY=function(J){this.kc=J;this._A()};x.prototype.h=function(J){return JSON.parse(JSON.stringify(this.value))};
return x}();jM.phfl=function(){jM.call(this,"phfl");this.Gb.push(new cp);this.Gb.push(new fb([12,74],0,100,"%"));
this.Gb.push(new j8([13,4]));this.Rc()};jM.phfl.prototype=new jM;jM.phfl.prototype.vv=function(x,J){J[0]=x.Clr.v;
J[1]=x.Dnst.v;J[2]=x.PrsL.v};jM.phfl.prototype.p$=function(x,J){var o=q.r.fL(J[0]),c=x.Clr.v,E=q.tl(o.o,o.I,o.J);
c.Lmnc.v=E.FQ;c.A.v=E.V;c.B.v=E.J;x.Dnst.v=J[1];x.PrsL.v=J[2]};jM.vibA=function(){jM.call(this,"vibA");
this.Gb.push(new fb([12,13],-100,100,null));this.Gb.push(new fb([12,9],-100,100,null));this.Rc()};jM.vibA.prototype=new jM;
jM.vibA.prototype.vv=function(x,J){J[0]=x.vibrance?x.vibrance.v:0;J[1]=x.Strt?x.Strt.v:0};jM.vibA.prototype.p$=function(x,J){x.vibrance.v=J[0];
x.Strt.v=J[1]};jM.thrs=function(){jM.call(this,"thrs");this.Gb.push(new fb([4,13],1,255,null));this.Rc()};
jM.thrs.prototype=new jM;jM.thrs.prototype.vv=function(x,J){J[0]=x.Lvl.v};jM.thrs.prototype.p$=function(x,J){x.Lvl.v=J[0]};
jM.mixr=function(){jM.call(this);var x=this.n;this.mM=[];this.il=null;this.k1=new i3([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.amv=!1;this.k1.k(L.E.A,this.ZL,this);x.appendChild(this.k1.n);p.UF(x);this.rQ=new j8([12,60]);x.appendChild(this.rQ.n);
this.rQ.k(L.E.A,this.ZL,this);for(var $=0;$<4;$++){var J=new fb([[13,1,1],[13,1,4],[13,1,5],[13,2]][$],-200,200,"%");
J.k(L.E.A,this.ZL,this);this.mM.push(J);x.appendChild(J.n)}};jM.mixr.prototype=new jM;jM.mixr.prototype._=function(){this.k1._();
this.rQ._();for(var $=0;$<4;$++)this.mM[$]._()};jM.mixr.prototype.w=function(x){this.il=JSON.parse(JSON.stringify(x));
this.A1()};jM.mixr.prototype.h=function(x){return JSON.parse(JSON.stringify(this.il))};jM.mixr.prototype.ZL=function(x){if(x.target!=this.k1){var J=dv.px(this.il);
if(x.target==this.rQ){J.rQ=this.rQ.h();if(J.rQ)J.b=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else J.b=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var o=(J.rQ?0:this.k1.h())*5,$=this.mM.indexOf(x.target);
J.b[o+($<3?$:4)]=x.target.h()}this.il=dv.at_(J)}this.A1();this.LJ()};jM.mixr.prototype.A1=function(){var x=dv.px(this.il);
if(x.rQ!=this.amv)this.k1.Ed(x.rQ?[[13,1,7]]:dv.rF);this.amv=x.rQ;this.rQ.w(x.rQ);var J=(x.rQ?0:this.k1.h())*5;
for(var $=0;$<4;$++)this.mM[$].w(x.b[J+($<3?$:4)])};jM.post=function(){jM.call(this,"post");this.Gb.push(new fb([4,1],2,255,null));
this.Rc()};jM.post.prototype=new jM;jM.post.prototype.vv=function(x,J){J[0]=x.Lvls.v};jM.post.prototype.p$=function(x,J){x.Lvls.v=J[0]};
jM.clrL=function(){jM.call(this,"clrL");this.Gb.push(new gd("LUTs"));this.Rc()};jM.clrL.prototype=new jM;
jM.clrL.prototype.vv=function(x,J){J[0]=x};jM.clrL.prototype.p$=function(x,J){var o=J[0];for(var c in o)x[c]=o[c]};
jM.clrL.prototype.DL=function(x,J){if(J==h4.y_||J==h4.lF)this.Gb[0].Rd(x.a1E)};jM.rplc=function(){jM.call(this,"rplc");
this.Gb.push(new fb([12,92],0,200));this.Gb.push(new cp);this.Gb.push(new fb([12,8],-180,180));this.Gb.push(new fb([12,9],-100,100));
this.Gb.push(new fb([12,10],-100,100));this.Rc()};jM.rplc.prototype=new jM;jM.rplc.prototype.vv=function(x,J){J[0]=x.Fzns.v;
J[1]=x.Mxm.v;J[2]=x.H.v;J[3]=x.Strt.v;J[4]=x.Lght.v};jM.rplc.prototype.p$=function(x,J){function o(E,b){b.Lmnc.v=E.FQ;
b.A.v=E.V;b.B.v=E.J}x.Fzns.v=J[0];x.H.v=J[2];x.Strt.v=J[3];x.Lght.v=J[4];var c=q.r.fL(J[1]),E=q.tl(c.o,c.I,c.J);
o(E,x.Mnm.v);o(E,x.Mxm.v)};jM.fade=function(){jM.call(this,"fade");this.Gb.push(new fb([12,0],0,100,"%"));
this.Gb.push(new i3([12,19,0],iP.pP,iP.QK));this.Rc()};jM.fade.prototype=new jM;jM.fade.prototype.vv=function(x,J){J[0]=x.Opct.v.val;
J[1]=iP.$l.indexOf(x.Md.v.BlnM)};jM.fade.prototype.p$=function(x,J){x.Opct.v.val=J[0];x.Md.v.BlnM=iP.$l[J[1]]};
jM.aply=function(){var x=iP.$l.concat(["Add","Sbtr"]);x.splice(21,1);var J=iP.pP.concat([[15,10,28],[15,10,21]]);
J.splice(21,1);var o=iP.QK.slice(0);o[4]--;function c(){jM.call(this,"aply");this.Gb.push(new i3([0,3],[]));
this.Gb.push(new i3([12,4],["RGB"].concat(dv.rF).concat(["Transparency"])));this.Gb.push(new j8([4,11]));
this.Gb.push(new i3([12,19,0],J,o));this.Gb.push(new fb([12,0],0,100,"%"));this.Gb.push(new f1([12,38],1,2,null,2));
this.Gb.push(new f1([12,6],-255,255));this.Gb.push(new j8([13,5]));this.Rc([2]);this.sN=null}c.prototype=new jM;
c.prototype.vv=function(E,b,l){if(l){var i=l[2].B,F=this.sN=[];for(var $=0;$<i.length;$++){var k=i[$].getName();
F.push(k.length<30?k:k.slice(0,27)+"...")}F.reverse();this.Gb[0].Ed([[5,7]].concat(F),[1,F.length])}else var F=this.sN;
E=E.With.v;var U=E.T.v;b[0]=U[1].t=="name"?1+F.indexOf(U[1].v.val):0;b[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(U[0].v.enum);
b[2]=E.Invr.v;var I=E.Clcl.v.Clcn;b[3]=x.indexOf(I);b[4]=E.Opct.v.val;b[5]=E.Scl.v;b[6]=E.Ofst.v;b[7]=E.PrsT.v};
c.prototype.p$=function(E,b){E=E.With.v;var l=E.T.v;if(b[0]==0)l[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else l[1]={t:"name",v:{classID:"Lyr",val:this.sN[b[0]-1]}};l[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][b[1]];
E.Invr.v=b[2];var i=E.Clcl.v.Clcn=x[b[3]];E.Opct.v.val=b[4];E.Scl.v=b[5];E.Ofst.v=b[6];E.PrsT.v=b[7];
var F=i=="Add"||i=="Sbtr";this.Gb[5].po(F);this.Gb[6].po(F)};return c}();jM.matc=function(){var x,J,o=0;
function c(){jM.call(this,"matc");this.Gb.push(new fb("Luminance",1,200));this.Gb.push(new fb("Color Intensity",1,200));
this.Gb.push(new fb([2,11],0,100,"%"));this.Gb.push(new j8("Neutralize"));this.Gb.push(new i3([12,70],[]));
this.Gb.push(new i3([0,3],[]));this.Rc([2])}function E(b,l){b.Gb[5].Ed([[5,7]].concat(l),[1,l.length])}c.prototype=new jM;
c.prototype.vv=function(b,l,i){o=0;l[0]=b.Lght.v;l[1]=b.ClrR.v;l[2]=b.Fade.v;l[3]=b.neutralizeColor?b.neutralizeColor.v:!1;
l[4]=l[5]=0;var F=b.Srce;if(F)F=F.v;if(i){x=[];J=[];var k=i[2],U=i[3];for(var $=0;$<U.length;$++){var I=U[$];
x.push(I.name);var V=I.B,u=[];J.push(u);for(var N=0;N<V.length;N++)u.push(V[N].getName());u.reverse()}this.Gb[4].Ed([[13,1,0]].concat(x),[1,x.length]);
var e=U.indexOf(k);if(F)e=x.indexOf(F[1].v.val);E(this,J[e])}if(F){var B=x.indexOf(F[1].v.val);l[3]=o=1+B;
if(F[0].t=="name")l[4]=1+J[B].indexOf(F[0].v.val)}};c.prototype.p$=function(b,l){b.Lght.v=l[0];b.ClrR.v=l[1];
b.Fade.v=l[2];b.neutralizeColor.v=l[3];if(l[4]==0){b.noReference={t:"bool",v:!0};delete b.Srce}else{if(l[4]!=o){o=l[4];
E(this,J[l[4]-1])}delete b.noReference;var i={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},F=J[l[4]-1];
if(l[5]!=0)i={t:"name",v:{classID:"Lyr",val:F[l[5]-1]}};b.Srce={t:"obj ",v:[i,{t:"name",v:{classID:"Dcmn",val:x[l[4]-1]}}]}}};
return c}();function i$(x,J){gB.call(this);if(x==null)return;this.id=J;this.aE=x;this.OZ=null;this.n=p.i("div","window "+J);
this.ayg=null;this.yA=p.i("div","whead");this.a4i=p.i("span","wname");this.yA.appendChild(this.a4i);
this.a49=!1;this.n.appendChild(this.yA);this.sl=this.a1Z.bind(this);this.N3=this.ar_.bind(this);this.js=this.aqA.bind(this);
p.Oo(this.yA);p.Ra(this.yA,this.sl);this.agR=p.i("span","cross gsicon");this.yA.appendChild(this.agR);
i$.prototype._.call(this);p.iU(this.agR,this.anz.bind(this));this.body=p.i("div","body");this.n.appendChild(this.body)}i$.prototype=new gB;
i$.prototype.Yv=function(){return!1};i$.prototype.XH=function(){return!1};i$.prototype._=function(){if(this.aE==null)return;
this.a4i.textContent=h9.get(this.aE)};i$.prototype.JC=function(x,J,o,c,E){};i$.prototype.G_=function(x,J,o,c,E){};
i$.prototype.OC=function(x,J,o,c,E){};i$.prototype.w7=function(x,J,o,c,E){};i$.prototype.KY=function(x,J,o,c,E){};
i$.prototype.B3=function(x,J,o,c){if(c.S(dG.eP)&&this.CO)this.CO();if(c.S(dG._k)){var E=new ko(L.E.f);
E.A8=!0;n.FF.afr(c,E);if(E.data)J.c(E)}};i$.prototype.f3=function(x){return!1};i$.prototype.gy=function(x,J){return!0};
i$.prototype.L8=function(x,J,o,c){};i$.prototype.DL=function(x,J){};i$.prototype.MN=function(x,J){return null};
i$.prototype.acE=function(x){return this.ayg};i$.prototype.ip=function(){};i$.prototype.close=function(){this.c(new ko(L.E.xA))};
i$.prototype.a1Z=function(x){this.OZ=p.x2(x,this.n);p.aP(window,this.N3);p.iU(window,this.js)};i$.prototype.ar_=function(x){var J=this.n.parentNode,o=p.x2(x,J),c=Math.round(o.x-this.OZ.x),E=J.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(o.y-this.OZ.y)));
this.ayg=new ck(c,E);this.n.style.left=c+"px";this.n.style.top=E+"px"};i$.prototype.aqA=function(x){p.Qx(window,this.N3);
p.Ro(window,this.js)};i$.prototype.anz=function(x){if(this.a49){this.CO();return}this.c(new ko("closebtn"));
this.close()};function c5(){i$.call(this,"About Photopea","aboutpp");var x=p.i("div","flexrow");this.body.appendChild(x);
var J=this.aoQ=p.i("img");x.appendChild(J);this.body.setAttribute("style","margin:0; padding:0");var o=this.N4=p.i("div");
o.innerHTML=c5.Pt;x.appendChild(o);var c=this.Nh=p.i("span");c.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(c)}c5.prototype=new i$;c5.prototype.MN=function(x,J){return new ck(0,0)};c5.prototype.ip=function(x,J){var o=this.aoQ,c=this.N4,E=this.Nh,b=(x+J-42-42)/110;
b=Math.sqrt((x-42)*(J-42))/50;o.setAttribute("style","width:"+x/2+"px; height:"+J+"px; display:block; object-fit:cover;");
c.setAttribute("style","width:"+(x/2-42)+"px; height:"+(J-42)+"px; padding:20px; font-size:"+b+"px;");
E.setAttribute("style","position:absolute;  bottom:10px; right:"+(x/2+10)+"px")};c5.prototype._=function(){};
c5.prototype.L8=function(x,J,o,c){this.aoQ.setAttribute("src","promo/ivan_pp.webp")};c5.Pt="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function dB(){i$.call(this,[0,13,0],"account");this._0=p.i("div","form scrollable");this.body.appendChild(this._0);
this.body.style.padding="0";this.N7=[new dB.Jc,new dB.l0("::privacy.html"),new dB.l0(dB.ahw)];for(var $=0;
$<this.N7.length;$++)this.N7[$].parent=this;this.k("showpage",this.a0a,this)}dB.prototype=new i$;dB.prototype.gy=function(x,J){var o=navigator.onLine;
if(!o)alert("Go online first");return o};dB.prototype.ip=function(x,J){this._0.setAttribute("style","width:"+Math.min(x-40,740)+"px;  height:"+(J-38)+"px;  padding:1.5em;");
this.N7[0].ip(x,J)};dB.prototype.MN=function(x,J){return new ck(Math.max(0,Math.min(150,(x-740)/2)),Math.max(0,Math.min(100,(J-500)/2)))};
dB.prototype.a0a=function(x){p.LX(this._0);this._0.scrollTop=0;this._0.appendChild(this.N7[x.data.cD].n)};
dB.prototype._=function(){i$.prototype._.call(this);for(var $=0;$<this.N7.length;$++)this.N7[$]._()};
dB.prototype.L8=function(x,J,o){if(!navigator.onLine)return;p.LX(this._0);var c=this.N7[0];this._0.appendChild(c.n);
c.L8();this._()};dB.prototype.DL=function(x,J){this.L8(null,null,null)};dB.Jc=function(){gB.call(this);
this.n=p.i("div");var x=this.n,i,F,U="font-size:1.25em;",I="text-align:center;",u="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",N="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",e="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",j=12;
this.s1=p.i("div");x.appendChild(this.s1);this.q1=new eH([0,11],!1,null,!0);this.q1.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.q1.k("click",this.zn,this);x.appendChild(this.q1.n);this.oK=new eH([0,13,1],!1,null,!0);this.oK.k("click",this.alb,this);
x.appendChild(this.oK.n);this.$R=new eH("Business Terms",!1,null,!0);this.$R.k("click",this.agd,this);
x.appendChild(this.$R.n);var J=p.i("div");J.style.margin="20px 0";x.appendChild(J);var o=["Account Types","Go Premium","Team Settings","Distributors"],c=this.DW=[],E=this.auD=[],b=this.T3=p.i("div");
x.appendChild(b);for(var $=0;$<o.length;$++){var l=p.i("span");l.textContent=o[$];J.appendChild(l);c.push(l);
l.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
l.addEventListener("click",this.PU.bind(this));E.push(p.i("div"))}this.PU(0);var k=this.aoP="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
x=E[0];var F=p.i("table"),V="style=\" "+I+U+" padding-bottom:20px;\"";F.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+e+">\t\t\t\t\t<div "+V+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+e+">\t\t\t\t\t<div "+V+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+N+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
x.appendChild(F);var l=new eH("Go Premium");l.n.setAttribute("style",k+"padding:10px 0;");l.k("click",function(P){this.PU(1)},this);
F.children[0].children[1].children[1].appendChild(l.n);this.pj=p.i("div");x.appendChild(this.pj);x=E[1];
var B=this.aw3=[[10,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.fJ=[];for(var $=0;$<B.length;$++)this.fJ.push(new eH("Buy: $"+B[$][0],!1,null,!0));for(var $=0;
$<this.fJ.length;$++){this.fJ[$].k("click",this.aq1,this)}this.b9=new eH("...",!0);this.b9.n.setAttribute("style",k);
x.appendChild(this.b9.n);F=this.a6J(4,["Single user",this.fJ[0],this.fJ[1],this.fJ[2],"Team of 5",this.fJ[3],this.fJ[4],this.fJ[5],"Team of 20",this.fJ[6],this.fJ[7],this.fJ[8],"Team of 50",this.fJ[9],this.fJ[10],this.fJ[11]]);
x.appendChild(F);this.aDn=new j8("I accept",!0,"");x.appendChild(this.aDn.n);this.TH=new eH([0,13,1],!1,null,!0);
this.TH.k("click",this.alb,this);x.appendChild(this.TH.n);this.Y5=new eH("I have a key",!1,null,!0);
this.Y5.n.setAttribute("style",k+" float:right; width:inherit;");this.Y5.k("click",this.aq1,this);x.appendChild(this.Y5.n);
x=E[2];this.zf=new gU;this.zf.parent=this;this.zf.k(L.E.A,this.Wz,this);x.appendChild(this.zf.n);x=E[3];
this.gX=new eH("...",!0);this.gX.n.setAttribute("style",k);x.appendChild(this.gX.n);F=this.a6J(3,["1000 views/mo",this.fJ[j++],this.fJ[j++],this.fJ[j++],"5000 views/mo",this.fJ[j++],this.fJ[j++],this.fJ[j++],"20000 views/mo",this.fJ[j++],this.fJ[j++],this.fJ[j++]]);
x.appendChild(F);var T=p.i("p");T.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
x.appendChild(T);this.Ft=new cA("Domain name (e.g. domain.com)",null,14);x.appendChild(this.Ft.n);var a=new eH("Save Domain Settings",!1,null,!0);
a.V2();x.appendChild(a.n);a.k("click",this.adw,this)};dB.Jc.prototype=new gB;dB.Jc.prototype.PU=function(x){var J=typeof x=="number"?x:this.DW.indexOf(x.target);
for(var $=0;$<4;$++)this.DW[$].style.opacity=.6;this.DW[J].style.opacity=1;p.LX(this.T3);this.T3.appendChild(this.auD[J])};
dB.Jc.prototype.ip=function(x,J){var o=x<600?"d":" days",c=["30 days","90 days","365 days"];if(x<600)c=["30d","90d","365d"];
var E=this.aw3;for(var $=0;$<E.length;$++){this.fJ[$].bo("<span>"+c[$%3]+": <sup>$</sup><big><b>"+E[$][0]+"</b></big>"+"</span>");
this.fJ[$].n.setAttribute("style",this.aoP)}};dB.Jc.prototype.alb=function(x){var J=new ko("showpage",!0);
J.data={cD:1};this.c(J)};dB.Jc.prototype.agd=function(x){var J=new ko("showpage",!0);J.data={cD:2};this.c(J)};
dB.Jc.prototype._=function(){this.q1.bo(j4.bM()?h9.get([0,11]):h9.get([0,10]));this.TH._();this.oK._();
this.$R._()};dB.Jc.prototype.axU=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.pp,link:"https://www.photopea.com/api/accounts#"+(x.target==this.ao2?"teams":"distributors")};
this.c(J)};dB.Jc.prototype.aaj=function(x){var J=x.currentTarget==this.a83;this.a83.w(J);this.ayP.w(!J)};
dB.Jc.prototype.anl=function(x){var J=this.a83.h(),o=this.aCr.h().trim().toLowerCase(),c=this.a5C.value.trim().toLowerCase();
if(o.length>60){alert("Too long email address");return}if(c.length>600){alert("Too many team members");
return}c=c.split(",").join(" ").trim();c=c.replace(/\s+/g," ");if(c=="")c=[];else c=c.split(" ");var E=j4.f7();
if(E==null)E={};if(E.acc==null)E.acc={};E.acc.team={jin:J,ldr:o,mmb:c};j4.T9(E,this.Wz.bind(this));alert("Saved!");
this.L8()};dB.Jc.prototype.adw=function(x){var J=this.Ft.h().trim();if(!j4.bM()){alert("You have to log in first.");
return}if(j4.L6()==0){alert("Order a distributor account first.");return}var o=j4.f7();if(o==null)o={};
if(o.acc==null)o.acc={};if(J=="")delete o.acc.dname;else o.acc.dname=J;j4.T9(o,this.Wz.bind(this));alert("Saved!");
this.L8()};dB.Jc.prototype.a2p=function(x){var J=j4.c6(),$=this.dD,o=j4.f7();if(o==null)o={};if(o.acc==null)o.acc={};
o.acc.bto=x;j4.T9(o,function(){});var c=dB.a2L(x.split("\n"),J.pmnts[$]);bB.save(c,"photopea_invoice.pdf")};
dB.Jc.prototype.aBo=function(x){var J=j4.c6(),o=j4.f7(),c=o.acc?o.acc.bto:null;if(c==null)c=J.name+"\n"+J.email;
var $=-1,E=x.target.n.parentNode;while((E=E.previousSibling)!=null)$++;this.dD=$;var b=new ko(L.E.N,!0);
b.data={d:L.H.yI,AN:"billto",xg:c,sA:this.a2p.bind(this)};this.c(b)};dB.Jc.prototype.L8=function(){this.s1.innerHTML="";
p.LX(this.pj);if(j4.bM()){var x=j4.c6(),J=x.pmnts;if(x==null)return;this.s1.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+x.name+"</span> "+x.email+" <br/>";
if(J){var o="<h2>Payments</h2>";for(var $=0;$<J.length;$++){var c=J[$],E=new Date(c[0]*1e3);o+="<div style=\"font-size:1.2em\">"+E.getDate()+". "+(E.getMonth()+1)+". "+E.getFullYear()+" - "+dB.aA_(c)+"</div>"}this.pj.innerHTML=o;
for(var $=0;$<J.length;$++){var b=new eH("Get Invoice",!1,null,!0);b.n.setAttribute("style","float:right");
b.k("click",this.aBo,this);this.pj.children[$+1].appendChild(b.n)}}}else{}var l=j4.bM()&&j4.I4();this.b9.n.style.display=l?"block":"none";
if(l){var i,F,k=l;if(k[0]==0){i=j4.zr(k[1])-Date.now()*(1/1e3);F=k[1][2]==1?"Single User":"Team Of "+k[1][2]}else{i=k[1][1]-Date.now()*(1/1e3);
F="Member of \""+k[1][0]+"\""}this.b9.bo("Premium active for "+Math.round(i/(60*60*24))+" more days! ("+F+")")}var U=j4.bM()&&j4.L6()*1e3>Date.now();
this.gX.n.style.display=U?"block":"none";if(U){var i=j4.L6()-Date.now()/1e3;this.gX.bo("Distributor active for "+Math.round(i/(60*60*24))+" more days!")}var I=j4.f7();
this.zf.L8();if(I&&I.acc&&I.acc.dname)this.Ft.w(I.acc.dname);else this.Ft.w("")};dB.Jc.prototype.a6J=function(x,J){var o=p.i("table");
if(!0){var c="<table><tr>";for(var $=0;$<x;$++)c+="<th>"+J[$*4]+"</th>";c+="</tr></table>";o.innerHTML=c;
for(var $=0;$<3;$++){var E=p.i("tr"),b;o.appendChild(E);for(var l=0;l<x;l++){b=p.i("td");b.style.width=Math.round(100/x)+"%";
E.appendChild(b);b.appendChild(J[l*4+1+$].n)}}}return o};dB.Jc.prototype.aq1=function(x){var J=this.fJ.indexOf(x.currentTarget),c=30,E=1;
if(!j4.bM()){this.zn();return}if(this.aDn.h()==!1&&J<12){alert("You must accept Terms of Service");return}var o=j4.bM()&&j4.I4();
if(J!=-1){var b=this.aw3[J];c=b[1];E=b[2]}if(o&&E<1e3){alert("You already have premium.");return}console.log(b,c,E);
if(J==-1){var l=prompt("Please enter your key");if(l!=null){j4.a4$(l,this.Wz.bind(this));this.$D()}return}if(c==30&&E==1){var i=confirm("You can have 90 days for $15. Do you still want a 30 days version for $10?");
if(!i)return}j4.order(c,E,this.Wz.bind(this));this.$D()};dB.Jc.prototype.Wz=function(x){this.L8();this.$D()};
dB.Jc.prototype.zn=function(x){if(j4.bM()){j4.apa();this.$D();this.L8(null,null,null)}else j4.zn(this.a1C.bind(this))};
dB.Jc.prototype.a1C=function(){var x=new ko(L.E.N,!0);x.data={d:L.H.a3u};this.c(x)};dB.Jc.prototype.$D=function(){var x=new ko(L.E.N,!0);
x.data={d:L.H.ap6};this.c(x)};dB.l0=function(x){gB.call(this);this.n=p.i("div");var J=this.n,o=this.apC=new eH([0,13,2],!1,null,!0),c;
o.k("click",this.axa,this);J.appendChild(o.n);if(x.startsWith("::")){c=p.i("iframe");c.setAttribute("style","width:100%;height:1700px; background-color:white;");
c.setAttribute("src",x.slice(2))}else{c=p.i("div");c.innerHTML=x}J.appendChild(c)};dB.l0.prototype=new gB;
dB.l0.prototype.axa=function(x){var J=new ko("showpage",!0);J.data={cD:0};this.c(J)};dB.l0.prototype._=function(){this.apC._()};
dB.ahw="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
dB.aA_=function(x){var J=x[1]+" days, ";if(x[2]<1e3)return"Photopea Premium ("+J+x[2]+" user"+(x[2]==1?"":"s")+")";
else return"Photopea Distributor ("+J+x[2]+" views/month)"};dB.a2L=function(x,J){x=["Bill To:"].concat(x);
var o=new ToPDF,c=595,E=842,b=40,l=18,i=12,F=500,k=100,U=400,e=0;function I(H,_,Y,K,f){u.font.Tf=f?"Helvetica-Bold":"Helvetica";
u.ctm=[1,0,0,1,_,Y];u.font.Tfs=K?K:i;o.PutText(u,H,0)}function V(H,_,Y,K){for(var $=0;$<H.length;$++){I(H[$],_,Y-$*K,null,$==0)}}var u=UDOC.getState();
o.StartPage(0,0,c,E);I("INVOICE",c-b-140,E-b-30,30,!0);V(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],b,E-b-40,l);
var N=new Date(J[0]*1e3);V(["Date: "+N.getDate()+". "+(N.getMonth()+1)+". "+N.getFullYear(),"Transaction ID: "+J[4]],c-b-140,E-b-40-l*2,l);
var B=x.join("");for(var $=0;$<B.length;$++)e=Math.max(e,B.charCodeAt($));if(e>256){var j=4,T=p.i("canvas"),a=T.getContext("2d"),P=0;
a.font=i*j+"px sans-serif";for(var $=0;$<x.length;$++)P=Math.max(P,a.measureText(x[$]).width);var v=Math.round(P)+20,R=x.length*j*l+20;
T.width=v;T.height=R;a.font=i*j+"px sans-serif";for(var $=0;$<x.length;$++){a.font=($==0?"bold ":"")+i*j+"px sans-serif";
a.fillText(x[$],10,($+1)*j*l)}document.body.appendChild(T);var y=new Uint8Array(a.getImageData(0,0,v,R).data.buffer);
u.ctm=[v/j,0,0,R/j,b-10/j,E-b-40-100-R/j];o.PutImage(u,y,v,R);u.ctm=[1,0,0,1,0,0]}else V(x,b,E-b-40-100,l);
u.colr=[.8,.8,.8];u.pth={cmds:["M","L","L","L","Z"],crds:[b,F,c-b,F,c-b,F-l,b,F-l]};o.Fill(u);u.colr=[0,0,0];
var t=[b,F,c-b,F,b,F-l,c-b,F-l,b,F-k,c-b,F-k,b,F,b,F-k,c-b,F,c-b,F-k,U,F,U,F-k],g=[];for(var $=0;$<t.length;
$+=4)g.push("M","L");u.pth={cmds:g,crds:t};o.Stroke(u);I("Order details",b+4,F-14);I(dB.aA_(J),b+4,F-l-14);
I("TOTAL:",b+4,F-k-14,null,!0);I("Price",c-b-50,F-14);I(J[3]+" USD",c-b-60,F-l-14);I(J[3]+" USD",c-b-60,F-k-14,null,!0);
I("www.Photopea.com",b,b);I("support@photopea.com",c-b-130,b);o.ShowPage();o.Done();return o.buffer};
function jD(){i$.call(this,[11,14],"addguides");this.VE;this.Vh={Km:{jm:0}};this.Di=null;var x=p.i("div","form");
this.body.appendChild(x);this.rn=[];this.ES=new fW(null,["Hi"]);x.appendChild(this.ES.n);p.UF(x);this.ES.k(L.E.A,this.bK,this);
this.Du=new cA([22,4,0],null,16);this.Du.k(L.E.A,this.Wb,this);this.$i=new cA([22,4,1],null,16);this.$i.k(L.E.A,this.Wb,this);
this.SV=new i3(null,q.xP.Bz);this.SV.k(L.E.A,this.Wb,this);x.appendChild(this.Du.n);x.appendChild(this.SV.n);
p.UF(x);x.appendChild(this.$i.n);this.wx=p._j(this,x);this.k("closebtn",this.Rn,this)}jD.prototype=new i$;
jD.prototype.gy=function(x,J){return x!=null};jD.prototype.Yv=function(){return!0};jD.prototype._=function(){i$.prototype._.call(this);
this.Du._();this.$i._();this.SV._();this.wx._()};jD.prototype.DL=function(x,J){var o=x.Km.jm;this.Vh.Km.jm=o;
this.SV.w(o)};jD.prototype.L8=function(x,J){this.VE=x;this.Di=JSON.stringify(x.yl());this.rn=[-1];var o=["Global"],c=x.root.children,E=x.Eq();
for(var $=0;$<c.length;$++){var b=c[$].a;if(b.add.artb){o.push(b.getName());this.rn.push(c[$].index)}}this.ES.Ed(o);
this.ES.w(this.rn.indexOf(E));this.bK()};jD.prototype.bK=function(){var x=this.VE,J=x.yl(),o=this.rn[this.ES.h()],c=[0,0];
if(o!=-1){var E=x.B[o].uc();c=[E.x,E.y]}var b=function(l,i,x,F,k){var U=l[0],I=[];for(var $=0;$<U.length;
$++)if(l[1][$]==o&&U[$][0]==i)I.push(q.xP.Cx(U[$][1]-c[i],x.yV,F,k));I.sort(function(V,u){return V-u});
return I.join(", ")};this.Du.w(b(J,1,x,this.Vh,x.e));this.$i.w(b(J,0,x,this.Vh,x.m))};jD.prototype.Wb=function(x){if(x&&x.currentTarget==this.SV)this.Vh.Km.jm=this.SV.h();
else{var J=this.a6W(),o=this.VE;o.xW(J);o.sD=!0}this.bK()};jD.prototype.a6W=function(){var x=this.VE,J=x.yl(),o=this.rn[this.ES.h()],c=[0,0];
if(o!=-1){var E=x.B[o].uc();c=[E.x,E.y]}var b=[];for(var l=0;l<2;l++){var i=l==0?this.$i:this.Du,F=l==0?x.m:x.e,k=i.h().replace(/,/g," ").replace(/  +/g," ").trim(),U=k==""?[]:k.split(" ");
for(var $=0;$<U.length;$++)b.push([l,q.xP.aC5(U[$],x.yV,this.Vh,F)+c[l]])}for(var $=0;$<J[0].length;
$++)if(J[1][$]==o){J[0].splice($,1);J[1].splice($,1);$--}for(var $=0;$<b.length;$++){J[0].push(b[$]);
J[1].push(o)}return J};jD.prototype.Rn=function(x){var J=this.VE;J.xW(JSON.parse(this.Di));J.sD=!0;this.VE=null};
jD.prototype.CO=function(x){this.Wb(x);var J=new ko(L.E.f,!0);J.v=n.ug;J.data={d:"gids",cC:JSON.parse(this.Di),mu:this.VE.yl()};
this.VE=null;this.close();this.c(J)};function jJ(x){i$.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[x],x);
this.Vh=null;this.VE=null;var J=p.i("div","form");this.body.appendChild(J);J.setAttribute("style","width:300px");
this.sG=new b9("Source Images",!0,!0);J.appendChild(this.sG.n);this.$P=new i3([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
this.k8=new j8("Order images by name");this.k8.w(!0);var o=this.az_=hR.ZG();for(var $=0;$<o.length;$++)if(hR.rb(o[$]).gi){o.splice($,1);
$--}o.push("SVG","PDF");this.WC=new i3([12,50],o);this.aU=new cQ;this.WC.k(L.E.A,this.jJ,this);this.qG=new i3("Action Set",[]);
this.qG.k(L.E.A,this.DL,this);this.Ge=new i3("Action",[]);if(x=="pdfpres"){J.appendChild(this.$P.n);
J.appendChild(this.k8.n)}else{if(x=="batch"){J.appendChild(this.qG.n);p.UF(J);J.appendChild(this.Ge.n);
p.bN(J)}J.appendChild(this.WC.n);J.appendChild(this.aU.n)}var c=["VAR0 PDF",[1,8]];if(x=="cformat")c="Convert Images";
if(x=="batch")c="Process Images";if(x=="mockups")c="Generate";var E=new eH(c,!0,null,!0);E.k("click",this.rz,this);
J.appendChild(E.n);this.jJ()}jJ.prototype=new i$;jJ.prototype.jJ=function(x){var J=this.az_[this.WC.h()];
this.aU.zZ(J)};jJ.prototype.rz=function(x){var J=this.sG.h(),o=[],b=595,l=842,N;for(var c in J)o.push(c);
if(o.length==0){alert("No images selected");return}if(this.k8.h())o.sort();var E=this.$P.h(),i=new ToPDF,F=UDOC.getState(),k=this.az_[this.WC.h()],U=hR.rb(k),I=this.aU.h(),V={},u=this.VE;
if(this.id=="mockups"){if(u==null){alert("Open a document with smart objects");return}var e=u.B[u.g[0]];
if(e.add.SoLd==null){e=null;for(var $=0;$<u.B.length;$++)if(u.B[$].add.SoLd)e=u.B[$];if(e==null){alert("There are no smart objects in a current document.");
return}}u.g=[u.B.indexOf(e)];N=e.add.SoLd.Sz.v}for(var B=0;B<o.length;B++){var c=o[B],j=J[c],T=j[0]==255,a=hR.M1(j.buffer),P=hR.rb(a),v=[{XO:new ha,data:new ArrayBuffer(0)}],R=null;
if(a=="psd"&&!U.gi)v=aG.arG(j.buffer);else if(P.gi){R=new hk("file.psd");P.zu(j.buffer,R);R.NT();if(!U.gi){if(R.C6)i6.vJ(R,this.Vh.a0,this);
R.W();R.Q4();v=[{XO:new ha(0,0,R.m,R.e),data:R.or().buffer}]}}else v=P.zu(j.buffer);if(this.id=="batch"){var y=new ko(L.E.N,!0),t=this.Vh,g=t.Qg,H=g[this.qG.h()];
for(var $=0;$<v.length;$++){R=hR.GN(c,[v[$]]);y.data={d:L.H.wl,Th:R};this.c(y);if(R.B.length==3)R.g=[1];
hi.aka(R,g,H.T3[this.Ge.h()].wd,H.wd,this);R.W();R.Q4();v[$].XO=new ha(0,0,R.m,R.e);v[$].data=R.or().buffer;
y.data={d:L.H.JN,PN:R};this.c(y)}}if(this.id=="mockups"){var y=new ko(L.E.p4,!0);y.data={bV:"placedLayerEditContents",Rx:{classID:"placedLayerEditContents"}};
this.c(y);var _=new Uint8Array(v[0].data),Y=v[0].XO,K=n.Y.yo([_,Y],new cW(N.Wdth.v/Y.m,0,0,N.Hght.v/Y.e,0,0)),f=new ko(L.E.f,!0);
f.v=n.uH;f.data={d:h.EZ,Im:{buffer:K.buffer,rect:K.rect}};this.c(f);var y=new ko(L.E.N,!0);y.data={d:L.H.YO};
this.c(y);y.data={d:L.H.JN};this.c(y);v=[{data:u.or().buffer,XO:new ha(0,0,u.m,u.e)}];f.data={d:"h_stepbck"};
f.v=n.$y;this.c(f)}var m=v[0].XO,C=new Uint8Array(v[0].data),Z=m.m,A=m.e;if(this.id=="pdfpres"){var d=[[595,842],[842,595],[595,595],[595,0]][E];
if(E==3)d[1]=Math.round(d[0]*A/Z);var b=d[0],l=d[1],G=Math.min(b/Z,l/A);i.StartPage(0,0,b,l);F.ctm=[Z*G,0,0,A*G,(b-Z*G)/2,(l-A*G)/2];
i.PutImage(F,T?j:C,Z,A);i.ShowPage()}else{var r=c.split("."),X;r.pop();r.push(k.toLowerCase());if(U.gi)X=U.Jy(R,R.m,R.e,I,this.Vh);
else{var w=[];for(var $=0;$<v.length;$++)w.push([v[$].data]);X=U.Jy(w,Z,A,I)}V[r.join(".")]=new Uint8Array(X)}}if(this.id=="pdfpres"){i.Done();
bB.save(i.buffer,"file.pdf")}else{bB.save(UZIP.encode(V),"images.zip")}};jJ.prototype.L8=function(x,J,o,c){this.VE=x};
jJ.prototype.DL=function(x,J){if(J!=null){this.Vh=x;var o=x.Qg,c=[];for(var $=0;$<o.length;$++)c.push(o[$].wd);
this.qG.Ed(c)}else x=this.Vh;var o=x.Qg.length==0?[]:x.Qg[this.qG.h()].T3,c=[];for(var $=0;$<o.length;
$++)c.push(o[$].wd);this.Ge.Ed(c)};jJ.prototype._=function(){i$.prototype._.call(this);this.sG._();this.$P._();
this.k8._()};function eS(x){var J=fn.names[x];if(J==null)J=dv.names[x];if(x=="aply")J=[2,12];if(x=="fade")J=[2,11];
if(x=="matc")J=[4,18];if(x=="blendOptions")J=[14,10];i$.call(this,J,"afw_"+x);this.xc=x;this.rS=null;
this.mj=null;this.FO=new jM[x];this.FO.k(L.E.A,this.LJ,this);this.FO.parent=this;this.body.appendChild(this.FO.n);
this.OQ=new j8([24,18,5]);this.OQ.w(!0);this.OQ.k(L.E.A,this.LJ,this);this.Pb=new eH([1,12,2],!0,null,!0);
this.Pb.k("click",this.r1,this);this.wx=p._j(this);if(this.Ae())this.FO.IE(this.wx.n);else{p.na(this.FO.n,"form");
p.na(this.body,"flexrow");this.FO.n.setAttribute("style","width:312px");var o=p.i("div");this.body.appendChild(o);
o.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");o.appendChild(this.wx.n);o.appendChild(this.Pb.n);
o.appendChild(this.OQ.n)}this.k("closebtn",this.Ct,this)}eS.prototype=new i$;eS.prototype.Yv=function(){return!0};
eS.prototype.Ae=function(){return this.FO!=null&&this.FO.CA()};eS.prototype.MN=function(){return this.Ae()?new ck(0,0):i$.prototype.MN()};
eS.prototype.f3=function(x){return this.FO.f3(x)};eS.prototype.XH=function(){return this.FO.XH()};eS.prototype.JC=function(x,J,o,c,E){this.FO.JC(x,J,o,c,E)};
eS.prototype.OC=function(x,J,o,c,E){this.FO.OC(x,J,o,c,E)};eS.prototype.w7=function(x,J,o,c,E){this.FO.w7(x,J,o,c,E)};
eS.prototype.gy=function(x,J){if(this.xc=="fade")return eS.a0w(x);return!0};eS.prototype.r1=function(x){this.FO.w(fn.Bt(this.xc));
this.LJ()};eS.prototype.LJ=function(x){this.nT({d:"edit",fz:this.FO.h(),gJ:!this.OQ.h()})};eS.prototype.Ct=function(x){this.nT({d:"cancel"})};
eS.prototype.CO=function(x){if(!this.OQ.h()){this.OQ.w(!0);this.LJ()}this.mj=this.FO.h();if(this.Ae())this.LJ();
this.nT({d:"confirm"});this.close()};eS.prototype._=function(){i$.prototype._.call(this);this.OQ._();
if(this.FO)this.FO._();this.wx._()};eS.prototype.DL=function(x,J){if(this.FO)this.FO.DL(x,J)};eS.prototype.B3=function(x,J,o,c){if(this.Ae())this.FO.B3(c);
else i$.prototype.B3.call(this,x,J,o,c)};eS.prototype.L8=function(x,J,o,c){this.rS=J.rS;var E=x.add.lnk2?x.add.lnk2:[],b,l,i=new ha(0,0,x.m,x.e),F=x.B[x.g[0]],U=null;
b=F.buffer;l=F.rect;var k=x.u&&this.xc=="LqFy"&&J.rS==null;if(k){l=x.u.rect.clone();b=q.R(l.P()*4);q.St(F.buffer,F.rect,b,l)}if(this.Ae()){U=x.or(x.g[0]-1);
if(k){var I=q.R(l.P()*4);q.St(U,i,I,l);i=l.clone();U=I}}var V=fn.Bt(this.xc),u=[E,x._w,x,o];if(J.rS==null){this.FO.w(V,b,l,i,U,u);
if(dv.names[this.xc]){if(c.S(dG.Zj)&&this.mj)this.FO.w(this.mj);var N=n.FP.getData(x),e=q.Hu(N[0].kC);
this.FO.RY(e)}}else{var B=!1,F=x.B[this.rS.a];if(F.AD()){var j=F.O5(x);b=j.buffer;l=j.rect;var T=F.add.SoLd.filterFX.v.filterFXList.v;
if(T[this.rS.index]){var a=T[this.rS.index].v;this.FO.w(this.xc=="blendOptions"?a.blendOptions.v:a.Fltr.v,b,l,i,U,u);
this.FO.RY(q.Hu(b));B=!0}}if(!B){this.FO.w(V,b,l,i,U,u);this.FO.RY(q.Hu(b))}}if(!this.Ae()){this.LJ();
var P=this.FO;if(P&&P.Gb&&P.Gb[0]&&P.Gb[0].U1&&Math.min(window.innerWidth,window.innerHeight)>500)P.Gb[0].U1()}};
eS.prototype.nT=function(x){var J=new ko(L.E.f,!0);x.xc=this.xc;x.rS=this.rS;if(this.xc=="VaPo"){x.b=this.FO.h();
x.bA=this.FO.axG()}J.data=x;J.v=fn.names[this.xc]||this.rS?n.CP:n.pC;J.A8=!0;this.c(J)};eS.prototype.ip=function(x,J){if(!this.FO.CA()){}else{this.body.style.padding="0";
this.FO.ip(x,J)}};eS.a0w=function(x){if(x==null)return!1;var J=x.Xz();if(J==null||!(J.data instanceof Array)||J.data.length!=x.g.length)return!1;
for(var $=0;$<J.data.length;$++){var o=J.data[$];if(o.a<0&&x._w[-1-o.a])return!0;if(o.a==null||x.B[o.a]==null||x.B[o.a].tB!=o.ib)return!1;
if(x.g.indexOf(o.a)==-1)return!1}return!0};function eo(){i$.call(this,[11,0],"camera");this.data=null;
this.jE=new ck(1,1);this.a4p=[];var x=p.i("div","form hbar");this.body.appendChild(x);this.a72=new i3(null,[]);
this.QG=new i3([21,0],[[21,2],[21,1]]);x.appendChild(this.QG.n);this.Ax=new i3(null,[]);this.Ax.k(L.E.A,this.a81,this);
x.appendChild(this.Ax.n);this.cz=new eH([11,0],!1,null,!0);this.cz.k("click",this.avx,this);x.appendChild(this.cz.n);
this.Tl=new dr("");x.appendChild(this.Tl.n);this.stream=null;this.aa=p.i("video","");this.aa.setAttribute("autoplay","true");
this.body.appendChild(this.aa);this.axo=this.ajl.bind(this);this.a1D=this.a9s.bind(this);this.awa=this.a60.bind(this);
this.k("closebtn",this.atJ,this)}eo.prototype=new i$;eo.prototype._=function(){i$.prototype._.call(this);
this.QG._();this.cz._();this.ip(this.Qh,this.ao)};eo.prototype.or=function(){var x=this.aa.videoWidth,J=this.aa.videoHeight,o=p.i("canvas","");
o.width=x;o.height=J;var c=o.getContext("2d");c.drawImage(this.aa,0,0,x,J);var E=c.getImageData(0,0,x,J);
return{XO:new ha(0,0,x,J),data:E.data.buffer}};eo.prototype.avx=function(x){if(this.QG.h()==0)this.alv();
else this.a8H()};eo.prototype.a8H=function(){var x=this.or(),J={buffer:new Uint8Array(x.data),rect:x.XO},o=new ko(L.E.f,!0);
o.A8=!0;o.v=n.uH;o.data={d:h.EZ,Im:J};this.c(o);alert(h9.get([21,4]))};eo.prototype.alv=function(){var x=this.or(),J=hR.GN("camera",[x]),o=new ko(L.E.N,!0);
o.data={d:L.H.wl,Th:J};this.c(o);alert(h9.get([21,5]))};eo.prototype.L8=function(x,J,o){navigator.mediaDevices.enumerateDevices().then(this.anR.bind(this))};
eo.prototype.anR=function(x){var J=this.a4p=[],o=[];for(var $=0;$<x.length;$++)if(x[$].kind=="videoinput"){J.push(x[$]);
o.push("Camera "+J.length)}this.Ax.Ed(o);this.Ax.w(0);this.a81()};eo.prototype.a81=function(x){this.atJ();
var J={video:{deviceId:this.a4p[this.Ax.h()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(J).then(this.axo).catch(this.a1D);
else navigator.webkitGetUserMedia(J,this.axo,this.a1D)};eo.prototype.ajl=function(x){this.stream=x;this.aa.srcObject=x;
this.aa.addEventListener("loadedmetadata",this.awa,!1)};eo.prototype.a60=function(x){this.aa.play();
this.ip(this.Qh,this.ao)};eo.prototype.MN=function(x,J){return new ck(0,0)};eo.prototype.ip=function(x,J){var o=this.aa.videoWidth,c=this.aa.videoHeight;
this.Tl.w(o+" x "+c+" px");this.Tl.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.jE.DQ(o,c);this.Qh=x;this.ao=J;var E=x-28,b=J-28-30,l=this.jE.x/this.jE.y;if(E/b>l)E=b*l;else b=E/l;
this.aa.setAttribute("style","display: block; width: "+Math.round(E)+"px; height:"+Math.round(b)+"px;")};
eo.prototype.a9s=function(x){console.log("error",x);alert(h9.get([21,6]));this.close()};eo.prototype.atJ=function(x){if(this.stream!=null){var J=this.stream.getTracks();
for(var $=0;$<J.length;$++)J[$].stop();this.stream=null}};function bn(){i$.call(this,[7,8],"crange");
this.VE=null;this.Ki={FQ:73,V:4.45,J:4};this.tp={FQ:73,V:4.45,J:4};this.body.style.width="20em";this.mn=new i3([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.mn.k(L.E.A,this.avP,this);this.body.appendChild(this.mn.n);this.Pt=p.i("div","form");this.body.appendChild(this.Pt);
var x=this.avM=2,J=this.JL=[new fb([12,92],0,200),new fW([12,36],[[18,0],"\uFF0B","-"]),new fb([12,92],0,100,"%"),new f1("Min",0,255),new f1("Max",0,255)];
J[0].w(40);J[x].w(40);for(var $=0;$<J.length;$++){J[$].k(L.E.A,this.A1,this);J[$].parent=this}this.$H=p.i("canvas");
this.body.appendChild(this.$H);this.wx=p._j(this,this.body)}bn.prototype=new i$;bn.prototype.gy=function(x,J){return x!=null};
bn.prototype.XH=function(){return!0};bn.prototype.Yv=function(){return!0};bn.prototype.avP=function(x){var J=this.mn.h(),o=this.JL,c=this.Pt,E=0,b=o.length,l=this.avM;
if(J==0)b=l;else{E=l;o[E+1].w([0,100,190][J-1]);o[E+1].po(J!=1);o[E+2].w([60,150,255][J-1]);o[E+2].po(J!=3)}p.LX(c);
for(var $=E;$<b;$++){c.appendChild(o[$].n)}this.A1()};bn.prototype._=function(){i$.prototype._.call(this);
this.wx._();this.mn._();for(var $=0;$<this.JL.length;$++)this.JL[$]._()};bn.prototype.JC=function(x,J,o,c,E){var b=x.Q.Vx(E.x,E.y);
this.awu(b.x,b.y)};bn.prototype.awu=function(x,J){var o=Math.min,c=Math.max,E=this.VE,b=c(0,o(E.m-1,Math.floor(x))),l=c(0,o(E.e-1,Math.floor(J))),i=E.or(),F=(l*E.m+b)*4,k=i[F],U=i[F+1],I=i[F+2],V=q.tl(k,U,I),u=this.JL[1].h(),N=this.Ki,e=this.tp;
if(u==0){this.Ki=JSON.parse(JSON.stringify(V));this.tp=V}else if(u==1){N.FQ=o(N.FQ,V.FQ);N.V=o(N.V,V.V);
N.J=o(N.J,V.J);e.FQ=c(e.FQ,V.FQ);e.V=c(e.V,V.V);e.J=c(e.J,V.J)}else if(u==2){var B=(N.FQ+e.FQ)/2,j=(N.V+e.V)/2,T=(N.J+e.J)/2;
if(V.FQ<B)N.FQ=c(N.FQ,V.FQ+10);else e.FQ=o(e.FQ,V.FQ-10);if(V.V<j)N.V=c(N.V,V.V+1);else e.V=o(e.V,V.V-1);
if(V.J<T)N.J=c(N.J,V.J+1);else e.J=o(e.J,V.J-1)}this.A1()};bn.prototype.CO=function(x){var J=this.mn.h(),o=this.JL,c={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(J==0){var E=this.Ki,b=this.tp;c.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:E.FQ},A:{t:"doub",v:E.V},B:{t:"doub",v:E.J}}};
c.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:b.FQ},A:{t:"doub",v:b.V},B:{t:"doub",v:b.J}}};c.Fzns={t:"long",v:o[0].h()}}else{J--;
var l=["shadows","midtones","highlights"][J];c.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][J]}};if(0<J)c[l+"LowerLimit"]={t:"long",v:o[3].h()};
if(J<2)c[l+"UpperLimit"]={t:"long",v:o[4].h()};c[l+"Fuzziness"]={t:"long",v:o[2].h()}}this.close();var i=new ko(L.E.p4,!0);
i.data={bV:"colorRange",Rx:c};this.c(i)};bn.prototype.L8=function(x,J){this.VE=x;this.awu(0,0);this.avP()};
bn.prototype.A1=function(){var x=this.VE,J=this.mn.h(),o=this.Ki,c=this.tp,E=this.JL,b=E[0].h()/200,l=!1;
if(J>0){o=E[3].h();c=E[4].h();if(o>=c)o=c-1;l=!0;b=E[2].h()/100}var i=n.vh.o5(x,o,c,b,l),F=i.rect,k=i.channel,U=this.$H,I=U.getContext("2d"),V=Math.floor(230*p.IJ()),u=Math.floor(V*(F.e/F.m));
U.width=V;U.height=u;p.ev(U,V,u);var N=q.R(k.length*4);q.xj(N,4294967295);for(var $=0;$<3;$++)q.qR(k,N,$);
var e=n.Y.yo([N,F],new cW(V/F.m,0,0,u/F.e,0,0)),B=e.rect,j=new ImageData(new Uint8ClampedArray(e.buffer.buffer),B.m,B.e);
I.putImageData(j,0,0)};function jP(){i$.call(this,[12,76,1],"createshape");this.Ou=null;var x=p.i("div","form");
x.setAttribute("style","width:20em");this.body.appendChild(x);this.d0=new b2(!0,!0,null,!0,!0);this.d0.w(new ck(100,100));
x.appendChild(this.d0.n);this.zN=new j8([19,5,3]);x.appendChild(this.zN.n);this.wx=p._j(this,x)}jP.prototype=new i$;
jP.prototype.CO=function(x){var J=this.d0.h();this.Ou.ani(this.Ou.apK,J.x,J.y,this.zN.h());this.close()};
jP.prototype._=function(){if(this.Ou)this.aE=h9.get([5,3])+": "+h9.get(this.Ou.a5h);i$.prototype._.call(this);
this.wx._();this.d0._();this.zN._()};jP.prototype.L8=function(x,J){this.Ou=J;this._();this.d0.w(this.d0.h(),x.yV)};
function kb(){i$.call(this,[11,1],"colorpicker");this.u7=null;this.M$=null;this.oQ=null;this.AR=!1;this.DZ=!1;
this.ac_=[.9642,1,.8249];var x=p.i("div","flexrow"),l,i;this.body.appendChild(x);this.mX=new fQ(256,!0);
this.mX.k(L.E.A,this.ys,this);x.appendChild(this.mX.n);var J=p.i("div","form");J.setAttribute("style","width:14.5em; margin-left:1em;");
x.appendChild(J);var o=p.i("div","flexrow");J.appendChild(o);var c=p.i("div");o.appendChild(c);c.style="width:95px; margin-right:14px";
this.acg=p.i("div","full");c.appendChild(this.acg);this.aw_=p.i("div","full");c.appendChild(this.aw_);
var c=p.i("col");o.appendChild(c);c.style.width="80px";this.wx=p._j(this,c);var o=p.i("div","flexrow");
J.appendChild(o);var E=p.i("div"),b=p.i("div");o.appendChild(E);o.appendChild(b);E.style=b.style="margin-left:14px; max-width:80px;";
l=["H","S","B"];i=E;this.bP=[];for(var $=0;$<3;$++){var F=0,k=360,U="\xB0";if($!=0){k=100;U="%"}var I=new f1(l[$],F,k,U,0,!1,!0);
this.bP.push(I);I.k(L.E.A,this.a7g,this);i.appendChild(I.n);if($==2)I.n.style.marginBottom="8px"}l=["R","G","B"];
i=E;this.vN=[];for(var $=0;$<3;$++){var I=new f1(l[$],0,255,null,0,!1,!0);this.vN.push(I);I.k(L.E.A,this.amx,this);
i.appendChild(I.n)}l=["L","a","b"];i=b;this.sc=[];for(var $=0;$<3;$++){var F=[0,-128,-128][$],k=[100,127,127][$],I=new f1(l[$],F,k,null,0,!1,!0);
I.w(0);this.sc.push(I);I.k(L.E.A,this.aAu,this);i.appendChild(I.n);if($==2)I.n.style.marginBottom="8px"}l=["C","M","Y","K"];
i=b;this.Rr=[];for(var $=0;$<4;$++){var I=new f1(l[$],0,100,"%",0,!1,!0);I.w(0);this.Rr.push(I);I.k(L.E.A,this.aif,this);
i.appendChild(I.n);if($==3)I.n.style.marginBottom="8px"}this.Du=new cA("#",null,4.5);this.Du.k(L.E.A,this.mb,this);
E.appendChild(this.Du.n);this.Du.n.style.marginRight="0";this.Kw=p.i("input","fitem");this.Kw.setAttribute("type","color");
this.Kw.setAttribute("style","width:59px;  margin-left:19px;");this.Kw.addEventListener("change",this.mb.bind(this),!1);
this._a=new dw(9);this._a.k(L.E.A,this.mb,this);J.appendChild(this._a.n);this.k("closebtn",this.Ct,this);
this.fA=!1}kb.prototype=new i$;kb.prototype.XH=function(){return!0};kb.prototype.MN=function(x,J){if(Math.min(x,J)>500)return null;
return new ck(Math.max(0,Math.min(150,(x-484)/2)),Math.max(0,Math.min(150,(J-316)/2)))};kb.prototype.ip=function(x,J){this.mX.ip(Math.min(256,x-226),J)};
kb.prototype._=function(x,J){i$.prototype._.call(this);for(var $=0;$<3;$++){this.vN[$]._();this.bP[$]._();
this.sc[$]._()}for(var $=0;$<4;$++)this.Rr[$]._();this.wx._()};kb.prototype.ys=function(x){this.M$=this.mX.h();
this.update()};kb.prototype.JC=function(x,J,o,c,E){this.fA=!0;this.ai7(x,E)};kb.prototype.OC=function(x,J,o,c,E){if(!this.fA)return;
this.ai7(x,E)};kb.prototype.w7=function(x,J,o,c,E){this.fA=!1};kb.prototype.ai7=function(x,J){var o=n.um.Tx(x,J,1),c=o&255,E=o>>8&255,b=o>>16&255;
this.M$={o:b/255,I:E/255,J:c/255};this.update()};kb.prototype.amx=function(x){var J=this.vN,o=this.gk(parseInt(J[0].h())),c=this.gk(parseInt(J[1].h())),E=this.gk(parseInt(J[2].h()));
this.M$={o:o/255,I:c/255,J:E/255};this.update()};kb.prototype.a7g=function(x){var J=this.bP,o=this.Ke(parseInt(J[0].h())/360),c=this.Ke(parseInt(J[1].h())/100),E=this.Ke(parseInt(J[2].h())/100);
this.M$=q.qf(o,c,E);this.update()};kb.prototype.aif=function(x){var J=this.Rr,o=[];for(var $=0;$<4;$++){var c=this.ah0(parseInt(J[$].h()));
J[$].w(c);o.push(c/100)}var E=q.dk(o);this.M$={o:E[0],I:E[1],J:E[2]};this.update(!0)};kb.prototype.aAu=function(x){var J=this.sc,o=parseInt(J[0].h()),c=parseInt(J[1].h()),E=parseInt(J[2].h()),b=q.ab(o,c,E);
this.M$={o:b.o/255,I:b.I/255,J:b.J/255};this.update()};kb.prototype.mb=function(x){var J;if(x.currentTarget==this._a)J=this._a.h();
else{J=x.currentTarget==this.Du?this.Du.h():this.Kw.value;if(J.charAt(0)=="#")J=J.slice(1);if(J.length==3)J=J[0]+J[0]+J[1]+J[1]+J[2]+J[2];
J=q.pO(J)}this.M$={o:(J>>16&255)/255,I:(J>>8&255)/255,J:(J&255)/255};this.update()};kb.prototype.RZ=function(x){var J=x.o,o=x.I,c=x.J;
return Math.round(J*255)<<16|Math.round(o*255)<<8|Math.round(c*255)};kb.prototype.CO=function(x){this.akw();
var J=this.RZ(this.M$);this.oQ(J);this.close();this.DZ=!1;this.M$=null};kb.prototype.Ct=function(x){this.akw();
if(this.AR)this.oQ(this.RZ(this.u7));this.DZ=!1;this.M$=null};kb.prototype.akw=function(x){var J=new ko(L.E.N,!0);
J.data={d:L.H.a10};this.c(J)};kb.prototype.DL=function(x,J){var o=cc.c0(x,J);if(o!=null)this._a.w(o);
if(J!=h4.uq)return;if(this.M$!=null){this.M$={o:(o>>16&255)/255,I:(o>>8&255)/255,J:(o>>0&255)/255};this.update()}};
kb.prototype.L8=function(x,J){var o=J.xK,c={o:(o>>16&255)/255,I:(o>>8&255)/255,J:(o>>0&255)/255};if(this.M$==null){var E=new ko(L.E.N,!0);
E.data={d:L.H.TG,i2:"crosshair",push:!0};this.c(E);this.fA=!1;this.oQ=J.Uh;this.AR=!1;this.DZ=J.hy;this.u7=JSON.parse(JSON.stringify(c));
this.aw_.setAttribute("style","height:2.3em;background-color:#"+q.uW(o)+";")}this.M$=c;this.update()};
kb.prototype.update=function(x){var J=this.M$,o=this.RZ(J);this.Du.w(q.uW(o));this.Kw.value="#"+q.uW(o);
this.acg.setAttribute("style","height:2.3em;background-color:#"+q.uW(o)+";");var c=this.vN;c[0].w(Math.round(J.o*255));
c[1].w(Math.round(J.I*255));c[2].w(Math.round(J.J*255));var E=q.tu(J.o,J.I,J.J);c=this.bP;c[0].w(Math.round(E.ao*360));
c[1].w(Math.round(E.Rw*100));c[2].w(Math.round(E.fz*100));var b=q.tl(J.o*255,J.I*255,J.J*255,this.ac_);
c=this.sc;c[0].w(Math.round(b.FQ));c[1].w(Math.round(b.V));c[2].w(Math.round(b.J));if(x==null){var l=q.cE([J.o,J.I,J.J]);
c=this.Rr;c[0].w(Math.round(l[0]*100));c[1].w(Math.round(l[1]*100));c[2].w(Math.round(l[2]*100));c[3].w(Math.round(l[3]*100))}this.mX.w(J);
if(this.DZ){this.oQ(this.RZ(this.M$));this.AR=!0}};kb.prototype.ah0=function(x){return Math.max(0,Math.min(100,x))};
kb.prototype.gk=function(x){return Math.max(0,Math.min(255,x))};kb.prototype.Ke=function(x){return Math.max(0,Math.min(1,x))};
function cb(){i$.call(this,[11,2],"contoureditor");this.axq=null;this.w$=null;this.response=null;this.C5=p.i("div","cell");
this.body.appendChild(this.C5);this.MR=p.i("div","cell padded");this.body.appendChild(this.MR);var x=p.i("div","bordered padded vmargin");
this.C5.appendChild(x);this.FO=new bu(null,null,!0);this.FO.k(L.E.A,this.ca,this);x.appendChild(this.FO.n);
this.wx=p._j(this,this.MR);this.k("closebtn",this.NV,this)}cb.prototype=new i$;cb.prototype.CO=function(){this.close()};
cb.prototype._=function(){i$.prototype._.call(this);this.wx._();this.FO._()};cb.prototype.ca=function(x){this.w$.Crv.v=this.FO.h();
this.response(this.w$)};cb.prototype.NV=function(x){this.response(this.axq)};cb.prototype.L8=function(x,J){this.axq=JSON.parse(JSON.stringify(J.T3));
this.w$=J.T3;this.response=J.response;this.FO.w(this.w$.Crv.v)};function iT(){i$.call(this,[11,4],"duplinto");
this.PN=null;this.pz=null;this.xL=null;var x=p.i("div","form");x.setAttribute("style","max-width:26em");
this.body.appendChild(x);this.iX=new i3([12,43],["abc","def"]);this.iX.k(L.E.A,this.ZL,this);x.appendChild(this.iX.n);
p.UF(x);this.Ql=new i3([1,16,0],["abc","def"]);this.Ql.k(L.E.A,this.ZL,this);x.appendChild(this.Ql.n);
p.UF(x);this.BP=new cA([12,48],null,14);x.appendChild(this.BP.n);this.wx=p._j(this,x)}iT.prototype=new i$;
iT.prototype.Yv=function(){return!0};iT.prototype._=function(){i$.prototype._.call(this);this.wx._();
this.iX._();this.BP._()};iT.prototype.ZL=function(x){if(x&&x.target==this.Ql)return;var J=this.iX.h(),o=this.pz[J],c=this.PN,E=o!=null&&o.add.artd!=null;
for(var $=0;$<c.g.length;$++)if(c.B[c.g[$]].add.artb)E=!1;this.BP.po(J==this.pz.length);this.Ql.po(E);
if(E){var b=o.root.children,l=[],i=this.xL=[];for(var $=0;$<b.length;$++){var F=b[$].a;if(F.add.artb)l.push(F.getName());
i.push(b[$].index)}this.Ql.Ed(l);this.Ql.w(0)}else this.xL=null};iT.prototype.L8=function(x,J,o){this.PN=x;
this.pz=o;this.BP.w(x.g.length==0?"Layer":x.B[x.g[0]].getName());var c=[];for(var $=0;$<o.length;$++){var E=o[$].name;
c.push(E.length<30?E:E.slice(0,27)+"...")}c.push([11,7]);this.iX.Ed(c);this.iX.w(o.indexOf(x));this.ZL(null)};
iT.prototype.CO=function(x){var J=this.iX.h();if(J==this.pz.length){var o=new hk(this.BP.h()+".psd"),c=this.PN.m,E=this.PN.e,b=this.PN.Eq();
if(b!=-1){var l=this.PN.B[b].uc();c=l.m;E=l.e}o.m=c;o.e=E;o.buffer=q.R(o.m*o.e*4);var i=o._I();i.Yq("Background");
o.VQ([i]);var F=new ko(L.E.N,!0);F.A8=!0;F.data={d:L.H.wl,Th:o};this.c(F)}var k=this.PN.VG(null,this.PN!=this.pz[J]),F=new ko(L.E.f,!0);
F.data={d:h.IK,B:k,HM:this.PN,Lk:this.pz[J]};if(this.xL)F.data.Cq=this.xL[this.Ql.h()];F.v=n.uH;F.A8=!0;
this.c(F);this.close()};function ds(){i$.call(this,[1,9],"eassets");this.Vh=null;this.l6=null;var x=this.body;
p.na(x,"form");x.style.width="32em";this.mn=new fW(null,["Layers","Combinations"]);this.mn.k(L.E.A,this.bK,this);
x.appendChild(this.mn.n);p.bN(x);this.mC=p.i("span");x.appendChild(this.mC);this.OG=p.i("div");x.appendChild(this.OG);
var J=p.i("div"),o=p.i("div","flexrow");this.a3x=[J,o];this.E7=[new j8("Only layers / folders, whose name starts with \"-e-\""),new j8("Remove parts outside the canvas"),new j8("Trim transparent parts")];
for(var $=0;$<3;$++){var c=this.E7[$];c.w(!0);c.k(L.E.A,this.bK,this);J.appendChild(c.n);p.UF(J)}this.ZV=new fA([12,14,0],["1x","2x","3x","4x"]);
this.ZV.w([!0,!1,!1,!1]);J.appendChild(this.ZV.n);var E=p.i("div");o.appendChild(E);var b=p.i("img");
b.setAttribute("src","img/nft.png");b.style.width="150px";o.appendChild(b);var l=p.i("span");l.textContent="File Names:";
E.appendChild(l);this.pM=new fA(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
E.appendChild(this.pM.n);this.pM.w([!0,!1,!1]);p.bN(x);this.iD=["PNG","JPG","SVG","TIFF","TGA"];this.IZ=new i3([12,50],this.iD);
this.IZ.k(L.E.A,this.jJ,this);x.appendChild(this.IZ.n);this.aU=new cQ;x.appendChild(this.aU.n);this.wx=new eH([1,9],!0,null,!0);
this.wx.k("click",this.CO,this);x.appendChild(this.wx.n);this.k("closebtn",this.Hm,this)}ds.prototype=new i$;
ds.prototype.jJ=function(x){this.aU.zZ(this.iD[this.IZ.h()],!1,!1,!1,this.l6.on()!=null)};ds.prototype.Hm=function(x){this.l6=null};
ds.prototype._=function(){i$.prototype._.call(this);this.IZ._();this.ZV._();this.wx._();this.aU._()};
ds.prototype.L8=function(x,J,o){this.l6=x;this.bK()};ds.prototype.bK=function(x){var J=this.mn.h(),o;
p.LX(this.OG);this.OG.appendChild(this.a3x[J]);if(J==0){var c=this.aug();o=c.length+" exportable layers"}else{var c=this.ake();
o=c[1]+" combinations ("+c[0].join(" \xD7 ")+")"}this.mC.textContent="- - - "+o;this.jJ(null)};ds.prototype.aug=function(){var x=this.E7[0].h(),J=[],o=this.l6;
for(var $=0;$<o.B.length;$++){var c=o.B[$],E=c.getName();if(!x&&!c.Zk()&&!c.rect.Kx()||E.startsWith("-e"))J.push($)}return J};
ds.prototype.ake=function(){var x=this.l6,J=x.root.children,o=[],c=1,E=[];for(var $=0;$<J.length;$++){var b=J[$],l=b.a;
if(l.Zk()){var i=b.children.length;o.push(i);c*=i;E.push(b.index)}l}return[o,c,E]};ds.prototype.DL=function(x,J){this.Vh=x};
ds.prototype.CO=function(x){var J=this.l6,o=this.mn.h(),c=[this.iD[this.IZ.h()]],E=[this.aU.h()],l={};
if(o==0){var i=this.ZV.h(),F={},k=this.aug();if(k.length==0){alert("No layers to export.");return}var U=[this.E7[1].h(),this.E7[2].h()];
for(var $=0;$<k.length;$++){var I=k[$],V=J.B[I],u=V.getName();if(F[u]!=null){F[u]++;u+=" "+F[u]}else F[u]=1;
var N=V.kR();V.Ut(!0);for(var e=0;e<i.length;e++){if(!i[e])continue;var B=e+1,j=n.fp.alK(J,c,B,this.Vh,I,E,U);
for(var T=0;T<c.length;T++){var a=c[T],P=u.slice(u.startsWith("-e-")?3:0)+(B==1?"":"@"+B+"x")+"."+a.toLowerCase();
if(j[T])l[P]=new Uint8Array(j[T])}}V.Ut(N)}}else{var N=[];for(var $=0;$<J.B.length;$++)N.push(J.B[$].kR());
var v=this.ake(),R=v[0],k=v[2],y=[];function t(Y,I,K,f){if(I==Y.length){f.push(K.slice(0));return}var m=Y[I];
for(var $=0;$<m;$++){K.push($);t(Y,I+1,K,f);K.pop($)}}t(R,0,[],y);var g=this.pM.h().indexOf(!0);this.OE=[y,l,k,c,E,N,g,this.av_.bind(this),0,0];
this.av_();return}var H=UZIP.encode(l),_=new ko(L.E.N,!0);_.data={d:L.H.tQ,data:H,name:"assets.zip"};
this.c(_)};ds.prototype.av_=function(){var x=this.OE,J=x[0],o=x[1],c=this.l6,E=x[2],b=x[3],l=x[4],i=x[5],F=x[6],k=x[7],U=0;
while(J.length!=0&&U<1e3){var I=Date.now(),V=J.shift(),u=[];for(var $=0;$<V.length;$++){var N=c.root.qX(E[$]);
for(var e=0;e<N.children.length;e++)N.children[e].a.Ut(!1);var B=N.children[V[$]].a;u.push(F==2?B.getName():N.a.getName()+V[$]);
B.Ut(!0)}c.W();c.Q4();var j=(F==0?V:u).join("-")+"."+b[0].toLowerCase();o[j]=new Uint8Array(hR.GU(c,b[0],c.m,c.e,l[0],this.Vh));
x[8]++;x[9]+=o[j].length;U+=Date.now()-I}if(J.length!=0){alert(x[8]+" done, "+g8.if(x[9])+".",800);setTimeout(k,35);
return}for(var $=0;$<c.B.length;$++)c.B[$].Ut(i[$]);c.W();var T=UZIP.encode(o),a=new ko(L.E.N,!0);a.data={d:L.H.tQ,data:T,name:"assets.zip"};
this.c(a)};function ey(){i$.call(this,"Export Color Lookup Tables","exlut");this.Vh=null;this.l6=null;
var x=p.i("div","form");x.setAttribute("style","width:20em");this.body.appendChild(x);this.E7=[new f1("Grid Points",1,256),new fW([12,50],[".CUBE"])];
var J=[16,0];for(var $=0;$<this.E7.length;$++){var o=this.E7[$];o.w(J[$]);o.parent=this;o.k(L.E.A,this.bK,this);
x.appendChild(o.n);p.UF(x)}this.wx=p._j(this,x);this.k("closebtn",this.Hm,this)}ey.prototype=new i$;
ey.prototype.gy=function(x,J){if(Math.min(x.m,x.e)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(x.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};ey.prototype.Hm=function(x){this.l6=null};ey.prototype.DL=function(x,J){this.Vh=x};
ey.prototype.L8=function(x,J,o){this.l6=x};ey.prototype.CO=function(){var x=this.l6,J=this.E7[0].h(),o=[],c=new ha(0,0,x.m,x.e),E=q.R(J*J*4),b=E.slice(0),l=new ha(x.m-J>>>1,x.e-J>>>1,J,J),i=x.B[0],F=i.buffer,k=i.rect;
i.rect=l;i.buffer=E;for(var U=0;U<J;U++){this.a6Q(J,U,E);i.W(l);x.W(l);var I=x.or();q.St(I,c,b,l);for(var V=0;
V<J;V++)for(var u=0;u<J;u++){var N=V*J+u<<2;o.push(b[N]/255,b[N+1]/255,b[N+2]/255)}}var e=f2.ahp(o,J,x.name);
bB.save(e,x.name.split(".")[0]+".CUBE");i.buffer=F;i.rect=k;i.W();x.W()};ey.prototype.a6Q=function(x,J,o){var c=255/(x-1),E=Math.round(J*c);
for(var b=0;b<x;b++)for(var l=0;l<x;l++){var i=b*x+l<<2;o[i]=Math.round(l*c);o[i+1]=Math.round(b*c);
o[i+2]=E;o[i+3]=255}};ey.prototype._=function(){i$.prototype._.call(this);for(var $=0;$<this.E7.length;
$++)this.E7[$]._();this.wx._()};function fs(){i$.call(this,[1,14],"finfo");this.ox=null;this.fN=null;
this.Ob=null;this._0=p.i("div","form scrollable label12");this._0.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this._0);var x=p.i("div","form");this.body.appendChild(x);this.J7=new i3(null,["Hello"]);
x.appendChild(this.J7.n);this.at4=new eH("Add Parameter",!1,null,!0);x.appendChild(this.at4.n);this.at4.k("click",this.YV,this);
this.Qv=new eH("=== S A V E ===",!1,null,!0);x.appendChild(this.Qv.n);this.Qv.k("click",this.dA,this);
this.alN=""}fs.prototype=new i$;fs.prototype.MN=function(x,J){return x<450||J<450?new ck(0,0):new ck(150,100)};
fs.prototype.YV=function(x){if(this.Ob.length==0)return;var J=this.Ob[this.J7.h()],o=this.WM();o[J]=eK.RE[J][0];
this.W$(o);this.fN[J].n.scrollIntoView();this.fN[J].U1()};fs.prototype.bt=function(x){var J=this.WM();
delete J[x.currentTarget.aDa];this.W$(J)};fs.prototype.dA=function(x){var J=this.WM(),o=this.ox,c=!0;
for(var E in o)if(JSON.stringify(o[E])!=JSON.stringify(J[E]))c=!1;for(var E in J)if(JSON.stringify(o[E])!=JSON.stringify(J[E]))c=!1;
if(c)return;var b=new ko(L.E.f,!0);b.v=n.uH;b.data={d:h.cw,Oz:J};this.c(b);this.ox=J;this.W$(J)};fs.ay8=function(x){function J(E){var b=E.toLowerCase();
return E==b}var o=x.split(":").pop();for(var c=1;c<o.length-1;c++){if(o[c]==o[c].toUpperCase()&&(J(o[c+1])||J(o[c-1]))){o=o.slice(0,c)+" "+o.slice(c);
c++}}return o};fs.prototype.L8=function(x,J){this.ox=x.TP;this.W$(x.TP)};fs.prototype.W$=function(x){var J=this._0,E=0;
p.LX(J);var o=this.fN={},c=["tiff","exif","exif:GPS"],b=this.Ob=[],l=[];for(var i in eK.RE){var F=fs.ay8(i),k=0,U=15,I=null;
if(x[i]==null){if(eK.RE[i].length!=1||i=="photoshop:Credit"||i=="photoshop:Source"){b.push(i);l.push(F)}continue}for(var $=0;
$<c.length;$++)if(i.startsWith(c[$]))k=$;if(k!=E){p.bN(J);E=k}if(i=="tiff:ImageDescription"||i=="dc:Keywords"){U=18.5;
I=3}var V=new cA(F,null,U,I);o[i]=V;var u=x[i];if(u instanceof Array)u=u[1]==0?"---":u[0]+"/"+u[1];var N=new eH("\u2716",null,h9.get([5,4]));
J.appendChild(N.n);N.k("click",this.bt,this);N.aDa=i;V.w(u);J.appendChild(V.n);p.UF(J);if(i=="exif:GPSLongitude"&&x["exif:GPSLatitude"]){this.alN=fs.ajh(x["exif:GPSLatitude"])+","+fs.ajh(x["exif:GPSLongitude"]);
var e=new eH("Show on map",!1,null,!0);J.appendChild(e.n);p.UF(J);e.k("click",this.afE,this)}}this.J7.Ed(l);
this.J7.w(0)};fs.prototype.WM=function(){var x=this.fN,J=eK.RE,o={};for(var c in J){var E=J[c][0],b=typeof E;
if(E==null||x[c]==null)continue;var l=x[c].h(),i="The value of \""+fs.ay8(c)+"\" must ";if(b=="number"){l=parseFloat(l);
if(isNaN(l)){alert(i+"be a number.");l=E}}else if(E instanceof Array&&E.length==2){if(l.indexOf("/")==-1){alert(i+"be a fraction.");
l=E.slice(0)}else{l=l.split("/").map(parseFloat);if(isNaN(l[0])||isNaN(l[1])){l=E.slice(0)}}}o[c]=l}return o};
fs.ajh=function(x){var J=x.length,o=x.slice(0,J-1).split(",").map(parseFloat),c=x.slice(J-1),E=o[0]+o[1]/60+o[2]/3600;
if(c!="N"&&c!="E")E=-E;return E};fs.prototype.afE=function(x){window.open("https://maps.google.com?q="+this.alN,"Map")};
function bw(){i$.call(this,[11,5],"gradienteditor");this.u7=null;this.M$=null;this.Iy=null;this.oQ=null;
this.AR=!1;this.DZ=!1;this.P_=null;this.O$=null;this.wi=-1;this.$h=-1;this.Gn=0;this.o9=this.yt.bind(this);
this.HX=this._N.bind(this);this.$H=p.i("canvas");this.n9=this.$H.getContext("2d");this.$H.setAttribute("style","display:block");
this.GS=null;p.Oo(this.$H);p.Ra(this.$H,this.c_.bind(this));this.$O=p.i("div","form");this.oz=p.i("div");
this.IB=p.i("div","form");this.P7=p.i("div");this.Xa=new i3([12,44],[[15,10,0],[24,6]]);this.Xa.k(L.E.A,this.H0,this);
this.body.appendChild(this.Xa.n);p.bN(this.body);var x=this.$O;this.zV=new f1([19,3,3],0,100,"%");this.zV.k(L.E.A,this.H0,this);
this.zV.parent=this;x.appendChild(this.zV.n);p.UF(x);this.rl=new dr([12,0]);x.appendChild(this.rl.n);
this.Va=p.i("div","bordered padded noalign");x.appendChild(this.Va);this.c8=new f1([12,0],0,100,"%");
this.c8.parent=this;this.c8.k(L.E.A,this.H0,this);this.Va.appendChild(this.c8.n);this.W_=new f1([12,40],0,100,"%");
this.W_.parent=this;this.W_.k(L.E.A,this.H0,this);this.Va.appendChild(this.W_.n);this.lq=new eH([5,4],!1,null,!0);
this.lq.k("click",this.ap9,this);this.Va.appendChild(this.lq.n);x.appendChild(this.oz);this.axt=new dr([13,0]);
x.appendChild(this.axt.n);this.Mt=p.i("div","bordered padded noalign");x.appendChild(this.Mt);this.tj=new i3([12,44],[[12,45],[12,46],[12,47]]);
this.tj.k(L.E.A,this.H0,this);this.Mt.appendChild(this.tj.n);this.G1=new cp(!0);this.G1.parent=this;
this.G1.k(L.E.A,this.H0,this);this.Mt.appendChild(this.G1.n);this.hG=new f1([12,40],0,100,"%");this.hG.parent=this;
this.hG.k(L.E.A,this.H0,this);this.Mt.appendChild(this.hG.n);this.Wr=new eH([5,4],!1,null,!0);this.Wr.k("click",this.ahP,this);
this.Mt.appendChild(this.Wr.n);var x=this.IB;this.rB=new f1("Roughness",0,100,"%");this.rB.k(L.E.A,this.H0,this);
this.rB.parent=this;x.appendChild(this.rB.n);x.appendChild(this.P7);this.sX=new eH([25,1,2],!1,null,!0);
this.sX.k("click",this.H0,this);x.appendChild(this.sX.n);this.wx=p._j(this);this.k("closebtn",this.Ct,this)}bw.prototype=new i$;
bw.prototype.Ct=function(x){if(this.AR)this.oQ(this.u7)};bw.prototype._=function(){i$.prototype._.call(this);
this.wx._();this.zV._();this.rl._();this.axt._();this.lq._();this.Wr._();this.c8._();this.W_._();this.tj._();
this.hG._();this.sX._()};bw.prototype.DL=function(x,J){this.Iy=x};bw.prototype.L8=function(x,J){this.M$=JSON.parse(JSON.stringify(J.r));
this.u7=JSON.parse(JSON.stringify(J.r));this.P_=this.O$=null;this.oQ=J.Uh;this.AR=!1;this.DZ=J.hy;this._A();
this.XF()};bw.prototype.CO=function(x){var J=this.M$;this.oQ(J);this.close()};bw.prototype.f3=function(x){return x==dG.OT||x==dG.BK};
bw.prototype.B3=function(x,J,o,c){if(c.S(dG.OT)||c.S(dG.BK)){if(this.O$)this.ap9();if(this.P_)this.ahP()}};
bw.prototype.ap9=function(x){var J=this.M$.Trns.v;if(this.O$==null||J.length==1)return;J.splice(J.indexOf(this.O$),1);
this.O$=null;this._A();this.XF()};bw.prototype.ahP=function(x){var J=this.M$.Clrs.v;if(this.P_==null||J.length==1)return;
J.splice(J.indexOf(this.P_),1);this.P_=null;this._A();this.XF()};bw.prototype._A=function(){var x=this.$H,J=this.n9,o=p.IJ();
x.width=Math.floor(410*o);x.height=Math.floor(70*o);p.ev(x,x.width,x.height);x.style.marginTop="8px";
this.GS=new ha(0,0,Math.floor(380*o),Math.floor(32*o));this.GS.x=Math.floor((x.width-this.GS.m)/2);this.GS.y=Math.floor((x.height-this.GS.e)/2);
var c=this.GS,E=c.m,b=c.e,l=c.x,i=c.y,F=new ha(0,0,E,b),k=J.getImageData(0,0,E,b),U=new Uint8Array(k.data.buffer);
q.iQ(U,E,b,8);var I=q.R(E*b*4);q.r.VB(this.M$,I,F,[1/E,0,0,1/b],E/2,b/2,!1,0,this.Iy.Q6,this.Iy.xR);
q.l.j6("norm",I,c,U,c,c,1);J.clearRect(0,0,x.width,x.height);J.putImageData(k,l,i);var V=this.M$;if(V.Clrs){var u=V.Trns.v,N=V.Clrs.v,e=q.r.j4(V,this.Iy.Q6,this.Iy.xR),B=Math.round(6*p.IJ()),j=Math.round(14*p.IJ()),T=this.O$?this.O$.v:null,a=this.P_?this.P_.v:null;
for(var $=0;$<u.length;$++){var P=u[$].v,v=Math.round(255-255*P.Opct.v.val/100);if((P==T||u[$-1]&&u[$-1].v==T||$==this.$h)&&$!=0){J.fillStyle="#000000";
J.fillRect(l-3+E*(u[$-1].v.Lctn.v+(P.Lctn.v-u[$-1].v.Lctn.v)*P.Mdpn.v/100)/4096,i-6-2,6,6)}if(P==T){J.fillStyle="#ffffff";
J.fillRect(l-B+E*(P.Lctn.v/4096)-2,i-2-j-2,2*B+4,j+4)}J.fillStyle="rgb("+v+","+v+","+v+")";J.fillRect(l-B+E*(P.Lctn.v/4096),i-2-j,2*B,j)}for(var $=0;
$<N.length;$++){var R=N[$].v,y=e[0][$][0];if((R==a||N[$-1]&&N[$-1].v==a||$==this.wi)&&$!=0){J.fillStyle="#000000";
J.fillRect(l-3+E*(N[$-1].v.Lctn.v+(R.Lctn.v-N[$-1].v.Lctn.v)*R.Mdpn.v/100)/4096,i+b+2,6,6)}if(R==a){J.fillStyle="#ffffff";
J.fillRect(l-B+E*(R.Lctn.v/4096)-2,i+b+2-2,2*B+4,j+4)}J.fillStyle="rgb("+Math.round(y.o)+", "+Math.round(y.I)+","+Math.round(y.J)+")";
J.fillRect(l-B+E*(R.Lctn.v/4096),i+b+2,2*B,j)}}if(this.DZ){this.oQ(this.M$);this.AR=!0}};bw.prototype.XF=function(){var x=this.M$,J=x.Clrs?0:1;
this.Xa.w(J);if(p.j5(this.$O))this.body.removeChild(this.$O);if(p.j5(this.IB))this.body.removeChild(this.IB);
(J==0?this.oz:this.P7).appendChild(this.$H);if(J==0){this.body.appendChild(this.$O);this.zV.w(Math.round(100*x.Intr.v/4096));
var o=x.Trns.v,c=x.Clrs.v,E=this.O$!=null,b=this.$h!=-1;this.c8.po(E);this.W_.po(E||b);this.lq.po(E);
if(E){this.Va.setAttribute("style","");var l=this.O$.v;this.W_.w(Math.round(100*l.Lctn.v/4096));this.c8.w(l.Opct.v.val)}if(b)this.W_.w(o[this.$h].v.Mdpn.v);
var E=this.P_!=null,b=this.wi!=-1;this.tj.po(E);this.G1.po(E);this.hG.po(E||b);this.Wr.po(E);if(E){this.Mt.setAttribute("style","");
var i=this.P_.v;this.hG.w(Math.round(100*i.Lctn.v/4096));var F=i.Type.v.Clry;this.tj.w(["FrgC","BckC","UsrS"].indexOf(F));
if(F=="FrgC")this.G1.RT(this.Iy.Q6);if(F=="BckC")this.G1.RT(this.Iy.xR);if(F=="UsrS")this.G1.w(i.Clr.v)}if(b)this.hG.w(c[this.wi].v.Mdpn.v)}else{this.body.appendChild(this.IB);
this.rB.w(Math.round(100*x.Smth.v/4096))}this.body.appendChild(this.wx.n)};bw.prototype.H0=function(x){var J=this.M$,o=J.Clrs?0:1;
if(x.target==this.Xa){var c=o==0?JSON.parse(bs.lC.acO).v:fn.Bt("grdm").Grad.v;this.M$=c;this.XF();this._A();
return}if(o==0){J.Intr.v=Math.round(4096*this.zV.h()/100);var E=J.Trns.v,b=J.Clrs.v;if(this.O$!=null){var l=this.O$.v;
l.Lctn.v=Math.round(4096*(this.W_.h()/100));l.Opct.v.val=this.c8.h()}if(this.P_!=null){var i=this.P_.v;
i.Lctn.v=Math.round(4096*(this.hG.h()/100));if(x.target==this.G1)this.tj.w(2);var F=this.tj.h();i.Type.v.Clry=["FrgC","BckC","UsrS"][F];
if(F==2)i.Clr={t:"Objc",v:this.G1.h()};else if(i.Clr)delete i.Clr}if(this.$h!=-1)E[this.$h].v.Mdpn.v=this.W_.h();
if(this.wi!=-1)b[this.wi].v.Mdpn.v=this.hG.h()}else{J.Smth.v=Math.round(4096*this.rB.h()/100);if(x.target==this.sX)J.RndS.v=Math.floor(Math.random()*4294967295)}this._A()};
bw.prototype.c_=function(x){var J=p.x2(x,this.$H),o=this.GS,c=(J.x*p.IJ()-o.x)/o.m,E=(J.y*p.IJ()-o.y)/o.e,b=this.M$.Trns.v,l=this.M$.Clrs.v,i=null,F=null,k=-1,U=-1;
if(E<1)for(var $=0;$<b.length;$++){var I=b[$].v;if(Math.abs(I.Lctn.v/4096-c)<.02)i=b[$];if($>0)if(Math.abs((b[$-1].v.Lctn.v+(I.Lctn.v-b[$-1].v.Lctn.v)*I.Mdpn.v/100)/4096-c)<.01)k=$}if(E>0)for(var $=0;
$<l.length;$++){var V=l[$].v;if(Math.abs(V.Lctn.v/4096-c)<.02)F=l[$];if($>0)if(Math.abs((l[$-1].v.Lctn.v+(V.Lctn.v-l[$-1].v.Lctn.v)*V.Mdpn.v/100)/4096-c)<.01)U=$}if(F==null&&i==null&&k==-1&&U==-1){if(E<0){var I={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
I.v.Lctn.v=Math.round(c*4096);b.push(I);b.sort(this.FA);i=I}if(E>1){var l=this.M$.Clrs.v,u=q.r.j4(this.M$,this.Iy.Q6,this.Iy.xR),N=q.r.Vs(this.M$,u,c),V={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:q.r.qP({o:N&255,I:N>>8&255,J:N>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
V.v.Lctn.v=Math.round(c*4096);l.push(V);l.sort(this.FA);F=V}}if(F!=null)U=-1;if(i!=null)k=-1;if(F!=null||i!=null||k>-1||U>-1){this.O$=i;
this.P_=F;this.$h=k;this.wi=U;this.XF();this._A();p.aP(window,this.o9);p.iU(window,this.HX)}};bw.prototype.yt=function(x){var J=p.x2(x,this.$H),o=this.GS,c=(J.x*p.IJ()-o.x)/o.m,E=(J.y*p.IJ()-o.y)/o.e;
c=Math.max(0,Math.min(1,c));var b=this.M$.Trns.v,l=this.M$.Clrs.v;if(this.O$!=null){var i=this.O$.v;
i.Lctn.v=Math.round(4096*c);var F=b.indexOf(this.O$);if(F!=-1&&E<-1&&b.length>1)b.splice(F,1);if(F==-1&&E>-1)b.push(this.O$);
b.sort(this.FA)}if(this.P_!=null){var k=this.P_.v;k.Lctn.v=Math.round(4096*c);var U=l.indexOf(this.P_);
if(U!=-1&&E>2&&l.length>1)l.splice(U,1);if(U==-1&&E<2)l.push(this.P_);l.sort(this.FA)}if(this.$h>-1){var i=b[this.$h].v;
i.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(c*4096-b[this.$h-1].v.Lctn.v)/(i.Lctn.v-b[this.$h-1].v.Lctn.v))))}if(this.wi>-1){var k=l[this.wi].v;
k.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(c*4096-l[this.wi-1].v.Lctn.v)/(k.Lctn.v-l[this.wi-1].v.Lctn.v))))}if(this.O$!=null||this.P_!=null||this.$h>-1||this.wi>-1){this.XF();
this._A()}};bw.prototype._N=function(x){p.Qx(window,this.o9);p.Ro(window,this.HX);if(Date.now()-this.Gn<300){if(this.wi!=-1||this.$h!=-1){var J=(this.wi!=-1?this.M$.Clrs.v[this.wi]:this.M$.Trns.v[this.$h]).v;
J.Mdpn.v=50;this.XF();this._A()}else if(this.P_!=null)this.G1.NL()}this.Gn=Date.now()};bw.prototype.FA=function(x,J){return x.v.Lctn.v-J.v.Lctn.v};
function fk(x){i$.call(this,x=="isize"?[11,10]:[11,3],x);this.a8U=x;var J=p.i("div","form");J.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");
this.body.appendChild(J);var o=x=="csize";this.avh=new dr("Hi");J.appendChild(this.avh.n);p.UF(J);this.d0=new b2(!0,!0,o,o,!0);
if(o)this.d0.a3J(!1);J.appendChild(this.d0.n);this.nO=new j8([12,25,3]);this.nO.w(!0);this.nO.k(L.E.A,this.ajb,this);
this.l5=new i3(null,[[12,14,2],[12,14,3],[12,14,4]]);this.l5.w(1);this.O8=new a6([12,23,2],41);this.O8.w(4);
if(x=="isize"){J.appendChild(this.nO.n);J.appendChild(this.l5.n)}else J.appendChild(this.O8.n);this.wx=p._j(this,this.body)}fk.prototype=new i$;
fk.prototype.gy=function(x,J){return x!=null};fk.prototype.Yv=function(){return!0};fk.prototype.f3=function(x){return this.a8U=="isize"?!1:[dG.Ef,dG.NC,dG.WQ,dG.XL].indexOf(x)!=-1};
fk.prototype.B3=function(x,J,o,c){if(c.S(dG.eP))this.CO();this.O8.akA(c.DC())};fk.prototype._=function(){i$.prototype._.call(this);
this.d0._();this.nO._();this.l5._();this.O8._();this.wx._()};fk.prototype.CO=function(x){var J=this.d0.h(),o=J.x,c=J.y,E=new ko(L.E.p4,!0),b=this.d0.yJ.h();
if(this.a8U=="csize"){if(b){var l=this.d0.Xj,i=this.d0.b1;o=i.x-l.x;c=i.y-l.y}E.data=n.Pm.a8K(o,c,this.O8.h(),b)}else{var F=this.l5.h();
if(!this.nO.h())F=null;E.data=n.Pm.av6(o,c,this.d0.X8(),F)}this.close();this.c(E)};fk.prototype.L8=function(x,J){this.d0.w(new ck(x.m,x.e),x.yV);
this.d0.U1();this.avh.w(h9.get(this.aE)+": "+(x.m*x.e/1e6).toFixed(2)+" MPx")};fk.prototype.ajb=function(x){var J=this.nO.h(),o=this.d0,c=this.l5;
if(J)c.G0();else c.gt();o.azw(J)};function ku(){i$.call(this,"Import RAW","importraw");var x=p.i("div","flexrow"),J=p.i("div");
J.setAttribute("style","margin-bottom: 1em");this.body.appendChild(x);this.body.appendChild(J);var o=p.i("div","form");
o.setAttribute("style","width:18em");x.appendChild(o);var c=p.i("div","form");c.setAttribute("style","width:15em");
x.appendChild(c);this.Ou=null;this.pR=null;this.qT=null;this.CI=null;this.anM=[];var E=[];for(var $=0;
$<ku.ar.length;$++)E.push(ku.ar[$]+" Bits");var b=this.OE=[new b2(!0,null,null,!0),new f1([12,72],1,8),new j8("Last one is Transparency"),new fW([12,34],E),new fW("Byte Order",["12-34","34-12"]),new i3("Guesses",[])];
for(var $=0;$<b.length;$++){var l=b[$];l.parent=this;l.k(L.E.A,$==5?this.aCw:this.ZL,this);var i=$==0?o:$==5?J:c;
i.appendChild(l.n)}this.$H=p.i("canvas");this.n9=this.$H.getContext("2d");this.body.appendChild(this.$H);
this.wx=p._j(this,this.body)}ku.prototype=new i$;ku.prototype._=function(){i$.prototype._.call(this);
var x=this.OE;this.wx._();for(var $=0;$<x.length;$++)x[$]._()};ku.prototype.CO=function(x){this.close();
var J=this.OE[0].h(),o=hR.GN(this.pR,[{data:this.qT,XO:new ha(0,0,J.x,J.y)}]);if(this.CI)o._w=this.CI;
var c=new ko(L.E.N,!0);c.data={d:!0?L.H.wl:L.H.h8,Th:o};this.c(c)};ku.ar=[8,16];ku.prototype.L8=function(x,J){this.Ou=new Uint8Array(J.vD);
this.pR=J.C0;var o=this.Ou.length,c=[1,3,4],E=0,b=0,l=1,i=1,F=this.anM=[],k=Math.round(Math.sqrt(o)*2);
k=Math.max(k,4e3);for(var U=0;U<3;U++){for(var I=0;I<2;I++){var V=ku.ar[I],u=c[U],N=u*V,e=Math.round(o*8/N);
if(e!=o*8/N)continue;for(var B=0;B<=k;B++)for(var j=0;j<=k;j++)if(B*j==e){var T=0;if(B==j)T+=64;if(Math.round(B/100)==B/100&&Math.round(j/100)==j/100)T+=32;
if(Math.round(B/10)==B/10&&Math.round(j/10)==j/10)T+=16;if(Math.round(B/2)==B/2&&Math.round(j/2)==j/2)T+=8;
F.push([B,j,u,V,T])}}}var a=function(y,t){if(t[4]!=y[4])return t[4]-y[4];var g=Math.max(y[0],y[1])/Math.min(y[0],y[1]),H=Math.max(t[0],t[1])/Math.min(t[0],t[1]);
if(g!=H)return g-H;return t[0]-y[0]};F.sort(a);var P=this.OE,v=[];for(var $=0;$<F.length;$++){var R=F[$];
v.push(R[0]+" x "+R[1]+", "+R[2]+"ch, "+R[3]+"-bit")}P[5].Ed(v);P[5].w(0);this.aCw(null)};ku.prototype.aCw=function(x){var J=this.OE,o=this.anM[this.OE[5].h()];
J[0].w(new ck(o[0],o[1]),72);J[1].w(o[2]);J[3].w(ku.ar.indexOf(o[3]));this.ZL()};ku.prototype.ZL=function(x){var J=this.OE,o=J[0].h(),c=o.x,E=o.y,b=ku.ar[J[3].h()],l=this.Ou;
if(b==16&&J[4].h()==1){l=l.slice(0);for(var $=0;$<l.length;$+=2){var i=l[$];l[$]=l[$+1];l[$+1]=i}}var F=this.qT=this.zu(l,c,E,J[1].h(),b,J[2].h()),k=this.$H,U=this.n9,I=[F,new ha(0,0,c,E)];
q.mw(I);for(var $=0;$<I.length;$+=2)if(I[$+1].e<300){F=I[$];c=I[$+1].m;E=I[$+1].e;break}k.width=c;k.height=E;
p.ev(k,c,E);var V=new ImageData(new Uint8ClampedArray(F.buffer),c,E);U.putImageData(V,0,0)};ku.prototype.zu=function(x,J,o,c,E,b){this.CI=null;
var l=[],i=J*o;for(var F=0;F<c;F++){var k=q.R(i);l.push(k);if(E==8)for(var $=0;$<i;$++)k[$]=x[$*c+F];
else if(E==16)for(var $=0;$<i;$++)k[$]=Math.round((x[($*c+F)*2]<<8|x[($*c+F)*2+1])*(255/65535))}var U=q.R(i*4);
new Uint32Array(U.buffer).fill(4278190080);if(b){q.qR(l.pop(),U,3);c--}if(c==0){}else if(c==1)q.Qz(l[0],U);
else{q.qR(l[0],U,0);q.qR(l[1],U,1);if(c>2){q.qR(l[2],U,2);if(c>3){this.CI=[];for(var $=3;$<c;$++){var I=new h.Tj;
I.name="Alpha "+($-2);I.rect=new ha(0,0,J,o);I.channel=l[$];this.CI.push(I)}}}}return U};function ba(x,J,o){gB.call(this);
this.n=p.i("div","");this.$l=x;this.Vd=null;this.Os=J==null?!1:J;this.sT=null;this.JW=o;this.gR=[];this.ST=[];
this.a8=[];this.FZ=[];this.bX=0;this.Vd=this.adu(ba.FZ[x]);this.Rc();this.hz=null;this.aB5;this.agv}ba.prototype=new gB;
ba.prototype.JC=function(x,J,o,c,E){this.hz=E;this.aB5=JSON.parse(JSON.stringify(this.sT));if(this.Vd.lagl)this.agv=this.Vd.lagl.h()[0]};
ba.prototype.OC=function(x,J,o,c,E){var b=this.hz,l=this.$l,i=this.aB5;if(b==null)return;var F=(E.x-b.x)/x.Q.Z,k=(E.y-b.y)/x.Q.Z;
if(l=="GrFl"){var U=JSON.parse(JSON.stringify(i.Ofst.v));U.Hrzn.v.val+=F*.5;U.Vrtc.v.val+=k*.5;this.Vd.Ofst.w(U,!0)}if(l=="patternFill"){var U=JSON.parse(JSON.stringify(i.phase.v));
U.Hrzn.v+=F;U.Vrtc.v+=k;this.Vd.phase.w(U,!0)}if(l=="DrSh"||l=="IrSh"||l=="ChFX"){var I=i.Dstn.v.val,V=this.agv*Math.PI/180,u=-Math.cos(V)*I+F,N=Math.sin(V)*I+k;
this.Vd.Dstn.w(Math.sqrt(u*u+N*N),!0);this.Vd.lagl.w([Math.atan2(N,-u)*180/Math.PI],!0)}};ba.prototype.w7=function(x,J,o,c,E){this.hz=null};
ba.prototype.a93=function(){for(var $=0;$<this.FZ.length;$++){p.ml(this.FZ[$],"selected");if(this.a8[$]instanceof j8)this.a8[$].w(!1)}};
ba.prototype.aqW=function(x){var J=this.akc.bind(this);for(var $=0;$<this.a8.length;$++){var o=p.i("div","listitem");
this.FZ.push(o);if($>0)o.textContent="\u2003";o.appendChild(this.a8[$].n);if(bs.aqt.indexOf(this.$l)!=-1){var c=new eH("+");
c.V2();c.n.style.float="right";o.appendChild(c.n);var E=new eH("\u2B0D");E.V2();E.n.style.float="right";
E.n.style["margin-right"]="2px";o.appendChild(E.n)}o.addEventListener("click",J,!1);x.appendChild(o)}};
ba.s0=function(x,J){var o=J.getBoundingClientRect();return(x.clientY-o.top)/o.height};ba.prototype.akc=function(x){var J=x.target.tagName.toLowerCase();
if(J=="input"){return}if(J=="button"){var o=new ko(L.E.f,!0),c=x.target.textContent=="+",E=c?0:ba.s0(x,x.target)<.5?-1:1;
if(c)o.data={d:"st_dupsingle",a:this.parent.data.a,CX:this.JW};else o.data={d:"st_movsingle",a:this.parent.data.a,CX:this.JW,aAQ:E};
o.v=n.yq;o.A8=!0;this.c(o);o=new ko("redrawall",!0);o.data={aAQ:E};this.c(o);return}p.NV(x);this.QT();
this.bX=this.FZ.indexOf(x.currentTarget);this.c(new ko("showme"))};ba.prototype.QT=function(){if(this.Vd.enab&&this.Vd.enab.h()==!1)this.nT({Sy:"enab",b:!0})};
ba.prototype.a8l=function(){var x=this.FZ[this.bX];if(x)p.na(x,"selected");return this.ST[this.bX]};
ba.prototype.adu=function(x){var J={};for(var $=0;$<x.length;$++){var o=x[$],c=null;if(o=="----")c={n:p.i("hr")};
if(o=="\n")c={n:p.i("br")};if(o=="blOptions")c=new dr([14,10]);if(o=="brst")c=new fA([12,72],["R","G","B"]);
if(o=="knko")c=new i3("Knockout",[[13,1,0],"Shallow","Deep"]);if(o=="enab")c=new j8(bs.names[bs.order.indexOf(this.$l)]);
if(o=="lrMd"||o=="Md")c=new i3([12,19,0],iP.pP,iP.QK);if(o=="Opct")c=new jQ([12,0],0,100,"%");if(o=="iOpa")c=new jQ([12,26],0,100,"%");
if(o=="blIf")c=new aS;if(o=="ShdN")c=new jQ([12,68],0,100,"%");var E=this.$l=="St3D"&&o=="lagl";if(o=="lagl"||o=="Angl")c=new gL(E?"Light":[12,15],this.$l=="ebbl"||E);
if(o=="uglg")c=new j8([12,27]);if(o=="Dstn")c=new jQ([12,28],0,200,"px");if(o=="Ckmt")c=new jQ([12,29],0,100,"%");
if(o=="Srnk")c=new jQ("Shrink",0,100,"%");if(o=="Drkn")c=new jQ("Darken",0,100,"%");if(o=="blur")c=new jQ([12,14,0],0,200,"px");
if(o=="TrnS"||o=="MpgS")c=new b8([12,21]);if(o=="Nose")c=new jQ([12,30],0,100,"%");if(o=="layerConceals")c=new j8([12,31]);
if(o=="Cntn")c=new j8([12,25,4]);if(o=="AntA"||o=="antialiasGloss")c=new j8([12,25,1]);if(o=="GlwT")c=new i3([12,32],bs.ui.names);
if(o=="glwS")c=new i3([12,70],bs.ui.a47);if(o=="Inpr")c=new jQ([12,12],1,100,"%");if(o=="bvlS")c=new i3([12,22],bs.ML.style);
if(o=="bvlT")c=new i3([12,32],bs.ML.agX);if(o=="bvlD")c=new i3(null,bs.ML.dir);if(o=="srgR")c=new jQ([12,34],0,1e3,"%");
if(o=="Sftn")c=new jQ([12,35],0,20,"px");if(o=="Lald")c=J.lagl;if(o=="hglM"||o=="sdwM")c=new i3([12,36],iP.pP,iP.QK);
if(o=="hglC"||o=="sdwC")c=new cp;if(o=="hglO"||o=="sdwO")c=new jQ([12,0],0,100,"%");if(o=="Invr"||o=="InvT")c=new j8([4,11]);
if(o=="overprint")c=new j8("Overprint");if(o=="Sz")c=new jQ([12,14,0],1,200,"px");if(o=="Styl")c=new i3([12,40],bs.stroke.names);
if(o=="PntT")c=new i3([12,66],bs.stroke.avN);if(o=="Clr")c=new cp(!0);if(o=="Grad"){c=new dQ(!0,[12,37],!0);
c.w(JSON.parse(bs.lC.awI).v)}if(o=="Rvrs")c=new j8([12,23,0]);if(o=="Dthr")c=new j8([12,23,3]);if(o=="Type")c=new i3([12,22],bs.r.names.slice(0,this.$l=="FrFX"?6:5));
if(o=="Ptrn")c=new dq([12,62]);if(o=="Scl")c=new jQ([12,38],5,500,"%",0,!0);if(o=="Algn")c=new j8([12,39]);
if(o=="Ofst")c=new gk(!0);if(o=="phase")c=new gk(!1);if(o=="useShape")c=new j8([12,21]);if(o=="useTexture")c=new j8([12,67]);
if(o=="textureDepth")c=new jQ([12,34],-300,300,"%");var b=o=="----"||o=="\n"?o+$:o;if(c!=null)J[b]=c}return J};
ba.prototype.alS=function(x){var J=this.ST[this.bX];for(var $=0;$<x.length;$++){var o=this.Vd[x[$]];
if(o&&J.contains(o.n))J.removeChild(o.n)}};ba.prototype.adZ=function(x){var J=this.ST[this.bX];for(var $=0;
$<x.length;$++){var o=this.Vd[x[$]];if(o&&!J.contains(o.n))J.appendChild(o.n)}};ba.prototype.DL=function(x,J){if(this.Vd==null)return;
var o=J==h4.y_;if(this.Vd.Grad){this.Vd.Grad.Zf(x.Q6,x.xR);if(o||J==h4.uq||J==h4.f1)this.Vd.Grad.Rd(x.y9)}if(this.Vd.Ptrn){if(o||J==h4.Vi)this.Vd.Ptrn.Rd(x.yC)}if(this.Vd.TrnS){if(o||J==h4.SQ)this.Vd.TrnS.Rd(x.qo)}if(this.Vd.MpgS){if(o||J==h4.SQ)this.Vd.MpgS.Rd(x.qo)}};
ba.prototype._=function(){for(var $=0;$<this.gR.length;$++)this.gR[$]._();for(var x in this.Vd)if(this.Vd[x]instanceof gB)this.Vd[x]._()};
ba.prototype.Rc=function(){for(var x in this.Vd){var J=this.Vd[x];J.parent=this;if(J instanceof gB)J.k(L.E.A,this.ahR,this);
if(this.ST.length==0||x=="useShape"||x=="useTexture"){var o=new dr(J.aqc()),c=p.i("div","bordered padded");
if(this.Os==!1){c.appendChild(o.n);c.appendChild(p.i("hr",""))}this.gR.push(o);this.ST.push(c);this.a8.push(J)}else this.ST[this.ST.length-1].appendChild(J.n)}};
ba.prototype.update=function(x,J){if(this.Vd==null)return;this.sT=JSON.parse(JSON.stringify(J));for(var o in J){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(o)!=-1)this.Vd[o].w(J[o].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(o)!=-1){this.Vd[o].w(J[o].v,x)}if(["Md","hglM","sdwM"].indexOf(o)!=-1)this.Vd[o].w(iP.$l.indexOf(J[o].v.BlnM));
if(o=="lrMd"){var c=(J.Zk?[[15,10,27]]:[]).concat(iP.pP),E=(J.Zk?[1]:[]).concat(iP.QK);this.Vd[o].Ed(c,E);
this.Vd[o].w(J[o].v)}if(o=="Angl")this.Vd[o].w([J[o].v.val]);if(o=="lagl"){var b=J.uglg&&J.uglg.v?x.xb():J.lagl.v.val;
this.Vd[o].w([b])}if(o=="Lald"){var b=J.uglg&&J.uglg.v?x.kA():J.Lald.v.val;this.Vd[o].w([null,b])}if(o=="Type")this.Vd[o].w(bs.r.types.indexOf(J.Type.v.GrdT));
if(o=="Styl")this.Vd[o].w(bs.stroke.types.indexOf(J.Styl.v.FStl));if(o=="PntT"){var l=bs.stroke.jI.indexOf(J.PntT.v.FrFl);
this.Vd[o].w(l);if(!this.Os){this.alS(bs.MA.concat(bs.Xp.concat(bs.X2)));this.adZ([bs.MA,bs.Xp,bs.X2][l])}}if(o=="GlwT")this.Vd[o].w(bs.ui.types.indexOf(J.GlwT.v.BETE));
if(o=="glwS")this.Vd[o].w(bs.ui.atj.indexOf(J.glwS.v.IGSr));if(o=="bvlS")this.Vd[o].w(bs.ML.types.indexOf(J.bvlS.v.BESl));
if(o=="bvlT")this.Vd[o].w(bs.ML.a95.indexOf(J.bvlT.v.bvlT));if(o=="bvlD")this.Vd[o].w(["In","Out"].indexOf(J.bvlD.v.BESs))}};
ba.prototype.ahR=function(x){for(var J in this.Vd){if(this.Vd[J]!=x.target)continue;var o=null,c=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(J)!=-1)o={type:"#Prc",val:x.target.h()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(J)!=-1)o={type:"#Pxl",val:x.target.h()};if(["Angl","lagl"].indexOf(J)!=-1)o={type:"#Ang",val:x.target.h()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(J)!=-1)o=x.target.h();
if(["Md","hglM","sdwM"].indexOf(J)!=-1)o={BlnM:iP.$l[x.target.h()]};if(J=="uglg"){o=x.target.h();c=!0}if(J=="PntT"){o={FrFl:bs.stroke.jI[x.target.h()]};
c=!0}if(J=="Lald")o={type:"#Ang",val:x.target.h()[1]};if(J=="Type")o={GrdT:bs.r.types[x.target.h()]};
if(J=="Styl")o={FStl:bs.stroke.types[x.target.h()]};if(J=="GlwT")o={BETE:bs.ui.types[x.target.h()]};
if(J=="glwS")o={IGSr:bs.ui.atj[x.target.h()]};if(J=="bvlS")o={BESl:bs.ML.types[x.target.h()]};if(J=="bvlT")o={bvlT:bs.ML.a95[x.target.h()]};
if(J=="bvlD")o={BESs:["In","Out"][x.target.h()]};this.nT({Sy:J,b:o});if(c){if(this.Os)this.update(null,this.sT);
else{var E=this.parent,b=E.Th,l=this.JW,i=b.B[E.data.a].add.lmfx[bs.x0[l[0]]].v[l[1]].v;this.update(b,i)}}}};
ba.prototype.nT=function(x){if(this.sT&&this.sT[x.Sy])this.sT[x.Sy].v=x.b;if(this.Os){this.c(new ko(L.E.A))}else{x.d="changeprop";
x.a=this.parent.data.a;x.cD=this.JW;var J=new ko(L.E.f,!0);J.data=x;J.v=n.yq;J.A8=!0;this.c(J);this.c(new ko("afterchange",!0))}};
ba.prototype.h=function(){return JSON.parse(JSON.stringify(this.sT))};ba.FZ={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(bs.MA),GrFl:["enab","Md","Opct"].concat(bs.Xp),patternFill:["enab","Md","Opct"].concat(bs.X2),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(bs.MA.concat(bs.Xp.concat(bs.X2)))};
function ky(){i$.call(this,[11,6],"layerstyle");this.aae=-1;this.data={};this.Th=null;this.Vh=null;this.jS=[];
this.y$=[];p.na(this.body,"flexrow");this.C5=p.i("div","bordered");this.C5.setAttribute("style","min-width:13em;");
this.body.appendChild(this.C5);this.r3=p.i("div","");this.r3.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.r3);this.MR=p.i("div","form");this.MR.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.MR);this.wx=p._j(this,this.MR);this.H4=new eH([12,87],!0,null,!0);this.H4.k("click",this.abh,this);
this.MR.appendChild(this.H4.n);this.Gk=new kw;this.Gk.parent=this;this.Gk.k(L.E.A,this.aj5,this);this.MR.appendChild(this.Gk.n);
this.k("closebtn",this.Ct,this);this.k("redrawall",this.aoE,this)}ky.prototype=new i$;ky.prototype.Yv=function(){return!0};
ky.prototype.XH=function(){return!0};ky.prototype.JC=function(x,J,o,c,E){var b=this.zD();if(b)b.JC(x,J,o,c,E)};
ky.prototype.OC=function(x,J,o,c,E){var b=this.zD();if(b)b.OC(x,J,o,c,E)};ky.prototype.w7=function(x,J,o,c,E){var b=this.zD();
if(b)b.w7(x,J,o,c,E)};ky.prototype.zD=function(x){if(x==null)x=this.data.index;return x==null?null:x==0?this.jS[0]:this.y$[x[0]][x[1]]};
ky.prototype.aj5=function(x){var J=this.Gk.h();this.nT({d:"setstl",b:J.oe});this.aoE(null)};ky.prototype.abh=function(x){var J=this.Th,o=this.data.a;
if(o==null)o=J.g[0];var c=this.Th.B[o],E=cI.ahf(c),b=new ko(L.E.N,!0);b.data={d:L.H.bS,_E:"add",KJ:h4.Dh,AF:[JSON.parse(JSON.stringify(E))]};
this.c(b)};ky.prototype.a21=function(x){this.data.index=x.currentTarget.JW;this.x5(x.currentTarget.JW)};
ky.prototype.aoE=function(x){this.L8(this.Th,this.data)};ky.prototype.x5=function(x,J){p.LX(this.r3);
for(var $=0;$<this.jS.length;$++)this.jS[$].a93();var o=this.zD(x);this.r3.appendChild(o.a8l());if(J)o.QT();
var c=this.Th;if(c){var E=c.B[this.data.a];this.jS[0].update(c,n.BH.Aw(c,E));var b=E.add.lmfx;if(b==null)return;
for(var $=0;$<bs.order.length;$++){var l=b[bs.x0[$]].v;for(var i=0;i<l.length;i++)this.y$[$][i].update(c,l[i].v)}}if(J)o.QT()};
ky.prototype._=function(){i$.prototype._.call(this);this.H4._();this.Gk._();this.wx._();for(var $=0;
$<this.jS.length;$++)this.jS[$]._()};ky.prototype.L8=function(x,J){var o=J.a==null;this.data.a=J.a;this.data.index=J.index;
J=this.data;this.Th=x;if(o)J.a=x.g.length==0?x.B.length-1:x.g[0];p.LX(this.C5);var c=x.B[J.a].add.lmfx;
this.$o();this.jS=[new ba("bops",!1,0)];this.y$=[];for(var $=0;$<bs.order.length;$++){this.y$.push([]);
var E=c==null?[]:c[bs.x0[$]].v;for(var b=0;b<E.length;b++){var l=new ba(bs.order[$],!1,[$,b]);this.jS.push(l);
this.y$[$].push(l)}if(E.length==0){var l=new ba(bs.order[$],!1,[$,0]);this.jS.push(l);this.y$[$].push(l)}}this._();
this.a6N(this.Vh,h4.y_);for(var $=0;$<this.jS.length;$++){this.jS[$].parent=this;this.jS[$].aqW(this.C5);
this.jS[$].k("showme",this.a21,this)}if(J.index==null||J.index==0||!o&&c[bs.x0[J.index[0]]].v.length==0){this.x5(0)}else this.x5(J.index,o);
this.k("afterchange",this.$o,this)};ky.prototype.$o=function(x){var J=this.Th,o=this.data.a;if(o==null)o=J.g[0];
var c=this.Th.B[o],E=cI.ahf(c);this.Gk.w(E,J.add.Patt?J.add.Patt:[],J.xb(),J.kA())};ky.prototype.DL=function(x,J){this.Vh=x;
this.a6N(x,J);if(J==h4.Dh||J==h4.y_){this.Gk.Rd([x.sU,x.yC])}if(J==h4.mL){}};ky.prototype.a6N=function(x,J){for(var $=0;
$<this.jS.length;$++)this.jS[$].DL(x,J)};ky.prototype.Ct=function(x){this.nT({d:"cancel"})};ky.prototype.CO=function(x){this.nT({d:"confirm"});
this.close()};ky.prototype.nT=function(x){x.a=this.data.a;var J=new ko(L.E.f,!0);J.data=x;J.v=n.yq;J.A8=!0;
this.c(J);this.$o()};ky.atV=function(){var x=function(J){if(J==null||J.g.length==0)return{T:!1};var o=J.B[J.g[0]];
return{T:o.add.lmfx!=null}};return{name:[11,6],U7:!0,sub:[{name:[5,1],T:x},{name:[5,2]},{name:[2,2],T:x}]}};
ky.azh=function(){return{sub:[{K:L.E.f,v:n.yq,C:{d:"st_copy"}},{K:L.E.f,v:n.yq,C:{d:"st_paste"}},{K:L.E.f,v:n.yq,C:{d:"st_clear"}}]}};
ky.ZZ=function(x){var J=[{name:[14,10],U7:!0}];for(var $=0;$<bs.names.length;$++)J.push({name:bs.names[$]});
if(x){J[J.length-1].U7=!0;J.push(ky.atV());J.push({name:[6,30,1],T:function(o){return{T:o!=null&&o.g.length!=0&&o.B[o.g[0]].tg()}}});
J.push({name:["VAR0 VAR1",[12,49],[9,1]],T:function(o){return{T:o!=null&&o.g.length!=0&&o.B[o.g[0]].add.lmfx!=null}}})}return J};
ky.z4=function(x){var J=[{K:L.E.N,C:{d:L.H.yI,AN:"layerstyle"}}];for(var $=0;$<bs.names.length;$++)J.push({K:L.E.N,C:{d:L.H.yI,AN:"layerstyle",index:[$,0]}});
if(x){J.push(ky.azh());J.push({K:L.E.N,C:{d:L.H.yI,AN:"scaleeffects",xg:100,A3:{K:L.E.f,v:n.yq,C:{d:"scaleeffects"}}}});
var o={classID:"Mk",null:hi.X$("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
J.push({K:L.E.p4,C:{bV:"make",Rx:o}})}return J};ky.aoO=function(x){var J=[];if(x)J.push({name:[6,48,0,0],hV:!0},{name:[6,48,0,1],hV:!0},{name:[6,48,0,2],hV:!0,U7:!0});
for(var o in dv.names)J.push({name:dv.names[o],U7:dv.ax$.indexOf(o)!=-1,hV:jM[o]!=null});return J};ky.Mk=function(x){var J=[];
if(x){J.push({K:L.E.f,v:n.Ni,C:{d:"newfill",jP:0}});for(var $=1;$<3;$++)J.push({K:L.E.p4,C:n.Au.uQ($)})}for(var o in dv.names){var c=fn.Bt(o);
if(c==null)c={};for(var E in dv.ig)if(dv.ig[E]==o)c.classID=E;var b={bV:"make",Rx:{classID:"Mk",null:hi.X$("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:c}}}}};
J.push({K:L.E.p4,C:b})}return J};function j$(){i$.call(this,"Merge Channels","mergechannels");this.Rp=null;
var x=p.i("div","form");this.body.appendChild(x);this.OE=[];for(var $=0;$<3;$++){var J=new i3(dv.rF[$],[]);
this.OE.push(J);x.appendChild(J.n);p.UF(x)}this.wx=p._j(this,x)}j$.prototype=new i$;j$.prototype._=function(){i$.prototype._.call(this);
this.wx._();for(var $=0;$<3;$++)this.OE[$]._()};j$.prototype.L8=function(x,J,o,c){this.Rp=o;var E=[];
for(var $=0;$<o.length;$++)E.push(o[$].name);for(var $=0;$<3;$++){var b=this.OE[$];b.Ed(E);b.w(Math.min($,o.length-1))}};
j$.prototype.CO=function(x){var J=this.Rp,o=J[0],c=new ko(L.E.p4,!0);c.data=hk.qm(o.m,o.e,o.yV,"Merged Document","Wht",!1);
this.c(c);var E=[];for(var $=0;$<3;$++)E.push(J[this.OE[$].h()].or());var o=J[J.length-1],b=o.B[0],l=b.buffer;
for(var $=0;$<l.length;$+=4){l[$]=E[0][$];l[$+1]=E[1][$];l[$+2]=E[2][$]}b.W();o.W();this.close()};function kh(){i$.call(this,[1,10],"script");
var x=p.i("div","form");x.setAttribute("style","width:44em");this.body.appendChild(x);this.Vh=null;this.Hj=[];
this.jt=[];this.axX;var J=this.Qv=new eH([1,2],!1,null,!0);J.k("click",this.dA,this);x.appendChild(J.n);
var o=new eH("JS Reference",!1,null,!0);o.k("click",this.aj$,this);x.appendChild(o.n);x.appendChild(new dr("Demos:").n);
this.aaI=[];var c=kh.dR;for(var $=0;$<c.length;$++){var E=new eH(c[$].fm,!1,null,!0);this.aaI.push(E);
x.appendChild(E.n);E.k("click",this.ayv,this)}this.Me=p.i("textarea");p.l8(this.Me);this.Me.setAttribute("rows",16);
this.Me.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");x.appendChild(this.Me);
var b=new eH("Run",!0,null,!0);b.k("click",this.CO,this);x.appendChild(b.n);this.tt=p.i("div");x.appendChild(this.tt)}kh.prototype=new i$;
kh.prototype._=function(){this.Qv._()};kh.prototype.dA=function(){var x=this.axX;if(x==null)x="script.jsx";
var J=new ko(L.E.N,!0);J.data={d:L.H.yI,AN:"namewindow",xg:x.slice(0,x.length-4),sA:this.aBF.bind(this)};
this.c(J)};kh.prototype.aBF=function(x){var J=this.Me.value,o=D.Ey(J),c=new ko(L.E.N,!0);c.data={d:L.H.AE,vD:o.buffer,LB:x+".jsx",a0h:!0};
this.c(c)};kh.prototype.aeW=function(x){var $=this.Hj.indexOf(x.target),J=this.axX=this.jt[$],o=this.Vh.cI.sb[J],c=new Uint8Array(o),E=D.cA(c,0,c.length);
this.Me.value=E};kh.prototype.L8=function(x,J,o){this.Me.value=kh.dR[0].g8;this.akN()};kh.prototype.akN=function(){var x=this.Vh.cI,J=this.tt;
p.LX(J);this.Hj=[];this.jt=[];J.textContent="Saved scripts: ";for(var o in x.sb){if(o.endsWith(".jsx")){var c=new eH(o,!1,null,!0);
this.Hj.push(c);this.jt.push(o);c.k("click",this.aeW,this);J.appendChild(c.n)}}};kh.prototype.DL=function(x,J){this.Vh=x;
if(J==h4.E1)this.akN()};kh.prototype.aj$=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.pp,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.c(J)};kh.prototype.CO=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.w9,RU:this.Me.value};this.c(J)};
kh.prototype.ayv=function(x){var J=this.aaI.indexOf(x.currentTarget);this.Me.value=kh.dR[J].g8};kh.dR=[{fm:"Hello",g8:"\nalert(\"Hello Photopea!\");\n"},{fm:"Process Layers",g8:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{fm:"Clone Layers",g8:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function gu(){i$.call(this,[11,7],"newproject");this.data=null;this.Rp=null;this.tk=0;var x=p.i("div","flexrow");
this.Pt=x;this.body.appendChild(x);var J=p.i("div","form");this._0=J;x.appendChild(J);this.BP=new cA([12,48],null,10);
J.appendChild(this.BP.n);p.UF(J);this.d0=new b2(!0,null,null,null,!0);this.d0.w(new ck(1280,720),72);
this.d0.azw(!0,!0);this.d0.k(L.E.A,this.f4,this);J.appendChild(this.d0.n);this.RL=new gy;this.RL.parent=this;
J.appendChild(this.RL.n);this.OR=new eH("\u02C5",null,[0,14],!0);this.OR.k("click",this.Cz,this);J.appendChild(this.OR.n);
var o=this.atf=p.i("span");J.appendChild(o);o.style.display="none";this.a58=new i3([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
o.appendChild(this.a58.n);this.xJ=new j8([1,16,1]);o.appendChild(this.xJ.n);this.wx=new eH([12,49],!0,null,!0);
this.wx.k("click",this.CO,this);J.appendChild(this.wx.n);var c=gu.Ou,E=[];for(var $=0;$<c.length;$++)E.push(c[$].name);
this.ur=new fW(null,E);this.ur.k(L.E.A,this.a4v,this);J.appendChild(this.ur.n);this.ur.n.style["margin-top"]="1em";
this.v8=new go(!0);this.v8.k(L.E.A,this.a4C,this);J.appendChild(this.v8.n);this.a4v();this.xM=new bo;
this.xM.parent=this;this.xM.n.setAttribute("style","margin-left:1em");this.xM.k("tempready",this.ak2,this)}gu.prototype=new i$;
gu.prototype.Cz=function(x){var J=this.atf,o=J.style.display!="none";J.style.display=o?"none":"";this.OR.bo(o?"\u02C5":"\u02C4");
this.ip(this.Qh,this.ao)};gu.prototype.DL=function(x,J){this.xM.DL(x)};gu.prototype.MN=function(x,J){return new ck(Math.max(0,Math.min(70,(x-690)/2)),x>J?Math.max(0,Math.min(50,(J-400)/2)):0)};
gu.prototype.ip=function(x,J){this.Qh=x;this.ao=J;this._0.setAttribute("style","width:"+Math.min(x-24,338)+"px");
this.v8.n.style.height=J-248-(this.atf.style.display=="none"?0:28)+"px";var o=this.xM.n,c=o.parentNode;
if(x<500){if(c!=null)this.Pt.removeChild(o)}else{if(c==null)this.Pt.appendChild(o);this.xM.ip(x-378,J-28)}};
gu.prototype.f4=function(){this.xM.w(this.d0.h())};gu.prototype.a4C=function(x){var J=this.v8.h()[0],o=gu.Ou[this.ur.h()].Wj[J],c=o[4];
if(c==0)c=72;var E=o[1],b=o[2],l=["px","%","mm","in"].indexOf(o[3]),i=[1,1,25.4/c,1/c][l];E/=i;b/=i;
this.d0.w(new ck(Math.round(E),Math.round(b)),c);this.d0.axB(l);this.f4();if(Date.now()-this.tk<300)this.CO();
this.tk=Date.now()};gu.prototype.a4v=function(x){var J=gu.Ou[this.ur.h()].Wj,o=[],c=[],E=Math.round(106*p.IJ()),b=Math.round(106*p.IJ()),l=0;
for(var $=0;$<J.length;$++)l=Math.max(l,J[$][1],J[$][2]);for(var $=0;$<J.length;$++){var i=J[$],F=i[1]+" x "+i[2]+" "+i[3];
if(i[3]=="in")F=(i[1]*25.4).toFixed(0)+" x "+(i[2]*25.4).toFixed(0)+" mm";if(i[3]=="mm")F=(i[1]/25.4).toFixed(1)+" x "+(i[2]/25.4).toFixed(1)+" in";
if(i[4])F=F+" @ "+i[4]+" ppi";c.push(F);o.push(gu.dh(i,E,b,l))}this.v8.Qk(o,c,E,b)};gu.dh=function(x,J,o,c){var E=p.i("canvas",""),b=E.getContext("2d");
E.width=J;E.height=o;var l=Math.round(J/8),i=Math.floor(11*p.IJ()),F=x[1],k=x[2];b.fillStyle="#000000";
b.font=Math.round(i*.9)+"px \"Open Sans\", Sans-Serif";var U=F+" x "+k+" "+x[3],I=b.measureText(U);b.fillText(U,Math.round((J-I.width)/2),o-Math.round(l/2));
if(x[0]!=null){b.font="bold "+i+"px \"Open Sans\", Sans-Serif";var U=x[0],I=b.measureText(U);b.fillText(U,Math.round((J-I.width)/2),o-Math.round(l/2)-Math.round(i*1.3))}o-=Math.round(2.5*i);
var V=Math.min((J-l)/F,(o-l)/k);V*=.5+.5*(Math.max(F,k)/c);var u=(J-F*V)/2,N=(o-k*V)/2;b.strokeRect(Math.round(u)+.5,Math.round(N)+.5,Math.round(F*V),Math.round(k*V));
return E.toDataURL()};gu.prototype._=function(){i$.prototype._.call(this);this.d0._();this.BP._();this.RL._();
this.wx._();this.BP.w(h9.get([11,7]));this.ur._();this.xJ._();this.OR._();this.xM._()};gu.prototype.CO=function(x){var J=this.d0.h(),o=J.x,c=J.y;
this.close();var E=this.RL.h(),b=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a58.h()],l=new ko(L.E.p4,!0);
l.data=hk.qm(o,c,this.d0.X8(),this.BP.h(),["Wht","Blck","Trns","Clr"][E[0]],this.xJ.h(),E[1],b);this.c(l);
this.abd()};gu.prototype.ak2=function(x){var J=x.data.Th;J.yV=this.d0.X8();var o=new ko(L.E.N,!0);o.data={d:L.H.wl,Th:J};
this.c(o);this.close();this.abd()};gu.prototype.abd=function(){var x=this.Rp[this.Rp.length-1],J=this.data.aya;
if(J)hH.OD(function(){var o=new XMLHttpRequest,c="https://www.googleapis.com/drive/v3/files?"+hH.jc();
o.open("POST",c,!0);o.setRequestHeader("Content-Type","application/json");o.addEventListener("load",function(E){var b=JSON.parse(E.target.response);
x.Vg={file:b,XM:"psd"};alert(x.name+" created in Google Drive")});o.send(JSON.stringify({name:x.name,aDj:[J]}))})};
gu.prototype.L8=function(x,J,o,c){this.Rp=o;if(x!=null&&x.u!=null){var E=new ha(0,0,x.m,x.e).Kc(x.u.rect);
this.d0.w(new ck(E.m,E.e))}this.data=J;this.f4();if(p.Bo())bB.alY(this.ZN.bind(this))};gu.prototype.ZN=function(x){if(x=="granted")bB.kf(this,this.PV.bind(this))};
gu.prototype.PV=function(x,J){this.d0.w(new ck(J.m,J.e))};gu.Ou=[{name:"Social",Wj:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Wj:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Wj:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Wj:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Wj:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Wj:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",Wj:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function eg(x,J,o){i$.call(this,J,"sel_"+x);this.d=x;var c=p.i("div","form");this.body.appendChild(c);
this.BP=new f1(J,0,255,null,0,!1,!0);c.appendChild(this.BP.n);this.BP.w(1);var E=p.i("span");E.textContent=o;
c.appendChild(E);p.UF(c);this.a1z=new j8("Apply at canvas bounds");if(x!="border")c.appendChild(this.a1z.n);
this.wx=p._j(this,c)}eg.prototype=new i$;eg.prototype.gy=function(x,J){if(x==null)return;if(x.u==null)alert("No selection!");
return x.u!=null};eg.prototype.CO=function(x){var J=new ko(L.E.p4,!0);J.data=n.vh.gh(this.d,this.BP.h(),this.a1z.h());
J.A8=!0;this.c(J);this.close()};eg.prototype._=function(){i$.prototype._.call(this);this.wx._();if(this.BP)this.BP._()};
eg.prototype.L8=function(x,J){this.BP.U1()};function dx(x,J,o,c,E,b){i$.call(this,o,J);this.a5n=b;this.DZ=E;
this.Ou=null;this._0=p.i("div","form");this.body.appendChild(this._0);this.arb=p.i("div");this._0.appendChild(this.arb);
var l=500;if(c){var i=c.split(",");c=i[0];if(i[1])l=parseFloat(i[1])}this.BP=x==0?new cA(o,null,10):x==1?new jQ(o,0,l,c,1):new cA(o,null,24,5);
this.BP.k(L.E.A,this.xs,this);this._0.appendChild(this.BP.n);this.wx=p._j(this,this._0);this.k("closebtn",this.Ct,this)}dx.prototype=new i$;
dx.prototype.MN=function(x,J){return new ck(Math.max(0,Math.min(150,(x-250)/2)),Math.max(0,Math.min(150,(J-120)/2)))};
dx.prototype.Yv=function(){return this.a5n};dx.prototype.xs=function(x){var J=this.BP.h();if(this.DZ)this.TA(J)};
dx.prototype.Ct=function(x){if(this.DZ)this.TA("cancel")};dx.prototype.CO=function(x){if(this.DZ)this.TA("confirm");
else this.TA(this.BP.h());this.close()};dx.prototype.TA=function(x){if(this.Ou.sA)this.Ou.sA(x);else if(this.Ou.A3){var J=this.Ou.A3,o=new ko(J.K,!0);
o.v=J.v;o.data=J.C;o.data.b=x;o.A8=!0;this.c(o)}};dx.prototype._=function(){i$.prototype._.call(this);
this.wx._();if(this.BP)this.BP._()};dx.prototype.L8=function(x,J){this.Ou=J;this.BP.w(J.xg);this.BP.U1();
this.arb.innerHTML=J.a0r?J.a0r:"";this.xs(null)};function fS(){i$.call(this,[1,5],"open_from_url");this.dD=null;
var x=p.i("div","form");this.body.appendChild(x);this.Vz=new cA("URL",null,22);x.appendChild(this.Vz.n);
p.UF(x);this.UM=new fW([21,0],[[21,2],[21,1]]);x.appendChild(this.UM.n);this.wx=p._j(this,x)}fS.prototype=new i$;
fS.prototype._=function(){i$.prototype._.call(this);this.wx._();this.UM._()};fS.prototype.L8=function(x,J,o){this.Vz.U1();
this.dD=null;if(x&&o.indexOf(x)!=-1)this.dD=o.indexOf(x)};fS.prototype.CO=function(x){var J=new ko(L.E.N,!0),o=this.Vz.h();
J.data={d:L.H.lL,KJ:{url:o,vg:!0,dD:this.UM.h()==1?this.dD:null}};this.c(J);this.close()};function bj(){i$.call(this,[12,79],"preferences");
this.Vh=null;var x=p.i("div","form");this.body.appendChild(x);this.FZ=[new j8([8,2]),new cp,new j8([8,4]),new cp,new i3([12,80,3],[[12,93,3],[12,80,4]]),new jQ([12,80,5],.02,100,null,2),new i3(null,q.xP.Bz),new i3([12,80,6],q.xP.Bz),new j8("Remind me to save"),new j8("Glass Menus"),new jQ("Cursor Offset",0,200)];
for(var $=0;$<this.FZ.length;$++){var J=this.FZ[$];J.parent=this;J.k(L.E.A,this.Wb,this);if($==8)continue;
x.appendChild(J.n);if($!=0&&$!=2&&$!=3&&$!=5)p.UF(x)}}bj.prototype=new i$;bj.prototype._=function(){i$.prototype._.call(this);
for(var $=0;$<this.FZ.length;$++)this.FZ[$]._()};bj.prototype.L8=function(x,J,o){};bj.prototype.DL=function(x,J){this.Vh=x;
var o=x.Km;this.FZ[0].w(o.Kt);this.FZ[1].RT(o.Fb);this.FZ[2].w(o.Ju);this.FZ[3].RT(o.m4);this.FZ[4].w(o.h4);
this.FZ[5].w(o.np);this.FZ[6].w(o.Sb);this.FZ[7].w(o.jm);this.FZ[8].w(x.gH==1);var c=window.locStor.getItem("__glm");
this.FZ[9].w(c=="1");this.FZ[10].w(x.BY)};bj.prototype.Wb=function(x){var J=this.FZ;if(x.target==J[8])this.Vh.gH=1-this.Vh.gH;
var o=JSON.parse(JSON.stringify(this.Vh.Km));o.Kt=J[0].h();o.Fb=J[1].H8();o.Ju=J[2].h();o.m4=J[3].H8();
o.h4=J[4].h();o.np=J[5].h();o.Sb=J[6].h();o.jm=J[7].h();window.locStor.setItem("__glm",J[9].h()?"1":"0");
this.Vh.BY=J[10].h();var c=new ko(L.E.N,!0);c.data={d:L.H.bS,KJ:h4.MU,_Q:o};this.c(c)};function g8(){i$.call(this,[11,8],"saveforweb");
this.ay_="";this.k("closebtn",function(){this.uv.YF()},this);this.Th=null;this.db=null;this.aC6=null;
this.Vh=null;p.na(this.body,"flexrow");this.body.style.padding="0";var x=p.i("div");x.setAttribute("style","position:relative;");
var J=p.i("div");this.body.appendChild(x);this.body.appendChild(J);this.Mt=p.i("div","imgcont");x.appendChild(this.Mt);
this.uv=new f6;this.uv.ip(512,512);var o=this.vZ=p.i("video");o.setAttribute("controls","");o.setAttribute("preload","auto");
o.setAttribute("loop","");this.rE=p.i("div");this.rE.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
x.appendChild(this.rE);var c=this._0=p.i("div","form cell");c.setAttribute("style","width:195px; padding:9px 13px;");
J.appendChild(c);this.pM=new cA([12,48],null,7.6);this.pM.Em();c.appendChild(this.pM.n);var E=hR.ZG();
E[E.indexOf("WEBP")]="webP";this.JK=new i3([12,50],E);this.JK.n.style.marginRight="0";this.JK.Em();c.appendChild(this.JK.n);
this.JK.k(L.E.A,this.bK,this);p.UF(c);this.d0=new b2(!0,!0,!1,!0);this.d0.Em();this.d0.k(L.E.A,this.bK,this);
this.d0._e.n.style.paddingBottom="8px";c.appendChild(this.d0.n);this.aU=new cQ;this.aU.k(L.E.A,this.bK,this);
c.appendChild(this.aU.n);this.Hf=new eH([1,2],!0,null,!0);this.Hf.k("click",this.CO,this);c.appendChild(this.Hf.n)}g8.prototype=new i$;
g8.prototype.gy=function(x,J){return x!=null};g8.prototype._=function(){i$.prototype._.call(this);this.d0._();
this.pM._();this.JK._();this.aU._();this.Hf._()};g8.prototype.CO=function(x){var J=this.pM.h().trim(),o=hR.ZG()[this.JK.h()],c=o=="JPG"||o=="PNG"||o=="GIF"||o=="SVG",E=hR.rb(o),b="."+o.toLowerCase(),l=this.db,i=J+b,F=this.Th,k=F.IL,U=this.aU.h();
if(F.on())U.pop();if(k.length!=0&&c&&U.pop()){var I="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",V=[],u={},N=new ha(0,0,F.m,F.e),e=F.or();
for(var $=0;$<k.length;$++)V.push(n.XN.zK(k,$));V.reverse();var B=q.rect.aBR([0,0,F.m,F.e],V);for(var $=0;
$<B.length;$++){var j=B[$],T=new ha(j[0],j[1],j[2]-j[0],j[3]-j[1]),a=j.length==5?k[j[4]].v:null,P=q.R(T.P()*4);
q.St(e,N,P,T);var v="img/img"+($+1)+b;u[v]=new Uint8Array(E.Jy([[P.buffer,0,F.yV,F.TP]],T.m,T.e,U));
I+="<div style=\"background-image:url('"+v+"'); left:"+T.x+"px; top:"+T.y+"px; width:"+T.m+"px; height:"+T.e+"px\">";
if(a&&a.url.v!="")I+="\n\t<a href=\""+a.url.v+"\" target=\""+a.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
I+="</div>\n"}I+="</body>\n</html>\n";var R=q.R(Math.round(I.length*1.5)),y=D.D$(I,R,0);u["index.html"]=R.slice(0,y);
l=UZIP.encode(u);i=J+".zip"}else if(F.add.artd&&F.add.artd.Cnt.v>1&&c&&U.pop()){var u={},N=new ha(0,0,F.m,F.e),e=F.or(),t=F.root.children;
for(var $=0;$<t.length;$++){var g=t[$].a,_;if(g.add.artb==null||!g.kR())continue;var H=g.uc();if(o=="SVG")_=new Uint8Array(E.Jy(F,H.m,H.e,U,this.Vh,$));
else{var Y=q.R(H.P()*4);q.St(e,N,Y,H);_=new Uint8Array(E.Jy([[Y.buffer,0,F.yV,F.TP]],H.m,H.e,U))}u[g.getName()+b]=_}l=UZIP.encode(u);
i=J+".zip"}var K=function(){if(F.k6)bB.aQ("act=1&id="+F.k6);this.uv.YF();this.close();var m=new ko(L.E.N,!0);
m.data={d:L.H.tQ,data:l,name:i};this.c(m)}.bind(this);if(!this.Vh.Hg||j4.I4()){K();return}if(j1.b4==0){j1.abr(K);
return}var f=j1.q7()!=0;K();var m=new ko(L.E.N,!0),C=cG.hC("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),Z=cG.hC(";QJXQ_*II9"),A=function(){m.data={d:L.H.yI,AN:"account"};
this.c(m)}.bind(this);if(f){C=cG.hC("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
A=function(){};Z=null}m.data={d:L.H.yI,AN:cG.k9,b:C,sA:A,agC:Z};if(Math.random()<.1||f)this.c(m)};g8.prototype.L8=function(x,J){if(J.UY!=null)this.JK.w(J.UY);
this.Th=x;var o=this.Th.name,c=o.lastIndexOf("."),o=c==-1?o:o.slice(0,c);this.pM.w(o);var E=x.m+","+x.e;
if(E!=this.ay_){this.ay_=E;this.d0.w(new ck(x.m,x.e),x.yV)}this.aU.adb();if(J.a9g){this.d0.axB(3);this.aU.oU.PDF[2].tb.w(!0)}this.bK(null,!0)};
g8.prototype.aiE=function(x,J){return x<J&&x<660};g8.prototype.MN=function(x,J){return this.aiE(x,J)?new ck(0,0):new ck(Math.max(0,Math.min(150,(x-770)/2)),Math.max(0,Math.min(150,(J-590)/2)))};
g8.prototype.ip=function(x,J,o){this.Qh=x;this.ao=J;if(this.Th==null)return;var c=this.Hf.n,E=this.aiE(x,J),b,l,V="<span style=\"width:",u="display:inline-block; text-align:right;\">";
if(E){var i=this._0.getBoundingClientRect().height;b=x;l=J-Math.max(i,252);p.ml(this.body,"flexrow")}else{b=Math.min(512,x-195-2*13);
l=Math.min(512,J-24);p.na(this.body,"flexrow")}var F=E?x-2*13:195;this._0.style.width=F+"px";this.pM.yg.style.width=F-77+"px";
this.d0.ip(F);var k=hR.ZG()[this.JK.h()],U=hR.rb(k);if(U.gi||U.gJ)this.Mt.firstChild.setAttribute("style","display:block; width:"+b+"px; height:"+l+"px;");
else{this.uv.ip(b,l);this.vZ.width=b;this.vZ.height=l}var I=this.db.byteLength,N=V+64+"px;"+u+g8.if(I)+"</span>";
if(b>400)N+=V+90+"px; opacity:"+.5+";"+u+I.toLocaleString()+" B</span>";this.rE.innerHTML=N;if(o)setTimeout(function(){this.ip(this.Qh,this.ao)}.bind(this),20)};
g8.if=function(x){var J=x.toString(2),o=0;while(o+10<J.length)o+=10;var c=(x/Math.pow(2,o)).toFixed(1);
if(c.endsWith(".0"))c=c.slice(0,-2);var E="B KB MB GB TB PB".split(" ")[Math.floor(o/10)];return c+" "+E};
g8.prototype.DL=function(x,J){this.Vh=x};g8.prototype.bK=async function(x,J){var o=this.Th,c=this.d0.h(),E=c.x,b=c.y,l=this.JK.h(),i=hR.ZG()[l],F=hR.uC(o)[0].length,k=["GIF","PNG","WEBP","MP4"].indexOf(i)!=-1&&F>1,j="";
if(k&&i!="MP4"&&J&&(F>4&&E*b>1024*1024||E*b*F>800*800*50)){var U=1;while(Math.max(E>>>U,b>>>U)>800)U++;
var I=window.confirm("Your animation is large ("+E+" x "+b+" px). Press \"OK\" to scale it to "+(100>>>U)+"%. Press \"Cancel\" to keep the size.");
if(I){this.d0.w(new ck(E>>>U,b>>>U),null,!0);E=E>>>U;b=b>>>U}}var V=o.add.artd,u=V!=null&&V.Cnt.v>1,N=o.on();
this.aU.zZ(i,k,o.IL.length!=0,u,N!=null);var e=window.locStor.getItem("sfwPrms");if(e==null)e={};else{e=JSON.parse(e);
if(e.MP4&&e.MP4[0]==100)e.MP4[0]=50}var B=this.aU.h();if(x&&x.target==this.aU){e[i]=B;window.locStor.setItem("sfwPrms",JSON.stringify(e))}else if(e[i]){this.aU.w(e[i],!0);
B=this.aU.h()}this.db=await hR.GU(o,i,E,b,B,this.Vh);if(this.db==null){this.Th=null;return}p.LX(this.Mt);
this.uv.YF();var T=hR.rb(i);if(T.gJ){this.Mt.innerHTML="<div></div>"}else if(T.gi){var a=E,P=b,v;if(i=="PDF"||i=="AI"){v=URL.createObjectURL(new Blob([this.db],{type:"application/pdf"}))}else{v=URL.createObjectURL(new Blob([this.db],{type:"image/svg+xml"}))}this.Mt.innerHTML="<iframe src=\""+v+"\"></iframe>"}else if(i=="MP4"){var v=URL.createObjectURL(new Blob([this.db]));
this.vZ.setAttribute("src",v);this.Mt.appendChild(this.vZ)}else{var R=this.aC6=T.zu(this.db),y=R[0],t=y.XO,a=t.m,P=t.e;
if(y.RS){var g=ICC.R(y.RS.buffer),H=17,_=ICC.U.sampleLUT(g,H);for(var $=0;$<R.length;$++){var Y=new Uint8Array(R[$].data);
ICC.U.applyLUT(_,H,Y,Y)}}this.uv.w(R,R.length>1?B[B.length-3]:0);this.Mt.appendChild(this.uv.n);j="background: rgba(0,0,0,0);"}this.Mt.setAttribute("style","display:block; "+(T.gJ?"background:rgba(0,0,0,0);":"background-size:"+16/p.IJ()+"px;")+j);
this.ip(this.Qh,this.ao,J)};function hc(){i$.call(this,[11,13],"shortcuts");this.Vh=null;var x=this.Pt=p.i("div","scrollable");
x.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(x);
this.cX()}hc.prototype=new i$;hc.prototype._=function(){i$.prototype._.call(this);this.cX()};hc.prototype.DL=function(x,J){this.Vh=x};
hc.prototype.L8=function(x,J,o,c){if(p.j5(this.n))this.cX()};hc.prototype.cX=function(){var x="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",J="",o=dG,c=o._k,E=o.uJ,b=o.Zj;
J+="<h2 style=\"margin-top:0;\">Main Menu</h2>";J+=x;J+=this.MB([[0,0],"---",[1,0],[c,o.LY],[1,2],[c,o.Pu],[1,3],[E,c,o.Pu],[1,8],[b,E,c,o.Pu],[0,1],"---",[2,0],[E,c,o.Mv],[2,1],[c,o.Mv],[5,0],[c,o.eO],[5,1],[c,o.uA],[5,2],[c,o.iw],[2,2],"Delete",[2,3],[b,o.BK],[10,16],[b,c,o.Ex],[12,79],[c,o.Pv],[3],"---",[4,1],[c,o.FQ],[4,2],[c,o.os],[4,5],[c,o.KK],[4,11],[c,o.kL],[0,3],"---",[6,13],[E,c,o.V7],[6,49,0],[c,o.cr],[6,6,0],[b,c,o.EB],[6,9],[c,o.EB],[6,10],[c,o.E],[0,5],"---",[7,0],[c,o.H],[7,1],[c,o.er],[7,2],[E,c,o.kL],[0,7],"---",[8,0],[c,o.l7],[8,1],[c,o.oN],[8,3],[c,o.iJ],[8,2],[c,o.nH],[8,4],[c,o.Jd],[11,13],"?"]);
J+="</div>";J+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";J+=x;J+=this.MB(["Vertical scroll","Wheel","Horizontal scroll",[c,"Wheel"],"Zooming",[b,"Wheel"]]);
J+="</div>";J+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
J+=x;J+=this.MB([[10,11],[c],[10,7],"Space",[10,17],[c,o.nw]]);J+="</div>";J+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
J+=x;var l=[],i=this.Vh;if(i==null)return;var F=i.q;for(var $=0;$<F.aF.length;$++){var k=F.aF[$],U=F.keys[$];
for(var I=0;I<k.length;I++)l.push(k[I].v.name,U?U.fm:null)}l=l.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[c,o.E6]]);
J+=this.MB(l);J+="</div>";this.Pt.innerHTML=J};hc.prototype.MB=function(x){var J="",o=!0;for(var $=0;
$<x.length;$+=2){var c=x[$],E=dG.aY(x[$+1]);if(E==null){o=!1;continue}var b=p.Ln(h9.get(c));if(E=="---"){if(!o)J+="<br/>";
J+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+b+"</div>"}else J+="<div>"+b+" <span style=\"float:right; font-weight:bold;\">"+E+"</span> </div>";
o=!1}return J};function d$(){i$.call(this,[8,11,1],"soptions");this.b1=null;var x=p.i("div","form");
x.style.width="20em";this.body.appendChild(x);this.mT={Nm:[12,48],url:"URL",null:[12,71]};this.FZ={};
for(var J in this.mT){var o=new cA(this.mT[J],null,15);this.FZ[J]=o;x.appendChild(o.n)}this.akC=new dr([12,14,0]);
x.appendChild(this.akC.n);this.Y3=new k4(0,!0);x.appendChild(this.Y3.n);this.wx=p._j(this,x)}d$.prototype=new i$;
d$.prototype.L8=function(x,J,o){var c=J.b;this.b1=JSON.stringify(c);for(var E in this.mT){if(c[E])this.FZ[E].w(c[E].v)}var b=c.bounds.v,l=b.Left.v,i=b.Top.v;
this.Y3.w([l,i,b.Rght.v-l,b.Btom.v-i])};d$.prototype.CO=function(x){var J=JSON.parse(this.b1);for(var o in this.mT){var c=this.FZ[o].h();
J[o]={t:"TEXT",v:c}}var E=this.Y3.h();console.log(E);var b=J.bounds.v,l=E[0],i=E[1];b.Left.v=l;b.Top.v=i;
b.Rght.v=l+E[2];b.Btom.v=i+E[3];var F=new ko(L.E.f,!0);F.v=n.N0;F.data=J;F.A8=!0;this.c(F);this.close()};
d$.prototype._=function(){i$.prototype._.call(this);this.wx._();this.akC._();this.Y3._()};function gV(){i$.call(this,[2,3],"fill");
this.Vh=null;this.VE=null;var x=p.i("div","form padded");x.style.width="22em";this.body.appendChild(x);
this.gZ="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.yw=new i3([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.yw.k(L.E.A,this.a4H,this);x.appendChild(this.yw.n);this.Mt=p.i("span");x.appendChild(this.Mt);this.Xu=new cp;
this.Xu.parent=this;this.Xu.RT(0);this.Uc=new dq;this.Uc.parent=this;this.bQ=new i3([12,19,0],iP.pP,iP.QK);
x.appendChild(this.bQ.n);this.VC=new jQ([12,0],0,100,"%",0,!1);this.VC.w(100);x.appendChild(this.VC.n);
this.MS=new j8([13,5]);this.MS.w(!1);x.appendChild(this.MS.n);this.wx=p._j(this,this.body)}gV.prototype=new i$;
gV.prototype.gy=function(x,J){return x!=null};gV.prototype.Yv=function(){return!0};gV.prototype.a4H=function(){var x=this.yw.h(),J=this.Xu.n,o=this.Uc.n,c=this.Mt;
if(x==2)c.appendChild(J);else if(c.contains(J))c.removeChild(J);if(x==7)c.appendChild(o);else if(c.contains(o))c.removeChild(o)};
gV.prototype._=function(){i$.prototype._.call(this);this.yw._();this.bQ._();this.VC._();this.MS._();
this.wx._()};gV.prototype.CO=function(x){if(!this.VE.$K())return;var J=new ko(L.E.p4,!0),o=this.yw.h();
J.data=n.mv.uQ(this.gZ[o],iP.f5[this.bQ.h()],this.VC.h()/100,this.Xu.h(),this.MS.h(),this.Uc.h());this.close();
this.c(J)};gV.prototype.L8=function(x,J){this.VE=x};gV.prototype.DL=function(x,J){this.Vh=x;if(J==h4.y_||J==h4.Vi){this.Uc.Rd(x.yC);
this.Uc.w({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function e3(){i$.call(this,[14,9],"stroke");this.Vh=null;this._0=p.i("div","form");this._0.setAttribute("style","width:24em");
this.body.appendChild(this._0);this.hr=new ba("FrFX",!0);this.hr.parent=this;var x=["Sz","Styl","Md","Opct"].concat(bs.MA);
for(var $=0;$<x.length;$++){var J=this.hr.Vd[x[$]].n;this._0.appendChild(J)}this.JZ=!1;this.wx=p._j(this,this.body)}e3.prototype=new i$;
e3.prototype.gy=function(x,J){return x!=null};e3.prototype.Yv=function(){return!0};e3.prototype._=function(){i$.prototype._.call(this);
this.wx._();this.hr._()};e3.prototype.CO=function(x){var J=new ko(L.E.f,!0);J.v=n.FI;J.data={d:"stroke",ak8:this.hr.h()};
this.close();this.c(J)};e3.prototype.L8=function(x,J){if(!this.JZ){var o=bs.Kl[bs.order.indexOf("FrFX")];
o=JSON.parse(o);this.hr.update(x,o);this.JZ=!0}var o=this.hr.h(),c=this.Vh.Q6;o.Clr.v=q.r.qP({o:c>>16&255,I:c>>8&255,J:c&255});
this.hr.update(x,o)};e3.prototype.DL=function(x,J){this.Vh=x};function gs(){i$.call(this,[11,9],"textwarp");
this.FZ=new eq;this.FZ.k(L.E.A,this.LJ,this);this.FZ.parent=this;this._0=p.i("div","form");this._0.setAttribute("style","width:20em");
this.body.appendChild(this._0);this._0.appendChild(this.FZ.CM.n);this._0.appendChild(this.FZ.LC.n);this._0.appendChild(this.FZ.ot.n);
this._0.appendChild(this.FZ.Zs.n);this._0.appendChild(this.FZ.cP.n);this.wx=p._j(this,this._0);this.k("closebtn",this.Ct,this)}gs.prototype=new i$;
gs.prototype.Yv=function(){return!0};gs.prototype._=function(){i$.prototype._.call(this);this.wx._();
this.FZ._()};gs.prototype.LJ=function(x){var J=this.FZ.h();this.TA({d:"warp",Oq:J})};gs.prototype.TA=function(x){var J=new ko(L.E.f,!0);
J.v=n.eY;J.data=x;J.A8=!0;this.c(J)};gs.prototype.Ct=function(x){this.TA({d:"warpCancel"})};gs.prototype.CO=function(x){this.TA({d:"warpConfirm"});
this.close()};gs.prototype.L8=function(x,J){var o=x.B[x.g[0]];this.FZ.w(o.add.TySh.Ma)};function hG(){i$.call(this,[11,12,0],"trim");
var x=this._0=p.i("div","form");this._0.setAttribute("style","width:22em");this.body.appendChild(this._0);
var J=new dr("Color To Trim:");x.appendChild(J.n);this.mn=new fA(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.mn.w([!0]);this._0.appendChild(this.mn.n);var J=new dr("Sides:");x.appendChild(J.n);this.Vq=new fA(null,["Top","Left","Bottom","Right"]);
this.Vq.w([!0,!0,!0,!0]);this._0.appendChild(this.Vq.n);this.wx=p._j(this,this.body)}hG.prototype=new i$;
hG.prototype.gy=function(x,J){return x!=null};hG.prototype.Yv=function(){return!0};hG.prototype._=function(){i$.prototype._.call(this);
this.mn._();this.Vq._();this.wx._()};hG.prototype.CO=function(x){var J=this.mn.h().indexOf(!0),o=this.Vq.h(),c=new ko(L.E.p4,!0);
c.data=n.Pm.y1(J,o);this.close();this.c(c)};function bf(){i$.call(this,"Raw Photopea","rawpea");this.qT=null;
this.Be=null;this.body.style.padding="0";var x=this.D1=new jM["Adobe Camera Raw Filter"](!0),J="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(x.n);this.wx=new eH([1,0],!0,null,!0);this.wx.k("click",this.CO,this);this.Ri=new eH(J+" JPG",!0,null,!0);
this.Ri.k("click",this.ate,this);this.Ri.n.style.marginTop="6px";x.IE(this.wx.n);x.IE(this.Ri.n)}bf.prototype=new i$;
bf.prototype.MN=function(){return new ck(0,0)};bf.prototype.ip=function(x,J){this.D1.ip(x,J)};bf.prototype._=function(){i$.prototype._.call(this);
this.D1._()};bf.prototype.ate=function(x){var J=this.qT,o=this.Be,c=hR.rb("JPG").Jy([[this.D1.h(!0).buffer]],o.d1,o.xI,[85]),E=new ko(L.E.N,!0);
E.data={d:L.H.tQ,data:c,name:"photo.jpg"};this.c(E)};bf.prototype.CO=function(x){var J=this.qT,o=this.Be,c=eK.Bc(J),J={XO:new ha(0,0,o.d1,o.xI),data:this.D1.h(!0).buffer,TP:c},E=hR.GN("Raw Photo",[J]),b=new ko(L.E.N,!0);
b.data={d:L.H.wl,Th:E};this.c(b);this.Gd();this.close()};bf.prototype.Gd=function(){this.qT=null;this.Be=null;
this.D1.at8()};bf.prototype.L8=function(x,J,o,c){this.qT=J.bA;var E=this.Be=q.raw.amz(this.qT),b=q.raw.a4b(J.bA),l=h6.a1a(b);
q.raw.Jk(E.tM,E.tM,J.bA,[l.yj,l.Fz]);var i=fn.Bt("Adobe Camera Raw Filter");this.D1.w(i,E.tM,new ha(0,0,E.d1,E.xI))};
function fL(x){i$.call(this,x?[11,11,0]:[11,11,1],x?"vbitmap":"rcolors");this.Ou=null;this.eD=null;this.ik=null;
this.c2=null;this.P1=null;this.aC8=null;this.l6=null;this.OE="";this.HV=x;this.m1=this._A.bind(this);
this.q5=!1;this.body.style.padding="0";this._0=p.i("div","form hbar padded");this.body.appendChild(this._0);
var J=this.qQ={cnum:new f1([12,82],2,50,null),nois:new j8([12,81]),mode:new i3(null,["Cartoon","Photo"]),segm:new j8("Segmentize"),poly:new j8("Polygon"),merg:new j8("Merge colors"),polE:new f1("Roughness",2,30,null),dthr:new j8([12,23,3]),ok:p._j(this,null,!1)},b=16;
for(var o in J){var c=J[o];c.parent=this;if(o!="ok")c.k(L.E.A,this._A,this)}var E=this.zY=p.i("div","flexrow");
this.body.appendChild(E);E.setAttribute("style","background-color:var(--bg-canvas)");this.ul=new f6;
this.ul.k("viewchange",this.jM,this);this.dW=new f6;this.$H=p.i("canvas");this.$H.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.n9=this.$H.getContext("2d");var l=q.R(16*16*4);q.iQ(l,b,b,8);this.fQ=q.scale.ye(l,b,b);this.ul.aey(this.$H);
this.ul.KL(this.dW);this.dW.KL(this.ul);E.appendChild(this.ul.n);if(x)E.appendChild(this.$H);else E.appendChild(this.dW.n)}fL.prototype=new i$;
fL.prototype.MN=function(){return new ck(0,0)};fL.prototype.Yv=function(){return!0};fL.prototype.ip=function(x,J){this.Qh=x;
this.ao=J;J=J-44;if(x<600)J-=29;if(this.Ou==null)return;var o=this.Ou.XO,c=bm.a75(x,J,o.m,o.e);if(c==1)J-=3;
if(c==0){x=Math.floor(x/2);p.na(this.zY,"flexrow")}else{J=Math.floor(J/2);p.ml(this.zY,"flexrow")}p.Pi(this.$H,x,J);
this.ul.ip(x,J);if(this.HV)this.jM();else this.dW.ip(x,J)};fL.prototype.B3=function(x,J,o,c){this.ul.B3(c)};
fL.prototype._=function(){i$.prototype._.call(this);for(var x in this.qQ)this.qQ[x]._()};fL.prototype.L8=function(x,J){this.l6=x;
this.P1=null;var o=x.B[x.g[0]],c=q.lY.as4(o.buffer.buffer,o.rect.m,o.rect.e).auk,E=c/((o.rect.m-2)*(o.rect.e-2)),b=this.qQ;
b.cnum.w(20);b.nois.w(E<.75);b.mode.w(E<.75?1:0);b.segm.w(!1);b.poly.w(!1);b.merg.w(!0);b.polE.w(1);
b.dthr.w(!1);var l=o.rect.clone();l.x=l.y=0;this.Ou={XO:l,data:o.buffer.buffer.slice(0)};this.eD=null;
this.ip(this.Qh,this.ao);this.ul.w([this.Ou]);this.ul.pJ();this.q5=!0;setTimeout(this.m1,20)};fL.prototype._A=function(){var x=!0,J=Date.now(),o=this.Ou,c=this.qQ,E=c.cnum.h(),b=c.nois.h(),l=c.mode.h(),i=c.segm.h(),F=c.poly.h(),k=c.merg.h(),U=c.polE.h(),g=null;
if(l==0)i=F=!1;var I=c.dthr.h(),V=["cnum","nois","mode"];if(l==1){V.push("segm");if(this.HV){V.push("poly");
if(F)V.push("polE")}}if(this.HV)V.push("merg");else V.push("dthr");V.push("ok");p.LX(this._0);for(var $=0;
$<V.length;$++)this._0.appendChild(c[V[$]].n);if(x)console.log("---------------------------------------");
var u=b||i,N=b+","+i;if(u&&(this.eD==null||this.OE!=N)){this.OE=N;var e=new Uint8Array(o.data),B=o.XO.m,j=o.XO.e;
if(b){if(this.P1==null){this.P1=e.slice(0);q.i9.do=35;q.i9.uN(this.P1,this.P1,B,j,15,1);if(x){console.log("denoise",Date.now()-J);
J=Date.now()}}e=this.P1.slice(0)}else e=e.slice(0);if(i){var T=q.lY.HL(e,B,j,40,10),a=T.Pv,P=new Uint8Array(a*4);
for(var $=0;$<a;$++){var v=$*4,R=$*6,y=1/T.es[R+5];P[v]=T.es[R]*y;P[v+1]=T.es[R+1]*y;P[v+2]=T.es[R+2]*y}for(var $=0;
$<e.length;$+=4){var t=T.qz[$>>>2]*4;e[$]=P[t];e[$+1]=P[t+1];e[$+2]=P[t+2]}if(x){console.log("segm",Date.now()-J);
J=Date.now()}}this.eD={XO:o.XO.clone(),data:e.buffer}}if(u)o=this.eD;var e=new Uint8Array(o.data),B=o.XO.m,j=o.XO.e;
for(var $=0;$<e.length;$+=4){if(e[$+3]<10)e[$]=e[$+1]=e[$+2]=e[$+3]=0}if(l==0){g=q.lY.adX(e,B,j,E,u?.1:2e-4);
if(x){console.log("quantize",Date.now()-J);J=Date.now()}}if(l!=0||g&&g.d_.length<2){g=dZ.a89(e.buffer,E,B,j)}if(this.HV){var H=g.qz.slice(0);
for(var $=0;$<H.length;$++)H[$]++;var _=new Uint8Array((B+2)*(j+2));q.zc(H,new ha(1,1,B,j),_,new ha(0,0,B+2,j+2));
if(!F){var Y=Math.round((B+2)*(j+2)/1e4),K=fE.wt(_.slice(0),B+2,j+2,Math.min(12,Y)),f=fE.l$(K);if(x){console.log("trace smooth",Date.now()-J);
J=Date.now()}}else{var f=q.O.amT(_,B+2,j+2,U,x)}var m=f.length,C=new cW(1,0,0,1,-1,-1);for(var $=0;$<m;
$++)q.O.M(f[$].path.j,C,f[$].path.j);this.c2=f;this.ik=g;for(var $=0;$<m;$++){var Z=f[$];for(var A=$+1;
A<m;A++){var d=f[A];if(d.parent==$&&g.d_[d.color-1].est.q[3]<.05){var G=d.path.G.slice(1),r=G.pop();
if(r!="Z")G.push(r);G.reverse();G=["M"].concat(G);if(r=="Z")G.push("Z");var X=[],K=d.path.j.length;for(var w=0;
w<K;w+=2){X[w]=d.path.j[K-2-w];X[w+1]=d.path.j[K-2-w+1]}q.O.concat(Z.path,{j:X,G:G})}}}if(x){console.log("finding holes",Date.now()-J);
J=Date.now()}for(var $=0;$<f.length;$++){var S=f[$];if(S.parent!=-1){var z=f[S.parent];S.parent=z;if(z.xH==null)z.xH=[];
z.xH.push(S)}S.depth=S.parent==-1?0:S.parent.depth+1}if(k){function s(bX,O){var gi={},cM=0,ea=0;for(var $=0;
$<bX.length;$++){var e9=bX[$].color,w="c"+e9;if(e9==O)throw e9;if(gi[w]==null)gi[w]=0;gi[w]++;if(gi[w]>cM){cM=gi[w];
ea=e9}}return ea}var M=[],Q=[],O=-1,W=!0;for(var $=0;$<f.length;$++)if(f[$].parent==-1)Q.push(f[$]);
while(Q.length!=0){var e9=s(Q,O);O=e9;for(var $=0;$<Q.length;$++)if(Q[$].color==e9){var jV=Q[$];M.push(jV);
Q.splice($,1);$--;if(jV.xH)for(var A=0;A<jV.xH.length;A++){Q.push(jV.xH[A]);if(jV.xH[A].color!=e9)W=!1}}}if(W)f=M;
else{var co=[];for(var dz=0;dz<500;dz++){var eh=[],K=co[dz-1];co.push(eh);for(var $=0;$<f.length;$++){var S=f[$],z=S.parent;
if(dz==0&&z==-1||dz!=0&&K.indexOf(z)!=-1){eh.push(S);f.splice($,1);$--}}eh.sort(function(bX,gi){return bX.color-gi.color});
if(f.length==0)break}for(var $=0;$<co.length;$++)f=f.concat(co[$])}}else{var M=[],a9=[];while(f.length!=0){a9.push(f.shift());
while(a9.length!=0){var kB=a9.pop();M.push(kB);if(kB.xH)for(var $=0;$<kB.xH.length;$++){var S=kB.xH[$];
f.splice(f.indexOf(S),1);a9.push(S)}}}f=M}this.c2=f;for(var $=0;$<f.length;$++){var Z=f[$],dc=g.d_[Z.color-1].est.q;
if(dc[3]<=.05){f.splice($,1);$--;continue}}for(var $=1;$<f.length;$++){var eT=f[$-1],Z=f[$];if(eT.color==Z.color&&(k||eT.parent==Z.parent&&eT.depth>=2)){q.O.concat(eT.path,Z.path);
f.splice($,1);$--;continue}}if(x){console.log("reordering layers",Date.now()-J,m,f.length);J=Date.now()}this.jM()}else{var fv=new Uint32Array(B*j),jS=B*j;
if(I){var cx=[];for(var $=0;$<g.d_.length;$++)cx.push(g.d_[$].est.rgba);var t=q.R(B*j);UPNG.encode.dither(new Uint8Array(o.data),B,j,cx,new Uint8Array(fv.buffer),t)}else{for(var $=0;
$<jS;$++){var e9=g.d_[g.qz[$]];fv[$]=e9.est.rgba}}this.aC8=new Uint8Array(fv.buffer);this.dW.w([{XO:o.XO,data:fv.buffer}]);
if(this.q5){this.dW.pJ();this.q5=!1}}};fL.prototype.jM=function(x){if(this.c2==null)return;var J=this.Ou.XO.m,o=this.Ou.XO.e,c=this.c2,E=this.ik.d_,b=this.$H,l=this.n9,i=this.ul.Jw();
l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,b.width,b.height);l.translate(b.width/2,b.height/2);l.scale(i.Z,i.Z);
l.translate(i.z.x/i.Z-J/2,i.z.y/i.Z-o/2);l.scale(1/i.Z,1/i.Z);l.fillStyle=this.fQ;l.fillRect(0,0,J*i.Z,o*i.Z);
l.scale(i.Z,i.Z);var F=[];for(var $=0;$<E.length;$++){var k=E[$].est.q;F.push({o:Math.round(255*k[0]),I:Math.round(255*k[1]),J:Math.round(255*k[2]),V:Math.round(255*k[3])})}for(var $=0;
$<c.length;$++){var U=c[$],k=F[U.color-1];if(k.V==0)continue;l.fillStyle="rgba("+k.o+","+k.I+","+k.J+","+k.V/255+")";
l.beginPath();Typr.U.pathToContext({crds:U.path.j,cmds:U.path.G},l);l.fill()}};fL.prototype.CO=function(x){var J=this.l6,o=J.g[0],c=J.B[o],E=new ko(L.E.f,!0);
E.A8=!0;E.v=n.uH;if(this.HV){var b=this.c2,l=b.length==1,i=J.B.slice(0,o);if(!l)i.push(J.Tv());for(var $=0;
$<b.length;$++){var F=b[$],k=this.ik.d_[F.color-1].est.q;q.O.M(F.path.j,new cW(1,0,0,1,c.rect.x,c.rect.y),F.path.j);
var U=J._I();U.Yq("Path "+$);i.push(U);U.opacity=Math.round(k[3]*255);U.Il|=16;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.r.qP({o:255*k[0],I:255*k[1],J:255*k[2]})}};
U.add.vmsk=new h._b;U.add.vstk=bs.Ao.Bt(!0);U.add.vmsk.$=q.O.XR(F.path,!1);U.add.vogk=[];U.pw();U.vl(J)}var V=i[i.length-1];
if(!l){var U=J._I();U.Yq(c.getName());U.add.lsct=es.tI;U.n5="pass";U.Il=24;i.push(U);V=U}var u=c.add.lmfx;
if(u)V.add.lmfx=JSON.parse(JSON.stringify(u));for(var $=o+1;$<J.B.length;$++)i.push(J.B[$]);E.data={d:h.$k,Ay:i,g9:[o+b.length+(l?-1:1)],wd:[11,11,0]}}else{var i=J.B.slice(0),U=J._I();
U.Yq(c.getName());i.splice(J.g[0]+1,0,U);U.rect=c.rect.clone();U.buffer=this.aC8;U.W();E.data={d:h.$k,Ay:i,g9:[J.g[0]+1],wd:[11,11,1]}}this.c(E);
this.close()};function bm(x){i$.call(this,[[7,11],[7,13]][x],["redge","magiccut"][x]);this.mn=x;this.Ou={};
this.LP=null;this.XK=null;this.l6=null;this.Z_=null;this.so=null;this.body.style.padding="0";this.L_=[];
this.Sa=-1;this._0=p.i("div","form hbar padded");this.body.appendChild(this._0);this.ES=new aV;this.ES.parent=this;
this.ES.k(L.E.A,this.JH,this);this._0.appendChild(this.ES.n);var J=x==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
J=J.concat("tools/hand","zoomIn","zoomOut");var o=x==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.OJ=new bC(null,J,o,28);this.OJ.k(L.E.A,this.B3,this);this._0.appendChild(this.OJ.n);this.qk=new f1([7,9],0,50,null);
this.qk.parent=this;this.qk.k(L.E.A,[this.abU,this._A][x],this);this._0.appendChild(this.qk.n);var c=this.a0c=new eH([2,2],!1,null,!0);
c.k("click",this.Gd,this);this._0.appendChild(c.n);var E=this.QS=p.i("span","form");this._0.appendChild(E);
var b=this.ahk=new eH([12,90],!1,null,!0);b.k("click",function(F){alert(x==0?h9.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
E.appendChild(b.n);var l=new eH("Tutorial",!1,null,!0);l.k("click",this.aq3,this);E.appendChild(l.n);
this.un=new bC([12,46],["checker","#ffffff","#000000"]);this.un.k(L.E.A,this.afY,this);E.appendChild(this.un.n);
this.gF=new i3(null,[[6,13],[6,2],[17,2]]);E.appendChild(this.gF.n);this.wx=p._j(this,E,!1);var i=this.zY=p.i("div","flexrow");
this.body.appendChild(i);this.Cc=new f6(!0);this.M_=new f6;this.Cc.KL(this.M_);this.M_.KL(this.Cc);this.Cc.k("mousedown",this.eN,this);
this.Cc.k("mousemove",this.FB,this);this.Cc.k("mouseup",this.cK,this);this.Cc.k("zoom",this.JH,this);
this.M_.k("zoom",this.JH,this);i.appendChild(this.Cc.n);i.appendChild(this.M_.n)}bm.prototype=new i$;
bm.prototype.gy=function(x,J){var o=x!=null&&!x.B[x.g[0]].rect.Kx();if(!o)alert("The layer is empty.");
return o};bm.prototype.MN=function(){return new ck(0,0)};bm.prototype.Yv=function(){return!0};bm.prototype.ip=function(x,J){this.Qh=x;
this.ao=J;J=J-12-33;if(x<900){this.QS.setAttribute("style","display:block;  text-align:right;");J-=29}else{this.QS.setAttribute("style","position:absolute;  right:0px")}this.un.bo(x<440?null:[12,46]);
this.qk.bo(x<470?null:[7,9]);var o=this.Ou.rect;if(o){var c=bm.a75(x,J,o.m,o.e);if(c==0){x=Math.floor(x/2);
p.na(this.zY,"flexrow")}else{J=Math.floor(J/2);p.ml(this.zY,"flexrow")}this.Cc.ip(x,J);this.M_.ip(x,J)}};
bm.a75=function(x,J,o,c){var E=x/2,b=J/2,l=Math.min(E/o,J/c),i=Math.min(x/o,b/c);return l>i?0:1};bm.prototype._=function(){i$.prototype._.call(this);
this.ES._();this.qk._();this.wx._();this.un._();this.gF._();this.a0c._();this.ahk._()};bm.prototype.aq3=function(x){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.mn],"_blank")};
bm.prototype.DL=function(x,J){this.XK=x;if(J==h4.di||J==h4.y_){this.ES.Rd(x.SB);this.ES.w(aR.iY(),x.SB.I2,x.SB.Uc)}};
bm.prototype.B3=function(x,J,o,c){var E=this.OJ.h();if(c==null){this.Cc.B3(f6.cT(E-3));return}this.Z_=c;
var b=n.mv.M4(this.ES.h(),c);if(b!=null){this.ES.w(b);this.JH()}else if(c.S(dG._k)&&c.S(dG.Mv)){var l=this.L_,i=0;
if(c.S(dG.uJ)){if(this.Sa+1<l.length)i=1}else if(this.Sa>0)i=-1;if(i!=0){this.Sa+=i;var F=this.Sa,k=this.Ou;
if(i==1)q.St(l[F][2],l[F][0],k.pE,k.rect);else q.St(l[F+1][1],l[F+1][0],k.pE,k.rect);k.TI=k.rect;this._A()}}else if(E<3)this.Cc.B3(c)};
bm.prototype.qJ=function(x){var J=this.Ou,o=this.L_,c=q.R(x.P()*4);q.St(J.$_,J.rect,c,x);J.$_=null;var E=q.R(x.P()*4);
q.St(J.pE,J.rect,E,x);this.Sa++;o[this.Sa]=[x.clone(),c,E];while(o.length>this.Sa+1)o.pop();while(o.length>50){o=o.slice(1);
this.Sa--}};bm.prototype.JH=function(){var x=this.XK,J=bd.kO(this.ES.h(),x.SB.I2,this.Cc.Jw().Z);this.Cc.YZ(J)};
bm.prototype.eN=function(x){var J=this.XK,o=this.Ou,c=this.Z_,E=this.ES.h(),b=this.Cc.eM(),l=[16777215,8421504,0][this.OJ.h()];
this.LP=new bd(E,J.SB.I2,J.SB.Uc,{c8:1,Xl:!0},l,J.xR,o.rect);o.$_=o.pE.slice(0);if(c!=null&&c.S(dG.uJ)&&this.so){this.LP.moveTo(this.so.x,this.so.y);
this.LP.lineTo(b.x,b.y)}else this.LP.moveTo(b.x,b.y);this.a8Q()};bm.prototype.FB=function(x){var J=this.Ou,o=this.Cc.eM();
this.LP.lineTo(o.x,o.y);this.a8Q()};bm.prototype.cK=function(x){this.so=this.Cc.eM();this.qJ(this.LP.ZS());
this._A()};bm.prototype.a8Q=function(){var x=this.Ou,J=this.LP,o=J.nd();if(o.Kx())return;x.TI=o;q.l.j6("norm",J.BE(),J.mZ(),x.pE,x.rect,o,1);
this.aAI()};bm.prototype.Gd=function(x){var J=this.Ou;J.$_=J.pE.slice(0);J.TI=J.rect;q.xj(J.pE,[4278190080,4292730333][this.mn]);
this.qJ(J.rect);this._A()};bm.prototype.L8=function(x,J){this.l6=x;var o=x.B[x.g[0]],c=o.rect.clone(),E=c.m,b=c.e;
this.qk.w(this.mn==0?3:E*b<3e6?3:0);this.OJ.w(x.u==null?0:1);this.qk.gt();if(this.mn==0&&x.u!=null||this.mn==1)this.qk.G0();
var l=this.mn,i=q.R(c.P()),F=new Float32Array(c.P());if(l==0&&x.u){q.zc(x.u.channel,x.u.rect,i,c);var k=q.R(c.P());
for(var U=0;U<b;U++)for(var I=0;I<E;I++){var $=U*E+I,V=i[$];if(I>0&&i[$-1]!=V||I<E-1&&i[$+1]!=V||U>0&&i[$-E]!=V||U<b-1&&i[$+E]!=V)k[$]=255}q.style.EC(k,F,E,b)}else F.fill(1e9);
c.x=c.y=0;this.Ou={rect:c,tM:o.buffer,BJ:i,Ad:F,sQ:q.R(c.P()*4),aJ:q.R(c.P()*4),pE:q.R(c.P()*4),$_:null,yX:null,TI:c,afH:{}};
if(l==0)this.abU();else{this.Ou.afH=n.Ph.arF(x);var u=this.Ou.pE;q.xj(u,4287137928);var N=q.KO.getSelection(o.buffer,E,b),e=Math.round(E/60),B=Math.round(.7*b);
for(var U=0;U<b;U++)for(var I=0;I<E;I++){var j=(U*E+I)*4,T=N[j>>>2];T=T>128?255:128;if(U<e||U<B&&(I<e||I>E-1-e))T=0;
u[j]=u[j+1]=u[j+2]=T}this._A()}this.L_=[1];this.Sa=0;var a=this.ES.h();a.Brsh.v.Dmtr.v.val=Math.round(c.m/(l==0?10:20));
this.ES.w(a);this.JH();this.ip(this.Qh,this.ao);this.Cc.pJ()};bm.prototype.abU=function(){var x=this.Ou,J=x.rect.P(),o=this.qk.h(),c=x.BJ.slice(0);
for(var $=0;$<J;$++)if(x.Ad[$]<o)c[$]=128;q.xj(x.pE,4294967295);q.qR(c,x.pE,0);q.qR(c,x.pE,1);q.qR(c,x.pE,2);
x.TI=x.rect;this._A()};bm.prototype._A=function(){var x=this.Ou,E,i,F=0,k=0,U=0;this.aAI();var J=x.rect,o=J.m,c=J.e,b=q.R(J.P()),l=x.tM;
q.z$(x.pE,b,0);for(var $=0;$<b.length;$++){if(l[($<<2)+3]!=255)continue;var I=b[$];if(I==0)F++;else if(I==255)k++;
else U++}if(F*k*U!=0){if(this.mn==0)i=q.Z1.Z1(J,l,b);else{var V=this.OJ.h();for(var u=1;u<c;u++)for(var N=1;
N<o;N++){var $=u*o+N,e=b[$],B=b[$-1];if(e==0&&B==255||e==255&&B==0){E="The Red and Green should never touch! Erase it with Grey.";
break}}var j=Date.now(),T=this.Ou.afH;q.N8(b,T.nt);n.Ph.AO(T,!0,this.l6);var a=Math.ceil(this.qk.h()/2);
if(a==0){i=l.slice(0);q.qR(T.u,i,3)}else{var P=T.u.slice(0),v=T.u.slice(0);for(var R=0;R<a;R++){for(var u=1;
u<c-1;u++)for(var N=1;N<o-1;N++){var $=u*J.m+N,y=P[$];if(P[$-o]!=y||P[$-1]!=y||P[$+1]!=y||P[$+o]!=y)v[$]=128;
else v[$]=y}var t=P;P=v;v=t}for(var u=0;u<c;u++)for(var N=0;N<o;N++){var $=u*o+N;if(b[$]==0||b[$]==255)P[$]=b[$]}i=q.Z1.Z1(J,l,P,20,!1)}}}else{i=l.slice(0);
q.qR(b,i,3)}for(var $=3;$<i.length;$+=4)if(i[$]>l[$])i[$]=l[$];if(J.U5(x.rect))x.yX=i;else q.St(i,J,x.yX,x.rect);
this.afY();if(E)alert(E,4e3)};bm.prototype.aAI=function(x){var J=this.Ou,o=J.TI;q.St(J.tM,J.rect,J.sQ,J.rect,o,!0);
var c=J.pE,E=J.rect,b=Date.now();if(this.mn==1){var l=new Uint32Array(256);l[0]=4278190335;l[255]=4278255360;
var i=q.R(o.P()*4),F=o.P();q.St(c,E,i,o);c=i;E=o;var k=new Uint32Array(c.buffer);for(var $=0;$<F;$++)k[$]=l[k[$]&255]}console.log(Date.now()-b);
q.l.j6("norm",c,E,J.sQ,J.rect,o,.3);this.Cc.w([{XO:J.rect,data:J.sQ.buffer}],null,null,o)};bm.prototype.afY=function(x){var J=this.Ou;
q.xj(J.aJ,[0,4294967295,4278190080][this.un.h()]);q.l.j6("norm",J.yX,J.rect,J.aJ,J.rect,J.rect,1);this.M_.w([{XO:J.rect,data:J.aJ.buffer}])};
bm.prototype.CO=function(x){var J=this.l6,o=this.Ou,c=this.gF.h(),E=J.B[J.g[0]],b=new ko(L.E.f,!0);b.A8=!0;
var l=E.rect.clone();if(c==0&&E.kR()||c!=0&&!E.kR()){b.v=n.uH;b.data={d:h.cm,a:J.g[0]};this.c(b)}if(J.u!=null){b.v=n.Ks;
b.data={d:"fromAction",xV:n.vh.No()};this.c(b)}if(c==0){var i=J.B.slice(0),F=J._I();F.Yq(E.getName());
i.splice(J.g[0]+1,0,F);F.rect=l;F.buffer=o.yX;F.W();b.v=n.uH;b.data={d:h.$k,Ay:i,g9:[J.g[0]+1],wd:[7,11]};
this.c(b)}if(c==1){var k=E.Da();b.v=n.uH;b.data={d:h.UZ,anr:!0};this.c(b);var U=E.Da();U.channel=q.R(l.P());
U.rect=l;U.color=0;U.op=!0;q.z$(o.yX,U.channel,3);if(k){var V=U.hf(k);U.rect=V.rect;U.channel=V.channel;
U.color=V.color}U.xz();E.vl()}if(c==2){var u={rect:l,channel:q.R(l.P())};q.z$(o.yX,u.channel,3);b.v=n.Ks;
b.data={d:"setsel",u:u,wd:this.aE};this.c(b)}this.close()};function bY(){i$.call(this,[1,13],"locstor");
this.Vh=null;this.xF=[];var x=this.body,J=p.i("p");J.textContent="These files are loaded every time you start Photopea.";
x.appendChild(J);this.aod=0;this.ya=p.i("span");x.appendChild(this.ya);this.ya.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var o=p.i("span","form");x.appendChild(o);this.bt=new eH([5,4],!1,null,!0);this.bt.k("click",this.vk,this);
o.appendChild(this.bt.n);this.QB=new eH("Get all as ZIP",!1,null,!0);this.QB.k("click",this.dA,this);
o.appendChild(this.QB.n);this.XY=new go(!0);this.XY.parent=this;this.XY.TR(1);x.appendChild(this.XY.n);
this.XY.n.setAttribute("style","width: 40em; height: 25em")}bY.prototype=new i$;bY.prototype._=function(){i$.prototype._.call(this);
this.ya.textContent=h9.get([13,2])+": "+g8.if(this.aod);this.bt._()};bY.prototype.DL=function(x,J){this.Vh=x;
if(J==h4.E1)this.L8()};bY.prototype.L8=function(x,J){var o=this.Vh.cI.sb,F=0;this.xF=[];for(var c in o)this.xF.push(c);
this.xF.sort(function(U,I){U=U.split(".");I=I.split(".");return U[1]==I[1]?U[0]<I[0]?-1:1:U[1]<I[1]?-1:1});
var E=Math.floor(100*p.IJ()),b=Math.floor(16*p.IJ()),l=[],i=[];for(var $=0;$<this.xF.length;$++){var c=this.xF[$],k=bY.dh(c,o[c],E,b);
l.push(k);i.push(c);F+=o[c].byteLength}this.XY.Qk(l,i,E,b);this.aod=F;this._()};bY.prototype.vk=function(x){var J=this.XY.h();
if(J.length==0){alert("Select a file first.");return}this.XY.w([]);var o=this.Vh.cI.sb;for(var $=0;$<J.length;
$++)delete o[this.xF[J[$]]];var c=new ko(L.E.N,!0);c.data={d:L.H.bS,KJ:h4.E1};this.c(c)};bY.prototype.dA=function(x){var J=this.Vh.cI.sb,o={};
for(var c in J)o[c]=new Uint8Array(J[c]);var E=UZIP.encode(o);bB.save(E,"resources.zip")};bY.dh=function(x,J,o,c){var E=p.i("canvas"),i=0;
E.width=o;E.height=c;var b=E.getContext("2d"),l=x.split(".").pop().toLowerCase();for(var $=0;$<l.length;
$++)i+=l.charCodeAt($)*613<<8*$;b.fillStyle="#"+q.uW(i&16777215);b.fillRect(0,0,20,c);var F=Math.floor(14*p.IJ());
b.fillStyle="#000000";b.font="bold "+F+"px sans-serif";var k=(c-F)/2,U=g8.if(J.byteLength),I=b.measureText(U);
b.fillText(U,o-12-I.width,c-k);return E.toDataURL()};function bt(){i$.call(this,[1,15],"pmanager");this.Vh=null;
this.fr=new i3([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.fr.k(L.E.A,this.L8,this);
this.body.appendChild(this.fr.n);var x=p.i("div","flexrow");this.body.appendChild(x);var J=this.a1L=p.i("div");
x.appendChild(J);var o=p.i("div","form");x.appendChild(o);o.setAttribute("style","width:140px; margin-left:12px");
this.aoS=[h4.di,h4.f1,h4.Vi,h4.Dh,h4.mL,h4.SQ];this.Hj=[new aV,new dQ,new dq,new kw,new g$,new b8];for(var $=0;
$<this.Hj.length;$++)this.Hj[$].parent=this;this.uo=[];for(var $=0;$<4;$++){var c=new eH("Hello",!0,null,!0);
c.k("click",this.bp,this);this.uo.push(c);o.appendChild(c.n)}this.L8()}bt.prototype=new i$;bt.prototype.f3=function(x){return x==dG.OT||x==dG.BK};
bt.prototype.bp=function(x){var $=this.uo.indexOf(x.target);this.Hj[this.fr.h()].E4($)};bt.prototype._=function(){i$.prototype._.call(this);
this.fr._();for(var $=0;$<this.Hj.length;$++)this.Hj[$]._();var x=this.uo,J=this.fr.h(),o=h4.RH[this.aoS[J]],c=o[0].toUpperCase();
x[0].bo([[23,6],"."+c]);x[1].bo(["VAR0 ."+c,[1,8]]);x[2].bo([6,37]);x[3].bo([5,4])};bt.prototype.DL=function(x,J){this.Vh=x;
this.L8()};bt.prototype.L8=function(x,J){if(!p.j5(this.n))return;this._();p.LX(this.a1L);this.a1L.appendChild(this.Hj[this.fr.h()].aO);
var o=this.Hj,c=this.Vh;if(c==null)return;o[0].Rd(c.SB);o[1].Zf(c.Q6,c.xR);o[1].Rd(c.y9);o[2].Rd(c.yC);
o[3].Rd([c.sU,c.yC]);o[4].Rd(c.VP);o[5].Rd(c.qo)};function d6(x,J,o){i$.call(this,J,"cwindow");this.afD=new ck(o[0],o[1]-33);
this._0=p.i("div","form");this._0.setAttribute("style","width:"+(o[2]-o[0])+"px; height:"+(o[3]-o[1])+"px");
this.body.appendChild(this._0)}d6.prototype=new i$;d6.prototype.MN=function(x,J){return this.afD.clone()};
function kg(x){var J=kg.aBW(x);i$.call(this,J,"res"+x);var o=this.ayL.bind(this);window.addEventListener("message",function(E){if(typeof E.data=="string"&&E.data.startsWith("--et ")){console.log(E.data);
var b=this.aec=E.data.slice(5).split(",");b[0]=parseFloat(b[0]);j4.pA(b[0],b[1],o)}}.bind(this));this.pM=J;
this.Xa=x;this.aBV=null;this.eq=null;this.L1=0;this.v1=null;this.Ua=null;this.aec=null;this.Vh=null;
this.body.setAttribute("style","padding:0");this.bj=new eH("",null,null,!0);this.body.appendChild(this.bj.n);
this.bj.k("click",this.Js,this);this.bj.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.oi=new eH("\u25BC",null,null,!0);this.oi.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.oi.k("click",this.a4m,this);this.body.appendChild(this.oi.n);this.vo=p.i("span","form");this.body.appendChild(this.vo);
this.uo=[];for(var $=0;$<9;$++){var c=new eH(kg.aBW($));this.uo.push(c);if($==x)c.w(!0);this.vo.appendChild(c.n);
c.k("click",this.amf,this)}this.Yw=new eH([5,3],null,null,!0);this.Yw.k("click",this.ayR,this);this.apH=new eH("Upload Current Document as a Template",null,null,!0);
this.apH.k("click",this.akE,this);this.c7=new cA("Creator / Brand name");this.Hf=new eH([1,2],null,null,!0);
this.Hf.k("click",this.dA,this);this.Eg=p.i("iframe","scrollable");this.Eg.setAttribute("style","border:none; margin:0; padding:0;");
this.cc=p.i("div","form scrollable padded");this.FO=new jc(x);this.FO.k("back",this.Gd,this);this.FO.k("save",this.asa,this);
this.body.appendChild(this.Eg)}kg.prototype=new i$;kg.aBW=function(x){var J;if(x==0)J=[25,0];else if(x==1)J="Plugins";
else for(var o in h4.RH)if(h4.RH[o][4]==x)J=h4.RH[o][3];return J};kg.prototype.a4m=function(x){this.vo.style.display=this.vo.style.display=="none"?"":"none"};
kg.prototype.amf=function(x){var $=this.uo.indexOf(x.target);if($==this.Xa)return;this.close();var J=new ko(L.E.N,!0);
J.data={d:L.H.yI,AN:"res"+$};this.c(J)};kg.prototype.ayL=function(x){this.Js();this.Ua=JSON.parse(x.target.response);
this.C4()};kg.prototype.MN=function(x,J){return new ck(0,0)};kg.prototype.ip=function(x,J){this.Qh=x;
this.ao=J;this.VE=null;J=J-4;x=x;var o=x>820,c="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",E="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.vo.setAttribute("style",o?c:E);this.vo.style.marginTop=(o?-31:0)+"px";this.oi.n.style.display=o?"none":"";
var b=this.cc;b.style.width=x-12+"px";b.style.height=J-12+"px";var b=this.FO.n;b.style.width=x-12+"px";
b.style.height=J-12+"px";var b=this.Eg;b.style.width=x+"px";b.style.height=J+"px";this.QL()};kg.prototype.DL=function(x,J){this.Vh=x};
kg.prototype._=function(){i$.prototype._.call(this);for(var $=0;$<this.uo.length;$++)this.uo[$]._();
this.Yw._()};kg.prototype.L8=function(x,J,o,c){this.VE=x;this.Js(null,!1)};kg.prototype.Js=function(x,J){var o=J!=null?J:p.j5(this.Eg);
if(o){if(!j4.bM()){alert("You need to log in first!");return}var c=j4.f7();this.eq=c.tpl?c.tpl.list:[];
this.c7.w(c.tpl&&c.tpl.brnd?c.tpl.brnd:"");this.QL()}else{this.Eg.setAttribute("src","");this.Eg.setAttribute("src","templates/?type="+this.Xa+"&rsrc="+this.Vh.AF.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(o?this.cc:this.Eg);var E=h9.get(this.pM);this.bj.bo(o?"All "+E:"Add "+E)};kg.prototype.QL=function(){var x=h9.get(this.pM),J=this.eq,o=this.Xa,i=450;
if(J==null)return;var c=this.cc;p.LX(c);var E=p.i("h1");c.appendChild(E);E.textContent="Share your "+x+" with the world!";
var b=p.i("ul");c.appendChild(b);var l=p.i("li");b.appendChild(l);l.textContent="By publishing your "+x+", you agree to let others use them for all kinds of purposes, even commercially.";
c.appendChild(this.Yw.n);if(o==0)c.appendChild(this.apH.n);p.UF(c);c.appendChild(this.c7.n);c.appendChild(this.Hf.n);
p.UF(c);i=(this.Qh-20)/Math.max(1,Math.floor(this.Qh/i))-42;var F="display:inline-block; width:"+i+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var $=J.length-1;$>=0;$--){var k=J[$];if(k.type==null)k.type=0;if(k.type!=o)continue;var U=p.i("div");
c.appendChild(U);U.setAttribute("style",F);var I=p.i("img");U.appendChild(I);I.setAttribute("src",k.thmb);
I.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var V=p.i("h3");U.appendChild(V);V.textContent=k.name;V.setAttribute("style","margin:0 0 10px 0");var u=p.i("p");
U.appendChild(u);u.textContent=k.desc;u.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var N=0;N<2;N++){var e=new eH(N==0?"Edit":"Delete",null,null,!0);e.asP=$;e.C4=N==0;e.k("click",this.a2P,this);
U.appendChild(e.n)}}};kg.prototype.akE=function(x){if(this.VE==null){alert("No document opened.");return}var J=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!J)return;var o=new ko(L.E.N,!0);o.data={d:L.H.I9,UY:"psd",fh:this.aeq.bind(this)};this.c(o)};kg.prototype.aeq=function(x){this.aea=x;
var J=new ko(L.E.N,!0);J.data={d:L.H.I9,UY:"jpg",fh:this.abR.bind(this),akO:1400};this.c(J)};kg.prototype.abR=function(x){this.v1={type:0,catg:0,desc:"",file:this.aea,name:this.VE.name.split(".")[0],thmb:x,publ:!0,utme:""};
this.C4()};kg.prototype.ayR=function(x){this.v1={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.C4()};kg.prototype.a2P=function(x){this.L1=x.target.asP;if(!x.target.C4){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.eq.splice(this.L1,1);this.dA();this.QL();return}this.C4()};kg.prototype.C4=function(){if(p.j5(this.cc))this.body.removeChild(this.cc);
this.body.appendChild(this.FO.n);var x=this.v1?this.v1:this.Ua?this.Ua:this.eq[this.L1];if(x.type==null)x.type=0;
this.FO.w(x)};kg.prototype.asa=function(x){var J=this.FO.h();if(this.v1)this.eq.push(J);else if(this.Ua){var o=this.aec;
j4.pA(o[0],o[1],this.Gd.bind(this),JSON.stringify(J));return}else this.eq[this.L1]=J;this.dA();this.Gd()};
kg.prototype.Gd=function(){var x=this.Ua;this.v1=null;this.Ua=null;this.body.removeChild(this.FO.n);
this.body.appendChild(this.cc);this.QL();if(x)this.Js()};kg.prototype.dA=function(){var x=j4.f7();if(this.eq.length==0)delete x.tpl;
else{x.tpl={list:JSON.parse(JSON.stringify(this.eq))};var J=this.c7.h().trim();if(J!="")x.tpl.brnd=J}j4.T9(x,function(){alert("Saved.")})};
function k9(){i$.call(this,"Make Selection","makesel");this.Vh=null;var x=p.i("div","form");this.body.appendChild(x);
this.sg=new j8([12,25,1]);this.sg.w(!0);x.appendChild(this.sg.n);p.UF(x);this.S4=new ef(!0);x.appendChild(this.S4.n);
this.wx=p._j(this,this.body)}k9.prototype=new i$;k9.prototype._=function(){i$.prototype._.call(this);
this.S4._();this.sg._();this.wx._()};k9.prototype.CO=function(x){var J=new ko(L.E.f,!0);J.v=n.Ks;J.data={d:"frompath",T1:[null,0,this.S4.h(),this.sg.h()]};
this.close();this.c(J)};function dy(){i$.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.VE=null;this.lC=null;
this.K6=null;var x=this.aCz=p.i("div","form");x.setAttribute("style","width:20em");this.body.appendChild(x);
this.WC=new fW([12,50],["PSD","PSB"]);this.WC.k(L.E.A,this.bK,this);x.appendChild(this.WC.n);p.bN(x);
var J=new dr("Minify the file");x.appendChild(J.n);p.UF(x);var o=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.gG=[];for(var $=0;$<o.length;$++){var c=new j8(o[$]);this.gG.push(c);x.appendChild(c.n);c.k(L.E.A,this.bK,this)}p.bN(x);
this.mG=new dr("aa.psd");this.Jx=new dr("10 kB");x.appendChild(this.Jx.n);this.a1M=new dr("1000 B");
x.appendChild(this.a1M.n);this.wx=new eH([1,2],!0,null,!0);this.wx.k("click",this.CO,this);x.appendChild(this.wx.n);
this.lR=new eH(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.lR.k("click",this.CO,this);x.appendChild(this.lR.n);
this.k("closebtn",this.Ct,this)}dy.prototype=new i$;dy.prototype.L8=function(x,J,o,c){var E=p.j5(this.lR.n),b=x.Vg!=null&&x.Vg.XM=="psd";
if(b&&!E)this.aCz.appendChild(this.lR.n);if(!b&&E)this.aCz.removeChild(this.lR.n);for(var $=0;$<this.gG.length;
$++)this.gG[$].w(!1);this.VE=x;this.bK()};dy.prototype.CO=function(x){if(x.target==this.wx)bB.save(this.lC,this.K6);
else{if(this.gG[3].h()){alert("You should not save a ZIP as a PSD to Google Drive.");return}iG.ajv(this.VE,this.lC)}};
dy.prototype.Ct=function(){this.VE=null;this.lC=null};dy.prototype.bK=function(){var x=this.VE,J=[!1,!1,!1,!1];
for(var $=0;$<3;$++)J[$]=this.gG[$].h();var o=this.gG[3].h(),c=J[3]=this.WC.h()==1,E=x.name.slice(0,x.name.length-3),b=this.lC=hR.rb("PSD").Jy(x,0,0,J),bz=this.K6=E+"ps"+(c?"b":"d");
if(o){var l={};l[bz]=new Uint8Array(b);b=this.lC=UZIP.encode(l);bz=this.K6=E+"zip"}this.mG.w(bz);this.Jx.w(g8.if(b.byteLength));
this.Jx.n.style["font-size"]="2em";this.a1M.w(" \u2001 "+b.byteLength+" B");this.wx.bo(h9.get([1,2])+" \""+bz+"\"")};
dy.prototype._=function(){i$.prototype._.call(this);this.WC._();this.wx._();this.lR._()};function ke(){i$.call(this,"Confirm","confirm");
this.sA=null;var x=p.i("div");x.setAttribute("style","margin-bottom:1em");this.body.appendChild(x);this.BP=p.i("div");
this.BP.textContent="Hello";x.appendChild(this.BP);this.wx=p._j(this,this.body)}ke.prototype=new i$;
ke.prototype.CO=function(x){if(this.sA==null)return;console.log("okconfirm");this.close();this.sA();
this.sA=null};ke.prototype._=function(){i$.prototype._.call(this);this.wx._()};ke.prototype.L8=function(x,J){if(J.a8z)this.BP.innerHTML=J.b;
else this.BP.textContent=J.b;if(J.agC)this.wx.bo(J.agC);this.sA=J.sA;this.wx.n.focus();if(J.a8z!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.a49=J.a8z!=null};ke.prototype.MN=function(x,J){return new ck(Math.max(0,(x-500)/2),Math.max(0,Math.min(60,(J-100)/2)))};
ke.prototype.ip=function(x,J){this.BP.style.width=x-30+"px"};function kA(){i$.call(this,[1,16,2],"newartb");
this.mn=0;this.IO=null;var x=p.i("div","form");x.style.width="260px";this.body.appendChild(x);this.XY=new b2;
x.appendChild(this.XY.n);this.wx=p._j(this,x)}kA.prototype=new i$;kA.prototype.gy=function(x,J){return x!=null};
kA.prototype.CO=function(x){var J=this.XY.h();this.IO.m=J.x;this.IO.e=J.y;var o=new ko(L.E.f,!0);o.v=n.KM;
o.data={akY:this.IO,ns:this.mn};this.c(o);this.close()};kA.prototype._=function(){i$.prototype._.call(this);
this.XY._();this.wx._()};kA.prototype.L8=function(x,J){this.mn=J.ns;var o=new ha(0,0,x.m,x.e);if(x.g.length!=0){var c=x.B[x.g[0]];
if(c.add.artb){o=c.uc();o.x+=o.m+100}if(J.ns==1)o=n.Y.mZ(x)}this.IO=o;this.XY.w(new ck(o.m,o.e))};function e$(){i$.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.Uv=null;this.k("closebtn",this.Rn,this);this.k("canclose",this.Rn,this)}e$.prototype=new i$;
e$.prototype.DL=function(x,J){if(this.Uv)this.Uv.DL(x,J)};e$.prototype.MN=function(x,J){return new ck(Math.max(0,Math.min(150,(x-980)/2)),Math.max(0,Math.min(150,(J-590)/2)))};
e$.prototype.ip=function(x,J){this.Qh=x;this.ao=J;x=Math.min(x,980);J=Math.min(J,590);if(this.Uv)this.Uv.ip(x,J)};
e$.prototype._=function(){i$.prototype._.call(this);if(this.Uv)this.Uv._()};e$.prototype.L8=function(x,J,o,c){this.aE=J.ns==0?"Open from Storage":"Save to Storage";
this._();if(this.Uv==null){this.Uv=new gf;this.Uv.parent=this;this.body.appendChild(this.Uv.n);this._();
this.ip(this.Qh,this.ao)}Storage.TR(J.ns,x?x.name:"");gf.Bh(this.Uv)};e$.prototype.Rn=function(x){Storage.TR(0);
gf.bG();if(x.type=="canclose")this.close()};function gx(){i$.call(this,[2,14],"varsdats");var x=this._0=p.i("div","form");
x.setAttribute("style","width:300px");this.body.appendChild(x);this.VE=null;this.Ld=0;this.Vh=null;this.wP=new fW(null,[[2,14],"Data Sets",[1,8]]);
this.wP.k(L.E.A,this.atp,this);this.Tg=new gx.lD;this.mJ=new gx.a7;this._F=new gx.ZU;this.mJ.k("activate",this.Nl,this);
this._F.k("export",this.rz,this);this.wx=p._j(this)}gx.prototype=new i$;gx.prototype.atp=function(x){var J=this.wP.h(),o=this._0;
p.LX(o);o.appendChild(this.wP.n);p.bN(o);o.appendChild([this.Tg,this.mJ,this._F][J].n);o.appendChild(this.wx.n)};
gx.prototype.CO=function(x){var J=new ko(L.E.f,!0);J.v=n.uH;J.data={d:h.FT,b:JSON.stringify([this.Tg.h(),this.mJ.h()])};
this.c(J);this.close()};gx.prototype._=function(){i$.prototype._.call(this);this.wx._();this._F._()};
gx.prototype.L8=function(x,J){this.VE=x;if(x==null)return;this.Tg.L8(x,J);this.mJ.L8(x,J);this.wP.w(0);
this.atp();this.Ld=0};gx.prototype.DL=function(x,J){this.Vh=x};gx.prototype.rz=function(x){var J=this.Tg.h(),o=this.mJ.h(),c=this._F.h();
if(J.length==0){alert("There are no variables.");return}if(o.length==0){alert("There are no data sets.");
return}var E=hR.a5j(this.VE,J,o,this.mJ.ah2(),c[0],c[1],c[2],this.Vh,this);if(E!=null)bB.save(E,"images.zip")};
gx.prototype.Nl=function(x){var J=this.mJ.g,o=this.Tg.h(),c=this.mJ.h();if(o.length==0){alert("There are no variables.");
return}if(c.length==0){alert("There are no data sets.");return}this.RA();this.Ld+=hR.P9(this.VE,this,o,c,this.mJ.ah2(),J)};
gx.prototype.RA=function(){var x=new ko(L.E.f,!0);x.v=n.$y;x.data={d:"h_stepbck"};while(this.Ld>0){this.c(x);
this.Ld--}};gx.ZU=function(){gB.call(this);var x=this.n=p.i("div");this.Yf=new cA("Variable for file names");
x.appendChild(this.Yf.n);p.bN(x);this.IZ=["JPG","PNG","PDF"];this.WC=new fW([12,50],this.IZ);this.WC.k(L.E.A,this.a5E,this);
x.appendChild(this.WC.n);this.aU=new cQ;x.appendChild(this.aU.n);this.a5E();this.QB=new eH("Export all items",!0,null,!0);
this.QB.k("click",this.rz,this);x.appendChild(this.QB.n)};gx.ZU.prototype=new gB;gx.ZU.prototype._=function(x){this.Yf._();
this.WC._();this.QB._();this.aU._()};gx.ZU.prototype.a5E=function(x){var J=this.IZ[this.WC.h()];this.aU.zZ(J)};
gx.ZU.prototype.rz=function(x){this.c(new ko("export"))};gx.ZU.prototype.h=function(){var x=this.IZ[this.WC.h()];
return[x,this.aU.h(),this.Yf.h().trim()]};gx.a7=function(){gB.call(this);this.FU=null;this.Yz=[];this.g=0;
var x=this.n=p.i("div","form");this.ej=new b9("Import a CSV file");x.appendChild(this.ej.n);this.ej.k(L.E.A,this.a6k,this);
this.tt=p.i("div","scrollable");this.tt.setAttribute("style","overflow:scroll;  height:234px;");x.appendChild(this.tt);
this.anX=new b9("Source Images",!0);x.appendChild(this.anX.n)};gx.a7.prototype=new gB;gx.a7.prototype.a6k=function(x){var J=this.ej.h();
for(var o in J){J=J[o];break}this.FU=da.QE(D.cA(J));this.A1()};gx.a7.prototype.ah2=function(){return this.anX.h()};
gx.a7.prototype.L8=function(x,J){var o=this.FU=JSON.parse(JSON.stringify(x.V8));this.A1()};gx.a7.prototype.h=function(){return this.FU};
gx.a7.prototype.A1=function(){var x=this.MD.bind(this),J=this.FU,c="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.Yz=[];var o=p.i("table");o.setAttribute("style","border-collapse: collapse;");for(var $=0;$<J.length;
$++){var E=p.i("tr"),b=J[$],l=$==0?"th":"td";o.appendChild(E);var i=p.i(l);E.appendChild(i);i.setAttribute("style",c+"cursor:pointer;");
if($!=0)i.textContent="\u2713";this.Yz.push(i);i.addEventListener("click",x,!1);for(var F=0;F<b.length;
F++){var i=p.i(l);i.textContent=b[F];E.appendChild(i);i.setAttribute("style",c);i.setAttribute("title",b[F])}}p.LX(this.tt);
this.tt.appendChild(o)};gx.a7.prototype.MD=function(x){this.g=this.Yz.indexOf(x.currentTarget);this.c(new ko("activate"))};
gx.lD=function(){gB.call(this);var x=this.n=p.i("div","form marged");this.oC=null;this.Wv=[];this.jt=[];
this.eg=null;this.KZ=new i3([0,3],[]);this.KZ.k(L.E.A,this.afN,this);x.appendChild(this.KZ.n);this.Vf=[];
var J=["Visibility","Text Content","Pixel Content"];for(var $=0;$<J.length;$++){p.bN(x);var o=new j8(J[$]);
o.k(L.E.A,this.ZL,this);x.appendChild(o.n);p.UF(x);var c=new cA("Variable Name");c.k(L.E.A,this.ZL,this);
x.appendChild(c.n);this.Vf.push(o,c)}};gx.lD.prototype=new gB;gx.lD.prototype.ZL=function(x){var J=this.KZ.h(),o=this.eg[J],c=this.Wv[J],E=this.oC["l"+o],b=this.Vf;
if(E==null)this.oC["l"+o]=E=[];while(E.length!=0)E.pop();for(var $=0;$<3;$++){var l=b[2*$+1].h();if(!b[2*$].h())continue;
var i={varName:l,trait:["visibility","textcontent","fileref"][$]};E.push(i);if($==2){i.align="center";
i.clip="false";i.placementMethod="fit";i.valign="middle"}}if(E.length==0)delete this.oC["l"+o];this.L8()};
gx.lD.prototype.afN=function(x){var J=this.KZ.h(),o=this.eg[J],c=this.Wv[J],E=this.oC["l"+o],b=this.Vf;
if(E==null)E=[];for(var $=0;$<3;$++){var l=$==0||$==1&&c==0||$==2&&c==1;b[2*$].po(l);b[2*$].w(!1);b[2*$+1].po(l);
b[2*$+1].w("")}for(var $=0;$<E.length;$++){var i=E[$],F=i.trait,k=["visibility","textcontent","fileref"].indexOf(F);
b[k*2].w(!0);b[k*2+1].w(i.varName)}};gx.lD.prototype.L8=function(x,J){if(x){var o=JSON.parse(JSON.stringify(x.Jr)),c=this.oC={};
for(var $=0;$<o.length;$++){var E=o[$],b=E.docRef;b="l"+b.slice(4,b.length-2);if(c[b]==null)c[b]=[];
c[b].push(E)}this.eg=[];this.Wv=[];this.jt=[];for(var $=x.B.length-1;$>=0;$--){var l=x.B[$],b=l.add.lyid;
if(l.getName()=="</Layer group>")continue;this.eg.push(b);this.Wv.push(l.add.TySh?0:1);this.jt.push(l.getName())}}var i=[],F=this.jt;
for(var $=0;$<F.length;$++){i.push(F[$]+(this.oC["l"+this.eg[$]]?" *":""))}var k=this.KZ.h();this.KZ.Ed(i);
this.KZ.w(k);this.afN()};gx.lD.prototype.h=function(){var x=this.oC,J=[];for(var o in x){var c=x[o];
for(var E=0;E<c.length;E++){c[E].docRef="id('"+o.slice(1)+"')";J.push(c[E])}}return J};function eR(){i$.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.AT=!1;var x=this.oW=[],J=p.i("div","form");J.setAttribute("style","width:20em");this.body.appendChild(J);
for(var $=0;$<2;$++){var o=new j8([22,4,2+$]);J.appendChild(o.n);p.UF(J);var c=new fW(null,[["N equal parts"],["N pixels per part"]]);
J.appendChild(c.n);p.UF(J);var E=new f1("N",0,1e3);E.w(4);E.parent=this;J.appendChild(E.n);p.UF(J);if($==0)p.bN(J);
x.push(o,c,E)}for(var $=0;$<x.length;$++)x[$].k(L.E.A,this.GP,this);x.push(p._j(this,J));this.k("closebtn",this.RA,this)}eR.prototype=new i$;
eR.prototype.RA=function(){if(this.AT){var x=new ko(L.E.f,!0);x.v=n.$y;x.data={d:"h_stepbck"};this.c(x)}};
eR.prototype.GP=function(x){this.RA();this.AT=!0;var J=[];for(var $=0;$<6;$++)J.push(this.oW[$].h());
var o={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var c=0;c<2;c++){if(!J[c*3])continue;var E=J[c*3+1],b=J[c*3+2];o[["slices","pixels"][E]+["Across","Down"][c]]={t:"long",v:b}}var l=new ko(L.E.p4,!0);
l.data={bV:"divide",Rx:o};this.c(l)};eR.prototype.CO=function(x){this.close()};eR.prototype._=function(){i$.prototype._.call(this);
var x=this.oW;for(var $=0;$<x.length;$++)x[$]._()};eR.prototype.L8=function(x,J){this.AT=!1};function bv(){i$.call(this,"Stroke Path","strokepath");
this.Vh=null;this.bh=null;this.vA=null;this.wx=null;this.EO=[n.R8,n.di,n.FI,n.PX,n.Ox,n.lu,n.fu,n.zL,n.V3,n.rN,n.IV,n.Oi,n.jp,n.dK,n.x9]}bv.prototype=new i$;
bv.prototype._=function(){i$.prototype._.call(this);if(this.wx){this.bh._();this.wx._()}};bv.prototype.CO=function(x){var J=this.EO[this.bh.h()],o=null;
for(var c in n.V5)if(n.V5[c]==J)o=c;var E=new ko(L.E.p4,!0);E.data=n.LL.e6(o,this.vA.h());this.close();
this.c(E)};bv.prototype.DL=function(x,J){if(this.Vh==null){var o=[];for(var $=0;$<this.EO.length;++$){o.push(x.q.map[this.EO[$]].v.name)}var c=p.i("div","form");
this.body.appendChild(c);this.bh=new i3("Tool",o);this.bh.w(1);c.appendChild(this.bh.n);this.vA=new j8("Simulate Pressure");
p.UF(c);c.appendChild(this.vA.n);this.wx=p._j(this,this.body)}this.Vh=x};function i5(){i$.call(this,[1,18],"linkview");
p.na(this.body,"form");var x=this.qQ=[new cA(null,null,17),new eH([5,1],!1,null,!0),new eH([1,0],!1,null,!0)];
for(var $=0;$<3;$++){var J=x[$];this.body.appendChild(J.n);if($!=0)J.k("click",this.axT,this);if($==0)p.UF(this.body)}}i5.prototype=new i$;
i5.prototype.L8=function(x,J){var o=J.aBD;if(o.startsWith("https://"))o=o.slice(8);this.qQ[0].w(o)};
i5.prototype.axT=function(x){var J=this.qQ,o=J[0].h(),c=x.target==this.qQ[1];if(c){navigator.clipboard.writeText(o);
alert("Copied to a clipboard!")}else window.open("https://"+o,"Shared")};function jx(x){i$.call(this,x==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][x]);
this.PN=null;this.pz=null;this.aBU=x;var J=p.i("div","form label8");J.setAttribute("style","max-width:26em");
this.body.appendChild(J);this.iX=new i3("Document",["abc","def"]);this.iX.k(L.E.A,this.ZL,this);J.appendChild(this.iX.n);
p.UF(J);this.ry=new i3([12,4],["abc","def"]);this.ry.k(L.E.A,this.ZL,this);J.appendChild(this.ry.n);
this.abZ=new j8([4,11]);this.BP=new cA([12,48]);this.BP.w("Alpha");if(x==0){}else{J.appendChild(this.BP.n)}this.nS=new ef(!0);
J.appendChild(this.nS.n);this.wx=p._j(this,J)}jx.prototype=new i$;jx.prototype.Yv=function(){return!0};
jx.prototype._=function(){i$.prototype._.call(this);this.wx._();this.iX._();this.ry._();this.BP._();
this.abZ._();this.nS._()};jx.prototype.ZL=function(x){var J=this.aBU;if(x==null||x==this.iX){var o=this.iX.h(),c=this.pz[o],E=[];
if(J==0)E.push(c.B[c.g[0]].getName()+" Transparency");else E.push([5,3]);for(var $=0;$<c._w.length;$++)E.push(c._w[$].name);
this.ry.Ed(E)}if(J==0)return;var b=this.ry.h();this.BP.po(b==0);this.nS.po(b!=0)};jx.prototype.L8=function(x,J,o){this.PN=x;
this.pz=o;var c=[];for(var $=0;$<o.length;$++){var E=o[$].name;c.push(E.length<30?E:E.slice(0,27)+"...")}this.iX.Ed(c);
this.iX.w(o.indexOf(x));this.ZL(null)};jx.prototype.CO=function(x){var J=this.aBU,o=this.ry.h(),c=this.iX.h(),E=this.pz[c],b=this.nS.h(),l;
if(o==0){l=new ko(L.E.p4,!0);if(J==0)l.data=n.vh.j0(b,"Trsp",E.B[E.g[0]].getName());else l.data={bV:"duplicate",Rx:{classID:"null",Nm:{t:"TEXT",v:this.BP.h()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{l=new ko(L.E.f,!0);
if(J==0){l.v=n.Ks;l.data={d:"fromchannel",T1:[-4-o,0,b]}}else{l.v=n.uH;l.data={d:h.Jh,XC:"seltochannel",T1:[o-1,b]}}}this.close();
this.c(l)};function jj(x,J,o,c){gB.call(this);this.name=x;this.a73=o;this.Lh=c;this.hN=p.i("div","");
this.hN.setAttribute("draggable","true");this.$u=p.i("div","pbody");this.It=new eH("",!1,"");this.It.parent=this;
this.a8n=p.i("span","cross gsicon");this.eJ=p.i("span","label");var E=this.ab8.bind(this);this.hN.addEventListener("mousedown",this.a3e.bind(this),!1);
this.hN.addEventListener("contextmenu",E,!1);this.It.n.addEventListener("contextmenu",E,!1);this.a8n.addEventListener("mousedown",this.Hm.bind(this),!1);
this.hN.appendChild(this.eJ);if(J)this.hN.appendChild(this.a8n);this.f0=!1;this.eJ.textContent=x}jj.prototype=new gB;
jj.prototype.jk=function(){return null};jj.prototype._=function(){var x=h9.get(this.name),J=!1,o=this.Qh==0?22:Math.round(2+this.Qh/50);
if(x.endsWith(" *")){J=!0;x=x.slice(0,x.length-2);o-=2}var c=x.length>o;this.eJ.textContent=c?x.slice(0,o-2):x;
if(c)for(var E=0;E<2;E++){var b=p.i("span");b.textContent=x.charAt(o-2+E);b.setAttribute("style","opacity:"+(.6-E*.4));
this.eJ.appendChild(b)}if(J){var b=p.i("span");b.textContent=" *";this.eJ.appendChild(b)}var l=x.split(" "),i=l.length==2?l[0].substring(0,2)+l[1][0]:x.substring(0,3);
if(i.charCodeAt(0)>=11776)i=i.substring(0,1);var F=this.a73;if(F==null)this.It.bo(i,x);else{var k;if(F.startsWith("---"))k="<img src=\""+PIMG[F.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(F.startsWith("==="))k="<img src=\""+F.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(F.indexOf("\"")==-1)k="<img src=\""+F+"\" alt=\""+p.Ln(x).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.It.bo(k,x)}};jj.prototype.enable=function(){this.$u.className="pbody"};jj.prototype.disable=function(){this.$u.className="pbody disabled"};
jj.prototype.DL=function(x,J){};jj.prototype.L8=function(x,J,o){};jj.prototype.hY=function(x){};jj.prototype.ip=function(x,J){};
jj.prototype.Bw=function(x){this.name=x;this._()};jj.prototype.qv=function(){};jj.prototype.a3e=function(x){if(x.button==0)this.c(new ko("select",!1));
if(x.button==1)this.sC()};jj.prototype.ab8=function(x){p.NV(x);if(this.Lh!=null&&isNaN(this.Lh))return;
var J=p.x2(x,document.body),o=this.Yt;if(o==null){o=this.Yt=new iy([{name:[1,12,0]}]);this.Yt.k("select",this.Hm,this)}o.update(null);
o._();o.parent=this;var c=new ko(L.E.N,!0);c.data={d:L.H.c4,BM:o,x:J.x+1,y:J.y+1};this.c(c)};jj.prototype.sC=function(){this.Hm({})};
jj.prototype.Hm=function(x){if(x.stopPropagation)x.stopPropagation();if(this.Lh!=null&&!isNaN(this.Lh)){var J=new ko(L.E.N,!0);
J.data={d:L.H.ci,BM:this.Yt};this.c(J);J.data={d:L.H.bS,KJ:h4.HS,b:parseFloat(this.Lh),_E:"del"};this.c(J)}else if(this.ayI())this.c(new ko(L.E.xA,!1))};
jj.prototype.ayI=function(x){return!0};jj.prototype.JC=function(x,J,o,c,E){};jj.prototype.OC=function(x,J,o,c,E){};
jj.prototype.w7=function(x,J,o,c,E){};jj.U0=function(x,J,o){if(x.childElementCount!=0)return;var c=x.textContent;
this.C1=this.auL.bind(this);this.aC_=this.aAp.bind(this);this.nn=J;this.a65=o;this.Gs=x;this.awp=c;var E=p.i("input","");
E.setAttribute("type","text");E.setAttribute("size","10");E.setAttribute("value",c);p.LX(x);x.appendChild(E);
E.select();E.focus();p.l8(x);x.addEventListener("keyup",this.C1,!1);document.body.addEventListener("mousedown",this.aC_,!1)};
jj.U0.prototype.auL=function(x){var J=dG.eW,o=J(x.code,dG.eP);if(J(x.code,dG.Fh)||o)this.a4a(o)};jj.U0.prototype.aAp=function(x){var J=x.target;
if(J.tagName&&J.tagName.toLowerCase()=="input")return;this.a4a(!0)};jj.U0.prototype.a4a=function(x){var J=this.Gs,o=J.firstChild.value;
J.removeEventListener("keyup",this.C1);document.body.removeEventListener("mousedown",this.aC_);if(this.a65||x&&o!=""&&o!=this.awp){this.nn(o)}else{p.LX(J);
J.textContent=this.awp}};jj.iJ={$y:"0",aqB:"1",uH:"2",a0k:"3",aoi:"4",Z6:"5",CSS:"6",di:"7",aoA:"8",anC:"9",aiu:"10",a4F:"11",a8O:"12",uq:"13",zx:"14",ajw:"15",adv:"16",Dc:"17",a0t:"18",ag_:"19",aBi:"20",Dh:"21",a7M:"22",ae3:"23"};
function cP(){jj.call(this,[9,9],!1,"---panels/actions",jj.iJ.a4F);this.Vh=null;this.ds=[0,0]}cP.prototype=new jj("");
cP.prototype.aK=function(){if(!p.j5(this.$u)||this.KW)return;this.KW=p.i("div","padded scrollable");
this.KW.setAttribute("style","width:260px;  height:260px");this.$u.appendChild(this.KW);this.k(L.E.A,this.xs,this);
this.j8=p.i("div","lpfoot");this.$u.appendChild(this.j8);this.Hj=[];var x="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",J="</svg>",o=x+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+J,c=x+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+J;
this.agc=x+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+J;this.aCR=x+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+J;
var E=[this.agc,c,"lrs/folder","lrs/newlayer","lrs/bin",o],b=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var $=0;$<E.length;$++){var l=E[$];if(1<$&&$!=E.length-1)l="<img src=\""+PIMG[E[$]]+"\" class=\"miniscale gsicon\" />";
var i=new eH(l,!1,b[$]);i.k("click",this.ad2,this);this.j8.appendChild(i.n);this.Hj.push(i)}this.A1()};
cP.prototype._=function(){jj.prototype._.call(this);if(this.KW==null)return;for(var $=0;$<this.Hj.length;
$++)this.Hj[$]._()};cP.prototype.ad2=function(x){var $=this.Hj.indexOf(x.currentTarget),J=this.ds,o=this.Vh,c=o.Qg;
if($==0){var E,b=o.ow;if(c.length==0){alert("Create an Action Set first.");return}if(J.length<2){alert("Select a target action first.");
return}if(b==null){E=this.aCR;b=this.ds}else{E=this.agc;b=null}this.Hj[0].bo(E);o.ow=b}else if($==1)this.afy();
else if($==2||$==3){var l={wd:"Action Set "+c.length,T3:[],exp:!0};if($==2||c.length==0){J=[c.length];
c.push(l)}if($==3){var i=c[J[0]].T3;J=[J[0],i.length];i.push({wd:"Action "+i.length,color:0,T3:[],a28:!1,shift:!1,exp:!0,cD:i.length})}this.ds=J;
this.A1()}else if($==4){var F;if(J.length==1)F=c;else if(J.length==2)F=c[J[0]].T3;else F=c[J[0]].T3[J[1]].T3;
var k=J.length-1;F.splice(J[k],1);if(F.length==0)J.pop();else while(J[k]>=F.length)J[k]--;if(J.length==0)J.push(0);
this.A1()}else if($==5){if(c.length==0){alert("No Actions Present.");return}var U=new ko(L.E.N,!0);U.data={d:L.H.BG,ayK:h4.f,CX:J[0]};
this.c(U)}};cP.prototype.xs=function(x){var J=this.Vh.Qg,o=x.data.d,c=x.data.dy;if(o=="sel")this.ds=c;
if(o=="fold"){if(c.length==1)J[c[0]].exp=!J[c[0]].exp;else J[c[0]].T3[c[1]].exp=!J[c[0]].T3[c[1]].exp}if(o=="enab"){var E=J[c[0]].T3[c[1]].T3[c[2]];
E.T=!E.T}if(o=="nchange"){if(c.length==1)J[c[0]].wd=x.data.Ii;else J[c[0]].T3[c[1]].wd=x.data.Ii}this.A1()};
cP.prototype.L8=cP.prototype.qv=function(){this.aK()};cP.prototype.DL=function(x,J){this.Vh=x;if(this.KW==null)return;
if(J==h4.f||J==h4.y_)this.A1()};cP.prototype.A1=function(){if(this.Vh==null)return;p.LX(this.KW);var x=this.Vh.Qg;
if(x.length==0)return;var J=JSON.stringify(this.ds);for(var $=0;$<x.length;$++){var o=x[$],c=new cP.Xk([$],J,o.exp,o.wd.split("=").pop());
c.parent=this;this.KW.appendChild(c.n);if(!o.exp)continue;for(var E=0;E<o.T3.length;E++){var b=o.T3[E],c=new cP.Xk([$,E],J,b.exp,b.wd.split("=").pop());
c.parent=this;this.KW.appendChild(c.n);if(!b.exp)continue;for(var l=0;l<b.T3.length;l++){var i=b.T3[l],c=new cP.Xk([$,E,l],J,null,h9.get(hi.auF(i)),i.T);
c.parent=this;this.KW.appendChild(c.n)}}}};cP.prototype.afy=function(){var x=this.Vh.Qg,J=this.ds;if(x.length==0){alert("No Actions Present");
return}if(J.length==1){alert("Select an Action first");return}if(this.Vh.ow!=null){alert("You can not apply actions while recording actions");
return}if(J.length==1)J.push(0);var o=x[J[0]],c=o.T3[J[1]],E=new ko(L.E.N,!0);E.data={d:L.H._t,T1:[c.wd,o.wd]};
this.c(E)};cP.Xk=function(x,J,o,c,E){gB.call(this);this.dy=x;var b=this.dy.length-1;this.n=p.i("div","layeritem"+(JSON.stringify(x)==J?" selected":""));
this.yA=p.i("div","head");this.n.appendChild(this.yA);this.yA.setAttribute("style","height:24px");this.mi=p.i("div","headL");
this.yA.appendChild(this.mi);if(b!=0){var l=p.i("div");l.style.width=b*20+"px";this.mi.appendChild(l)}if(o!=null){var i=this.a4R=p.i("div",o?"open":"closed");
this.mi.appendChild(i)}else{var F=this.a3Z=p.i("div","cmark");F.setAttribute("style","background-size:12px 12px; opacity:"+(E?1:.3));
this.mi.appendChild(F)}if(b==0){var k=p.i("div","folder");this.mi.appendChild(k)}var U=this.eJ=p.i("div","label");
U.textContent=c;this.mi.appendChild(U);this.n.addEventListener("mouseup",this.Nl.bind(this),!1)};cP.Xk.prototype=new gB;
cP.Xk.prototype.Nl=function(x){if(x.detail==1&&x.target.tagName.toLowerCase()!="input"){var J="sel";
if(x.target==this.a4R)J="fold";if(x.target==this.a3Z)J="enab";var o=new ko(L.E.A,!0);o.data={d:J,dy:this.dy};
this.c(o)}else if(this.dy.length<3)var c=new jj.U0(this.eJ,this.nn.bind(this))};cP.Xk.prototype.nn=function(x){var J=new ko(L.E.A,!0);
J.data={d:"nchange",Ii:x,dy:this.dy};this.c(J)};function fY(){jj.call(this,[3],!1,"---lrs/adj",jj.iJ.a0t)}fY.prototype=new jj("");
fY.prototype.aK=function(){if(!p.j5(this.$u)||this.Hj)return;this.$u.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.Hj=[];var $=0;for(var x in dv.names){var J=new eH("<img src=\""+PIMG["adj/"+x]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,dv.names[x]);
J.k("click",this.aBh,this);this.Hj.push(J);this.$u.appendChild(J.n);if($==4||$==10)p.UF(this.$u);$++}this._()};
fY.prototype.L8=function(){this.aK()};fY.prototype.qv=function(){this.aK()};fY.prototype._=function(){jj.prototype._.call(this);
if(this.Hj==null)return;for(var $=0;$<this.Hj.length;$++)this.Hj[$]._()};fY.prototype.aBh=function(x){var J=this.Hj.indexOf(x.target),o=ky.Mk()[J],c=new ko(o.K,!0);
c.data=o.C;this.c(c)};function du(){jj.call(this,[12,22],!1,null,jj.iJ.Dh);this.KW=p.i("div","padded");
this.Vh=null;this.$u.appendChild(this.KW);this.Gk=new kw(null,17.7,10);this.Gk.parent=this;this.Gk.k(L.E.A,this.GP,this);
this.KW.appendChild(this.Gk.aO)}du.prototype=new jj("");du.prototype.GP=function(x){var J=this.Gk.h(),o=new ko(L.E.f,!0);
o.data={d:"setstl",b:J.oe};o.v=n.yq;this.c(o);o.data={d:"confirm"};this.c(o)};du.prototype.DL=function(x,J){this.Vh=x;
this.A1()};du.prototype.A1=function(){var x=this.Vh;if(x==null)return;this.Gk.Rd([x.sU,x.yC]);this.Gk.ip()};
du.prototype.L8=function(){this.A1()};du.prototype.qv=function(){this.A1()};var cX=function(){function x(){jj.call(this,[9,3],!1,"---panels/brush",jj.iJ.di);
this.jQ=null;this.Vh=null}x.prototype=new jj("");x.prototype.aK=function(){var E=p.i("div","");this.$u.appendChild(E);
this.C5=p.i("div","bordered cell");this.C5.setAttribute("style","width:10em; height:28.5em;");E.appendChild(this.C5);
this.FZ=[];this.kx=null;this.sj=[];var b=this.ad3.bind(this);this.jS=[new o("basic"),new o("useTipDynamics"),new o("useScatter"),new o("useColorDynamics"),new o("usePaintDynamics")];
for(var $=0;$<this.jS.length;$++){var l=p.i("div","listitem"),i=this.jS[$],k=null;i.parent=this;i.k("brushchange",this.a0P,this);
var F=i.Bd;if($==0){this.kx=new dr(F);l.appendChild(this.kx.n)}else{k=new j8(F,!1);k.k(L.E.A,this.a3O,this);
l.appendChild(k.n)}this.sj.push(k);this.C5.appendChild(l);this.FZ.push(l);l.addEventListener("click",b,!1)}this.r3=p.i("div","cell padded");
E.appendChild(this.r3);this.setItem(0);this.$H=p.i("canvas");this.$H.height=10;E.appendChild(this.$H);
this.n9=this.$H.getContext("2d");this._A()};x.prototype.ip=function(E,b){if(this.Qh==E)return;this.Qh=E;
this.ao=b;this._A()};x.prototype.qv=function(){if(!p.j5(this.$u))return;if(this.C5){this._A();return}this.aK();
this._();this.DL(this.Vh,h4.y_)};x.prototype._=function(){jj.prototype._.call(this);if(this.C5==null)return;
this.kx._();for(var $=1;$<this.sj.length;$++)this.sj[$]._();for(var $=0;$<this.jS.length;$++)this.jS[$]._()};
x.prototype.a0P=function(E){var b=this.jS.indexOf(E.currentTarget),l=JSON.parse(JSON.stringify(this.jS[b].jQ)),i=new ko(L.E.N,!0);
i.data={d:L.H.bS,KJ:h4.rO,jQ:l};this.c(i)};x.prototype.a3O=function(E){this.a8$(this.sj.indexOf(E.currentTarget),E.currentTarget.U9())};
x.prototype.ad3=function(E){var $=this.FZ.indexOf(E.currentTarget);if(E.target.tagName.toLowerCase()=="input")return;
if(this.sj[$]&&!this.sj[$].U9()){this.sj[$].V2();this.a8$($,!0)}this.setItem($)};x.prototype.a8$=function(E,b){this.jS[E].aza(b)};
x.prototype.setItem=function(E){for(var $=0;$<this.jS.length;$++)this.FZ[$].className="listitem";if(this.r3.firstChild)this.r3.removeChild(this.r3.firstChild);
this.FZ[E].className="listitem selected";this.r3.appendChild(this.jS[E].n)};x.prototype.DL=function(E,b){this.Vh=E;
if(this.C5==null)return;for(var $=0;$<this.jS.length;$++)this.jS[$].DL(E,b);if(b==h4.rO||b==h4.y_){this.jQ=E.SB._i;
this._A()}if(b==h4.uq)this._A()};x.prototype._A=function(){if(this.jQ)this.enable();else{this.disable();
return}if(!p.j5(this.$u))return;var E=this.Vh;for(var $=0;$<this.jS.length;$++){this.jS[$].w(this.jQ);
if(this.sj[$])this.sj[$].w(this.jS[$].U9())}var b=JSON.parse(JSON.stringify(this.jQ));b.Brsh.v.Dmtr.v.val=Math.min(b.Brsh.v.Dmtr.v.val,50);
p.Pi(this.$H,this.Qh,80);var l=new ha(0,0,this.$H.width,this.$H.height),i=this.Vh.SB,F=new bd(b,i?i.I2:null,i?i.Uc:null,{c8:1},E.Q6,E.xR,l,null,0),k=l.e/2,U=l.m-k*2;
F.moveTo(k,k);for(var $=0;$<=U;$+=10)F.lineTo(k+$,k+20*Math.sin(2*Math.PI*$/U));F.finish();var I=this.n9.createImageData(l.m,l.e);
q.St(F.BE(),F.mZ(),I.data,l);this.n9.putImageData(I,0,0)};function J(E){gB.call(this);E=E.split(".")[0];
this.EV=E;var b=this.n=p.i("span"),l=["Off","Fade"];l.push(E=="angleDynamics"?"Direction":"Pen Pressure");
var i=this.fr=new i3("Control",l);i.k(L.E.A,this.ZL,this);b.appendChild(i.n);var F=this.akj=new f1(null,0,100,null,null,null,!0);
F.w(50);F.k(L.E.A,this.ZL,this)}J.prototype=new gB;J.prototype.w=function(E){E=E<2?E:2;this.fr.w(E);
this.A1()};J.prototype.h=function(){var E=this.fr.h(),b=this.EV;E=E<=1?E:b=="angleDynamics"?6:2;return E};
J.prototype.ZL=function(E){this.A1();E.target=E.currentTarget=this;this.c(E)};J.prototype.A1=function(E){this.akj.po(this.fr.h()==1)};
function o(E){gB.call(this);this.n=p.i("div");this.jQ=null;var b=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(E);
this.Bd=[[15,0],[15,1],[15,2],[15,3],"Transfer"][b];this.mn=E;this.Vd={};this.aam=null;var l=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][b];
for(var $=0;$<l.length;$++){var i=l[$],F;if(i=="--br"){F=new aV;this.n.appendChild(F.aO.firstChild)}else if(i=="Brsh.Dmtr")F=new fb([12,14,0],1,1e3," px",0,!0);
else if(i=="Brsh.Angl")F=new fb([12,15],0,359," \xB0");else if(i=="Brsh.Rndn")F=new fb([12,16],0,100," %");
else if(i=="Brsh.Hrdn")F=new fb([12,17],0,100," %");else if(i=="Brsh.Spcn")F=new fb([12,18],1,300," %");
else if(i=="szVr.jitter")F=new fb([15,4,0],0,100,"%");else if(i=="minimumDiameter")F=new fb([15,4,1],0,100,"%");
else if(i=="angleDynamics.jitter")F=new fb([15,4,2],0,100,"%");else if(i.endsWith("bVTy"))F=new J(i);
else if(i.endsWith("fStp"))F=new f1(null,0,100,null,null,null,!0);else if(i=="roundnessDynamics.jitter")F=new fb([15,4,3],0,100,"%");
else if(i=="minimumRoundness")F=new fb([15,4,4],1,100,"%");else if(i=="scatterDynamics.jitter")F=new fb([15,5,0],0,1e3," %");
else if(i=="Cnt")F=new fb([15,5,1],1,20);else if(i=="countDynamics.jitter")F=new fb([15,5,2],0,100," %");
else if(i=="clVr.jitter")F=new fb([15,6,0],0,100," %");else if(i=="H")F=new fb([15,6,1],0,100," %");
else if(i=="Strt")F=new fb([15,6,2],0,100," %");else if(i=="Brgh")F=new fb([15,6,3],0,100," %");else if(i=="opVr.jitter")F=new fb("Opacity Jitter",0,100," %");
else if(i=="prVr.jitter")F=new fb("Flow Jitter",0,100," %");else throw i;this.Vd[i]=F;F.parent=this;
F.k(L.E.A,this.ZL,this)}}o.prototype=new gB;o.prototype.aqe=function(){this.c(new ko("brushchange"))};
o.prototype.w=function(E){this.jQ=JSON.parse(JSON.stringify(E));this.n.className=this.U9()?"":"disabled";
this._A()};o.prototype._=function(){for(var E in this.Vd)this.Vd[E]._()};o.prototype.U9=function(){return!0};
o.prototype.DL=function(E,b){if(b==h4.di||b==h4.y_){var l=this.Vd["--br"];if(l)l.Rd(E.SB)}};o.prototype.ZL=function(E){var b=E.target,l=this.Vd,i;
for(var F in l)if(l[F]==b)i=F;if(i=="--br"){var k=new ko(L.E.N,!0);k.data={d:L.H.bS,KJ:h4.rO,jQ:b.h()};
this.c(k)}else{var U=c(this.jQ,i),V=b.h();if(U){if(i.endsWith("bVTy")||i.endsWith("fStp")||i=="Cnt")U.v=V;
else U.v.val=V;this.aqe()}}};o.prototype._A=function(){var E=this.jQ,b=E.Brsh.v.classID,l=this.Vd,i=b!=this.aam;
this.aam=b;if(i){p.LX(this.n);for(var F in l){if(b!="computedBrush"&&b!="sampledBrush"&&F=="Brsh.Rndn")continue;
if(b!="computedBrush"&&F=="Brsh.Hrdn")continue;var k=l[F],U=k.n;if(F=="--br"){U=k.wU.n;U.style.width="auto"}this.n.appendChild(U)}}for(var F in l){if(F=="--br")continue;
var I=c(E,F),V;if(I){if(F.endsWith("bVTy")||F.endsWith("fStp")||F=="Cnt")V=I.v;else V=I.v.val;l[F].w(V);
if(F.endsWith("fStp"))l[F].po(c(E,F.split(".")[0]+".bVTy").v==1)}}};o.prototype.U9=function(){var E=this.mn;
return E=="basic"?!0:this.jQ[E].v};o.prototype.aza=function(E){var b=this.mn;if(b=="basic")return;this.jQ[b].v=E;
aR.gk.aAr(this.jQ);this.aqe()};function c(E,b){var l=b.split(".");E=E[l[0]];for(var $=1;$<l.length;$++){if(E==null)return E;
E=E.v[l[$]]}return E}return x}();function bD(){jj.call(this,[9,0],!1,"---panels/history",jj.iJ.$y);this.$u.setAttribute("style","min-width:200px;");
this.rV=p.i("div","hpbody scrollable");this.rV.style.height="160px";this.$u.appendChild(this.rV);this.aeS=-1;
this.rX=[];this.eV="";this.Dn=new iy([{name:"Clear History"}],[{K:L.E.f,v:n.$y,C:{d:"h_clear"}}])}bD.prototype=new jj("");
bD.prototype.jk=function(){return this.Dn};bD.prototype.ip=function(x,J){this.qv()};bD.prototype.L8=function(x){if(x==null){p.LX(this.rV);
this.eV="";return}p.LX(this.rV);var J=0;for(var $=0;$<x.history.length;$++)if($<=x.sW&&!x.history[$].lt)J=$;
for(var $=0;$<x.history.length;$++){var o=x.history[$];if(o.lt)continue;var c=new k8(o,$,J);c.parent=this;
this.rV.appendChild(c.n);this.rX.push(c)}if(x.sW==x.history.length-1)this.qv()};bD.prototype.qv=function(){this.rV.scrollTop=this.rV.scrollHeight};
bD.prototype._=function(){jj.prototype._.call(this);for(var $=0;$<this.rX.length;$++)this.rX[$]._()};
function k8(x,$,J){gB.call(this);this.index=$;this.n=p.i("div",$==J?"listitem selected":"listitem");
this.pM=x.name;this._();if($>J)this.n.style.opacity=.4;this.n.addEventListener("click",this.JC.bind(this),!1)}k8.prototype=new gB;
k8.prototype._=function(){this.n.textContent=h9.get(this.pM)};k8.prototype.JC=function(x){if(this.index==this.parent.aeS)return;
this.nT({d:"h_itemchange",index:this.index})};k8.prototype.nT=function(x){var J=new ko(L.E.f,!0);J.data=x;
J.v=n.$y;this.c(J)};function kf(){jj.call(this,[9,10],!1,"---panels/histogram",jj.iJ.aoi);var x=p.i("div","padded");
this.$u.appendChild(x);this.QY=new fX(256,!0);x.appendChild(this.QY.n);this.VE=null}kf.prototype=new jj("");
kf.prototype.L8=function(x){this.VE=x;this.A1()};kf.prototype.A1=function(){var x=this.VE;if(!p.j5(this.$u))return;
if(x==null||x.g.length==0){this.QY.w(q.Hu(q.R(4)));return}var J=x.or(),o=new ha(0,0,x.m,x.e),c=o.P();
if(x.u){var E=x.u.rect,b=q.R(E.P()*4);q.St(J,o,b,E);q.nc(x.u.channel,b);J=b;o=E;var l=x.u.channel;c=0;
for(var $=0;$<l.length;$++)c+=l[$];c=Math.round(c/255)}var i=q.Hu(J);i[0][255]+=3*(c-i[5]);for(var $=1;
$<4;$++)i[$][255]+=c-i[5];this.QY.w(i,c)};kf.prototype.DL=function(x,J){this.QY.RT(a8.Qm[x.zI]["--text-color"])};
kf.prototype._=function(){jj.prototype._.call(this);this.QY._()};kf.prototype.qv=function(){this.A1()};
function cc(){jj.call(this,[9,8],!1,"---adj/clrL",jj.iJ.aqB);this.KW=p.i("div","padded");this.$u.appendChild(this.KW);
this.El=new dw(10);this.KW.appendChild(this.El.n);this.H3=new iU;this.H3.parent=this;this.KW.appendChild(this.H3.aO);
this.H3.aO.style.marginTop="6px";this.El.k(L.E.A,this.aoB,this);this.H3.k(L.E.A,this.aoB,this)}cc.prototype=new jj("");
cc.prototype.aoB=function(x){var J;if(x.target==this.El)J=this.El.h();else{var o=this.H3.h();J=Math.round(o.o)<<16|Math.round(o.I)<<8|Math.round(o.J)}var c=new ko(L.E.N,!0);
c.data={d:L.H.bS,KJ:h4.uq,XC:0,b:J};this.c(c)};cc.c0=function(x,J){var o=J==h4.y_,c=x.wB,E=x.wb,b=E.strokeStyleContent.v,l=null;
if((J==h4.Y1||o)&&c.lZ==1){l=q.r.fL(c.h5.Clr.v);l=l.o<<16|l.I<<8|l.J}if((J==h4.x4||o)&&E.strokeEnabled.v&&b.classID=="solidColorLayer"){l=q.r.fL(b.Clr.v);
l=l.o<<16|l.I<<8|l.J}if(J==h4.uq||o)l=x.Q6;return l};cc.prototype.DL=function(x,J){var o=x.Q6,c=J==h4.y_,E=cc.c0(x,J);
if(E!=null){this.El.w(E);this.H3.w({o:E>>>16&255,I:E>>>8&255,J:E>>>0&255,aR:"Color #"+q.uW(E)})}if(J==h4.Xt||c){var b=x.axu;
this.H3.Rd(b)}};function f8(){jj.call(this,[12,72],!1,"---adj/mixr",jj.iJ.adv);this.kP=null;this.SG=null;
this.rV=p.i("div","lpbody scrollable");this.rV.style.marginTop="4px";this.j8=p.i("div","lpfoot");this.$u.appendChild(this.rV);
this.$u.appendChild(this.j8);this.Ml=[];this.k("click",this.hF,this);this.fS=[];f8.dX([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.fS,this.j8,this.tc.bind(this),this.sO.bind(this));
this.Dn=new iy([{name:"Merge Channels",hV:!0}],[{K:L.E.N,C:{d:L.H.yI,AN:"mergechannels"}}])}f8.prototype=new jj("");
f8.prototype.jk=function(){return this.Dn};f8.dX=function(x,J,o,c,E){for(var $=0;$<x.length;$++){var b=new eH("W",!1,x[$]);
J.push(b);p.Ra(b.n,c);o.appendChild(b.n);var l=b.n;l.addEventListener("drop",E,!1);l.addEventListener("dragover",function(i){i.preventDefault()},!1);
l.addEventListener("dragenter",p.NV,!1)}};f8.mA=function(x,J){for(var $=0;$<x.length;$++)if(x[$].n==J.currentTarget)return $};
f8.prototype.tc=function(x){var J=f8.mA(this.fS,x);if(J==0)this.c(hF.X6(!0,null,x));else{J--;var o=new ko(L.E.p4,!0),c={classID:"null"};
if(J==0)c.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(J==1)c.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else c.null=hi.X$("Chnl",!0);o.data={bV:["duplicate","make","delete"][J],Rx:c};this.c(o)}};f8.prototype.sO=function(x){var J=f8.mA(this.fS,x);
if(J==2){var o=new ko(L.E.p4,!0),c={classID:"null"};c.null=hi.X$("Chnl",!0);o.data={bV:"duplicate",Rx:c};
this.c(o)}else this.tc(x)};f8.prototype.RX=function($){var x=this.Ml,J=x[$];if(J==null){var o=p.i("canvas");
J=o.getContext("2d");x.push(J)}return J};f8.prototype.hF=function(x){var J=this.kP.slice(0),o=x.data.cD,c=J[0]+J[1]+J[2],E=this.SG;
if(-5<o&&o<0){var b=-o-1;if(x.data.K4){if(b==0)J=c==3?[0,0,0]:[1,1,1];else{if(J[b-1]==0)J[b-1]=1;else if(!0)J[b-1]=0}}else{if(b==0)J=[1,1,1];
else{J=[0,0,0];J[b-1]=1}for(var $=0;$<E._w.length;$++)E._w[$].AH=!1;E.X7=[]}var l=new ko(L.E.f,!0);l.v=n.cL;
l.data={d:"setcls",U:J};this.c(l);return}if(-1<o){var i=E.B[o],F=i.tB==1?i.Da():i.O5(E).F;if(x.data.K4)F.AH=!F.AH;
else{for(var $=0;$<E._w.length;$++)E._w[$].AH=!1;E.X7=[]}}else{var k=-o-5,F=E._w[k];if(x.data.K4)F.AH=!F.AH;
else{for(var $=0;$<E._w.length;$++)E._w[$].AH=!1;F.AH=!0;E.X7=[k];if(c!=0){var l=new ko(L.E.f,!0);l.v=n.cL;
l.data={d:"setcls",U:[0,0,0]};this.c(l)}}}E.sD=E.o0=!0};f8.prototype.qv=function(){this.bK()};f8.prototype.L8=function(x){this.SG=x;
this.bK()};f8.prototype.bK=function(){var x=this.SG,J=this.rV,u=4;p.LX(J);if(x==null||!p.j5(J))return;
var o=x.m,c=x.e,E=new ha(0,0,o,c),b=this.kP=x.Q.U.slice(0),l=b[0]+b[1]+b[2],i=Math.round(34*p.IJ()),F=i;
if(o>c)F=Math.round(F*c/o);else i=Math.round(i*o/c);var k=["RGB"].concat(dv.rF);for(var $=0;$<4;$++){var U=this.RX($);
q.hh.k_(U,i,F,E,x.or(),E,!1,$==0?null:$-1);var I=$==0?l==3:b[$-1]==1,V=new hF(-1-$,!0,!0,U,k[$],I,I);
V.parent=this;J.appendChild(V.n);p.Op(U.canvas)}for(var $=0;$<x.g.length;$++){var N=x.B[x.g[$]],e=N.tB;
if(e!=1&&e!=3)continue;var B=e==1?N.Da():N.O5(x).F,U=this.RX(u+$);u++;q.hh.yR(U,i,F,E,B);var V=new hF(x.g[$],!0,!0,U,N.getName()+(e==1?"":" Filter")+" Mask",!0,B.AH);
V.parent=this;J.appendChild(V.n);p.Op(U.canvas)}for(var $=0;$<x._w.length;$++){var B=x._w[$],U=this.RX(u+$);
q.hh.yR(U,i,F,E,B);var V=new hF(-5-$,!0,B.name=="Quick Mask",U,B.name,x.X7.indexOf($)!=-1,B.AH,n.uH,{d:h.Jh,XC:"rnm",cD:$});
V.parent=this;J.appendChild(V.n);p.Op(U.canvas)}};f8.prototype.ip=function(x,J){this.rV.style.height=J-30-4+"px";
this.rV.style.width=x+"px"};f8.prototype._=function(){jj.prototype._.call(this);this.bK();f8.Zl(this.fS,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
f8.Zl=function(x,J,o){var J=fW.c5(J,null,"miniscale");for(var $=0;$<x.length;$++)x[$].bo(J[$],o?o[$]:null)};
function hF(x,J,o,c,E,b,l,i,F){gB.call(this);this.n=p.i("div");this.a5l=x;this.alU=J;this.n9=c;this.a1X=i;
this.adE=F;this.yA=p.i("div",b?"head selected":"head");this.yA.setAttribute("style","height: "+40+"px");
var k=p.i("div","headL"),U=p.i("div","headR"),I=15;this.n.appendChild(this.yA);this.yA.appendChild(k);
this.yA.appendChild(U);this.vq=p.i("div","eye");if(1<p.IJ()&&p.IJ()<1.5)I=I/p.IJ();this.vq.setAttribute("style","background-size: "+I+"px "+I+"px;");
this.vq.style.opacity=l?1:.2;if(J)k.appendChild(this.vq);this.Ez=p.i("div","thumb");if(c)this.Ez.appendChild(c.canvas);
k.appendChild(this.Ez);this.pu=p.i("div","label");if(o)this.pu.style.fontStyle="italic";this.pu.textContent=h9.get(E);
k.appendChild(this.pu);var V=this.yA;V.setAttribute("draggable","true");V.addEventListener("dragstart",function(u){u.stopPropagation();
u.dataTransfer.setData("Text","hello")},!1);V.addEventListener("drop",p.NV,!1);p.Ra(this.yA,this.alz.bind(this));
if(!o)this.yA.addEventListener("mouseup",this.a2A.bind(this),!1)}hF.prototype=new gB;hF.prototype.nn=function(x){var J=new ko(L.E.f,!0);
J.v=this.a1X;J.data=this.adE;J.data.name=x;this.c(J)};hF.prototype.alz=function(x){var J=x.ctrlKey||x.metaKey,o=this.a5l;
if(J&&x.target==this.n9.canvas){this.c(hF.X6(this.alU,o,x))}else{var c=new ko("click",!0);c.data={cD:o,K4:x.target==this.vq,ia:J};
this.c(c)}};hF.prototype.a2A=function(x){if(x.detail==2&&x.target==this.pu){var J=new jj.U0(this.pu,this.nn.bind(this))}};
hF.X6=function(x,J,o){var c=0;if(o.shiftKey)c++;if(o.altKey)c+=2;var E=new ko(L.E.f,!0);E.v=n.Ks;if(x){if(-5<J&&J<0){E=new ko(L.E.p4,!0);
E.data=n.vh.j0(c,["RGB","Rd","Grn","Bl"][-1-J])}else E.data={d:"fromchannel",T1:[J,0,c]}}else E.data={d:"frompath",T1:[J,0,c]};
return E};function ju(){jj.call(this,[8,9],!1,"---panels/paths",jj.iJ.Dc);this.kP=null;this.SG=null;
this.rV=p.i("div","lpbody scrollable");this.rV.style.marginTop="4px";this.j8=p.i("div","lpfoot");this.$u.appendChild(this.rV);
this.$u.appendChild(this.j8);this.$u.addEventListener("click",this.aeD.bind(this),!1);this.Ml=[];this.k("click",this.hF,this);
this.fS=[];f8.dX(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.fS,this.j8,this.tc.bind(this),this.sO.bind(this))}ju.prototype=new jj("");
ju.prototype.tc=function(x,J){var o=f8.mA(this.fS,x),c;if(o<2){if(o==1&&x.altKey){c=new ko(L.E.N,!0);
c.data={d:L.H.yI,AN:"strokepath"}}else{c=new ko(L.E.p4,!0);c.data=n.LL.e6(o==0?null:"PbTl")}}else if(o==2)c=hF.X6(!1,null,x);
else if(o==3){c=new ko(L.E.p4,!0);c.data={bV:"make",Rx:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(o>3){var c=new ko(L.E.f,!0);
c.v=n.dr;c.data={d:"pathedit",XC:["new","del"][o-4],akk:J}}this.c(c)};ju.prototype.sO=function(x){this.tc(x,!0)};
ju.prototype.RX=function($){var x=this.Ml,J=x[$];if(J==null){var o=p.i("canvas");J=o.getContext("2d");
x.push(J)}return J};ju.prototype.aeD=function(x){if(x.target==this.rV){var J=this.SG;J.Np=[];J.vd=[];
J.o0=!0;J.sD=!0}};ju.prototype.hF=function(x){var J=x.data.cD,o=this.SG,c=x.data.ia,E=J,b=o.vd,l=o.Np;
if(J<0){E=-1-J;b=o.Np;l=o.vd}if(c){var i=b.indexOf(E);if(i==-1)b.push(E);else b.splice(i,1)}else{while(b.length!=0)b.pop();
while(l.length!=0)l.pop();b.push(E)}o.o0=!0;o.sD=!0};ju.prototype.qv=function(){this.bK()};ju.prototype.L8=function(x){this.SG=x;
this.bK()};ju.prototype.bK=function(){var x=this.SG,J=this.rV;p.LX(J);if(x==null||!p.j5(J))return;var o=x.m,c=x.e,E=new ha(0,0,o,c),b=this.kP=x.Q.U.slice(0),l=b[0]+b[1]+b[2],i=Math.round(34*p.IJ()),F=i;
if(o>c)F=Math.round(F*c/o);else i=Math.round(i*o/c);var k=x.l$(),U=k[0];for(var $=0;$<U.length;$++){var I=U[$],V=this.RX($);
q.hh.akS(V,i,F,E,I.add.vmsk);var u=new hF(I.cD,!1,I.cD>=0,V,I.name,k[1].indexOf($)!=-1,!1,n.dr,{d:"pathedit",XC:"rnm",cD:I.cD});
u.parent=this;J.appendChild(u.n);p.Op(V.canvas)}};ju.prototype.ip=function(x,J){this.rV.style.height=J-30-4+"px";
this.rV.style.width=x+"px"};ju.prototype._=function(){jj.prototype._.call(this);this.bK();f8.Zl(this.fS,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function fj(x){jj.call(this,[9,x?4:5],!1,"---panels/"+(x?"character":"paragraph"),x?jj.iJ.anC:jj.iJ.aiu);
this.$u.setAttribute("style","min-width:240px;");this.a80=x;this.TQ=null;this.Vh=null}fj.prototype=new jj("");
fj.prototype.aK=function(){this.TQ=new c1;var x=this.TQ,J=this.$u;x.parent=this;if(this.a80){var o=p.i("div","marged");
J.appendChild(o);o.appendChild(x.SU.n);J.appendChild(p.i("hr"));var c=p.i("div","marged");J.appendChild(c);
c.appendChild(x.p0.n);c.appendChild(x.ve.n);var E=p.i("div","marged");J.appendChild(E);E.appendChild(x.fn.n);
E.appendChild(x.fF.n);J.appendChild(p.i("hr"));var b=p.i("div","marged");J.appendChild(b);b.appendChild(x.Lp.n);
b.appendChild(x.Og.n);var l=p.i("div","marged");J.appendChild(l);l.appendChild(x.rm.n);l.appendChild(x.RQ.n);
l.appendChild(x.JO.n);J.appendChild(p.i("hr"));var i=p.i("div","marged");J.appendChild(i);i.appendChild(x.gd.n);
i.appendChild(x.e8.n);i.appendChild(x.o_.n);i.appendChild(x.pr.n);i.appendChild(x.ka.n);i.appendChild(x.L$.n);
i.appendChild(x.et.n);i.appendChild(x.wk.n)}else{var o=p.i("div","marged");J.appendChild(o);o.appendChild(x.ZK.n);
o.appendChild(x.UW.n);o.appendChild(x.Mq.n);o.appendChild(x.a8G.n);o.appendChild(x.avw.n);o.appendChild(x.a5o.n);
o.appendChild(x.ahD.n);J.appendChild(p.i("hr"));var c=p.i("div","marged");J.appendChild(c);c.appendChild(x.y3.n);
c.appendChild(x.Fg.n);c.appendChild(x.rT.n);J.appendChild(p.i("hr"));var E=p.i("div","marged");J.appendChild(E);
E.appendChild(x.Ze.n);E.appendChild(x.us.n);E.appendChild(x.If.n);E.appendChild(x.W7.n)}};fj.prototype.qv=function(){if(!p.j5(this.$u))return;
if(this.TQ==null){this.aK();var x=this.Vh;if(x)this.TQ.w(x.Mf,x.a0,x.ii);this.TQ._()}};fj.prototype._=function(){jj.prototype._.call(this);
if(this.TQ)this.TQ._()};fj.prototype.DL=function(x,J){this.Vh=x;if(J!=h4.y_&&J!=h4.A7&&J!=h4.B5&&J!=h4.jG)return;
if(this.TQ)this.TQ.w(x.Mf,x.a0,x.ii)};function gX(){jj.call(this,[9,13],!1,"---panels/glyphs",jj.iJ.ag_);
this.Vh=null}gX.prototype=new jj("");gX.prototype.aK=function(){this.TQ=new c1;this.TQ.parent=this;this.auO=null;
this.acA=null;this.VY=null;this.a2I=null;this.gW=Math.round(290*p.IJ());this.HD=45;this.ar9=4;this.a7a=this.A1.bind(this);
this.aqZ=0;this.SL=new i3(null,["Hi","Hello"]);this.SL.k(L.E.A,this.A1,this);var x=this.$L=new eH("-",null,null,!0);
x.k("click",this.al4,this);var J=this.avV=new eH("+",null,null,!0);J.k("click",this.al4,this);this.wU=new go(!1);
this.wU.k(L.E.A,this.tJ,this);this.wU.n.style.height=250+"px";var o=this.qD=p.i("div","form padded");
this.$u.appendChild(o);o.appendChild(this.TQ.SU.n);p.UF(o);o.appendChild(this.SL.n);o.appendChild(x.n);
o.appendChild(J.n);this.$u.appendChild(this.wU.n)};gX.prototype.ip=function(x,J){if(this.Qh==x||this.TQ==null)return;
this.Qh=x;this.gW=Math.floor((x-13)*p.IJ());this.qD.setAttribute("style","width:"+this.gW/p.IJ()+"px;");
this.wU.n.style.height=J-73+"px";this.A1()};gX.prototype.tJ=function(x){var J=this.acm(),o=Math.round(this.gW/J);
J/=p.IJ();var c=this.wU.h()[0]*o*this.ar9,E=this.wU.arl();c+=Math.floor(E.y/J)*o;c+=Math.floor(E.x/J);
var b=this.VY[this.SL.h()];if(c>=b.length)return;var l=b[c],i=this.a2I[l],F=new ko(L.E.f,!0);F.v=n.eY;
if(i.tH.length==0)F.data={d:"insertGlyph",b:c+1};else F.data={d:"insertText",b:String.fromCodePoint(i.tH[0])};
this.c(F)};gX.prototype.al4=function(x){var J=1.2;if(x.target==this.$L){if(this.HD>20)this.HD/=J}else{if(this.HD<100)this.HD*=J}this.A1()};
gX.prototype.qv=function(){this.DL(this.Vh)};gX.prototype.DL=function(x,J){this.Vh=x;if(!p.j5(this.$u))return;
if(this.TQ==null)this.aK();this.TQ.w(x.Mf,x.a0,x.ii);var o=x.Mf,c=o.kJ.Font,F=0;if(c==null)return;var E=o.SY[c].Name;
if(this.auO==E)return;var c=x.a0.wv(E);if(c==null)return;var b=c.maxp.numGlyphs,l=this.a2I=new Array(b);
for(var $=0;$<b;$++)l[$]={tH:[]};var i=Date.now(),k=new Uint8Array(1048575);for(var $=0;$<1048575;$++){var U=Typr.U.codeToGlyph(c,$);
if(U!=0&&U<b){k[$]=1;if(l[U].tH.length==0)F++;l[U].tH.push($)}}var I=gX.OM,V=[];for(var $=0;$<I.length;
$++)V.push([]);for(var U=1;U<b;U++){V[0].push(U);var u=l[U].tH[0];if(u==null){continue}for(var N=1;N<I.length;
N++){var e=I[N].c1;for(var $=0;$<e.length;$+=2)if(e[$]<=u&&u<=e[$+1]){V[N].push(U);break}}}this.VY=V;
var B=[];for(var $=0;$<I.length;$++)B.push(I[$].fm+" ("+V[$].length+")");var j=this.SL.h();this.SL.Ed(B);
this.SL.w(j);this.auO=E;this.acA=c;this.A1()};gX.prototype.acm=function(x){var J=Math.floor(this.gW/this.HD);
return Math.floor(this.gW/J)};gX.prototype.A1=function(x){if(!p.j5(this.$u)||this.VY==null)return;var J=this.VY[this.SL.h()],o=J.length,c=this.acA,E=Typr.U,b=this.acm(),l=b,i=l*.8,F=l*.8/c.head.unitsPerEm,k=[],U=Math.floor(this.gW/b),I=Math.ceil(o/U),V=this.ar9,u=Date.now();
for(var N=0;N<I;N+=V){var e=p.i("canvas"),B=e.getContext("2d");e.width=b*U;e.height=l*V;B.fillStyle="white";
B.fillRect(0,0,U*b,l*V);for(var j=0;j<V;j++){for(var T=0;T<U;T++){var $=J[(N+j)*U+T];if($==null)break;
var a=E.glyphToPath(c,$),P=q.O.Cg(a.crds);B.fillStyle="#252525";if(P.Kx()){var v=c.hmtx,R=[],_=170;for(var y in v)R.push(y);
var t=v[R[0]][$],g=v[R[1]][$],H=Math.max(t,g);a={cmds:"M L M L M L".split(" "),crds:[0,0,H,0,0,-_,0,_,H,-_,H,_]};
P.m=H;P.x=0;B.strokeStyle="rgba(0,255,0,1)"}B.beginPath();var Y=T*b+(b-P.m*F)*.5-P.x*F,K=j*l+i;B.translate(Y,K);
B.scale(F,-F);E.pathToContext(a,B);B.scale(1/F,-1/F);B.translate(-Y,-K);P.Kx()?B.stroke():B.fill()}}B.beginPath();
for(var T=0;T<U;T++){var f=T*b+b+.5;B.moveTo(f,0);B.lineTo(f,l*V)}for(var j=0;j<V;j++){var m=j*l+l+.5;
B.moveTo(0,m);B.lineTo(U*b,m)}B.strokeStyle="rgba(0,0,0,0.3)";B.stroke();k.push(e)}this.wU.Qk(k,null,b*U,l*V)};
gX.OM=[{fm:"All Glyphs"},{fm:"Basic Latin, Latin 1",c1:[0,127,128,143]},{fm:"Latin Extended-A",c1:[256,383]},{fm:"Latin Extended-B",c1:[384,591]},{fm:"Punctuations",c1:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{fm:"Greek",c1:[880,1023]},{fm:"Cyrillic",c1:[1024,1279]},{fm:"Hebrew",c1:[1424,1535]},{fm:"Arabic",c1:[1536,1791]},{fm:"Emoji",c1:[9728,10095,127744,129535]}];
function aT(){jj.call(this,[13,0],!1,null,jj.iJ.uq);this.w5=0;this.a9E=0;this.Vh=null}aT.prototype=new jj("");
aT.prototype.aK=function(){if(!p.j5(this.$u)||this.CK)return;var x=p.i("div","flexrow padded");this.$u.appendChild(x);
var J=p.i("div");x.appendChild(J);this.CK=[];for(var $=0;$<2;$++){var o=new cp;this.CK.push(o);o.k("click",this.a5z,this);
J.appendChild(o.n)}this.mX=new fQ(192);console.log("hsb picker");this.mX.k(L.E.A,this.ys,this);this.T0=new ii;
this.T0.parent=this;x.appendChild(this.mX.n);this.DL(this.Vh,h4.y_)};aT.prototype.a5z=function(x){var J=x.currentTarget,o=this.CK.indexOf(J);
if(o==this.w5){this.T0.NL(o)}else{this.w5=o;this.A1()}};aT.prototype.ys=function(x){var J=this.mX.h();
this.mX.w(J);var o=Math.round(J.o*255)<<16|Math.round(J.I*255)<<8|Math.round(J.J*255),c=new ko(L.E.N,!0);
c.data={d:L.H.bS,KJ:h4.uq,XC:this.w5,b:o};this.c(c);this.a9E=Date.now()};aT.prototype.A1=function(){if(this.T0==null)return;
var x=this.Vh,J=this.w5,o=[x.Q6,x.xR];for(var $=0;$<2;$++){var c=this.CK[$],E=c.n.style;c.RT(o[$]);if($==J)E.filter="drop-shadow(0 0 1px #000000)"}var b=o[J];
if(Date.now()-this.a9E>100)this.mX.w({o:(b>>>16)/255,I:(b>>>8&255)/255,J:(b&255)/255})};aT.prototype.DL=function(x,J){this.Vh=x;
if(this.T0==null)return;if(J==h4.y_||J==h4.uq){this.T0.azV(x.Q6,x.xR);this.A1()}};aT.prototype.L8=function(){this.aK()};
aT.prototype.qv=function(){this.aK();this.A1()};function bV(){jj.call(this,"CSS",!1,"---panels/css",jj.iJ.CSS);
this.VE=null;var x=p.i("div","padded");this.$u.appendChild(x);this.Me=p.i("textarea");p.l8(this.Me);
x.appendChild(this.Me)}bV.prototype=new jj("");bV.prototype.ip=function(x,J){if(this.Qh==x)return;this.Qh=x;
this.Me.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(x-10)+"px; height:"+(J-10)+"px")};
bV.prototype.L8=function(x){this.VE=x;this.A1()};bV.prototype.DL=function(x,J){if(J==h4.B5)this.A1()};
bV.prototype.A1=function(){var x=this.VE;if(x==null||x.g.length==0)return;if(!p.j5(this.$u))return;var J=x.B[x.g[0]],o=CSS.aD2(J,x);
if(o.length!=0)this.Me.value=o.join(";\n")+";";else this.Me.value=""};bV.prototype.qv=function(){this.A1()};
function fy(){jj.call(this,"Text to Image",!1,null,jj.iJ.ae3);this.VE=null;var x=this.aA5=p.i("div","form padded labfxd");
this.$u.appendChild(x);this.P8=["512x512","1024x1024"];this.dD=0;this.D3={};this.TV=[];this.hO=[];this.JJ=null;
var J=["API Key","Generate"],o=this.oW=[[new dr("DALL\xB7E"),new fW(null,["Our key","Your own key"]),new cA,new dr("Stable Diffusion"),new fW(null,["Our key","Your own key"]),new cA],[new fW("Model",["DALL\xB7E","Stable Diffusion"]),new cA("Prompt",null,null,4),new i3([12,14,0],this.P8),new j8("Inpaint the masked area of a layer"),new eH([12,49],!0,null,!0)]];
o[1][0].w(1);o[1][1].w("goat riding a bike");o[1][2].w(1);o[1][3].w(!1);for(var $=0;$<2;$++){var c=new eH(J[$]);
this.TV.push(c);x.appendChild(c.n);c.k("click",this.a3C,this);var E=p.i("div");this.hO.push(E);var b=o[$];
for(var l=0;l<b.length;l++){b[l].parent=this;E.appendChild(b[l].n);if(!($==0&&(l==1||l==4)))p.UF(E);
if($==0&&l==2)p.bN(E);if($==0)b[l].k(L.E.A,this.adV,this);if($==1&&l==4)b[l].k("click",this.ayk,this)}}p.bN(x);
this.Pt=p.i("div");x.appendChild(this.Pt);this.QY=p.i("div","scrollable");this.hO[1].appendChild(this.QY);
var i=window.locStor.getItem("sd_api_key");if(i){i=i.split(",");if(i.length==2)i.push("0","your_api_key");
for(var $=0;$<2;$++){o[0][$*3+1].w(parseInt(i[$*2+0]));o[0][$*3+2].w(i[$*2+1])}}else{o[0][2].w("your_api_key");
o[0][5].w("your_api_key")}this.adV();this.a3C(null,1);fy.ahq=fy.prototype.azO.bind(this)}fy.prototype=new jj("");
fy.prototype.ayk=function(){var x=this.oW,J=x[0],o=x[1],c=o[0].h(),E=J[c*3+1].h()==0,b=!o[3].h(),l=J[c*3+2].h().trim(),i=o[1].h().trim(),F=this.P8[o[2].h()],k=fy.apS(c,E,l,b,i,F,this.VE);
if(k==1)p.na(this.$u,"disabled")};fy.ahq=null;fy.El=0;fy.aoF=null;fy._R=function(){if(!j4.I4()){var x=Math.round((Date.now()-fy.El)/1e3),J=60;
if(x<J){window.confirm("Wait "+(J-x)+" seconds or get a Premium account for the unlimited access. Or enter your own API Key.");
return!1}}return!0};fy.apS=function(x,J,o,c,E,b,l,i,F){if(!navigator.onLine){alert("Get online to use this feature.");
return}if(x==0&&J){alert("Enter your own API Key to use DALL-E.",5e3);return}if(J&&!fy._R())return;var k=b=="512x512"?1:2,U,I,V,u,N;
if(x==0){V="https://api.openai.com/v1/images/"+(c?"generations":"edits");var e=cG.mV("% D5Nfn1>!}>$;#AVxId1:DK-?leqOVcf*\\qj;~\"o5#j/P )]\\~");
u={Authorization:"Bearer "+(J?e:o)};N={model:"image-alpha-001",prompt:E,num_images:1,size:b,response_format:"b64_json"}}else{V="https://dezgo.p.rapidapi.com/"+(c?"text2image":"inpainting");
var e=cG.mV("sx| !WZ\\0a=F>js@zFNQRV-'\\/dfv:oHDMK&20+\\a`26l<@xFL");u={"X-RapidAPI-Key":J?e:o,"X-RapidAPI-Host":"dezgo.p.rapidapi.com"};
N={prompt:E,upscale:k,steps:20,model:c?"stablediffusion_2_1_512px":"stablediffusion_inpaint_2"}}var B=new XMLHttpRequest;
B.open("POST",V,!0);for(var j in u)B.setRequestHeader(j,u[j]);if(F==null)F=fy.ahq;B.onload=F;if(x==1)B.responseType="arraybuffer";
if(c){if(x==0){B.setRequestHeader("Content-type","application/json");B.send(JSON.stringify(N))}else{B.setRequestHeader("content-type","application/x-www-form-urlencoded");
var T=[];for(var a in N)T.push(encodeURIComponent(a)+"="+encodeURIComponent(N[a]));B.send(T.join("&"))}if(b=="512x512")U=I=512;
else U=I=1024}else{if(i==null){var P=l.B[l.g[0]],v=P.Da(),t=0;if(v==null){alert("There is no raster mask");
return}var R=[P.buffer,P.rect];q.mw(R);var y=[v.iM(P.rect),P.rect];q.PF(y);while(x==1&&R[t+1].P()>600*600)t+=2;
var g=R[t+1].clone();if(x==0)g.m=g.e=Math.max(g.m,g.e);var H=q.R(g.P()*4);q.St(R[t],R[t+1],H,g);var _=q.R(g.P());
q.zc(y[t],y[t+1],_,g);i=[H,_,g]}var H=i[0],_=i[1],g=i[2],Y=UPNG.encode([H.buffer],g.m,g.e);q.round(_);
var K=q.R(g.P()*4);K.fill(255);if(x==0){q.qR(_,K,3)}else{q.Mr(_);q.Qz(_,K)}var f=UPNG.encode([K.buffer],g.m,g.e,null,null,null,!0),m=new FormData;
m.append(["image","init_image"][x],new Blob([Y],{type:"image/png"}));m.append(["mask","mask_image"][x],new Blob([f],{type:"image/png"}));
for(var a in N)m.append(a,N[a]);B.send(m);U=g.m;I=g.e}fy.aoF=[U,I,x,k,J];return 1};fy.WK=function(x){fy.El=Date.now();
var J=this.aoF,o=J[0],c=J[1],E=J[2],b=J[3],l=J[4],i=!l?"Users":j4.I4()?"Premium":"Free";if(E==0)j4.event("dalle_DALL-E "+i);
else{var F=20,k=Math.max(o*c,512*512),U=(k*6849e-9-1.133)*Math.max(F,10);if(b==2)U+=k*49278e-9;for(var $=0;
$<U;$++)j4.event("dezgo_Dezgo "+i+(x?" "+x:""))}};fy.prototype.azO=function(x){var J=this.oW,o=J[1][0].h(),c;
p.ml(this.$u,"disabled");if(o==0){c=JSON.parse(x.target.response);var E=c.error;if(E){alert(E.message,5e3);
return}}else{c={created:Math.round(Date.now()/1e3),data:[{b64_json:hR.EA(x.target.response)}]}}var b=this.D3,l=J[1][1].h().trim()+":"+J[1][2].h();
if(b[l]==null)b[l]=[];b[l].push(c);var F=J[0][o*3+1].h()==0;fy.WK();this.A1()};fy.prototype.adV=function(x){var J=this.oW,o=[];
for(var $=0;$<2;$++)o.push(J[0][$*3+1].h(),J[0][$*3+2].h().trim());window.locStor.setItem("sd_api_key",o.join(","));
J[0][2].po(o[0]==1);J[0][5].po(o[2]==1)};fy.prototype.a3C=function(x,$){p.LX(this.Pt);if($==null)$=this.TV.indexOf(x.target);
for(var J=0;J<2;J++)this.TV[J].w(J==$);this.Pt.appendChild(this.hO[$])};fy.prototype.ip=function(x,J){if(this.Qh==x)return;
this.Qh=x;this.aA5.style.width=x-16+"px";this.QY.style.height=J-190+"px"};fy.prototype.L8=function(x,J){this.VE=x;
if(x)this.dD=J.indexOf(x);this.A1()};fy.prototype.DL=function(x,J){};fy.prototype._=function(x,J){jj.prototype._.call(this);
var o=this.oW,E=" target=\"_blank\" style=\"color:inherit;\">";for(var $=0;$<2;$++){this.TV[$]._();for(var c=0;
c<o[$].length;c++)this.oW[$][c]._()}o[0][0].n.innerHTML="DALL\xB7E - <a href=\"//beta.openai.com\" "+E+"beta.openai.com</a>";
o[0][3].n.innerHTML="Stable Diffusion - <a href=\"//rapidapi.com/dezgo/api/dezgo\" "+E+"rapidapi.com/dezgo</a>"};
fy.prototype.A1=function(){var x=this.QY,J=this.D3;p.LX(x);var o=[];for(var c in J){J[c].sort(function(e,B){return B.created-e.created});
o.push([c,J[c]])}o.sort(function(e,B){return B[1][0].created-e[1][0].created});var E=this.adm.bind(this),b=this.JJ=[[],[]];
for(var $=0;$<o.length;$++){var c=o[$][0].split(":"),l=o[$][1],i=this.P8[c[1]],F=parseInt(i.split("x")[0]),k=p.i("div");
k.textContent=c[0]+", "+F+" x "+F;x.appendChild(k);for(var U=0;U<l.length;U++){var I=l[U].data;for(var V=0;
V<I.length;V++){var u=I[V].b64_json,N=p.i("img");N.setAttribute("src","data:image/png;base64,"+u);N.onclick=E;
N.style.width=128/p.IJ()+"px";N.style.marginRight="4px";N.style.cursor="pointer";x.appendChild(N);b[0].push(N);
b[1].push(I[V])}}}};fy.prototype.adm=function(x){var $=this.JJ[0].indexOf(x.target),J=this.JJ[1][$].b64_json,o=hR.r7(J);
bB.od({url:"file",dD:this.dD},o,this)};fy.prototype.qv=function(){this.A1()};function hP(){jj.call(this,[9,6],!1,"---panels/info",jj.iJ.a0k);
this.$u.setAttribute("style","min-width:240px;");this.VE=null;this.Vh=null;this.Uk=null;var x=this.oX=[];
for(var J=0;J<3;J++){var o=p.i("div","marged row");this.$u.appendChild(o);var c=p.i("div","cell");c.setAttribute("style","width:10em");
o.appendChild(c);var E=p.i("div","cell");E.setAttribute("style","width:10em");o.appendChild(E);var b=[8,4,3][J];
for(var $=0;$<b;$++){var l=new dr("");x.push(l);l.w(0);l.n.style.padding="0";var i=$<(J==1?2:4)?c:E;
i.appendChild(l.n);p.UF(i)}if(J<2)p.bN(this.$u)}this.QD=x[8];this.kk=x[9];this._e=x[10];this.Du=x[11];
p.bN(this.$u);this.Uk=p.i("div");this.Uk.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.$u.appendChild(this.Uk)}hP.prototype=new jj("");hP.prototype.OC=function(x,J,o,c,E){if(!p.j5(this.$u)||x==null)return;
var b=x.Q.Vx(E.x,E.y),l=new ck(Math.floor(b.x),Math.floor(b.y));if(!E.sz){var i=0,F=0,k=0,U=0,I=this.oX;
if(!E.sz&&!x.azb()&&new ha(0,0,x.m-1,x.e-1).GT(l)){var V=x.or(),$=x.m*l.y+l.x<<2;i=V[$+0];F=V[$+1];k=V[$+2];
U=V[$+3]}var u=q.cE([i/255,F/255,k/255]);I[0].w("R: "+i);I[1].w("G: "+F);I[2].w("B: "+k);I[3].w("A: "+U);
I[4].w("C: "+Math.round(u[0]*100)+"%");I[5].w("M: "+Math.round(u[1]*100)+"%");I[6].w("Y: "+Math.round(u[2]*100)+"%");
I[7].w("K: "+Math.round(u[3]*100)+"%");var N=q.ed(i,F,k);I[12].w("H: "+Math.round(N.ao*360)+"\xB0");
I[13].w("S: "+Math.round(N.Rw*100)+"%");I[14].w("B: "+Math.round(N.J*100/255)+"%")}var e=x.Q.Z>1?new ck(b.x,b.y):l;
this.QD.w("X: "+q.xP.Cx(e.x,x.yV,o,x.m));this.kk.w("Y: "+q.xP.Cx(e.y,x.yV,o,x.e));this.CY()};hP.prototype.CY=function(){var x=this.VE,J=this.Vh,o=0,c=0;
if(x&&J){if(x.Q.GJ){o=x.Q.GJ.m;c=x.Q.GJ.e}else if(x.u){o=x.u.rect.m;c=x.u.rect.e}o=q.xP.Cx(Math.abs(o),x.yV,J,x.m);
c=q.xP.Cx(Math.abs(c),x.yV,J,x.e)}this._e.w(h9.get([12,41]).charAt(0)+": "+o);this.Du.w(h9.get([12,42]).charAt(0)+": "+c)};
hP.prototype._=function(){jj.prototype._.call(this);this.CY()};hP.prototype.qv=function(){this.L8(this.VE,null,this.Vh)};
hP.prototype.L8=function(x,J,o){this.VE=x;this.Vh=o;if(!p.j5(this.$u))return;console.log("update");this.CY();
if(x&&x.g.length!=0){var c=x.g[0],E=x.B[c],b=dv.get(E.add)!=null,l=b&&x.g[0]>0;this.Uk.innerHTML="";
for(var $=0;$<x.Eb.length;$++){var i=x.Eb[$],E=x.Q.OY(i.x,i.y),F=n.um.Tx(x,E,1,l?1:2),k={o:F>>>16&255,I:F>>>8&255,J:F&255},e="<span style=\"display:inline-block; width:25px; text-align:right\">",B="</span>";
if(l){var U=x.g[0];x.g[0]=c-1;var I=n.um.Tx(x,E,1,1),V={o:I>>>16&255,I:I>>>8&255,J:I&255};x.g[0]=U}var u=p.i("div");
u.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var N="<b>#"+($+1)+"</b>",j=[k.o,k.I,k.J],T=l?[V.o,V.I,V.J]:null,a=["R","G","B"];
for(var P=0;P<3;P++)N+="<br/>"+e+a[P]+B+": "+(l?e+T[P]+B+" /":"")+e+j[P]+B;u.innerHTML=N;this.Uk.appendChild(u)}}};
function gY(){jj.call(this,[9,1],!1,"---panels/layers",jj.iJ.uH);this.gL=null;this.Kr=[];this.Th=null;
this.pz=null;this.yA=p.i("div","lphead");this.rV=p.i("div","lpbody scrollable");this.rV.addEventListener("scroll",this.apB.bind(this),!1);
this.j8=p.i("div","lpfoot");var x=this.aAy=p.i("span");x.setAttribute("style","display:inline-block; height:26px");
this.yA.appendChild(x);this.ef=new i3(null,iP.pP,iP.QK);this.ef.k(L.E.A,this.auT,this);this.yA.appendChild(this.ef.n);
this.bT=new f1([12,0],0,100,"%",0);this.bT.k(L.E.A,this.aoM,this);this.bT.parent=this;this.yA.appendChild(this.bT.n);
this.w3=new fA([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.w3.k(L.E.A,this.ase,this);this.yA.appendChild(this.w3.n);this.Xf=new f1([12,26],0,100,"%",0);this.Xf.k(L.E.A,this.aDu,this);
this.Xf.parent=this;this.yA.appendChild(this.Xf.n);this.fS=[];this.dX();this.$u.appendChild(this.yA);
this.$u.appendChild(this.rV);this.rV.addEventListener("dragover",function(E){E.preventDefault()},!1);
this.rV.addEventListener("dragenter",p.NV,!1);this.rV.addEventListener("drop",this.akH.bind(this),!1);
this.$u.appendChild(this.j8);this.$u.addEventListener("contextmenu",p.NV,!1);this.k("rclick",this.anO,this);
var J=function(E,b,$){return{tK:this.ws[$]==1}}.bind(this);this.a2C=new iy([{name:[0,6],T:J},{name:[14,10],T:J},{name:[6,57,2],T:J,U7:!0},{name:"Long-tap as a right click",T:J,U7:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",T:function(){return{tK:hY.Fm==0,T:!0}}},{name:"Thumbnails by Document",T:function(){return{tK:hY.Fm==1,T:!0}}}]);
this.a2C.k("select",this.anI,this);this.ws=[0,1,1,0];var o=window.locStor;if(o){var c=o.getItem("lpOpt");
if(c){c=JSON.parse(c);this.ws=c[0];hY.tD=c[1];hY.Fm=c[2]}}this.anI()}gY.prototype=new jj("");gY.prototype.W3=function(){if(this.a0l)return;
var x=ky.ZZ(!0),J=ky.z4(!0);this.a0l=new iy(x,J);var x=[{name:[14,10]},{name:[14,11],U7:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],U7:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",T:function(o){return{T:o.B[o.g[0]].add.SoLd!=null}},U7:!0},{name:[6,8],T:gY.aiA},{name:[6,34],T:function(o){var c=o.B[o.g[0]];
return{T:c.add.lmfx!=null&&!c.Zk()}}},{name:[6,40],U7:!0,T:function(o){var c=o.B[o.g[0]];return{T:c.add.TySh!=null}}},{name:"",U7:!0,T:function(o){var c=o.B[o.g[0]],E=c.add.TySh,b=E?E.TC:null;
return{T:E!=null&&b.Curve==null,hI:h9.get(E&&iv.hT(b)==0?[16,3,1]:[16,3,0])}}},gY.aA8(!1),ky.atV(),{name:[6,12,0],T:function(o){var c=o==null?0:o.g.length;
return{T:c!=0&&(c!=1||o.g[0]!=0),hI:h9.get(c>1||c==1&&o.B[o.g[0]].Zk()?[6,12,0]:[6,10])}}},{name:[6,12,1],U7:!0},{name:[13,0],sub:function(){var o=[];
for(var $=0;$<a0.hj.length;$++)o.push({name:[13,1,$],hh:"#"+q.uW(a0.hj[$])});return o}()}],J=[{K:L.E.N,C:{d:L.H.yI,AN:"layerstyle"}},{K:L.E.f,v:n.Ks,C:{d:"fromlayer",T1:[null,0,0]}},{K:L.E.f,v:n.uH,C:{d:h.gc}},{K:L.E.N,C:{d:L.H.yI,AN:"duplinto"}},{K:L.E.f,v:n.uH,C:{d:h.ni}},{K:L.E.p4,C:{bV:"newPlacedLayer"}},{K:L.E.f,v:n.uH,C:{d:h.Kh}},{K:L.E.p4,C:{bV:"rasterizeLayer",Rx:{classID:"rasterizeLayer",null:hi.X$("Lyr",!0)}}},{K:L.E.f,v:n.uH,C:{d:h.n_}},{K:L.E.f,v:n.uH,C:{d:h.aui}},{K:L.E.f,v:n.eY,C:{d:"switchPntPrgr"}},{K:L.E.f,v:n.uH,C:{d:h.LE}},ky.azh(),{K:L.E.p4,C:{bV:"mergeLayersNew",Rx:{__name:"Merge Layers",classID:"Mrg2"}}},{K:L.E.p4,C:{bV:"flattenImage"}},{sub:function(){var o=[];
for(var $=0;$<8;$++)o.push({K:L.E.f,v:n.uH,C:{d:h.Lz,ae2:$}});return o}()}];this.r3=new iy(x,J);var x=[{name:[6,45],T:function(o){var c=o.B[o.g[0]];
return{T:c.O5(o).F==null}}},{name:[6,47]}],J=[{K:L.E.f,v:n.uH,C:{d:h.oB}},{K:L.E.f,v:n.uH,C:{d:h.Av}}];
this.aps=new iy(x,J);var x=[{name:"enab/disab",T:function(o){return{hI:h9.get(o.B[o.g[0]].Da().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],T:function(o){return{T:o.$K(!1,!0)}}}],J=[{K:L.E.f,v:n.uH,C:{d:h.YB}},{K:L.E.f,v:n.uH,C:{d:h.Z5}},{K:L.E.f,v:n.uH,C:{d:h.Uq}}];
this.a92=new iy(x,J);var x=[{name:"enab/disab",T:function(o){return{hI:h9.get(o.B[o.g[0]].O5(o).F.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],J=[{K:L.E.f,v:n.uH,C:{d:h.Zr}},{K:L.E.f,v:n.uH,C:{d:h.vM}}];
this.a6x=new iy(x,J);var x=[{name:"enab/disab",T:function(o){return{hI:h9.get(o.B[o.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],J=[{K:L.E.f,v:n.uH,C:{d:h.vu}},{K:L.E.f,v:n.uH,C:{d:h.fH}},{K:L.E.f,v:n.uH,C:{d:h.mE}}];
this.als=new iy(x,J);this.aqI=new iy(ky.aoO(!0),ky.Mk(!0));this.aca=new iy(ky.ZZ(),ky.z4())};gY.prototype.apB=function(x){var J=this.rV.scrollTop-600;
for(var $=0;$<this.Kr.length;$++){var o=this.Kr[$],c=o.Al;if(J<o.Al)o.ag7();if(o.Al>J+this.ao+600)break}};
gY.prototype.jk=function(){return this.a2C};gY.prototype.anI=function(x){var J=this.ws;if(x){var o=x.target.xi(),$=o[0];
if($<4)J[$]=1-J[$];else if($<6){if($==4&&hY.tD-10>=10)hY.tD-=10;if($==5&&hY.tD+10<=200)hY.tD+=10;if(this.Th)this.Th.Gf=!0}else{if($==6)hY.Fm=0;
if($==7)hY.Fm=1;if(this.Th)this.Th.Gf=!0}var c=window.locStor;if(c)c.setItem("lpOpt",JSON.stringify([J,hY.tD,hY.Fm]))}if(J[0]==1)this.aC7();
var E=[[{n:this.aAy}],[this.ef,this.bT],[this.w3,this.Xf]];for(var $=0;$<3;$++)for(var b=0;b<E[$].length;
b++)E[$][b].n.style.display=J[$]==1?"inline-block":"none";this.ip(this.Qh,this.ao)};gY.prototype.arR=function(){var x=this.G6;
if(x==null)return!1;if(x.h()){var J=this._q.h(),o=this.Mw[J].h();if(J==0)return o.indexOf(!0)!=-1;if(J==1)return o!=""}return!1};
gY.aA8=function(x){var J=function(c){var E=c!=null&&c.g.length!=0&&c.B[c.g[0]].$j;return{tK:E,T:c!=null&&c.b3(c.g[0]),C:{K:L.E.p4,C:{bV:E?"ungroup":"groupEvent",Rx:{classID:E?"Ungr":"GrpL",null:hi.X$("Lyr",!0)}}}}},o={name:[6,6,0],U7:!0,T:J};
if(x)o.l1=[dG.Zj,dG._k,dG.EB];return o};gY.aiA=function(x,J){if(x)for(var $=0;$<x.g.length;$++){var o=x.B[x.g[$]];
if(o.add.TySh||o.add.SoLd||o.add.SoCo||o.add.GdFl||o.add.PtFl)return{T:!0}}return{T:!1}};gY.prototype.akH=function(x){p.NV(x);
var J=x.dataTransfer.getData("Text"),o=1,c=0;if(J==""){p.kX(x,this,this.pz.indexOf(this.Th),c+(o>.5?0:1))}else if(J!="--panel"){var J=JSON.parse(J),E=J.jP;
if(E=="l")this.nT({d:h.z5,source:J.CX,target:c,vL:o})}};gY.prototype.anO=function(x){var J=this.Th,o=x.data,E;
if(J.g.indexOf(o.a)==-1){var c={d:h.Ve,a:x.target.Gs.index,nJ:o.tB};this.nT(c)}if(J.g.indexOf(o.a)==-1)return;
this.W3();if(o.tB==1){E=this.a92}else if(o.tB==2){E=this.als}else if(o.tB==3){E=this.a6x}else if(o.tB==4){E=this.aps}else if(o.tB==5){E=this.a0l}else{E=this.r3}E._();
E.update(J);E.parent=this;var b=new ko(L.E.N,!0);b.data={d:L.H.c4,BM:E,x:o.UL.x+1,y:o.UL.y+1};this.c(b)};
gY.prototype._=function(){jj.prototype._.call(this);this.ef._();this.bT._();this.w3._();this.Xf._();
if(this.G6){this.G6._();this.Mw[0]._()}if(this.Th)this.L8(this.Th);var x="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var $=0;$<this.fS.length;$++){var J=this.fS[$];J.bo(p.e3(x[$],null,"miniscale"));if($==1||$==3){J.n.style.position="relative";
var o=p.i("img","gsicon");o.setAttribute("src",PIMG["tools/corner"]);o.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
J.n.appendChild(o)}}};gY.prototype.L8=function(x,J){if(x&&!x.Gf)return;if(x==null)p.na(this.$u,"disabled");
else p.ml(this.$u,"disabled");this.Th=x;this.pz=J;if(this.gL!=null){p.LX(this.rV);this.gL=null;this.Kr=[]}if(x==null)return;
var o=!1;for(var $=0;$<x._w.length;$++)if(x._w[$].AH)o=!0;this.gL=new a0(x.root,this,x,{xK:0,_X:!1},{au_:o,a7t:this.arR()},this.Kr,0,new ha(0,0,x.m,x.e));
if(x.g.length==0||x.B[x.g[0]]==null)p.na(this.yA,"disabled");else{p.ml(this.yA,"disabled");if(x.g.length==1&&x.$t){var c=x.g[0];
for(var $=0;$<this.Kr.length;$++){var E=this.Kr[$];if(E.Gs.index==c&&E.yA.scrollIntoView)E.yA.scrollIntoView({block:"nearest"})}}var b=x.B[x.g[0]];
if(b.Zk()){this.ef.Ed([[15,10,27]].concat(iP.pP),[1].concat(iP.QK));var l=iP.f5.indexOf(b.n5);this.ef.w(l+1)}else{this.ef.Ed(iP.pP,iP.QK);
var l=iP.f5.indexOf(b.n5);this.ef.w(l)}this.bT.w(Math.round(100*b.opacity/255));this.w3.w([b.Sm(0),b.Sm(1),b.Sm(2),b.Sm(31)]);
var i=x.P6();this.ef.po(!i);this.Xf.po(!i);this.bT.po(!i);this.w3.po(!(i&&!b.Sm(31)));this.Xf.w(Math.round(100*(b.add.iOpa!=null?b.add.iOpa/255:1)));
this.fS[2].a6v(h9.get(b.Da()?[6,23]:[6,21]))}this.apB(null)};gY.prototype.ip=function(x,J){this.Qh=x;
this.ao=J;var o=this.yA.getBoundingClientRect().height;if(55<o&&o<56)o=60.2;var c=this.j8.getBoundingClientRect().height,E=J-(o+c+3);
this.rV.style.height=E+"px";this.rV.style.width=x+"px"};gY.prototype.auT=function(x){this.nT({d:h.QA,_Q:this.ef.h()})};
gY.prototype.aoM=function(x){this.nT({d:h.CE,_Q:Math.round(255*this.bT.h()/100)})};gY.prototype.ase=function(x){this.nT({d:h.QF,_Q:[this.w3.h(),[0,1,2,31]]})};
gY.prototype.aDu=function(x){this.nT({d:h.a9,_Q:Math.round(255*this.Xf.h()/100)})};gY.prototype.WI=function(x){if(x.target==this._q)this.aC7();
var J=this.G6.h();if(J)p.ml(this.T7,"disabled");else p.na(this.T7,"disabled");this._();this.Th.Gf=!0;
this.L8(this.Th);this.Th.Gf=!1};gY.prototype.aC7=function(){var x=this.T7;if(x==null){var J=this.aAy,o=this.G6=new j8([0,6]);
o.k(L.E.A,this.WI,this);J.appendChild(o.n);x=this.T7=p.i("span","disabled");J.appendChild(x);this._q=new i3(null,["Kind",[12,48]],[]);
this._q.k(L.E.A,this.WI,this);var c=this.Mw=[new fA(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new cA(null,null,8)];
c[0].k(L.E.A,this.WI,this);c[1].k("input",this.WI,this)}p.LX(x);x.appendChild(this._q.n);x.appendChild(this.Mw[this._q.h()].n)};
gY.prototype.afL=function(x){this.W3();this.aBk(x,this.aqI)};gY.prototype.aiX=function(x){this.W3();
this.aBk(x,this.aca)};gY.prototype.aBk=function(x,J){var o=x.currentTarget;if(p.j5(J.n))return;x.stopPropagation();
var c=o.getBoundingClientRect();J._();J.update(this.Th);J.parent=this;var E=new ko(L.E.N,!0);E.data={d:L.H.c4,BM:J,x:c.left,y:c.top,ajf:!0};
this.c(E)};gY.prototype.ary=function(x){this.nT({d:h.apR})};gY.prototype.aDt=function(x){this.nT({d:this.Th.g.length>1?h.z9:h.ag})};
gY.prototype.as8=function(x){this.nT({d:h.H5})};gY.prototype.afR=function(x){var J=this.Th;if(J.g.length==0)return;
var o=J.B[J.g[0]],c=o.tB;this.nT({d:c<=0?o.Hn?h.fH:h.ni:c==3?h.vM:h.Z5})};gY.prototype.a4d=function(x){this.nT({d:h.wN})};
gY.prototype.nT=function(x){var J=new ko(L.E.f,!0);J.data=x;J.v=n.uH;this.c(J)};gY.prototype.dX=function(){var x=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],J=[this.a4d,this.aiX,this.ary,this.afL,this.aDt,this.as8,this.afR],o=this.acR.bind(this);
for(var $=0;$<x.length;$++){var c=new eH("W",!1,x[$]);this.fS.push(c);p.Ra(c.n,J[$].bind(this));this.j8.appendChild(c.n);
if($>=x.length-3){var E=c.n;E.addEventListener("drop",o,!1);E.addEventListener("dragover",function(b){b.preventDefault()},!1);
E.addEventListener("dragenter",p.NV,!1)}}};gY.prototype.acR=function(x){p.NV(x);var J=0,o=this.fS;while(o[J].n!=x.currentTarget)J++;
o[J].jH();var c=x.dataTransfer.getData("Text");if(c=="")return;var c=JSON.parse(c);if(c.jP=="l"){var E={d:[h.z9,h.gc,h.ni][J-4]};
if(this.Th.g.indexOf(c.CX)==-1)E.a=c.CX;this.nT(E)}if(J!=6)return;if(c.jP=="sm"||c.jP=="s"){var b=new ko(L.E.f,!0);
b.v=n.yq;b.data={d:c.jP=="sm"?"st_clear":"st_delsingle",a:c.CX,CX:c.pe};this.c(b)}if(c.jP=="fm"||c.jP=="f"){this.nT({d:c.jP=="fm"?h.Av:h.am,src:c.CX,pe:c.pe})}if(c.jP=="m"||c.jP=="vm"){this.nT({d:c.jP=="m"?h.Z5:h.fH,a:c.CX})}};
function a0(x,J,o,c,E,b,l,i){gB.call(this);this.parent=J;this.Al=l;this.Gs=x;b.push(this);this.l6=o;
this.At=c;var F=J.rV,k=x.a,U=o.g.indexOf(x.index)!=-1,N=null;this.yA=p.i("div",U?"head selected":"head");
if(k.add.artb!=null){p.na(this.yA,"artb");i=k.uc()}var I=this.as2=Math.floor(10+k.apN/p.IJ()),V="height: "+I+"px;";
if(U&&E.au_)V+="background-color:rgba(255,50,50,0.4);";this.yA.setAttribute("style",V);this.IN=i;var u=this.amq=this.a5r.bind(this),e=E.a7t&&!this.abv();
if(!e){if(x.depth!=0){F.appendChild(this.yA);l+=I}if(k.tg()||k.AD())if(k.vX()){N=this.akh=p.i("div","lpineck");
F.appendChild(N);if(k.tg()){N.addEventListener("contextmenu",u,!1);var B=new gY.PK(h9.get([12,1]),"sm","layerstyle",x.depth,0,null);
l+=21;B.parent=this;N.appendChild(B.n);var j=k.add.lmfx,T=j.masterFXSwitch.v;B.Ut(T);for(var $=0;$<bs.order.length;
$++){var a=j[bs.x0[$]].v;if(a.length==0)continue;for(var P=0;P<a.length;P++){var B=new gY.PK(h9.get(bs.names[$]),"s","layerstyle",x.depth,1,[$,P]);
l+=21;B.Ut(T&&a[P].v.enab.v);B.parent=this;N.appendChild(B.n)}}}if(k.AD()){var v=k.O5(o).F;if(v)this.Fx=p.i("div","thumb");
var B=new gY.PK(h9.get([12,55]),"fm",null,x.depth,0,-1,v?this.Fx:null);l+=v?I:21;B.parent=this;N.appendChild(B.n);
this.arw=B.n;this.arw.addEventListener("contextmenu",u,!1);var j=k.add.SoLd.filterFX.v,R=j.filterFXList.v,T=j.enab.v;
B.Ut(T);for(var $=R.length-1;$>=0;$--){var y=R[$].v,t=fn.sJ(y);if(dv.jh[t])t=dv.jh[t];var g=y.Nm.v;if(fn.names[t])g=h9.get(fn.names[t]);
if(dv.names[t])g=h9.get(dv.names[t]);var H="afw_"+t,B=new gY.PK(g,"f",H,x.depth,1,$);l+=21;B.Ut(T&&y.enab.v);
B.parent=this;N.appendChild(B.n)}}}}var _=k.add.lclr;if(_==null)_=0;_=_==0?c.xK:a0.hj[_];this.ac0=_;
if(k.Zk()&&(k.add.lsct==es.tI||E.a7t)){var Y={xK:_,_X:c._X||k.Sm(31)};for(var $=x.children.length-1;
$>=0;$--){var K=new a0(x.children[$],J,o,Y,E,b,l,i);l=K.a8m}}this.a8m=l}a0.prototype=new gB;a0.hj=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
a0.prototype.ag7=function(){if(this.sq)return;var x=this.Gs,J=x.a,o=this.l6,c=this.At,I=!0,Y=!1;x.dh(o,this.IN,!0);
var E=p.i("div","headL"),b=p.i("div","headR");this.yA.appendChild(E);this.yA.appendChild(b);var l=this.yA;
l.setAttribute("draggable","true");l.addEventListener("dragstart",this.Ix.bind(this),!1);l.addEventListener("drop",this.zm.bind(this),!1);
l.addEventListener("dragover",this.nK.bind(this),!1);l.addEventListener("dragenter",p.NV,!1);l.addEventListener("dragleave",this.kD.bind(this),!1);
var i=[],F=[null,null,null,null],k=J.kR(),U=x;while(U.parent){U=U.parent;k=k&&U.a.kR()}if(J.$j){for(var $=x.index-1;
$>=0;$--){var V=o.B[$];if(!V.$j){I=V.kR();break}}}var u=J.kR()?k&&I?2:1:0;this.sq=p.i("div");var N=p.i("div",u==0?"sqr":"eye");
this.sq.appendChild(N);N.style.opacity=[.12,.33,1][u];var e=p.i("div","space");this.pu=p.i("div","label");
this.pu.setAttribute("style","max-width:calc(100% - "+(96+x.depth*20)+"px); margin-top:"+(this.as2-19)/2+"px;"+(J.j1?"text-decoration:underline;":""));
this.pu.textContent=J.getName();this.CF=p.i("div","lock");this.ae0=p.i("div","lrfx");this.Ko=p.i("div","arfx");
var B=this.amq,j=this.a2h.bind(this);this.yA.addEventListener("click",j,!1);this.yA.addEventListener("contextmenu",B,!1);
var T=this.ac0;if(T!=0){var a=[T>>16,T>>8&255,T&255];for(var $=0;$<3;$++){a[$]="calc("+a[$]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.sq.setAttribute("style","background-color:rgba("+a.join(",")+",1);")}var P=this.a33.bind(this);
this.sq.addEventListener("mousedown",P,!1);this.sq.addEventListener("mouseover",P,!1);this.Ko.addEventListener("click",this.ahs.bind(this),!1);
i[0]=this.sq;i[1]=e;i[10]=this.pu;if(J.Zk()){var v=p.i("div","arrow"),R=p.i("div","folder");this.b_(R);
v.addEventListener("click",this.abK.bind(this),!1);i[2]=v;i[3]=R;v.className=J.add.lsct==es.tI?"open":"closed"}else{this.Ez=p.i("div","thumb");
i[5]=this.Ez;a0.ob(this.Ez,J.PB);this.b_(this.Ez);if(dv.get(J.add))p.na(J.PB.canvas,"gsicon")}var y=J.Da();
if(y){this.LW=p.i("div","chain");this.pB=p.i("div","thumb");a0.ob(this.pB,J.V$,!0);this.LW.style.opacity=y.uM?1:0;
this.LW.addEventListener("click",this.a54.bind(this),!1)}var t=J.A0()&&J.add.vmsk;if(J.add.vmsk&&!t){this.Xw=p.i("div","chain");
this.WG=p.i("div","thumb");a0.ob(this.WG,J.tT,!0);this.Xw.style.opacity=J.add.vmsk.uM?1:0;this.Xw.addEventListener("click",this.afk.bind(this),!1)}if(J.AD()&&J.vX()&&J.O5(o).F){a0.ob(this.Fx,J.b6,!1);
this.b_(this.Fx);this.Fx.addEventListener("click",j,!1);this.Fx.addEventListener("contextmenu",B,!1)}if(x.index==o.g[0]){var g=J.tB,H;
if(g<=0)H=this.Ez;else if(g==1)H=this.pB;else if(g==3)H=this.Fx;if(H)H.className="thumb active";if(J.Hn&&this.WG)this.WG.className="thumb active"}e.setAttribute("style","width:"+Math.max(0,x.depth-1)*18+"px");
var _=J.add.lspf!=null&&J.add.lspf!=0||c._X;this.CF.style.opacity=J.Sm(31)?1:.5;i[4]=J.$j?p.i("div","clipp"):null;
i[6]=y?this.LW:null;i[7]=y?this.pB:null;i[8]=J.add.vmsk&&!t?this.Xw:null;i[9]=J.add.vmsk&&!t?this.WG:null;
var K=J.vc,f=o.g;if(K!=0)for(var $=0;$<f.length;$++)if(o.B[f[$]].vc==K){Y=!0;break}if(Y){F[0]=p.i("div",J.yG?"link":"linkX");
F[0].addEventListener("click",this.aq4.bind(this),!1)}F[1]=_?this.CF:null;F[2]=J.tg()?this.ae0:null;
F[3]=J.tg()||J.AD()?this.Ko:null;this.Ko.className=J.vX()?"arfx open  gsicon":"arfx closed  gsicon";
var m=i;for(var $=0;$<m.length;$++)if(m[$])E.appendChild(m[$]);m=F;for(var $=0;$<m.length;$++)if(m[$])b.appendChild(m[$])};
a0.ob=function(x,J,o){var c=J.canvas;p.Op(c);if(o)x.setAttribute("draggable","true");x.appendChild(c);
c.setAttribute("style",c.getAttribute("style")+"; pointer-events:none")};a0.prototype.b_=function(x){p.Ra(x,function(J){if(this.parent.ws[3]==0)return;
p.nA(J);p.iU(document.body,function(){clearTimeout(this.ayl)}.bind(this));this.ayl=setTimeout(function(){var o=new ko("rclick",!0);
o.data={a:this.Gs.index,tB:this.tB(J),UL:p.x2(J,document.body)};this.c(o)}.bind(this),600)}.bind(this))};
a0.s0=function(x,J){var o=J.getBoundingClientRect();return(x.clientY-o.top)/o.height};a0.prototype.Ix=function(x){x.stopPropagation();
var J=x.target==this.pB?"m":x.target==this.WG?"vm":"l";x.dataTransfer.setData("Text",JSON.stringify({jP:J,CX:this.Gs.index}))};
a0.prototype.kD=function(x){p.NV(x);this.EX()};a0.prototype.zm=function(x){p.NV(x);this.EX();var J=x.dataTransfer.getData("Text"),o=this.parent.Th,c=a0.s0(x,this.yA),E=this.Gs.index;
if(c>.8){var b=!0,l=o.root.qX(E);while(l.parent!=null){var i=l.parent,F=i.children;if(F.indexOf(l)!=0)b=!1;
l=l.parent}if(b){E=0;c=1}}if(J==""){p.kX(x,this,this.parent.pz.indexOf(o),E+(c>.5?0:1))}else if(J!="--panel"){var J=JSON.parse(J),k=J.jP;
if(k=="l")this.nT({d:h.z5,source:J.CX,target:E,vL:c});else if(k=="m"||k=="vm")this.nT({d:k=="m"?h.ah8:h.fv,src:J.CX,NK:E});
else a0.a6n(x,J,this)}};a0.a6n=function(x,J,o,c){var E=J.jP,b=o.Gs.index,l=J.CX;if(E=="s"||E=="sm")o.nT({d:h.PY,src:l,NK:b,pe:J.pe});
if(E=="f"||E=="fm")o.nT({d:h.aoa,src:l,NK:b,pe:J.pe,VS:c==null?0:c})};a0.prototype.nK=function(x){p.NV(x);
var J=a0.s0(x,this.yA),o=this.Gs.a.Zk()&&.5<J&&J<.8;this.EX();var c="inset 0 "+(o?0:J>.5?-3:3)+"px "+(o?"5px black":"0 rgba(0,0,0,0.5)");
this.yA.style.boxShadow=c};a0.prototype.EX=function(x){this.yA.style.boxShadow=""};a0.aqG=-1;a0.$C=!1;
a0.a3W=function(x){a0.$C=!1;document.body.removeEventListener("mouseup",a0.a3W)};a0.prototype.a33=function(x){if(x.button!=0)return;
if(x.type=="mousedown"){a0.$C=!0;document.body.addEventListener("mouseup",a0.a3W,!1)}if(x.type=="mouseover"&&(!a0.$C||a0.aqG==this.Gs.index))return;
p.NV(x);this.nT({d:h.cm,a:this.Gs.index});a0.aqG=this.Gs.index};a0.prototype.abK=function(x){p.NV(x);
this.nT({d:h.asL,a:this.Gs.index})};a0.prototype.a54=function(x){this.nT({d:h.$n,a:this.Gs.index})};
a0.prototype.afk=function(x){this.nT({d:h.KT,a:this.Gs.index})};a0.Dj=0;a0.prototype.nn=function(x){this.nT({d:h.mx,a:this.Gs.index,name:x})};
a0.prototype.ahs=function(x){this.nT({d:h.a3Y,a:this.Gs.index})};a0.prototype.aq4=function(x){this.nT({d:h.qI,a:this.Gs.index})};
a0.prototype.a5r=function(x){if(x.button!=2&&!p.ay$(x))return;var J=this.tB(x);if(J!=3&&x.currentTarget==this.arw)J=4;
if(x.target==this.ae0||x.currentTarget==this.akh)J=5;var o=new ko("rclick",!0);o.data={a:this.Gs.index,tB:J,UL:p.x2(x,document.body)};
this.c(o)};a0.prototype.tB=function(x){var J=x.target,o=J;return o==this.WG?2:o==this.pB?1:o==this.Ez?0:o==this.Fx?3:-1};
a0.prototype.a2h=function(x){var J=x.target,u;if(J==this.sq.firstChild||J==this.Ko||J==this.LW||J==this.Xw||J.tagName&&J.tagName.toLowerCase()=="input")return;
var o=this.tB(x),c=this.parent.Th,E=this.Gs.index,b=c.B[E];if(J==this.CF){this.nT({d:h.QF,a:E,_Q:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var l=a0.Dj,i=Date.now()-l<300;a0.Dj=Date.now();if(J==this.pu){if(i){this.yA.setAttribute("draggable","false");
var F=new jj.U0(this.pu,this.nn.bind(this))}else this.nT({d:h.Ve,a:E,nJ:o,Bu:!0});return}if(x.button==0&&i){if(J==this.pu)return;
var k=new ko(L.E.f,!0),U=new ko(L.E.N,!0),I=new ko(L.E.p4,!0);if(o==0&&b.add.SoCo){var V=q.r.fL(b.add.SoCo.Clr.v);
U.data={d:L.H.yI,AN:"colorpicker",xK:V.o<<16|V.I<<8|V.J,Uh:function(B){var j=q.r.qP({J:B&255,I:B>>>8&255,o:B>>16&255});
j={classID:"null",Clr:{t:"Objc",v:j}};var T=new ko(L.E.f,!0);T.v=n.uH;T.data={d:h.d3,UO:[E],H6:!0,b:{lZ:1,h5:j}};
this.c(T)}.bind(this),hy:!0}}else if(o==0&&(dv.get(b.add)||b.add.SoCo||b.add.GdFl||b.add.PtFl))U.data={d:L.H.mW,AN:jj.iJ.Z6};
else if(o!=0&&o!=-1)U.data={d:L.H.mW,AN:jj.iJ.Z6};else if(o==0&&b.add.SoLd)I.data={bV:"placedLayerEditContents",Rx:{classID:"placedLayerEditContents"}};
else if(o==0&&b.add.TySh){k.v=n.eY;k.data={d:"editCurr",DJ:E}}else U.data={d:L.H.yI,AN:"layerstyle",a:E};
this.c(I.data?I:U.data?U:k);return}if(x.button!=0)return;if(o==1||o==3){var N=o==3?b.O5(c).F:b.Da();
u=N.AH?c.Q.U.join("")=="111"?1:2:0}var e={d:h.Ve,a:E,nJ:o,apQ:u,Bu:!0};this.nT(e)};a0.prototype.nT=function(x){var J=new ko(L.E.f,!0);
J.data=x;J.v=n.uH;this.c(J)};a0.prototype.abv=function(){var x=this.Gs.a,J=x.add,o=this.parent._q.h(),c=this.parent.Mw[o].h();
if(o==0){if(c[0]&&J.SoLd==null&&J.TySh==null&&x.xm())return!0;if(c[1]&&dv.get(J)!=null)return!0;if(c[2]&&J.TySh!=null)return!0;
if(c[3]&&J.vstk!=null)return!0;if(c[4]&&J.SoLd!=null)return!0;return!1}if(o==1)return x.getName().toLowerCase().indexOf(c.toLowerCase())!=-1};
gY.PK=function(x,J,o,c,E,b,l){gB.call(this);this.a4I=J;this.uD=o;this.index=b;this.n=p.i("div","styleitem");
this.yA=p.i("div","head");this.am5=null;if(J=="f"){var i=this.am5=p.i("div","headR");i.textContent="\u2699";
this.yA.appendChild(i)}this.sq=p.i("div","eye gsicon");this.pu=p.i("div","label");this.n.appendChild(this.yA);
this.yA.appendChild(this.sq);if(l){this.pB=l;this.yA.appendChild(l);this.yA.setAttribute("style","height: "+(26/p.IJ()+10)+"px")}this.pu.innerHTML=x;
this.n.setAttribute("style","margin-left: "+(24+c*16+E*22)+"px");this.yA.appendChild(this.pu);this.sq.addEventListener("click",this.a4G.bind(this),!1);
var F=this.n;F.setAttribute("draggable","true");F.addEventListener("dragstart",this.Ix.bind(this),!1);
if(!0){F.addEventListener("drop",this.zm.bind(this),!1);F.addEventListener("dragover",this.nK.bind(this),!1);
F.addEventListener("dragenter",p.NV,!1);F.addEventListener("dragleave",this.kD.bind(this),!1)}this.n.addEventListener("click",this.w7.bind(this),!1)};
gY.PK.prototype=new gB;gY.PK.prototype.Ix=function(x){x.stopPropagation();x.dataTransfer.setData("Text",JSON.stringify({jP:this.a4I,CX:this.parent.Gs.index,pe:this.index}))};
gY.PK.prototype.kD=function(x){p.NV(x);this.EX()};gY.PK.prototype.zm=function(x){p.NV(x);this.EX();var J=x.dataTransfer.getData("Text");
if(J=="")return;var J=JSON.parse(J);a0.a6n(x,J,this.parent,this.index+(a0.s0(x,this.yA)>.5?0:1))};gY.PK.prototype.nK=function(x){p.NV(x);
var J=a0.s0(x,this.yA)>.5;this.EX();var o="border-"+(J?"bottom":"top");this.yA.style[o]="0.2em solid rgba(0,0,0,0.5)"};
gY.PK.prototype.EX=function(x){this.yA.style.border="none"};gY.PK.prototype.Ut=function(x){this.sq.style.opacity=x?1:.2};
gY.PK.prototype.w7=function(x){var J=a0.Dj,o=Date.now()-J<300;a0.Dj=Date.now();if(x.target==this.sq)return;
var c=this.parent.Gs.index;if(o&&this.uD!=null){var c=this.parent.Gs.index,E=new ko(L.E.N,!0);if(this.uD.indexOf("afw_")==0){var b=this.uD.slice(4),l=jM[b]||fn.q[b],i=x.target==this.am5;
if(!i&&!l)return;E.data=n.zW.aa7(i?"blendOptions":b,{a:c,index:this.index})}else E.data={d:L.H.yI,AN:this.uD,a:c,index:this.index};
this.c(E)}else{if(x.target.className!="thumb")this.parent.nT({d:h.Ve,a:c,nJ:0})}};gY.PK.prototype.a4G=function(x){var J={fm:h.xa,f:h.Jz,sm:h.Lf,s:h.U_}[this.a4I];
this.parent.nT({d:J,a:this.parent.Gs.index,index:this.index})};function bh(){jj.call(this,"Guide Guy",!1,"---panels/guideguy",jj.iJ.ajw);
this.VE=null;this.fr=new i3(null,q.xP.Bz)}bh.prototype=new jj("");bh.prototype.aK=function(){this.oX=[];
var x=p.i("div","form padded");this.$u.appendChild(x);x.setAttribute("style","width:200px");this.$u.appendChild(x);
var J=p.i("canvas"),o=J.getContext("2d");J.width=J.height=160;var c=[32,0,16,160,0,32,160,16,0,112,160,16],E="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),b=[0,0,0,0,0,0,0,0,0,0];
x.appendChild(this.fr.n);for(var $=0;$<10;$++){o.clearRect(0,0,160,160);o.setTransform(1,0,0,1,80,80);
o.rotate(($&3)*Math.PI/2);o.translate(-80,-80);o.fillStyle="rgba(0,0,0,0.3)";if($<4){for(var l=0;l<12;
l+=4){o.fillStyle=l==0?"#000000":"rgba(0,0,0,0.3)";o.fillRect(c[l],c[l+1],c[l+2],c[l+3])}}else if($<6){var i=8*6;
o.fillRect(0,0,i,160);o.fillRect(8*7,0,i,160);o.fillStyle="#000000";o.fillRect(8*14,0,i,160)}else if($<8){o.fillRect(0,0,16,160);
o.fillRect(160-16,0,16,160);o.fillRect(32,0,160-64,160);o.fillStyle="#000000";o.fillRect(32,80-8,160-64,8*1)}else{o.fillRect(0,0,8*7,160);
o.fillRect(8*13,0,160,160);o.fillStyle="#000000";o.fillRect(8*7,80-8,8*6,8*1)}var F="<img src=\""+J.toDataURL()+"\" class=\"autoscale gsicon\" /> ",k=new f1(F,0,200,null,$==4||$==5?0:2,null,null,4,E[$]);
k.parent=this;k.k(L.E.A,this.aem,this);k.w(b[$]);k._();this.oX.push(k);x.appendChild(k.n)}var U=[[11,14],[11,15,0]];
this.Hj=[];for(var $=0;$<U.length;$++){var I=new eH(U[$],!0,null,!0);this.Hj.push(I);I.k("click",this.bp,this);
x.appendChild(I.n)}for(var $=0;$<6;$++){o.setTransform(1,0,0,1,80,80);o.rotate(Math.floor($/3)*Math.PI/2);
o.translate(-80,-80);o.clearRect(0,0,160,160);o.fillStyle="rgba(0,0,0,0.3)";o.fillRect(0,0,160,160);
o.clearRect(16,16,128,128);o.fillStyle="#000000";var V=$%3;o.fillRect([0,9,18][V]*8,0,16,160);var F="<img src=\""+J.toDataURL()+"\" class=\"autoscale gsicon\" /> ",I=new eH(F,!1,null,!1);
this.Hj.push(I);I.k("click",this.bp,this);x.appendChild(I.n)}};bh.prototype._=function(){jj.prototype._.call(this);
this.fr._();if(this.oX==null)return;for(var $=0;$<this.Hj.length;$++)this.Hj[$]._()};bh.prototype.aem=function(x){var J=this.oX,o=J.indexOf(x.target),c=Math.floor(o/2),E=o&1,b=[];
for(var $=0;$<4;$++)b.push(J[2*$+E].h());var l=-1;if(c==2&&b[2]!=0&&b[3]!=0&&b[4]!=0)l=4;if(c==3&&b[3]!=0&&b[2]!=0&&b[4]!=0)l=4;
if(c==4&&b[4]!=0&&b[2]!=0&&b[3]!=0)l=3;if(l!=-1)J[2*l+E].w(0)};bh.prototype.bp=function(x){var J=this.VE,o=this.Hj.indexOf(x.target),c=[[],[]];
if(J==null)return;var E=J.u?J.u.rect:new ha(0,0,J.m,J.e),b=E.m,l=E.e;if(o==0){var i=[[],[]],F=this.fr.h();
for(var $=0;$<this.oX.length;$++){var k=this.oX[$].h();k=q.xP.Uf(k,J.yV,J.m,F);i[$&1].push(k)}var U=[bh.aaf(i[0],E.x,E.x+b),bh.aaf(i[1],E.y,E.y+l)];
c=bh.Fr(U);n.fp.iP(c,J.yl())}else if(o==1){}else{o-=2;var I=Math.floor(o/3),U=[[],[]];U[I].push([E.x,E.x+b/2,E.x+b,E.y,E.y+l/2,E.y+l][o]);
c=bh.Fr(U);n.fp.iP(c,J.yl())}this.aA6(c)};bh.Fr=function(x){var J=[],o=[];for(var c=0;c<2;c++)for(var $=0;
$<x[c].length;$++){J.push([c,x[c][$]]);o.push(-1)}return[J,o]};bh.prototype.aqF=function(x){var J=this.adT.indexOf(x.target)};
bh.prototype.aA6=function(x){var J=new ko(L.E.f,!0);J.v=n.ug;J.data={d:"gids",mu:x};this.c(J)};bh.aaf=function(x,J,o){var c=[],E=x[2],b=x[3],l=x[4],i=0;
if(E==0)i++;if(b==0)i++;if(l==0)i++;if(i>1&&E==0&&b==0){if(x[0]!=0)c.push(J+x[0]);if(x[1]!=0)c.push(o-x[1]);
return c}var F=o-J-x[0]-x[1];if(E==0){if(l==0){E=Math.floor(F/b);l=(F-E*b)/(E-1)}else{E=1;while(b*E+l*(E-1)+b+l<=F)E++}}else if(E!=0&&b!=0){if(E*b>F)E=Math.floor(F/b);
l=(F-E*b)/(E-1)}c.push(J+x[0],o-x[1]);var b=(F-l*(E-1))/E;for(var $=1;$<E;$++){if(l==0)c.push(J+x[0]+$*b);
else c.push(J+x[0]+$*b+($-1)*l,J+x[0]+$*b+$*l)}return c};bh.prototype.L8=function(x,J,o){this.VE=x};
bh.prototype.qv=function(){if(p.j5(this.$u)&&this.oX==null)this.aK();this._()};bh.prototype.DL=function(x){this.fr.w(x.Km.jm)};
function hL(){jj.call(this,[9,2],!1,"---panels/properties",jj.iJ.Z6);this.asr=null;this.l6=null;this.Vh=null;
this.amm=-1;this.KW=null}hL.prototype=new jj("");hL.prototype.ip=function(x,J){this.Qh=x;this.ao=J;x=x-16;
J=J-30;var o=this.KW;if(o){o.style.width=x+"px";o.style.height=J+"px";for(var $=0;$<3;$++)this.Mi[$].ip(x-12,J)}};
hL.prototype.aK=function(){this.KW=p.i("div","padded scrollable");this.$u.appendChild(this.KW);var x=p.i("span");
this.KW.appendChild(x);this.gC=[new eH([0,3]),new eH([12,73]),new eH([12,91,0])];for(var $=0;$<this.gC.length;
$++){var J=this.gC[$];J.k("click",this.amt,this);x.appendChild(J.n);if($==2)J.n.style.marginRight="0"}this.KW.appendChild(p.i("hr"));
this.tZ=new hL.zJ;this.tZ.parent=this;this.r$=new hL.Bf;this.r$.parent=this;this.Ry=new hL.Go;this.Ry.parent=this;
this.Mi=[this.tZ,this.r$,this.Ry];this.KW.appendChild(this.tZ.n);this.j8=p.i("div","lpfoot");this.$u.appendChild(this.j8);
this.fS=[];for(var $=0;$<3;$++){var J=new eH("W");J.k("click",this.tc,this);this.fS.push(J);this.j8.appendChild(J.n)}this.ip(this.Qh,this.ao)};
hL.prototype.tc=function(x){var $=this.fS.indexOf(x.target),J=new ko(L.E.f,!0);J.v=n.uH;if($==0)J.data={d:h.LE};
if($==1)J.data={d:h.cm};if($==2)J.data={d:h.ni};this.c(J)};hL.prototype.amt=function(x){var $=this.gC.indexOf(x.currentTarget);
this.IM($);this.am1($==1?this.r$.hP:-1)};hL.prototype.IM=function(x){for(var $=0;$<3;$++){this.gC[$].jH();
var J=this.Mi[$].n;if(J.parentNode==this.KW&&$!=x)this.KW.removeChild(J);if(J.parentNode!=this.KW&&$==x)this.KW.appendChild(J)}this.gC[x].V2()};
hL.prototype.am1=function(x){var J=this.l6.g[0],o=this.l6.B[J],c=x+1;if(x==1&&o.Hn)return;var E=new ko(L.E.f,!0);
E.v=n.uH;if(x!=1&&o.Hn){E.data={d:h.Ve,a:J,nJ:2};this.c(E)}E.data={d:h.Ve,a:J,nJ:c};this.c(E)};hL.prototype._=function(){jj.prototype._.call(this);
if(this.KW==null)return;this.L8(this.l6);for(var $=0;$<3;$++){this.gC[$]._();this.Mi[$]._()}f8.Zl(this.fS,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
hL.prototype.qv=function(){if(!p.j5(this.$u))return;if(this.KW==null){this.aK();this.DL(this.Vh,h4.y_);
this.L8(this.asr);this._()}};hL.prototype.L8=function(x){this.asr=x;if(this.KW==null)return;this.tZ.L8(x);
this.r$.L8(x);this.Ry.L8(x);if(x==null||x.g.length==0||x.B[x.g[0]]==null){p.na(this.$u,"disabled");this.l6=null;
return}else p.ml(this.$u,"disabled");var J=x.g[0],o=x.B[J];this.fS[0].w(o.$j);this.fS[1].w(o.kR());var c=x.l$(),E=c[0],b=c[1];
if(b.length!=0){var l=E[b[0]],i=l.add.vogk,F=!1;if(i)for(var $=0;$<i.length;$++){var k=i[$].v;if(!q.WE.B8(k))continue;
F=!0;J=l.cD}}J+=","+F;if(x!=this.l6||this.amm!=J){this.l6=x;this.amm=J;if(F)this.IM(2);else if(o.tB<1&&!o.Hn||dv.get(o.add))this.IM(0);
else this.IM(1)}this.gC[1].po(this.r$.hP!=-1);this.gC[2].po(F)};hL.prototype.DL=function(x,J){this.Vh=x;
if(this.tZ)this.tZ.DL(x,J);if(this.Ry)this.Ry.DL(x,J)};hL.zJ=function(){gB.call(this);this.n=p.i("div","form");
this.af6=new dr("Hello");this.Pb=new eH([1,12,2],null,null,!0);this.Pb.n.style.aqU="right";this.Pb.k("click",this.r1,this);
this.n.appendChild(this.af6.n);this.n.appendChild(this.Pb.n);this.Ub=null;this.fx=null;this.l6=null;
this.Vh=null;this.a4r=-1;this.au2=null;this.cy=null;this.ES=new k4(0,!0,!0);this.ES.parent=this;this.ES.k(L.E.A,this.ap3,this);
this.n.appendChild(this.ES.n);this.Md=new cp(!0);this.Md.parent=this;this.Md.k(L.E.A,this.asN,this);
this.Lb=p.i("div","marged hiline");this.Lb.appendChild(this.Md.n);this.OS=new ba("GrFl",!0);this.OS.parent=this;
this.OS.k(L.E.A,this.aeg,this);this.de=p.i("div","marged hiline");var x="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var $=0;$<x.length;$++){var J=this.OS.Vd[x[$]].n;this.de.appendChild(J)}this.WR=new ba("patternFill",!0);
this.WR.parent=this;this.WR.k(L.E.A,this.awS,this);this.Td=p.i("div","marged hiline");var x=["Ptrn","Angl","Scl","Algn","phase"];
for(var $=0;$<x.length;$++){var J=this.WR.Vd[x[$]].n;this.Td.appendChild(J)}this.JI={};for(var o in dv.names){if(jM[o]==null)continue;
this.JI[o]=new jM[o];this.JI[o].k(L.E.A,this.atu,this);this.JI[o].parent=this}var c=this.a8d=p.i("div","marged hiline");
this.Ee=new k4(0,!0);c.appendChild(this.Ee.n);this.Ee.k(L.E.A,this.Iz,this);this.av2=null;this.q8=new gy;
this.q8.parent=this;this.q8.k(L.E.A,this.Iz,this);c.appendChild(this.q8.n)};hL.zJ.prototype=new gB;hL.zJ.prototype.ap3=function(x){var J=this.ES.h(),o=this.cy,c=new ha(J[0],J[1],J[2],J[3]);
if(c.U5(o))return;this.cy=c;var E=new ko(L.E.f,!0);if(o.m==c.m&&o.e==c.e){E.v=n.ug;E.data={d:"trsl",k2:c.x-o.x,h0:c.y-o.y}}else{E.v=n.Ih;
E.data={d:"scl",wd:[2,4],b:new ck(c.m/o.m,c.e/o.e),vQ:0}}this.c(E)};hL.zJ.prototype.ip=function(x,J){var o=this.JI;
for(var c in o)o[c].ip(x,J)};hL.zJ.prototype.r1=function(x){var J=this.l6,o=J.B[J.g[0]],c=dv.get(o.add);
this.fx.w(fn.Bt(c));this.atu()};hL.zJ.prototype._=function(){for(var x in this.JI)this.JI[x]._();this.OS._();
this.WR._();this.q8._();this.Ee._();this.Pb._();this.ES._()};hL.zJ.prototype.Iz=function(x){var J=new ko(L.E.f,!0),o=this.Ee.h(),c=this.av2;
if(x.target==this.Ee&&o[2]==c[2]&&o[3]==c[3]){J.v=n.ug;J.data={d:"trsl",k2:o[0]-c[0],h0:o[1]-c[1]}}else{var E=h.yk(new ha(o[0],o[1],o[2],o[3])),b=this.q8.afW();
b.artboardRect={t:"Objc",v:E};var l=this.l6,i=l.B[l.g[0]],F=i.add.artb.guideIndeces;if(F)b.guideIndeces=JSON.parse(JSON.stringify(F));
J.v=n.uH;J.data={d:h.Ru,Ls:b}}this.c(J)};hL.zJ.prototype.asN=function(x){var J=this.l6,o=J.g[0];if(J.B[o].add.SoCo==null)return;
var c=JSON.parse(JSON.stringify(J.B[o].add.SoCo));c.Clr.v=this.Md.h();this.JF({lZ:1,h5:c})};hL.zJ.prototype.aeg=function(x){var J=this.l6,o=J.g[0];
if(J.B[o].add.GdFl==null)return;this.JF({lZ:2,h5:this.OS.h()})};hL.zJ.prototype.awS=function(x){this.JF({lZ:3,h5:this.WR.h()})};
hL.zJ.prototype.JF=function(x){this.aeL(n.uH,{d:h.d3,UO:[this.l6.g[0]],H6:!0,b:x})};hL.zJ.prototype.atu=function(x){this.aeL(n.pC,{d:"edit_layer",b:this.fx.h()})};
hL.zJ.prototype.aeL=function(x,J){var o=new ko(L.E.f,!0);o.v=x;o.data=J;this.c(o)};hL.zJ.prototype.L8=function(x,J){var o=h9.get([0,3]),c=!1,E=!1,b=null;
this.l6=x;if(x&&x.B.length>0&&x.g.length!=0&&x.B[x.g[0]]){var l=x.B[x.g[0]],i=dv.get(l.add);if(i!=null&&this.JI[i]!=null){b=this.JI[i].n;
this.fx=this.JI[i];this.JI[i].w(JSON.parse(JSON.stringify(l.add[i])));if(x.g[0]!=this.a4r){var F=x.or(x.g[0]-1);
this.au2=q.Hu(F)}this.JI[i].RY(this.au2);o=h9.get(dv.names[i]);c=!0}if(i==null&&l.add.artb==null){var k=this.cy=q.O.uS(n.Y.mZ(x));
E=!k.Kx();this.ES.w([k.x,k.y,k.m,k.e],[x.yV,x.m,this.Vh.Km.jm])}if(l.add.SoCo){b=this.Lb;this.Md.w(l.add.SoCo.Clr.v);
o=h9.get([6,48,0,0])}if(l.add.GdFl){b=this.de;this.OS.update(x,l.add.GdFl);o=h9.get([6,48,0,1])}if(l.add.PtFl){b=this.Td;
this.WR.update(x,l.add.PtFl);o=h9.get([6,48,0,2])}if(l.add.artb){var U=l.add.artb,I=l.uc();b=this.a8d;
this.q8.af4(U);var V=this.av2=[I.x,I.y,I.m,I.e];this.Ee.w(V,[x.yV,x.m,this.Vh.Km.jm]);o=h9.get([1,16,0])}this.a4r=x.g[0]}if(b!=this.Ub){if(this.Ub)this.n.removeChild(this.Ub);
if(b!=null)this.n.appendChild(b);this.Ub=b}this.af6.w(o);this.Pb.n.style.display=c?"":"none";this.ES.n.style.display=E?"":"none"};
hL.zJ.prototype.DL=function(x,J){this.Vh=x;this.OS.DL(x,J);this.WR.DL(x,J);if(J==h4.MU)this.L8(this.l6,x);
for(var o in this.JI)this.JI[o].DL(x,J)};hL.Bf=function(){gB.call(this);this.n=p.i("div","form");this.l6=null;
this.hP=0;var x=p.i("span","fitem");this.n.appendChild(x);this.gC=[new eH([6,2]),new eH([6,3]),new eH([6,50])];
for(var $=0;$<this.gC.length;$++){var J=this.gC[$];J.k("click",this.a3U,this);x.appendChild(J.n)}this.fb=new fb([12,74],0,255);
this.fb.k(L.E.A,this.ZL,this);this.n.appendChild(this.fb.n);this.I$=new fb([7,6],0,500,"px",2,!0);this.I$.k(L.E.A,this.ZL,this);
this.n.appendChild(this.I$.n);this.BS=new eH([4,11],null,null,!0);this.BS.k("click",this.aeC,this)};
hL.Bf.prototype=new gB;hL.Bf.prototype.aeC=function(){var x=new ko(L.E.f,!0);x.v=n.pC;x.data={d:"start",fI:"nvrt"};
this.c(x)};hL.Bf.prototype.ZL=function(x){var J=this.fb.h(),o=this.I$.h(),c=new ko(L.E.f,!0);c.v=n.uH;
c.data={d:h.tN,XP:this.l6.g[0],b1:{Nz:this.hP,fb:J,I$:o}};this.c(c)};hL.Bf.prototype._=function(){for(var $=0;
$<this.gC.length;$++)this.gC[$]._();this.fb._();this.I$._();this.BS._()};hL.Bf.prototype.L8=function(x){this.l6=x;
this.bK()};hL.Bf.prototype.a3U=function(x){this.bK(this.gC.indexOf(x.currentTarget));this.parent.am1(this.hP)};
hL.Bf.prototype.bK=function(x){var J=this.l6,o=this.gC;for(var $=0;$<3;$++){var c=o[$];c.jH();c.gt()}if(J==null||J.B.length==0||J.g.length==0||J.B[J.g[0]]==null)return;
var E=-1,b=J.B[J.g[0]];if(b.AD()&&b.O5(J).F!=null){o[2].G0();E=2}if(b.add.vmsk){o[1].G0();E=1}if(b.Da()){o[0].G0();
E=0}if(x!=null)E=x;else if(b.Hn)E=1;else if(b.tB==3)E=2;else if(b.tB==1)E=0;this.hP=E;if(E==-1){this.fb.gt();
this.I$.gt();return}var l=b.vw(E);this.fb.G0();this.I$.G0();this.fb.w(l.fb);this.I$.w(l.I$);o[E].V2();
var i=this.BS.n;if(E==0)this.n.appendChild(i);else if(i.parentNode==this.n)this.n.removeChild(i)};hL.Go=function(){gB.call(this);
this.n=p.i("div","form");this.VE=null;this.Vh=null;this.El=-1;this.ES=new k4(0,!1);this.O7=new fb([12,15],-180,180,"\xB0",2);
this.Cj=new k4(1,!0);this.Cn=new fb([12,94,0],0,100,null,2);this.Ev=new fb([12,78],3,30);this.A9=new eH(["\u279C  ",[12,76,0]],null,null,!0);
this.ES.k(L.E.A,this.As,this);this.O7.k(L.E.A,this.As,this);this.Cj.k(L.E.A,this.As,this);this.Cn.k(L.E.A,this.As,this);
this.Ev.k(L.E.A,this.As,this);this.A9.k("click",this.As,this)};hL.Go.prototype=new gB;hL.Go.prototype._=function(){this.ES._();
this.O7._();this.Cj._();this.Cn._();this.Ev._()};hL.Go.prototype.As=function(x){var J=this.VE,o=q.WE.LH(J),c=x.target.h(),E=[this.ES,this.O7,this.Cj,this.Cn,this.Ev,this.A9].indexOf(x.target);
if(E==0){var b=[];b[0]=c[0];b[1]=c[1];b[2]=b[0]+c[2];b[3]=b[1]+c[3];c=b}if(E==1)c=c*Math.PI/180;var l={0:1,1:2,2:3,3:3,4:4}[E];
o[l]=c;var i=new ko(L.E.f,!0);i.v=n.uH;i.data={d:h.R2,b:o,adP:E==5};this.c(i)};hL.Go.prototype.L8=function(x){var J=this.n;
this.VE=x;if(x==null)return;var o=this.Vh,c=[x.yV,x.m,o.Km.jm],E=q.WE.LH(x),b=E[0],l=E[1];if(l==null)return;
var i=b!=this.El;this.El=b;if(i)p.LX(J);if(i)J.appendChild(this.ES.n);if(i)J.appendChild(this.O7.n);
this.ES.w([l[0],l[1],l[2]-l[0],l[3]-l[1]],c);this.O7.w(E[2]*180/Math.PI);if(b==2){if(i)J.appendChild(this.Cj.n);
var F=E[3];this.Cj.w(F,c)}if(b==7||b==8){if(i)J.appendChild(this.Cn.n);this.Cn.w(E[3])}if(b==8){if(i)J.appendChild(this.Ev.n);
this.Ev.w(E[4])}J.appendChild(this.A9.n)};hL.Go.prototype.DL=function(x,J){this.Vh=x;this.L8(this.VE)};
function bi(x){jj.call(this,x.name,!0);this.Th=x;this.XK=null;this.E8=new dI(this.$u);this.E8.parent=this}bi.prototype=new jj;
bi.o3=function(){var x=document.createElement("canvas"),J=document.createElement("canvas"),o=16,c=q.R(16*16*4);
q.iQ(c,o,o,8);var E=q.scale.ye(c,o,o);return{hW:x,xG:J,T3:x.getContext("2d",{willReadFrequently:!0}),Af:J.getContext("2d"),fQ:E}}();
bi.prototype.ayI=function(){if(this.Th.kG())return window.confirm(h9.get([22,6,3])+" "+this.Th.name+". "+h9.get([22,6,4]));
return!0};bi.prototype.DL=function(x,J){this.XK=x};bi.prototype.L8=function(x){this.qv();this.A1()};
bi.prototype.ip=function(x,J){if(x<=0||J<=0)return;this.Qh=x;this.ao=J;var o=this.Th,c=bi.o3,E=p.IJ();
o.Q.T3.m=Math.floor(x*E);o.Q.T3.e=Math.floor(J*E);p.Pi(c.hW,x,J);p.Pi(c.xG,x,J);p.Pi(ai.T6(),x,J);if(o.Q.Z==0)o.Q.Z=n.FF.cM(o.m,o.e,x*E,J*E);
this.A1()};bi.prototype.qv=function(){var x=this.$u.firstChild,J=bi.o3,o=ai.mB&&b5==0;if(!o&&x==ai.T6()||o&&x==J.hW)this.$u.removeChild(x);
var c=o?ai.T6():J.hW;if(!p.j5(c))this.$u.appendChild(c)};bi.prototype.A1=function(){if(this.XK==null)return;
var x=this.Th,J=ai.mB&&b5==0;if(J)this.aAm();else this.m1()};bi.prototype.aAm=function(){if(ai.mB&&bi.da==null){var x=bi.da=[],J=[0,2,8,32,128];
for(var $=0;$<5;$++)x[$]=[new bi.e2(!1,J[$],!1),new bi.e2(!0,J[$],!1)];x.push([new bi.e2(!1,0,!0),new bi.e2(!0,0,!0)])}var o=this.Th,c=bi.o3,N,j=0,t,g;
if(o.b0==null)return;var E=o.Q,b=E.T3.m,l=E.T3.e,i=ai.n9;c.T3.clearRect(0,0,b,l);var F=this.atL(o);if(E.gD==null||E.gD.m!=b||E.gD.e!=l)E.gD=new ai.HC(b,l);
if(F){var k=Date.now(),U=l,I=new Uint8Array(c.T3.getImageData(0,0,b,U).data.buffer);E.gD.set(I,new ha(0,0,b,U));
this.Lv=!0}else if(this.XK.Q2){if(this.Lv){ai.FW(E.gD);ai.Ja(1);this.Lv=!1}var V=q.xP.kg,I=new Uint8Array(o.Q.Su.data.buffer);
E.gD.set(I,new ha(0,0,V,l));var I=new Uint8Array(o.Q.NP.data.buffer);E.gD.set(I,new ha(0,0,b,V));var I=new Uint8Array(c.T3.getImageData(0,l-V,b,V).data.buffer);
E.gD.set(I,new ha(0,l-V,b,V));this.Lv=!0}else if(this.Lv){ai.FW(E.gD);ai.Ja(1);this.Lv=!1}var u=E.OY(0,0);
if(bi.ato==null)bi.ato=new Float32Array(4*1024);var e=[0,0,0,0],B=bi.ato;if(o.add.artd){B.fill(0);e=bi.s4(o);
var T=o.m,a=o.e,y=0;for(var $=0;$<o.B.length;$++){var P=o.B[$],v=P.add.artb;if(v==null||!P.kR())continue;
var R=P.uc();B[j]=R.x/T;B[j+1]=R.y/a;B[j+2]=R.m/T;B[j+3]=R.e/a;j+=4;if(j==B.length)break}if(j>2*4)y++;
if(j>8*4)y++;if(j>32*4)y++;N=bi.da[y+1];B=new Float32Array(B.buffer,0,[2,8,32,128][y]*4)}else N=bi.da[o.Yb?5:0];
var H=o.$E();if(H==null)N=N[0];else{N=N[1];g=H[o.add.fcmy==1?6:4];t=H[2]}ai.H7(b,l);ai.Ja(0);ai.H7(b,l);
N.g5();var _=new cW;_.scale(b,l);_.concat(E.AY(!0));_.scale(1/o.m,1/o.e);var Y=[_.V,_.J,0,_.xt,_.Lu,0,_.Iw,_.s7,1];
N.rZ(E.gD.Hp,o.b0.Hp,new Float32Array(Y),new Float32Array([b/8,l/8,u.x/b,u.y/l]),o.m,o.e,1/o.Q.Z,b,l,new Float32Array(e),B,new Float32Array(q.Dk.NB(q.Dk.a2m(E.U))),g,t);
i.drawArrays(i.TRIANGLES,0,6)};bi.s4=function(x){return[0,0,0,0]};bi.ar0=function(x){var J=q.r.fL(x.v),o=[J.o/255,J.I/255,J.J/255,1];
for(var $=0;$<4;$++)o[$]=Math.min(1,o[$]);return o};bi.a_=function(x,J){var o=x[2]*255;if(ai.mB)o=J?0:Math.max(2,o);
return"rgba("+x[0]*255+","+x[1]*255+","+o+","+x[3]+")"};bi.nr=function(x){var J=x.length;if(ai.mB)for(var $=0;
$<J;$+=4){if(x[$+2]==0)x[$+2]=3}};bi.prototype.m1=function(){var x=this.Th,J=bi.o3;if(b5==0&&x.buffer==null)return;
var o=x.Q,c=o.T3,E=c.m,b=c.e,l=new ha(0,0,x.m,x.e);J.Af.clearRect(0,0,E,b);J.T3.clearRect(0,0,E,b);var i=o.AY(!0),F=i.clone();
F.Mr();if(x.add.artd==null){J.T3.save();var k=F.iI(new ck(0,0));F.translate(-k.x,-k.y);J.T3.translate(Math.round(k.x),Math.round(k.y));
J.T3.fillStyle=b5==0?J.fQ:"#ffffff";if(x.Yb)J.T3.fillRect(-5e3,-5e3,2e4,2e4);else{var U=x.add.arts;if(b5==1)for(var $=0;
$<U.length;$++){var I=q.O.Cg(U[$].YP);this.Mh(q.O.ny(I),F,J.T3);J.T3.fill()}else{this.Mh(q.O.ny(l),F,J.T3);
J.T3.fill()}}J.T3.restore()}else{J.T3.fillStyle=bi.a_(bi.s4(x));J.T3.fillRect(0,0,E,b);J.T3.save();J.T3.setTransform(F.V,F.J,F.xt,F.Lu,F.Iw,F.s7);
var V=x.root.children;for(var $=0;$<V.length;$++){var u=V[$].a;if(u.add.artb==null||!u.kR())continue;
var N=u.uc(),e=u.kz();if(e!=0)continue;J.T3.fillStyle=J.fQ;J.T3.save();J.T3.scale(1/o.Z,1/o.Z);J.T3.fillRect(o.Z*N.x,o.Z*N.y,N.m*o.Z,N.e*o.Z);
J.T3.restore()}J.T3.restore()}if(o.gK.length!=c.P()){o.gK=q.R(c.P());o.Q_=q.R(c.P()*4)}o.Q_.fill(0);
if(b5==1){var F=o.AY(!0);F.Mr();J.T3.save();var B=q.O.ny(o.T3);q.O.M(B.j,o.AY(!0),B.j);var I=q.O.ql(B.j);
J.T3.setTransform(F.V,F.J,F.xt,F.Lu,F.Iw,F.s7);x.root.arJ(x,J.T3,this.XK,I);J.T3.restore()}else{q.scale.aaE(x.buffer,l,i,o.Q_,c,x.Yb);
var j=x.$E();if(j)ICC.U.applyLUT(j[x.add.fcmy==1?5:3],j[2],o.Q_,o.Q_);if(o.U[0]+o.U[1]+o.U[2]!=3)q.Dk.a7O(o.Q_,o.Q_,q.Dk.a2m(o.U));
J.Af.putImageData(new ImageData(new Uint8ClampedArray(o.Q_.buffer),c.m,c.e),0,0);J.T3.drawImage(J.xG,0,0);
J.T3.getImageData(0,0,1,1)}this.atL(x)};bi.prototype.atL=function(x){var J=x.Q,o=J.U[0]+J.U[1]+J.U[2],c=bi.o3,E=!1,b=[];
for(var $=0;$<x.g.length;$++){var l=x.B[x.g[$]];if(l==null)continue;var i=l.tB;if(i!=1&&i!=3)continue;
var F=i==1?l.Da():l.O5(x).F;if(F.AH)b.push(F)}for(var $=0;$<x._w.length;$++)if(x._w[$].AH)b.push(x._w[$]);
for(var $=0;$<b.length;$++){var F=b[$];this.a5i(F,J,b.length==1&&o==0?2:1,F.color,F.xK);E=!0}var k=this.XK;
E=this.akV(x,c.T3,J,b.length!=0)||E;if(x.u&&k.ms&&k.Km.Fe){this.a5i(x.u,J,0,0,null);E=!0}return E};bi.prototype.a5i=function(x,J,o,c,E){var b=0;
if(E)b=Math.round(E.J)<<16|Math.round(E.I)<<8|Math.round(E.o);var l=J.AY(!0),i=J.T3,F=new ha(0,0,J.Th.m,J.Th.e),k=bi.o3;
if(J.Q_==null||J.Q_.length!=i.P()*4){J.gK=q.R(i.P());J.Q_=q.R(i.P()*4)}J.gK.fill(c);J.Q_.fill(0);var U=x.channel,I=x.rect;
q.scale.M(U,I,l,J.gK,i);if(o==0){var V=new Uint32Array([4278190080,4294967295]);bi.nr(new Uint8Array(V.buffer));
q.u.a2e(J.gK,J.Q_,i,V,p.IJ()>1.9)}else{var u=Date.now();q.u.a3A(J.gK,J.Q_,i,o,b);bi.nr(J.Q_)}var N=new ImageData(new Uint8ClampedArray(J.Q_.buffer),i.m,i.e);
k.Af.putImageData(N,0,0);k.T3.save();if(o!=0){var e=new ha(0,0,F.m,F.e),B=l.clone();B.Mr();this.Mh(q.O.ny(e),B,k.T3);
k.T3.clip()}k.T3.drawImage(k.xG,0,0);k.T3.restore()};bi.prototype.akV=function(x,J,o,c){var E=x.t.w0!=null||x.t.XV!=null||x.t.ha!=null||x.t.Ap!=null||x.t.QP.length!=0||x.t.MJ.length!=0,b=this.XK,l=b.Km,i=a8.Qm[b.zI],F=Math.round(12*p.IJ()),k=F/x.Q.Z,U=o.AY(!0);
U.Mr();J.save();J.setTransform(U.V,U.J,U.xt,U.Lu,U.Iw,U.s7);var I=bi.s4(x)[0];I=I<.5?I+.5:I-.5;I=""+Math.round(I*255).toString(16);
while(I.length<2)I="0"+I;J.font=k+"px sans-serif";if(x.add.artd){J.fillStyle="#"+I+I+I;for(var $=0;$<x.B.length;
$++){var V=x.B[$];if(V.add.artb==null||!V.kR())continue;var u=V.uc();J.save();J.beginPath();J.rect(u.x,u.y-2*k,u.m,2*k);
J.clip();J.fillText(V.getName(),u.x+2,u.y-k*.7);J.beginPath();J.restore();E=!0}}if(x.add.arts&&b.QJ==n.atw){var N=x.add.arts;
for(var $=0;$<N.length;$++){var u=N[$],e=q.O.Cg(u.YP),B=($+1+"").padStart(2,"0");B+=" - "+u.LB;J.save();
J.beginPath();J.fillStyle=u.g?"#cce6ff":"#dddddd";J.rect(e.x,e.y,J.measureText(B).width+k,k*1.5);J.fill();
J.fillStyle="black";J.fillText(B,e.x+k/2,e.y+k*1.1);J.restore()}E=!0}function j(jd){return jd==1||jd==2||jd==4||jd==5}var T=bi.a_([.3,.5,1,1]),a=bi.a_([1,1,1,1]);
if(b.ms&&l.yB){J.fillStyle=J.strokeStyle=T;J.lineWidth=1.5/o.Z;var P=x.l$(),v=P[0],R=P[1];for(var y=0;
y<R.length;y++){var V=v[R[y]],t=V.add.vmsk,g=t.$,H=q.O.uG(g);this.Mh(H,null,J);J.stroke();E=!0;var _=3*p.IJ()/o.Z;
for(var $=0;$<t.wD.length;$++){var Y=q.p.aav(g,t.wD[$]);if(Y==null)continue;var K=Y.x,f=Y.y;J.beginPath();
var m=$==0;if(t.pn)m=!m;if(m){J.moveTo(K-_,f-_);J.lineTo(K+_,f+_);J.moveTo(K-_,f+_);J.lineTo(K+_,f-_);
J.stroke()}else{J.arc(K,f,_*1,0,2*Math.PI);J.fill()}E=!0}if(x.g.length!=1)continue;var C=-1;for(var $=0;
$<g.length;$++){if(g[$].type>5)continue;if(g[$].type==0||g[$].type==3){if(g[$].sm!=-1)C++;continue}if(t.g.indexOf(C)!=-1){var K=g[$].L.x,f=g[$].L.y;
J.fillRect(K-_*.8,f-_*.8,2*_*.8,2*_*.8)}if(t.tx.indexOf($)!=-1){var Z=g[$],A=[Z.L];J.beginPath();J.moveTo(Z.HN.x,Z.HN.y);
J.lineTo(Z.L.x,Z.L.y);J.lineTo(Z.Dq.x,Z.Dq.y);var d=g[$-1],G=g[$+1];if(d&&j(d.type)&&t.tx.indexOf($-1)==-1){J.moveTo(d.L.x,d.L.y);
J.lineTo(d.Dq.x,d.Dq.y);A.push(d.Dq)}if(G&&j(G.type)&&t.tx.indexOf($+1)==-1){J.moveTo(G.L.x,G.L.y);J.lineTo(G.HN.x,G.HN.y);
A.push(G.HN)}J.stroke();if(!Z.L.U5(Z.HN))A.push(Z.HN);if(!Z.L.U5(Z.Dq))A.push(Z.Dq);for(var r=0;r<A.length;
r++){var Y=A[r],K=Y.x,f=Y.y;if(r==0&&(Z.type==2||Z.type==5))J.fillRect(K-1.2*_,f-1.2*_,2.4*_,2.4*_);
else{J.beginPath();J.arc(K,f,_*1.2,0,2*Math.PI);J.fill();if(r!=0)J.fillStyle=a;J.beginPath();J.arc(K,f,_*.8,0,2*Math.PI);
J.fill();J.fillStyle=T}}}E=!0}}}J.lineWidth=1/o.Z;if(x.t.wp){J.fillStyle=J.strokeStyle=T;var G={j:[],G:[]},X=bi.an9;
if(X==null){X=bi.an9={j:[1,0],G:["M"]};for(var $=1;$<30;$++){var w=Math.PI*2*$/30;X.j.push(Math.cos(w),Math.sin(w));
X.G.push("L")}X.G.push("Z","M","L","M","L");X.j.push(-.5,0,.5,0,0,-.5,0,.5)}for(var $=0;$<x.t.wp.length;
$++){var d=n.s8.afq(x.t.wp[$],o),S=new cW(d[0],0,0,d[0],d[1],d[2]);q.O.concat(G,X,S)}this.Mh(G,null,J);
J.stroke();E=!0}var z=new cW(1,0,0,1,.5/o.Z,.5/o.Z);if(x.Yb){J.fillStyle=J.strokeStyle=T;var G={j:[0,0,x.m,0,x.m,x.e,0,x.e],G:["M","L","L","L","Z"]};
this.Mh(G,z,J);J.stroke();E=!0}if(x.t.qr){J.fillStyle=J.strokeStyle=bi.a_([0,0,0,.5]);this.Mh(x.t.qr,null,J,!0);
J.fill("evenodd")}J.strokeStyle=T;J.fillStyle=a;if(x.t.ha){this.Mh(x.t.ha,z,J);J.stroke()}var s=bi.qV(x.t.Xc,J,o);
J.fill();J.stroke();E=E||s;J.fillStyle=J.strokeStyle=bi.a_([0,0,0,ai.mB&&b5==0?1:.5],!0);if(x.t.w0){this.Mh(x.t.w0,null,J);
J.fill()}if(x.t.XV){this.Mh(x.t.XV,z,J);J.stroke()}for(var M in x.t.R_)if(x.t.R_[M].XV){this.Mh(x.t.R_[M].XV,null,J);
J.stroke();E=!0}var s=bi.qV(x.t.EY,J,o);J.stroke();E=E||s;if(x.t.UD.length+x.t.X5.length+x.t.wR.length!=0){E=!0;
J.fillStyle=a;bi.qY(x.t.UD,J,o,6);J.fill();bi.qY(x.t.X5,J,o,6);J.fill();J.fillStyle=T;bi.qY(x.t.UD,J,o,4);
J.fill();bi.qY(x.t.wR,J,o,4);J.fill();J.fillStyle=bi.a_([.7,.7,.7,1]);bi.qY(x.t.X5,J,o,4);J.fill()}if(x.t.QP.length!=0){for(var $=0;
$<x.t.QP.length;$++){var Q=x.t.QP[$],O=Q[1],W;if(c){W=J.getImageData(O.x,O.y,O.m,O.e);q.l.j6("norm",Q[0],O,new Uint8Array(W.data.buffer),O,O,1)}else W=new ImageData(new Uint8ClampedArray(Q[0].buffer),O.m,O.e);
J.putImageData(W,O.x,O.y)}}var e9=.5/o.Z;J.lineWidth=1/o.Z;if(x.t.Ad){E=!0;var jV=x.t.Ad,co=jV.DE,H={G:[],j:[]};
for(var $=0;$<jV.f6.length;$++)q.O.concat(H,q.O.ny(jV.f6[$]));H.j=H.j.concat(co);for(var $=0;$<co.length;
$+=4){H.G.push("M","L")}for(var $=0;$<H.j.length;$++){H.j[$]+=e9}J.strokeStyle=bi.a_([.9,.2,.2,1]);this.Mh(H,null,J);
J.stroke();var dz=p.IJ(),eh=2/o.Z;J.font=k*.9+"px sans-serif";for(var $=0;$<co.length;$+=4){var K=co[$],f=co[$+1],a9=co[$+2],kB=co[$+3],dc=Math.sqrt((kB-f)*(kB-f)+(a9-K)*(a9-K));
dc=q.xP.Cx(dc,x.yV,b,f==kB?x.m:x.e);var eT=new ck((K+a9)/2,(f+kB)/2);J.fillStyle=bi.a_([.9,.2,.2,1]);
var fv=J.measureText(dc).width;J.fillRect(eT.x-fv/2-eh*dz,eT.y-3.5*eh*dz,fv+2*eh*dz,7*eh*dz);J.fillStyle=bi.a_([1,1,1,1]);
J.save();J.translate(eT.x-fv/2,eT.y+2*eh*dz);J.scale(.1,.1);J.font=k*9+"px sans-serif";J.fillText(dc,0,0);
J.restore()}}if(b.ms){if(l.Um&&x.Q.Z>10&&b5==0){this.iQ(x,J,1,1,.25,l.h4,16777215);E=!0}if(l.Ju){var jS=q.xP.Uf(l.np,x.yV,x.m,l.Sb),cx=jS;
if(l.Sb==4)cx*=x.e/x.m;this.iQ(x,J,jS,cx,1,l.h4,l.m4);E=!0}if(l.Kt){var bX=x.yl(),gi=x.Eq(),cM=Math.max(x.Q.T3.m,x.Q.T3.e)/x.Q.Z;
cM=Math.max(Math.max(x.m,x.e)*2,cM);for(var $=0;$<bX[0].length;$++){var ea=bX[0][$],a1=bX[1][$];if(a1!=-1&&a1!=gi)continue;
var db=o.OY(ea[1],ea[1]),d2=o.Vx(Math.floor(db.x)+.5,Math.floor(db.y)+.5),hu=q.ix(l.Fb);hu=[hu.o/255,hu.I/255,hu.J/255,1];
if(a1!=-1)hu=[0,.5,1,1];J.beginPath();J.strokeStyle=bi.a_(hu);if(ea[0]==0){var fF=d2.x;J.moveTo(fF,-cM);
J.lineTo(fF,cM)}else{var il=d2.x;J.moveTo(-cM,il);J.lineTo(cM,il)}J.stroke();E=!0}}var f4=x.Eb;if(f4.length>0&&b.QJ==n.au1){var O=7/x.Q.Z,aK=O/3,f9=O*4;
J.strokeStyle=J.fillStyle="black";for(var $=0;$<f4.length;$++){var e0=f4[$];J.fillRect(e0.x-.5*aK,e0.y-.5*f9,aK,f9);
J.fillRect(e0.x-.5*f9,e0.y-.5*aK,f9,aK);J.lineWidth=2.5/x.Q.Z;J.beginPath();J.arc(e0.x,e0.y,O,0,2*Math.PI);
J.stroke();J.font=1.9*O+"px serif";J.lineWidth=1.25/x.Q.Z;J.strokeText(""+($+1),e0.x+.75*O,e0.y+2.5*O)}E=!0}var j7=x.IL;
if(l.IL&&j7.length!=0){J.font=k*.8+"px sans-serif";var jb=[],hN=[];for(var $=0;$<j7.length;$++){var fe=n.XN.zK(j7,$);
jb.push(fe);if(x.m8.indexOf($)!=-1)hN.push(fe)}jb.reverse();var hn=Date.now();jb=q.rect.aBR([0,0,x.m,x.e],jb);
for(var r=0;r<2;r++)for(var $=0;$<jb.length;$++){var a3=jb[$],C=a3[4],bH=C!=null?j7[C]:null;if(bH&&r==0||bH==null&&r==1)continue;
var K=Math.round(a3[0]),f=Math.round(a3[1]),a9=Math.round(a3[2]),kB=Math.round(a3[3]);J.strokeStyle=J.fillStyle=bi.a_(bH?[0,.7,.7,1]:[.8,.8,.8,1]);
J.strokeRect(K+e9,f+e9,a9-K,kB-f);var jB=$+1,jH=J.measureText(jB),fv=jH.width;J.fillRect(K,f,fv+k/2,k);
J.fillStyle=bi.a_([1,1,1,1]);J.fillText(jB,K+k/4,f+k*.8)}var eh=2/x.Q.Z,dL=2*eh;for(var $=0;$<hN.length;
$++){var a3=hN[$],K=Math.round(a3[0]),f=Math.round(a3[1]),a9=Math.round(a3[2]),kB=Math.round(a3[3]);
J.strokeStyle=J.fillStyle=bi.a_([1,.6,0,1]);J.strokeRect(K+e9,f+e9,a9-K,kB-f);var aq=[K,f,a9,f,a9,kB,K,kB];
for(var is=0;is<aq.length;is+=2){var fF=aq[is],il=aq[is+1],dh=aq[is+2&7],j_=aq[is+3&7];J.fillRect(fF-eh,il-eh,dL,dL);
J.fillRect(Math.round((fF+dh)/2)-eh,Math.round((il+j_)/2)-eh,dL,dL)}}E=!0}var cH=x.add.Anno;if(cH&&cH.length!=0)for(var $=0;
$<cH.length;$++){var bK=cH[$],hu=bK[2],fF=bK[0]-e9,il=bK[1]-e9,dL=30/o.Fo,eC=.4*dL,fp=.6*dL;J.beginPath();
J.moveTo(fF,il+fp);J.lineTo(fF,il);J.lineTo(fF+dL,il);J.lineTo(fF+dL,il+dL);J.lineTo(fF+eC,il+dL);J.closePath();
J.lineTo(fF+eC,il+fp);J.lineTo(fF+eC,il+dL);if($==x.Q.n3){J.lineWidth*=5;J.strokeStyle=bi.a_([0,0,0,.5]);
J.stroke();J.lineWidth/=5}J.fillStyle=bi.a_([hu.o/255,hu.I/255,hu.J/255,1]);J.fill();J.strokeStyle=bi.a_([0,0,0,1]);
J.stroke()}}J.strokeStyle=bi.a_([1,0,0,1]);if(x.t.Ap){this.Mh(x.t.Ap,z,J);J.stroke()}J.restore();if(b.Q2){if(x.Q.NP==null||x.Q.NP.width!=x.Q.T3.m||x.Q.Su.height!=x.Q.T3.e){x.Q.NP=J.createImageData(x.Q.T3.m,q.xP.kg);
x.Q.Su=J.createImageData(q.xP.kg,x.Q.T3.e)}var i=a8.Qm[b.zI],jq=0,az=0,de=x.m,g3=x.e;if(x.Eq()!=-1){var u=x.B[x.Eq()].uc();
jq=u.x;az=u.y;de=u.m;g3=u.e}jq*=o.Z;az*=o.Z;var o=x.Q,hJ=[1,x.yV,x.yV/2.54,x.yV/25.4,de/100][l.jm],kc=o.Z*x.m/2,bc=o.Z*x.e/2,kd=[o.Z*hJ,new ck(o.z.x+(jq+kc*hJ-kc),o.z.y+(az+bc*hJ-bc))];
if(l.jm==4)hJ*=g3/de;var jR=[o.Z*hJ,new ck(o.z.x+(jq+kc*hJ-kc),o.z.y+(az+bc*hJ-bc))],im=this.E8.nq;q.xP.aAY(o,i["--text-color"],i["--bg-input"],Math.floor(im.x),Math.floor(im.y),kd,jR);
var dO=f6.avq(o.Z,bi.a_([1,1,1,1]),x.m,x.e);bi.nr(x.Q.Su.data);bi.nr(x.Q.NP.data);J.putImageData(x.Q.Su,0,0);
J.putImageData(x.Q.NP,0,0);J.putImageData(dO,0,x.Q.T3.e-dO.height)}if(x.t.MJ.length!=0){for(var $=0;
$<x.t.MJ.length;$++){var Q=x.t.MJ[$],O=Q[1];J.putImageData(new ImageData(new Uint8ClampedArray(Q[0].buffer),O.m,O.e),O.x,O.y)}}return E};
bi.prototype.iQ=function(x,J,o,c,E,b,l){while(o*x.Q.Z<4){o*=2;c*=2}var i=x.m,F=x.e,k=.5/x.Q.Z;l=q.ix(l);
J.strokeStyle=bi.a_([l.o/255,l.I/255,l.J/255,E],!1);J.save();J.rect(0,0,i,F);J.clip();J.beginPath();
for(var U=0;U<=i;U+=o){J.moveTo(U+k,0);J.lineTo(U+k,F)}if(b==0){for(var I=0;I<=F;I+=c){J.moveTo(0,I+k);
J.lineTo(i,I+k)}}else{c*=Math.sqrt(4/3);var V=c*Math.floor(i/c),u=i*(c/(2*o));for(var I=-V;I<=F+V;I+=c){J.moveTo(0,I);
J.lineTo(i,I-u);J.moveTo(0,I);J.lineTo(i,I+u)}}J.stroke();J.restore()};bi.qY=function(x,J,o,c){J.beginPath();
var E=c*p.IJ()/o.Z,b=!1;for(var $=0;$<x.length;$+=2){b=!0;var l=x[$],i=x[$+1];J.moveTo(l+E,i);J.arc(l,i,E,0,2*Math.PI)}return b};
bi.qV=function(x,J,o,c){J.beginPath();var E=(c?c:1)*(4*p.IJ()+.5)/o.Z,b=!1;for(var $=0;$<x.length;$+=2){b=!0;
var l=x[$],i=x[$+1];J.rect(l-E,i-E,2*E,2*E)}return b};bi.lc=function(x,J,o,c){o.beginPath();if(c)o.rect(-1e5,-1e5,1e6,1e6);
var E=x;if(J){E=q.O.clone(x);q.O.M(E.j,J,E.j)}Typr.U.pathToContext({cmds:E.G,crds:E.j},o)};bi.prototype.Mh=bi.lc;
bi.e2=function(x,J,o){ai.VL.call(this);var c=J!=0,E=o?"true":"in01(sCoord)",b="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(x?"uniform sampler2D lut;  uniform float N;  "+ai.aC.bd:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(c?"uniform vec4 bgClr;  uniform vec4 ars["+J+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+ai.aC.MM+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(o?"-floor(sCoord)":"")+"); \t\t\t\t"+(x?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(c?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+J+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+E+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+E+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",l="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Rc(b,l)};bi.e2.prototype=new ai.VL;bi.e2.prototype.rZ=function(x,J,o,c,E,b,l,i,F,k,U,I,V,u){this.Si("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var N=ai.n9,e=this.KK;N.uniformMatrix3fv(e.tmat,!1,o);N.uniform4fv(e.gsize,c);N.uniform3f(e.contSizeZoom,E,b,l);
N.uniform2f(e.cnvSize,i,F);N.uniformMatrix4fv(e.ctrn,!1,I);if(this.a6X){N.uniform4fv(e.ars,U);N.uniform4fv(e.bgClr,k)}N.uniform1i(e.source,0);
N.uniform1i(e.target,1);N.activeTexture(N.TEXTURE0);N.bindTexture(N.TEXTURE_2D,x);N.activeTexture(N.TEXTURE1);
N.bindTexture(N.TEXTURE_2D,J);if(V){N.uniform1f(e.N,u);N.uniform1i(e.lut,2);N.activeTexture(N.TEXTURE2);
N.bindTexture(N.TEXTURE_2D,V.Hp);var B=N.LINEAR;N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,B);
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,B)}N.activeTexture(N.TEXTURE0)};function hp(){jj.call(this,[9,7],!1,"---panels/layercomps",jj.iJ.aoA);
this.$u.setAttribute("style","min-width:240px;");this.l6=null;this.Hh=-1;this.Kr=[];this.rV=p.i("div","scrollable");
this.rV.style.height="160px";this.$u.appendChild(this.rV);this.j8=p.i("div","lpfoot");this.$u.appendChild(this.j8);
this.Hj=[];var x=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],J=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var $=0;$<x.length;$++){var o=x[$];if($>0)o="<img src=\""+PIMG[x[$]]+"\" class=\"miniscale gsicon\" />";
var c=new eH(o,!1,J[$]);c.k("click",this.ayW,this);this.j8.appendChild(c.n);this.Hj.push(c)}}hp.prototype=new jj("");
hp.prototype.ip=function(x,J){this.$u.setAttribute("style","width:"+(x-2)+"px;");this.rV.style.height=J-28+"px"};
hp.prototype.nT=function(x){var J=new ko(L.E.f,!0);J.data=x;J.v=n.mY;this.c(J)};hp.ane="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
hp.prototype.ayW=function(x){var $=this.Hj.indexOf(x.currentTarget)-1;if($==-1){var J=new ko(L.E.N,!0);
J.data={d:L.H.w9,RU:hp.ane};this.c(J);return}if($!=1)if(this.Hh==-1)return;this.nT({d:["updLC","addLC","delLC"][$],cD:this.Hh});
if($==2)this.Hh=-1};hp.prototype._=function(){jj.prototype._.call(this);for(var $=0;$<this.Hj.length;
$++)this.Hj[$]._()};hp.prototype.L8=function(x){if(x==null)p.na(this.$u,"disabled");else p.ml(this.$u,"disabled");
this.l6=x;p.LX(this.rV);if(x==null)return;var J=x.Ib.lastAppliedComp?x.Ib.lastAppliedComp.v:0,o=x.Ib.list.v.slice(0);
o.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var $=0;$<o.length;
$++){var c=o[$].v,E=new bL(c.Nm.v,c.compID.v,c.capturedInfo.v,J,this.Hh);E.k("activate",this.Nl,this);
E.parent=this;this.rV.appendChild(E.n);this.Kr.push(E)}};hp.prototype.Nl=function(x){this.Hh=x.currentTarget.cD;
this.L8(this.l6)};function bL(x,$,J,o,c){gB.call(this);this.cD=$;this.n=p.i("div","head listitem"+($==c?" selected":""));
var E=$==o,b=new eH(E?"\u2713":"\u2014");if(E)b.V2();this.n.appendChild(b.n);b.k("click",this.AK,this);
var l=this.eJ=p.i("span");l.textContent=x;this.n.appendChild(l);this.Hj=[];if($!=0){this.n.addEventListener("mouseup",this.Nl.bind(this),!1);
this.ahG=p.i("span","headR");this.n.appendChild(this.ahG);var i=["lrs/eye","pos","lrs/fx"],F=["Visibility","Position","Appearance"];
for(var k=0;k<i.length;k++){var U=new eH("<img src=\""+PIMG[i[k]]+"\" class=\"autoscale gsicon\" />",!1,F[k]);
if((J>>k&1)==0)U.n.setAttribute("style","opacity:0.3");U.k("click",this.anQ,this);this.ahG.appendChild(U.n);
this.Hj.push(U)}}}bL.prototype=new gB;bL.prototype.Nl=function(x){if(x.target!=this.eJ&&x.target!=this.n)return;
if(x.detail==1)this.c(new ko("activate",!1));else{var J=new jj.U0(this.eJ,this.nn.bind(this))}};bL.prototype.anQ=function(x){var $=this.Hj.indexOf(x.currentTarget);
this.nT({d:"editLC",aBx:$,cD:this.cD})};bL.prototype.nn=function(x){this.nT({d:"editLC",Ii:x,cD:this.cD})};
bL.prototype.AK=function(x){this.nT({d:"setLC",cD:this.cD})};bL.prototype.nT=function(x){var J=new ko(L.E.f,!0);
J.data=x;J.v=n.mY;this.c(J)};function hw(){jj.call(this,[9,11],!1,"---panels/navigator",jj.iJ.a8O);var x=this.$u;
p.na(x,"padded");x.setAttribute("style","cursor:grab;");this.$H=p.i("canvas");x.appendChild(this.$H);
p.UF(x);p.Oo(this.$H);p.Ra(this.$H,this.sl.bind(this));this.Fk=new jQ(null,2,6400,"%",null,!0);this.Fk.k(L.E.A,this.ayf,this);
x.appendChild(this.Fk.n);this.ar7=this.N3.bind(this);this.a5e=this.js.bind(this);this.VE=null;this.jL=null;
this.oi=!1}hw.prototype=new jj("");hw.prototype.ip=function(x,J){this.Qh=x*1.2;this.ao=J*1.2;this.A1()};
hw.prototype.ayf=function(x){var J=this.Fk.h(),o=this.VE,c=J/100;if(.8<c&&c<1.2)c=1;else if(1.8<c)c=Math.round(c);
var E=new ko(L.E.f,!0);E.v=n.PE;E.data={d:"zoom",Z:c};this.c(E)};hw.prototype.sl=function(x){var J=this.VE;
if(J==null)return;this.oi=!0;p.aP(window,this.ar7);p.iU(window,this.a5e)};hw.prototype.N3=function(x){var J=p.x2(x,this.$H),o=this.VE,c=this.$H.width,E=this.$H.height,b=(J.x*p.IJ()-c/2)/c,l=(J.y*p.IJ()-E/2)/E,i=p.IJ()*o.Q.Z,F=Math.round(-o.Q.Z*o.m*b),k=Math.round(-o.Q.Z*o.e*l);
n._7.ck(o,F,k)};hw.prototype.js=function(x){p.Qx(window,this.ar7);p.Ro(window,this.a5e);this.oi=!1};
hw.prototype.L8=function(x){if(x==null&&this.VE!=null)this.$H.width=100;this.VE=x;this.A1()};hw.prototype.aby=function(){var x=this.VE,J=p.IJ(),o=n.FF.cM(x.m,x.e,J*(this.Qh-10),J*(this.ao-36)),c=q.d8(x.or(),new ha(0,0,x.m,x.e),o);
this.jL=[c.tM,c.rect]};hw.prototype.A1=function(){var x=this.VE;if(x==null||x.Q.Z==0)return;var J=x.Q;
if(!p.j5(this.$u))return;this.Fk.w(J.Z*100);if(!this.oi)this.aby();var o=this.jL[0],c=this.jL[1],E=c.m,b=c.e,l=this.$H;
l.width=E;l.height=b;p.ev(l,E,b);var i=this.$u;i.style.width=this.$H.style.width+12+"px";var F=l.getContext("2d"),k=F.createImageData(E,b);
q.N8(o,k.data);F.putImageData(k,0,0);F.getImageData(0,0,1,1);var U=J.T3,I=J.Vx(U.x,U.y),V=J.Vx(U.x+U.m,U.y+U.e),u=E/x.m;
F.scale(u,u);F.lineWidth=4/u;F.strokeStyle="#ff0000";F.strokeRect(I.x,I.y,V.x-I.x,V.y-I.y)};hw.prototype.DL=function(x,J){};
hw.prototype.qv=function(){this.A1()};function ec(x,J){jj.call(this,x.name,!1,x.icon,J);this.aA7=x}ec.prototype=new jj("");
ec.prototype.aK=function(){var x=this.$u,J=this.aA7;if(!p.j5(x)||this.Rk)return;var o=this.Rk=p.i("iframe");
o.setAttribute("src",J.url);this.$u.appendChild(o)};ec.prototype.qv=ec.prototype.L8=function(){this.aK()};
ec.prototype.hY=function(x){if(p.j5(this.Rk))this.Rk.contentWindow.postMessage(x,"*")};ec.prototype.ip=function(x,J){if(this.Rk==null)return;
this.Rk.setAttribute("style","width:"+x+"px; height:"+J+"px")};function cu(){jj.call(this,[9,12],!1,"---panels/tpreset",jj.iJ.zx);
this.Vh=null;this.u9=new hC(n.di);this.u9.parent=this;var x=p.i("div","padded");x.setAttribute("style","width:20em");
this.$u.appendChild(x);x.appendChild(this.u9.aO)}cu.prototype=new jj("");cu.prototype.qv=function(){this.u9.Rd(this.Vh.Mz)};
cu.prototype.DL=function(x,J){this.Vh=x;if(J==h4.y_||J==h4.zx)this.u9.Rd(x.Mz)};cu.prototype.ip=function(x,J){this.u9.axh(this.Vh.QJ)};
cu.prototype._=function(){jj.prototype._.call(this);this.u9._()};var a7=function(){var x=[],J=null,o=null,c=null,E=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function b(){jj.call(this,"Memory",!1,null,jj.iJ.aBi);var V=p.i("div","padded");this.$u.appendChild(V);
o=new eH(["<< VAR0",[0,13,2]],!1,null,!0);o.addEventListener("click",function(u){x.pop();i()});V.appendChild(o.n);
J=p.i("div","scrollable");J.setAttribute("style","width:20em;  height:26em; margin-top:8px;");V.appendChild(J)}b.prototype=new jj("");
b.prototype.L8=function(V,u,N){c=u;this.qv()};b.prototype.qv=function(){o.po(!1);if(!p.j5(J))return;
var V={LB:"Total:",qi:[]};for(var $=0;$<c.length;$++)V.qi.push(k(c[$]));I(V);x=[V];i()};b.prototype._=function(){jj.prototype._.call(this);
o._()};function l(V){var u=V.currentTarget,$=0;while((u=u.previousSibling)!=null)$++;x.push(x[x.length-1].qi[$-1]);
i()}function i(){o.po(x.length>1);var V=x[x.length-1];p.LX(J);F(V,J,0);V.qi.sort(function(u,N){return N.y2[0]-u.y2[0]});
for(var $=0;$<V.qi.length;$++)F(V.qi[$],J,1)}function F(V,u,N){var e=g8.if,B=N!=0&&V.qi,j="margin-left:"+N*10+"px; margin-bottom:8px; padding:3px 5px;";
if(B)j+="cursor:pointer;";if(V.jP!=null)j+="background-color:rgba("+E[V.jP].join(",")+",0.2);";var T=p.i("div");
u.appendChild(T);T.setAttribute("style",j);T.innerHTML=p.Ln(V.LB)+"<br />"+"RAM: <b>"+e(V.y2[0])+"</b>\u2001GPU: <b>"+e(V.y2[1])+"</b>";
if(B)T.addEventListener("click",l,!1)}function k(V){var u={LB:V.name,qi:[],jP:0},N=ai.mB?1:0,e=1-N,B={LB:"History",qi:[],jP:5};
u.qi.push(B);for(var $=1;$<V.history.length;$++){var j=V.history[$];B.qi.push({LB:h9.get(j.name),jP:5,y2:[j.Jg(),0]})}I(B);
var B={LB:"Final Image",y2:[V.m*V.e*4,N*V.m*V.e*4],jP:2};u.qi.push(B);for(var $=0;$<V.B.length;$++){var T=U(V.B[$]);
if(T.qi.length!=0)u.qi.push(T)}var a=V.add.lnk2;if(a)for(var $=0;$<a.length;$++){var T=a[$],P={LB:T.C0,qi:[],jP:4},v=0;
P.qi.push({LB:"Raw file",y2:[T.raw.length,0]});if(T.pH)for(var R=0;R<T.pH.length;R+=2)v+=T.pH[R].length;
if(v!=0)P.qi.push({LB:"Decoded pixels",y2:[v,0]});I(P);u.qi.push(P)}I(u);return u}function U(V){var u={LB:V.getName(),qi:[],jP:1},N=ai.mB?1:0,e=1-N,B=V.rect.P();
if(B!=0)u.qi.push({LB:"Layer pixels",y2:[B*4,N*B*4]});if(V.add.lmfx&&V.Ex.sU.type){var j=V.Ex.sU.type,v=0;
for(var T in j){var a=0;for(var P=0;P<j[T].length;P++)if(T=="ebbl"){if(j[T][P].Er)a+=j[T][P].Er.SI.P();
if(j[T][P].nD)a+=j[T][P].nD.SI.P();if(j[T][P].Hq)a+=j[T][P].Hq.SI.P();if(j[T][P].JP)a+=j[T][P].JP.SI.P()}else a+=j[T][P].SI.P();
if(a!=0)u.qi.push({LB:h9.get(bs.names[bs.order.indexOf(T)]),y2:[e*a*4,N*a*4],jP:3})}if(V.Ex.sQ)v+=B;
if(V.Ex.aJ)v+=B;if(V.Ex.hs)v+=B;if(V.Ex.hs)v+=B;if(V.Ex.ZX)v+=B;if(V.Ex.O0)v+=B;var R=V.Ex.C_?V.Ex.C_.length:0;
if(v+R!=0)u.qi.push({LB:"Additional Blending Data",y2:[e*v*4+R,N*v*4]})}var y=V.Da(),t=y?y.rect.P():0;
if(t!=0){u.qi.push({LB:"Raster Mask",y2:[t,0]})}var y=V.add.vmsk,t=y&&y.Ie?y.Ie.rect.P():0;if(t!=0){u.qi.push({LB:"Vector Mask",y2:[t,0]})}I(u);
return u}function I(V){V.y2=[0,0];for(var $=0;$<V.qi.length;$++){V.y2[0]+=V.qi[$].y2[0];V.y2[1]+=V.qi[$].y2[1]}}return b}();
function fd(){jj.call(this,[9,14],!1,"---panels/notes",jj.iJ.a7M);this.$u.setAttribute("style","min-width:240px;");
var x=p.i("div","padded");this.$u.appendChild(x);this.lU=new cA("Author");x.appendChild(this.lU.n);this.Me=p.i("textarea");
p.l8(this.Me);x.appendChild(this.Me);var J=new eH("<<",null,null,!0);x.appendChild(J.n);this.a34=J;var o=new eH(">>",null,null,!0);
x.appendChild(o.n);J.k("click",this.x6,this);o.k("click",this.x6,this);var c=this.as6=new dr("");x.appendChild(c.n)}fd.prototype=new jj("");
fd.prototype.x6=function(x){var J=x.target==this.a34?-1:1,o=this.VE,c=o.add.Anno;if(c==null)return;var E=c.length,b=o.Q.n3;
o.Q.n3=(b+J+E)%E;o.o0=!0;this.A1()};fd.prototype.A1=function(){var x=this.VE;if(x==null)return;var J=x.add.Anno;
if(J==null||J.length==0)return;var o=x.Q.n3,c=J[o];this.Me.value=c[4];this.as6.w(o+1+" / "+J.length);
this.lU.w(c[3])};fd.prototype.ip=function(x,J){if(this.Qh==x)return;this.Qh=x;J=Math.min(J,200);this.Me.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(x-10)+"px; height:"+(J-66)+"px")};
fd.prototype.L8=function(x,J,o){this.VE=x;this.A1()};function hU(){gB.call(this);this.v=0;this.Ta=null;
this.n=p.i("div","toolconf");this.u9=null;this.Ws=null;this.body=new p.i("div","body")}hU.prototype=new gB;
hU.prototype.aa4=function(x,J){this.v=x;this.Ta=J;if(n.BD[x]){var o=this.u9=new hC(x);this.n.appendChild(o.n);
o.parent=this}else{this.Ws=p.i("div");this.n.appendChild(this.Ws)}this.n.appendChild(this.body);this._()};
hU.prototype.adU=function(x,J){};hU.prototype.a9e=function(x){};hU.prototype.DL=function(x,J){if(J==h4.y_||J==h4.zx)if(this.u9)this.u9.Rd(x.Mz)};
hU.prototype.cg=function(x){};hU.prototype._=function(){if(this.u9)this.u9._();else this.Ws.innerHTML=p.e3(this.Ta,null,"toolicon");
this.fV()};hU.prototype.fV=function(){};function iN(){hU.call(this);this.q8=new gy;this.q8.k(L.E.A,this.Iz,this);
this.body.appendChild(this.q8.n)}iN.prototype=new hU;iN.prototype.fV=function(){this.q8._()};iN.prototype.Iz=function(x){var J=new ko(L.E.N,!0);
J.data={d:L.H.jT,v:this.v,KJ:this.q8.afW()};this.c(J)};iN.prototype.cg=function(x){this.q8.af4(x.Ek)};
function jA(x){hU.call(this);if(x==null)return;this.Vh=null;this.oX={};if(x.indexOf("brush")!=-1&&x.indexOf("prsr")==-1)x.push("prsr");
for(var $=0;$<x.length;$++){var J=x[$],o=null;if(J=="brush"){o=new aV}if(J=="bmode"){o=new i3([12,19,0],iP.pP,iP.QK)}if(J=="bmode0"){o=new i3([12,19,0],iP.pP.slice(23))}if(J=="emode"){o=new i3([12,36],[[9,3],[10,38]])}if(J=="opacity"){o=new f1([12,0],0,100,"%");
o.w(100)}if(J=="flow"){o=new f1([12,63],0,100,"%");o.w(100)}if(J=="smth"){o=new f1([19,3,0],0,100,"%");
o.w(0)}if(J=="samp"){o=new i3([12,36],[[12,25,4],[12,25,5],[12,46]])}if(J=="wconf"){o=new fJ;o.w([40,!0,!0])}if(J=="sall"){o=new j8([12,25,2])}if(J=="smode"){o=new i3([12,36],[[19,7,0],[19,7,1]]);
o.w(1)}if(J=="pdetail"){o=new j8([12,65]);o.V2()}if(J=="rng"){o=new i3([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
o.w(1)}if(J=="expo"){o=new f1([12,5],0,100,"%");o.w(50)}if(J=="algnd"){o=new j8([12,75]);o.w(!1)}if(J=="sfrom"){o=new i3([12,70],[[17,1],[17,3],[17,0]])}if(J=="alt"){o=new fA(null,["Alt"],!0,["Select Source"])}if(J=="qsmode"){o=new fW([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(J=="redge"){o=new eH([7,11],!1,null,!0)}if(J=="sesu"){o=new eH("Select Subject",!1,null,!0)}if(J=="setop"){o=new ef}if(J=="patch"){o=new fW(null,[[12,70],[12,71]])}if(J=="strn"){o=new f1([12,64],1,100,"%");
o.w(50)}if(J=="prsr"){o=this.oX.brush.cZ}this.body.appendChild(o.n);if(J=="prsr")continue;o.parent=this;
this.oX[J]=o;if(J=="brush")o.k(L.E.A,this.a3V,this);else if(J=="redge"||J=="sesu")o.k("click",jr.ab0,this);
else o.k(L.E.A,this.mc,this)}}jA.prototype=new hU;jA.prototype.adU=function(x,J){x=x[1];var o=this.oX;
if(x.Md)o.bmode.w(iP.$l.indexOf(x.Md.v.BlnM));if(x.Opct)o.opacity.w(x.Opct.v);if(x.flow)o.flow.w(x.flow.v);
if(x.Brsh)o.brush.w(x,J.SB.I2,J.SB.Uc);if(x.FrgC){var c=q.r.fL(x.FrgC.v),E=new ko(L.E.N,!0);E.data={d:L.H.bS,KJ:h4.uq,XC:0,b:c.o<<16|c.I<<8|c.J};
this.c(E)}this.a3V();this.mc()};jA.prototype.a9e=function(){if(n.BD[this.v]==null)return null;var x=this.oX,J;
for(var o in n.V5)if(n.V5[o]==this.v)J=o;var c=JSON.parse(JSON.stringify(x.brush.h()));c.classID=J;if(x.bmode)c.Md={t:"enum",v:{BlnM:iP.$l[x.bmode.h()]}};
if(x.opacity)c.Opct={t:"long",v:x.opacity.h()};if(x.flow)c.flow={t:"long",v:x.flow.h()};var E=this.Vh.Q6;
E={o:E>>>16,I:E>>>8&255,J:E&255};c.FrgC={t:"Objc",v:q.r.qP(E)};return["Brush Preset "+c.Brsh.v.Dmtr.v.val,c]};
jA.prototype.fV=function(){for(var x in this.oX)this.oX[x]._()};jA.prototype.cg=function(x){if(x.ai_=="showBrushOpts"){this.oX.brush.a4e(x.UL.x,x.UL.y)}for(var J in x.HT){var o=x.HT[J];
if(J!="qsmode")o*=100;if(this.oX[J])this.oX[J].w(o)}};jA.prototype.DL=function(x,J){hU.prototype.DL.call(this,x,J);
this.Vh=x;var o=this.oX.brush;if(o==null)return;if(J==h4.y_||J==h4.di)o.Rd(x.SB);if(J==h4.rO){o.w(x.SB._i,x.SB.I2,x.SB.Uc)}};
jA.prototype.a3V=function(){var x=new ko(L.E.N,!0);x.data={d:L.H.bS,KJ:h4.rO,jQ:this.oX.brush.h()};this.c(x)};
jA.prototype.mc=function(){var x=new ko(L.E.N,!0);x.data={d:L.H.jT,v:this.v};for(var J in this.oX){if(J=="brush"||J=="redge")continue;
var o=this.oX[J].h();if(["opacity","flow","smth","expo","strn"].indexOf(J)!=-1)x.data[J]=o/100;else if(J=="bmode")x.data.bmode=iP.f5[o];
else if(J=="bmode0")x.data.bmode=iP.f5[23+o];else x.data[J]=o}this.c(x)};function jr(x,J){hU.call(this);
if(x)return;this.oX={};for(var $=0;$<J.length;$++){var o=J[$],c=null;if(o=="binop")c=new ef;if(o=="feat"){c=new f1([7,6],0,100,"px");
c.w(0)}if(o=="redge")c=new eH([7,11],!1,null,!0);if(o=="sesu")c=new eH("Select Subject",!1,null,!0);
if(o=="wconf")c=new fJ;if(o=="cstr")c=new d5;if(o=="anta"){c=new j8([12,25,1]);c.w(!0)}if(o=="sall")c=new j8([12,25,2]);
if(o=="redge"||o=="sesu")c.k("click",jr.ab0,this);else c.k(L.E.A,this.mc,this);c.parent=this;this.body.appendChild(c.n);
this.oX[o]=c}}jr.prototype=new hU;jr.prototype.cg=function(x){if(x.bJ!=null)this.oX.binop.w(x.bJ);else if(x.qa){for(var J in x.qa)if(this.oX[J])this.oX[J].w(x.qa[J])}else{var o=jr.Ly;
if(o==null){var c=a2.axM(!0);o=jr.Ly=new iy(c.items,c.Sg)}o._();o.parent=this;o.update(x.j3,x.XK);var E=new ko(L.E.N,!0);
E.data={d:L.H.c4,BM:o,x:x.UB.rR+2,y:x.UB.ru+1};this.c(E)}};jr.prototype.fV=function(){for(var x in this.oX)this.oX[x]._()};
jr.ab0=function(x){var J=x.target==this.oX.sesu,o=new ko(J?L.E.f:L.E.N,!0);if(J){o.v=n.Ks;o.data={d:"bgrm",b:2}}else o.data={d:L.H.yI,AN:"redge"};
this.c(o)};jr.prototype.mc=function(){var x=new ko(L.E.N,!0);x.data={d:L.H.jT,v:this.v,qa:{}};for(var J in this.oX)x.data.qa[J]=this.oX[J].h();
this.c(x)};function iI(){jA.call(this,["brush","strn"])}iI.prototype=new jA;function bb(){jA.call(this,"brush bmode opacity flow smth prsr".split(" "))}bb.prototype=new jA;
function jp(){jA.call(this,["brush","bmode0","samp","wconf"])}jp.prototype=new jA;function dl(){jA.call(this,["brush"])}dl.prototype=new jA;
function i1(){jA.call(this,["brush","bmode","opacity","smth","prsr"])}i1.prototype=new jA;function hy(){jA.call(this,["brush","rng","expo"])}hy.prototype=new jA;
function cB(){jA.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}cB.prototype=new jA;function cJ(x){hU.call(this);
if(x==null)return;this.gC=[];this.JQ=new eH("\u2026",!1,null,!0);if(!x)this.body.appendChild(this.JQ.n);
this.JQ.k("click",this.Q$,this);this.E9=new gB;this.E9.parent=this;var J=this.E9.n=p.i("div","floatcont form"),o=[[17,0],[17,1],[11,12,0],[17,2]];
for(var $=0;$<o.length;$++){var c=new eH(o[$],!1,null,!0);this.gC.push(c);c.k("click",this.anu,this);
if(!x||$==1)J.appendChild(c.n)}this.Jn=new d5;this.Jn.k(L.E.A,this.E0,this);if(!x)this.body.appendChild(this.Jn.n);
this.LR=new eH([15,7,6],!1,null,!0);this.LR.k("click",this.anu,this);if(!x)this.body.appendChild(this.LR.n);
this.gQ=new j8([15,7,10]);this.gQ.k(L.E.A,this.E0,this);if(!x)this.body.appendChild(this.gQ.n);this.yu=new j8("Content-Aware");
this.yu.k(L.E.A,this.E0,this);if(!x)this.body.appendChild(this.yu.n);this.td=new dm;this.td.k("click",this.Mu,this)}cJ.prototype=new hU;
cJ.prototype.Q$=function(x){if(p.j5(this.E9.n))return;var J=this.JQ.n.getBoundingClientRect(),o=new ko(L.E.N,!0);
o.data={d:L.H.c4,BM:this.E9,x:J.left,y:J.top+J.height+4};this.c(o)};cJ.prototype.fV=function(){this.td._();
for(var $=0;$<this.gC.length;$++)this.gC[$]._();this.Jn._();this.gQ._();this.LR._()};cJ.prototype.cg=function(x){if(x.ue){this.Jn.a5I(x.ue[0],x.ue[1]);
return}var J=this.td.n;if(x.rf)this.body.appendChild(J);else if(this.body.contains(J))this.body.removeChild(J);
if(x.Jn)this.Jn.w(x.Jn)};cJ.prototype.Mu=function(x){var J={d:L.H.jT,v:this.v,Pk:this.td.h()?"commit":"cancel"},o=new ko(L.E.N,!0);
o.data=J;this.c(o)};cJ.prototype.anu=function(x){x.target.n.blur();var J={d:L.H.jT,v:this.v,Pk:"cropby",awK:this.gC.indexOf(x.target)};
if(x.target==this.LR)J.Pk="straighten";var o=new ko(L.E.N,!0);o.data={d:L.H.ci,BM:this.E9};this.c(o);
o.data=J;this.c(o)};cJ.prototype.E0=function(x){var J={d:L.H.jT,v:this.v,Pk:"config",J0:{UP:this.Jn.h(),Pq:this.gQ.h(),iH:this.yu.h()},aD7:x.target==this.Jn},o=new ko(L.E.N,!0);
o.data=J;this.c(o)};function jE(){cJ.call(this,!1)}jE.prototype=new cJ;function g2(){cJ.call(this,!0)}g2.prototype=new cJ;
function an(){jA.call(this,["brush","rng","expo"])}an.prototype=new jA;function ae(){jA.call(this,"brush emode opacity flow smth prsr".split(" "))}ae.prototype=new jA;
function gG(){jA.call(this,["brush","samp","wconf"])}gG.prototype=new jA;function cN(){jr.call(this,!1,["binop","feat","anta","redge","cstr"])}cN.prototype=new jr(!0);
function aD(){hU.call(this);var x=this.oX=[new i3([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new i3([12,70],[[17,1],[17,3],[17,0]]),new j8([12,20,1]),new j8([8,0])];
x[1].w(2);x[2].w(!0);for(var $=0;$<x.length;$++){var J=x[$];J.k(L.E.A,this.mc,this);this.body.appendChild(J.n)}}aD.prototype=new hU;
aD.prototype.mc=function(x){var J=this.oX,o=[];for(var $=0;$<J.length;$++)o[$]=J[$].h();var c=new ko(L.E.N,!0);
c.data={d:L.H.jT,v:this.v,qa:o};this.c(c)};aD.prototype.fV=function(){for(var $=0;$<this.oX.length;$++)this.oX[$]._()};
function bZ(){hU.call(this);this.Z8=new dQ(!1);this.Z8.parent=this;this.Z8.k(L.E.A,this.ZL,this);this.body.appendChild(this.Z8.n);
this.Z8.w(JSON.parse(bs.lC.a9J).v);this.aM=new i3(null,bs.r.names.slice(0,5));this.aM.k(L.E.A,this.ZL,this);
this.body.appendChild(this.aM.n);this.CN=new i3([12,19,0],iP.pP,iP.QK);this.CN.k(L.E.A,this.ZL,this);
this.body.appendChild(this.CN.n);this.rl=new f1([12,0],0,100,"%");this.rl.parent=this;this.rl.k(L.E.A,this.ZL,this);
this.body.appendChild(this.rl.n);this.rl.w(100);this.zA=new j8([12,23,0]);this.zA.k(L.E.A,this.ZL,this);
this.body.appendChild(this.zA.n);this.$$=new j8([12,23,3]);this.$$.k(L.E.A,this.ZL,this);this.body.appendChild(this.$$.n)}bZ.prototype=new hU;
bZ.prototype.fV=function(){this.aM._();this.CN._();this.rl._();this.zA._();this.$$._()};bZ.prototype.DL=function(x,J){hU.prototype.DL.call(this,x,J);
var o=J==h4.uq;this.Z8.Zf(x.Q6,x.xR);if(o||J==h4.f1||J==h4.y_)this.Z8.Rd(x.y9)};bZ.prototype.ZL=function(){var x=new ko(L.E.N,!0);
x.data={d:L.H.jT,v:this.v};x.data.KJ={r:this.Z8.h(),oe:bs.r.types[this.aM.h()],pn:this.zA.U9(),LS:this.$$.U9(),ahY:iP.f5[this.CN.h()],c8:this.rl.h()/100};
this.c(x)};function bI(){hU.call(this);this.B$=new j8([8,7,1]);this.body.appendChild(this.B$.n);this.B$.k(L.E.A,this.mc,this)}bI.prototype=new hU;
bI.prototype.mc=function(){var x={d:L.H.jT,v:this.v,Lo:this.B$.h()},J=new ko(L.E.N,!0);J.data=x;this.c(J)};
function bS(){hU.call(this);var x=p.i("span","fitem");this.body.appendChild(x);this.Wl=[new f1([12,15],-180,180,"\xB0"),new eH([1,12,2],null,null,!0)];
for(var $=0;$<this.Wl.length;$++){var J=this.Wl[$];J.parent=this;x.appendChild(J.n);J.k($==1?"click":L.E.A,this.xs,this)}}bS.prototype=new hU;
bS.prototype.fV=function(){for(var $=0;$<this.Wl.length;$++)this.Wl[$]._()};bS.prototype.cg=function(x){this.Wl[0].w(x.Ue*180/Math.PI)};
bS.prototype.xs=function(x){var J=this.Wl.indexOf(x.target),o=new ko(L.E.N,!0);o.data={d:L.H.jT,v:this.v,Ue:J==1?0:x.target.h()*Math.PI/180};
this.c(o)};function aA(){jA.call(this,["brush","algnd","sfrom","alt"])}aA.prototype=new jA;function au(){hU.call(this);
this.lI=new c1;this.lI.parent=this;this.body.appendChild(this.lI.SU.n);this.body.appendChild(this.lI.p0.n);
this.body.appendChild(this.lI.RQ.n);this.body.appendChild(this.lI.JO.n);var x=p.i("span","fitem");this.body.appendChild(x);
x.appendChild(this.lI.ZK.n);x.appendChild(this.lI.UW.n);x.appendChild(this.lI.Mq.n);this.b7=new i3("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.b7.k(L.E.A,this.Mu,this);this.body.appendChild(this.b7.n);this.rw=new eH([11,9],!1,null,!0);this.rw.k("click",this.abk,this);
this.body.appendChild(this.rw.n);this.td=new dm;this.td.k("click",this.Mu,this)}au.prototype=new hU;
au.prototype.fV=function(){this.td._();this.lI._();this.rw._()};au.prototype.abk=function(x){var J={d:L.H.jT,v:this.v,Pk:"showwarp"},o=new ko(L.E.N,!0);
o.data=J;this.c(o)};au.prototype.cg=function(x){if(x.Pk=="showactive")this.body.appendChild(this.td.n);
if(x.Pk=="hideactive")this.body.removeChild(this.td.n);if(x.Pk=="changeAA")this.b7.w(x._Q);if(x.Pk=="showpan"){var J=[{name:[0,1],U7:!0}],o=[{K:L.E.f,v:n.eY,C:{d:"editCurr",DJ:x.DJ}}],c=x.UB;
if(x.asd){J=[{name:["VAR0: VAR1",[0,5],[7,0]],U7:!0}];o=[{K:L.E.p4,C:n.vh.No(!0)}];var E=a2.a7G();J=J.concat(E[0]);
o=o.concat(E[1])}J.push({name:[11,9]});o.push({K:L.E.N,C:{d:L.H.jT,v:this.v,Pk:"showwarp"}});var b=new iy(J,o);
b.parent=this;b._();b.update(x.j3,x.XK);var l=new ko(L.E.N,!0);l.data={d:L.H.c4,BM:b,x:c.rR+2,y:c.ru+1};
this.c(l)}};au.prototype.DL=function(x,J){hU.prototype.DL.call(this,x,J);if(J!=h4.y_&&J!=h4.A7&&J!=h4.B5&&J!=h4.jG)return;
this.lI.w(x.Mf,x.a0,x.ii)};au.prototype.Mu=function(x){var J={d:L.H.jT,v:this.v,Pk:this.td.h()?"commit":"cancel"};
if(x.target==this.b7){J.Pk="changeAA";J._Q=this.b7.h()}var o=new ko(L.E.N,!0);o.data=J;this.c(o)};function e6(){jr.call(this,!1,["binop","feat","anta","redge"])}e6.prototype=new jr(!0);
function aa(){hU.call(this);var x=[],o="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.oI=new j8([12,85]);this.oI.w(!0);this.oI.k(L.E.A,this.mc,this);x.push(this.oI.n);this.vY=new i3(null,[[0,4],[0,3]]);
this.vY.k(L.E.A,this.mc,this);this.vY.w(1);x.push(this.vY.n);this.nC=new j8([20,1]);this.nC.k(L.E.A,this.mc,this);
x.push(this.nC.n);this.I6=new j8([12,83]);this.I6.k(L.E.A,this.mc,this);x.push(this.I6.n);this.E9=new gB;
this.E9.n=p.i("div","floatcont form");this.E9.n.setAttribute("style","max-width: 200px;");this.E9.parent=this;
var J=this.E9.n;this.a4q=new i3("Scale for exported files",["1x","2x","3x","4x"]);J.appendChild(this.a4q.n);
this.Uw=new eH(o+" PNG",!1,"Save selected layers as PNG",!0);J.appendChild(this.Uw.n);this.Uw.k("click",this.aj,this);
this.agP=new eH(o+" SVG",!1,"Save selected layers as SVG",!0);J.appendChild(this.agP.n);this.agP.k("click",this.aj,this);
var c=new eH(o,!1,"Save selected layers",!0);x.push(c.n);c.k("click",function(F){if(p.j5(this.E9.n))return;
var k=c.n.getBoundingClientRect(),U=new ko(L.E.N,!0);U.data={d:L.H.c4,BM:this.E9,x:k.left,y:k.top+k.height,uP:!0};
this.c(U)},this);var E=p.i("span","fitem");x.push(E);var b=p.i("span","fitem");x.push(b);this.Hj=[];
for(var $=0;$<8;$++){var l=$==3||$==7?[20,4,6]:[20,4,$<3?$:$-1],i=new eH("Hi",!1,l);($<4?E:b).appendChild(i.n);
i.k("click",this.aj,this);this.Hj.push(i)}for(var $=0;$<x.length;$++)this.body.appendChild(x[$]);this.a3m=x}aa.prototype=new hU;
aa.prototype.cg=function(x){var J=x.Ek,o=x.amd;this.oI.w(J.kp);this.nC.w(J.WH);this.I6.w(J.Ad);if(o){p.LX(this.body);
for(var $=0;$<o.length;$++)if(o[$]==1&&this.a3m[$])this.body.appendChild(this.a3m[$])}};aa.prototype.aj=function(x){var J=this.Hj.indexOf(x.target),o;
if(J==-1){o=new ko(L.E.N,!0);o.data={d:L.H.jT,v:this.v,XC:x.target==this.Uw?"getPNG":"getSVG",h1:this.a4q.h()+1}}else{o=new ko(L.E.f,!0);
o.v=n.ug;o.data={d:"algn",b:J}}this.c(o)};aa.prototype.mc=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.jT,v:this.v,XC:"prms",kp:this.oI.U9(),au9:this.vY.h(),WH:this.nC.U9(),Ad:this.I6.U9()};
this.c(J)};aa.prototype.fV=function(){this.oI._();this.vY._();this.nC._();this.I6._();var x="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var $=0;$<8;$++){this.Hj[$].bo(p.e3("align/"+x[$],null,"autoscale"))}};function aO(){jr.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}aO.prototype=new jr(!0);
function eJ(){jA.call(this,["setop","patch"])}eJ.prototype=new jA;function g0(){jA.call(this,["setop"])}g0.prototype=new jA;
function g7(x){var J=x==n.ayH?[]:["bmode"];jA.call(this,J.concat(["opacity","wconf","sall"]))}g7.prototype=new jA;
function eM(){jr.call(this,!1,["binop","feat","anta","redge"])}eM.prototype=new jr(!0);function al(){jr.call(this,!1,["binop","feat","anta","redge"])}al.prototype=new jr(!0);
function bR(){jr.call(this,!1,["binop","feat","redge","cstr"])}bR.prototype=new jr(!0);function jm(){hU.call(this);
this.Vh=null;this.At=null;this.Vp=[new cA("X",null,3.2,null,!0),new cA("Y",null,3.2,null,!0),new cA("W",null,3.2,null,!0),new cA("H",null,3.2,null,!0),new cA([12,15],"\xB0",3.7,null,!0),new cA(["VAR0 1",[12,80,0]],null,3.5,null,!0),new cA(["VAR0 2",[12,80,0]],null,3.5,null,!0),new eH([15,7,6],!1,null,!0),new eH([2,2],!1,null,!0)];
for(var $=0;$<this.Vp.length;$++){var x=this.Vp[$];this.body.appendChild(x.n);if($>6)x.k("click",this.ho,this)}this.Zi=0}jm.prototype=new hU;
jm.prototype.ho=function(x){var J=this.Vp.indexOf(x.target)==7,o=new ko(L.E.f,!0);if(J){if(this.Zi==0)return;
o.v=n.Ih;o.data={d:"rot",wd:[2,5],b:-this.Zi}}else{o.v=n.rk;for(var $=0;$<6;$++)this.Vp[$].w(null)}this.c(o)};
jm.prototype.cg=function(x){function J(i,F,k){var U=Math.sqrt(Math.pow(F.x-i.x,2)+Math.pow(F.y-i.y,2)),I=Math.sqrt(Math.pow(F.x-k.x,2)+Math.pow(F.y-k.y,2)),V=Math.sqrt(Math.pow(k.x-i.x,2)+Math.pow(k.y-i.y,2));
return Math.acos((I*I+U*U-V*V)/(2*I*U))}if(x==null)return;this.At=x;var o=x.aei,c=x.we,E=c.x-o.x,b=c.y-o.y;
this.Zi=-Math.atan2(b,E);if(x.Rz)this.Zi=J(c,o,x.Rz);var l=this.Vp;l[0].w(this.ty(x,o.x));l[1].w(this.ty(x,o.y));
l[2].w(this.ty(x,E));l[3].w(this.ty(x,b));l[4].w((this.Zi*180/Math.PI).toFixed(2));l[5].w(this.ty(x,ck.q6(o,c)));
if(x.Rz){l[6].w(this.ty(x,ck.q6(o,x.Rz)))}else l[6].w("")};jm.prototype.ty=function(x,J){var o=q.xP.Cx(J,x.yV,this.Vh,x.a2S,!1);
return parseFloat(o).toFixed(2)};jm.prototype.DL=function(x,J){this.Vh=x;this.cg(this.At)};jm.prototype.fV=function(){var x=this.Vp;
for(var $=0;$<x.length;$++)x[$]._();p.iO(x[2],x[3])};function c2(){jA.call(this,["brush","strn","pdetail"])}c2.prototype=new jA;
function gZ(){jA.call(this,["brush","sfrom"]);this.akJ=[];var x=[[7,12],"Remove with AI"];for(var $=0;
$<x.length;$++){var J=new eH(x[$],!1,null,!0);this.akJ.push(J);J.parent=this;this.body.appendChild(J.n);
J.k("click",this.aj2,this)}}gZ.prototype=new jA;gZ.prototype.aj2=function(x){var J=this.akJ.indexOf(x.currentTarget),o=new ko(L.E.p4,!0);
o.data=n.mv.uQ(J==0?"contentAware":"aiHeal");this.c(o)};function gF(){jA.call(this,["brush","strn"])}gF.prototype=new jA;
function hf(){jA.call(this,["brush","flow","smode"])}hf.prototype=new jA;function bq(){hU.call(this);
this.Mr=!1;var x=p.i("span","fitem");this.body.appendChild(x);this._o=new fW(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
x.appendChild(this._o.n);this._o.k(L.E.A,this.mc,this);this.SW=new eH([20,2]);this.body.appendChild(this.SW.n);
this.SW.k("click",this.at1,this);this.eE=new eH([20,3]);this.body.appendChild(this.eE.n);this.eE.k("click",this.at1,this);
this.B$=new j8([8,7,1]);this.body.appendChild(this.B$.n);this.B$.k(L.E.A,this.mc,this)}bq.prototype=new hU;
bq.prototype.fV=function(){this.SW._();this.eE._()};bq.prototype.mc=function(){var x={d:L.H.jT,v:this.v,ZD:this._o.h()==0,Lo:this.B$.h()},J=new ko(L.E.N,!0);
J.data=x;this.c(J)};bq.prototype.cg=function(x){if(this.Mr!=x.Mr)this._o.w(1-this._o.h());this.Mr=x.Mr};
bq.prototype.at1=function(x){var J=new ko(L.E.f,!0);J.v=n.PE;J.data={d:"adapt",b:x.target==this.SW?"pixel":"fitscr"};
this.c(J)};function hb(x,J){hU.call(this);if(x==null)return;this.OE=x;this.qQ={};this.aur=J;for(var $=0;
$<x.length;$++){var o=x[$],c=null;if(o=="tmode"){c=new i3(null,[[12,76,1],[12,76,0],[12,76,2]]);c.w(0);
if(J)c.a1g(2)}if(o=="make"){c=new fW("Make",[[17,2],[12,76,1]],null,!0)}if(o=="anta"){c=new j8([12,25,1]);
c.w(!0)}if(o=="binop"){c=new i3(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(o=="pshape")c=new i3(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(o=="shape")c=new g$([12,76,1]);if(o=="crad"){c=new f1([12,94,0],0,50,"px");c.w(0)}if(o=="cstr"){c=new d5}if(o=="irad"){c=new f1([12,94,1],0,100,"%");
c.w(40)}if(o=="length"){c=new f1([12,80,0],4,40);c.w(4)}if(o=="sides"){c=new f1([12,78],3,30);c.w(5)}if(o=="width"){c=new f1([12,41],1,100,"px");
c.w(5)}if(o=="tolr"){c=new f1([12,24],0,100);c.w(5)}if(o=="fstyle"){c=new eF([12,26])}if(o=="sstyle"){c=new cF}if(o=="psnap"){c=new j8([8,10])}if(o=="crnr"){c=new eH("\u2312",!1,[12,94,0],!0)}if(o=="aopts"){c=new gn;
c.w([!1,!1,50,60,0])}if(o=="smplp"){c=new eH([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}c.parent=this;
this.body.appendChild(c.n);this.qQ[o]=c;c.k(o=="crnr"||o=="smplp"?"click":L.E.A,this.mc,this)}}hb.prototype=new hU;
hb.prototype.cg=function(x){if(x.bJ!=null)this.qQ.binop.w(x.bJ);else if(x.XC=="vals")for(var J in x.agI)this.qQ[J].w(x.agI[J]);
else{var o=hb.Ly;if(o==null)o=hb.Ly=new iy([{name:"Remove Anchor Point",T:function(E){var b=E?E.l$():null;
return{T:E&&b[1].length!=0&&b[0][b[1][0]].add.vmsk.tx.length!=0}}},{name:"Remove Path",T:function(E){var b=E?E.l$():null;
return{T:E&&b[1].length!=0&&b[0][b[1][0]].add.vmsk.g.length!=0}},U7:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{K:L.E.f,v:n.S3,C:{d:"remove",Qq:!0}},{K:L.E.f,v:n.dr,C:{d:"remove"}},{K:L.E.N,C:{d:L.H.yI,AN:"makesel"}},{K:L.E.p4,C:n.LL.e6(null)},{K:L.E.p4,C:n.LL.e6("PbTl")}]);
o.parent=this;o.update(x.j3,x.XK);var c=new ko(L.E.N,!0);c.data={d:L.H.c4,BM:o,x:x.UB.rR+2,y:x.UB.ru+1};
this.c(c)}};hb.prototype.awD=function($){return null};hb.prototype.fV=function(){for(var x in this.qQ){this.qQ[x]._()}};
hb.prototype.mc=function(x){var J=new ko(L.E.N,!0),o=this.qQ;if(x.target==o.crnr){J=new ko(L.E.f,!0);
J.v=n.S3;J.data={d:"crnr"}}else if(x.target==o.smplp){J=new ko(L.E.f,!0);J.v=n.dr;J.data={d:"smplp"}}else if(x.target==o.make){var $=x.target.h();
console.log($);if($==0)J.data={d:L.H.yI,AN:"makesel"};else{J=new ko(L.E.f,!0);J.v=n.Ni;J.data={d:"newfill",jP:0}}}else if(x.target==o.fstyle){J.data={d:L.H.bS,KJ:h4.Y1,b:o.fstyle.h()}}else if(x.target==o.sstyle){J.data={d:L.H.bS,KJ:h4.x4,b:o.sstyle.h()}}else if(x.target==o.tmode){J.data={d:L.H.bS,KJ:h4.RC,b:o.tmode.h()}}else{if(o.pshape)this.he();
J.data={d:L.H.jT,v:this.v};for(var c in o)J.data[c]=o[c].h()}this.c(J)};hb.prototype.he=function(){var x=this.qQ,J=x.tmode.h(),o=x.pshape?this.awD(x.pshape.h()):this.OE,c;
if(J==0)c=["anta","make"];if(J==1)c=["anta","fstyle","sstyle"];if(J==2)c=["make","binop","fstyle","sstyle"];
var E=x.binop;if(E){var b=E.h();if(J==0){E.acG(0)}else{E.a1g(0);if(b==0){E.w(1);this.mc({target:E})}}}p.LX(this.body);
for(var $=0;$<o.length;$++){var l=o[$];if(c.indexOf(l)!=-1)continue;this.body.appendChild(x[l].n)}};
hb.prototype.DL=function(x,J){hU.prototype.DL.call(this,x,J);var o=this.qQ.fstyle,c=this.qQ.sstyle,E=this.qQ.tmode;
if(o)o.DL(x,J);if(c)c.DL(x,J);if(J==h4.y_||J==h4.mL)if(x.VP.length!=0&&this.qQ.shape){this.qQ.shape.Rd(x.VP)}if(J==h4.y_||J==h4.Y1)if(o)o.w(null,x.wB,x.Se);
if(J==h4.y_||J==h4.x4)if(c)c.w(null,x.wb,x.$c);if(J==h4.y_||J==h4.RC){var b=x._G;if(this.aur&&b==2)b=0;
if(E){E.w(b);this.he()}}};function bW(){hb.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}bW.prototype=new hb;
function jy(){hb.call(this,"tmode make anta fstyle sstyle binop".split(" "))}jy.prototype=new hb;function en(){hb.call(this,["fstyle","sstyle","smplp"]);
this.a9a=null;this.akR=null;this.ayh=null;this.BN=new i3([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.oi=new eH("\u25BC");this.oi.V2();this.pq=new eH("\u25B2");this.pq.V2();this.fl=[this.BN,this.oi,this.pq];
for(var $=0;$<this.fl.length;$++){var x=this.fl[$];this.body.appendChild(x.n);x.parent=this;x.k($==0?L.E.A:"click",this.GP,this)}}en.prototype=new hb;
en.prototype.cg=function(x){if(x.Pk=="main"){var J=this.fl,o=x.Jt;if(o){this.akR=o.clone();this.ayh=JSON.stringify(x.WE);
var c=o.g.slice(0),E=c.length;for(var $=0;$<c.length;$++)c[$]++;c.sort(function(F,k){return F-k});J[0].G0();
J[1].po(E!=0);J[2].po(E!=0);J[0].bo(E==0?"No Paths":E==1?"Path "+c[0]:"Paths "+c.slice(0,3).join(",")+(E>3?"..":""));
if(E!=0){var b=o.g[0],l=q.p.Yk(o.$,b),i=o.$[l];this.BN.w([3,0,1,2][i.sm])}}else for(var $=0;$<J.length;
$++)J[$].gt()}else hb.prototype.cg.call(this,x)};en.prototype.fV=function(){hb.prototype.fV.call(this);
this.BN._()};en.prototype.GP=function(x){if(x.target==this.BN||x.target==this.oi||x.target==this.pq){var J={},o=this.akR,c=o.$,E=o.g,b=q.p.Dd(c),l=JSON.parse(this.ayh);
E.sort(function(T,a){return T-a});if(x.target==this.BN){var i=this.BN.h();if(i<4)for(var $=0;$<E.length;
$++)c[q.p.Yk(c,E[$])].sm=[1,2,3,0][i];else{if(b<=1)return;o.$=q.p.CG(c);o.g=o.$.length==2?[]:[0];o.tx=[];
l=[q.WE.Qs()]}}else{var F=x.target==this.oi?-1:1,k=[];for(var $=0;$<b;$++){var U=q.p.Yk(c,$),I=U+1+c[U].length;
k.push(c.slice(U,I))}var V=E.slice(0);for(var $=0;$<E.length;$++)V[$]=Math.max($,Math.min(b-1-(E.length-1-$),V[$]+F));
if(E.join(",")==V.join(","))return;var u=JSON.parse(JSON.stringify(l));for(var $=0;$<E.length;$++){var N=F==-1?$:E.length-1-$,U=E[N],I=V[N];
if(U!=I){var e=k[U];k[U]=k[I];k[I]=e;e=u[U];u[U]=u[I];u[I]=e}}var B=c.slice(0,2);for(var $=0;$<k.length;
$++)B=B.concat(k[$]);o.$=B;o.g=V;l=u}J.Jt=o;J.WE=l;var j=new ko(L.E.N,!0);j.data={d:L.H.jT,v:this.v,T1:J};
this.c(j)}};function ag(){hb.call(this,["fstyle","sstyle","crnr","psnap"])}ag.prototype=new hb;function k6(){hb.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}k6.prototype=new hb;
function a_(){hb.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}a_.prototype=new hb;
function kp(){hb.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.qQ.aopts.w([!1,!0,50,60,0])}kp.prototype=new hb;kp.prototype.awD=function($){var x=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(x[$])};function kl(){hb.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}kl.prototype=new hb;
function cd(){hb.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}cd.prototype=new hb;
function h5(){jr.call(this,!1,["binop","feat","redge","sesu"])}h5.prototype=new jr(!0);function dF(){jA.call(this,["brush","qsmode","redge","sesu"])}dF.prototype=new jA;
function be(){hU.call(this);this.JL=[];for(var $=0;$<2;$++){var x=new eH($==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.JL.push(x);x.k("click",this.GP,this);this.body.appendChild(x.n)}}be.prototype=new hU;be.prototype.GP=function(x){var J;
if(this.JL.indexOf(x.target)==0){J=new ko(L.E.p4,!0);J.data={bV:"make",Rx:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{J=new ko(L.E.N,!0);
J.data={d:L.H.yI,AN:"divslice"}}this.c(J)};be.prototype.fV=function(x){for(var $=0;$<this.JL.length;
$++)this.JL[$]._()};function iR(){hU.call(this);var x=this.oW=[new eH("\u25BC",null,null,!0),new eH("\u25B2",null,null,!0),new eH([5,4],null,null,!0),new eH(["VAR0...",[15,10,22]],null,null,!0)];
for(var $=0;$<4;$++){var J=x[$];this.body.appendChild(J.n);J.k("click",this.GP,this)}}iR.prototype=new hU;
iR.prototype.GP=function(x){var J=this.oW.indexOf(x.target),o;if(J==3){o=new ko(L.E.N,!0);o.data={d:L.H.yI,AN:"divslice"}}else{o=new ko(L.E.f,!0);
o.v=n.N0;o.data={d:J==2?"delete":"reorder",dir:J==0?-1:1}}this.c(o)};iR.prototype._=function(){hU.prototype._.call(this);
for(var $=0;$<4;$++)this.oW[$]._()};function c_(x,J){hU.call(this);if(window.Typr==null||x)return;this.ao4=J;
this.O9=null;this.a0B=p.i("span","");this.a7s=p.i("span","");var o=1,c=this.Mo={vQ:new a6(null,24),QD:new f1("X",0,0,"px",0,!1,!0,4),kk:new f1("Y",0,0,"px",0,!1,!0,4),_e:new f1("W",0,0,["%","px"],2,!1,!0,5),Y0:new eH("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Du:new f1("H",0,0,["%","px"],2,!1,!0,5),at$:new f1("\u2221",0,0,"\xB0",o,!1,!0),avA:new f1("\u25B1 H",-85,85,"\xB0",o,!1,!0),a7z:new f1("\u25B1 V",-85,85,"\xB0",o,!1,!0),l5:new i3(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),io:new i3("Protect",[])};
c.l5.w(1);c.Y0.w(!0);for(var E in c){var b=c[E],l=!0;if(J&&(b==c.at$||b==c.avA||b==c.a7z||b==c.l5))l=!1;
if(!J&&b==c.io)l=!1;if(l)this.a0B.appendChild(b.n);var i=b==c.Y0?"click":L.E.A;b.k(i,this.af5,this)}this.pN=new fW("Split",fW.c5(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.pN.w(-1);this.pN.k(L.E.A,this.as0,this);this._3=new eq(!0,!0,!0);this._3.k(L.E.A,this.as0,this);
this._3.parent=this;var F=this.a7s,k=this._3;F.appendChild(this.pN.n);F.appendChild(k.CM.n);F.appendChild(k.LC.n);
F.appendChild(k.ot.n);F.appendChild(k.Zs.n);F.appendChild(k.cP.n);this.rw=new eH([11,9]);this.rw.k("click",this.aaA,this);
this.td=new dm;this.td.k("click",this.Mu,this)}c_.prototype=new hU;c_.prototype.cg=function(x){if(x.UB){var J=c_,o=this.Ly;
if(o==null)o=this.Ly=new iy(J.aBH(),J.auY(this.v));o._();o.parent=this;o.update(x.j3,x.XK);var c=new ko(L.E.N,!0);
c.data={d:L.H.c4,BM:o,x:x.UB.rR+2,y:x.UB.ru+1};this.c(c);return}p.LX(this.body);this.O9=x;if(x.Mo){var E=x.Mo.By,b=x.Mo.ng.clone(),l=Math.atan2(-b.J,b.V),i=new cW;
i.rotate(-l);b.concat(i);var F=this.Mo;F.vQ.w(x.Mo.HI);F.QD.w(x.Mo.FH.x);F.kk.w(x.Mo.FH.y);F._e.w(b.V*(F._e.uk()=="%"?100:E.m));
F.Du.w(b.Lu*(F.Du.uk()=="%"?100:E.e));F.at$.w(-l*180/Math.PI);F.avA.w(Math.atan(b.xt/b.Lu)*180/Math.PI);
F.a7z.w(0*180/Math.PI);this.body.appendChild(this.a0B);this.rw.jH();if(x.Mo.pI!=null)F.Y0.w(x.Mo.pI)}if(x.Sv){if(x.akM)this.pN.w(-1);
this._3.w(x.Sv);this.body.appendChild(this.a7s);this.rw.V2()}if(x._w)F.io.Ed(x._w);this.body.appendChild(this.td.n);
if(x.amR&&!this.ao4)this.body.appendChild(this.rw.n)};c_.prototype.af5=function(x){var J=this.Mo,o=this.O9.Mo.By;
if(x.target==J.Y0)J.Y0.w(!J.Y0.h());else if(J.Y0.U9()){var c=J.Du,E=J._e,b=o.e,l=o.m;if(x.target==J._e){c=J._e;
E=J.Du;b=o.m;l=o.e}var i=c.h()/(c.uk()=="%"?100:b);i*=E.uk()=="%"?100:l;E.w(i)}var F=[];for(var k in J)if(J[k]!=J.Y0&&J[k]!=J.vQ){var i=J[k].h();
if((J[k]==J._e||J[k]==J.Du)&&i==0){i=.1;J[k].w(i)}if(J[k]==J._e&&J[k].uk()=="px")i/=o.m/100;if(J[k]==J.Du&&J[k].uk()=="px")i/=o.e/100;
F.push(i)}var U=new ck(F[0],F[1]);if(x.target==J.vQ){this.WL({Pk:"ctyp",HI:J.vQ.h()})}else if(x.target==J.QD||x.target==J.kk){this.WL({Pk:"cen",FH:U})}else{var I=this.O9.Mo.ng.clone(),V=I.clone(),u=Math.atan2(-I.J,I.V);
V.translate(-U.x,-U.y);V.rotate(-u);var N=new cW(V.V,V.J,V.xt,V.Lu,0,0);N.Mr();V.concat(N);var e=F[2]/100,B=F[3]/100;
V.concat(new cW(e,e*Math.tan(F[6]*Math.PI/180),B*Math.tan(F[5]*Math.PI/180),B,0,0));V.rotate(-F[4]*Math.PI/180);
V.translate(U.x,U.y);this.O9.Mo.ng=V;this.WL({Pk:"trn",Mo:V,Is:J.l5.h(),Q7:J.io.h(),pI:J.Y0.h()})}};
c_.prototype.as0=function(x){var J=this.pN;this.WL(x.target==J?{Pk:"splt",b:J.h()}:{Pk:"wrp",Sv:this._3.h()})};
c_.prototype.aaA=function(x){this.WL({Pk:"switchWarp"})};c_.prototype.Mu=function(x){this.WL({Pk:this.td.h()?"commit":"cancel"})};
c_.prototype.WL=function(x){x.d=L.H.jT;x.v=this.v;var J=new ko(L.E.N,!0);J.data=x;this.c(J)};c_.prototype.fV=function(){var x=this.Mo;
for(var J in x)x[J]._();p.iO(x._e,x.Du);this.td._();this.pN._();this._3._();this.rw._()};c_.aBH=function(){var x=function(J){var o=!0;
if(J==null||J.g.length==0)o=!1;else{var E=J.g;for(var $=0;$<E.length;$++){if(J.B[E[$]].add.TySh)o=!1}}return{T:o}};
return[{name:[5,9],l1:"Shift+Alt+Ctrl + T",U7:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],T:x},{name:[2,9],T:x},{name:[11,9],T:function(J){if(J==null||J.g.length!=1)return{T:!1};
var o=J.B[J.g[0]];return{T:o.add.TySh==null&&!o.Zk()}},U7:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
c_.auY=function(x){if(x==null)x=n.Ih;return[{K:L.E.f,v:x,C:{d:"again"}},{K:L.E.N,C:{d:L.H.zq,v:x,Ek:{ns:3}}},{K:L.E.N,C:{d:L.H.zq,v:x,Ek:{ns:4}}},{K:L.E.N,C:{d:L.H.zq,v:x,Ek:{ns:2}}},{K:L.E.N,C:{d:L.H.zq,v:x,Ek:{ns:1}}},{K:L.E.N,C:{d:L.H.zq,v:x,Ek:{ns:-1}}},{K:L.E.p4,C:n.Y.zt(!0,90,!0)},{K:L.E.p4,C:n.Y.zt(!0,-90,!0)},{K:L.E.p4,C:n.Y.zt(!0,-180,!0)},{K:L.E.p4,C:n.Y.zt(!1,"Hrzn",!0)},{K:L.E.p4,C:n.Y.zt(!1,"Vrtc",!0)}]};
function kF(){c_.call(this)}kF.prototype=new c_(!0);function e1(){c_.call(this)}e1.prototype=new c_(!0);
function ei(){c_.call(this,!1,!0)}ei.prototype=new c_(!0);function eb(){hU.call(this);var x=this.OE=[new i3([12,36],["Rigid",[15,10,0],[24,4]]),new i3([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new f1([7,4],0,100,"px"),new j8("Show Mesh"),new eH("\u25BC",null,null,!0),new eH("\u25B2",null,null,!0)];
for(var $=0;$<x.length;$++){var J=x[$];J.parent=this;this.body.appendChild(J.n);J.k($<4?L.E.A:"click",this.a7I,this)}this.td=new dm;
this.td.k("click",this.Mu,this);this.body.appendChild(this.td.n)}eb.prototype=new hU;eb.prototype.fV=function(){var x=this.OE;
for(var $=0;$<4;$++)x[$]._();this.td._()};eb.prototype.cg=function(x){var x=x.KJ;for(var $=0;$<4;$++)this.OE[$].w(x[$])};
eb.prototype.a7I=function(x){var J=[];for(var $=0;$<4;$++)J[$]=this.OE[$].h();var o=this.OE.indexOf(x.target);
if(o<4)this.WL({Pk:"prm",KJ:J});else this.WL({Pk:"moveDepth",acW:o==5})};eb.prototype.Mu=function(x){this.WL({Pk:this.td.h()?"commit":"cancel"})};
eb.prototype.WL=function(x){x.d=L.H.jT;x.v=this.v;var J=new ko(L.E.N,!0);J.data=x;this.c(J)};function dR(){hU.call(this);
var x=this.oX=[new i3([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var $=0;$<x.length;$++){var J=x[$];
J.k(L.E.A,this.mc,this);this.body.appendChild(J.n)}}dR.prototype=new hU;dR.prototype.mc=function(x){var J=this.oX,o=[];
for(var $=0;$<J.length;$++)o[$]=J[$].h();var c=new ko(L.E.N,!0);c.data={d:L.H.jT,v:this.v,qa:o};this.c(c)};
dR.prototype.fV=function(){for(var $=0;$<this.oX.length;$++)this.oX[$]._()};function h0(){gB.call(this);
this.n=p.i("div","cmanager");window.alert=function(E,b){this.a6p(E,b);console.log("Alert: "+E)}.bind(this);
window.onblur=function(E){var b=this;b.mh()}.bind(this);this.Qh=0;this.ao=0;this.Sc=[];this.zP={};this.sS=p.i("div","alertcont");
this.n.appendChild(this.sS);this.aeK=p.i("div","alertcont");this.n.appendChild(this.aeK);this.uh=p.i("div","alertcont");
this.ae4=0;this.rt=-1;this.a09=null;this.JL=null;var x=this.a3r=p.i("div","alertpanel");x.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.uh.appendChild(x);var o=this.yg=p.i("input");o.setAttribute("type","text");p.l8(o);o.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
o.addEventListener("input",this.a6h.bind(this),!1);o.addEventListener("keydown",this.aDk.bind(this),!1);
x.appendChild(o);var c=this.ait=p.i("div","contextpanel scrollable");c.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
c.addEventListener("click",this.a3M.bind(this),!1);x.appendChild(c);p.Ra(document.body,this.aB2.bind(this))}h0.prototype=new gB;
h0.prototype.Zt=function(){if(p.j5(this.uh))this.n.removeChild(this.uh)};h0.prototype.a8_=function(x,J){var o=this.a09=[],c=J.are;
for(var $=0;$<a2.data.length;$++){var E=a2.data[$],b=[h9.get(E.name)],l=[$];h0.X0(E.items,b,l,o,x,J,c==null?null:c[$]==null?0:c[$])}var i=J.q;
for(var $=0;$<i.aF.length;$++){var F=i.aF[$],k=i.keys[$];for(var U=0;U<F.length;U++)o.push([["Tools",h9.get(F[U].v.name)],[-1,F[U].v.id],k?k.fm:null])}this.n.appendChild(this.uh);
var I=this.yg;I.focus();I.select();this.A1()};h0.prototype.a6h=function(x){this.rt=-1;this.A1()};h0.prototype.A1=function(){var x=this.yg.value.toLowerCase().trim().replace(/  +/g," "),J=this.a09,o=[],c=[],E=x.split(" ");
if(x!="")for(var $=0;$<J.length;$++){var b=J[$][0],l=[],i=0;for(var F=0;F<b.length;F++)l[F]=-1;for(var k=0;
k<E.length;k++)for(var F=0;F<b.length;F++){var U=b[F].toLowerCase().indexOf(E[k]);if(U!=-1){l[F]=[U,U+E[k].length];
i++;break}}if(i==E.length){o.push(J[$]);c.push(l)}}var I=[],V=this.ait;p.LX(V);for(var $=0;$<o.length;
$++){var u=o[$],N=u[0],U=c[$],e="enab",j="";if($==this.rt)e+=" active";var B=p.i("div",e);I.push(B);
V.appendChild(B);for(var F=0;F<N.length;F++){var T=U[F],a=E[F],P=N[F];if(T!=-1)P=P.slice(0,T[0])+"<span style=\"color:black\">"+P.slice(T[0],T[1])+"</span>"+P.slice(T[1]);
j+=P;if(F<N.length-1)j+=" \uFE65 "}if(u[2]&&(typeof u[2]!="string"||u[2].length==1))j+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+dG.aY(u[2])+"</span>";
B.innerHTML=j}this.JL=[o,I]};h0.prototype.aDk=function(x){var J=dG.eW,o=x.code;if(J(o,dG.Fh))this.Zt();
var c=J(o,dG.WQ),E=J(o,dG.XL),b=J(o,dG.eP);if(c||E){this.rt=Math.max(0,Math.min(this.JL[0].length-1,this.rt+(c?-1:1)));
this.A1()}if(b&&this.rt!=-1)this.aAS(this.rt)};h0.X0=function(x,J,o,c,E,b,l){if(typeof l=="number"){if(l==0)return;
if(l==1)l=null}for(var $=0;$<x.length;$++){if(l!=null&&(l[$]==0||l[$]==null))continue;var i=x[$],F=J.slice(0),k=o.slice(0),U=h9.get(i.name);
if(i.T){var I=i.T(E,b,$);if(I.hI)U=I.hI;if(I.T==!1)continue}F.push(U);k.push($);if(i.sub)h0.X0(i.sub,F,k,c,E,b,l?l[$]:null);
else c.push([F,k,i.l1])}};h0.prototype.a3M=function(x){var J=x.target;if(J.tagName.toLowerCase()=="span")J=J.parentNode;
var o=this.JL[1].indexOf(J);if(o!=-1)this.aAS(o)};h0.prototype.aAS=function(x){var J=this.JL[0][x][1];
if(J[0]==-1){var o=new ko(L.E.N,!0);o.data={d:L.H.zq,v:J[1]};this.c(o)}else{var c=a2.data[J[0]].Sg[J[1]];
for(var $=2;$<J.length;$++)c=c.sub[J[$]];var E=new ko(c.K,!0);E.v=c.v;E.data=c.C;this.c(E)}this.Zt()};
h0.prototype.ip=function(x,J){this.Qh=x;this.ao=J;this.ait.style["max-height"]=J-120+"px"};h0.prototype.anG=function(x){var J=p.i("div","alertpanel");
J.textContent=h9.get(x);this.sS.appendChild(J);this.zP[JSON.stringify(x)]=J};h0.prototype.ah9=function(x){var J=this.zP[JSON.stringify(x)];
this.sS.removeChild(J);delete this.zP[JSON.stringify(x)]};h0.prototype.a6p=function(x,J){var o=this.aeK;
for(var $=0;$<o.children.length;$++)if(o.children[$].textContent==x)return;var c=p.i("div","alertpanel tpanel");
c.textContent=x;c.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");o.appendChild(c);if(J==null)J=1500;
var E=J,b=Math.max(Date.now()+E,this.ae4+E);setTimeout(function(){c.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){o.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},b-Date.now()-30);
setTimeout(function(){o.removeChild(o.firstChild);o.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},b-Date.now());
this.ae4=b};h0.prototype.aB2=function(x){var J=this.Sc;for(var $=J.length-1;$>=0;$--){var o=J[$],c=x.target;
while(c!=null){if(c==o.n){this.mh(o);return}c=c.parentNode}}this.mh();var E=x.target;while(E!=this.uh&&E!=document.body)E=E.parentNode;
if(E!=this.uh)this.Zt()};h0.prototype.mh=function(x){var J=this.Sc;for(var $=0;$<J.length;$++){if(x&&x.ap_(J[$]))continue;
var o=J[$].n;if(!(J[$]instanceof iy))p.Wo(J[$],this.n);else this.n.removeChild(o);o.style.height="auto";
p.ml(o,"scrollable");J.splice($,1);$--}};h0.prototype.a0Y=function(x){this.mh(x.BM);var J=x.BM,o=J.n;
if(this.Sc.indexOf(J)!=-1)return;this.Sc.push(J);this.n.appendChild(o);var c=this.Qh,E=this.ao,b=x.x,l=x.y,i=this.n.getBoundingClientRect(),F=J instanceof iy,k=-1,U=E-2;
if(F||x.uP){var I=J.Mm(),V=J.ai8();if(F)I=Math.min(I,200);var u=c-I-2,N=E-V-2;if(l<N)k=2;else if(b<u)k=1;
else if(0<l-V-2)k=0;else k=3;if(x.ajf)k=0;if(x.apq)k=2;if(k==2){b=Math.min(b,u)}else if(k==1){l=Math.min(l,N)}else if(k==0){l=l-V-2;
b=Math.min(b,u);U=x.y}else if(k==3){b=b-I-2;l=Math.min(l,N)}}l=Math.max(2,l);var top=Math.round(l-i.y+this.n.offsetTop);
o.style.position="absolute";o.style["z-index"]=10;if(l+J.ai8()>U){o.style.height=U-l+"px";p.na(o,"scrollable");
if(k==3)b-=10}o.style.left=Math.round(b)+"px";o.style.top=top+"px";if(!(J instanceof iy))p.xS(J)};h0.prototype.afn=function(x){var J=x.BM,o=this.Sc.indexOf(J);
if(o==-1)return;this.Sc.splice(o,1);var c=J.n;if(!(J instanceof iy))p.Wo(J,this.n);else this.n.removeChild(J.n)};
h0.prototype.NX=function(){var x=this.Sc;return x.length==0?null:x[x.length-1]};h0.prototype.ayy=function(){this.afn({BM:this.NX()})};
function jo(){gB.call(this);this.n=p.i("div","confbar")}jo.prototype=new gB;jo.prototype.a2Z=function(x){x.parent=this;
p.LX(this.n);this.n.appendChild(x.n)};function bB(x){gB.call(this);bB.KW=this;bB.od=x;this.Vh=null;this.uy=p.i("input","");
this.uy.setAttribute("type","file");this.uy.setAttribute("multiple","");this.uy.addEventListener("change",function(J){this.fG(J.target.files,null,this.k4,null);
this.k4=null}.bind(this),!1);document.body.appendChild(this.uy);this.uy.setAttribute("style","display:none");
this.a4O=[];this.GW=!1;this.ahW=[];this.jf=!1;this.anJ={};this.k4=null}bB.prototype=new gB;bB.od=null;
bB.Wu=function(x){try{var J={};J[x.type]=x;navigator.clipboard.write([new ClipboardItem(J)])}catch(j4){console.error(j4,j4.message)}};
bB.kf=function(x,J){navigator.clipboard.read().then(function(o){for(var $=0;$<o.length;$++){try{var c=o[$],E={},b=0,l=0;
for(var i=0;i<c.types.length;i++){var F=c.types[i];b++;c.getType(F).then(function(k){var U=F;new Response(k).arrayBuffer().then(function(I){E[this.jP]=I;
l++;if(l==b)bB.a5D(E,x,J)}.bind({jP:this.jP}))}.bind({jP:F}))}}catch(j4){console.error(j4,j4.message)}}}).catch(function(o){})};
bB.alY=function(x){navigator.permissions.query({name:"clipboard-read"}).then(function(J){x(J.state)})};
bB.a5D=function(x,J,o){var c=["text/plain","image/png","text/html","text/plain"];for(var E in x)console.log(E,E.startsWith("text")?D.cA(new Uint8Array(x[E])).slice(0,100)+"...":x[E]);
for(var b=0;b<c.length;b++){var l=c[b],i=x[l];if(i==null)continue;if(l=="image/png"){bB.od({name:"image.png"},i,J,o);
return}if(l=="text/plain"){var F=D.cA(new Uint8Array(i));if(b==0)if(!F.startsWith("<!--")&&!F.startsWith("<svg"))continue;
if(o&&F.startsWith("<svg"))continue;var k=new ko(L.E.N,!0);k.data={d:L.H.aDl,b:F};J.c(k);return}if(l=="text/html"){var F=D.cA(new Uint8Array(i)),U=F.indexOf("src=\"");
if(U!=-1&&F.slice(U+5,U+9)!="http"){var V=U+10;while(F[V]!="\"")V++;var u=F.slice(U+5,V);bB.od({name:"chart.png"},hR.CR(u).buffer,J,o);
return}}}};bB.prototype.LD=function(x){if(x==null)x=[23,5];var J=JSON.stringify(x),o=this.anJ;if(o[J]==null)o[J]=0;
if(o[J]==0){var c=new ko(L.E.N,!0);c.data={d:L.H.oa,mC:x};this.c(c)}o[J]++};bB.prototype.d2=function(x){if(x==null)x=[23,5];
var J=JSON.stringify(x),o=this.anJ;if(o[J]==null)o[J]=0;o[J]--;if(o[J]==0){var c=new ko(L.E.N,!0);c.data={d:L.H.Ew,mC:x};
this.c(c)}};bB.prototype.amP=function(x,J){this.k4=x;var o=window.showOpenFilePicker;if(o&&window.self==window.top){var c=this;
o({multiple:!0}).then(function(l){var i=[];function F(k){i.push(k);if(i.length==l.length){c.fG(i,null,c.k4,null,l);
c.k4=null}else l[i.length].getFile().then(F)}l[i.length].getFile().then(F)});return}var E=this.uy;if(J)E.setAttribute("accept",J);
else E.removeAttribute("accept");var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
E.dispatchEvent(b)};bB.prototype.e0=function(x){if(x.url.indexOf("photopea.com#i")!=-1||x.url.indexOf("photopea.com/#i")!=-1){this.Yp(x.url.split("#i").pop());
return}this.a4O.push(x);this.asB()};bB.prototype.asB=function(){var x=this.a4O;if(x.length==0||this.GW)return;
this.GW=!0;var J=x.shift();this.LD();if(J._E==null)J._E={};var o=new XMLHttpRequest;o.wM=J;var c=J.url;
if(J.vg&&!c.startsWith("data:image"))c="mirror.php?url="+encodeURIComponent(c);o.open("GET",c);if(J.D6)for(var E in J.D6)o.setRequestHeader(E,J.D6[E]);
o.responseType="arraybuffer";o.onload=this.agi.bind(this);o.send()};bB.prototype.fG=function(x,J,o,c,E){for(var $=0;
$<x.length;$++){this.LD();var b=x[$],l=new FileReader;l.wM=b;l.wM.dD=o;l.wM.GH=c;l.ago=J;if(E)l.wM.J1=E[$];
l.onload=this.agi.bind(this);l.onerror=function(i){this.d2()}.bind(this);this.ahW.push([l,b])}this.uy.value=null;
this.atI()};bB.prototype.atI=function(){var x=this.ahW;if(x.length==0||this.jf)return;this.jf=!0;var J=x.shift();
J[0].readAsArrayBuffer(J[1])};bB.prototype.a3G=function(x,J,o){this.LD("Saving ...");this.Vh=J;setTimeout(o.bind({PN:x,caller:this}),50)};
bB.FS=function(x){var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(x),c=o.length,E=c%3,b=c-E,l=[],i=0,F=0,k=0;
for(var $=0;$<b;$+=3){i=o[$];F=o[$+1];k=o[$+2];l.push(J[i>>2]+J[(i&3)<<4|F>>4]+J[(F&15)<<2|k>>6]+J[k&63])}if(E==1){i=o[b];
l.push(J[i>>2]+J[(i&3)<<4]+"==")}if(E==2){i=o[b];F=o[b+1];l.push(J[i>>2]+J[(i&3)<<4|F>>4]+J[(F&15)<<2]+"=")}var U=l.join("");
return U};bB.ajo=function(x,J){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(64),i=0,F=0,k=0,I=0;
for(var $=0;$<64;$++)c[$]=o.charCodeAt($);var E=new Uint8Array(x),b=J%3,l=J-b,U=new Uint8Array(Math.floor(J/3)*4+(b==0?0:4));
for(var $=0;$<l;$+=3){i=E[$];F=E[$+1];k=E[$+2];U[I]=c[i>>>2];U[I+1]=c[(i&3)<<4|F>>>4];U[I+2]=c[(F&15)<<2|k>>>6];
U[I+3]=c[k&63];I+=4}if(b==1){i=E[l];U[I]=c[i>>2];U[I+1]=c[(i&3)<<4];U[I+2]=61;U[I+3]=61}if(b==2){i=E[l];
F=E[l+1];U[I]=c[i>>2];U[I+1]=c[(i&3)<<4|F>>4];U[I+2]=c[(F&15)<<2];U[I+3]=61}return U};bB.prototype.agi=function(x){var J,o=x.target.wM;
if(x.target instanceof XMLHttpRequest)J=x.target.response;else J=x.target.result;bB.od(o,J,this,x.target.ago);
this.d2();if(x.target instanceof XMLHttpRequest){this.GW=!1;this.asB()}else{this.jf=!1;this.atI()}};
bB.ak7=function(x,J){var o=new XMLHttpRequest;o.open("POST","https://api.imgur.com/3/image",!0);o.fh=J;
o.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");o.setRequestHeader("Content-type","application/x-www-form-urlencoded");
o.setRequestHeader("Accept","application/json");o.addEventListener("load",bB.aCl);o.send("type=base64&image="+encodeURIComponent(bB.FS(x)));
alert("Saving to Imgur ...",4e3)};bB.aCl=function(x){var J=JSON.parse(x.target.response);if(J.success){if(x.target.fh)x.target.fh(J.data.link);
else window.open(J.data.link,"Imgur")}};bB.prototype.Yp=function(x,J,o){this.LD();var c=new XMLHttpRequest;
c.responseType="arraybuffer";c.open("GET","https://f000.backblazeb2.com/file/"+(o?"pp-resources":"psdshared")+"/"+x);
c.onload=this.aok.bind(this);c.send();c.At=[Date.now(),x,J?x:null,o]};bB.prototype.aok=function(x){var J=x.target.At,o=new Uint8Array(x.target.response);
console.log(o.length+" B,",Date.now()-J[0]+" ms");for(var $=0;$<o.length;$++)o[$]=255-o[$];o=pako.inflateRaw(o);
var c=JSON.parse(D.cA(o,0,2e3));bB.od({name:c.name,k6:J[2]},o.slice(2e3).buffer,this);this.d2();if(!J[3])bB.aQ("act=0&id="+J[1])};
bB.prototype.aia=function(x,J,o,c){if(!(x instanceof ArrayBuffer))throw"e";x=new Uint8Array(x);var E=new Uint8Array(x.length+2e3),V="";
for(var $=0;$<2e3;$++)E[$]=32;D.D$(JSON.stringify({name:J}),E,0);E.set(x,2e3);x=E;x=pako.deflateRaw(x);
for(var $=0;$<x.length;$++)x[$]=255-x[$];x=x.buffer;var b=x.byteLength,l=g8.if(b),i=~~(609e5/2),F=~~(209e5/2);
if(b>i){confirm("Your file is "+l+". Our limit is "+g8.if(i)+". Delete some layers and try again.");
return}if(b>F){var k=confirm("Your file is quite large ("+l+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!k)return}var U=sha1(x),I=[];for(var $=0;$<20;$++){var u=parseInt(U.slice($*2,$*2+2),16);I.push(u);
V+=String.fromCharCode(u)}var N=btoa(V).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(bB.a13(N,c)){console.log("file already exists");
if(o)o(N);else window.open("https://www.photopea.com#i"+N+".psd");return}this.LD("Publishing ...");var e=new XMLHttpRequest;
e.At=[x,U,N,o,c];e.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+N+"&size="+b+"&bname="+c);
e.onload=this.adc.bind(this);e.send()};bB.a13=function(x,J){try{var o=new XMLHttpRequest;o.open("HEAD","https://f000.backblazeb2.com/file/"+J+"/"+x,!1);
o.send();if(o.status==200)return!0}catch(j4){return!1}return!1};bB.prototype.adc=function(x){console.log(x.target.response);
var J=JSON.parse(x.target.response),o=x.target.At,c=new XMLHttpRequest;c.open("POST",J.uploadUrl);c.setRequestHeader("Authorization",J.authorizationToken);
c.setRequestHeader("X-Bz-File-Name",o[2]);c.setRequestHeader("Content-Type","b2/x-auto");c.setRequestHeader("X-Bz-Content-Sha1",o[1]);
c.send(new Blob([o[0]]));c.onload=this.a3g.bind({Qf:this,At:o})};bB.prototype.a3g=function(x){this.Qf.d2("Publishing ...");
if(this.At[3])this.At[3](this.At[2]);else window.open("https://www.photopea.com#i"+this.At[2]+".psd");
if(this.At[4]=="psdshared")bB.aQ("act=2&id="+this.At[2]+"&fileId="+JSON.parse(x.target.response).fileId)};
bB.aQ=function(x){var J=new XMLHttpRequest;J.open("GET","/papi/img/update.php?"+x+"&rnd="+Math.random());
J.send()};bB.save=function(x,J){var o=new Uint8Array(x),c=document.createElement("a");if(typeof c.download=="string"){var E=new Blob([o]),b=window.URL.createObjectURL(E);
c.href=b;c.download=J;document.body.appendChild(c);c.click();document.body.removeChild(c)}else{var l="data:application/octet-stream;base64,"+bB.FS(x);
window.open(l)}};function ih(){this.size=16;this.data=q.R(16)}ih.prototype.Qy=function(x,J){if(x+J<=this.size)return;
var o=this.size;while(x+J>this.size)this.size*=2;var c=q.R(this.size);for(var $=0;$<o;$++)c[$]=this.data[$];
this.data=c};var iG={};iG.BV=function(x,J,o,c){var E=J.split(":"),b=E[0];if(E.length==2){if(b=="jpg")c=[Math.round(100*parseFloat(E[1]))];
if(b=="webp")c=[Math.round(100*parseFloat(E[1])),100,0,!1,!1];if(b=="psd")c=[!0,!0,!1,!1,!1];if(b=="svg")c=E[1].split(",").map(function(i){return i=="true"})}var l=hR.GU(x,b.toUpperCase(),null,null,c,o);
return l};iG.arj=function(x,J,o){var c=x.or(),E=J[0];return iG.BV(x,E,o)};iG.ans=function(){var x=this.PN,J=this.caller,o=x._E.BT,c=o.formats,E,b;
x.or();var l=Date.now();if(o.version==1){var i=[],F=0,U=0;for(var $=0;$<c.length;$++){var k=iG.BV(x,c[$],J.Vh);
i.push(k);F+=k.byteLength}E=new Uint8Array(2e3+F);var I="{ \"source\": "+JSON.stringify(x.z8)+", \"versions\": [\n";
for(var $=0;$<c.length;$++){var V=new Uint8Array(i[$]);I+="\t{\"format\": \""+c[$].split(":")[0]+"\", \"start\": "+U+", \"size\": "+V.length+" }"+($+1<c.length?", ":"")+"\n";
E.set(V,2e3+U);U+=i[$].byteLength}I+="] }";var u=D.D$(I,E,0);for(var $=u;$<2e3;$++)E[$]=32;b="application/octet-stream"}else{var N=new ih,e=0,B="",j=encodeURIComponent;
B="p="+j("{ \"source\": "+JSON.stringify(x.z8)+", \"versions\": [");D.qN(N,e,B);e+=B.length;for(var $=0;
$<c.length;$++){B=j(" {\"format\": \""+c[$].split(":")[0]+"\", \"data\": \"");D.qN(N,e,B);e+=B.length;
var k=iG.BV(x,c[$],J.Vh),T=bB.ajo(k,k.byteLength),u=T.length;N.Qy(e,u);for(var a=0;a<u;a++){N.Qy(e,3);
var P=T[a];if(P==43){N.data[e]=37;N.data[e+1]=50;N.data[e+2]=66;e+=3}else if(P==47){N.data[e]=37;N.data[e+1]=50;
N.data[e+2]=70;e+=3}else if(P==61){N.data[e]=37;N.data[e+1]=51;N.data[e+2]=68;e+=3}else{N.data[e]=P;
e++}}B=j("\" }"+($+1<c.length?", ":""));D.qN(N,e,B);e+=B.length}B=j("] }");D.qN(N,e,B);e+=B.length;E=N.data.slice(0,e);
b="application/x-www-form-urlencoded"}var v=new XMLHttpRequest;v.open("POST",o.url,!0);if(b)v.setRequestHeader("Content-Type",b);
v.addEventListener("load",iG.adB.bind(this));v.send(new Blob([E.buffer]))};iG.adB=function(x){this.caller.d2("Saving ...");
var J=x.target.response;if(J.charAt(0)=="{"){J=JSON.parse(J);if(J.newSource)this.PN.z8=J.newSource;if(J.message)alert(J.message,2e3);
if(J.script){var o=new ko(L.E.N,!0);o.data={d:L.H.w9,RU:J.script};this.caller.c(o)}}else alert("Saved. Response: "+J,1500)};
iG.ara=function(x){var J=x.gf,o=J[1].split(".").pop(),c=iG.BV(x,o,null,o=="psd"&&J[0]==1?[!0,!1,!0,!1]:null),E=Storage.KU(J[0]);
return E.a5d(J[1],c)};iG.ajv=function(x,J){var o=x.Vg.XM;if(J==null)J=iG.BV(x,o);hH.OD(function(){var c=new XMLHttpRequest,E="https://www.googleapis.com/upload/drive/v3/files/"+x.Vg.file.id+"?uploadType=media"+"&"+hH.jc();
c.open("PATCH",E,!0);c.addEventListener("load",function(b){var l=JSON.parse(b.target.response);alert(l.name+" updated")});
c.send(J);alert("Saving \""+x.Vg.file.name+"\" to Google Drive ...")})};iG.od=function(x,J,o,c){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)iG.azI(x,J,o,c);
else{try{iG.azI(x,J,o,c)}catch(j4){if(j4=="low_ram"){}else{var E="Error. Please, send your file to support@photopea.com and we will solve it.";
if(hR.M1(J)=="eps")E="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(E,1e4)}}}};iG.azI=function(x,J,o,c){var E;if(x.name){var b=x.name.lastIndexOf(".");E=b==-1?x.name:x.name.slice(0,b)}else{if(x.url.substring(0,5)=="data:"||x.url.indexOf("googleapis")!=-1)E="image";
else E=x.url.substring(x.url.lastIndexOf("/")+1).split(".")[0];E=E.slice(0,50)}var l=x.name?x.name:x.url,i=new Uint8Array(J),F=hR.M1(J),k=window.gtag;
if(Math.random()<.25&&k&&F!=null&&hR.rb(F))k("event",F,{event_category:"Formats"});if(F==null)F=D.it(i,0,4);
if(l&&l.toLowerCase().endsWith(".raw")){var U=new ko(L.E.N,!0);U.data={d:L.H.yI,AN:"importraw",vD:J,C0:l.split("/").pop()};
o.c(U);return}else if(F=="json"){var V="";for(var $=0;$<i.length;$++)V+=String.fromCharCode(i[$]);V=decodeURIComponent(escape(V));
var u=JSON.parse(V);if(u.name&&u.url){var U=new ko(L.E.N,!0);U.data={d:L.H.a1$,b:u};o.c(U)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(u)}return}if(F=="html"){var V=D.cA(i,0,i.length),N=new DOMParser,e=N.parseFromString(V,"text/html"),B=e.getElementsByTagName("meta");
for(var $=0;$<B.length;$++){var j=B[$],T=j.getAttribute("property"),a=j.getAttribute("content"),P=null;
if(T=="og:image")P=a;if(T==null&&a&&a.startsWith("0;url=/imgres?")){var v=a.slice(14).split("&");for(var R=0;
R<v.length;R++)if(v[R].startsWith("imgurl"))P=decodeURIComponent(v[R].slice(7))}if(P==null)continue;
var U=new ko(L.E.N,!0);U.data={d:L.H.lL,KJ:{url:P,vg:!0,dD:x.dD}};o.c(U)}return}if(hR.rb(F)){var y,t,g=hR.rb(F);
if(x.dD!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(F)!=-1){var U=new ko(L.E.N,!0);if(0<=x.dD)U.data={d:L.H.h8,target:x.dD,DJ:x.GH,Th:J,Bd:E};
else{U=new ko(L.E.f,!0);U.data={d:h.oq,data:new Uint8Array(J),C0:E+"."+F};U.v=n.uH}o.c(U);return}var H=[E,g,F,x,o,c,J];
if(g.gi){var _=b5==0?"psd":"ai";y=new hk(E+(F==_?"":"-"+F)+"."+_);g.zu(J,y,iG.tv,H)}else{t=g.zu(J,null,iG.tv,H,o)}if(g.ua!=!0)iG.tv(y,t,H);
else o.LD();return}var Y=new ko(L.E.N,!0);Y.data={d:L.H.AE,vD:J,LB:x.name};var K=x instanceof File&&x.wF!=!0,U=new ko(L.E.N,!0);
U.data={d:L.H.bS,_E:"add",KJ:null,AF:null,acJ:x.wF};if(F=="zip"){var f=Date.now(),m=UZIP.parse(J),C="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var Z in m){var A=!1;for(var $=0;$<C.length;$++)if(Z.toLowerCase().endsWith("."+C[$]))A=!0;if(Z.startsWith("__MACOSX/")||m[Z].length==0)A=!0;
if(A)continue;var d=Z.split("/").pop();iG.od({name:d},m[Z].buffer,o,c)}}else if(F=="jsx"||l&&l.toLowerCase().endsWith(".jsx")){var V=D.cA(new Uint8Array(J));
U.data={d:L.H.w9,RU:V};o.c(U)}else if(F=="otf"){if(K)o.c(Y);var G=Typr.parse(J);U.data.KJ=h4.B5;for(var $=0;
$<G.length;$++){U.data.AF=G[$];o.c(U)}}else if(F=="asl"){if(K)o.c(Y);var G=aF.QE(J,l);U.data.KJ=h4.Vi;
U.data.AF=G.ZI;o.c(U);U.data.KJ=h4.Dh;U.data.AF=G.W0;o.c(U)}else if(F=="tpl"){if(K)o.c(Y);var G=eX.QE(J);
U.data.KJ=h4.di;U.data.AF={I2:G.I2,Uc:G.Uc,list:[]};o.c(U);if(G.age.length!=0){U.data.KJ=h4.mL;U.data.AF=G.age;
o.c(U)}if(G.W0.length!=0){U.data.KJ=h4.Dh;U.data.AF=G.W0;o.c(U)}U.data.KJ=h4.zx;U.data.AF=G.list;o.c(U)}else{var r="";
for(var X in h4.RH)if(h4.RH[X][0]==F)r=X;if(r!=""){if(K)o.c(Y);U.data.AF=h4.RH[r][2].QE(J,l);U.data.KJ=r;
o.c(U)}else if(J.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(F))}};
iG.tv=function(x,J,o){var c=o[0],E=o[1],b=o[2],l=o[3],i=o[4],F=o[5],k=o[6];if(E.ua)i.d2();if(!E.gi){if(J.length==0)return;
if(J[0].t33421||J[0].t50706){q.raw.normalize(J[0],k);console.log(J[0]);var U=new ko(L.E.N,!0);U.data={d:L.H.yI,AN:"rawpea",bA:J[0]};
i.c(U);return}if(F){F(new Uint8Array(J[0].data),J[0].XO);return}x=hR.GN(c,J)}x.k6=l.k6;x.wo=b;x._E=l._E;
x.z8=l.url;x.GD=l.GD;x.Vg=l.Vg;x.J1=l.J1;x.gf=l.gf;if(x.Vg)x.Vg.XM=b;if(x.B.length!=0){var U=new ko(L.E.N,!0);
U.data={d:l.dD==null?L.H.wl:L.H.h8,target:l.dD,DJ:l.GH,Th:x};i.c(U)}};function h_(x){gB.call(this);this.eL=h_.eL++;
this.Po=x;this.atE=this.a7v.bind(this);this.awF=this.aic.bind(this);this.adJ=this.h6.bind(this);this.apj=this.amH.bind(this);
this.ax0=this.a2K.bind(this);this.akB=this.axl.bind(this);this.en=0;this.afB=0;this.anP=0;this.n=p.i("div","panelblock");
this.nz=p.i("div","block");this.hQ=p.i("div","collapsed");this.n.appendChild(this.nz);this.f0=-1;this.aq=!0;
this.iR=p.i("div","panelhead");this.nz.appendChild(this.iR);this.GV(this.iR);this.YR=new eH("\u2261");
this.YR.n.setAttribute("style","position:absolute; right:0;");this.YR.k("click",this.aoR,this);this.rV=p.i("div","body");
this.nz.appendChild(this.rV);this.FZ=[];this.g3=null;this.a2=null}h_.eL=0;h_.prototype=new gB;h_.Ng=26.1;
h_.prototype.aoR=function(x){var J=this.FZ[this.f0].jk(),o=x.currentTarget.n.getBoundingClientRect();
J._();J.update();J.parent=this;var c=new ko(L.E.N,!0);c.data={d:L.H.c4,BM:J,x:o.left,y:o.top+o.height+2};
this.c(c)};h_.prototype.Y$=function(x){var J=this.nz,o=this.iR,c=this.rV;if(p.j5(o))J.removeChild(o);
if(p.j5(c))J.removeChild(c);if(x==0)J.appendChild(o);J.appendChild(c);this.anP=x};h_.NV=function(x){x.stopPropagation();
x.preventDefault()};h_.prototype.a7v=function(x){var J=x.dataTransfer.types;if(J[1]!=null&&J[1]!=this.eL+"")return;
h_.NV(x);var bz=x.currentTarget;if(x.target==bz)p.na(bz,"highlight")};h_.prototype.aic=function(x){h_.NV(x);
var bz=x.currentTarget;if(x.target==bz)p.ml(bz,"highlight")};h_.prototype.GV=function(x){x.addEventListener("dragenter",this.atE,!1);
x.addEventListener("dragleave",this.awF,!1);x.addEventListener("dragover",h_.NV,!1);x.addEventListener("drop",this.adJ,!1);
x.addEventListener("dragstart",function(J){J.dataTransfer.setData("Text","--panel");J.dataTransfer.setData(this.eL+"","")}.bind(this),!1)};
h_.prototype.h6=function(x){this.awF(x);var J=null,bz=x.currentTarget,o=this.azC(bz);if(bz==this.rV&&this.f0!=-1)J=this.f0;
else if(bz==this.iR)J=null;else if(o!=-1)J=o;var c=x.dataTransfer.getData("Text");if(c==""||c.startsWith("http"))p.kX(x,this,J);
else if(c=="--panel"){var E=p.x2(x,bz),b=this.FZ,l=b.slice(0),$=this.f0,i=o==-1?b.length:E.x<bz.getBoundingClientRect().width/2?o:o+1;
if($==i||$+1==i||bz==this.rV)return;var F=$<i?i-1:i,k=b[$];b.splice($,1);b.splice(F,0,k);p.LX(this.iR);
for(var U=0;U<b.length;U++)this.iR.appendChild(b[U].hN);this.US(F);var I=[];for(var $=0;$<b.length;$++)I[$]=l.indexOf(b[$]);
var V=new ko("shuffleItems",!1);V.data={aoV:I};this.c(V)}else if(J!=null&&this instanceof h3){var V=new ko(L.E.N,!0);
V.data={d:L.H.a1n,awU:J};this.c(V)}};h_.prototype.tw=function(){return null};h_.prototype.abE=function(){if(this.tw()){this.iR.style.padding="0px";
this.a2=this.tw();this.rV.appendChild(this.a2);this.QW.po(!1);var x=new ko(L.E.N,!0);x.data={d:L.H.ri,b:1};
this.c(x)}};h_.prototype.a2N=function(){if(this.a2){this.iR.style.padding="";this.rV.removeChild(this.a2);
this.a2=null;this.QW.po(!0);var x=new ko(L.E.N,!0);x.data={d:L.H.ri,b:0};this.c(x)}};h_.prototype.azC=function(x){var J=this.FZ;
for(var $=0;$<J.length;$++)if(J[$].hN==x)return $;return-1};h_.prototype.Rv=function(){for(var $=0;$<this.FZ.length;
$++)this.FZ[$].It.jH()};h_.prototype.dT=function(){return this.f0};h_.prototype.E$=function(){if(this.aq)return;
this.aq=!0;this.n.removeChild(this.hQ);this.n.appendChild(this.nz)};h_.prototype.collapse=function(){if(!this.aq)return;
this.aq=!1;this.n.appendChild(this.hQ);this.n.removeChild(this.nz)};h_.prototype.Ng=function(){var x=0;
if(this.anP==0){x=this.iR.getBoundingClientRect().height+1;x=Math.max(x,h_.Ng)}return x};h_.prototype.a5t=function(){return this.Ng()+this.rV.getBoundingClientRect().height};
h_.prototype.ip=function(x,J){this.iR.style.maxWidth=x+"px";var o=this.Ng();if(this.f0!=-1)this.FZ[this.f0].ip(x,J-o);
return J-o};h_.prototype.DL=function(x,J){if(this.f0!=-1)this.FZ[this.f0].DL(x,J)};h_.prototype.L8=function(x,J,o){this.FZ[this.f0].L8(x,J,o)};
h_.prototype.xf=function(x){this.a2N();if(this.FZ.indexOf(x)!=-1){this.US(this.FZ.indexOf(x));return}x.parent=this;
this.FZ.push(x);this.iR.appendChild(x.hN);x.hN.addEventListener("mouseover",this.apj,!1);this.GV(x.hN);
this.hQ.appendChild(x.It.n);x.It.k("click",this.atD,this);x.k("select",this.a8t,this);x.k(L.E.xA,this.awJ,this);
this.US(this.FZ.length-1)};h_.prototype.amH=function(x){if(x.buttons==0)return;var J=x.currentTarget,o=J,$=0;
while((o=o.previousSibling)!=null)$++;this.afB=$;J.addEventListener("mouseout",this.ax0,!1);this.en=setTimeout(this.akB,700)};
h_.prototype.a2K=function(x){var J=x.currentTarget,o=J,$=0;while((o=o.previousSibling)!=null)$++;J.removeEventListener("mouseout",this.ax0);
clearTimeout(this.en)};h_.prototype.axl=function(x){this.c(new ko(L.E.a23,!1))};h_.prototype.ahc=function(x){return this.afB};
h_.prototype.xZ=function($){var x=new ko(L.E.xA,!1);x.data={NW:$};this.c(x);var J=this.FZ[$];this.FZ.splice($,1);
this.iR.removeChild(J.hN);this.hQ.removeChild(J.It.n);J.hN.className="";J.It.removeEventListener("click",this.atD,this);
J.It.jH();J.removeEventListener("activate",this.a8t);J.removeEventListener(L.E.xA,this.awJ);var o=this.f0;
if($<o)o--;else if($==o&&$==this.FZ.length)o--;this.US(o);if(this.FZ.length==0)this.abE()};h_.prototype.aee=function(){return this.FZ.length};
h_.prototype.sC=function(){if(this.FZ.length!=0)this.FZ[this.f0].sC()};h_.prototype.US=function(x,J){if(J==null)J=!0;
for(var $=0;$<this.FZ.length;$++)this.FZ[$].hN.className="";if(this.g3)this.rV.removeChild(this.g3);
this.g3=null;this.f0=x;if(x==-1)return;var o=this.FZ[this.f0];this.g3=o.$u;this.rV.appendChild(o.$u);
o.hN.className="active";if(!this.aq){this.c(new ko("showFloat"));this.FZ[x].It.V2()}if(J)this.c(new ko(L.E.A,!1));
o.qv();var c=this.YR.n;if(c.parentNode)this.iR.removeChild(c);if(o.jk())this.iR.appendChild(c);var E=new ko(L.E.N,!0);
E.data={d:L.H.bO};this.c(E)};h_.prototype.a8t=function(x){if(this.Po&&!this.Po.ayB())return;var $=this.FZ.indexOf(x.currentTarget);
this.US($)};h_.prototype.awJ=function(x){if(this.Po&&!this.Po.ayB())return;var $=this.FZ.indexOf(x.currentTarget);
this.xZ($)};h_.prototype.atD=function(x){var J=this.FZ.indexOf(x.currentTarget.parent);if(this.FZ[J].It.U9())this.c(new ko("hideFloat"));
else this.US(J)};h_.prototype.ayx=function(x){this.c(x)};function h3(x){h_.call(this,x);this.Qh=0;this.ao=0;
p.iU(this.iR,this.aiW.bind(this));this.l_=0;this.aqz=this.aD6.bind(this);this.GV(this.rV);this.Mp=["default;"];
this.QW=new p.WJ(this.rV);this.zU=new gf(!0);this.zU.parent=this;this.Tz=this.zU.n;gf.Bh(this.zU)}h3.prototype=new h_;
h3.prototype.aiW=function(x){if(x.target!=this.iR)return;var J=this.l_;this.l_=Date.now();if(Date.now()-J>300)return;
var o=new ko(L.E.N,!0);o.data={d:L.H.yI,AN:"newproject"};this.c(o)};h3.prototype.YZ=function(x,J){if(J)this.Mp.push(x);
else{var o=this.Mp.length-1;if(this.Mp[o]==x)return;this.Mp[o]=x}this.e$()};h3.prototype.ajS=function(){this.Mp.pop();
this.e$()};h3.prototype.e$=function(){var x=this.Mp[this.Mp.length-1];this.QW.L8(x,this.Ts)};h3.prototype.DL=function(x,J){h_.prototype.DL.call(this,x,J);
this.zU.DL(x,J);if(!x.Hg){}};h3.prototype._=function(){h_.prototype._.call(this);this.zU._()};h3.prototype.L8=function(x,J){for(var $=0;
$<J.length;$++){var o=J[$];this.FZ[$].Bw(o.name+(o.kG()?" *":""))}h_.prototype.L8.call(this,x,J)};h3.prototype.tw=function(){return this.Tz};
h3.prototype.ip=function(x,J){if(this.FZ.length==0)J+=h_.Ng-1;this.Qh=x;this.ao=J;J=h_.prototype.ip.call(this,x,J);
this.Ts="height:"+J+"px; width:"+x+"px; overflow:hidden; position:relative;";this.e$();this.zU.ip(x,J)};
h3.prototype.xf=function(x){h_.prototype.xf.call(this,x);x.hN.addEventListener("click",this.aqz,!1)};
h3.prototype.xZ=function($){var x=this.FZ[$];p.Ro(x.hN,this.aqz);h_.prototype.xZ.call(this,$)};h3.prototype.aD6=function(x){var J=this.l_;
this.l_=Date.now();if(Date.now()-J>300)return;var o=this.azC(x.currentTarget),c=this.FZ[o].Th.name,E=new ko(L.E.N,!0),b={K:L.E.f,v:n.uH,C:{d:h.TL}};
E.data={d:L.H.yI,AN:"namewindow",xg:c.slice(0,c.length-4),A3:b};this.c(E)};function b7(x){gB.call(this);
if(x)return;a8.awo(1);this.n=p.i("div","flexrow app");this.ey=p.i("div");this.n.appendChild(this.ey);
setTimeout(function(){var o=window.hideCap;if(o)o()},25e3);this.DV=new dG;window.addEventListener("blur",function(o){this.DV.reset()}.bind(this),!1);
window.addEventListener("resize",this.hk.bind(this),!1);var J=this.ey;this.vn=new dk;this.vn.parent=this;
J.appendChild(this.vn.n);this.PC=new h0;this.PC.parent=this;J.appendChild(this.PC.n);this.cB=new dU(!0);
this.cB.parent=this;J.appendChild(this.cB.n);this.k(L.E.N,this.jK,this);this.uV=this.Kn.bind(this);window.requestAnimationFrame(this.uV)}b7.prototype=new gB;
b7.prototype.Kn=function(x){this.V_();window.requestAnimationFrame(this.uV)};b7.prototype._=function(){};
b7.prototype.hk=function(x){var J=window.innerWidth,o=window.innerHeight;this.ip(J,o)};b7.prototype.ip=function(x,J){this.PC.ip(x,J);
this.vn.ip(x,J)};b7.prototype.jK=function(x){var J=x.data.d;if(J==L.H.c4)this.PC.a0Y(x.data);if(J==L.H.ci)this.PC.afn(x.data);
if(J==L.H.oa)this.PC.anG(x.data.mC);if(J==L.H.Ew)this.PC.ah9(x.data.mC);if(J==L.H.i0)this.PC.mh()};function aE(){b7.call(this);
this.nq={x:0,y:0,sz:!1};this.Gq=!1;this.E5=!1;this.Dr=null;this.a9j=0;this.a2D=!1;this.tk=0;window.onmessage=function(U){if(Storage.a6B(U.source))return;
if(U.data instanceof ArrayBuffer){var I=hR.M1(U.data),V=hR.rb(I);bB.od({url:"file"},U.data,this);if(V==null)this.Yy()}else if(U.data instanceof Object||U.data.startsWith("{")||U.data.startsWith("amp-")||U.data.startsWith("0=goog")||U.data.startsWith("3PCoo")||U.data.startsWith("ima://")){}else if(U.data.startsWith("--ur ")){var u=U.data.split(" ").pop(),a=null;
u=u.length==0?[]:u.split(",");console.log(u);var N=this.lg.AF,e=new ko(L.E.N,!0);e.data={d:L.H.bS,KJ:h4.v6,_Q:u};
this.c(e);var B=u,j=N;if(j.length>B.length){var T=j;j=B;B=T}for(var $=0;$<B.length;$++)if(j.indexOf(B[$])==-1)a=B[$];
bB.aQ("act=3&id="+a+"&dif="+(B==u?1:-1));alert((B==u?"Resource added.":"Resource removed.")+" "+a)}else if(U.data.startsWith("--ot ")){this.vn.NX().close();
this.lK.Yp(U.data.split(" ").pop(),!0)}else if(U.data.startsWith("--et ")){}else{console.log(U.data);
var e=new ko(L.E.N,!0);e.data={d:L.H.w9,RU:U.data};this.c(e);this.Yy()}}.bind(this);window.onbeforeunload=function(U){this.a5w();
for(var $=0;$<this.Zw.length;$++)if(this.Zw[$].kG())return this.Zw[$].name}.bind(this);window.setInterval(this.am4.bind(this),5*60*1e3);
var x=this;if(window.indexedDB&&(!j1.bk()||document.hasStorageAccess==null)){var J={Qy:window.indexedDB.open("pp",1)};
J.Qy.onupgradeneeded=function(U){var I=U.target.result,V=I.createObjectStore("rsrc",{keyPath:"k"})};
J.Qy.onsuccess=function(U){var I=x.lg.cI.YD=U.target.result,V=I.transaction(["rsrc"],"readwrite").objectStore("rsrc"),u=V.get("fs0");
u.onsuccess=function(U){if(U.target.result){var B=x.lg.cI.sb=U.target.result.fset;for(var j in B){if(!j.endsWith(".jsx")&&!j.endsWith(".psd"))bB.od({url:j,wF:!0},B[j],x)}}};
var N=new BroadcastChannel("pp-tabs"),e=[];N.onmessage=function(U){if(U.data=="id")N.postMessage(x.lg.cI.id);
else e.push(U.data)};N.postMessage("id");setTimeout(function(){var V=I.transaction(["rsrc"],"readwrite").objectStore("rsrc"),B=V.getAllKeys();
B.onsuccess=function(){var j=B.result,T=[],a=0;for(var $=0;$<j.length;$++){if(j[$]=="fs0")continue;if(e.indexOf(j[$])!=-1)continue;
T.push(j[$])}for(var $=0;$<T.length;$++){var u=V.get(T[$]);u.onsuccess=function(U){if(U.target.result){var P=U.target.result.fset;
for(var v in P){bB.od({url:v,wF:!0},P[v],x);var R=x.je();R.TD=R.pl=-1}a++;if(a==T.length)for(var $=0;
$<T.length;$++){var u=V.delete(T[$])}}}}}},200)}}var o=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],c=p.ND[cG.M7][cG.c3];
for(var $=0;$<o.length;$++){var E=p.mV(o[$]);if(c.indexOf(E)!=-1){var b=p.ND[cG.M7][cG.rV],l=p.mV("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
p.LX(b);b[cG.afO]=l;return}}this.q=aE.ak0();this.lg={q:this.q,ahE:!1,QJ:null,uO:0,SB:{Uc:[],I2:[],list:[],_i:null},Mz:[],a1E:[],y9:[],qo:[],ok:[],yC:[],axu:[],a8S:[],ok:[],VP:[fV.Bt()],sU:[],Qg:[],ow:null,_G:0,zs:bs.zs.Bt(),wB:{lZ:1,h5:JSON.parse(JSON.stringify(bs.zQ[0]))},wb:bs.Ao.Bt(),Se:[null].concat(bs.zQ),$c:[null].concat(bs.zQ),a0:new cg(function(U){var I=new ko(L.E.N,!0);
I.data={d:L.H.lL,KJ:{url:"rsrc/fonts/"+U}};this.c(I)}.bind(this)),Mf:{SY:[],kJ:null,zR:null},font:null,ii:[],AF:[],atx:{},Q6:0,xR:16777215,Q2:!1,ms:!0,Km:{Kt:!0,Ju:!1,Fe:!0,yB:!0,Um:!0,IL:!0,np:20,Sb:0,h4:0,jm:0,m4:8421504,Fb:65535},n2:!0,w4:[!0,!0,!1,!0,!0],jS:[0,1,2,3,5,6,7,9,10,16,17,100],zI:1,pa:!0,Cr:{},Hg:!0,a0E:!1,compact:!1,gH:1,BY:0,Tz:!0,m$:null,cI:{id:"ts"+Math.round(Math.random()*16777215),aa5:!1,and:!1,sb:{},nh:{},YD:null},at5:0,apw:null,Im:null,ajq:null,Sq:null};
cg.eQ.Rc(this);this.a6e={By:new ha,lQ:new ck};this.lg.Mf=iv.a5a();this.g_=new a2;this.Ig=new jo;this.Hc=new iV(this.q,!0);
this.mN=new hQ;this.P0=new h3(this);this.bx=p.i("div");this.vC=!1;this.cO=this.abQ.bind(this);p.na(this.P0.n,"mainblock");
this.cB.parent=this.g_.parent=this.Ig.parent=this.Hc.parent=this.mN.parent=this.P0.parent=this;this.P0.k(L.E.A,this.VN,this);
this.P0.k(L.E.xA,this.a62,this);this.P0.k("shuffleItems",this.avj,this);this.P0.k(L.E.a23,this.a03,this);
this.k("mouse",this.anU,this);this.k(L.E.f,this.E4,this);this.k(L.E.p4,this.adD,this);document.body.addEventListener("keydown",this.Ht.bind(this),!1);
window.addEventListener("keyup",this.C1.bind(this),!1);window.addEventListener("paste",this.apI.bind(this),!1);
window.addEventListener("copy",this.awz.bind(this),!1);window.addEventListener("wheel",function(U){if(U.ctrlKey)U.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(U){if(window.innerWidth>400)U.preventDefault();
this.lg.m$=U}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(U){if(U.azd){console.log("Service worker installing")}else if(U.a1Y){console.log("Service worker installed")}else if(U.active){console.log("Service worker active")}}).catch(function(U){console.log("Registration failed with "+U)})}this.QZ=0;
this.Zw=[];this.lK=new bB(iG.od);this.lK.parent=this;var i=this.ey,F=this.s1=p.i("div");F.appendChild(this.g_.n);
F.appendChild(this.Ig.n);this.cB.avB(F);var k=this.agm=p.i("div","flexrow");i.appendChild(k);k.appendChild(this.Hc.n);
k.appendChild(this.P0.n);k.appendChild(this.mN.n);this.lK.e0({url:"rsrc/basic/basic.zip"});this.zb(n.ug);
j4.Rc(this.aqb.bind(this))}aE.prototype=new b7(!0);aE.prototype.Yy=function(x){var J=new ko(L.E.N);J.data={d:L.H.rG,KJ:x?x:"done"};
this.c(J)};aE.prototype.am4=function(){var x=this.lg.cI,o=!1;if(x.YD==null)return;var J=this.Zw;for(var $=0;
$<J.length;$++){var c=J[$];if(c.pl!=c.sW){var E=Date.now(),b=hR.GU(c,"psd",0,0,[!0,!1,!0,!1,!0]);c.pl=c.sW;
x.nh[c.name]=b;o=!0;console.log(Date.now()-E,"saving "+c.name,b.byteLength)}}if(o){var l=new ko(L.E.N);
l.data={d:L.H.bS,KJ:h4.E1,auU:!0};this.c(l)}};aE.prototype.aqb=function(){p.ND[cG.x1](this.akq.bind(this),Math.pow(Math.PI,8)+p.ND[cG.a0j][cG.arI]()*1e4);
var x=j4.f7();if(x!=null&&x.globals!=null)this.Kf(x.globals);else{this.a2D=!0;var J=navigator.languages;
if(J&&J.length!=0){var o=J[0];h9.GX(o,this.cO)}}if(!this.LM()){var c=p.avF();if(c==0)this.a0E=!0;if(c==2)this.lg.Hg=!1;
if(c!=1&&Math.random()<.002)p.aml()}if(!j1.bk()||!this.lg.Hg){this.a2Q();this.Rl()}else{var E=p.TE(p.ND[cG.Hr]);
E[cG.o1](cG.Rf,this.alP.bind(this));E[cG.ih](p.hC("61="),p.hC("_MYOqDLGJa;A:6"));E[cG.$M]()}this.Gq=!0;
this.Yy()};aE.prototype.alP=function(x){var J=JSON.parse(x.target[cG.oQ]),o=p.ND[cG.py][cG.aoc]()/1e3,c=p.ND[cG.M7][cG.c3],E=!1;
for(var b in J)if(b.indexOf(".")!=-1&&c.indexOf(b)!=-1&&parseInt(J[b])>o)E=!0;if(E)this.lg.Hg=!1;this.a2Q();
this.Rl()};aE.prototype.Rl=function(x){this.E5=!0;if(!this.lg.Tz)this.P0.Tz=null;else if(this.Zw.length==0)this.P0.abE();
this.ga(h4.y_);this._();this.hk();this.mN.L8(this.je(),this.Zw,this.lg)};aE.prototype.Kf=function(x){var J=this.lg;
if(x.fcolor!=null)J.Q6=x.fcolor;if(x.bcolor!=null)J.xR=x.bcolor;if(x.rulers!=null)J.Q2=x.rulers;if(x.extras!=null)J.ms=x.extras;
if(x.favFam!=null)J.ii=x.favFam;if(x.rsrc!=null)J.AF=x.rsrc;if(x.font!=null)J.Mf.SY[0].Name=x.font;if(x.panels!=null)J.jS=x.panels;
if(x.as!=null)J.gH=x.as;if(x.co!=null)J.BY=x.co;if(x.eparams){var o=x.eparams,c=J.Km;if(o.guides!=null)c.Kt=o.guides;
if(o.grid!=null)c.Ju=o.grid;if(o.gsize!=null)c.np=o.gsize;if(o.gunits!=null)c.Sb=o.gunits;if(o.gtype!=null)c.h4=o.gtype;
if(o.runits!=null)c.jm=o.runits;if(o.gcol!=null)c.m4=o.gcol;if(o.gucol!=null)c.Fb=o.gucol;if(o.sels!=null)c.Fe=o.sels;
if(o.paths!=null)c.yB=o.paths;if(o.pgrid!=null)c.Um=o.pgrid;if(o.slices!=null)c.IL=o.slices}if(x.lang!=null)h9.GX(x.lang,this.cO);
if(x.theme!=null)J.zI=x.theme;if(x.topt||J.nX){var E=x.topt?x.topt:{},b=J.nX?J.nX:{};for(var l in this.q.map){if(l>=103)continue;
var i="t"+l;if(E[i]||b[i])this.q.map[l].v.VJ(E[i],b[i],this)}}};aE.prototype.a2Q=function(){if(this.lg.ahE)return;
this.lg.ahE=!0;var x=null,J=window.location.href,o=J.indexOf("="),c=J.indexOf("#");if(o!=-1)x=J.substring(J.indexOf("?")+1,o);
if(c!=-1&&c!=J.length-1){x="p";o=c}if(c!=-1&&J[c+1]=="i"){this.lK.Yp(J.slice(c+2,c+10))}else if(J.slice(c+1).startsWith("goog_rewarded")){}else if(c!=-1&&J[c+1]=="t"){this.lK.Yp(J.slice(c+2,c+10).split("").reverse().join(""),!0)}else if(x=="p"||x=="state"){var E=J.substring(o+1,J.length);
E=JSON.parse(decodeURI(E));if(x=="p"){if(E.script=="alert(73)")this.lg.Hg=!1;if(E.script)gD.afh(this);
if(E.server)this.Dr=E.server;if(E.resources)for(var $=0;$<E.resources.length;$++)this.lK.e0({url:E.resources[$]});
if(E.files)for(var $=0;$<E.files.length;$++)this.lK.e0({url:E.files[$],_E:{BT:E.server,agr:E.script}});
var b=E.environment;if(b==null)b={};if(b.plugins!=null)this.mN.ah7(b.plugins);if(b.localsave!=null)this.lg.pa=b.localsave;
if(b.customIO!=null)this.lg.Cr=b.customIO;if(b.vmode!=null){var l=b.vmode;if(l==1)this.lg.compact=!0;
if(l==2)this.Y$(1)}if(b.intro!=null)this.lg.Tz=b.intro;if(b.menus!=null)this.lg.are=b.menus;if(b.tmnu!=null)this.lg.nX=b.tmnu;
if(b.panels!=null)this.lg.jS=b.panels;if(b.showtools!=null){var i=b.showtools,F=i.indexOf(this.lg.QJ);
this.lg.rW=i;if(F==-1)this.zb(i[0])}if(b.phrases!=null)h9.aAf(b.phrases);if(b.autosave!=null){this.lg.gH=0;
window.setInterval(function(){var I=new ko(L.E.N);I.data={d:L.H.YO};this.c(I)}.bind(this),b.autosave*1e3)}if(b.icons!=null){for(var k in b.icons)if(b.icons[k].indexOf("\"")==-1){if((k==cG.ank||k==cG.a7i)&&this.lg.Hg)continue;
PIMG[k]=b.icons[k];PIMG["__"+k]=!0}}this.Kf(b);if(E.files==null&&E.script){kj.uL(E.script,this);this.Yy()}}else if(x=="state"){var U=this.lK;
if(E.action=="create"){var I=new ko(L.E.N);I.data={d:L.H.yI,AN:"newproject",aya:E.folderId};this.c(I)}if(E.action=="open"){for(var $=0;
$<E.ids.length;$++)hH.OD(function(){var u="https://www.googleapis.com/drive/v3/files/"+this.ajK,N=new XMLHttpRequest;
N.open("GET",u);N.setRequestHeader("Authorization",hH.o6());N.send();N.onload=function(e){var B=JSON.parse(e.target.response);
U.e0({url:u+"?alt=media",name:B.name,Vg:{file:B,XM:""},D6:{Authorization:hH.o6()}})}}.bind({ajK:E.ids[$]}));
alert("Loading files from Google Drive ...")}}}else{var V=window.launchQueue;if(V){var U=this.lK;V.setConsumer(function(u){var N=u.files;
console.log(N);for(var $=0;$<N.length;$++){var e=N[$];e.getFile().then(function(B){U.fG([B],null,null,null,[e])})}})}}};
aE.prototype._=function(){var x=document.getElementById("cap");if(x){var J=!1,o=x.getElementsByTagName("h1")[0],b=0,i=0,F=0;
o.textContent=J?"Photopea":h9.get([0,17,0]);var c=x.getElementsByTagName("p"),E=p.Ln(h9.get([0,17,1])),l=["PSD","XCF","Sketch","XD","CDR"];
for(var $=0;$<l.length;$++)E=E.replace(l[$],"<b>"+l[$]+"</b>");if(!J)E+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
c[0].innerHTML=E;E=h9.get([0,17,2])+" "+h9.get([0,17,3]);for(var $=0;$<E.length;$++){var k=E[$];if(k=="<")i++;
if(k==">")F++}if(!J&&i*F==9){var U=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var $=0;$<3;$++){var I=E.indexOf("<",b),V=E.indexOf(">",b),u=E.slice(0,I)+"<a href=\""+U[$]+"\" target=\"_blank\">"+E.slice(I+1,V)+"</a>";
b=u.length;E=u+E.slice(V+1)}c[1].innerHTML=E}else c[1].innerHTML=h9.get([0,17,2])}var N=document.getElementById("sponsors");
if(N)N.textContent=h9.get([0,17,4]);this.cB._();this.g_._();this.mN._();this.Hc._();this.vn._();this.P0._();
for(var e in this.q.map)if(this.q.map[e].Iy)this.q.map[e].Iy._()};aE.prototype.LM=function(){var x=p.ND[cG.BU][cG.adL];
if(x&&x[1]){if(x[1].endsWith(cG.hC("UUPSDm@ID")))return!0}return 4<p.ND[cG.BU][cG.Cu][cG.aej](cG.hC("'$!|"))};
aE.prototype.ip=function(x,J){x=Math.floor(x);J=Math.floor(J);var o=p.hC("WUMK&AM"),c=cG.$l,E=p.ND[cG.M7],b=Math.max(x,window.screen.width),l=Math.max(J,window.screen.height),I=0;
if(j1.b4==null)j1.b4=Math.min(b,l)<500||b<750?0:b<1500?1:2;var i=j1.b4,F=!this.E5||this.LM()||!this.lg.Hg||j4.I4()||i==0;
if(!F&&j1.bk()){if(this.agw==null)this.agw=Math.random()<.5;F=this.agw}if(F){if(i!=0&&p.ND[o]&&this.E5)p.ND[o]()}else{if(i==0)J-=60;
else x-=i==1?180:320}b7.prototype.ip.call(this,x,J);if(F&&this.vC){this.n[cG.L4](this.bx);p.LX(this.bx);
this.vC=!1}if(!F&&!this.vC){var k=function(N){if(Math.random()<.002){j4.event(j1.q7()?"gota_0":"gota_1")}this.a1d(x,J);
var e=i==0?E[cG.rV]:this.n;e.appendChild(this.bx);this.bx[cG.DO](c,p.hC("_MMJLNDfKCAg")+(i==0?10:10)+p.hC("_d$ebOS?I:==Ba-+# }$M"));
this.bx[c][p.hC("_MMJLND&<:E")]=(i==0?0:19)+p.hC("_d");this.bx[c][p.hC("i5WJHX")]=i==0?0:1}.bind(this);
function U(){j1.a1P(k)}setTimeout(U,2300);this.vC=!0}if(p.j5(this.g_.n))I+=31;if(p.j5(this.Ig.n))I+=32;
this.cB.af0=this.lg.Hg&&this.E5;this.cB.ip(x,I);var V=J-I,u=p.hC("_d");this.bx[c][cG.adx]=(i==0?100>>>1:J-11)+u;
this.bx[c][cG.rs]=(i==0?x:6*Math.pow(10,2))+u;if(p.j5(this.Hc.n))this.Hc.ip(x,V);this.mN.ip(x,V);this.P0.ip(x-this.Hc.Mm()-this.mN.Mm(),V)};
aE.prototype.a1d=function(x,J){var o=function(){var c=new ko(L.E.N);c.data={d:L.H.yI,AN:"account"};this.c(c)}.bind(this);
j1.abw(x,J,this.bx,o)};aE.prototype.awz=function(x){console.log("systemCopy")};aE.prototype.apI=function(x){if(p.Bo())return;
console.log("systemPaste");if(!x.clipboardData)return;var J=x.target.tagName.toLowerCase(),o=x.clipboardData.items;
if(o==null)return;var c=this.alq.bind(this);for(var $=0;$<o.length;$++){var E=o[$],b=E.getAsFile();if(E.type.indexOf("image")!=-1){if(b.size==this.lg.at5)return;
this.lg.at5=b.size;if(b){b.name="image.png";this.lK.fG([b],c)}}}};aE.prototype.alq=function(x,J){var o={buffer:x,rect:J},c=this.lg;
if(p.Bo()){var E=this.a6e,b=E.By;if(b.m==J.m&&b.e==J.e){o.rect=b;o.lQ=E.lQ}}else{if(c.Im){var l=new ko(L.E.f,!0);
l.v=n.$y;l.data={d:"h_stepbck"};this.c(l)}}c.Im=o;var l=new ko(L.E.N,!0);l.data={d:L.H.R9,awV:!0};this.c(l)};
aE.prototype.aB1=function(){if(this.vn.NX()!=null)alert(h9.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
aE.prototype.E4=function(x){var J=this.je();if(J==null){alert(h9.get([15,7,7]));return}var o=x.v==n.cL||x.v==n.PE;
if(this.vn.Yv()&&x.A8!=!0&&!o){this.aB1();return}var c=this.q,E=this.lg.QJ,b=x.v;if(b==n.eY&&E==n.Ha)b=n.Ha;
if(E!=b&&c.map[E].v.Yv()&&!o&&!(E==n.tY&&b==n.CP)){console.log("disabling",E);c.map[E].v.disable(J,this,this.lg,this.DV)}var l=this.q.map[b].v;
l.E4(x.data,this,J,this.DV,this.lg)};aE.prototype.adD=function(x){var J=this.lg;if(x.data.zd!=!0)hi.a8a({bV:x.data.bV,Rx:x.data.Rx},this,J,this.je());
var o=J.ow,c=J.Qg;if(o==null)return;var E={ajx:!1,Kp:"Step",aCm:0,T:!0,exp:!1,bV:x.data.bV};if(o[2]==null)o[2]=c[o[0]].T3[o[1]].T3.length-1;
if(x.data.Rx)E.Rx=x.data.Rx;c[o[0]].T3[o[1]].T3.splice(o[2]+1,0,E);o[2]++;this.ga(h4.f)};aE.prototype.jK=function(x){if(this.a0E){x.data=0;
return x.type}b7.prototype.jK.call(this,x);var J=x.data.d;if(J==L.H._t)hi.aka(this.je(),this.lg.Qg,x.data.T1[0],x.data.T1[1],this);
if(J==L.H.a1n){this.apk(x.data.awU)}if(J==L.H.ap6){this._();this.hk()}if(J==L.H.bO)this.hk();if(J==L.H.go)if(this.lg.m$){this.lg.m$.prompt();
this.lg.m$=null}if(J==L.H.TG)this.P0.YZ(x.data.i2,x.data.push);if(J==L.H.a10)this.P0.ajS();if(J==L.H.aAx)this.VN(null,x.data.dir);
if(J==L.H.JN)this.P0.xZ(this.Zw.indexOf(x.data.PN?x.data.PN:this.je()));if(J==L.H.ri){if(x.data.S6&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(x.data.S6)document.body.webkitRequestFullScreen();if(x.data.b!=null)this.Y$(x.data.b)}if(J==L.H.aBe){if(x.data.sz)this.DV.km(x.data.aDy);
else this.DV.nG(x.data.aDy);this.B3(x.data.sz?"down":"up")}if(J==L.H.a1$){var o=x.data.b;this.mN.ah7([o]);
this._()}if(J==L.H.Qn){var c=this.je(),E=c.or().slice(0),b=c.B[c.g[0]],l=new ha(0,0,c.m,c.e),i=hk.si()+"-d71c-11e5-b1ae-a548a96e5f9f",F=new ko(L.E.N,!0);
if(x.data.KJ==0){var k={name:"Default/"+c.name.split(".")[0],id:i,Gc:[E,l]};F.data={d:L.H.bS,_E:"add",KJ:h4.Vi,AF:[k]};
this.c(F)}if(x.data.KJ==1){var U=q.R(l.P()*4);q.xj(U,4294967295);q.l.j6("norm",E,l,U,l,l,1);var V=q.R(l.P());
q.Sk(U,V);q.Mr(V);var u=q.d6(V,l);if(u.Kx())u=l;var N=q.R(u.P());q.zc(V,l,N,u);u.x=u.y=0;var e={By:u,id:i,Gc:[N,u]},B=aR.iY(i),j=B.Brsh.v;
j.Dmtr.v.val=Math.max(u.m,u.e);j.Spcn.v.val=10;F.data={d:L.H.bS,_E:"add",KJ:h4.di,AF:{list:[{t:"Objc",v:B}],I2:[e],Uc:[]}};
this.c(F);F.data={d:L.H.bS,KJ:h4.rO,jQ:B};this.c(F)}if(x.data.KJ==2){var T=c.l$(),a=T[0][T[1][0]],P={W4:"Default/"+b.getName(),OA:i,$:a.add.vmsk.clone().$},v=q.p.d5(P.$),R=new cW(v.m,0,0,v.e,v.x,v.y);
R.Mr();q.p.Sp(P.$,R);v.x=v.y=0;P.YP=v.clone();F.data={d:L.H.bS,_E:"add",KJ:h4.mL,AF:[P]};this.c(F)}}if(J==L.H.lL)this.lK.e0(x.data.KJ);
if(J==L.H.o2){var y=x.data.a36,t=x.data.vm;if(y!=!0&&t!=!0&&this.DK("open"))return;var g=this.P0.dT();
if(t)g=-1-g;this.lK.amP(y||t?g:null,x.data.al6)}if(J==L.H.BG){var H=x.data.ayK,_=x.data.qz,Y=this.SN(H);
if(_){var K=H==h4.di,f=[];for(var $=0;$<_.length;$++)f.push((K?Y.list:Y)[_[$]]);Y=K?{Uc:Y.Uc,I2:Y.I2,list:f}:f}if(H==h4.Dh){var l=new hk;
for(var $=0;$<Y.length;$++){var m=Y[$].oe.Lefx;if(m)cI.aBt(m,l,this.lg.yC)}Y={ZI:l.add.Patt?l.add.Patt:[],W0:Y}}if(H==h4.zx){var C=this.lg.SB;
Y={I2:[],Uc:[],list:Y};console.log(Y)}if(H==h4.f)Y=Y[x.data.CX];var Z=h4.RH[H],E=Z[2].iN(Y);bB.save(E,Z[1]+"."+Z[0])}if(J==L.H.AE){var A=this.lg.cI,d=x.data.a0h;
if(A.YD&&!A.aa5&&!d){A.and=window.confirm("Load \""+x.data.LB+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
A.aa5=!0}if((A.and||d)&&A.YD){A.sb[x.data.LB]=x.data.vD;var F=new ko(L.E.N);F.data={d:L.H.bS,KJ:h4.E1};
this.c(F)}}if(J==L.H.awQ){var c=this.je(),X="<!DOCTYPE HTML>";if(c==null)return;var G=hR.jr(c.or().buffer,c.m,c.e),r=window.open();
X+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";X+="<body><img src=\""+G+"\" /></body>";
X+="</html>";r.document.write(X)}if(J==L.H.I9){if(this.DK("publishOnline"))return;var w=x.data.UY!="psd",c=this.je();
if(c==null)return;if(!w&&c.k6)return;var S="Your "+(w?"picture":"document")+" will be published at "+(w?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!w)S+=" We guarantee 6+ months of storage.";var z=x.data.fh?!0:confirm(S);if(z){if(!w){var F=new ko(L.E.f,!0);
F.v=n.uH;F.data={d:h.yL};this.c(F);var s=new ha(0,0,c.m,c.e);for(var $=0;$<c.B.length;$++){var b=c.B[$];
if(b.rect.Kx()||b.Zk()||b.Da()||b.oS()||b.A0()||b.add.TySh||b.add.vmsk||b.add.SoLd)continue;var M=s.Kc(b.rect);
if(!M.U5(b.rect)&&!M.Kx()){var Q=q.R(M.P()*4);q.St(b.buffer,b.rect,Q,M);b.buffer=Q;b.rect=M}if(!q.u2(b.buffer,b.rect.m,b.rect.e))continue;
var O=b.kR(),W=b.opacity,e9=b.n5,jV=b.$j;b.Ut(!0);b.opacity=255;b.n5="norm";c.g=[$];F.data={d:h.rK,UY:"jpg"};
this.c(F);var co=c.B[$];b.Ut(O);co.Ut(O);b.opacity=co.opacity=W;b.n5=co.n5=e9,b.$j=co.$j=jV}}if(c.mI){c.Q4()}var dz=c.m,eh=c.e,a9=x.data.akO,kB;
if(a9)while(Math.max(dz,eh)>a9){dz=dz>>>1;eh=eh>>>1}console.log(dz,eh);if(x.data.UY=="psd")kB=hR.GU(c,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(x.data.UY=="png")kB=hR.GU(c,"png",dz,eh);else{var dc=hR.GU(c,"png",dz,eh),eT=hR.GU(c,"jpg",dz,eh);
kB=dc.byteLength<eT.byteLength?dc:eT}if(x.data.fh==null)x.data.fh=function(gJ){var iA=w?gJ:"https://www.photopea.com/#i"+gJ+".psd",F=new ko(L.E.N);
F.data={d:L.H.yI,AN:"linkview",aBD:iA};this.c(F)}.bind(this);if(w)bB.ak7(kB,x.data.fh);else this.lK.aia(kB,c.name,x.data.fh,"psdshared")}}if(J==L.H.YO){var c=this.je(),fv=!1;
if(c==null)return;if(c.mI){c.Q4()}if(x.data.IG){if(!this.zF(c,x.data.IG))return;var E=iG.arj(c,x.data.IG,this.lg);
this.Yy(E);fv=!0}else if(c.GD){if(this.Zw.indexOf(c.GD.HM)!=-1){var E=new Uint8Array(hR.rb("PSD").Jy(c,null,null,[!0,!1])),F=new ko(L.E.f,!0);
F.data={d:h.oq,Th:c.GD.HM,data:E,id:c.GD.amc,C0:c.name};F.v=n.uH;this.c(F);alert("Smart Object updated")}fv=!0}else if(this.DK("save")){fv=!0}else if(c.Vg){iG.ajv(c);
fv=!0}else if(c.gf){var jS=iG.ara(c);if(jS==1){alert("Already saving another file. Try again later.");
return}fv=!0}else if(c._E&&c._E.BT){if(!this.zF(c,c._E.BT.formats))return;this.lK.a3G(c,this.lg,iG.ans);
fv=!0}else if(c.J1&&"psd jpg png gif webp svg bmp".split(" ").indexOf(c.wo)!=-1){this.a7K();return}if(fv){c.TD=c.sW;
c.RO=Date.now();c.sD=!0}else{var F=new ko(L.E.N,!0);F.data={d:L.H.MZ};this.c(F)}}if(J==L.H.MZ){if(!this.lg.pa){alert("function is disabled");
return}if(this.DK("saveAsPSD"))return;var c=this.je();if(c==null)return;if(!this.zF(c))return;var F=new ko(L.E.f,!0);
F.data={d:h.yL};F.v=n.uH;this.c(F);if(c.B.length>8e3&&!confirm("Your document has "+c.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var cx={fz:[]};c.root.aoN([],cx);var bX=cx.fz;if(bX.length>11&&!confirm("One layer is nested "+(bX.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+bX.join(" \uD83E\uDC1A ")+"."))return;
var gi=window.showSaveFilePicker;if(window.parent!=window)gi=null;if(gi&&!x.data.aC4){var cM={suggestedName:c.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
gi(cM).then(function(x){c.J1=x;c.name=x.name;c.o0=!0;c.wo="psd";this.a7K()}.bind(this));return}var ea=window.gtag;
if(c.Ds()&&ea)ea("event",c.wo+":"+p.mV(j4.I4()?"\"'|('61":"w'| "),{event_category:"Formats"});if(c.mI){c.Q4()}var a1=b5==0?"PSD":"AI",db=hR.rb(a1);
if(x.data.aC4){var E=c.wo=="psd"?db.Jy(c):iG.BV(c,c.wo,this.lg);this.arN(E,c,this)}else{var E=db.Jy(c);
bB.save(E,c.name);c.TD=c.sW;c.RO=Date.now();c.sD=!0}}if(J==L.H.pp)window.open(x.data.link,"_blank");
if(J==L.H.acI){if(this.vn.Yv()){this.aB1();return}var c=this.je(),b=c.B[c.g[0]],o=c.lx(b.add.SoLd.Idnt.v);
for(var $=0;$<this.Zw.length;$++){var d2=this.Zw[$].GD;if(d2!=null&&d2.amc==o.UU&&d2.HM==c){this.P0.US($);
return}}bB.od({name:o.C0,GD:{amc:b.add.SoLd.Idnt.v,HM:c}},o.raw.buffer,this)}if(J==L.H.ays){var c=this.je(),b=c.B[c.g[0]],o=c.lx(b.add.SoLd.Idnt.v);
bB.save(o.raw.buffer,o.C0)}if(J==L.H.a9h){console.log(x.data);bB.od({name:x.data.gf[1].split("/").pop(),gf:x.data.gf},x.data.kC,this)}if(J==L.H.a0L){var c=this.je();
c.gf=x.data.gf;c.name=c.gf[1].split("/").pop();var F=new ko(L.E.N);F.data={d:L.H.YO};this.c(F)}if(J==L.H.Q5){this.aqS()}if(J==L.H._4){this.auQ(x.data.Xo,x.data.gg,x.data.ll)}if(J==L.H.R9){this.ap7(x.data.awV,x.data.f2,x.data.ll)}if(J==L.H.aDl){var hu=x.data.b;
if(this.lg.QJ==n.eY&&this.nQ().Yv()){var F=new ko(L.E.f,!0);F.v=n.eY;F.data={d:"insertText",b:hu};this.c(F);
return}if(hu.startsWith("vcb;")){var fF=JSON.parse(hu.slice(4));fF[0]=fV.acN(fF[0]);var F=new ko(L.E.f,!0);
F.v=n.dr;F.data={d:"append",wd:"Paste Paths",ahz:fF};this.c(F)}else if(hu.startsWith("lrs;")){var il=hu.split(";"),f4=this.Zw[parseInt(il[1])];
if(f4==null)return;var aK=this.je(),f9=f4.g;f4.g=JSON.parse(il[2]);var e0=f4.VG(null,f4!=aK),F=new ko(L.E.f,!0);
F.data={d:h.IK,B:e0,HM:f4,Lk:aK};F.v=n.uH;this.c(F);f4.g=f9}else if(hu.startsWith("<!--")||hu.startsWith("<svg")){var j7=D.Ey(hu),jb=hR.rb("svg"),l=new hk("image.psd");
jb.zu(j7.buffer,l);if(this.Zw.length!=0){var hN=l.B;if(hN.length==3&&hN[0].getName()=="</Layer group>"&&hN[2].Zk())hN=[hN[1]];
var F=new ko(L.E.f,!0);F.v=n.uH;F.data={d:h.IK,B:hN,HM:l,Lk:this.je()};this.c(F)}else this.aeP(l)}}if(J==L.H.w9){kj.uL(x.data.RU,this)}if(J==L.H.rG){if(window.parent!=window)window.parent.postMessage(x.data.KJ,"*");
this.mN.hY(x.data.KJ)}if(J==L.H.mW){var fe=parseFloat(x.data.AN);if(this.lg.jS.indexOf(fe)==-1){var F=new ko(L.E.N,!0);
F.data={d:L.H.bS,KJ:h4.HS,b:fe,_E:"add"};this.c(F)}this.mN.aCK(x.data.AN)}if(J==L.H.wq){this.PC.a8_(this.je(),this.lg)}if(J==L.H.yI){var a3="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var $=0;$<a3.length;$+=2)if(x.data.AN==a3[$]&&this.DK(a3[$+1]))return;if(!this.lg.pa&&x.data.window=="saveforweb"){alert("function is disabled");
return}this.vn.ad1(x.data.AN,this.je(),x.data,this.Zw,this.DV)}if(J==L.H.tQ)bB.save(x.data.data,x.data.name);
if(J==L.H.wl){if(!this.vn.Yv()||x.A8)this.aeP(x.data.Th)}if(J==L.H.h8){this.P0.US(x.data.target);var F=new ko(L.E.f,!0);
F.data={d:h.aen,Th:x.data.Th,Bd:x.data.Bd,DJ:x.data.DJ};F.v=n.uH;this.c(F);this.zb(n.Ih)}if(J==L.H.aDq){ai.mB=!ai.mB;
if(this.Zw.length>0)this.je().W()}if(J==L.H.a3u){var bH=j4.f7();if(bH!=null&&bH.globals!=null)this.Kf(bH.globals);
this.Rl()}if(J==L.H.$U){this.lK.fG(x.data.data,null,x.data.dD,x.data.GH,x.data.ado)}if(J==L.H.zq){var jB=this.nQ();
if(!this.vn.NX()!=null)this.zb(x.data.v,x.data.Ek);var jH=this.nQ();if(jH!=jB&&x.data.aue)jH.JC(this.je(),this,this.lg,this.DV,this.nq)}if(J==L.H.HA){if(this.q.$w)this.zb(this.q.$w)}if(J==L.H.jT){var dL=this.q.map[x.data.v].v,c=this.je();
dL.kT(x.data,this,c,this.DV,this.lg);if(c)c.Gf=!0;this.axA()}if(J==L.H.dC){var aq=this.q.map[x.data.v];
this.aCu(aq);aq.Iy.cg(x.data)}if(J==L.H.bS){var c=this.je(),is=x.data.KJ,dh=x.data.AF,j_=this.lg;if(x.data._E=="set"){var jH=n.V5[dh[1].classID];
if(j_.QJ!=jH)this.zb(jH);this.q.map[jH].Iy.adU(dh,j_)}if(x.data._E=="add"){var Z=h4.RH[is];if(is==h4.HS){j_.jS.push(x.data.b);
j_.jS.sort(function(gJ,iA){return gJ-iA})}else if(Z==null){if(dh)j_.a0.akI(dh,x.data.acJ);if(c)c.sD=!0}else{var cH=this.SN(is);
if(is==h4.di){cH.I2=cH.I2.concat(dh.I2);cH.Uc=cH.Uc.concat(dh.Uc);cH=cH.list;dh=dh.list}if(is==h4.Dh&&c){for(var $=0;
$<dh.length;$++){var m=dh[$].oe.Lefx;if(m)cI.af8(m,c,j_.yC)}}if(is==h4.zx&&dh==null){var l=this.q.map[j_.QJ].Iy.a9e();
if(l==null)return;dh=[l]}for(var $=0;$<dh.length;$++)cH.push(dh[$]);if(is==h4.mL){var bK={};for(var $=0;
$<cH.length;$++){var eC=cH[$].W4;while(bK[eC]!=null)eC=cH[$].W4=eC+"X";bK[eC]=!0}}if(x.data.acJ!=!0)if(cH.length!=dh.length||is==h4.Xt||is==h4.Dh||is==h4.Vl||is==h4.f)alert(h9.get(Z[3])+" "+h9.get([23,1])+".")}}if(x.data._E=="del"){if(is==h4.HS){j_.jS.splice(j_.jS.indexOf(x.data.b),1)}else{var Z=h4.RH[is],_=x.data.qz,cH=this.SN(is);
if(is==h4.di)cH=cH.list;for(var $=0;$<_.length;$++)cH[_[$]]=null;for(var $=0;$<cH.length;$++)if(cH[$]==null){cH.splice($,1);
$--}alert(h9.get(Z[3])+" deleted.")}}if(x.data._E=="rnm"){var Z=h4.RH[is],cH=this.SN(is);if(is==h4.di)cH=cH.list;
if(cH[x.data.qz[0]]==null)return;Z[2].Bw(cH[x.data.qz[0]],(x.data.ly?x.data.ly:"")+x.data.b)}if(is==h4.Y1){var fp=x.data.b;
j_.wB=fp;j_.Se[fp.lZ]=fp.h5}if(is==h4.x4){var fp=x.data.b;j_.wb=JSON.parse(JSON.stringify(fp));var jq=bs.JM(fp);
j_.$c[jq.lZ]=jq.h5}if(is==h4.YK){j_.zs=x.data.b}if(is==h4.RC){j_._G=x.data.b}if(is==h4.A7){j_.Mf=x.data.Mf}if(is==h4.rO){var Q=JSON.parse(JSON.stringify(x.data.jQ)),az=Q.useBrushSize;
if(az&&az.v){Q.Brsh.v.Dmtr.v.val=j_.SB._i.Brsh.v.Dmtr.v.val;az.v=!1}j_.SB._i=Q;var de={bV:"select",Rx:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:Q.Nm.v.split("/").pop()}}]}}},aq=this.nQ();
aq.Qf=this;aq.track(de)}if(is==h4.jG){j_.ii=x.data._Q}if(is==h4.v6){j_.AF=x.data._Q}if(is==h4.uq){var de,g3="Clrs";
if(x.data.XC<2){var hJ=x.data.b,kc=x.data.XC==0,bc=q.r.qP({o:hJ>>>16,I:hJ>>>8&255,J:hJ&255});if(kc)j_.Q6=hJ;
else j_.xR=hJ;g3=kc?"FrgC":"BckC";de={bV:"set",Rx:{__name:"Set",classID:"setd",T:{t:"Objc",v:bc}}}}if(x.data.XC==2){var kd=j_.Q6;
j_.Q6=j_.xR;j_.xR=kd;de={bV:"exchange",Rx:{__name:"Exchange",classID:"Exch"}}}if(x.data.XC==3){j_.Q6=0;
j_.xR=16777215;if(c!=null&&c.g.length!=0&&c.B[c.g[0]].tB==1){var kd=j_.Q6;j_.Q6=j_.xR;j_.xR=kd}de={bV:"reset",Rx:{__name:"Reset",classID:"Rset"}}}if(de){de.Rx.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:g3}}]};
var aq=this.nQ();aq.Qf=this;aq.track(de)}}if(is==h4.G9){j_.Q2=!j_.Q2;this.hk()}if(is==h4.v0){j_.ms=!j_.ms;
this.hk()}var jR=j_.Km;if(is==h4.GL){jR.Fe=!jR.Fe;this.hk()}if(is==h4.Dc){jR.yB=!jR.yB;this.hk()}if(is==h4.yE){jR.Kt=!jR.Kt;
this.hk()}if(is==h4.GI){jR.Ju=!jR.Ju;this.hk()}if(is==h4.oM){jR.Um=!jR.Um;this.hk()}if(is==h4.dI){jR.IL=!jR.IL;
this.hk()}if(is==h4.MU){j_.Km=x.data._Q;this.hk()}if(is==h4.aob){j_.n2=!j_.n2;this.hk()}if(is==h4.FD){j_.w4[x.data.cF]=!j_.w4[x.data.cF];
this.hk()}if(is==h4.VD){h9.mD(x.data.lang,this.cO)}if(is==h4.De){j_.zI=x.data.zI;this._()}if(is==h4.E1&&j_.cI.YD){var im=j_.cI.YD.transaction(["rsrc"],"readwrite").objectStore("rsrc"),dO={k:"fs0",fset:j_.cI.sb};
if(x.data.auU)dO={k:j_.cI.id,fset:j_.cI.nh};var jd=Object.keys(dO.fset).length==0?im.delete(dO.k):im.put(dO);
jd.onerror=function(x){console.log(x);alert("Storing failed. Browser says: "+x.target.error.message,7e3)}}this.ga(is)}};
aE.prototype.a7K=function(){var x=new ko(L.E.N,!0);x.data={d:L.H.oa,mC:"Saving ..."};this.c(x);setTimeout(function(){var x=new ko(L.E.N,!0);
x.data={d:L.H.MZ,aC4:!0};this.c(x)}.bind(this),20)};aE.prototype.arN=function(x,J){J.J1.createWritable().then(function(o){o.write(x);
return o}).then(function(o){return o.close()}).then(function(o){J.TD=J.sW;J.RO=Date.now();J.sD=!0;var c=new ko(L.E.N,!0);
c.data={d:L.H.Ew,mC:"Saving ..."};this.c(c)}.bind(this)).catch(function(o){var c=new ko(L.E.N,!0);c.data={d:L.H.Ew,mC:"Saving ..."};
this.c(c)}.bind(this))};aE.prototype.ajH=function(){var x=this.lg,J=x.AF,o=x.atx;for(var $=0;$<J.length;
$++){var c=J[$];if(o[c])continue;o[c]=!0;this.lK.Yp(c,!1,!0)}};aE.prototype.abQ=function(){this._();
this.hk()};aE.prototype.DK=function(x){var J=this.lg.Cr[x];if(J){var o=new ko(L.E.N,!0);o.data={d:L.H.w9,RU:J};
this.c(o)}return J!=null};aE.prototype.zF=function(x,J){var o=!0,l=15;if(J){o=!1;for(var $=0;$<J.length;
$++)if(J[$].startsWith(p.hC("__M")))o=!0}var c=x.Ds()||x.GD&&x.GD.HM.Ds();if(this.LM())c=!1;var E=new p.ND[cG.py],b=(E[p.mV("xy,b-66:")]()&1)*60+E[p.hC("VQ]3LNRN<G")]();
if(c&&!j4.I4()&&b>l&&o){var i=p.ND[p.mV("}$z{2*35")][p.mV("y'|!")],F=p.hC("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
F+="\n\n"+p.hC("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-b+120)+p.hC("nYRTXTBMd");
if(i.indexOf(p.mV("\"|'/-1)(W0?@"))==-1)F=h9.get([0,11+6,3+2]);p.ND._cwY(F);return!1}return!0};aE.prototype.SN=function(x){var J=this.lg,o=[h4.di,h4.f1,h4.SQ,h4.Vl,h4.Vi,h4.mL,h4.Dh,h4.Xt,h4.f,h4.zx,h4.lF],c=[J.SB,J.y9,J.qo,J.ok,J.yC,J.VP,J.sU,J.axu,J.Qg,J.Mz,J.a1E];
return c[o.indexOf(x)]};aE.prototype.aqS=function(){var x=this.auQ(),J=this.je();if(J==null||J.g.length==0)return;
var o=J.B[J.g[0]],c=new ko(L.E.f);if(x==1){c.v=n.dr;c.data={d:"remove",wd:"Cut Paths"}}else{c=new ko(L.E.p4);
c.data={bV:"delete"}}this.c(c)};aE.prototype.auQ=function(x,J,o){if(x==null)x=!1;var c=this.lg;console.log("doCopy",x,J);
var E=this.je();if(c.QJ==n.eY&&this.nQ().Yv()){var b=new ko(L.E.f,!0);b.v=n.eY;b.data={d:"copyText"};
this.c(b);return}if(E==null||E.g.length==0)return;var l=E.B[J==null?E.g[0]:J],i=E.l$(),F=i[0],k=i[1],U=F[k[0]];
if(!x&&U!=null&&U.add.vmsk.g.length!=0){var V=n.LL.nZ(U.add.vmsk,U.add.vogk);if(p.Bo()){V[0]=fV.afo(V[0]);
var u="vcb;"+JSON.stringify(V);bB.Wu(new Blob([u],{type:"text/plain"}))}else c.Sq=V;return 1}else if(E.u==null){if(p.Bo()){var u="lrs;"+this.Zw.indexOf(E)+";"+JSON.stringify(E.g);
bB.Wu(new Blob([u],{type:"text/plain"}))}}else{var N,e;if(x){var B=new ha(0,0,E.m,E.e);e=B.Kc(E.u.rect);
N=q.R(e.P()*4);q.St(E.or(),B,N,e);q.gV(E.u.channel,E.u.rect,N,e)}else if(E.X7.length!=0){e=E.u.rect.clone();
N=q.R(e.P()*4);var j=E._w[E.X7[0]],T=j.Dy(e);q.Qz(T,N);q.qR(E.u.channel,N,3)}else{var a=l.Dt(E,E.u);
if(a==null){alert("Copied area is empty");return}N=a.kC;e=a.rect}var P=E.Q.U,v=P[0]+P[1]+P[2];if(v==1){var R=P.indexOf(1);
for(var $=0;$<N.length;$+=4)N[$]=N[$+1]=N[$+2]=N[$+R]}var y=new ck(E.m,E.e);if(p.Bo()&&o!=!0){var t=hR.rb("PNG").awE(N.buffer,e.m,e.e);
bB.Wu(new Blob([new Uint8Array(t)],{type:"image/png"}));this.a6e={By:e,lQ:y}}else c.Im={buffer:N,rect:e,lQ:y};
c.apw=e.clone();c.Sq=null}};aE.prototype.ap7=function(x,J,o){if(J)this.ai5=!0;console.log("doPaste");
var c=this.lg,E=c.Im,F;if(this.Zw.length==0){if(!x&&p.Bo()){bB.kf(this,null);return}if(E){var b=hR.GN("image.psd",[{data:E.buffer.buffer,XO:E.rect}]),l=new ko(L.E.N);
l.data={d:L.H.wl,Th:b};this.c(l)}return}var b=this.je();if(c.QJ==n.eY&&this.nQ().Yv()){bB.kf(this,null);
return}var i=b.B[b.g.length==0?b.B.length-1:b.g[0]];if(c.Sq){var k=b.l$(!0),U=k[0],V=k[1];F=U[V[0]]}var l=new ko(L.E.f,!0);
if(c.Sq!=null&&F!=null){l.v=n.dr;l.data={d:"append",wd:"Paste Paths",ahz:c.Sq}}else if(!x&&p.Bo()&&o!=!0){bB.kf(this,this.alq.bind(this));
return}else{if(E==null)return;if(b.$K(!1)&&(b.Q.U.join("")!="111"||b.X7.length!=0||i.tB>0||i.rect.Kx())){l.v=n.di;
l.data={d:"draw",aB_:!0,wd:[5,2]}}else{l.v=n.uH;l.data={d:h.EZ,f2:this.ai5};this.ai5=!1}l.data.Im=E}this.c(l)};
aE.prototype.afP=function(){var x=this.lg.a0;if(x.ai2())return;for(var $=0;$<this.Zw.length;$++){var J=this.Zw[$];
if(!i6.Pn(J,x,this))continue;if(J.C6)i6.vJ(J,x,this);var o=J.add.lnk2;if(o)for(var c=0;c<o.length;c++){var E=o[c];
if(E.C6)n.Y8.jj(J,E.UU,E.pH[1],E.pH[1],x)}if(J.arn)continue;J.arn=!0;if(J._E&&J._E.agr)kj.uL(J._E.agr,this);
this.Yy();var b=new ko(L.E.f);b.v=n.uH;b.data={d:h.cJ};var l=new ko(L.E.N);l.data={d:L.H.yI,AN:"saveforweb",UY:4,index:[10,0]}}};
aE.prototype.ga=function(x){this.ajH();var J=this.lg,o=J.QJ,l=!1;if(x==h4.rO){if(this.q.map[o].Iy)this.q.map[o].Iy.DL(J,x)}else for(var c in this.q.map)if(this.q.map[c].Iy)this.q.map[c].Iy.DL(J,x);
if(x==h4.B5){if(o!=n.eY)this.q.map[n.eY].v.DL(J,x);this.afP()}this.P0.DL(J,x);this.Hc.DL(J,x);this.vn.DL(J,x);
if(b5==1&&(x==h4.Y1||x==h4.x4))this.q.map[n.WS].v.DL(J,x);else this.nQ().DL(J,x);this.mN.DL(J,x);this.g_.DL(J,x);
if(x==h4.De||x==h4.y_){a8.awo(J.zI);this.update(!0)}var E=J.Mf,b=E.kJ.Font;if(x==h4.A7&&b!=null&&E.SY[b].Name!=J.font){J.font=E.SY[b].Name;
l=!0}if([h4.HS,h4.jG,h4.v6,h4.uq,h4.G9,h4.v0,h4.MU,h4.yE,h4.GI,h4.GL,h4.Dc,h4.oM,h4.dI,h4.VD,h4.De].indexOf(x)!=-1||l)this.axA()};
aE.prototype.axA=function(){if(!this.Gq)return;var x={},J=this.q.map;for(var o in J){var c=J[o].v;if(c.hp&&c.hp()!=null)x["t"+o]=c.hp()}var E=this.lg,b=E.Km,l={guides:b.Kt,grid:b.Ju,sels:b.Fe,paths:b.yB,pgrid:b.Um,slices:b.IL,gsize:parseFloat(b.np.toFixed(2)),gunits:b.Sb,gtype:b.h4,runits:b.jm};
if(b.m4!=8421504)l.gcol=b.m4;if(b.Fb!=65535)l.gucol=b.Fb;var i={fcolor:E.Q6,bcolor:E.xR,rulers:E.Q2,extras:E.ms,favFam:E.ii,rsrc:E.AF,panels:E.jS,eparams:l,lang:h9.$W(),theme:E.zI,as:E.gH,co:E.BY,topt:x};
if(E.font!=null)i.font=E.font;var F=j4.f7();if(F==null)F={};F.globals=i;j4.T9(F)};aE.prototype.A4=function(x){var J=this.DV,o=this.nq,c=this.lg.QJ,E=this.q.map[c].v,b=null,l=!1;
for(var $=0;$<this.q.a5W.length;$++){var i=this.q.a5W[$],F=!0;for(var k=0;k<i.l1.length;k++){var U=i.l1[k];
if(!J.S(U))F=!1}if(F&&(!i.ij||!E.Yv())&&(i.Fq==null||i.Fq.indexOf(c)!=-1)){b=i.v;l=i.ij;break}}if((!o.sz||c==n.MG||x)&&this.q.ON!=b&&(b!=c||!l)){var I=this.je();
if(this.q.ON!=null&&b==null)this.nQ().disable(I,this,this.lg,J,!0);this.q.ON=b;this.nQ().enable(I,this,this.lg,J,b!=null&&b!=c)}};
aE.prototype.no=function(x){var J=this.lg.QJ,o=this.je();if(J!=null){this.q.map[J].v.disable(o,this,this.lg,this.DV)}};
aE.prototype.aCu=function(x){if(x.Iy==null){x.Iy=new x.oJ(x.v.id);x.Iy.aa4(x.v.id,x.v.Ta);x.Iy.DL(this.lg,h4.y_);
x.Iy._()}};aE.prototype.zb=function(x,J){if(x==n.Ih&&this.vn.NX())return;var o=this.je(),c=this.lg;if(this.q.map[x].v.w8(o,c,J)){this.no();
if(x!=c.QJ)this.q.$w=c.QJ?c.QJ:n.ug;c.QJ=x;this.Hc.zb(c.QJ);var E=this.q.map[x];this.q.dn[E.gP]=E.aa1;
this.aCu(E);this.Ig.a2Z(E.Iy);var b=E.v;b.enable(o,this,this.lg,this.DV,!1,J);if(o)o.Gf=!0;this.hk();
this.cB.am0()}};aE.prototype.nQ=function(x){var J=this.q,o=J.Le,c=J.ON,E=this.lg.QJ;if(o)E=o;else if(c&&x==null)E=c;
return J.map[E].v};aE.prototype.aeP=function(x){var J=this.lg,o=this.Zw.indexOf(x);if(o!=-1){this.P0.US(o);
return}if(this.Dr&&(x._E==null||x._E.BT==null)){x._E={BT:this.Dr}}if(x.z8==null){x.z8="local,"+this.a9j+","+x.name;
this.a9j++}x.RO=Date.now();if(b5==1&&x.add.arts==null)x.aeT();if(j1.q7()!=0&&!this.a2D&&p.ND[p.mV("t$&!'31")].toString().indexOf(p.mV(" u,$4&"))==-1){alert(p.mV("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var $=0;$<x.B.length;$++){var c=x.B[$];if(c.add.SoLd!=null){var E=Date.now()}}var b=x.B[x.g[0]],l=x.B[x.g[0]+1],i=x.B.length,F=cG.P4(),k=Math.PI*(6550<<14)+(p.tr(31)?20:10)*7e7;
if(F>k){var i=x.B.length;x.B=[];return i}if(ai.mB){ai.KB(Math.max(x.m,x.e));for(var $=0;$<x.B.length;
$++){var c=x.B[$];if(c.xm())ai.KB(Math.max(c.rect.m,c.rect.e))}}x.NT();x.va();if(x.agH)x.a5R();else x.W();
x.agH=!1;this.Zw.push(x);this.P0.xf(new bi(x));x.Gf=!0;x.sD=!0;this.afP();var U=new ko(L.E.f);U.v=n.pC;
U.data={d:"auto",qA:2}};aE.prototype.je=function(){return this.Zw[this.QZ]};aE.prototype.ayB=function(){return this.vn.NX()==null};
aE.prototype.VN=function(x,J){this.no();var o=this.Zw.length;if(J!=null)this.P0.US((this.P0.dT()+J+o)%o);
this.QZ=this.P0.dT();var c=this.je();this.g_.af2(c,this.lg);this.mN.L8(c,this.Zw,this.lg);this.hk();
if(c)c.Gf=!0};aE.prototype.a62=function(x){this.no();var J=this.Zw,o=J[x.data.NW];J.splice(x.data.NW,1);
if(J.length==0){this.VN(x);var c=ai.T6(),E=bi.o3.hW;if(c.parentNode)c.parentNode.removeChild(c);if(E.parentNode)E.parentNode.removeChild(E)}this.a5w(o.name)};
aE.prototype.a5w=function(x){var J=this.lg.cI,o=!1;if(J.YD==null)return;for(var c in J.nh){if(x==null||c==x){delete J.nh[c];
o=!0}}if(o){var E=new ko(L.E.N);E.data={d:L.H.bS,KJ:h4.E1,auU:!0};this.c(E)}};aE.prototype.avj=function(x){var J=[],o=x.data.aoV;
for(var $=0;$<o.length;$++)J[$]=this.Zw[o[$]];this.Zw=J;this.QZ=this.P0.dT()};aE.prototype.a03=function(x){var J=this.P0,o=J.ahc(),c=this.nQ(),E=this.je();
if(o==J.dT()||!c.amM())return;this.apk(o,c)};aE.prototype.apk=function(x,J){console.log("dup2doc");var o=this.lg,c=this.P0,E=this.je(),b=this.Zw[x],l,i=new ko(L.E.f,!0);
i.v=n.uH;if(E.u==null){i.data={d:h.IK,B:E.VG(null,!0),HM:E,Lk:b,auE:J==null};this.c(i)}else l=E.B[E.g[0]].Dt(E,E.u);
var F=this.nq,k=o.Q2;o.Q2=!1;F=E.Q.Vx(F.x,F.y);if(J)J.r_(E,this,o,this.DV);c.US(x);if(E.u){i.data={d:h.EZ,Im:{buffer:l.kC,rect:l.rect}};
this.c(i)}F=b.Q.OY(F.x,F.y);if(J)J.JC(b,this,o,this.DV,F);o.Q2=k};aE.prototype.anU=function(x){var J=this.je(),o=this.DV,c=this.lg,E=x.lN;
if(E)this.nq=E;if(E)E.y-=c.BY;if(this.az==null)this.az=0;if(x.action=="multidown"){this.OG=x.B6.length;
this.az=Date.now()}if(x.action=="up"&&Date.now()-this.az<100){var b=new ko(L.E.f);b.v=n.$y;b.data={d:this.OG==2?"h_stepbck":"h_stepfwd"};
this.c(b)}if(x.action.startsWith("multi")){var l=new ko(L.E.f,!0);l.data={d:x.action,B6:x.B6};l.v=n.PE;
this.c(l);return}var i=this.q.map[n.ug].v;if((x.action=="down"||x.action=="rdown")&&c.QJ!=n.ug&&this.q.ON!=n.ug&&i.aaQ(J,this,c,o,E)){this.q.Le=n.ug;
i.enable(J,this,c,o,!0)}if(x.action=="idown"){o.km("Space");this.A4(!0);x.action="down"}var F=this.vn.NX(),k=F!=null&&F.XH()&&this.q.ON==null?F:this.nQ();
if(x.action=="scroll"){var U=!o.S(dG._k)&&x.ia,l=new ko(L.E.f,!0);l.data={d:"scroll",s_:x.s_.clone(),lN:E,a5B:U};
l.v=o.S(dG.Zj)||U?n.PE:n.cL;this.c(l)}if(F!=null&&k!=F&&this.vn.Yv()&&k.id!=n.cL&&k.id!=n.PE)return;
if(x.action=="down")k.JC(J,this,c,o,E);if(x.action=="rdown")k.G_(J,this,c,o,E);if(x.action=="move")k.OC(J,this,c,o,E);
if(x.action=="up"||x.action=="iup"||x.action=="cancellast")k.w7(J,this,c,o,E,x.action=="cancellast");
if(x.action=="rup")k.KY(J,this,c,o,E);if(x.action=="iup"){o.nG("Space");this.A4(!0)}if(x.action=="cancellast"){if(J&&J.history.length!=0&&Date.now()-J.history[J.history.length-1].aAP<200){var b=new ko(L.E.f);
b.v=n.$y;b.data={d:"h_stepbck"};this.c(b)}}var V=this.mN;if(x.action=="down")V.JC(J,this,c,o,E);if(x.action=="move")V.OC(J,this,c,o,E);
if(x.action=="up")V.w7(J,this,c,o,E);if(x.action=="down"||x.action=="up"){this.A4()}if(x.action=="down"||x.action=="up"||x.action=="ctx"){J.Gf=!0}if((x.action=="up"||x.action=="rup")&&this.q.Le){this.q.Le=null;
i.disable(J,this,c,o)}};aE.prototype.V_=function(x){var J=this.je(),o=this.nq;if(J&&this.nQ().dP(o,this.DV)){var c=J.Q,E=c.T3.m,b=c.T3.e,l=0,i=0,F=16;
if(o.x<F)l=F-o.x;if(o.x>E-F)l=o.x-(E-F);if(o.y<F)i=F-o.y;if(o.y>b-F)i=o.y-(b-F);var k=this.DV.S(dG.uJ)?8:1;
if((l!=0||i!=0)&&(J.m*c.Z>E||J.e*c.Z>b)){l=Math.min(5,l*.5)*k;i=Math.min(5,i*.5)*k;if(o.x>F)l=-l;if(o.y>F)i=-i;
c.z.x+=l;c.z.y+=i;this.anU({lN:this.nq,action:"move"});J.o0=!0}}this.update()};aE.prototype.update=function(x){var J=this.je();
if(J==null)return;if(b5!=0){if(J.buffer)throw"e"}if(J.Gf){var o=this.q.map;for(var c in o){if(o[c].v.XX)o[c].v.XX(J,this,this.lg,this.DV)}if(b5==1){o[n.WS].v.XX(J,this,this.lg,this.DV,!0)}}if(J.mI&&b5==0)if(ai.mB)ai.KB(Math.max(J.m,J.e));
if(J.mI&&b5==0){J.Q4()}var E=J.Q,b=this.tk,l=this.tk=Date.now();if(J.mI||J.ji||J.sD||J.o0||x||E.Fo!=E.Z||!E.n4.U5(E.z)){var i=E.Fo;
if(E.Fo!=E.Z){var F=n.FF.apf(E.Z,E.Fo>E.Z),k=.12;if(E.Fo<E.Z&&E.Fo<F)E.Fo=F;if(E.Fo>E.Z&&E.Fo>F)E.Fo=F;
var U=Math.abs(E.Z-F)*(l-b)*.001/k;if(E.Fo<E.Z)E.Fo=Math.min(E.Z,E.Fo+U);else E.Fo=Math.max(E.Z,E.Fo-U)}var I=i==E.Z?0:(E.Fo-E.Z)/(i-E.Z);
E.n4.x=E.z.x+I*(E.n4.x-E.z.x);E.n4.y=E.z.y+I*(E.n4.y-E.z.y);this.P0.DL(this.lg,null);this.P0.L8(J,this.Zw)}if((J.mI||J.o0||J.Gf)&&(!this.nq.sz||J.yx)){if(J.Gf)J.va();
this.mN.L8(J,this.Zw,this.lg);this.Hc.agz(J,this.DV);J.$t=!1}J.yx=!1;J.Gf=!1;J.mI=null;J.ji=J.sD=J.o0=!1};
aE.prototype.Ht=function(x){var J=x.target.tagName.toLowerCase(),o=x.target.getAttribute("type"),c=dG,E=c.eW(x.code,c.eP);
if(!((J=="input"||J=="select"||J=="button")&&c.eW(x.code,c.Id))){if(c.vV(x)&&J!="select"){x.preventDefault()}this.DV.km(c.mq(x));
this.B3("down")}};aE.prototype.C1=function(x){if(x.key==" ")this.DV.yi();if(dG.eW(x.code,dG.s6))this.DV.reset();
this.DV.nG(dG.mq(x));var J=x.target.tagName.toLowerCase();if(dG.vV(x)&&J!="select"){x.preventDefault()}this.B3("up")};
aE.prototype.B3=function(x){var J=this.DV,o=this.je(),c=o!=null&&o.g.length!=0;if(this.PC.NX()!=null){if(J.S(dG.Fh)||J.S(dG.eP)){this.PC.ayy()}return}this.A4();
var E=this.kB(dG._k),b=J.S(dG.Zj),l=J.S(dG.uJ);if(E&&J.S(dG.Mv)&&x=="down"){var i=new ko(L.E.f),F=new ko(L.E.N);
i.v=n.$y;if(l){i.data={d:"h_stepfwd"}}else{i.data={d:"h_stepbck"}}if(this.vn.NX()!=null&&this.vn.NX().Yv()){}else this.c(i)}if(E){var i=new ko(L.E.f),k=new ko(L.E.p4),F=new ko(L.E.N);
if(J.S(dG.kL)&&J.S(dG.KK)){F.data={d:L.H.yI,AN:"storwindow"};this.c(F)}if(!b&&x=="down")for(var U in dv.keys){var I=dv.keys[U],V=!0;
for(var $=0;$<I.length;$++)if(!J.S(I[$]))V=!1;if(V){i.v=n.pC;if(U=="hue2"&&l&&o.B[o.g[0]].add.SoLd==null)i.data={d:"auto",qA:3};
else i.data={d:"start",fI:U}}}if(J.S(dG.H)){if(b){k.data={bV:"selectAllLayers",Rx:{classID:"null",null:hi.X$("Lyr",!0)}}}else k.data=n.vh.No(!0)}if(J.S(dG.uA)){if(b)F.data={d:L.H.yI,AN:"csize"};
else if(o)F.data={d:L.H._4,Xo:l}}if(J.S(dG.er)&&o.u){k.data=n.vh.No()}if(J.S(dG.E)&&x=="down"){if(l)k.data={bV:"mergeVisible"};
else k.data={bV:"mergeLayersNew",Rx:{__name:"Merge Layers",classID:"Mrg2"}}}if(J.S(dG.E6)){if(l&&this.lg.QJ!=n.Ih)F.data={d:L.H.yI,AN:"afw_fade"};
else if(b){i.v=n.CP;i.data={d:"applylast"}}else F.data={d:L.H.wq}}if(J.S(dG.EB)){if(b&&o&&o.b3(o.g[0])){i.v=n.uH;
i.data={d:h.LE}}else{i.v=n.uH;i.data={d:h.z9,PM:l}}}if(J.S(dG.Ip)){F.data={d:L.H.bS,KJ:h4.v0}}if(J.S(dG.kL)){if(l){i.data=null;
if(b)F.data={d:L.H.yI,AN:"finfo"};else k.data={bV:"inverse"}}else if(b)F.data={d:L.H.yI,AN:"isize"}}if(J.S(dG.cr)){k.data={bV:(l?"cut":"copy")+"ToLayer"}}if(J.S(dG.Pv)){F.data={d:L.H.yI,AN:"preferences"}}if(J.S(dG.V7)){if(l){i.v=n.uH;
i.data={d:h.H5}}else if(x=="down")F.data={d:L.H.yI,AN:"newproject"}}if(J.S(dG.LY)){if(b)F.data={d:L.H.yI,AN:"storwindow",ns:0};
else{F.data={d:L.H.o2};J.reset()}}if(J.S(dG.Wa)){F.data={d:L.H.awQ};J.reset()}if(J.S(dG.iJ)){F.data={d:L.H.bS,KJ:h4.G9}}if(J.S(dG.Pu)&&x=="down"){if(l){if(b)F.data={d:L.H.yI,AN:"saveforweb"};
else F.data={d:L.H.MZ}}else F.data={d:L.H.YO}}if(J.S(dG.Ex)){if(l){i.v=n.uH;i.data={d:h.gc};this.c(i);
i.v=n.Ih;i.data={d:"again"}}else F.data={d:L.H.zq,v:n.Ih}}if(J.S(dG.iw)){F.data={d:L.H.R9}}if(J.S(dG.tO)){this.P0.sC()}if(J.S(dG.eO)&&o&&o.jg()){F.data={d:L.H.Q5}}if(J.S(dG.Ic)||J.S(dG.br)){i.v=n.uH;
i.data={d:h.FX,XC:0};if(J.S(dG.Ic))i.data.XC=l?3:2;else i.data.XC=l?0:1}if(J.S(dG.m7)&&o){i.v=n.uH;i.data={d:h.cm}}if(J.S(dG.eP)&&o){var u=0;
if(l)u++;if(b)u+=2;i.v=n.Ks;i.data={d:"frompath",T1:[null,0,u]}}if(J.S(dG.wn)){k.data=n.Pm.y1(0)}if(J.S(dG.Id)){var N=this.Zw.length,e=J.S(dG.uJ)?-1:1;
if(N>1)this.P0.US((this.P0.dT()+N+e)%N)}if(J.S(dG.nH)){F.data={d:L.H.bS,KJ:h4.yE}}if(J.S(dG.Jd)){F.data={d:L.H.bS,KJ:h4.GI}}n.FF.afr(J,i);
if(this.vn.NX()!=null&&this.vn.NX().Yv()){}else{if(i.data)this.c(i);if(k.data)this.c(k);if(F.data)this.c(F)}}if(!E&&b){var B;
if(J.S(dG.Ic))B="Bckw";if(J.S(dG.br))B="Frwr";if(J.S(dG.m7))B="Back";if(J.S(dG.wn))B="Frnt";if(B){var k=new ko(L.E.p4);
k.data={bV:"select",Rx:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:B}}]},MkVs:{t:"bool",v:!1}}};
this.c(k)}}if(o&&o.g.length!=0){var j=o.B[o.g[0]],T=j.tB;if(T==1||T==3||E){var i=new ko(L.E.f),a=T==3?j.O5(o).F:j.Da();
if(a){var P=a.AH?o.Q.U.join("")=="111"?1:2:0;i.v=n.PE;if(a&&J.S(dG.Fh)&&P!=0){i.data={d:"mskView",b:0}}if(a&&J.S(dG.ail)){i.data={d:"mskView",b:P==1?0:1}}if(a&&J.S(dG.aBl)){i.data={d:"mskView",b:P==2?0:2}}if(i.data)this.c(i)}}}var v=J.m2();
if(o&&E&&2<=v&&v<=5){var R=[1,1,1];if(v>2){R=[0,0,0];R[v-3]=1}var y=new ko(L.E.f,!0);y.v=n.cL;y.data={d:"setcls",U:R};
this.c(y)}if(!J.S(dG._k)&&!b&&x=="down"){var i=new ko(L.E.f),F=new ko(L.E.N),t=this.q.map[this.lg.QJ],g=-1;
for(var $=0;$<this.q.keys.length;$++)if(this.q.keys[$]&&this.kB(this.q.keys[$]))g=$;if(g!=-1){var H=null;
if(t.gP!=g)H=this.q.dn[g];if(t.gP==g&&l)H=(t.aa1+1)%this.q.aF[g].length;if(H!=null){var _=this.q.aF[g][H].v.id,Y=this.lg.rW;
if((Y==null||Y.indexOf(parseInt(_))!=-1)&&!this.nq.sz)F.data={d:L.H.zq,v:_}}}if(J.S(dG.Ip))F.data={d:L.H.zq,v:n.cL};
if(J.S(dG.iJ))F.data={d:L.H.zq,v:n.ZE};if(J.S(dG.eO))F.data={d:L.H.bS,KJ:h4.uq,XC:2};if(J.S(dG.er))F.data={d:L.H.bS,KJ:h4.uq,XC:3};
if(F.data)this.c(F);if(J.S(dG.ajz)&&o&&o.g.length==1){var j=o.B[o.g[0]];i.v=n.uH;var K=j.Sm(0)||j.Sm(1)||j.Sm(2)||j.Sm(31);
i.data={d:h.QF,_Q:K?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.c(i)}var v=J.m2();if(c&&v!=-1&&this.kB(dG.uF[v])){var f=o.g[0],j=o.B[f],m=dG.lm(Math.round(100*j.opacity/255),v);
i.v=n.uH;i.data={d:h.CE,_Q:Math.round(255*m/100)};this.c(i)}var C=this.lg.uO;if(J.S(dG.Id)){F.data={d:L.H.ri,b:C==0?1:0};
this.c(F)}if(J.S(dG.E6)||J.S(dG.Fh)&&C==2){var Z=document.fullscreenElement!=null==(C==2);F.data={d:L.H.ri,b:C==0?2:0,S6:Z};
this.c(F)}if(J.S(dG.A2)&&!this.nq.sz){i.v=n.Ks;i.data={d:"qmask"};this.c(i)}}if(!J.S(dG._k)&&!b&&l){var i=new ko(L.E.f),F=new ko(L.E.N);
if(J.S(dG.m7))F.data={d:L.H.yI,AN:"shortcuts"};if(J.S(dG.vG))F.data={d:L.H.yI,AN:"fill"};if(J.S(dG.amA))F.data={d:L.H.yI,AN:"sel_feather"};
if(c&&(J.S(dG.l7)||J.S(dG.oN))){var f=o.g[0],j=o.B[f],A=iP.f5,d=A.length,G=A.indexOf(j.n5);i.v=n.uH;
i.data={d:h.QA,_Q:(G+d+(J.S(dG.l7)?1:-1))%d};this.c(i)}if(F.data)this.c(F)}var i=new ko(L.E.f),r=x=="down"&&(this.kB(dG.OT)||this.kB(dG.BK));
if((E||b)&&r){i=new ko(L.E.p4);i.data=n.mv.uQ(E?"BckC":"FrgC");this.c(i)}else if(this.vn.NX()==null&&o&&r&&!this.nq.sz){if(o.u!=null){i=new ko(L.E.p4);
i.data={bV:"delete"}}else if(o.g.length!=0){var j=o.B[o.g[0]];if(j.tB==1)i.data={d:h.Z5};else if(j.tB==3)i.data={d:h.vM};
else i.data={d:h.ni};i.v=n.uH}this.c(i)}if(this.vn.NX()!=null){if(J.S(dG.Fh)){this.vn.NX().anz()}else{this.vn.NX().B3(o,this,this.lg,J)}}if(this.lg.QJ==null)return;
var t=this.nQ();if(this.vn.NX()==null||this.q.ON)t.B3(o,this,this.lg,J)};aE.prototype.kB=function(x){var J=this.DV,o=this.q.map[this.lg.QJ].v,top=this.vn.NX(),c=this.je();
return J.S(x)&&!o.f3(x,c)&&(top==null||!top.f3(x,c))};aE.prototype.Y$=function(x){var J=this.agm,o=this.ey;
this.lg.uO=x;var c=p.j5,E=this.g_.n;if(c(E))this.s1.removeChild(E);var b=this.Ig.n;if(c(b))this.s1.removeChild(b);
var l=this.Hc.n;if(c(l))J.removeChild(l);var i=this.P0.n;if(c(i))J.removeChild(i);var F=this.mN.n;if(c(F))J.removeChild(F);
if(x==0){this.s1.appendChild(E);this.s1.appendChild(b);o.appendChild(J);J.appendChild(l);J.appendChild(i);
J.appendChild(F)}if(x==1){this.s1.appendChild(E);J.appendChild(i)}if(x==2){J.appendChild(i)}this.P0.Y$(x==2?1:0);
this.hk()};aE.prototype.akq=function(x){if(this.LM())return 1;if(p.avF()==0){this.lg={};this.ip=function(J,o){return Math.sqrt(J*o)}}return-1};
aE.ak0=function(){var x=b5==0?[[{v:new n.fp,oJ:aa},{v:new n.s8,oJ:iN}],[{v:new n.hv,oJ:bR,bc:0},{v:new n.Lr,oJ:cN,bc:0}],[{v:new n.Jj,oJ:e6,bc:0},{v:new n.L9,oJ:eM,bc:0},{v:new n.WA,oJ:al,bc:0}],[{v:new n.pm,oJ:aO,bc:0},{v:new n.Ph,oJ:dF,bc:0},{v:new n.Q3,oJ:h5,bc:0}],[{v:new n.abG,oJ:jE},{v:new n.a8k,oJ:g2},{v:new n.XN,oJ:be,bc:0},{v:new n.p8,oJ:iR,bc:0}],[{v:new n.um,oJ:aD},{v:new n.jU,oJ:dR,bc:0},{v:new n.zX,oJ:jm}],[{v:new n.GA,oJ:gZ,bc:0},{v:new n.i4,oJ:aA,bc:0},{v:new n.y5,oJ:eJ,bc:0},{v:new n.az4,oJ:g0,bc:0},{v:new n.cx,oJ:dl,bc:0}],[{v:new n.fy,oJ:bb,bc:0},{v:new n.jN,oJ:i1,bc:0},{v:new n.mk,oJ:jp,bc:0}],[{v:new n.qS,oJ:cB,bc:0}],[{v:new n.gY,oJ:ae,bc:0},{v:new n.zO,oJ:gG,bc:0},{v:new n.X4(!0),oJ:g7,bc:0}],[{v:new n.yT,oJ:bZ,bc:0},{v:new n.X4,oJ:g7,bc:0}],[{v:new n.BL,oJ:iI,bc:0},{v:new n._z,oJ:c2,bc:0},{v:new n.vb,oJ:gF,bc:0}],[{v:new n.Zo,oJ:an,bc:0},{v:new n.Uj,oJ:hy,bc:0},{v:new n.Qb,oJ:hf,bc:0}],[{v:new n.Hx,oJ:au},{v:new n.h$,oJ:au}],[{v:new n.EN(0),oJ:bW},{v:new n.ra,oJ:jy},{v:new n.EN(1),oJ:bW}],[{v:new n.tU,oJ:en},{v:new n.qe,oJ:ag}],[{v:new n.Rect,oJ:k6},{v:new n.yr,oJ:a_},{v:new n.E_,oJ:kl},{v:new n.hH,oJ:kp},{v:new n.PP,oJ:cd}],[{v:new n._7,oJ:bI},{v:new n.My,oJ:bS}],[{v:new n.FF,oJ:bq}]]:[[{v:new n.fp,oJ:aa}],[{v:new n.qe,oJ:ag}],[{v:new n.EN(0),oJ:bW}],[{v:new n.ra,oJ:jy}],[{v:new n.Hx,oJ:au},{v:new n.h$,oJ:au}],[{v:new n.E_,oJ:kl}],[{v:new n.Rect,oJ:k6},{v:new n.yr,oJ:a_},{v:new n.hH,oJ:kp},{v:new n.PP,oJ:cd}],[{v:new n.a0f,oJ:bI}],[{v:new n._7,oJ:bI},{v:new n.My,oJ:bS}],[{v:new n.FF,oJ:bq}]],J=b5==0?[dG.iw,dG.os,dG.FQ,dG.tO,dG.uA,dG.kL,dG.cr,dG.gz,dG.Pu,dG.E,dG.EB,null,dG.LY,dG.Ex,dG.Wa,dG.H,dG.KK,dG.Ip,dG.Mv]:[dG.iw,dG.H,dG.Wa,null,dG.Ex,null,dG.os,dG.Ip,dG.Mv],o={a5W:[{v:n.PE,ij:!1,l1:[dG.ab2,dG.nw]},{v:n.cL,ij:!1,l1:[dG.nw]},{v:n.N0,ij:!0,l1:[dG._k],Fq:[n.sK]},{v:n.sK,ij:!0,l1:[dG._k],Fq:[n.N0]},{v:n.S3,ij:!0,l1:[dG._k],Fq:[n.dr,n.WS,n.Zp]},{v:n.dr,ij:!0,l1:[dG._k],Fq:[n.S3,n.Ni,n.YM,n.nF,n.wX,n.jZ]},{v:n.ug,ij:!0,l1:[dG._k]}],aF:x,dn:[],keys:J,LV:[{v:new n.as7,oJ:kF},{v:new n.a12,oJ:e1},{v:new n.a4M,oJ:ei},{v:new n.um(!0),oJ:aD},{v:new n.g6,oJ:eb}],U8:[{v:new n.Y8},{v:new n.History},{v:new n.D4},{v:new n.BH},{v:new n.FP},{v:new n.zW}],map:{},$w:null,ON:null,Le:null},c=o.aF,l="",i="";
for(var $=0;$<c.length;$++){var E=c[$];if(j1=="---")continue;for(var b=0;b<E.length;b++)if(E[b].bc!=null&&E[b].bc!=b5){E.splice(b,1);
b--}if(E.length==0){c.splice($,1);o.keys.splice($,1);$--}}for(var $=0;$<o.aF.length;$++){var F=o.aF[$];
if(F=="---")continue;var k=o.keys[$];for(var b=0;b<F.length;b++){o.map[F[b].v.id]=F[b];F[b].gP=$;F[b].aa1=b;
var U=h9.get(F[b].v.name);i+="<li>"+F[b].v.id+": "+U+"</li>";l+="\t"+JSON.stringify(F[b].v.name)+", "+(k?"\""+k.fm+"\"":"null")+", "+F[b].v.id+", // "+U+"\n"}o.dn[$]=0}for(var $=0;
$<o.LV.length;$++)o.map[o.LV[$].v.id]=o.LV[$];for(var $=0;$<o.U8.length;$++)o.map[o.U8[$].v.id]=o.U8[$];
return o};function j5(x){gB.call(this);if(x==null)return;this.Qh=null;this.ao=null;this.n=p.i("div","sbar"+" "+x);
this.nR=new p.i("div","top");this.nR.innerHTML="> <";this.n.appendChild(this.nR);this.Hl=1;this.nR.addEventListener("click",this.aa2.bind(this),!1)}j5.prototype=new gB;
j5.prototype.aa2=function(x){if(this.Qh!=null&&this.Qh<500&&this.Hl==0)return;if(this.Hl==0)this.E$(!0);
else this.collapse(!0)};j5.prototype.a55=function(x){this.Hl=x;this.nR.innerHTML=this.Hl==0?"< >":"> <"};
j5.prototype.ajV=function(){var x=new ko(L.E.N,!0);x.data={d:L.H.bO};this.c(x)};j5.prototype.E$=function(x){this.a55(1);
if(x)this.ajV()};j5.prototype.collapse=function(x){this.a55(0);if(x)this.ajV()};j5.prototype.yW=function(){return this.Hl==1};
function hr(x,J){j5.call(this,"vcolumn");this.YL=x;this.ajB=J;this.md();this.Pt=p.i("div");this.Pt.setAttribute("style","cursor:default;");
this.amu=this.a2s.bind(this);this.azM=this.avm.bind(this);this.aAF=this.asq.bind(this);p.Ra(this.n,this.amu);
this.n.appendChild(this.Pt);this.T_=p.i("div");this.Pt.appendChild(this.T_);this.M8=-1;this.a7U=p.i("div","float");
var o=this.hm=p.i("canvas","gsicon"),c=Math.round(12*p.IJ());o.width=o.height=c;var E=o.getContext("2d");
E.moveTo(2,2);E.lineTo(c-2,c-2);E.moveTo(2,7);E.lineTo(c-7,c-2);E.stroke();this.hm.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
p.Oo(this.hm);p.Ra(this.hm,this.amu);p.Op(o);this.rJ=[];this.iv=[];this.aBz=null;this.G7=null;this.ai0=0}hr.prototype=new j5;
hr.prototype.a2s=function(x){var J=x.target==this.hm;if(!J){if(x.target!=this.n)return;if(!this.yW())return}else{var o=this.rJ[this.M8].nz;
o.style.pointerEvents="none";var c=o.getBoundingClientRect();this.aBz=[c.width,c.height];this.iv[this.M8]=[c.width,c.height]}x.stopPropagation();
this.G7=p.x2(x,document.body);this.ai0=this.YL;p.aP(document,this.azM);p.iU(document,this.aAF)};hr.prototype.avm=function(x){var J=p.x2(x,document.body);
if(this.yW()){this.YL=this.ai0+this.G7.x-J.x;this.md()}else{var o=this.iv[this.M8],c=this.aBz;o[0]=c[0]+this.G7.x-J.x;
o[1]=c[1]+J.y-this.G7.y}var E=new ko(L.E.N,!0);E.data={d:L.H.bO};this.c(E)};hr.prototype.asq=function(x){if(!this.yW()){var J=this.rJ[this.M8].nz;
J.style.pointerEvents="auto"}p.Qx(document,this.azM);p.Ro(document,this.aAF)};hr.prototype.agK=function(x){x.k("showFloat",this.adi,this);
x.k("hideFloat",this.hd,this);this.rJ.push(x);x.parent=this;this.Pt.appendChild(x.n)};hr.prototype.a4Q=function($){var x=this.rJ[$];
x.removeEventListener("showFloat",this.adi,this);x.removeEventListener("hideFloat",this.hd,this);this.rJ.splice($,1);
x.parent=null;this.Pt.removeChild(x.n)};hr.prototype.ad6=function(){return this.rJ.length};hr.prototype.Rv=function(){for(var $=0;
$<this.rJ.length;$++)this.rJ[$].Rv()};hr.prototype.adi=function(x){this.Rv();var J=this.a7U;this.T_.appendChild(J);
this.M8=this.rJ.indexOf(x.currentTarget);var o=this.rJ[this.M8].nz;p.LX(J);J.appendChild(o);J.appendChild(this.hm);
this.ip(this.Qh,this.ao)};hr.prototype.hd=function(x){this.Rv();if(this.M8!=-1){this.T_.removeChild(this.a7U);
this.M8=-1}};hr.prototype.md=function(){function x(J){return Math.round(J*p.IJ())/p.IJ()}this.n.setAttribute("style","width: "+this.YL+"px; border-left-width:"+x(4)+"px; cursor:ew-resize;")};
hr.prototype.E$=function(x){this.md();this.hd();for(var $=0;$<this.rJ.length;$++)this.rJ[$].E$();j5.prototype.E$.call(this,x)};
hr.prototype.collapse=function(x){this.n.removeAttribute("style");for(var $=0;$<this.rJ.length;$++)this.rJ[$].collapse();
j5.prototype.collapse.call(this,x)};hr.aiV=11;hr.prototype.ip=function(x,J){this.Qh=x;this.ao=J;J-=hr.aiV;
var o=this.rJ.length;if(o==0)return;if(!this.yW()){var c=J<400?J:400+(J-400)*.5;for(var $=0;$<o;$++){var E=this.rJ[$],b=this.iv[$];
E.ip(b?b[0]:this.YL,b?b[1]:c)}}else{var l=J;for(var $=0;$<o;$++){var E=this.rJ[$],i=E.a5t();if($==o-1){i=l;
E.n.style.borderBottom="none"}E.ip(this.YL,i);l-=i+4}}};function dU(x){gB.call(this);this.n=p.i("div");
this.Pt=null;this.ee=0;this.bs=0;this.aA9=x;this.acC=this.eN.bind(this);this.al5=this.FB.bind(this);
this.aDf=this.cK.bind(this);this.HQ=null;this.ou=null;this.CU=null;p.Ra(this.n,this.acC);var J=this.n,c="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
J.addEventListener("touchmove",p.nA,!1);this.af0=!0;this.Hj=[];var o=this.a1u=p.i("div");o.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(o);var E=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",c+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",c+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",c+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var $=0;$<E.length;$++){var b=new eH(E[$]);this.Hj.push(b);b.n.setAttribute("style","margin-left:"+($<7?4:0)+"px;cursor:pointer;");
b.k("click",this.bp,this)}}dU.prototype=new gB;dU.prototype._=function(){var x=this.a1u;p.LX(x);for(var $=0;
$<this.Hj.length;$++){var J=this.Hj[$];if($<5)J._();x.appendChild(J.n)}};dU.prototype.bp=function(x){var $=this.Hj.indexOf(x.currentTarget);
if($==0){if(window.showCap)window.showCap();return}var J=" issues learn blog api twitter facebook".split(" "),o=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),c=window.ga;
if(c)c("send","event","Links",J[$]);var E=new ko(L.E.N,!0);E.data={d:L.H.pp,link:o[$]};this.c(E)};dU.prototype.eN=function(x){if(x.a2W){x.preventDefault();
x.stopPropagation()}var J=window;p.aP(J,this.al5);p.iU(J,this.aDf);J=this.Pt;this.HQ=new ck(parseInt(J.style.left),parseInt(J.style.top));
this.ou=p.x2(x,this.n);this.CU=J.getBoundingClientRect()};dU.prototype.FB=function(x){var J=p.x2(x,this.n),o=this.HQ.x+J.x-this.ou.x,c=this.HQ.y+J.y-this.ou.y,E=this.ee-this.CU.width,b=this.bs-this.CU.height;
if(this.aA9)this.Pt.style.left=Math.min(0,Math.max(E,o))+"px";else this.Pt.style.top=Math.min(0,Math.max(b,c))+"px";
if(o-10>0){this.ou.x=J.x-10;this.HQ.x=0}if(o+10<E){this.ou.x=J.x+10;this.HQ.x=E}};dU.prototype.cK=function(x){var J=window;
p.Qx(J,this.al5);p.Ro(J,this.aDf)};dU.prototype.avB=function(x){if(this.Pt){this.n.removeChild(this.Pt)}this.Pt=x;
this.n.appendChild(x);x.style.position="absolute";if(this.aA9)x.style.left=0;else x.style.top=0};dU.prototype.ip=function(x,J){this.ee=x;
this.bs=J;this.n.setAttribute("style","position:relative; width: "+x+"px; height: "+J+"px; overflow:hidden; white-space: nowrap; ");
var o=this.Pt.firstChild,c=this.a1u,E=o?o.firstChild.getBoundingClientRect().width+80:1e9,b=170,l=this.af0&&x>E+b;
c[cG.$l][cG.aCM]=l?"":cG.UX;var i=this.Hj;for(var $=0;$<i.length;$++){var F=$>4||x-E>500?"":cG.UX,k=i[$];
k.n.style.display=F}};dU.prototype.am0=function(){this.Pt.style.left="0";this.Pt.style.top="0"};function hQ(){gB.call(this);
this.Vh=null;this.QQ=hQ.Wa;this.ajI="";this.n=p.i("div","rightbar");this.dH=[new hr(300),new hr(268,!0)];
this.rJ=[new h_,new h_,new h_,new h_,new h_,new h_,new h_];this.auM=[]}hQ.prototype=new gB;hQ.prototype._=function(){var x=this.QQ;
for(var $=0;$<x.length;$++)x[$].BM._()};hQ.Wa=[{BM:new cP,nE:3},{BM:new fY,nE:1},{BM:new cX,nE:4},{BM:new f8,nE:2},{BM:new fj(!0),nE:5},{BM:new aT,nE:0},{BM:new gX,nE:5},{BM:new kf,nE:3},{BM:new bD,nE:0},{BM:new hP,nE:3},{BM:new gY,nE:2},{BM:new hp,nE:4},{BM:new hw,nE:3},{BM:new fd,nE:5},{BM:new fj(!1),nE:5},{BM:new ju,nE:2},{BM:new hL,nE:3},{BM:new du,nE:1},{BM:new cc,nE:0},{BM:new cu,nE:5},{BM:new bV,nE:6,UK:!0},{BM:new fy,nE:6,UK:!0},{BM:new bh,nE:6,UK:!0},{BM:new a7,nE:6,UK:!0}];
(function(){var x=[{id:jj.iJ.ad7,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var $=0;$<x.length;$++)hQ.Wa.push({BM:new ec(x[$],100+$),nE:6,UK:!0})}());hQ.prototype.ah7=function(x){for(var $=0;
$<x.length;$++){var J=x[$],o=new ec(J,"plg_"+J.name);this.QQ.push({BM:o,nE:6});this.auM.push(o.Lh)}this.A1()};
hQ.prototype.DL=function(x,J){this.Vh=x;var o=this.QQ;for(var $=0;$<o.length;$++)o[$].BM.DL(x,J);if(J==h4.HS||J==h4.y_)this.A1()};
hQ.prototype.hY=function(x){var J=this.QQ;for(var $=0;$<J.length;$++)J[$].BM.hY(x)};hQ.prototype.ip=function(x,J){this.Qh=x;
this.ao=J;this.A1();this.dH[0].ip(x,J);this.dH[1].ip(x,J)};hQ.prototype.A1=function(){var x=this.Vh,J=this.Qh,o=this.ao;
if(x==null||J==0)return;var c=x.jS.concat(this.auM),E=J<500||J<700&&J<o,b=JSON.stringify(c)+","+E;if(b!=this.ajI){this.ajI=b;
p.LX(this.n);var l=[];for(var $=0;$<this.dH.length;$++){var i=this.dH[$];l[$]=i.yW();while(i.ad6()!=0)i.a4Q(0);
i.E$()}var F=[];for(var $=0;$<this.rJ.length;$++){var k=this.rJ[$];k.E$();while(k.aee()!=0)k.xZ(0);F.push(0)}for(var $=0;
$<c.length;$++){var U=this.ars(c[$].toString());if(U==null)continue;this.rJ[U.nE].xf(U.BM);this.rJ[U.nE].US(0);
F[U.nE]++}var I=[];for(var $=0;$<F.length;$++){if(F[$]==0)continue;var V=$<3||E?1:0,i=this.dH[V];i.parent=this;
i.agK(this.rJ[$]);I[V]=!0}for(var $=0;$<this.dH.length;$++)if(I[$])this.n.appendChild(this.dH[$].n);
this.dH[0].collapse();if(J<700||this.Vh.compact||!l[1]){this.dH[1].collapse()}var u=new ko(L.E.N,!0);
u.data={d:L.H.bO};this.c(u)}};hQ.prototype.ars=function(x){for(var $=0;$<this.QQ.length;$++)if(this.QQ[$].BM.Lh==x)return this.QQ[$]};
hQ.prototype.aCK=function(x){var J=this.ars(x);this.rJ[J.nE].xf(J.BM)};hQ.prototype.L8=function(x,J,o){var c=this.QQ;
for(var $=0;$<c.length;$++)c[$].BM.L8(x,J,o)};hQ.prototype.JC=function(x,J,o,c,E){var b=this.QQ;for(var $=0;
$<b.length;$++)b[$].BM.JC(x,J,o,c,E)};hQ.prototype.OC=function(x,J,o,c,E){var b=this.QQ;for(var $=0;
$<b.length;$++)b[$].BM.OC(x,J,o,c,E)};hQ.prototype.w7=function(x,J,o,c,E){var b=this.QQ;for(var $=0;
$<b.length;$++)b[$].BM.w7(x,J,o,c,E)};function iV(x,J){j5.call(this,"toolbar");this.n.removeChild(this.nR);
this.EK=p.i("div","tools");this.n.appendChild(this.EK);this.rW=null;this.QJ=null;this.aum=J;this.Z_=null;
this.VE=null;this.ahm=-1;this.aks={};this.abt=x;this.q=null;this.FZ=null;this.X_=null;this.Sf=null;this.Dn=new ii;
this.Dn.n.style.marginTop="5px";this.Dn.n.style.marginBottom="3px";this.Dn.parent=this;this.kU=new eH(p.e3("lrs/mask"),!1,[6,6,1]);
this.kU.k("click",function(b){var l=new ko(L.E.f,!0);l.v=n.Ks;l.data={d:"qmask"};this.c(l)},this);var o=new fA(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
o.k(L.E.A,this.a3_,this);var c=p.i("span","rangecontFloat form padded");c.appendChild(o.n);c.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var E=this.n;this.aj0=[!1,!1,!1,!1];this.YT=new eH(p.e3("kb"),!1,"Virtual Keys");this.YT.k("click",function(b){var l=this.YT.n.getBoundingClientRect();
c.style.top=l.top-110+"px";c.style.left=l.left+l.width+8+"px";if(p.j5(c)){p.Wo({n:c},E)}else{E.appendChild(c);
p.xS({n:c})}},this)}iV.prototype=new j5;iV.prototype.a3_=function(x){var J=x.target.h();this.YT.w(J[0]||J[1]||J[2]||J[3]);
var o=new ko(L.E.N,!0);for(var $=0;$<4;$++){if(J[$]!=this.aj0[$]){o.data={d:L.H.aBe,sz:J[$],aDy:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][$]};
this.c(o)}}this.aj0=J.slice(0)};iV.prototype.agz=function(x,J){this.Z_=J;this.VE=x;if(x==null||x.g.length==0||x.B[x.g[0]]==null)return;
var o=x.kU()!=null,c=x.Q.U,E=x.B[x.g[0]].tB,b=E==1||E==3||o||c[0]+c[1]+c[2]==1;this.Dn.adG(b);this.kU.w(o)};
iV.prototype.alB=function(x,J){var o=x.length,c=[];for(var $=0;$<o;$++)c[$]=x[$].slice(0);x=c;var E=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],b=Math.min(E.length/2,o-J);
for(var $=0;$<b;$++){var l=E[2*$],i=E[2*$+1];x[l]=x[l].concat(x[i]);x[i]=null}for(var $=0;$<x.length;
$++)if(x[$]==null){x.splice($,1);$--}return x};iV.prototype.aCb=function(x,J){for(var $=0;$<J.length;
$++)for(var o=0;o<J[$].length;o++)if(J[$][o].v.id==x)return $};iV.prototype.arg=function(x){var J=this.abt;
this.FZ=[];this.X_=[];this.Sf=[];this.q=[];var o=J.aF;if(x!=null&&this.aum)o=this.alB(o,x);var c=this.rW;
if(c){var E=[];for(var $=0;$<o.length;$++){var b=[];for(var l=0;l<o[$].length;l++){var i=o[$][l];if(c==null||c.indexOf(parseInt(i.v.id))!=-1)b.push(i)}if(b.length>0)E.push(b)}o=E}for(var $=0;
$<o.length;$++){var F=[],k=this.FZ.length,U=null,I=-1;for(var l=0;l<o[$].length;l++){var i=o[$][l].v,V=this.aCb(i.id,J.aF),u=J.keys[V];
if(u==dG.Ip&&l==1)u=dG.iJ;this.q.push(i);var N=new fN(i.name,u,i.Ta,this.FZ.length,$,o[$].length>1);
this.FZ.push(N);var e=this.aks[i.id];if(e==null)e=0;if(e>I){I=e;U=N}N.k(L.E.A,this.l4,this);N.k("mover",this.o$,this);
F.push({name:i.name,hh:i.Ta,l1:u?u.fm:""})}this.X_.push(U);this.Sf.push(F.length==1?null:[F,k])}};iV.prototype.ip=function(x,J){var o=this.ao=J,c=32;
if(1<p.IJ()&&p.IJ()<1.5)c=18+14*(1/p.IJ());var E=39+23,b=Math.floor((o-E)/c);if(b!=this.ahm){this.ahm=b;
this.arg(b);this.zb()}var l=this.X_.length*c+E,i=Math.min(1,o/l);if(.75<=i){this.EK.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+i+","+i+");");
this.n.setAttribute("style","height:"+(J-2)+"px;")}else{o-=4;this.EK.setAttribute("style","height: "+o+"px;  width:"+Math.ceil(l/o)*34+"px");
this.n.setAttribute("style","")}};iV.prototype._=function(){if(this.q==null)return;for(var $=0;$<this.FZ.length;
$++)this.FZ[$]._()};iV.prototype.l4=function(x){var J=new ko(L.E.N,!0);J.data={d:L.H.zq,v:this.q[x.id].id};
this.c(J)};iV.prototype.a87=function(x){var J=x.target.a2r+x.target.xi()[0];this.FZ[J].cK(null,!0)};
iV.prototype.o$=function(x){var J=this.Z_,o=new ko(L.E.N,!0);o.data={d:L.H.i0};this.c(o);var c=x.target,E=this.Sf[c.gP];
if(E==null)return;var b=new iy(E[0],null,!0);b.a2r=E[1];b.gP=c.gP;b.k("select",this.a87,this);b.parent=this;
b._();var l=c.n.getBoundingClientRect(),o=new ko(L.E.N,!0);o.data={d:L.H.c4,BM:b,x:l.left+l.width+8,y:l.top};
if(J==null||!(J.S(dG.nw)||J.S(dG._k)))this.c(o)};iV.prototype.zb=function(x){if(x==null)x=this.QJ;this.QJ=x;
if(this.q==null)return;this.aks[x]=Date.now();var J=-1;for(var $=0;$<this.q.length;$++)if(this.q[$].id==x)J=$;
for(var $=0;$<this.FZ.length;$++){var o=this.FZ[$];o.abF(J==$)}if(J==-1)return;this.X_[this.FZ[J].gP]=this.FZ[J];
p.LX(this.EK);var c=this.X_;for(var $=0;$<c.length;$++){this.EK.appendChild(c[$].n)}if(!this.aum)return;
this.EK.appendChild(this.Dn.n);if(this.ao>640)this.EK.appendChild(this.kU.n);this.EK.appendChild(this.YT.n)};
iV.prototype.DL=function(x,J){if(J==h4.y_&&x.rW){this.rW=x.rW;this.arg();this.zb()}this.Dn.azV(x.Q6,x.xR);
if(b5==1&&J==h4.YK){this.Dn.a56(x,this.VE)}};function fN(x,J,o,c,E,b){gB.call(this);this.en=0;this.E8=this.a99.bind(this);
this.gP=E;this.dy=c;this.pM=x;this.EV=J;this.ac2=b;this.Ta=o;this.n=p.i("button","");this.n.innerHTML=p.e3(this.Ta);
if(this.ac2){var l=p.i("img","gsicon");l.setAttribute("src",PIMG["tools/corner"]);l.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild(l)}this.n.addEventListener("touchstart",p.nA,!1);this._();p.Ra(this.n,this.eN.bind(this));
p.iU(this.n,this.cK.bind(this));this.n.addEventListener("contextmenu",this.E8,!1);this.n.addEventListener("contextmenu",fN.NV,!1)}fN.prototype=new gB;
fN.NV=function(x){x.stopPropagation();x.preventDefault();return!1};fN.prototype._=function(){var x=this.EV?" ("+this.EV.fm+")":"";
this.n.setAttribute("title",h9.get(this.pM)+x)};fN.prototype.eN=function(x){fN.El=this.dy;this.en=setTimeout(this.E8,160)};
fN.prototype.cK=function(x,J){if(J==null&&fN.El!=this.dy)return;clearTimeout(this.en);var o=new ko(L.E.A,!1);
o.target=this;o.id=this.dy;this.c(o)};fN.prototype.a99=function(x){var J=new ko("mover",!1);J.target=this;
J.id=this.dy;this.c(J)};fN.prototype.abF=function(x){this.n.className=x?"toolbtn active":"toolbtn"};
function a2(){gB.call(this);this.n=p.i("div","topbar");this.gE=p.i("span","");this.aBK=0;this.n.appendChild(this.gE);
this.SG=null;this.$f=null;this.DW=[];this.jS=[];var x=this.eN.bind(this);for(var $=0;$<a2.data.length;
$++){var J=p.i("button");this.DW.push(J);var o=a2.data[$];J.addEventListener("mouseover",x,!1);p.Ra(J,x)}this.iL=new eH([0,13,0],!1,null,!0);
this.iL.k("click",this.ud,this);this.n.appendChild(this.iL.n);this.oF=new eH(p.e3("tools/zoom",null,"autoscale"),!1,[12,86]);
this.oF.k("click",this.ud,this);this.n.appendChild(this.oF.n);this.n7=new eH("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.n7.k("click",this.ud,this);this.n.appendChild(this.n7.n)}a2.prototype=new gB;a2.prototype.ayn=function(){if(this.jS.length!=0)return;
for(var $=0;$<a2.data.length;$++){var x=a2.data[$],J=new iy(x.items,x.Sg);J.parent=this;this.jS.push(J)}this._()};
a2.prototype._=function(){this.iL._();this.oF._();this.n7._();for(var $=0;$<this.DW.length;$++)this.DW[$].textContent=h9.get(a2.data[$].name);
this.a6z();for(var $=0;$<this.jS.length;$++)this.jS[$]._()};a2.prototype.ud=function(x){var J=new ko(L.E.N,!0);
if(x.target==this.iL)J.data={d:L.H.yI,AN:"account"};else if(x.target==this.oF)J.data={d:L.H.wq};else J.data={d:L.H.ri,S6:!0};
this.c(J)};a2.prototype.af2=function(x,J){this.SG=x;this.$f=J};a2.prototype.DL=function(x,J){this.$f=x;
if(J==h4.y_){var o=x.are;p.LX(this.gE);for(var $=0;$<this.DW.length;$++){var c=a2.data[$];if(o==null||o[$]==1||o[$]instanceof Array)if(c.bc==null||c.bc==b5)this.gE.appendChild(this.DW[$]);
if(o!=null&&o[$]instanceof Array){this.ayn();this.jS[$].aog(o[$])}}this.n.removeChild(this.iL.n);this.n.removeChild(this.oF.n);
this.n.removeChild(this.n7.n);if(x.Hg)this.n.appendChild(this.iL.n);this.n.appendChild(this.oF.n);this.n.appendChild(this.n7.n)}this.a6z()};
a2.prototype.a6z=function(x,J){var o=this.iL,c=12255232;if(j4.c6())c=j4.I4()?43520:16755200;o.n.setAttribute("style","color:#ffffff; background-color:#"+q.uW(c))};
a2.prototype.eN=function(x){this.ayn();var $=this.DW.indexOf(x.currentTarget),J=this.jS[$];if(x.type=="mouseover"&&!p.j5(this.jS[this.aBK].n))return;
if(p.j5(J.n))return;x.a2W=!0;this.aBK=$;for(var $=0;$<a2.data.length;$++)this.jS[$].update(this.SG,this.$f);
var o=x.target.getBoundingClientRect(),c=new ko(L.E.N,!0);c.data={d:L.H.c4,BM:J,x:o.left,y:o.top+o.height+2,apq:!0};
this.c(c)};a2.axM=function(x){var J=dG,o=J._k,c=J.uJ,E=J.Zj,b=function(k){return{T:k!=null}},l=function(k){return{T:k!=null&&k.u!=null}},i={name:[0,5],bc:0,items:[{name:[7,0],T:b,l1:[o,J.H]},{name:[7,1],l1:[o,J.er],T:l},{name:[7,2],l1:[c,o,J.kL],T:l,U7:!0},{name:"Remove BG",T:function(k){return{T:k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.Kx()}}},{name:[7,8],T:b,hV:!0},{name:[7,13],hV:!0,T:function(k){return{T:k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.Kx()}},U7:!0},{name:[7,11],hV:!0,T:function(k){return{T:k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.Kx()}}},{name:[7,3],T:b,U7:!0,sub:[{name:[7,9],hV:!0,T:l},{name:[19,3,0],hV:!0,T:l},{name:[7,4],hV:!0,T:l},{name:[7,5],hV:!0,T:l},{name:[7,6],hV:!0,T:l,l1:"Shift+F6"}]},{name:"Grow",T:l},{name:"Similar",T:l,U7:!0},{name:[7,10],T:l,U7:!0},{name:[6,6,1],T:function(k){return{T:k!=null,tK:k!=null&&k.kU()!=null}},l1:[J.A2],U7:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],T:l}],Sg:[{K:L.E.p4,C:n.vh.No(!0)},{K:L.E.p4,C:n.vh.No()},{K:L.E.p4,C:{bV:"inverse"}},{K:L.E.f,v:n.Ks,C:{d:"bgrm",b:1}},{K:L.E.N,C:{d:L.H.yI,AN:"crange"}},{K:L.E.N,C:{d:L.H.yI,AN:"magiccut"}},{K:L.E.N,C:{d:L.H.yI,AN:"redge"}},{sub:[{K:L.E.N,C:{d:L.H.yI,AN:"sel_border"}},{K:L.E.N,C:{d:L.H.yI,AN:"sel_smoothness"}},{K:L.E.N,C:{d:L.H.yI,AN:"sel_expand"}},{K:L.E.N,C:{d:L.H.yI,AN:"sel_contract"}},{K:L.E.N,C:{d:L.H.yI,AN:"sel_feather"}}]},{K:L.E.p4,C:{bV:"grow",Rx:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:L.E.p4,C:{bV:"similar",Rx:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:L.E.N,C:{d:L.H.zq,v:n.Nw}},{K:L.E.f,v:n.Ks,C:{d:"qmask"}},{K:L.E.N,C:{d:L.H.yI,AN:"loadsel"}},{K:L.E.N,C:{d:L.H.yI,AN:"savesel"}}]};
if(x){var F=i.items.length-1;i.items.splice(F-2,0,{name:[6,49],l1:[o,J.cr],U7:!0});i.Sg.splice(F-2,0,{K:L.E.p4,C:{bV:"copyToLayer"}});
i.items.splice(F-1,0,{name:[10,16],l1:[E,o,J.Ex]});i.Sg.splice(F-1,0,{K:L.E.N,C:{d:L.H.zq,v:n.Ih}})}return i};
a2.R5=function(x,J){if(x==null||x.g.length==0)return!1;var o=x.B[x.g[0]];return o.add.TySh!=null&&J.QJ==n.eY};
a2.a7G=function(){var x=dG,J=x._k,o=x.uJ,c=x.Zj,E=function(b){return{T:b!=null}};return[[{name:[5,0],l1:[J,x.eO],T:function(b,l){return{T:b!=null&&(b.jg()||a2.R5(b,l))}}},{name:[5,1],l1:[J,x.uA],T:E},{name:[5,2],l1:[J,x.iw],T:function(b,l){return{T:a2.R5()||p.Bo()||l.Im!=null||l.Sq!=null||l.azF!=null}}},{name:[2,2],T:function(b,l){return{T:b!=null&&(b.u!=null||a2.R5(b,l))}},l1:"Delete",U7:!0}],[{K:L.E.N,C:{d:L.H.Q5}},{K:L.E.N,C:{d:L.H._4}},{K:L.E.N,C:{d:L.H.R9}},{K:L.E.p4,C:{bV:"delete"}}]]};
a2.data=function(){var x=dG,J=x._k,o=x.uJ,c=x.Zj,E=function(u){return{T:u!=null&&u.g.length!=0}},b=function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].add.SoLd!=null}},l=function(u){return{T:u!=null}},i=function(u){return{T:u!=null&&u.$K(!1)}},F=[],k=[],U="none maxx avrg medn minn rang stdv summ vari".split(" "),I=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var $=0;$<U.length;$++){F.push({name:I[$],T:function(u,N){if(u==null||u.g.length!=1)return{T:!1};
var e=u.B[u.g[0]].add.SoLd;if(e==null)return{T:!1};return{T:!0,tK:e.Impr.v.classID==this.apX}}.bind({apX:U[$]})});
k.push({K:L.E.f,v:n.uH,C:{d:h.Y7,_Q:U[$]}})}var V=a2.a7G(!0);return[{name:[0,0],items:[{name:[5,3],l1:[c,J,x.V7],title:[11,7],hV:!0},{name:[1,0],l1:[J,x.LY],hV:!0},{name:[1,11],hV:!0,T:l},{name:["VAR0 VAR1",[1,0],[0,14]],U7:!0,sub:[{name:"Storage",hV:!0,l1:[c,J,x.LY]},{name:[1,5],hV:!0},{name:[11,0],hV:!0},{name:["PSD VAR0",[25,0]],hV:!0}]},{name:[1,18],U7:!0,T:l,sub:[{name:"PNG",l1:"Imgur.com",T:function(u,N){return{T:u!=null&&N.pa}}},{name:"JPG",l1:"Imgur.com",T:function(u,N){return{T:u!=null&&N.pa}}},{name:"PSD",l1:"Photopea.com",T:function(u,N){return{T:u!=null&&N.pa&&!u.k6}}}]},{name:"Save ...",l1:[J,x.Pu],T:function(u,N){var e=h9.get([1,2]),B=!0;
if(u){if(u.GD)e+=" ("+h9.get([6,7,1])+")";if(u.Vg)e+=" (Google Drive)";if(u.gf)e+=" ("+Storage.list[u.gf[0]][0]+")";
B="psd jpg png gif webp svg bmp".split(" ").indexOf(u.wo)!=-1}return{T:u!=null&&(u.gf!=null||u.J1!=null&&B||u.GD!=null||u._E!=null&&u._E.BT!=null||u.Vg!=null||N.Cr.save!=null),hI:e}}},{name:b5==0?[1,3]:"Save as AI",T:function(u,N){return{T:u!=null&&N.pa}}},{name:["VAR0 VAR1",[1,2],[0,14]],T:l,sub:[{name:(b5==0?"PSD":"AI")+" to Storage",T:function(u,N){return{T:u!=null&&N.pa}}},{name:["VAR0 PSD/PSB",[1,2]],hV:!0,T:function(u,N){return{T:u!=null&&N.pa}}}]},{name:[1,8],T:l,sub:function(){var u=hR.ZG(0),N=[];
for(var $=0;$<u.length;$++)N.push({name:u[$],l1:"."+u[$].toLowerCase()});N.push({name:[0,14],sub:function(){var u=hR.ZG(1),N=[];
for(var $=0;$<u.length;$++)N.push({name:u[$],l1:"."+u[$].toLowerCase()});return N}()});return N}()},{name:[1,4],hV:!0,T:l,U7:!0},{name:[1,9],hV:!0,T:l},{name:"Export Color Lookup",hV:!0,T:l,U7:!0},{name:[1,14],hV:!0,T:l,U7:!0},{name:[1,17],sub:[{name:"Batch",hV:!0},{name:"PDF Presentation",hV:!0},{name:"Convert Formats",hV:!0},{name:"Generate Mockups",hV:!0,T:l}]},{name:[1,10],hV:!0}],Sg:[{K:L.E.N,C:{d:L.H.yI,AN:"newproject"}},{K:L.E.N,C:{d:L.H.o2}},{K:L.E.N,C:{d:L.H.o2,a36:!0}},{sub:[{K:L.E.N,C:{d:L.H.yI,AN:"storwindow",ns:0}},{K:L.E.N,C:{d:L.H.yI,AN:"open_from_url"}},{K:L.E.N,C:{d:L.H.yI,AN:"camera"}},{K:L.E.N,C:{d:L.H.yI,AN:"res0"}}]},{sub:[{K:L.E.N,C:{d:L.H.I9,UY:"png"}},{K:L.E.N,C:{d:L.H.I9,UY:"jpg"}},{K:L.E.N,C:{d:L.H.I9,UY:"psd"}}]},{K:L.E.N,C:{d:L.H.YO}},{K:L.E.N,C:{d:L.H.MZ}},{sub:[{K:L.E.N,C:{d:L.H.yI,AN:"storwindow",ns:1}},{K:L.E.N,C:{d:L.H.yI,AN:"savepsb"}}]},{sub:function(){var u=hR.ZG(0),N=[];
for(var $=0;$<u.length;$++)N.push({K:L.E.N,C:{d:L.H.yI,AN:"saveforweb",UY:$}});N.push({sub:function(){var e=hR.ZG(0).length,u=hR.ZG(1),N=[];
for(var $=0;$<u.length;$++)N.push({K:L.E.N,C:{d:L.H.yI,AN:"saveforweb",UY:e+$}});return N}()});return N}()},{K:L.E.N,C:{d:L.H.yI,AN:"saveforweb",UY:5,a9g:!0}},{K:L.E.N,C:{d:L.H.yI,AN:"eassets"}},{K:L.E.N,C:{d:L.H.yI,AN:"exlut"}},{K:L.E.N,C:{d:L.H.yI,AN:"finfo"}},{sub:[{K:L.E.N,C:{d:L.H.yI,AN:"batch"}},{K:L.E.N,C:{d:L.H.yI,AN:"pdfpres"}},{K:L.E.N,C:{d:L.H.yI,AN:"cformat"}},{K:L.E.N,C:{d:L.H.yI,AN:"mockups"}}]},{K:L.E.N,C:{d:L.H.yI,AN:"script"}}]},{name:[0,1],items:[{name:[2,8],T:l},{name:[2,0],T:l,l1:[o,J,x.Mv]},{name:[2,1],T:l,l1:[J,x.Mv],U7:!0},{name:[2,11],l1:[o,J,x.E6],U7:!0,hV:!0,T:function(u,N){return{T:eS.a0w(u)&&N.QJ!=n.Ih}}},V[0][0],V[0][1],{name:[5,7],l1:[o,J,x.uA],T:function(u){return{T:u!=null&&u.jg()}}},V[0][2],V[0][3],{name:[2,3],T:l,hV:!0,l1:[o,x.vG]},{name:[14,9],T:l,hV:!0,U7:!0},{name:[10,48],T:i},{name:[10,46],T:function(u){return{T:n.g6._R(u)}}},{name:[10,16],T:l,l1:[c,J,x.Ex]},{name:[2,4],T:l,sub:c_.aBH()},{name:[2,10,1],T:l},{name:[2,10,0],T:l,U7:!0},{name:[12,87],T:l,sub:[{name:[12,62],T:l},{name:[9,3],T:l},{name:[10,31],T:function(u){return{T:u!=null&&u.l$()[1].length!=0}}}]},{name:[1,15],hV:!0},{name:[12,79],hV:!0,l1:[J,x.Pv]},{name:[1,13],hV:!0}],Sg:[{K:L.E.f,v:n.$y,C:{d:"h_undoredo"}},{K:L.E.f,v:n.$y,C:{d:"h_stepfwd"}},{K:L.E.f,v:n.$y,C:{d:"h_stepbck"}},{K:L.E.N,C:{d:L.H.yI,AN:"afw_fade"}},V[1][0],V[1][1],{K:L.E.N,C:{d:L.H._4,Xo:!0}},V[1][2],V[1][3],{K:L.E.N,C:{d:L.H.yI,AN:"fill"}},{K:L.E.N,C:{d:L.H.yI,AN:"stroke"}},{K:L.E.N,C:{d:L.H.zq,v:n.Es}},{K:L.E.f,v:n.CP,C:{d:"start",xc:"rigidTransform"}},{K:L.E.N,C:{d:L.H.zq,v:n.Ih}},{sub:c_.auY()},{K:L.E.p4,C:{bV:"align",Rx:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:L.E.f,v:n.uH,C:{d:h.cJ}},{sub:[{K:L.E.N,C:{d:L.H.Qn,KJ:0}},{K:L.E.N,C:{d:L.H.Qn,KJ:1}},{K:L.E.N,C:{d:L.H.Qn,KJ:2}}]},{K:L.E.N,C:{d:L.H.yI,AN:"pmanager"}},{K:L.E.N,C:{d:L.H.yI,AN:"preferences"}},{K:L.E.N,C:{d:L.H.yI,AN:"locstor"}}]},{name:[0,2],items:[{name:[12,36],T:l,U7:!0,sub:[{name:"RGB",T:function(u){if(u==null)return{T:!1};
return{tK:u.add.fcmy==null,T:!0}}},{name:"CMYK",T:function(u){if(u==null)return{T:!1};return{tK:u.add.fcmy!=null,T:!0}}}]},{name:[3],T:l,U7:!0,sub:function(){var u=[];
for(var N in dv.names){u.push({name:dv.names[N],hV:jM[N]!=null,l1:dv.keys[N],U7:dv.ax$.indexOf(N)!=-1});
if(N=="selc"){u.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],hV:!0,U7:!0});u.push({name:[19,7,0],l1:[J,o,x.KK],T:i});
u.push({name:[4,18],hV:!0,T:i})}}return u}()},{name:[4,16,0],T:i},{name:[4,16,1],T:i},{name:[4,16,2],T:i,U7:!0},{name:[11,11,1],T:i,hV:!0},{name:[11,11,0],T:i,hV:!0,U7:!0},{name:[11,3],T:l,hV:!0,l1:[c,J,x.uA]},{name:[11,10],T:l,hV:!0,l1:[c,J,x.kL]},{name:[2,4],T:l,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],T:function(u){return{T:u!=null&&u.u!=null}}},{name:[11,12,0],T:l,l1:[J,x.wn],hV:!0},{name:[11,12,2],T:l,U7:!0},{name:[12,53],T:l},{name:[2,12],T:i,hV:!0,U7:!0},{name:[2,14],T:l,hV:!0}],Sg:[{sub:[{K:L.E.f,v:n.ug,C:{d:"fcmy",b:0}},{K:L.E.f,v:n.ug,C:{d:"fcmy",b:1}}]},{sub:function(){var u=[];
for(var N in dv.names){u.push({K:L.E.f,v:n.pC,C:{d:"start",fI:N}});if(N=="selc"){u.push({K:L.E.f,v:n.CP,C:{d:"start",xc:"adaptCorrect"}});
u.push({K:L.E.p4,C:{bV:"desaturate"}});u.push({K:L.E.f,v:n.pC,C:{d:"start",fI:"matc"}})}}return u}()},{K:L.E.p4,C:{bV:"levels",Rx:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:L.E.p4,C:{bV:"levels",Rx:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:L.E.p4,C:{bV:"levels",Rx:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:L.E.N,C:{d:L.H.yI,AN:"rcolors"}},{K:L.E.N,C:{d:L.H.yI,AN:"vbitmap"}},{K:L.E.N,C:{d:L.H.yI,AN:"csize"}},{K:L.E.N,C:{d:L.H.yI,AN:"isize"}},{sub:[{K:L.E.p4,C:n.Y.zt(!0,90)},{K:L.E.p4,C:n.Y.zt(!0,-90)},{K:L.E.p4,C:n.Y.zt(!0,-180)},{K:L.E.p4,C:n.Y.zt(!1,"Hrzn")},{K:L.E.p4,C:n.Y.zt(!1,"Vrtc")}]},{K:L.E.p4,C:{bV:"crop",Rx:{__name:"Crop",classID:"Crop"}}},{K:L.E.N,C:{d:L.H.yI,AN:"trim"}},{K:L.E.p4,C:{bV:"revealAll",Rx:{classID:"RvlA"}}},{K:L.E.p4,C:{bV:"duplicate",Rx:{classID:"Dplc",null:hi.X$("Dcmn",!0)}}},{K:L.E.f,v:n.pC,C:{d:"start",fI:"aply"}},{K:L.E.N,C:{d:L.H.yI,AN:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],T:l,sub:[{name:[0,3],l1:[o,J,x.V7]},{name:[0,4]},{name:[1,16,0],hV:!0},{name:[1,16,3],hV:!0,U7:!0},{name:[6,49,0],l1:[J,x.cr]},{name:[6,49,1],l1:[o,J,x.cr],T:function(u){return{T:u!=null&&u.u!=null&&u.$K(!1)}}}]},{name:[6,0],T:E,l1:[J,x.cr]},{name:[11,4],T:E},{name:[5,4],T:E,U7:!0},{name:[11,6],T:E,U7:!0,sub:ky.ZZ(!0)},{name:[6,48,1],T:l,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],T:l,U7:!0,sub:ky.aoO()},{name:[6,2],T:l,sub:[{name:[6,4],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].Da()==null}}},{name:[6,5,0],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].Da()==null}}},{name:[6,5,1],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].Da()==null&&u.u!=null}}},{name:[6,5,2],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].Da()==null&&u.u!=null}}},{name:[6,5,3],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].Da()==null}},U7:!0},{name:[5,4],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].Da()!=null}}},{name:[5,8],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].Da()!=null&&u.$K(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].Da()!=null}}}]},{name:[6,3],T:l,sub:[{name:[6,4],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].add.vmsk==null}}},{name:[6,5,0],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].add.vmsk==null}}},{name:[12,76,7],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].add.vmsk==null}},U7:!0},{name:[5,4],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],T:function(u){return{T:u!=null&&u.g.length!=0&&u.B[u.g[0]].add.vmsk!=null}}}]},gY.aA8(!0),{name:[6,7,1],T:l,U7:!0,sub:[{name:[6,7,0],U7:!0},{name:"Open (Edit Contents)",T:b,hV:!0},{name:"Replace Contents",T:b,hV:!0},{name:"Export Contents",T:b,hV:!0,U7:!0},{name:[6,36,4],T:b,sub:F},{name:"Turn into JPG",T:b}]},{name:[6,8],T:gY.aiA},{name:[6,34],U7:!0,T:function(u){if(u==null||u.g.length==0)return{T:!1};
var N=u.B[u.g[0]];return{T:N.add.lmfx!=null&&!N.Zk()}}},{name:[6,9],T:l,U7:!0,l1:[J,x.EB]},{name:[6,55],T:l,sub:[{name:[6,56,0],l1:[o,J,x.br]},{name:[6,56,1],l1:[J,x.br]},{name:[6,56,2],l1:[J,x.Ic]},{name:[6,56,3],l1:[o,J,x.Ic]}]},{name:"Combine Shapes",T:l,U7:!0,sub:[{name:[18,1],hh:"set/union"},{name:[18,2],hh:"set/difference"},{name:[18,3],hh:"set/intersection"},{name:[18,4],hh:"set/xor"}]},{name:[6,58],T:l,U7:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],l1:[J,x.E],T:function(u){var N=u==null?0:u.g.length;
return{T:N!=0&&(N!=1||u.g[0]!=0),hI:h9.get(N>1||N==1&&u.B[u.g[0]].Zk()?[6,12,0]:[6,10])}}},{name:[6,12,1],T:l},{name:[2,13],T:l}],Sg:[{sub:[{K:L.E.f,v:n.uH,C:{d:h.H5}},{K:L.E.f,v:n.uH,C:{d:h.ag}},{K:L.E.N,C:{d:L.H.yI,AN:"newartb",ns:0}},{K:L.E.N,C:{d:L.H.yI,AN:"newartb",ns:1}},{K:L.E.p4,C:{bV:"copyToLayer"}},{K:L.E.p4,C:{bV:"cutToLayer"}}]},{K:L.E.f,v:n.uH,C:{d:h.gc}},{K:L.E.N,C:{d:L.H.yI,AN:"duplinto"}},{K:L.E.f,v:n.uH,C:{d:h.ni}},{sub:ky.z4(!0)},{sub:[{K:L.E.f,v:n.Ni,C:{d:"newfill",jP:0}},{K:L.E.p4,C:n.Au.uQ(1)},{K:L.E.p4,C:n.Au.uQ(2)}]},{sub:ky.Mk()},{sub:[{K:L.E.f,v:n.uH,C:{d:h.UZ,ns:"RvlA"}},{K:L.E.f,v:n.uH,C:{d:h.UZ,ns:"HdAl"}},{K:L.E.f,v:n.uH,C:{d:h.UZ,ns:"RvlS"}},{K:L.E.f,v:n.uH,C:{d:h.UZ,ns:"HdSl"}},{K:L.E.f,v:n.uH,C:{d:h.UZ,ns:"Trns"}},{K:L.E.f,v:n.uH,C:{d:h.Z5}},{K:L.E.f,v:n.uH,C:{d:h.Uq}},{K:L.E.f,v:n.uH,C:{d:h.YB}}]},{sub:[{K:L.E.f,v:n.uH,C:{d:h.B_,aaG:!1}},{K:L.E.f,v:n.uH,C:{d:h.B_,aaG:!0}},{K:L.E.f,v:n.uH,C:{d:h.B_,a2i:!0}},{K:L.E.f,v:n.uH,C:{d:h.fH}},{K:L.E.f,v:n.uH,C:{d:h.vu}}]},{K:L.E.f,v:n.uH,C:{d:h.LE}},{sub:[{K:L.E.p4,C:{bV:"newPlacedLayer"}},{K:L.E.p4,C:{bV:"placedLayerEditContents",Rx:{classID:"placedLayerEditContents"}}},{K:L.E.p4,C:{bV:"placedLayerReplaceContents",Rx:{classID:"placedLayerReplaceContents"}}},{K:L.E.p4,C:{bV:"placedLayerExportContents",Rx:{classID:"placedLayerExportContents"}}},{sub:k},{K:L.E.f,v:n.uH,C:{d:h.a6s}}]},{K:L.E.p4,C:{bV:"rasterizeLayer",Rx:{classID:"rasterizeLayer",null:hi.X$("Lyr",!0)}}},{K:L.E.f,v:n.uH,C:{d:h.n_}},{K:L.E.f,v:n.uH,C:{d:h.z9}},{sub:[{K:L.E.f,v:n.uH,C:{d:h.FX,XC:0}},{K:L.E.f,v:n.uH,C:{d:h.FX,XC:1}},{K:L.E.f,v:n.uH,C:{d:h.FX,XC:2}},{K:L.E.f,v:n.uH,C:{d:h.FX,XC:3}}]},{sub:[{K:L.E.f,v:n.uH,C:{d:h.w2,ZP:0}},{K:L.E.f,v:n.uH,C:{d:h.w2,ZP:1}},{K:L.E.f,v:n.uH,C:{d:h.w2,ZP:2}},{K:L.E.f,v:n.uH,C:{d:h.w2,ZP:3}}]},{sub:[{K:L.E.f,v:n.uH,C:{d:h.th,XC:"makeframes"}},{K:L.E.f,v:n.uH,C:{d:h.th,XC:"unmakeframes"}},{K:L.E.f,v:n.uH,C:{d:h.th,XC:"merge"}}]},{K:L.E.p4,C:{bV:"mergeLayersNew",Rx:{__name:"Merge Layers",classID:"Mrg2"}}},{K:L.E.p4,C:{bV:"flattenImage"}},{K:L.E.f,v:n.CP,C:{d:"start",xc:"defr"}}]},a2.axM(!1),function(){var u={name:[0,6],bc:0,items:[{name:[24,18,4],l1:[c,J,x.E6],T:l,U7:!0}],Sg:[{K:L.E.f,v:n.CP,C:{d:"applylast"}}]};
for(var $=0;$<fn.OM.length;$++){var N=fn.OM[$];if(N.h5!=null){var e={name:fn.names[N.h5],hV:!0,U7:N.U7,T:l};
if(N.h5=="VaPo")e.T=i;u.items.push(e);u.Sg.push({K:L.E.f,v:n.CP,C:{d:"start",xc:N.h5}});continue}var B={name:N.aR,sub:[],T:l};
u.items.push(B);var j={sub:[]};u.Sg.push(j);for(var T=0;T<N.TB.length;T++){var a={name:fn.names[N.TB[T]],hV:fn.Bt(N.TB[T])!=null};
B.sub.push(a);var P={K:L.E.f,v:n.CP,C:{d:"start",xc:N.TB[T]}};j.sub.push(P)}}return u}(),{name:[0,7],items:[{name:[8,0],T:l,l1:[J,x.l7]},{name:[8,1],T:l,l1:[J,x.oN]},{name:[20,3],T:l,l1:[J,x.KH]},{name:[20,2],T:l,l1:[J,x.Ar]},{name:[8,14],T:function(u,N){return{T:u!=null,tK:u!=null&&u.Yb}},U7:!0},{name:[12,36],U7:!0,sub:[{name:"Fullscreen",T:function(u,N){return{tK:document.fullscreenElement!=null}},U7:!0},{name:"Standard",T:function(u,N){return{tK:N.uO==0}}},{name:"Menu Bar and Canvas",T:function(u,N){return{tK:N.uO==1}}}]},{name:[8,13],l1:[J,x.Ip],T:function(u,N){return{tK:N.ms}}},{name:[8,12],U7:!0,sub:[{name:[17,2],T:function(u,N){return{T:N.ms,tK:N.Km.Fe}}},{name:[8,9],T:function(u,N){return{T:N.ms,tK:N.Km.yB}}},{name:[8,2],T:function(u,N){return{T:N.ms,tK:N.Km.Kt}},l1:[J,x.nH]},{name:[8,4],T:function(u,N){return{T:N.ms,tK:N.Km.Ju}},l1:[J,x.Jd]},{name:[8,8],T:function(u,N){return{T:N.ms,tK:N.Km.Um}}},{name:[8,11,0],T:function(u,N){return{T:N.ms,tK:N.Km.IL}}}]},{name:[8,3],T:function(u,N){return{tK:N.Q2}},l1:[J,x.iJ],U7:!0},{name:[8,5],T:function(u,N){return{tK:N.n2}}},{name:[8,6],U7:!0,sub:[{name:[8,2],T:function(u,N){return{tK:N.w4[0]}}},{name:[8,4],T:function(u,N){return{tK:N.w4[1]}}},{name:[9,1],T:function(u,N){return{tK:N.w4[2]}}},{name:[8,11,0],T:function(u,N){return{tK:N.w4[3]}}},{name:[8,7,0],T:function(u,N){return{tK:N.w4[4]}}}]},{name:[11,15,2],T:function(u,N){return{T:u!=null,tK:u!=null&&u.fo}}},{name:[11,15,0],T:l},{name:[11,14],T:l,hV:!0},{name:[11,15,1],T:function(u,N){return{T:u!=null&&u.g.length!=0}},U7:!0},{name:[8,11,2],T:function(u,N){return{T:u!=null&&u.IL.length!=0}}}],Sg:[{K:L.E.f,v:n.PE,C:{d:"zoom",ZD:!0}},{K:L.E.f,v:n.PE,C:{d:"zoom",ZD:!1}},{K:L.E.f,v:n.PE,C:{d:"adapt",b:"fitscr"}},{K:L.E.f,v:n.PE,C:{d:"adapt",b:"pixel"}},{K:L.E.f,v:n.ug,C:{d:"pview"}},{sub:[{K:L.E.N,C:{d:L.H.ri,S6:!0}},{K:L.E.N,C:{d:L.H.ri,b:0}},{K:L.E.N,C:{d:L.H.ri,b:1}},{K:L.E.N,C:{d:L.H.ri,b:2}}]},{K:L.E.N,C:{d:L.H.bS,KJ:h4.v0}},{sub:[{K:L.E.N,C:{d:L.H.bS,KJ:h4.GL}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.Dc}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.yE}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.GI}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.oM}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.dI}}]},{K:L.E.N,C:{d:L.H.bS,KJ:h4.G9}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.aob}},{sub:[{K:L.E.N,C:{d:L.H.bS,KJ:h4.FD,cF:0}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.FD,cF:1}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.FD,cF:2}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.FD,cF:3}},{K:L.E.N,C:{d:L.H.bS,KJ:h4.FD,cF:4}}]},{K:L.E.f,v:n.ug,C:{d:"lockguides"}},{K:L.E.f,v:n.ug,C:{d:"gids",mu:[[],[]]}},{K:L.E.N,C:{d:L.H.yI,AN:"addguides"}},{K:L.E.f,v:n.ug,C:{d:"gidsFromLayer"}},{K:L.E.f,v:n.N0,C:{d:"deleteAll"}}]},function(){var u={name:[0,8],items:[{name:[0,14],U7:!0,sub:[]},{name:"Plugins",U7:!0}],Sg:[{sub:[]},{K:L.E.N,C:{d:L.H.yI,AN:"res1"}}]};
for(var $=0;$<hQ.Wa.length;$++){var N=hQ.Wa[$],e=function(){var B=N.BM.Lh;return function(j,T){return{tK:T.jS.indexOf(parseInt(B))!=-1}}}();
(N.UK?u.items[0].sub:u.items).push({name:N.BM.name,T:e});(N.UK?u.Sg[0].sub:u.Sg).push({K:L.E.N,C:{d:L.H.mW,AN:N.BM.Lh}})}return u}(),function(){var u={name:[0,14],items:[],Sg:[]},N={name:[0,9],sub:[]};
u.items.push(N);var e={sub:[]};u.Sg.push(e);var B=h9.agq();for(var $=0;$<B.length;$++){var j=B[$],T=j.code,a=h9.a3z(T);
N.sub.push({name:j.name,l1:T,T:function(P,v){return{tK:this.l1==h9.$W()}}});e.sub.push({K:L.E.N,C:{d:L.H.bS,KJ:h4.VD,lang:a}})}N.sub.push({name:[0,12]});
e.sub.push({K:L.E.N,C:{d:L.H.pp,link:"https://www.photopea.com/translate/"}});var N={name:[0,15],sub:[]};
u.items.push(N);var e={sub:[]};u.Sg.push(e);for(var $=0;$<a8.Qm.length;$++){N.sub.push({name:a8.Qm[$].name,T:function(P,v){return{tK:this.name==a8.Qm[v.zI].name}}});
e.sub.push({K:L.E.N,C:{d:L.H.bS,KJ:h4.De,zI:$}})}u.items.push({name:[0,17,6],T:function(P,v){return{T:v.m$!=null}}});
u.Sg.push({K:L.E.N,C:{d:L.H.go}});u.items.push({name:[11,13]});u.Sg.push({K:L.E.N,C:{d:L.H.yI,AN:"shortcuts"}});
u.items.push({name:[0,16],T:function(P){return{tK:ai.mB,T:ai.ew}},U7:!0});u.Sg.push({K:L.E.N,C:{d:L.H.aDq}});
u.items.push({name:"",T:function(P,v){return v.Hg?{hI:"About Photopea",T:!0}:{hI:"",T:!1}}});u.Sg.push({K:L.E.N,C:{d:L.H.yI,AN:"aboutpp"}});
return u}()]}();function dk(){gB.call(this);this.n=p.i("div","");this.ee=0;this.bs=0;this.Vh=null;this.nE=p.i("div","");
this.nE.setAttribute("style","width:200em; height:100em; position:absolute;");this.$q=[];this.lj=[];
this.JZ={}}dk.prototype=new gB;dk.prototype.aK=function(x){var J=Date.now(),o=[];if(x=="-"){o=[new dB,new jD,new jJ("pdfpres"),new jJ("cformat"),new jJ("batch"),new jJ("mockups"),new fs,new j$,new g8,new d$,new gu,new fS,new kh,new eo,new bj,new hc,new kb,new bw,new cb,new ky,new fk("isize"),new fk("csize"),new hG,new ku,new iT,new gs,new bn,new bf,new gV,new e3,new fL(!1),new fL(!0),new bm(0),new bm(1),new ds,new ey,new jP,new eR,new bY,new bt,new kg(0),new kg(1),new kg(2),new kg(3),new kg(4),new kg(5),new kg(6),new kg(7),new kg(8),new k9,new dy,new c5,new ke,new kA,new e$,new gx,new i5,new jx(0),new jx(1),new eg("border",[7,9],"px"),new eg("smoothness",[19,3,0],"px"),new eg("expand",[7,4],"px"),new eg("contract",[7,5],"px"),new eg("feather",[7,6],"px"),new dx(0,"namewindow",[12,48]),new dx(2,"billto","Bill To"),new dx(1,"cornerradius",[12,94,0],"px",!0,!0),new dx(1,"scaleeffects",[6,30,1],"%",!0),new dx(1,"doczoom","Zoom","%",!0),new dx(1,"setFPS","Set FPS","fps,120",!1),new dx(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(b5==0){o.push(new bv)}}else o=[new eS(x.slice(4))];this.a15(o);this.JZ[x]=!0};dk.prototype.a15=function(x){var J=this.Vh;
for(var $=0;$<x.length;$++){var o=x[$];o.parent=this;this.lj.push(o);this.H1(o);o._();if(J)o.DL(J,h4.y_);
o.k(L.E.xA,this.nP,this);p.Wo(o)}};dk.prototype.ip=function(x,J){this.ee=x;this.bs=J;for(var $=0;$<this.lj.length;
$++)this.H1(this.lj[$])};dk.prototype._=function(){for(var $=0;$<this.lj.length;$++)this.lj[$]._()};
dk.prototype.NX=function(){return this.$q.length==0?null:this.$q[this.$q.length-1]};dk.prototype.Yv=function(){for(var $=0;
$<this.$q.length;$++)if(this.$q[$].Yv())return!0;return!1};dk.prototype.ad1=function(x,J,o,c,E){var b=x.startsWith("afw_"),l=null;
if(!b&&!this.JZ["-"])this.aK("-");if(b&&!this.JZ[x])this.aK(x);if(typeof x=="object"){l=x;if(!l.alh(L.E.xA,this.nP))l.k(L.E.xA,this.nP,this);
l.parent=this}else for(var $=0;$<this.lj.length;$++)if(this.lj[$].id==x)l=this.lj[$];if(this.Yv()&&l.Yv()){alert("Finish the current action first");
return}if(!l.gy(J))return;if(this.$q.indexOf(l)!=-1){if(x=="colorpicker")l.L8(J,o,c,E);return}var i=this.$q.length-1;
if(i>=0)p.na(this.$q[i].n,"wdisabled");this.n.appendChild(l.n);this.$q.push(l);this.H1(l);p.xS(l);l.L8(J,o,c,E)};
dk.prototype.H1=function(x){var J=this.ee,o=this.bs,c=x.MN(J,o),E;if(c!=null){E=c}else{c=new ck(0,0);
E=x.acE();if(E==null){var b=this.$q.indexOf(x)+1;if(J<450||o<450)E=new ck(0,0);else E=new ck(b*150,b*150)}}x.n.style.left=E.x+"px";
x.n.style.top=this.n.offsetTop+E.y+"px";x.ip(this.ee-c.x*2,this.bs-c.y*2-34)};dk.prototype.DL=function(x,J){this.Vh=x;
for(var $=0;$<this.lj.length;$++)this.lj[$].DL(x,J)};dk.prototype.nP=function(x){var J=this.$q.pop();
p.Wo(J,this.n);var o=this.$q.length-1;if(o>=0)p.ml(this.$q[o].n,"wdisabled");if(this.nE.parentNode==this.n)this.n.removeChild(this.nE)};
window.onload=function(){document.body.appendChild(new aE().n)}}())